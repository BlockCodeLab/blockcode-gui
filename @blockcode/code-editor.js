var K00=Object.defineProperty;var m4=(J,$)=>{for(var X in $)K00(J,X,{get:$[X],enumerable:!0,configurable:!0,set:(Q)=>$[X]=()=>Q})};var N=(J,$)=>()=>(J&&($=J(J=0)),$);function F0(J){const $=globalThis.document,X=$.createElement("style");X.appendChild($.createTextNode(J)),$.head.append(X)}var j1=N(()=>{});function d9(J,$=0){return J[J.length-(1+$)]}function BS(J){if(J.length===0)throw new Error("Invalid tail call");return[J.slice(0,J.length-1),J[J.length-1]]}function $8(J,$,X=(Q,Y)=>Q===Y){if(J===$)return!0;if(!J||!$)return!1;if(J.length!==$.length)return!1;for(let Q=0,Y=J.length;Q<Y;Q++)if(!X(J[Q],$[Q]))return!1;return!0}function jS(J,$){const X=J.length-1;if($<X)J[$]=J[X];J.pop()}function JB(J,$,X){return A00(J.length,(Q)=>X(J[Q],$))}function A00(J,$){let X=0,Q=J-1;while(X<=Q){const Y=(X+Q)/2|0,Z=$(Y);if(Z<0)X=Y+1;else if(Z>0)Q=Y-1;else return Y}return-(X+1)}function eW(J,$,X){if(J=J|0,J>=$.length)throw new TypeError("invalid index");const Q=$[Math.floor($.length*Math.random())],Y=[],Z=[],G=[];for(let q of $){const U=X(q,Q);if(U<0)Y.push(q);else if(U>0)Z.push(q);else G.push(q)}if(J<Y.length)return eW(J,Y,X);else if(J<Y.length+G.length)return G[0];else return eW(J-(Y.length+G.length),Z,X)}function SR(J,$){const X=[];let Q=void 0;for(let Y of J.slice(0).sort($))if(!Q||$(Q[0],Y)!==0)Q=[Y],X.push(Q);else Q.push(Y);return X}function*$B(J,$){let X,Q;for(let Y of J){if(Q!==void 0&&$(Q,Y))X.push(Y);else{if(X)yield X;X=[Y]}Q=Y}if(X)yield X}function XB(J,$){for(let X=0;X<=J.length;X++)$(X===0?void 0:J[X-1],X===J.length?void 0:J[X])}function FS(J,$){for(let X=0;X<J.length;X++)$(X===0?void 0:J[X-1],J[X],X+1===J.length?void 0:J[X+1])}function KS(J){return J.filter(($)=>!!$)}function QB(J){return!Array.isArray(J)||J.length===0}function F5(J){return Array.isArray(J)&&J.length>0}function o5(J,$=(X)=>X){const X=new Set;return J.filter((Q)=>{const Y=$(Q);if(X.has(Y))return!1;return X.add(Y),!0})}function YB(J,$){return J.length>0?J[0]:$}function _7(J,$){let X=typeof $==="number"?J:0;if(typeof $==="number")X=J;else X=0,$=J;const Q=[];if(X<=$)for(let Y=X;Y<$;Y++)Q.push(Y);else for(let Y=X;Y>$;Y--)Q.push(Y);return Q}function RQ(J,$,X){const Q=J.slice(0,$),Y=J.slice($);return Q.concat(X,Y)}function ZB(J,$){const X=J.indexOf($);if(X>-1)J.splice(X,1),J.unshift($)}function O3(J,$){const X=J.indexOf($);if(X>-1)J.splice(X,1),J.push($)}function N3(J,$){for(let X of $)J.push(X)}function AS(J){return Array.isArray(J)?J:[J]}function P00(J,$,X){const Q=PS(J,$),Y=J.length,Z=X.length;J.length=Y+Z;for(let G=Y-1;G>=Q;G--)J[G+Z]=J[G];for(let G=0;G<Z;G++)J[G+Q]=X[G]}function CR(J,$,X,Q){const Y=PS(J,$);let Z=J.splice(Y,X);if(Z===void 0)Z=[];return P00(J,Y,Q),Z}function l6(J,$){return(X,Q)=>$(J(X),J(Q))}function DS(...J){return($,X)=>{for(let Q of J){const Y=Q($,X);if(!M3.isNeitherLessOrGreaterThan(Y))return Y}return M3.neitherLessOrGreaterThan}}function GB(J){return($,X)=>-J($,X)}class d6{constructor(J){this.items=J,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(J){let $=this.firstIdx;while($<this.items.length&&J(this.items[$]))$++;const X=$===this.firstIdx?null:this.items.slice(this.firstIdx,$);return this.firstIdx=$,X}takeFromEndWhile(J){let $=this.lastIdx;while($>=0&&J(this.items[$]))$--;const X=$===this.lastIdx?null:this.items.slice($+1,this.lastIdx+1);return this.lastIdx=$,X}peek(){if(this.length===0)return;return this.items[this.firstIdx]}dequeue(){const J=this.items[this.firstIdx];return this.firstIdx++,J}takeCount(J){const $=this.items.slice(this.firstIdx,this.firstIdx+J);return this.firstIdx+=J,$}}class n5{constructor(J){this.iterate=J}toArray(){const J=[];return this.iterate(($)=>{return J.push($),!0}),J}filter(J){return new n5(($)=>this.iterate((X)=>J(X)?$(X):!0))}map(J){return new n5(($)=>this.iterate((X)=>$(J(X))))}findLast(J){let $;return this.iterate((X)=>{if(J(X))$=X;return!0}),$}findLastMaxBy(J){let $,X=!0;return this.iterate((Q)=>{if(X||M3.isGreaterThan(J(Q,$)))X=!1,$=Q;return!0}),$}}var PS,M3,cJ,RS;var V1=N(()=>{PS=function(J,$){return $<0?Math.max($+J.length,0):Math.min($,J.length)};(function(J){function $(Z){return Z<0}J.isLessThan=$;function X(Z){return Z<=0}J.isLessThanOrEqual=X;function Q(Z){return Z>0}J.isGreaterThan=Q;function Y(Z){return Z===0}J.isNeitherLessOrGreaterThan=Y,J.greaterThan=1,J.lessThan=-1,J.neitherLessOrGreaterThan=0})(M3||(M3={}));cJ=(J,$)=>J-$,RS=(J,$)=>cJ(J?1:0,$?1:0);n5.empty=new n5((J)=>{})});function Z7(J){return typeof J==="string"}function r8(J){return typeof J==="object"&&J!==null&&!Array.isArray(J)&&!(J instanceof RegExp)&&!(J instanceof Date)}function MS(J){const $=Object.getPrototypeOf(Uint8Array);return typeof J==="object"&&J instanceof $}function s9(J){return typeof J==="number"&&!isNaN(J)}function xR(J){return!!J&&typeof J[Symbol.iterator]==="function"}function qB(J){return J===!0||J===!1}function $6(J){return typeof J==="undefined"}function w2(J){return!j6(J)}function j6(J){return $6(J)||J===null}function w7(J,$){if(!J)throw new Error($?`Unexpected type, expected '${$}'`:"Unexpected type")}function OS(J){if(j6(J))throw new Error("Assertion Failed: argument is undefined or null");return J}function L2(J){return typeof J==="function"}function NS(J,$){const X=Math.min(J.length,$.length);for(let Q=0;Q<X;Q++)D00(J[Q],$[Q])}function D00(J,$){if(Z7($)){if(typeof J!==$)throw new Error(`argument does not match constraint: typeof ${$}`)}else if(L2($)){try{if(J instanceof $)return}catch(X){}if(!j6(J)&&J.constructor===$)return;if($.length===1&&$.call(void 0,J)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}var j8=N(()=>{});function u4(J){if(!J||typeof J!=="object")return J;if(J instanceof RegExp)return J;const $=Array.isArray(J)?[]:{};return Object.entries(J).forEach(([X,Q])=>{$[X]=Q&&typeof Q==="object"?u4(Q):Q}),$}function TS(J){if(!J||typeof J!=="object")return J;const $=[J];while($.length>0){const X=$.shift();Object.freeze(X);for(let Q in X)if(_S.call(X,Q)){const Y=X[Q];if(typeof Y==="object"&&!Object.isFrozen(Y)&&!MS(Y))$.push(Y)}}return J}function UB(J,$){return bR(J,$,new Set)}function vR(J,$,X=!0){if(!r8(J))return $;if(r8($))Object.keys($).forEach((Q)=>{if(Q in J){if(X)if(r8(J[Q])&&r8($[Q]))vR(J[Q],$[Q],X);else J[Q]=$[Q]}else J[Q]=$[Q]});return J}function L7(J,$){if(J===$)return!0;if(J===null||J===void 0||$===null||$===void 0)return!1;if(typeof J!==typeof $)return!1;if(typeof J!=="object")return!1;if(Array.isArray(J)!==Array.isArray($))return!1;let X,Q;if(Array.isArray(J)){if(J.length!==$.length)return!1;for(X=0;X<J.length;X++)if(!L7(J[X],$[X]))return!1}else{const Y=[];for(Q in J)Y.push(Q);Y.sort();const Z=[];for(Q in $)Z.push(Q);if(Z.sort(),!L7(Y,Z))return!1;for(X=0;X<Y.length;X++)if(!L7(J[Y[X]],$[Y[X]]))return!1}return!0}function R00(J){let $=[];while(Object.prototype!==J)$=$.concat(Object.getOwnPropertyNames(J)),J=Object.getPrototypeOf(J);return $}function MQ(J){const $=[];for(let X of R00(J))if(typeof J[X]==="function")$.push(X);return $}function wS(J,$){const X=(Y)=>{return function(){const Z=Array.prototype.slice.call(arguments,0);return $(Y,Z)}},Q={};for(let Y of J)Q[Y]=X(Y);return Q}var bR,_S;var U9=N(()=>{j8();bR=function(J,$,X){if(j6(J))return J;const Q=$(J);if(typeof Q!=="undefined")return Q;if(Array.isArray(J)){const Y=[];for(let Z of J)Y.push(bR(Z,$,X));return Y}if(r8(J)){if(X.has(J))throw new Error("Cannot clone recursive data-structure");X.add(J);const Y={};for(let Z in J)if(_S.call(J,Z))Y[Z]=bR(J[Z],$,X);return X.delete(J),Y}return J};_S=Object.prototype.hasOwnProperty});function F(J,$,...X){return O00($,X)}function LS(J){return}var O00,M00;var m0=N(()=>{O00=function(J,$){let X;if($.length===0)X=J;else X=J.replace(/\{(\d+)\}/g,(Q,Y)=>{const Z=Y[0],G=$[Z];let q=Q;if(typeof G==="string")q=G;else if(typeof G==="number"||typeof G==="boolean"||G===void 0||G===null)q=String(G);return q});if(M00)X="\uFF3B"+X.replace(/[aouei]/g,"$&$&")+"\uFF3D";return X};M00=typeof document!=="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0});function vS(){if(!ES){ES=!0;const J=new Uint8Array(2);J[0]=1,J[1]=2,kS=new Uint16Array(J.buffer)[0]===(2<<8)+1}return kS}var fR,I2,w3,L3,_3,N00,yS,pR,T00,mR,_00,SS,HB,hR,IS,w00,dJ,a9,s6,CS,L00,gR,F8,n0,q8,OQ,l4,xS,K5,bS,c4,I00,zB,k6,kS,ES,uR,fS,hS,gS,nZ0;var O1=N(()=>{m0();I2="en",w3=!1,L3=!1,_3=!1,N00=!1,yS=!1,pR=!1,T00=!1,mR=!1,_00=!1,SS=!1,HB=void 0,hR=I2,IS=I2,w00=void 0,dJ=void 0,a9=typeof self==="object"?self:typeof global==="object"?global:{},s6=void 0;if(typeof a9.vscode!=="undefined"&&typeof a9.vscode.process!=="undefined")s6=a9.vscode.process;else if(typeof process!=="undefined")s6=process;CS=typeof((fR=s6===null||s6===void 0?void 0:s6.versions)===null||fR===void 0?void 0:fR.electron)==="string",L00=CS&&(s6===null||s6===void 0?void 0:s6.type)==="renderer";if(typeof navigator==="object"&&!L00)dJ=navigator.userAgent,w3=dJ.indexOf("Windows")>=0,L3=dJ.indexOf("Macintosh")>=0,mR=(dJ.indexOf("Macintosh")>=0||dJ.indexOf("iPad")>=0||dJ.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_3=dJ.indexOf("Linux")>=0,SS=(dJ===null||dJ===void 0?void 0:dJ.indexOf("Mobi"))>=0,pR=!0,HB=LS(F({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||I2,hR=HB,IS=navigator.language;else if(typeof s6==="object"){w3=s6.platform==="win32",L3=s6.platform==="darwin",_3=s6.platform==="linux",N00=_3&&!!s6.env.SNAP&&!!s6.env.SNAP_REVISION,T00=CS,_00=!!s6.env.CI||!!s6.env.BUILD_ARTIFACTSTAGINGDIRECTORY,HB=I2,hR=I2;const J=s6.env.VSCODE_NLS_CONFIG;if(J)try{const $=JSON.parse(J),X=$.availableLanguages["*"];HB=$.locale,IS=$.osLocale,hR=X?X:I2,w00=$._translationsConfigFile}catch($){}yS=!0}else console.error("Unable to resolve platform.");gR=0;if(L3)gR=1;else if(w3)gR=3;else if(_3)gR=2;F8=w3,n0=L3,q8=_3,OQ=yS,l4=pR,xS=pR&&typeof a9.importScripts==="function",K5=mR,bS=SS,c4=dJ,I00=typeof a9.postMessage==="function"&&!a9.importScripts,zB=(()=>{if(I00){const J=[];a9.addEventListener("message",(X)=>{if(X.data&&X.data.vscodeScheduleAsyncWork)for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.id===X.data.vscodeScheduleAsyncWork){J.splice(Q,1),Z.callback();return}}});let $=0;return(X)=>{const Q=++$;J.push({id:Q,callback:X}),a9.postMessage({vscodeScheduleAsyncWork:Q},"*")}}return(J)=>setTimeout(J)})(),k6=L3||mR?2:w3?1:3,kS=!0,ES=!1,uR=!!(c4&&c4.indexOf("Chrome")>=0),fS=!!(c4&&c4.indexOf("Firefox")>=0),hS=!!(!uR&&(c4&&c4.indexOf("Safari")>=0)),gS=!!(c4&&c4.indexOf("Edg/")>=0),nZ0=!!(c4&&c4.indexOf("Android")>=0)});var B7;var I3=N(()=>{B7={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}});var U1;var A5=N(()=>{(function(J){function $(P){return P&&typeof P==="object"&&typeof P[Symbol.iterator]==="function"}J.is=$;const X=Object.freeze([]);function Q(){return X}J.empty=Q;function*Y(P){yield P}J.single=Y;function Z(P){if($(P))return P;else return Y(P)}J.wrap=Z;function G(P){return P||X}J.from=G;function*q(P){for(let R=P.length-1;R>=0;R--)yield P[R]}J.reverse=q;function U(P){return!P||P[Symbol.iterator]().next().done===!0}J.isEmpty=U;function H(P){return P[Symbol.iterator]().next().value}J.first=H;function z(P,R){for(let M of P)if(R(M))return!0;return!1}J.some=z;function V(P,R){for(let M of P)if(R(M))return M;return}J.find=V;function*W(P,R){for(let M of P)if(R(M))yield M}J.filter=W;function*B(P,R){let M=0;for(let T of P)yield R(T,M++)}J.map=B;function*j(...P){for(let R of P)for(let M of R)yield M}J.concat=j;function K(P,R,M){let T=M;for(let _ of P)T=R(T,_);return T}J.reduce=K;function*D(P,R,M=P.length){if(R<0)R+=P.length;if(M<0)M+=P.length;else if(M>P.length)M=P.length;for(;R<M;R++)yield P[R]}J.slice=D;function A(P,R=Number.POSITIVE_INFINITY){const M=[];if(R===0)return[M,P];const T=P[Symbol.iterator]();for(let _=0;_<R;_++){const w=T.next();if(w.done)return[M,J.empty()];M.push(w.value)}return[M,{[Symbol.iterator](){return T}}]}J.consume=A})(U1||(U1={}))});class f8{constructor(J){this.element=J,this.next=f8.Undefined,this.prev=f8.Undefined}}class I8{constructor(){this._first=f8.Undefined,this._last=f8.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f8.Undefined}clear(){let J=this._first;while(J!==f8.Undefined){const $=J.next;J.prev=f8.Undefined,J.next=f8.Undefined,J=$}this._first=f8.Undefined,this._last=f8.Undefined,this._size=0}unshift(J){return this._insert(J,!1)}push(J){return this._insert(J,!0)}_insert(J,$){const X=new f8(J);if(this._first===f8.Undefined)this._first=X,this._last=X;else if($){const Y=this._last;this._last=X,X.prev=Y,Y.next=X}else{const Y=this._first;this._first=X,X.next=Y,Y.prev=X}this._size+=1;let Q=!1;return()=>{if(!Q)Q=!0,this._remove(X)}}shift(){if(this._first===f8.Undefined)return;else{const J=this._first.element;return this._remove(this._first),J}}pop(){if(this._last===f8.Undefined)return;else{const J=this._last.element;return this._remove(this._last),J}}_remove(J){if(J.prev!==f8.Undefined&&J.next!==f8.Undefined){const $=J.prev;$.next=J.next,J.next.prev=$}else if(J.prev===f8.Undefined&&J.next===f8.Undefined)this._first=f8.Undefined,this._last=f8.Undefined;else if(J.next===f8.Undefined)this._last=this._last.prev,this._last.next=f8.Undefined;else if(J.prev===f8.Undefined)this._first=this._first.next,this._first.prev=f8.Undefined;this._size-=1}*[Symbol.iterator](){let J=this._first;while(J!==f8.Undefined)yield J.element,J=J.next}}var P5=N(()=>{f8.Undefined=new f8(void 0)});function VB(J){let $=k3;if(J&&J instanceof RegExp)if(!J.global){let X="g";if(J.ignoreCase)X+="i";if(J.multiline)X+="m";if(J.unicode)X+="u";$=new RegExp(J.source,X)}else $=J;return $.lastIndex=0,$}function NQ(J,$,X,Q,Y){if(!Y)Y=U1.first(pS);if(X.length>Y.maxLen){let H=J-Y.maxLen/2;if(H<0)H=0;else Q+=H;return X=X.substring(H,J+Y.maxLen/2),NQ(J,$,X,Q,Y)}const Z=Date.now(),G=J-1-Q;let q=-1,U=null;for(let H=1;;H++){if(Date.now()-Z>=Y.timeBudget)break;const z=G-Y.windowSize*H;$.lastIndex=Math.max(0,z);const V=E00($,X,G,q);if(!V&&U)break;if(U=V,z<=0)break;q=z}if(U){const H={word:U[0],startColumn:Q+1+U.index,endColumn:Q+1+U.index+U[0].length};return $.lastIndex=0,H}return null}var k00,E00,cR,k3,pS;var k2=N(()=>{A5();P5();k00=function(J=""){let $="(-?\\d*\\.\\d\\w*)|([^";for(let X of cR){if(J.indexOf(X)>=0)continue;$+="\\"+X}return $+="\\s]+)",new RegExp($,"g")};E00=function(J,$,X,Q){let Y;while(Y=J.exec($)){const Z=Y.index||0;if(Z<=X&&J.lastIndex>=X)return Y;else if(Q>0&&Z>Q)return null}return null},cR='`~!@#$%^&*()-=+[{]}\\|;:\'",.<>/?',k3=k00(),pS=new I8;pS.unshift({maxLen:1000,windowSize:15,timeBudget:150})});function R0(J,$){if(typeof J==="undefined")return $;if(J==="false")return!1;return Boolean(J)}function TQ(J,$,X,Q){if(typeof J==="undefined")return $;let Y=parseInt(J,10);if(isNaN(Y))return $;return Y=Math.max(X,Y),Y=Math.min(Q,Y),Y|0}function uS(J,$,X,Q){if(typeof J==="undefined")return $;const Y=e5.float(J,$);return e5.clamp(Y,X,Q)}function h8(J,$,X,Q){if(typeof J!=="string")return $;if(Q&&J in Q)return Q[J];if(X.indexOf(J)===-1)return $;return J}function PZ(J){const $=J.get(97);if($==="editable")return J.get(90);return $==="on"?!1:!0}class y3{constructor(J){this._values=J}hasChanged(J){return this._values[J]}}class WB{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class z8{constructor(J,$,X,Q){this.id=J,this.name=$,this.defaultValue=X,this.schema=Q}applyUpdate(J,$){return BB(J,$)}compute(J,$,X){return X}}class FZ{constructor(J,$){this.newValue=J,this.didChange=$}}class y2{constructor(J){this.schema=void 0,this.id=J,this.name="_never_",this.defaultValue=void 0}applyUpdate(J,$){return BB(J,$)}validate(J){return this.defaultValue}}class AZ{constructor(J,$,X,Q){this.id=J,this.name=$,this.defaultValue=X,this.schema=Q}applyUpdate(J,$){return BB(J,$)}validate(J){if(typeof J==="undefined")return this.defaultValue;return J}compute(J,$,X){return X}}class P1 extends AZ{constructor(J,$,X,Q=void 0){if(typeof Q!=="undefined")Q.type="boolean",Q.default=X;super(J,$,X,Q)}validate(J){return R0(J,this.defaultValue)}}class d1 extends AZ{static clampedInt(J,$,X,Q){return TQ(J,$,X,Q)}constructor(J,$,X,Q,Y,Z=void 0){if(typeof Z!=="undefined")Z.type="integer",Z.default=X,Z.minimum=Q,Z.maximum=Y;super(J,$,X,Z);this.minimum=Q,this.maximum=Y}validate(J){return d1.clampedInt(J,this.defaultValue,this.minimum,this.maximum)}}class e5 extends AZ{static clamp(J,$,X){if(J<$)return $;if(J>X)return X;return J}static float(J,$){if(typeof J==="number")return J;if(typeof J==="undefined")return $;const X=parseFloat(J);return isNaN(X)?$:X}constructor(J,$,X,Q,Y){if(typeof Y!=="undefined")Y.type="number",Y.default=X;super(J,$,X,Y);this.validationFn=Q}validate(J){return this.validationFn(e5.float(J,this.defaultValue))}}class R9 extends AZ{static string(J,$){if(typeof J!=="string")return $;return J}constructor(J,$,X,Q=void 0){if(typeof Q!=="undefined")Q.type="string",Q.default=X;super(J,$,X,Q)}validate(J){return R9.string(J,this.defaultValue)}}class R8 extends AZ{constructor(J,$,X,Q,Y=void 0){if(typeof Y!=="undefined")Y.type="string",Y.enum=Q,Y.default=X;super(J,$,X,Y);this._allowedValues=Q}validate(J){return h8(J,this.defaultValue,this._allowedValues)}}class E3 extends z8{constructor(J,$,X,Q,Y,Z,G=void 0){if(typeof G!=="undefined")G.type="string",G.enum=Y,G.default=Q;super(J,$,X,G);this._allowedValues=Y,this._convert=Z}validate(J){if(typeof J!=="string")return this.defaultValue;if(this._allowedValues.indexOf(J)===-1)return this.defaultValue;return this._convert(J)}}class cS extends z8{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[F("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),F("accessibilitySupport.on","Optimize for usage with a Screen Reader"),F("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:F("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(J){switch(J){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(J,$,X){if(X===0)return J.accessibilitySupport;return X}}class lS extends z8{constructor(){const J={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",J,{"editor.comments.insertSpace":{type:"boolean",default:J.insertSpace,description:F("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:J.ignoreEmptyLines,description:F("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{insertSpace:R0($.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:R0($.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}class dS extends y2{constructor(){super(140)}compute(J,$,X){const Q=["monaco-editor"];if($.get(39))Q.push($.get(39));if(J.extraEditorClassName)Q.push(J.extraEditorClassName);if($.get(73)==="default")Q.push("mouse-default");else if($.get(73)==="copy")Q.push("mouse-copy");if($.get(110))Q.push("showUnused");if($.get(138))Q.push("showDeprecated");return Q.join(" ")}}class sS extends P1{constructor(){super(37,"emptySelectionClipboard",!0,{description:F("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(J,$,X){return X&&J.emptySelectionClipboard}}class aS extends z8{constructor(){const J={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",J,{"editor.find.cursorMoveOnType":{type:"boolean",default:J.cursorMoveOnType,description:F("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:J.seedSearchStringFromSelection,enumDescriptions:[F("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),F("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),F("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:F("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:J.autoFindInSelection,enumDescriptions:[F("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),F("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),F("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:F("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:J.globalFindClipboard,description:F("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:n0},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:J.addExtraSpaceOnTop,description:F("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:J.loop,description:F("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{cursorMoveOnType:R0($.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof J.seedSearchStringFromSelection==="boolean"?J.seedSearchStringFromSelection?"always":"never":h8($.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof J.autoFindInSelection==="boolean"?J.autoFindInSelection?"always":"never":h8($.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:R0($.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:R0($.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:R0($.loop,this.defaultValue.loop)}}}class a6 extends z8{constructor(){super(51,"fontLigatures",a6.OFF,{anyOf:[{type:"boolean",description:F("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:F("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:F("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false")return a6.OFF;if(J==="true")return a6.ON;return J}if(Boolean(J))return a6.ON;return a6.OFF}}class t5 extends z8{constructor(){super(54,"fontVariations",t5.OFF,{anyOf:[{type:"boolean",description:F("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:F("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:F("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false")return t5.OFF;if(J==="true")return t5.TRANSLATE;return J}if(Boolean(J))return t5.TRANSLATE;return t5.OFF}compute(J,$,X){return J.fontInfo.fontVariationSettings}}class rS extends y2{constructor(){super(50)}compute(J,$,X){return J.fontInfo}}class iS extends AZ{constructor(){super(52,"fontSize",M9.fontSize,{type:"number",minimum:6,maximum:100,default:M9.fontSize,description:F("fontSize","Controls the font size in pixels.")})}validate(J){const $=e5.float(J,this.defaultValue);if($===0)return M9.fontSize;return e5.clamp($,6,100)}compute(J,$,X){return J.fontInfo.fontSize}}class d4 extends z8{constructor(){super(53,"fontWeight",M9.fontWeight,{anyOf:[{type:"number",minimum:d4.MINIMUM_VALUE,maximum:d4.MAXIMUM_VALUE,errorMessage:F("fontWeightErrorMessage","Only \"normal\" and \"bold\" keywords or numbers between 1 and 1000 are allowed.")},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:d4.SUGGESTION_VALUES}],default:M9.fontWeight,description:F("fontWeight","Controls the font weight. Accepts \"normal\" and \"bold\" keywords or numbers between 1 and 1000.")})}validate(J){if(J==="normal"||J==="bold")return J;return String(d1.clampedInt(J,M9.fontWeight,d4.MINIMUM_VALUE,d4.MAXIMUM_VALUE))}}class nS extends z8{constructor(){const J={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$={type:"string",enum:["peek","gotoAndPeek","goto"],default:J.multiple,enumDescriptions:[F("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),F("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),F("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},X=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",J,{"editor.gotoLocation.multiple":{deprecationMessage:F("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:F("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},$),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:F("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},$),"editor.gotoLocation.multipleDeclarations":Object.assign({description:F("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},$),"editor.gotoLocation.multipleImplementations":Object.assign({description:F("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},$),"editor.gotoLocation.multipleReferences":Object.assign({description:F("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},$),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:J.alternativeDefinitionCommand,enum:X,description:F("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:J.alternativeTypeDefinitionCommand,enum:X,description:F("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:J.alternativeDeclarationCommand,enum:X,description:F("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:J.alternativeImplementationCommand,enum:X,description:F("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:J.alternativeReferenceCommand,enum:X,description:F("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(J){var $,X,Q,Y,Z;if(!J||typeof J!=="object")return this.defaultValue;const G=J;return{multiple:h8(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:($=G.multipleDefinitions)!==null&&$!==void 0?$:h8(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(X=G.multipleTypeDefinitions)!==null&&X!==void 0?X:h8(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Q=G.multipleDeclarations)!==null&&Q!==void 0?Q:h8(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Y=G.multipleImplementations)!==null&&Y!==void 0?Y:h8(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Z=G.multipleReferences)!==null&&Z!==void 0?Z:h8(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:R9.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:R9.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:R9.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:R9.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:R9.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class oS extends z8{constructor(){const J={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",J,{"editor.hover.enabled":{type:"boolean",default:J.enabled,description:F("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:J.delay,minimum:0,maximum:1e4,description:F("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:J.sticky,description:F("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:J.hidingDelay,description:F("hover.hidingDelay","Controls the delay in milliseconds after thich the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:J.above,description:F("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),delay:d1.clampedInt($.delay,this.defaultValue.delay,0,1e4),sticky:R0($.sticky,this.defaultValue.sticky),hidingDelay:d1.clampedInt($.hidingDelay,this.defaultValue.hidingDelay,0,600000),above:R0($.above,this.defaultValue.above)}}}class KZ extends y2{constructor(){super(143)}compute(J,$,X){return KZ.computeLayout($,{memory:J.memory,outerWidth:J.outerWidth,outerHeight:J.outerHeight,isDominatedByLongLines:J.isDominatedByLongLines,lineHeight:J.fontInfo.lineHeight,viewLineCount:J.viewLineCount,lineNumbersDigitCount:J.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:J.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:J.fontInfo.maxDigitWidth,pixelRatio:J.pixelRatio,glyphMarginDecorationLaneCount:J.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(J){const $=J.height/J.lineHeight,X=Math.floor(J.paddingTop/J.lineHeight);let Q=Math.floor(J.paddingBottom/J.lineHeight);if(J.scrollBeyondLastLine)Q=Math.max(Q,$-1);const Y=(X+J.viewLineCount+Q)/(J.pixelRatio*J.height),Z=Math.floor(J.viewLineCount/Y);return{typicalViewportLineCount:$,extraLinesBeforeFirstLine:X,extraLinesBeyondLastLine:Q,desiredRatio:Y,minimapLineCount:Z}}static _computeMinimapLayout(J,$){const{outerWidth:X,outerHeight:Q,pixelRatio:Y}=J;if(!J.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Y*Q),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Q};const Z=$.stableMinimapLayoutInput,G=Z&&J.outerHeight===Z.outerHeight&&J.lineHeight===Z.lineHeight&&J.typicalHalfwidthCharacterWidth===Z.typicalHalfwidthCharacterWidth&&J.pixelRatio===Z.pixelRatio&&J.scrollBeyondLastLine===Z.scrollBeyondLastLine&&J.paddingTop===Z.paddingTop&&J.paddingBottom===Z.paddingBottom&&J.minimap.enabled===Z.minimap.enabled&&J.minimap.side===Z.minimap.side&&J.minimap.size===Z.minimap.size&&J.minimap.showSlider===Z.minimap.showSlider&&J.minimap.renderCharacters===Z.minimap.renderCharacters&&J.minimap.maxColumn===Z.minimap.maxColumn&&J.minimap.scale===Z.minimap.scale&&J.verticalScrollbarWidth===Z.verticalScrollbarWidth&&J.isViewportWrapping===Z.isViewportWrapping,q=J.lineHeight,U=J.typicalHalfwidthCharacterWidth,H=J.scrollBeyondLastLine,z=J.minimap.renderCharacters;let V=Y>=2?Math.round(J.minimap.scale*2):J.minimap.scale;const W=J.minimap.maxColumn,B=J.minimap.size,j=J.minimap.side,K=J.verticalScrollbarWidth,D=J.viewLineCount,A=J.remainingWidth,P=J.isViewportWrapping,R=z?2:3;let M=Math.floor(Y*Q);const T=M/Y;let _=!1,w=!1,x=R*V,C=V/Y,h=1;if(B==="fill"||B==="fit"){const{typicalViewportLineCount:B0,extraLinesBeforeFirstLine:P0,extraLinesBeyondLastLine:H0,desiredRatio:s0,minimapLineCount:k0}=KZ.computeContainedMinimapLineCount({viewLineCount:D,scrollBeyondLastLine:H,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:Q,lineHeight:q,pixelRatio:Y});if(D/k0>1)_=!0,w=!0,V=1,x=1,C=V/Y;else{let q0=!1,a8=V+1;if(B==="fit"){const B6=Math.ceil((P0+D+H0)*x);if(P&&G&&A<=$.stableFitRemainingWidth)q0=!0,a8=$.stableFitMaxMinimapScale;else q0=B6>M}if(B==="fill"||q0){_=!0;const B6=V;if(x=Math.min(q*Y,Math.max(1,Math.floor(1/s0))),P&&G&&A<=$.stableFitRemainingWidth)a8=$.stableFitMaxMinimapScale;if(V=Math.min(a8,Math.max(1,Math.floor(x/R))),V>B6)h=Math.min(2,V/B6);if(C=V/Y/h,M=Math.ceil(Math.max(B0,P0+D+H0)*x),P)$.stableMinimapLayoutInput=J,$.stableFitRemainingWidth=A,$.stableFitMaxMinimapScale=V;else $.stableMinimapLayoutInput=null,$.stableFitRemainingWidth=0}}}const p=Math.floor(W*C),r=Math.min(p,Math.max(0,Math.floor((A-K-2)*C/(U+C)))+e$);let m=Math.floor(Y*r);const c=m/Y;m=Math.floor(m*h);const Q0=z?1:2,K0=j==="left"?0:X-r-K;return{renderMinimap:Q0,minimapLeft:K0,minimapWidth:r,minimapHeightIsEditorHeight:_,minimapIsSampling:w,minimapScale:V,minimapLineHeight:x,minimapCanvasInnerWidth:m,minimapCanvasInnerHeight:M,minimapCanvasOuterWidth:c,minimapCanvasOuterHeight:T}}static computeLayout(J,$){const X=$.outerWidth|0,Q=$.outerHeight|0,Y=$.lineHeight|0,Z=$.lineNumbersDigitCount|0,G=$.typicalHalfwidthCharacterWidth,q=$.maxDigitWidth,U=$.pixelRatio,H=$.viewLineCount,z=J.get(135),V=z==="inherit"?J.get(134):z,W=V==="inherit"?J.get(130):V,B=J.get(133),j=$.isDominatedByLongLines,K=J.get(57),D=J.get(67).renderType!==0,A=J.get(68),P=J.get(104),R=J.get(83),M=J.get(72),T=J.get(102),_=T.verticalScrollbarSize,w=T.verticalHasArrows,x=T.arrowSize,C=T.horizontalScrollbarSize,h=J.get(43),p=J.get(109)!=="never";let r=J.get(65);if(h&&p)r+=16;let m=0;if(D){const E1=Math.max(Z,A);m=Math.round(E1*q)}let c=0;if(K)c=Y*$.glyphMarginDecorationLaneCount;let Q0=0,K0=Q0+c,B0=K0+m,P0=B0+r;const H0=X-c-m-r;let s0=!1,k0=!1,w0=-1;if(V==="inherit"&&j)s0=!0,k0=!0;else if(W==="on"||W==="bounded")k0=!0;else if(W==="wordWrapColumn")w0=B;const q0=KZ._computeMinimapLayout({outerWidth:X,outerHeight:Q,lineHeight:Y,typicalHalfwidthCharacterWidth:G,pixelRatio:U,scrollBeyondLastLine:P,paddingTop:R.top,paddingBottom:R.bottom,minimap:M,verticalScrollbarWidth:_,viewLineCount:H,remainingWidth:H0,isViewportWrapping:k0},$.memory||new WB);if(q0.renderMinimap!==0&&q0.minimapLeft===0)Q0+=q0.minimapWidth,K0+=q0.minimapWidth,B0+=q0.minimapWidth,P0+=q0.minimapWidth;const a8=H0-q0.minimapWidth,B6=Math.max(1,Math.floor((a8-_-2)/G)),N7=w?x:0;if(k0){if(w0=Math.max(1,B6),W==="bounded")w0=Math.min(w0,B)}return{width:X,height:Q,glyphMarginLeft:Q0,glyphMarginWidth:c,glyphMarginDecorationLaneCount:$.glyphMarginDecorationLaneCount,lineNumbersLeft:K0,lineNumbersWidth:m,decorationsLeft:B0,decorationsWidth:r,contentLeft:P0,contentWidth:a8,minimap:q0,viewportColumn:B6,isWordWrapMinified:s0,isViewportWrapping:k0,wrappingColumn:w0,verticalScrollbarWidth:_,horizontalScrollbarHeight:C,overviewRuler:{top:N7,width:_,height:Q-2*N7,right:0}}}}class tS extends z8{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[F("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),F("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:F("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(J){return h8(J,"simple",["simple","advanced"])}compute(J,$,X){if($.get(2)===2)return"advanced";return X}}class eS extends z8{constructor(){const J={enabled:!0};super(64,"lightbulb",J,{"editor.lightbulb.enabled":{type:"boolean",default:J.enabled,description:F("codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{enabled:R0(J.enabled,this.defaultValue.enabled)}}}class JC extends z8{constructor(){const J={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",J,{"editor.stickyScroll.enabled":{type:"boolean",default:J.enabled,description:F("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:J.maxLineCount,minimum:1,maximum:10,description:F("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:J.defaultModel,description:F("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:J.scrollWithEditor,description:F("editor.stickyScroll.scrollWithEditor","Enable scrolling of the sticky scroll widget with the editor's horizontal scrollbar.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),maxLineCount:d1.clampedInt($.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:h8($.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:R0($.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class $C extends z8{constructor(){const J={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",J,{"editor.inlayHints.enabled":{type:"string",default:J.enabled,description:F("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[F("editor.inlayHints.on","Inlay hints are enabled"),F("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",n0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",n0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:J.fontSize,markdownDescription:F("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:J.fontFamily,markdownDescription:F("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:J.padding,description:F("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;if(typeof $.enabled==="boolean")$.enabled=$.enabled?"on":"off";return{enabled:h8($.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:d1.clampedInt($.fontSize,this.defaultValue.fontSize,0,100),fontFamily:R9.string($.fontFamily,this.defaultValue.fontFamily),padding:R0($.padding,this.defaultValue.padding)}}}class XC extends z8{constructor(){super(65,"lineDecorationsWidth",10)}validate(J){if(typeof J==="string"&&/^\d+(\.\d+)?ch$/.test(J))return-parseFloat(J.substring(0,J.length-2));else return d1.clampedInt(J,this.defaultValue,0,1000)}compute(J,$,X){if(X<0)return d1.clampedInt(-X*J.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1000);else return X}}class QC extends e5{constructor(){super(66,"lineHeight",M9.lineHeight,(J)=>e5.clamp(J,0,150),{markdownDescription:F("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(J,$,X){return J.fontInfo.lineHeight}}class YC extends z8{constructor(){const J={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",J,{"editor.minimap.enabled":{type:"boolean",default:J.enabled,description:F("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:J.autohide,description:F("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[F("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),F("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),F("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:J.size,description:F("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:J.side,description:F("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:J.showSlider,description:F("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:J.scale,minimum:1,maximum:3,enum:[1,2,3],description:F("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:J.renderCharacters,description:F("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:J.maxColumn,description:F("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),autohide:R0($.autohide,this.defaultValue.autohide),size:h8($.size,this.defaultValue.size,["proportional","fill","fit"]),side:h8($.side,this.defaultValue.side,["right","left"]),showSlider:h8($.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:R0($.renderCharacters,this.defaultValue.renderCharacters),scale:d1.clampedInt($.scale,1,1,3),maxColumn:d1.clampedInt($.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}class ZC extends z8{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{top:d1.clampedInt($.top,0,0,1000),bottom:d1.clampedInt($.bottom,0,0,1000)}}}class GC extends z8{constructor(){const J={enabled:!0,cycle:!0};super(85,"parameterHints",J,{"editor.parameterHints.enabled":{type:"boolean",default:J.enabled,description:F("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:J.cycle,description:F("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),cycle:R0($.cycle,this.defaultValue.cycle)}}}class qC extends y2{constructor(){super(141)}compute(J,$,X){return J.pixelRatio}}class UC extends z8{constructor(){const J={other:"on",comments:"off",strings:"off"},$=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[F("on","Quick suggestions show inside the suggest widget"),F("inline","Quick suggestions show as ghost text"),F("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",J,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:$,default:J.strings,description:F("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:$,default:J.comments,description:F("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:$,default:J.other,description:F("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:J,markdownDescription:F("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")});this.defaultValue=J}validate(J){if(typeof J==="boolean"){const U=J?"on":"off";return{comments:U,strings:U,other:U}}if(!J||typeof J!=="object")return this.defaultValue;const{other:$,comments:X,strings:Q}=J,Y=["on","inline","off"];let Z,G,q;if(typeof $==="boolean")Z=$?"on":"off";else Z=h8($,this.defaultValue.other,Y);if(typeof X==="boolean")G=X?"on":"off";else G=h8(X,this.defaultValue.comments,Y);if(typeof Q==="boolean")q=Q?"on":"off";else q=h8(Q,this.defaultValue.strings,Y);return{other:Z,comments:G,strings:q}}}class HC extends z8{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[F("lineNumbers.off","Line numbers are not rendered."),F("lineNumbers.on","Line numbers are rendered as absolute number."),F("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),F("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:F("lineNumbers","Controls the display of line numbers.")})}validate(J){let $=this.defaultValue.renderType,X=this.defaultValue.renderFn;if(typeof J!=="undefined")if(typeof J==="function")$=4,X=J;else if(J==="interval")$=3;else if(J==="relative")$=2;else if(J==="on")$=1;else $=0;return{renderType:$,renderFn:X}}}class zC extends z8{constructor(){const J=[],$={type:"number",description:F("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",J,{type:"array",items:{anyOf:[$,{type:["object"],properties:{column:$,color:{type:"string",description:F("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:J,description:F("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(J){if(Array.isArray(J)){const $=[];for(let X of J)if(typeof X==="number")$.push({column:d1.clampedInt(X,0,0,1e4),color:null});else if(X&&typeof X==="object"){const Q=X;$.push({column:d1.clampedInt(Q.column,0,0,1e4),color:Q.color})}return $.sort((X,Q)=>X.column-Q.column),$}return this.defaultValue}}class VC extends z8{constructor(){super(91,"readOnlyMessage",void 0)}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return J}}class WC extends z8{constructor(){const J={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(102,"scrollbar",J,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),F("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),F("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),F("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),F("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:J.verticalScrollbarSize,description:F("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:J.horizontalScrollbarSize,description:F("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:J.scrollByPage,description:F("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J,X=d1.clampedInt($.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1000),Q=d1.clampedInt($.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1000);return{arrowSize:d1.clampedInt($.arrowSize,this.defaultValue.arrowSize,0,1000),vertical:mS($.vertical,this.defaultValue.vertical),horizontal:mS($.horizontal,this.defaultValue.horizontal),useShadows:R0($.useShadows,this.defaultValue.useShadows),verticalHasArrows:R0($.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:R0($.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:R0($.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:R0($.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:X,horizontalSliderSize:d1.clampedInt($.horizontalSliderSize,X,0,1000),verticalScrollbarSize:Q,verticalSliderSize:d1.clampedInt($.verticalSliderSize,Q,0,1000),scrollByPage:R0($.scrollByPage,this.defaultValue.scrollByPage)}}}class BC extends z8{constructor(){const J={nonBasicASCII:sJ,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:sJ,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",J,{[jZ.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sJ],default:J.nonBasicASCII,description:F("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[jZ.invisibleCharacters]:{restricted:!0,type:"boolean",default:J.invisibleCharacters,description:F("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[jZ.ambiguousCharacters]:{restricted:!0,type:"boolean",default:J.ambiguousCharacters,description:F("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[jZ.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sJ],default:J.includeComments,description:F("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[jZ.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,sJ],default:J.includeStrings,description:F("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[jZ.allowedCharacters]:{restricted:!0,type:"object",default:J.allowedCharacters,description:F("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[jZ.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:J.allowedLocales,description:F("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(J,$){let X=!1;if($.allowedCharacters&&J){if(!L7(J.allowedCharacters,$.allowedCharacters))J=Object.assign(Object.assign({},J),{allowedCharacters:$.allowedCharacters}),X=!0}if($.allowedLocales&&J){if(!L7(J.allowedLocales,$.allowedLocales))J=Object.assign(Object.assign({},J),{allowedLocales:$.allowedLocales}),X=!0}const Q=super.applyUpdate(J,$);if(X)return new FZ(Q.newValue,!0);return Q}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{nonBasicASCII:E2($.nonBasicASCII,sJ,[!0,!1,sJ]),invisibleCharacters:R0($.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:R0($.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:E2($.includeComments,sJ,[!0,!1,sJ]),includeStrings:E2($.includeStrings,sJ,[!0,!1,sJ]),allowedCharacters:this.validateBooleanMap(J.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(J.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(J,$){if(typeof J!=="object"||!J)return $;const X={};for(let[Q,Y]of Object.entries(J))if(Y===!0)X[Q]=!0;return X}}class jC extends z8{constructor(){const J={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(62,"inlineSuggest",J,{"editor.inlineSuggest.enabled":{type:"boolean",default:J.enabled,description:F("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:J.showToolbar,enum:["always","onHover"],enumDescriptions:[F("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),F("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:F("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:J.suppressSuggestions,description:F("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),mode:h8($.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:h8($.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:R0($.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:R0($.keepOnBlur,this.defaultValue.keepOnBlur)}}}class FC extends z8{constructor(){const J={enabled:B7.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:B7.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",J,{"editor.bracketPairColorization.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:J.independentColorPoolPerBracketType,description:F("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:R0($.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class KC extends z8{constructor(){const J={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",J,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairs.true","Enables bracket pair guides."),F("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),F("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:J.bracketPairs,description:F("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),F("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),F("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:J.bracketPairsHorizontal,description:F("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:J.highlightActiveBracketPair,description:F("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:J.indentation,description:F("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[F("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),F("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),F("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:J.highlightActiveIndentation,description:F("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{bracketPairs:E2($.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:E2($.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:R0($.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:R0($.indentation,this.defaultValue.indentation),highlightActiveIndentation:E2($.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}class AC extends z8{constructor(){const J={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",J,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[F("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),F("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:J.insertMode,description:F("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:J.filterGraceful,description:F("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:J.localityBonus,description:F("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:J.shareSuggestSelections,markdownDescription:F("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[F("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),F("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:J.selectionMode,markdownDescription:F("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:J.snippetsPreventQuickSuggestions,description:F("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:J.showIcons,description:F("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:J.showStatusBar,description:F("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:J.preview,description:F("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:J.showInlineDetails,description:F("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:F("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:F("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{insertMode:h8($.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:R0($.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:R0($.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:R0($.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:R0($.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:h8($.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:R0($.showIcons,this.defaultValue.showIcons),showStatusBar:R0($.showStatusBar,this.defaultValue.showStatusBar),preview:R0($.preview,this.defaultValue.preview),previewMode:h8($.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:R0($.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:R0($.showMethods,this.defaultValue.showMethods),showFunctions:R0($.showFunctions,this.defaultValue.showFunctions),showConstructors:R0($.showConstructors,this.defaultValue.showConstructors),showDeprecated:R0($.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:R0($.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:R0($.showFields,this.defaultValue.showFields),showVariables:R0($.showVariables,this.defaultValue.showVariables),showClasses:R0($.showClasses,this.defaultValue.showClasses),showStructs:R0($.showStructs,this.defaultValue.showStructs),showInterfaces:R0($.showInterfaces,this.defaultValue.showInterfaces),showModules:R0($.showModules,this.defaultValue.showModules),showProperties:R0($.showProperties,this.defaultValue.showProperties),showEvents:R0($.showEvents,this.defaultValue.showEvents),showOperators:R0($.showOperators,this.defaultValue.showOperators),showUnits:R0($.showUnits,this.defaultValue.showUnits),showValues:R0($.showValues,this.defaultValue.showValues),showConstants:R0($.showConstants,this.defaultValue.showConstants),showEnums:R0($.showEnums,this.defaultValue.showEnums),showEnumMembers:R0($.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:R0($.showKeywords,this.defaultValue.showKeywords),showWords:R0($.showWords,this.defaultValue.showWords),showColors:R0($.showColors,this.defaultValue.showColors),showFiles:R0($.showFiles,this.defaultValue.showFiles),showReferences:R0($.showReferences,this.defaultValue.showReferences),showFolders:R0($.showFolders,this.defaultValue.showFolders),showTypeParameters:R0($.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:R0($.showSnippets,this.defaultValue.showSnippets),showUsers:R0($.showUsers,this.defaultValue.showUsers),showIssues:R0($.showIssues,this.defaultValue.showIssues)}}}class PC extends z8{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:F("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:F("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{selectLeadingAndTrailingWhitespace:R0(J.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:R0(J.selectSubwords,this.defaultValue.selectSubwords)}}}class DC extends z8{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[F("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),F("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),F("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),F("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:F("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(J){switch(J){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(J,$,X){if($.get(2)===2)return 0;return X}}class RC extends y2{constructor(){super(144)}compute(J,$,X){const Q=$.get(143);return{isDominatedByLongLines:J.isDominatedByLongLines,isWordWrapMinified:Q.isWordWrapMinified,isViewportWrapping:Q.isViewportWrapping,wrappingColumn:Q.wrappingColumn}}}class MC extends z8{constructor(){const J={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",J,{"editor.dropIntoEditor.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:F("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[F("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),F("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),showDropSelector:h8($.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class OC extends z8{constructor(){const J={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",J,{"editor.pasteAs.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:F("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[F("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),F("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:R0($.enabled,this.defaultValue.enabled),showPasteSelector:h8($.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}var BB,y00,S00,C00,x00,mS,E2,o,e$,j7,sJ,jZ,b00,v00,f00,M9,_Q,aJ;var F6=N(()=>{V1();U9();O1();I3();k2();m0();BB=function(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return new FZ($,J!==$);if(Array.isArray(J)||Array.isArray($)){const Q=Array.isArray(J)&&Array.isArray($)&&$8(J,$);return new FZ($,!Q)}let X=!1;for(let Q in $)if($.hasOwnProperty(Q)){const Y=BB(J[Q],$[Q]);if(Y.didChange)J[Q]=Y.newValue,X=!0}return new FZ(J,X)};y00=function(J){switch(J){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},S00=function(J){switch(J){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},C00=function(J){switch(J){case"line":return j7.Line;case"block":return j7.Block;case"underline":return j7.Underline;case"line-thin":return j7.LineThin;case"block-outline":return j7.BlockOutline;case"underline-thin":return j7.UnderlineThin}},x00=function(J){if(J==="ctrlCmd")return n0?"metaKey":"ctrlKey";return"altKey"};mS=function(J,$){if(typeof J!=="string")return $;switch(J){case"hidden":return 2;case"visible":return 3;default:return 1}},E2=function(J,$,X){const Q=X.indexOf(J);if(Q===-1)return $;return X[Q]},o=function(J){return _Q[J.id]=J,J},e$=8;(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(j7||(j7={}));a6.OFF='"liga" off, "calt" off';a6.ON='"liga" on, "calt" on';t5.OFF="normal";t5.TRANSLATE="translate";d4.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];d4.MINIMUM_VALUE=1;d4.MAXIMUM_VALUE=1000;sJ="inUntrustedWorkspace",jZ={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};b00="Consolas, \'Courier New\', monospace",v00="Menlo, Monaco, \'Courier New\', monospace",f00="\'Droid Sans Mono\', \'monospace\', monospace",M9={fontFamily:n0?v00:q8?f00:b00,fontWeight:"normal",fontSize:n0?12:14,lineHeight:0,letterSpacing:0},_Q=[],aJ={acceptSuggestionOnCommitCharacter:o(new P1(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:F("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:o(new R8(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",F("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:F("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:o(new cS),accessibilityPageSize:o(new d1(3,"accessibilityPageSize",10,1,1073741824,{description:F("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:o(new R9(4,"ariaLabel",F("editorViewAccessibleLabel","Editor content"))),ariaRequired:o(new P1(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:o(new P1(8,"screenReaderAnnounceInlineSuggestion",!0,{description:F("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:o(new R8(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),F("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:F("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:o(new R8(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),F("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:F("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:o(new R8(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:o(new R8(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:o(new R8(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),F("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:F("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:o(new E3(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],y00,{enumDescriptions:[F("editor.autoIndent.none","The editor will not insert indentation automatically."),F("editor.autoIndent.keep","The editor will keep the current line's indentation."),F("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),F("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),F("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:F("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:o(new P1(13,"automaticLayout",!1)),autoSurround:o(new R8(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[F("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),F("editor.autoSurround.quotes","Surround with quotes but not brackets."),F("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:F("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:o(new FC),bracketPairGuides:o(new KC),stickyTabStops:o(new P1(115,"stickyTabStops",!1,{description:F("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:o(new P1(17,"codeLens",!0,{description:F("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:o(new R9(18,"codeLensFontFamily","",{description:F("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:o(new d1(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:F("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:o(new P1(20,"colorDecorators",!0,{description:F("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:o(new R8(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[F("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),F("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),F("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:F("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:o(new d1(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:F("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:o(new P1(22,"columnSelection",!1,{description:F("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:o(new lS),contextmenu:o(new P1(24,"contextmenu",!0)),copyWithSyntaxHighlighting:o(new P1(25,"copyWithSyntaxHighlighting",!0,{description:F("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:o(new E3(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],S00,{description:F("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:o(new R8(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[F("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),F("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),F("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:F("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:o(new E3(28,"cursorStyle",j7.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],C00,{description:F("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:o(new d1(29,"cursorSurroundingLines",0,0,1073741824,{description:F("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:o(new R8(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[F("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),F("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:F("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:o(new d1(31,"cursorWidth",0,0,1073741824,{markdownDescription:F("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:o(new P1(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:o(new P1(33,"disableMonospaceOptimizations",!1)),domReadOnly:o(new P1(34,"domReadOnly",!1)),dragAndDrop:o(new P1(35,"dragAndDrop",!0,{description:F("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:o(new sS),dropIntoEditor:o(new MC),stickyScroll:o(new JC),experimentalWhitespaceRendering:o(new R8(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[F("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),F("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),F("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:F("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:o(new R9(39,"extraEditorClassName","")),fastScrollSensitivity:o(new e5(40,"fastScrollSensitivity",5,(J)=>J<=0?5:J,{markdownDescription:F("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:o(new aS),fixedOverflowWidgets:o(new P1(42,"fixedOverflowWidgets",!1)),folding:o(new P1(43,"folding",!0,{description:F("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:o(new R8(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[F("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),F("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:F("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:o(new P1(45,"foldingHighlight",!0,{description:F("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:o(new P1(46,"foldingImportsByDefault",!1,{description:F("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:o(new d1(47,"foldingMaximumRegions",5000,10,65000,{description:F("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:o(new P1(48,"unfoldOnClickAfterEndOfLine",!1,{description:F("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:o(new R9(49,"fontFamily",M9.fontFamily,{description:F("fontFamily","Controls the font family.")})),fontInfo:o(new rS),fontLigatures2:o(new a6),fontSize:o(new iS),fontWeight:o(new d4),fontVariations:o(new t5),formatOnPaste:o(new P1(55,"formatOnPaste",!1,{description:F("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:o(new P1(56,"formatOnType",!1,{description:F("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:o(new P1(57,"glyphMargin",!0,{description:F("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:o(new nS),hideCursorInOverviewRuler:o(new P1(59,"hideCursorInOverviewRuler",!1,{description:F("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:o(new oS),inDiffEditor:o(new P1(61,"inDiffEditor",!1)),letterSpacing:o(new e5(63,"letterSpacing",M9.letterSpacing,(J)=>e5.clamp(J,-5,20),{description:F("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:o(new eS),lineDecorationsWidth:o(new XC),lineHeight:o(new QC),lineNumbers:o(new HC),lineNumbersMinChars:o(new d1(68,"lineNumbersMinChars",5,1,300)),linkedEditing:o(new P1(69,"linkedEditing",!1,{description:F("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:o(new P1(70,"links",!0,{description:F("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:o(new R8(71,"matchBrackets","always",["always","near","never"],{description:F("matchBrackets","Highlight matching brackets.")})),minimap:o(new YC),mouseStyle:o(new R8(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:o(new e5(74,"mouseWheelScrollSensitivity",1,(J)=>J===0?1:J,{markdownDescription:F("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:o(new P1(75,"mouseWheelZoom",!1,{markdownDescription:F("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:o(new P1(76,"multiCursorMergeOverlapping",!0,{description:F("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:o(new E3(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],x00,{markdownEnumDescriptions:[F("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:F({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:o(new R8(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[F("multiCursorPaste.spread","Each cursor pastes a single line of the text."),F("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:F("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:o(new d1(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:F("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:o(new P1(80,"occurrencesHighlight",!0,{description:F("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:o(new P1(81,"overviewRulerBorder",!0,{description:F("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:o(new d1(82,"overviewRulerLanes",3,0,3)),padding:o(new ZC),pasteAs:o(new OC),parameterHints:o(new GC),peekWidgetDefaultFocus:o(new R8(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[F("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),F("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:F("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:o(new P1(87,"definitionLinkOpensInPeek",!1,{description:F("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:o(new UC),quickSuggestionsDelay:o(new d1(89,"quickSuggestionsDelay",10,0,1073741824,{description:F("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:o(new P1(90,"readOnly",!1)),readOnlyMessage:o(new VC),renameOnType:o(new P1(92,"renameOnType",!1,{description:F("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:F("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:o(new P1(93,"renderControlCharacters",!0,{description:F("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:o(new R8(94,"renderFinalNewline",q8?"dimmed":"on",["off","on","dimmed"],{description:F("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:o(new R8(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",F("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:F("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:o(new P1(96,"renderLineHighlightOnlyWhenFocus",!1,{description:F("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:o(new R8(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:o(new R8(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",F("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),F("renderWhitespace.selection","Render whitespace characters only on selected text."),F("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:F("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:o(new d1(99,"revealHorizontalRightPadding",15,0,1000)),roundedSelection:o(new P1(100,"roundedSelection",!0,{description:F("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:o(new zC),scrollbar:o(new WC),scrollBeyondLastColumn:o(new d1(103,"scrollBeyondLastColumn",4,0,1073741824,{description:F("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:o(new P1(104,"scrollBeyondLastLine",!0,{description:F("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:o(new P1(105,"scrollPredominantAxis",!0,{description:F("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:o(new P1(106,"selectionClipboard",!0,{description:F("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:q8})),selectionHighlight:o(new P1(107,"selectionHighlight",!0,{description:F("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:o(new P1(108,"selectOnLineNumbers",!0)),showFoldingControls:o(new R8(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[F("showFoldingControls.always","Always show the folding controls."),F("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),F("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:F("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:o(new P1(110,"showUnused",!0,{description:F("showUnused","Controls fading out of unused code.")})),showDeprecated:o(new P1(138,"showDeprecated",!0,{description:F("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:o(new $C),snippetSuggestions:o(new R8(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[F("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),F("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),F("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),F("snippetSuggestions.none","Do not show snippet suggestions.")],description:F("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:o(new PC),smoothScrolling:o(new P1(113,"smoothScrolling",!1,{description:F("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:o(new d1(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:o(new AC),inlineSuggest:o(new jC),inlineCompletionsAccessibilityVerbose:o(new P1(147,"inlineCompletionsAccessibilityVerbose",!1,{description:F("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:o(new d1(118,"suggestFontSize",0,0,1000,{markdownDescription:F("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:o(new d1(119,"suggestLineHeight",0,0,1000,{markdownDescription:F("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:o(new P1(120,"suggestOnTriggerCharacters",!0,{description:F("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:o(new R8(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[F("suggestSelection.first","Always select the first suggestion."),F("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),F("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:F("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:o(new R8(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[F("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),F("tabCompletion.off","Disable tab completions."),F("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:F("tabCompletion","Enables tab completions.")})),tabIndex:o(new d1(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:o(new BC),unusualLineTerminators:o(new R8(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[F("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),F("unusualLineTerminators.off","Unusual line terminators are ignored."),F("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:F("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:o(new P1(126,"useShadowDOM",!0)),useTabStops:o(new P1(127,"useTabStops",!0,{description:F("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:o(new R8(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[F("wordBreak.normal","Use the default line break rule."),F("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:F("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:o(new R9(129,"wordSeparators",cR,{description:F("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:o(new R8(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),F({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:F({key:"wordWrap",comment:["- \'off\', \'on\', \'wordWrapColumn\' and \'bounded\' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:o(new R9(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:o(new R9(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:o(new d1(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:F({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- \'wordWrapColumn\' and \'bounded\' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:o(new R8(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:o(new R8(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:o(new dS),defaultColorDecorators:o(new P1(145,"defaultColorDecorators",!1,{markdownDescription:F("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:o(new qC),tabFocusMode:o(new P1(142,"tabFocusMode",!1,{markdownDescription:F("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:o(new KZ),wrappingInfo:o(new RC),wrappingIndent:o(new DC),wrappingStrategy:o(new tS)}});function a0(J){if(!s4(J))TC.onUnexpectedError(J);return}function JJ(J){if(!s4(J))TC.onUnexpectedExternalError(J);return}function lR(J){if(J instanceof Error){const{name:$,message:X}=J,Q=J.stacktrace||J.stack;return{$isError:!0,name:$,message:X,stack:Q,noTelemetry:S2.isErrorNoTelemetry(J)}}return J}function s4(J){if(J instanceof JX)return!0;return J instanceof Error&&J.name===jB&&J.message===jB}function _C(){const J=new Error(jB);return J.name=J.message,J}function rJ(J){if(J)return new Error(`Illegal argument: ${J}`);else return new Error("Illegal argument")}function C2(J){if(J)return new Error(`Illegal state: ${J}`);else return new Error("Illegal state")}class NC{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(J){setTimeout(()=>{if(J.stack){if(S2.isErrorNoTelemetry(J))throw new S2(J.message+"\n\n"+J.stack);throw new Error(J.message+"\n\n"+J.stack)}throw J},0)}}emit(J){this.listeners.forEach(($)=>{$(J)})}onUnexpectedError(J){this.unexpectedErrorHandler(J),this.emit(J)}onUnexpectedExternalError(J){this.unexpectedErrorHandler(J)}}class JX extends Error{constructor(){super(jB);this.name=this.message}}class dR extends Error{constructor(J){super("NotSupported");if(J)this.message=J}}class S2 extends Error{constructor(J){super(J);this.name="CodeExpectedError"}static fromError(J){if(J instanceof S2)return J;const $=new S2;return $.message=J.message,$.stack=J.stack,$}static isErrorNoTelemetry(J){return J.name==="CodeExpectedError"}}class n1 extends Error{constructor(J){super(J||"An unexpected bug occurred.");Object.setPrototypeOf(this,n1.prototype)}}var TC,jB;var A1=N(()=>{TC=new NC,jB="Canceled"});function a4(J){const $=this;let X=!1,Q;return function(){if(X)return Q;return X=!0,Q=J.apply($,arguments),Q}}var x2=N(()=>{});function p00(J){O9=J}function DZ(J){return O9===null||O9===void 0||O9.trackDisposable(J),J}function RZ(J){O9===null||O9===void 0||O9.markAsDisposed(J)}function MZ(J){return O9===null||O9===void 0||O9.markAsSingleton(J),J}function KB(J){return typeof J.dispose==="function"&&J.dispose.length===0}function w1(J){if(U1.is(J)){const $=[];for(let X of J)if(X)try{X.dispose()}catch(Q){$.push(Q)}if($.length===1)throw $[0];else if($.length>1)throw new AggregateError($,"Encountered errors while disposing of store");return Array.isArray(J)?[]:J}else if(J)return J.dispose(),J}function E6(...J){const $=N0(()=>w1(J));return m00(J,$),$}function N0(J){const $=DZ({dispose:a4(()=>{RZ($),J()})});return $}class e{constructor(){this._toDispose=new Set,this._isDisposed=!1,DZ(this)}dispose(){if(this._isDisposed)return;RZ(this),this._isDisposed=!0,this.clear()}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size===0)return;try{w1(this._toDispose)}finally{this._toDispose.clear()}}add(J){if(!J)return J;if(J===this)throw new Error("Cannot register a disposable on itself!");if(FB(J,this),this._isDisposed){if(!e.DISABLE_DISPOSED_WARNING)console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack)}else this._toDispose.add(J);return J}deleteAndLeak(J){if(!J)return;if(this._toDispose.has(J))this._toDispose.delete(J),FB(J,null)}}class f{constructor(){this._store=new e,DZ(this),FB(this._store,this)}dispose(){RZ(this),this._store.dispose()}_register(J){if(J===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(J)}}class K6{constructor(){this._isDisposed=!1,DZ(this)}get value(){return this._isDisposed?void 0:this._value}set value(J){var $;if(this._isDisposed||J===this._value)return;if(($=this._value)===null||$===void 0||$.dispose(),J)FB(J,this);this._value=J}clear(){this.value=void 0}dispose(){var J;this._isDisposed=!0,RZ(this),(J=this._value)===null||J===void 0||J.dispose(),this._value=void 0}}class sR{constructor(J){this.object=J}dispose(){}}class OZ{constructor(){this._store=new Map,this._isDisposed=!1,DZ(this)}dispose(){RZ(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!this._store.size)return;try{w1(this._store.values())}finally{this._store.clear()}}get(J){return this._store.get(J)}set(J,$,X=!1){var Q;if(this._isDisposed)console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack);if(!X)(Q=this._store.get(J))===null||Q===void 0||Q.dispose();this._store.set(J,$)}deleteAndDispose(J){var $;($=this._store.get(J))===null||$===void 0||$.dispose(),this._store.delete(J)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}var FB,m00,g00,O9;var $0=N(()=>{x2();A5();FB=function(J,$){O9===null||O9===void 0||O9.setParent(J,$)},m00=function(J,$){if(!O9)return;for(let X of J)O9.setParent(X,$)};g00=!1,O9=null;if(g00)p00(new class{trackDisposable($){const X=new Error("Potentially leaked disposable").stack;setTimeout(()=>{if(!$["__is_disposable_tracked__"])console.log(X)},3000)}setParent($,X){if($&&$!==f.None)try{$["__is_disposable_tracked__"]=!0}catch(Q){}}markAsDisposed($){if($&&$!==f.None)try{$["__is_disposable_tracked__"]=!0}catch(X){}}markAsSingleton($){}});e.DISABLE_DISPOSED_WARNING=!1;f.None=Object.freeze({dispose(){}})});class G7{static create(J){return new G7(J)}constructor(J){this._now=u00&&J===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){if(this._stopTime!==-1)return this._stopTime-this._startTime;return this._now()-this._startTime}}var u00;var r4=N(()=>{u00=globalThis.performance&&typeof globalThis.performance.now==="function"});class b2{constructor(J){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${J}_${b2._idPool++}`,b2.all.add(this)}start(J){this._stopWatch=new G7,this.listenerCount=J}stop(){if(this._stopWatch){const J=this._stopWatch.elapsed();this.durations.push(J),this.elapsedOverall+=J,this.invocationCount+=1,this._stopWatch=void 0}}}class IC{constructor(J,$=Math.random().toString(18).slice(2,5)){this.threshold=J,this.name=$,this._warnCountdown=0}dispose(){var J;(J=this._stacks)===null||J===void 0||J.clear()}check(J,$){const X=this.threshold;if(X<=0||$<X)return;if(!this._stacks)this._stacks=new Map;const Q=this._stacks.get(J.value)||0;if(this._stacks.set(J.value,Q+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=X*0.5;let Y,Z=0;for(let[G,q]of this._stacks)if(!Y||Z<q)Y=G,Z=q;console.warn(`[${this.name}] potential listener LEAK detected, having ${$} listeners already. MOST frequent listener (${Z}):`),console.warn(Y)}return()=>{const Y=this._stacks.get(J.value)||0;this._stacks.set(J.value,Y-1)}}}class C3{static create(){var J;return new C3((J=new Error().stack)!==null&&J!==void 0?J:"")}constructor(J){this.value=J}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class S3{constructor(J){this.value=J}}class E{constructor(J){var $,X,Q,Y,Z;this._size=0,this._options=J,this._leakageMon=LC>0||(($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)?new IC((Q=(X=this._options)===null||X===void 0?void 0:X.leakWarningThreshold)!==null&&Q!==void 0?Q:LC):void 0,this._perfMon=((Y=this._options)===null||Y===void 0?void 0:Y._profName)?new b2(this._options._profName):void 0,this._deliveryQueue=(Z=this._options)===null||Z===void 0?void 0:Z.deliveryQueue}dispose(){var J,$,X,Q;if(!this._disposed){if(this._disposed=!0,((J=this._deliveryQueue)===null||J===void 0?void 0:J.current)===this)this._deliveryQueue.reset();if(this._listeners){if(wC){const Y=this._listeners;queueMicrotask(()=>{d00(Y,(Z)=>{var G;return(G=Z.stack)===null||G===void 0?void 0:G.print()})})}this._listeners=void 0,this._size=0}(X=($=this._options)===null||$===void 0?void 0:$.onDidRemoveLastListener)===null||X===void 0||X.call($),(Q=this._leakageMon)===null||Q===void 0||Q.dispose()}}get event(){var J;return(J=this._event)!==null&&J!==void 0||(this._event=($,X,Q)=>{var Y,Z,G,q,U;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),f.None;if(this._disposed)return f.None;if(X)$=$.bind(X);const H=new S3($);let z,V;if(this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*0.2))H.stack=C3.create(),z=this._leakageMon.check(H.stack,this._size+1);if(wC)H.stack=V!==null&&V!==void 0?V:C3.create();if(!this._listeners)(Z=(Y=this._options)===null||Y===void 0?void 0:Y.onWillAddFirstListener)===null||Z===void 0||Z.call(Y,this),this._listeners=H,(q=(G=this._options)===null||G===void 0?void 0:G.onDidAddFirstListener)===null||q===void 0||q.call(G,this);else if(this._listeners instanceof S3)(U=this._deliveryQueue)!==null&&U!==void 0||(this._deliveryQueue=new aR),this._listeners=[this._listeners,H];else this._listeners.push(H);this._size++;const W=N0(()=>{z===null||z===void 0||z(),this._removeListener(H)});if(Q instanceof e)Q.add(W);else if(Array.isArray(Q))Q.push(W);return W}),this._event}_removeListener(J){var $,X,Q,Y;if((X=($=this._options)===null||$===void 0?void 0:$.onWillRemoveListener)===null||X===void 0||X.call($,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(Y=(Q=this._options)===null||Q===void 0?void 0:Q.onDidRemoveLastListener)===null||Y===void 0||Y.call(Q,this),this._size=0;return}const Z=this._listeners,G=Z.indexOf(J);if(G===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,Z[G]=void 0;const q=this._deliveryQueue.current===this;if(this._size*l00<=Z.length){let U=0;for(let H=0;H<Z.length;H++)if(Z[H])Z[U++]=Z[H];else if(q){if(this._deliveryQueue.end--,U<this._deliveryQueue.i)this._deliveryQueue.i--}Z.length=U}}_deliver(J,$){var X;if(!J)return;const Q=((X=this._options)===null||X===void 0?void 0:X.onListenerError)||a0;if(!Q){J.value($);return}try{J.value($)}catch(Y){Q(Y)}}_deliverQueue(J){const $=J.current._listeners;while(J.i<J.end)this._deliver($[J.i++],J.value);J.reset()}fire(J){var $,X,Q,Y;if(($=this._deliveryQueue)===null||$===void 0?void 0:$.current)this._deliverQueue(this._deliveryQueue),(X=this._perfMon)===null||X===void 0||X.stop();if((Q=this._perfMon)===null||Q===void 0||Q.start(this._size),!this._listeners);else if(this._listeners instanceof S3)this._deliver(this._listeners,J);else{const Z=this._deliveryQueue;Z.enqueue(this,J,this._listeners.length),this._deliverQueue(Z)}(Y=this._perfMon)===null||Y===void 0||Y.stop()}hasListeners(){return this._size>0}}class aR{constructor(){this.i=-1,this.end=0}enqueue(J,$,X){this.i=0,this.end=X,this.current=J,this.value=$}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class $J extends E{constructor(J){super(J);this._isPaused=0,this._eventQueue=new I8,this._mergeFn=J===null||J===void 0?void 0:J.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const J=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(J))}}else while(!this._isPaused&&this._eventQueue.size!==0)super.fire(this._eventQueue.shift())}fire(J){if(this._size)if(this._isPaused!==0)this._eventQueue.push(J);else super.fire(J)}}class x3 extends $J{constructor(J){var $;super(J);this._delay=($=J.delay)!==null&&$!==void 0?$:100}fire(J){if(!this._handle)this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay);super.fire(J)}}class rR extends E{constructor(J){super(J);this._queuedEvents=[],this._mergeFn=J===null||J===void 0?void 0:J.merge}fire(J){if(!this.hasListeners())return;if(this._queuedEvents.push(J),this._queuedEvents.length===1)queueMicrotask(()=>{if(this._mergeFn)super.fire(this._mergeFn(this._queuedEvents));else this._queuedEvents.forEach(($)=>super.fire($));this._queuedEvents=[]})}}class NZ{constructor(){this.buffers=[]}wrapEvent(J){return($,X,Q)=>{return J((Y)=>{const Z=this.buffers[this.buffers.length-1];if(Z)Z.push(()=>$.call(X,Y));else $.call(X,Y)},void 0,Q)}}bufferEvents(J){const $=[];this.buffers.push($);const X=J();return this.buffers.pop(),$.forEach((Q)=>Q()),X}}class AB{constructor(){this.listening=!1,this.inputEvent=Y0.None,this.inputEventListener=f.None,this.emitter=new E({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(J){if(this.inputEvent=J,this.listening)this.inputEventListener.dispose(),this.inputEventListener=J(this.emitter.fire,this.emitter)}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}var wC,c00,Y0,LC,l00,d00,kC;var A0=N(()=>{A1();x2();$0();P5();r4();wC=!1,c00=!1;(function(J){J.None=()=>f.None;function $(m){if(c00){const{onDidAddListener:c}=m,Q0=C3.create();let K0=0;m.onDidAddListener=()=>{if(++K0===2)console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Q0.print();c===null||c===void 0||c()}}}function X(m,c){return W(m,()=>{return},0,void 0,!0,void 0,c)}J.defer=X;function Q(m){return(c,Q0=null,K0)=>{let B0=!1,P0=void 0;if(P0=m((H0)=>{if(B0)return;else if(P0)P0.dispose();else B0=!0;return c.call(Q0,H0)},null,K0),B0)P0.dispose();return P0}}J.once=Q;function Y(m,c,Q0){return z((K0,B0=null,P0)=>m((H0)=>K0.call(B0,c(H0)),null,P0),Q0)}J.map=Y;function Z(m,c,Q0){return z((K0,B0=null,P0)=>m((H0)=>{c(H0),K0.call(B0,H0)},null,P0),Q0)}J.forEach=Z;function G(m,c,Q0){return z((K0,B0=null,P0)=>m((H0)=>c(H0)&&K0.call(B0,H0),null,P0),Q0)}J.filter=G;function q(m){return m}J.signal=q;function U(...m){return(c,Q0=null,K0)=>{const B0=E6(...m.map((P0)=>P0((H0)=>c.call(Q0,H0))));return V(B0,K0)}}J.any=U;function H(m,c,Q0,K0){let B0=Q0;return Y(m,(P0)=>{return B0=c(B0,P0),B0},K0)}J.reduce=H;function z(m,c){let Q0;const K0={onWillAddFirstListener(){Q0=m(B0.fire,B0)},onDidRemoveLastListener(){Q0===null||Q0===void 0||Q0.dispose()}};if(!c)$(K0);const B0=new E(K0);return c===null||c===void 0||c.add(B0),B0.event}function V(m,c){if(c instanceof Array)c.push(m);else if(c)c.add(m);return m}function W(m,c,Q0=100,K0=!1,B0=!1,P0,H0){let s0,k0=void 0,w0=void 0,q0=0,a8;const B6={leakWarningThreshold:P0,onWillAddFirstListener(){s0=m((E1)=>{if(q0++,k0=c(k0,E1),K0&&!w0)N7.fire(k0),k0=void 0;if(a8=()=>{const V7=k0;if(k0=void 0,w0=void 0,!K0||q0>1)N7.fire(V7);q0=0},typeof Q0==="number")clearTimeout(w0),w0=setTimeout(a8,Q0);else if(w0===void 0)w0=0,queueMicrotask(a8)})},onWillRemoveListener(){if(B0&&q0>0)a8===null||a8===void 0||a8()},onDidRemoveLastListener(){a8=void 0,s0.dispose()}};if(!H0)$(B6);const N7=new E(B6);return H0===null||H0===void 0||H0.add(N7),N7.event}J.debounce=W;function B(m,c=0,Q0){return J.debounce(m,(K0,B0)=>{if(!K0)return[B0];return K0.push(B0),K0},c,void 0,!0,void 0,Q0)}J.accumulate=B;function j(m,c=(K0,B0)=>K0===B0,Q0){let K0=!0,B0;return G(m,(P0)=>{const H0=K0||!c(P0,B0);return K0=!1,B0=P0,H0},Q0)}J.latch=j;function K(m,c,Q0){return[J.filter(m,c,Q0),J.filter(m,(K0)=>!c(K0),Q0)]}J.split=K;function D(m,c=!1,Q0=[],K0){let B0=Q0.slice(),P0=m((k0)=>{if(B0)B0.push(k0);else s0.fire(k0)});if(K0)K0.add(P0);const H0=()=>{B0===null||B0===void 0||B0.forEach((k0)=>s0.fire(k0)),B0=null},s0=new E({onWillAddFirstListener(){if(!P0){if(P0=m((k0)=>s0.fire(k0)),K0)K0.add(P0)}},onDidAddFirstListener(){if(B0)if(c)setTimeout(H0);else H0()},onDidRemoveLastListener(){if(P0)P0.dispose();P0=null}});if(K0)K0.add(s0);return s0.event}J.buffer=D;function A(m,c){return(K0,B0,P0)=>{const H0=c(new R);return m(function(s0){const k0=H0.evaluate(s0);if(k0!==P)K0.call(B0,k0)},void 0,P0)}}J.chain=A;const P=Symbol("HaltChainable");class R{constructor(){this.steps=[]}map(m){return this.steps.push(m),this}forEach(m){return this.steps.push((c)=>{return m(c),c}),this}filter(m){return this.steps.push((c)=>m(c)?c:P),this}reduce(m,c){let Q0=c;return this.steps.push((K0)=>{return Q0=m(Q0,K0),Q0}),this}latch(m=(c,Q0)=>c===Q0){let c=!0,Q0;return this.steps.push((K0)=>{const B0=c||!m(K0,Q0);return c=!1,Q0=K0,B0?K0:P}),this}evaluate(m){for(let c of this.steps)if(m=c(m),m===P)break;return m}}function M(m,c,Q0=(K0)=>K0){const K0=(...s0)=>H0.fire(Q0(...s0)),H0=new E({onWillAddFirstListener:()=>m.on(c,K0),onDidRemoveLastListener:()=>m.removeListener(c,K0)});return H0.event}J.fromNodeEventEmitter=M;function T(m,c,Q0=(K0)=>K0){const K0=(...s0)=>H0.fire(Q0(...s0)),H0=new E({onWillAddFirstListener:()=>m.addEventListener(c,K0),onDidRemoveLastListener:()=>m.removeEventListener(c,K0)});return H0.event}J.fromDOMEventEmitter=T;function _(m){return new Promise((c)=>Q(m)(c))}J.toPromise=_;function w(m){const c=new E;return m.then((Q0)=>{c.fire(Q0)},()=>{c.fire(void 0)}).finally(()=>{c.dispose()}),c.event}J.fromPromise=w;function x(m,c){return c(void 0),m((Q0)=>c(Q0))}J.runAndSubscribe=x;function C(m,c){let Q0=null;function K0(P0){Q0===null||Q0===void 0||Q0.dispose(),Q0=new e,c(P0,Q0)}K0(void 0);const B0=m((P0)=>K0(P0));return N0(()=>{B0.dispose(),Q0===null||Q0===void 0||Q0.dispose()})}J.runAndSubscribeWithStore=C;class h{constructor(m,c){this._observable=m,this._counter=0,this._hasChanged=!1;const Q0={onWillAddFirstListener:()=>{m.addObserver(this)},onDidRemoveLastListener:()=>{m.removeObserver(this)}};if(!c)$(Q0);if(this.emitter=new E(Q0),c)c.add(this.emitter)}beginUpdate(m){this._counter++}handlePossibleChange(m){}handleChange(m,c){this._hasChanged=!0}endUpdate(m){if(this._counter--,this._counter===0){if(this._observable.reportChanges(),this._hasChanged)this._hasChanged=!1,this.emitter.fire(this._observable.get())}}}function p(m,c){return new h(m,c).emitter.event}J.fromObservable=p;function r(m){return(c)=>{let Q0=0,K0=!1;const B0={beginUpdate(){Q0++},endUpdate(){if(Q0--,Q0===0){if(m.reportChanges(),K0)K0=!1,c()}},handlePossibleChange(){},handleChange(){K0=!0}};return m.addObserver(B0),m.reportChanges(),{dispose(){m.removeObserver(B0)}}}}J.fromObservableLight=r})(Y0||(Y0={}));b2.all=new Set;b2._idPool=0;LC=-1;l00=2,d00=(J,$)=>{if(J instanceof S3)$(J);else for(let X=0;X<J.length;X++){const Q=J[X];if(Q)$(Q)}};kC=()=>new aR});class b3{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return EC;if(!this._emitter)this._emitter=new E;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=null}}class u8{constructor(J){this._token=void 0,this._parentListener=void 0,this._parentListener=J&&J.onCancellationRequested(this.cancel,this)}get token(){if(!this._token)this._token=new b3;return this._token}cancel(){if(!this._token)this._token=n8.Cancelled;else if(this._token instanceof b3)this._token.cancel()}dispose(J=!1){var $;if(J)this.cancel();if(($=this._parentListener)===null||$===void 0||$.dispose(),!this._token)this._token=n8.None;else if(this._token instanceof b3)this._token.dispose()}}var EC,n8;var v7=N(()=>{A0();EC=Object.freeze(function(J,$){const X=setTimeout(J.bind($),0);return{dispose(){clearTimeout(X)}}});(function(J){function $(X){if(X===J.None||X===J.Cancelled)return!0;if(X instanceof b3)return!0;if(!X||typeof X!=="object")return!1;return typeof X.isCancellationRequested==="boolean"&&typeof X.onCancellationRequested==="function"}J.isCancellationToken=$,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Y0.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:EC})})(n8||(n8={}))});function y6(J,$){const X=($&65535)<<16>>>0;return(J|X)>>>0}class DB{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(J,$){this._keyCodeToStr[J]=$,this._strToKeyCode[$.toLowerCase()]=J}keyCodeToStr(J){return this._keyCodeToStr[J]}strToKeyCode(J){return this._strToKeyCode[J.toLowerCase()]||0}}var PB,iR,nR,tR,a00,r00,i00,n00,RB,oR,XJ;var TZ=N(()=>{PB=new DB,iR=new DB,nR=new DB,tR=new Array(230),a00={},r00=[],i00=Object.create(null),n00=Object.create(null),RB=[],oR=[];for(let J=0;J<=193;J++)RB[J]=-1;for(let J=0;J<=132;J++)oR[J]=-1;(function(){const $=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[1,1,"Hyper",0,"",0,"","",""],[1,2,"Super",0,"",0,"","",""],[1,3,"Fn",0,"",0,"","",""],[1,4,"FnLock",0,"",0,"","",""],[1,5,"Suspend",0,"",0,"","",""],[1,6,"Resume",0,"",0,"","",""],[1,7,"Turbo",0,"",0,"","",""],[1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[1,9,"WakeUp",0,"",0,"","",""],[0,10,"KeyA",31,"A",65,"VK_A","",""],[0,11,"KeyB",32,"B",66,"VK_B","",""],[0,12,"KeyC",33,"C",67,"VK_C","",""],[0,13,"KeyD",34,"D",68,"VK_D","",""],[0,14,"KeyE",35,"E",69,"VK_E","",""],[0,15,"KeyF",36,"F",70,"VK_F","",""],[0,16,"KeyG",37,"G",71,"VK_G","",""],[0,17,"KeyH",38,"H",72,"VK_H","",""],[0,18,"KeyI",39,"I",73,"VK_I","",""],[0,19,"KeyJ",40,"J",74,"VK_J","",""],[0,20,"KeyK",41,"K",75,"VK_K","",""],[0,21,"KeyL",42,"L",76,"VK_L","",""],[0,22,"KeyM",43,"M",77,"VK_M","",""],[0,23,"KeyN",44,"N",78,"VK_N","",""],[0,24,"KeyO",45,"O",79,"VK_O","",""],[0,25,"KeyP",46,"P",80,"VK_P","",""],[0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[0,27,"KeyR",48,"R",82,"VK_R","",""],[0,28,"KeyS",49,"S",83,"VK_S","",""],[0,29,"KeyT",50,"T",84,"VK_T","",""],[0,30,"KeyU",51,"U",85,"VK_U","",""],[0,31,"KeyV",52,"V",86,"VK_V","",""],[0,32,"KeyW",53,"W",87,"VK_W","",""],[0,33,"KeyX",54,"X",88,"VK_X","",""],[0,34,"KeyY",55,"Y",89,"VK_Y","",""],[0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[0,36,"Digit1",22,"1",49,"VK_1","",""],[0,37,"Digit2",23,"2",50,"VK_2","",""],[0,38,"Digit3",24,"3",51,"VK_3","",""],[0,39,"Digit4",25,"4",52,"VK_4","",""],[0,40,"Digit5",26,"5",53,"VK_5","",""],[0,41,"Digit6",27,"6",54,"VK_6","",""],[0,42,"Digit7",28,"7",55,"VK_7","",""],[0,43,"Digit8",29,"8",56,"VK_8","",""],[0,44,"Digit9",30,"9",57,"VK_9","",""],[0,45,"Digit0",21,"0",48,"VK_0","",""],[1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[1,50,"Space",10,"Space",32,"VK_SPACE","",""],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,"",0,"","",""],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"\'",222,"VK_OEM_7","\'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[1,64,"F1",59,"F1",112,"VK_F1","",""],[1,65,"F2",60,"F2",113,"VK_F2","",""],[1,66,"F3",61,"F3",114,"VK_F3","",""],[1,67,"F4",62,"F4",115,"VK_F4","",""],[1,68,"F5",63,"F5",116,"VK_F5","",""],[1,69,"F6",64,"F6",117,"VK_F6","",""],[1,70,"F7",65,"F7",118,"VK_F7","",""],[1,71,"F8",66,"F8",119,"VK_F8","",""],[1,72,"F9",67,"F9",120,"VK_F9","",""],[1,73,"F10",68,"F10",121,"VK_F10","",""],[1,74,"F11",69,"F11",122,"VK_F11","",""],[1,75,"F12",70,"F12",123,"VK_F12","",""],[1,76,"PrintScreen",0,"",0,"","",""],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL","",""],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[1,80,"Home",14,"Home",36,"VK_HOME","",""],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[1,83,"End",13,"End",35,"VK_END","",""],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK","",""],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE","",""],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD","",""],[1,94,"NumpadEnter",3,"",0,"","",""],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1","",""],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2","",""],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3","",""],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4","",""],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5","",""],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6","",""],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7","",""],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8","",""],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9","",""],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0","",""],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL","",""],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102","",""],[1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[1,108,"Power",0,"",0,"","",""],[1,109,"NumpadEqual",0,"",0,"","",""],[1,110,"F13",71,"F13",124,"VK_F13","",""],[1,111,"F14",72,"F14",125,"VK_F14","",""],[1,112,"F15",73,"F15",126,"VK_F15","",""],[1,113,"F16",74,"F16",127,"VK_F16","",""],[1,114,"F17",75,"F17",128,"VK_F17","",""],[1,115,"F18",76,"F18",129,"VK_F18","",""],[1,116,"F19",77,"F19",130,"VK_F19","",""],[1,117,"F20",78,"F20",131,"VK_F20","",""],[1,118,"F21",79,"F21",132,"VK_F21","",""],[1,119,"F22",80,"F22",133,"VK_F22","",""],[1,120,"F23",81,"F23",134,"VK_F23","",""],[1,121,"F24",82,"F24",135,"VK_F24","",""],[1,122,"Open",0,"",0,"","",""],[1,123,"Help",0,"",0,"","",""],[1,124,"Select",0,"",0,"","",""],[1,125,"Again",0,"",0,"","",""],[1,126,"Undo",0,"",0,"","",""],[1,127,"Cut",0,"",0,"","",""],[1,128,"Copy",0,"",0,"","",""],[1,129,"Paste",0,"",0,"","",""],[1,130,"Find",0,"",0,"","",""],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR","",""],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1","",""],[1,136,"KanaMode",0,"",0,"","",""],[0,137,"IntlYen",0,"",0,"","",""],[1,138,"Convert",0,"",0,"","",""],[1,139,"NonConvert",0,"",0,"","",""],[1,140,"Lang1",0,"",0,"","",""],[1,141,"Lang2",0,"",0,"","",""],[1,142,"Lang3",0,"",0,"","",""],[1,143,"Lang4",0,"",0,"","",""],[1,144,"Lang5",0,"",0,"","",""],[1,145,"Abort",0,"",0,"","",""],[1,146,"Props",0,"",0,"","",""],[1,147,"NumpadParenLeft",0,"",0,"","",""],[1,148,"NumpadParenRight",0,"",0,"","",""],[1,149,"NumpadBackspace",0,"",0,"","",""],[1,150,"NumpadMemoryStore",0,"",0,"","",""],[1,151,"NumpadMemoryRecall",0,"",0,"","",""],[1,152,"NumpadMemoryClear",0,"",0,"","",""],[1,153,"NumpadMemoryAdd",0,"",0,"","",""],[1,154,"NumpadMemorySubtract",0,"",0,"","",""],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR","",""],[1,156,"NumpadClearEntry",0,"",0,"","",""],[1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[1,0,"",4,"Shift",16,"VK_SHIFT","",""],[1,0,"",6,"Alt",18,"VK_MENU","",""],[1,0,"",57,"Meta",91,"VK_COMMAND","",""],[1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[1,163,"AltRight",6,"",0,"VK_RMENU","",""],[1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[1,165,"BrightnessUp",0,"",0,"","",""],[1,166,"BrightnessDown",0,"",0,"","",""],[1,167,"MediaPlay",0,"",0,"","",""],[1,168,"MediaRecord",0,"",0,"","",""],[1,169,"MediaFastForward",0,"",0,"","",""],[1,170,"MediaRewind",0,"",0,"","",""],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP","",""],[1,174,"Eject",0,"",0,"","",""],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[1,180,"SelectTask",0,"",0,"","",""],[1,181,"LaunchScreenSaver",0,"",0,"","",""],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME","",""],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK","",""],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[1,189,"ZoomToggle",0,"",0,"","",""],[1,190,"MailReply",0,"",0,"","",""],[1,191,"MailForward",0,"",0,"","",""],[1,192,"MailSend",0,"",0,"","",""],[1,0,"",114,"KeyInComposition",229,"","",""],[1,0,"",116,"ABNT_C2",194,"VK_ABNT_C2","",""],[1,0,"",96,"OEM_8",223,"VK_OEM_8","",""],[1,0,"",0,"",0,"VK_KANA","",""],[1,0,"",0,"",0,"VK_HANGUL","",""],[1,0,"",0,"",0,"VK_JUNJA","",""],[1,0,"",0,"",0,"VK_FINAL","",""],[1,0,"",0,"",0,"VK_HANJA","",""],[1,0,"",0,"",0,"VK_KANJI","",""],[1,0,"",0,"",0,"VK_CONVERT","",""],[1,0,"",0,"",0,"VK_NONCONVERT","",""],[1,0,"",0,"",0,"VK_ACCEPT","",""],[1,0,"",0,"",0,"VK_MODECHANGE","",""],[1,0,"",0,"",0,"VK_SELECT","",""],[1,0,"",0,"",0,"VK_PRINT","",""],[1,0,"",0,"",0,"VK_EXECUTE","",""],[1,0,"",0,"",0,"VK_SNAPSHOT","",""],[1,0,"",0,"",0,"VK_HELP","",""],[1,0,"",0,"",0,"VK_APPS","",""],[1,0,"",0,"",0,"VK_PROCESSKEY","",""],[1,0,"",0,"",0,"VK_PACKET","",""],[1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[1,0,"",0,"",0,"VK_ATTN","",""],[1,0,"",0,"",0,"VK_CRSEL","",""],[1,0,"",0,"",0,"VK_EXSEL","",""],[1,0,"",0,"",0,"VK_EREOF","",""],[1,0,"",0,"",0,"VK_PLAY","",""],[1,0,"",0,"",0,"VK_ZOOM","",""],[1,0,"",0,"",0,"VK_NONAME","",""],[1,0,"",0,"",0,"VK_PA1","",""],[1,0,"",0,"",0,"VK_OEM_CLEAR","",""]],X=[],Q=[];for(let Y of $){const[Z,G,q,U,H,z,V,W,B]=Y;if(!Q[G]){if(Q[G]=!0,r00[G]=q,i00[q]=G,n00[q.toLowerCase()]=G,Z){if(RB[G]=U,U!==0&&U!==3&&U!==5&&U!==4&&U!==6&&U!==57)oR[U]=G}}if(!X[U]){if(X[U]=!0,!H)throw new Error(`String representation missing for key code ${U} around scan code ${q}`);PB.define(U,H),iR.define(U,W||H),nR.define(U,B||W||H)}if(z)tR[z]=U;if(V)a00[V]=U}oR[3]=46})();(function(J){function $(q){return PB.keyCodeToStr(q)}J.toString=$;function X(q){return PB.strToKeyCode(q)}J.fromString=X;function Q(q){return iR.keyCodeToStr(q)}J.toUserSettingsUS=Q;function Y(q){return nR.keyCodeToStr(q)}J.toUserSettingsGeneral=Y;function Z(q){return iR.strToKeyCode(q)||nR.strToKeyCode(q)}J.fromUserSettings=Z;function G(q){if(q>=98&&q<=113)return null;switch(q){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return PB.keyCodeToStr(q)}J.toElectronAccelerator=G})(XJ||(XJ={}))});var v2,v3,MB,yC;var eR=N(()=>{O1();if(typeof a9.vscode!=="undefined"&&typeof a9.vscode.process!=="undefined"){const J=a9.vscode.process;v2={get platform(){return J.platform},get arch(){return J.arch},get env(){return J.env},cwd(){return J.cwd()}}}else if(typeof process!=="undefined")v2={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}};else v2={get platform(){return F8?"win32":n0?"darwin":"linux"},get arch(){return},get env(){return{}},cwd(){return"/"}};v3=v2.cwd,MB=v2.env,yC=v2.platform});class $M extends Error{constructor(J,$,X){let Q;if(typeof $==="string"&&$.indexOf("not ")===0)Q="must not be",$=$.replace(/^not /,"");else Q="must be";const Y=J.indexOf(".")!==-1?"property":"argument";let Z=`The "${J}" ${Y} ${Q} of type ${$}`;Z+=`. Received type ${typeof X}`;super(Z);this.code="ERR_INVALID_ARG_TYPE"}}var Q10,I7,b1,JM,LQ,OB,SC,t00,e00,J10,$10,IQ,S6,r9,wQ,X10,kQ,H9,Y10,M8,NB,CC,xC,TB,QJ,bC,iJ;var $X=N(()=>{eR();Q10=function(J,$){if(J===null||typeof J!=="object")throw new $M($,"Object",J)},I7=function(J,$){if(typeof J!=="string")throw new $M($,"string",J)},b1=function(J){return J===S6||J===r9},JM=function(J){return J===S6},LQ=function(J){return J>=t00&&J<=J10||J>=e00&&J<=$10},OB=function(J,$,X,Q){let Y="",Z=0,G=-1,q=0,U=0;for(let H=0;H<=J.length;++H){if(H<J.length)U=J.charCodeAt(H);else if(Q(U))break;else U=S6;if(Q(U)){if(G===H-1||q===1);else if(q===2){if(Y.length<2||Z!==2||Y.charCodeAt(Y.length-1)!==IQ||Y.charCodeAt(Y.length-2)!==IQ){if(Y.length>2){const z=Y.lastIndexOf(X);if(z===-1)Y="",Z=0;else Y=Y.slice(0,z),Z=Y.length-1-Y.lastIndexOf(X);G=H,q=0;continue}else if(Y.length!==0){Y="",Z=0,G=H,q=0;continue}}if($)Y+=Y.length>0?`${X}..`:"..",Z=2}else{if(Y.length>0)Y+=`${X}${J.slice(G+1,H)}`;else Y=J.slice(G+1,H);Z=H-G-1}G=H,q=0}else if(U===IQ&&q!==-1)++q;else q=-1}return Y},SC=function(J,$){Q10($,"pathObject");const X=$.dir||$.root,Q=$.base||`${$.name||""}${$.ext||""}`;if(!X)return Q;return X===$.root?`${X}${Q}`:`${X}${J}${Q}`},t00=65,e00=97,J10=90,$10=122,IQ=46,S6=47,r9=92,wQ=58,X10=63;kQ=yC==="win32",H9={resolve(...J){let $="",X="",Q=!1;for(let Y=J.length-1;Y>=-1;Y--){let Z;if(Y>=0){if(Z=J[Y],I7(Z,"path"),Z.length===0)continue}else if($.length===0)Z=v3();else if(Z=MB[`=${$}`]||v3(),Z===void 0||Z.slice(0,2).toLowerCase()!==$.toLowerCase()&&Z.charCodeAt(2)===r9)Z=`${$}\\`;const G=Z.length;let q=0,U="",H=!1;const z=Z.charCodeAt(0);if(G===1){if(b1(z))q=1,H=!0}else if(b1(z))if(H=!0,b1(Z.charCodeAt(1))){let V=2,W=V;while(V<G&&!b1(Z.charCodeAt(V)))V++;if(V<G&&V!==W){const B=Z.slice(W,V);W=V;while(V<G&&b1(Z.charCodeAt(V)))V++;if(V<G&&V!==W){W=V;while(V<G&&!b1(Z.charCodeAt(V)))V++;if(V===G||V!==W)U=`\\\\${B}\\${Z.slice(W,V)}`,q=V}}}else q=1;else if(LQ(z)&&Z.charCodeAt(1)===wQ){if(U=Z.slice(0,2),q=2,G>2&&b1(Z.charCodeAt(2)))H=!0,q=3}if(U.length>0)if($.length>0){if(U.toLowerCase()!==$.toLowerCase())continue}else $=U;if(Q){if($.length>0)break}else if(X=`${Z.slice(q)}\\${X}`,Q=H,H&&$.length>0)break}return X=OB(X,!Q,"\\",b1),Q?`${$}\\${X}`:`${$}${X}`||"."},normalize(J){I7(J,"path");const $=J.length;if($===0)return".";let X=0,Q,Y=!1;const Z=J.charCodeAt(0);if($===1)return JM(Z)?"\\":J;if(b1(Z))if(Y=!0,b1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!b1(J.charCodeAt(q)))q++;if(q<$&&q!==U){const H=J.slice(U,q);U=q;while(q<$&&b1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!b1(J.charCodeAt(q)))q++;if(q===$)return`\\\\${H}\\${J.slice(U)}\\`;if(q!==U)Q=`\\\\${H}\\${J.slice(U,q)}`,X=q}}}else X=1;else if(LQ(Z)&&J.charCodeAt(1)===wQ){if(Q=J.slice(0,2),X=2,$>2&&b1(J.charCodeAt(2)))Y=!0,X=3}let G=X<$?OB(J.slice(X),!Y,"\\",b1):"";if(G.length===0&&!Y)G=".";if(G.length>0&&b1(J.charCodeAt($-1)))G+="\\";if(Q===void 0)return Y?`\\${G}`:G;return Y?`${Q}\\${G}`:`${Q}${G}`},isAbsolute(J){I7(J,"path");const $=J.length;if($===0)return!1;const X=J.charCodeAt(0);return b1(X)||$>2&&LQ(X)&&J.charCodeAt(1)===wQ&&b1(J.charCodeAt(2))},join(...J){if(J.length===0)return".";let $,X;for(let Z=0;Z<J.length;++Z){const G=J[Z];if(I7(G,"path"),G.length>0)if($===void 0)$=X=G;else $+=`\\${G}`}if($===void 0)return".";let Q=!0,Y=0;if(typeof X==="string"&&b1(X.charCodeAt(0))){++Y;const Z=X.length;if(Z>1&&b1(X.charCodeAt(1))){if(++Y,Z>2)if(b1(X.charCodeAt(2)))++Y;else Q=!1}}if(Q){while(Y<$.length&&b1($.charCodeAt(Y)))Y++;if(Y>=2)$=`\\${$.slice(Y)}`}return H9.normalize($)},relative(J,$){if(I7(J,"from"),I7($,"to"),J===$)return"";const X=H9.resolve(J),Q=H9.resolve($);if(X===Q)return"";if(J=X.toLowerCase(),$=Q.toLowerCase(),J===$)return"";let Y=0;while(Y<J.length&&J.charCodeAt(Y)===r9)Y++;let Z=J.length;while(Z-1>Y&&J.charCodeAt(Z-1)===r9)Z--;const G=Z-Y;let q=0;while(q<$.length&&$.charCodeAt(q)===r9)q++;let U=$.length;while(U-1>q&&$.charCodeAt(U-1)===r9)U--;const H=U-q,z=G<H?G:H;let V=-1,W=0;for(;W<z;W++){const j=J.charCodeAt(Y+W);if(j!==$.charCodeAt(q+W))break;else if(j===r9)V=W}if(W!==z){if(V===-1)return Q}else{if(H>z){if($.charCodeAt(q+W)===r9)return Q.slice(q+W+1);if(W===2)return Q.slice(q+W)}if(G>z){if(J.charCodeAt(Y+W)===r9)V=W;else if(W===2)V=3}if(V===-1)V=0}let B="";for(W=Y+V+1;W<=Z;++W)if(W===Z||J.charCodeAt(W)===r9)B+=B.length===0?"..":"\\..";if(q+=V,B.length>0)return`${B}${Q.slice(q,U)}`;if(Q.charCodeAt(q)===r9)++q;return Q.slice(q,U)},toNamespacedPath(J){if(typeof J!=="string"||J.length===0)return J;const $=H9.resolve(J);if($.length<=2)return J;if($.charCodeAt(0)===r9){if($.charCodeAt(1)===r9){const X=$.charCodeAt(2);if(X!==X10&&X!==IQ)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(LQ($.charCodeAt(0))&&$.charCodeAt(1)===wQ&&$.charCodeAt(2)===r9)return`\\\\?\\${$}`;return J},dirname(J){I7(J,"path");const $=J.length;if($===0)return".";let X=-1,Q=0;const Y=J.charCodeAt(0);if($===1)return b1(Y)?J:".";if(b1(Y)){if(X=Q=1,b1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!b1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&b1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!b1(J.charCodeAt(q)))q++;if(q===$)return J;if(q!==U)X=Q=q+1}}}}else if(LQ(Y)&&J.charCodeAt(1)===wQ)X=$>2&&b1(J.charCodeAt(2))?3:2,Q=X;let Z=-1,G=!0;for(let q=$-1;q>=Q;--q)if(b1(J.charCodeAt(q))){if(!G){Z=q;break}}else G=!1;if(Z===-1){if(X===-1)return".";Z=X}return J.slice(0,Z)},basename(J,$){if($!==void 0)I7($,"ext");I7(J,"path");let X=0,Q=-1,Y=!0,Z;if(J.length>=2&&LQ(J.charCodeAt(0))&&J.charCodeAt(1)===wQ)X=2;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=X;--Z){const U=J.charCodeAt(Z);if(b1(U)){if(!Y){X=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)Q=Z}else G=-1,Q=q}}if(X===Q)Q=q;else if(Q===-1)Q=J.length;return J.slice(X,Q)}for(Z=J.length-1;Z>=X;--Z)if(b1(J.charCodeAt(Z))){if(!Y){X=Z+1;break}}else if(Q===-1)Y=!1,Q=Z+1;if(Q===-1)return"";return J.slice(X,Q)},extname(J){I7(J,"path");let $=0,X=-1,Q=0,Y=-1,Z=!0,G=0;if(J.length>=2&&J.charCodeAt(1)===wQ&&LQ(J.charCodeAt(0)))$=Q=2;for(let q=J.length-1;q>=$;--q){const U=J.charCodeAt(q);if(b1(U)){if(!Z){Q=q+1;break}continue}if(Y===-1)Z=!1,Y=q+1;if(U===IQ){if(X===-1)X=q;else if(G!==1)G=1}else if(X!==-1)G=-1}if(X===-1||Y===-1||G===0||G===1&&X===Y-1&&X===Q+1)return"";return J.slice(X,Y)},format:SC.bind(null,"\\"),parse(J){I7(J,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;const X=J.length;let Q=0,Y=J.charCodeAt(0);if(X===1){if(b1(Y))return $.root=$.dir=J,$;return $.base=$.name=J,$}if(b1(Y)){if(Q=1,b1(J.charCodeAt(1))){let V=2,W=V;while(V<X&&!b1(J.charCodeAt(V)))V++;if(V<X&&V!==W){W=V;while(V<X&&b1(J.charCodeAt(V)))V++;if(V<X&&V!==W){W=V;while(V<X&&!b1(J.charCodeAt(V)))V++;if(V===X)Q=V;else if(V!==W)Q=V+1}}}}else if(LQ(Y)&&J.charCodeAt(1)===wQ){if(X<=2)return $.root=$.dir=J,$;if(Q=2,b1(J.charCodeAt(2))){if(X===3)return $.root=$.dir=J,$;Q=3}}if(Q>0)$.root=J.slice(0,Q);let Z=-1,G=Q,q=-1,U=!0,H=J.length-1,z=0;for(;H>=Q;--H){if(Y=J.charCodeAt(H),b1(Y)){if(!U){G=H+1;break}continue}if(q===-1)U=!1,q=H+1;if(Y===IQ){if(Z===-1)Z=H;else if(z!==1)z=1}else if(Z!==-1)z=-1}if(q!==-1)if(Z===-1||z===0||z===1&&Z===q-1&&Z===G+1)$.base=$.name=J.slice(G,q);else $.name=J.slice(G,Z),$.base=J.slice(G,q),$.ext=J.slice(Z,q);if(G>0&&G!==Q)$.dir=J.slice(0,G-1);else $.dir=$.root;return $},sep:"\\",delimiter:";",win32:null,posix:null},Y10=(()=>{if(kQ){const J=/\\/g;return()=>{const $=v3().replace(J,"/");return $.slice($.indexOf("/"))}}return()=>v3()})(),M8={resolve(...J){let $="",X=!1;for(let Q=J.length-1;Q>=-1&&!X;Q--){const Y=Q>=0?J[Q]:Y10();if(I7(Y,"path"),Y.length===0)continue;$=`${Y}/${$}`,X=Y.charCodeAt(0)===S6}if($=OB($,!X,"/",JM),X)return`/${$}`;return $.length>0?$:"."},normalize(J){if(I7(J,"path"),J.length===0)return".";const $=J.charCodeAt(0)===S6,X=J.charCodeAt(J.length-1)===S6;if(J=OB(J,!$,"/",JM),J.length===0){if($)return"/";return X?"./":"."}if(X)J+="/";return $?`/${J}`:J},isAbsolute(J){return I7(J,"path"),J.length>0&&J.charCodeAt(0)===S6},join(...J){if(J.length===0)return".";let $;for(let X=0;X<J.length;++X){const Q=J[X];if(I7(Q,"path"),Q.length>0)if($===void 0)$=Q;else $+=`/${Q}`}if($===void 0)return".";return M8.normalize($)},relative(J,$){if(I7(J,"from"),I7($,"to"),J===$)return"";if(J=M8.resolve(J),$=M8.resolve($),J===$)return"";const X=1,Q=J.length,Y=Q-X,Z=1,G=$.length-Z,q=Y<G?Y:G;let U=-1,H=0;for(;H<q;H++){const V=J.charCodeAt(X+H);if(V!==$.charCodeAt(Z+H))break;else if(V===S6)U=H}if(H===q){if(G>q){if($.charCodeAt(Z+H)===S6)return $.slice(Z+H+1);if(H===0)return $.slice(Z+H)}else if(Y>q){if(J.charCodeAt(X+H)===S6)U=H;else if(H===0)U=0}}let z="";for(H=X+U+1;H<=Q;++H)if(H===Q||J.charCodeAt(H)===S6)z+=z.length===0?"..":"/..";return`${z}${$.slice(Z+U)}`},toNamespacedPath(J){return J},dirname(J){if(I7(J,"path"),J.length===0)return".";const $=J.charCodeAt(0)===S6;let X=-1,Q=!0;for(let Y=J.length-1;Y>=1;--Y)if(J.charCodeAt(Y)===S6){if(!Q){X=Y;break}}else Q=!1;if(X===-1)return $?"/":".";if($&&X===1)return"//";return J.slice(0,X)},basename(J,$){if($!==void 0)I7($,"ext");I7(J,"path");let X=0,Q=-1,Y=!0,Z;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=0;--Z){const U=J.charCodeAt(Z);if(U===S6){if(!Y){X=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)Q=Z}else G=-1,Q=q}}if(X===Q)Q=q;else if(Q===-1)Q=J.length;return J.slice(X,Q)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===S6){if(!Y){X=Z+1;break}}else if(Q===-1)Y=!1,Q=Z+1;if(Q===-1)return"";return J.slice(X,Q)},extname(J){I7(J,"path");let $=-1,X=0,Q=-1,Y=!0,Z=0;for(let G=J.length-1;G>=0;--G){const q=J.charCodeAt(G);if(q===S6){if(!Y){X=G+1;break}continue}if(Q===-1)Y=!1,Q=G+1;if(q===IQ){if($===-1)$=G;else if(Z!==1)Z=1}else if($!==-1)Z=-1}if($===-1||Q===-1||Z===0||Z===1&&$===Q-1&&$===X+1)return"";return J.slice($,Q)},format:SC.bind(null,"/"),parse(J){I7(J,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;const X=J.charCodeAt(0)===S6;let Q;if(X)$.root="/",Q=1;else Q=0;let Y=-1,Z=0,G=-1,q=!0,U=J.length-1,H=0;for(;U>=Q;--U){const z=J.charCodeAt(U);if(z===S6){if(!q){Z=U+1;break}continue}if(G===-1)q=!1,G=U+1;if(z===IQ){if(Y===-1)Y=U;else if(H!==1)H=1}else if(Y!==-1)H=-1}if(G!==-1){const z=Z===0&&X?1:Z;if(Y===-1||H===0||H===1&&Y===G-1&&Y===Z+1)$.base=$.name=J.slice(z,G);else $.name=J.slice(z,Y),$.base=J.slice(z,G),$.ext=J.slice(Y,G)}if(Z>0)$.dir=J.slice(0,Z-1);else if(X)$.dir="/";return $},sep:"/",delimiter:":",win32:null,posix:null};M8.win32=H9.win32=H9;M8.posix=H9.posix=M8;NB=kQ?H9.normalize:M8.normalize,CC=kQ?H9.resolve:M8.resolve,xC=kQ?H9.relative:M8.relative,TB=kQ?H9.dirname:M8.dirname,QJ=kQ?H9.basename:M8.basename,bC=kQ?H9.extname:M8.extname,iJ=kQ?H9.sep:M8.sep});function f3(J,$){let X;if(J.authority&&J.path.length>1&&J.scheme==="file")X=`//${J.authority}${J.path}`;else if(J.path.charCodeAt(0)===47&&(J.path.charCodeAt(1)>=65&&J.path.charCodeAt(1)<=90||J.path.charCodeAt(1)>=97&&J.path.charCodeAt(1)<=122)&&J.path.charCodeAt(2)===58)if(!$)X=J.path[1].toLowerCase()+J.path.substr(2);else X=J.path.substr(1);else X=J.path;if(F8)X=X.replace(/\//g,"\\");return X}class I0{static isUri(J){if(J instanceof I0)return!0;if(!J)return!1;return typeof J.authority==="string"&&typeof J.fragment==="string"&&typeof J.path==="string"&&typeof J.query==="string"&&typeof J.scheme==="string"&&typeof J.fsPath==="string"&&typeof J.with==="function"&&typeof J.toString==="function"}constructor(J,$,X,Q,Y,Z=!1){if(typeof J==="object")this.scheme=J.scheme||c8,this.authority=J.authority||c8,this.path=J.path||c8,this.query=J.query||c8,this.fragment=J.fragment||c8;else this.scheme=H10(J,Z),this.authority=$||c8,this.path=z10(this.scheme,X||c8),this.query=Q||c8,this.fragment=Y||c8,U10(this,Z)}get fsPath(){return f3(this,!1)}with(J){if(!J)return this;let{scheme:$,authority:X,path:Q,query:Y,fragment:Z}=J;if($===void 0)$=this.scheme;else if($===null)$=c8;if(X===void 0)X=this.authority;else if(X===null)X=c8;if(Q===void 0)Q=this.path;else if(Q===null)Q=c8;if(Y===void 0)Y=this.query;else if(Y===null)Y=c8;if(Z===void 0)Z=this.fragment;else if(Z===null)Z=c8;if($===this.scheme&&X===this.authority&&Q===this.path&&Y===this.query&&Z===this.fragment)return this;return new _Z($,X,Q,Y,Z)}static parse(J,$=!1){const X=V10.exec(J);if(!X)return new _Z(c8,c8,c8,c8,c8);return new _Z(X[2]||c8,_B(X[4]||c8),_B(X[5]||c8),_B(X[7]||c8),_B(X[9]||c8),$)}static file(J){let $=c8;if(F8)J=J.replace(/\\/g,nJ);if(J[0]===nJ&&J[1]===nJ){const X=J.indexOf(nJ,2);if(X===-1)$=J.substring(2),J=nJ;else $=J.substring(2,X),J=J.substring(X)||nJ}return new _Z("file",$,J,c8,c8)}static from(J,$){return new _Z(J.scheme,J.authority,J.path,J.query,J.fragment,$)}static joinPath(J,...$){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let X;if(F8&&J.scheme==="file")X=I0.file(H9.join(f3(J,!0),...$)).path;else X=M8.join(J.path,...$);return J.with({path:X})}toString(J=!1){return QM(this,J)}toJSON(){return this}static revive(J){var $,X;if(!J)return J;else if(J instanceof I0)return J;else{const Q=new _Z(J);return Q._formatted=($=J.external)!==null&&$!==void 0?$:null,Q._fsPath=J._sep===hC?(X=J.fsPath)!==null&&X!==void 0?X:null:null,Q}}}class _Z extends I0{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){if(!this._fsPath)this._fsPath=f3(this,!1);return this._fsPath}toString(J=!1){if(!J){if(!this._formatted)this._formatted=QM(this,!1);return this._formatted}else return QM(this,!0)}toJSON(){const J={$mid:1};if(this._fsPath)J.fsPath=this._fsPath,J._sep=hC;if(this._formatted)J.external=this._formatted;if(this.path)J.path=this.path;if(this.scheme)J.scheme=this.scheme;if(this.authority)J.authority=this.authority;if(this.query)J.query=this.query;if(this.fragment)J.fragment=this.fragment;return J}}var U10,H10,z10,vC,W10,QM,pC,_B,Z10,G10,q10,c8,nJ,V10,hC,gC,fC;var l8=N(()=>{$X();O1();U10=function(J,$){if(!J.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${J.authority}", path: "${J.path}", query: "${J.query}", fragment: "${J.fragment}"}`);if(J.scheme&&!Z10.test(J.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(J.path){if(J.authority){if(!G10.test(J.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(q10.test(J.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}},H10=function(J,$){if(!J&&!$)return"file";return J},z10=function(J,$){switch(J){case"https":case"http":case"file":if(!$)$=nJ;else if($[0]!==nJ)$=nJ+$;break}return $},vC=function(J,$,X){let Q=void 0,Y=-1;for(let Z=0;Z<J.length;Z++){const G=J.charCodeAt(Z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||$&&G===47||X&&G===91||X&&G===93||X&&G===58){if(Y!==-1)Q+=encodeURIComponent(J.substring(Y,Z)),Y=-1;if(Q!==void 0)Q+=J.charAt(Z)}else{if(Q===void 0)Q=J.substr(0,Z);const q=gC[G];if(q!==void 0){if(Y!==-1)Q+=encodeURIComponent(J.substring(Y,Z)),Y=-1;Q+=q}else if(Y===-1)Y=Z}}if(Y!==-1)Q+=encodeURIComponent(J.substring(Y));return Q!==void 0?Q:J},W10=function(J){let $=void 0;for(let X=0;X<J.length;X++){const Q=J.charCodeAt(X);if(Q===35||Q===63){if($===void 0)$=J.substr(0,X);$+=gC[Q]}else if($!==void 0)$+=J[X]}return $!==void 0?$:J};QM=function(J,$){const X=!$?vC:W10;let Q="",{scheme:Y,authority:Z,path:G,query:q,fragment:U}=J;if(Y)Q+=Y,Q+=":";if(Z||Y==="file")Q+=nJ,Q+=nJ;if(Z){let H=Z.indexOf("@");if(H!==-1){const z=Z.substr(0,H);if(Z=Z.substr(H+1),H=z.lastIndexOf(":"),H===-1)Q+=X(z,!1,!1);else Q+=X(z.substr(0,H),!1,!1),Q+=":",Q+=X(z.substr(H+1),!1,!0);Q+="@"}if(Z=Z.toLowerCase(),H=Z.lastIndexOf(":"),H===-1)Q+=X(Z,!1,!0);else Q+=X(Z.substr(0,H),!1,!0),Q+=Z.substr(H)}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58){const H=G.charCodeAt(1);if(H>=65&&H<=90)G=`/${String.fromCharCode(H+32)}:${G.substr(3)}`}else if(G.length>=2&&G.charCodeAt(1)===58){const H=G.charCodeAt(0);if(H>=65&&H<=90)G=`${String.fromCharCode(H+32)}:${G.substr(2)}`}Q+=X(G,!0,!1)}if(q)Q+="?",Q+=X(q,!1,!1);if(U)Q+="#",Q+=!$?vC(U,!1,!1):U;return Q},pC=function(J){try{return decodeURIComponent(J)}catch($){if(J.length>3)return J.substr(0,3)+pC(J.substr(3));else return J}},_B=function(J){if(!J.match(fC))return J;return J.replace(fC,($)=>pC($))},Z10=/^\w[\w\d+.-]*$/,G10=/^\//,q10=/^\/\//,c8="",nJ="/",V10=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;hC=F8?1:void 0;gC={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"},fC=/(%[0-9A-Za-z][0-9A-Za-z])+/g});class b{constructor(J,$){this.lineNumber=J,this.column=$}with(J=this.lineNumber,$=this.column){if(J===this.lineNumber&&$===this.column)return this;else return new b(J,$)}delta(J=0,$=0){return this.with(this.lineNumber+J,this.column+$)}equals(J){return b.equals(this,J)}static equals(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.lineNumber===$.lineNumber&&J.column===$.column}isBefore(J){return b.isBefore(this,J)}static isBefore(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<$.column}isBeforeOrEqual(J){return b.isBeforeOrEqual(this,J)}static isBeforeOrEqual(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<=$.column}static compare(J,$){const X=J.lineNumber|0,Q=$.lineNumber|0;if(X===Q){const Y=J.column|0,Z=$.column|0;return Y-Z}return X-Q}clone(){return new b(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(J){return new b(J.lineNumber,J.column)}static isIPosition(J){return J&&typeof J.lineNumber==="number"&&typeof J.column==="number"}}var W1=N(()=>{});class L{constructor(J,$,X,Q){if(J>X||J===X&&$>Q)this.startLineNumber=X,this.startColumn=Q,this.endLineNumber=J,this.endColumn=$;else this.startLineNumber=J,this.startColumn=$,this.endLineNumber=X,this.endColumn=Q}isEmpty(){return L.isEmpty(this)}static isEmpty(J){return J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn}containsPosition(J){return L.containsPosition(this,J)}static containsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>J.endColumn)return!1;return!0}static strictContainsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<=J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>=J.endColumn)return!1;return!0}containsRange(J){return L.containsRange(this,J)}static containsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>J.endColumn)return!1;return!0}strictContainsRange(J){return L.strictContainsRange(this,J)}static strictContainsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<=J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>=J.endColumn)return!1;return!0}plusRange(J){return L.plusRange(this,J)}static plusRange(J,$){let X,Q,Y,Z;if($.startLineNumber<J.startLineNumber)X=$.startLineNumber,Q=$.startColumn;else if($.startLineNumber===J.startLineNumber)X=$.startLineNumber,Q=Math.min($.startColumn,J.startColumn);else X=J.startLineNumber,Q=J.startColumn;if($.endLineNumber>J.endLineNumber)Y=$.endLineNumber,Z=$.endColumn;else if($.endLineNumber===J.endLineNumber)Y=$.endLineNumber,Z=Math.max($.endColumn,J.endColumn);else Y=J.endLineNumber,Z=J.endColumn;return new L(X,Q,Y,Z)}intersectRanges(J){return L.intersectRanges(this,J)}static intersectRanges(J,$){let{startLineNumber:X,startColumn:Q,endLineNumber:Y,endColumn:Z}=J;const{startLineNumber:G,startColumn:q,endLineNumber:U,endColumn:H}=$;if(X<G)X=G,Q=q;else if(X===G)Q=Math.max(Q,q);if(Y>U)Y=U,Z=H;else if(Y===U)Z=Math.min(Z,H);if(X>Y)return null;if(X===Y&&Q>Z)return null;return new L(X,Q,Y,Z)}equalsRange(J){return L.equalsRange(this,J)}static equalsRange(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.startLineNumber===$.startLineNumber&&J.startColumn===$.startColumn&&J.endLineNumber===$.endLineNumber&&J.endColumn===$.endColumn}getEndPosition(){return L.getEndPosition(this)}static getEndPosition(J){return new b(J.endLineNumber,J.endColumn)}getStartPosition(){return L.getStartPosition(this)}static getStartPosition(J){return new b(J.startLineNumber,J.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(J,$){return new L(this.startLineNumber,this.startColumn,J,$)}setStartPosition(J,$){return new L(J,$,this.endLineNumber,this.endColumn)}collapseToStart(){return L.collapseToStart(this)}static collapseToStart(J){return new L(J.startLineNumber,J.startColumn,J.startLineNumber,J.startColumn)}collapseToEnd(){return L.collapseToEnd(this)}static collapseToEnd(J){return new L(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn)}delta(J){return new L(this.startLineNumber+J,this.startColumn,this.endLineNumber+J,this.endColumn)}static fromPositions(J,$=J){return new L(J.lineNumber,J.column,$.lineNumber,$.column)}static lift(J){if(!J)return null;return new L(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)}static isIRange(J){return J&&typeof J.startLineNumber==="number"&&typeof J.startColumn==="number"&&typeof J.endLineNumber==="number"&&typeof J.endColumn==="number"}static areIntersectingOrTouching(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<J.startColumn)return!1;return!0}static areIntersecting(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<=$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<=J.startColumn)return!1;return!0}static compareRangesUsingStarts(J,$){if(J&&$){const Y=J.startLineNumber|0,Z=$.startLineNumber|0;if(Y===Z){const G=J.startColumn|0,q=$.startColumn|0;if(G===q){const U=J.endLineNumber|0,H=$.endLineNumber|0;if(U===H){const z=J.endColumn|0,V=$.endColumn|0;return z-V}return U-H}return G-q}return Y-Z}return(J?1:0)-($?1:0)}static compareRangesUsingEnds(J,$){if(J.endLineNumber===$.endLineNumber){if(J.endColumn===$.endColumn){if(J.startLineNumber===$.startLineNumber)return J.startColumn-$.startColumn;return J.startLineNumber-$.startLineNumber}return J.endColumn-$.endColumn}return J.endLineNumber-$.endLineNumber}static spansMultipleLines(J){return J.endLineNumber>J.startLineNumber}toJSON(){return this}}var u0=N(()=>{W1()});class b0 extends L{constructor(J,$,X,Q){super(J,$,X,Q);this.selectionStartLineNumber=J,this.selectionStartColumn=$,this.positionLineNumber=X,this.positionColumn=Q}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(J){return b0.selectionsEqual(this,J)}static selectionsEqual(J,$){return J.selectionStartLineNumber===$.selectionStartLineNumber&&J.selectionStartColumn===$.selectionStartColumn&&J.positionLineNumber===$.positionLineNumber&&J.positionColumn===$.positionColumn}getDirection(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn)return 0;return 1}setEndPosition(J,$){if(this.getDirection()===0)return new b0(this.startLineNumber,this.startColumn,J,$);return new b0(J,$,this.startLineNumber,this.startColumn)}getPosition(){return new b(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new b(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(J,$){if(this.getDirection()===0)return new b0(J,$,this.endLineNumber,this.endColumn);return new b0(this.endLineNumber,this.endColumn,J,$)}static fromPositions(J,$=J){return new b0(J.lineNumber,J.column,$.lineNumber,$.column)}static fromRange(J,$){if($===0)return new b0(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);else return new b0(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}static liftSelection(J){return new b0(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn)}static selectionsArrEqual(J,$){if(J&&!$||!J&&$)return!1;if(!J&&!$)return!0;if(J.length!==$.length)return!1;for(let X=0,Q=J.length;X<Q;X++)if(!this.selectionsEqual(J[X],$[X]))return!1;return!0}static isISelection(J){return J&&typeof J.selectionStartLineNumber==="number"&&typeof J.selectionStartColumn==="number"&&typeof J.positionLineNumber==="number"&&typeof J.positionColumn==="number"}static createWithDirection(J,$,X,Q,Y){if(Y===0)return new b0(J,$,X,Q);return new b0(X,Q,J,$)}}var f7=N(()=>{W1();u0()});function wB(){return YM}var O,YM,z0;var h7=N(()=>{j8();O=function(J,$){if(Z7($)){const X=YM[$];if(X===void 0)throw new Error(`${J} references an unknown codicon: ${$}`);$=X}return YM[J]=$,{id:J}};YM=Object.create(null),z0={add:O("add",60000),plus:O("plus",60000),gistNew:O("gist-new",60000),repoCreate:O("repo-create",60000),lightbulb:O("lightbulb",60001),lightBulb:O("light-bulb",60001),repo:O("repo",60002),repoDelete:O("repo-delete",60002),gistFork:O("gist-fork",60003),repoForked:O("repo-forked",60003),gitPullRequest:O("git-pull-request",60004),gitPullRequestAbandoned:O("git-pull-request-abandoned",60004),recordKeys:O("record-keys",60005),keyboard:O("keyboard",60005),tag:O("tag",60006),tagAdd:O("tag-add",60006),tagRemove:O("tag-remove",60006),gitPullRequestLabel:O("git-pull-request-label",60006),person:O("person",60007),personFollow:O("person-follow",60007),personOutline:O("person-outline",60007),personFilled:O("person-filled",60007),gitBranch:O("git-branch",60008),gitBranchCreate:O("git-branch-create",60008),gitBranchDelete:O("git-branch-delete",60008),sourceControl:O("source-control",60008),mirror:O("mirror",60009),mirrorPublic:O("mirror-public",60009),star:O("star",60010),starAdd:O("star-add",60010),starDelete:O("star-delete",60010),starEmpty:O("star-empty",60010),comment:O("comment",60011),commentAdd:O("comment-add",60011),alert:O("alert",60012),warning:O("warning",60012),search:O("search",60013),searchSave:O("search-save",60013),logOut:O("log-out",60014),signOut:O("sign-out",60014),logIn:O("log-in",60015),signIn:O("sign-in",60015),eye:O("eye",60016),eyeUnwatch:O("eye-unwatch",60016),eyeWatch:O("eye-watch",60016),circleFilled:O("circle-filled",60017),primitiveDot:O("primitive-dot",60017),closeDirty:O("close-dirty",60017),debugBreakpoint:O("debug-breakpoint",60017),debugBreakpointDisabled:O("debug-breakpoint-disabled",60017),debugHint:O("debug-hint",60017),primitiveSquare:O("primitive-square",60018),edit:O("edit",60019),pencil:O("pencil",60019),info:O("info",60020),issueOpened:O("issue-opened",60020),gistPrivate:O("gist-private",60021),gitForkPrivate:O("git-fork-private",60021),lock:O("lock",60021),mirrorPrivate:O("mirror-private",60021),close:O("close",60022),removeClose:O("remove-close",60022),x:O("x",60022),repoSync:O("repo-sync",60023),sync:O("sync",60023),clone:O("clone",60024),desktopDownload:O("desktop-download",60024),beaker:O("beaker",60025),microscope:O("microscope",60025),vm:O("vm",60026),deviceDesktop:O("device-desktop",60026),file:O("file",60027),fileText:O("file-text",60027),more:O("more",60028),ellipsis:O("ellipsis",60028),kebabHorizontal:O("kebab-horizontal",60028),mailReply:O("mail-reply",60029),reply:O("reply",60029),organization:O("organization",60030),organizationFilled:O("organization-filled",60030),organizationOutline:O("organization-outline",60030),newFile:O("new-file",60031),fileAdd:O("file-add",60031),newFolder:O("new-folder",60032),fileDirectoryCreate:O("file-directory-create",60032),trash:O("trash",60033),trashcan:O("trashcan",60033),history:O("history",60034),clock:O("clock",60034),folder:O("folder",60035),fileDirectory:O("file-directory",60035),symbolFolder:O("symbol-folder",60035),logoGithub:O("logo-github",60036),markGithub:O("mark-github",60036),github:O("github",60036),terminal:O("terminal",60037),console:O("console",60037),repl:O("repl",60037),zap:O("zap",60038),symbolEvent:O("symbol-event",60038),error:O("error",60039),stop:O("stop",60039),variable:O("variable",60040),symbolVariable:O("symbol-variable",60040),array:O("array",60042),symbolArray:O("symbol-array",60042),symbolModule:O("symbol-module",60043),symbolPackage:O("symbol-package",60043),symbolNamespace:O("symbol-namespace",60043),symbolObject:O("symbol-object",60043),symbolMethod:O("symbol-method",60044),symbolFunction:O("symbol-function",60044),symbolConstructor:O("symbol-constructor",60044),symbolBoolean:O("symbol-boolean",60047),symbolNull:O("symbol-null",60047),symbolNumeric:O("symbol-numeric",60048),symbolNumber:O("symbol-number",60048),symbolStructure:O("symbol-structure",60049),symbolStruct:O("symbol-struct",60049),symbolParameter:O("symbol-parameter",60050),symbolTypeParameter:O("symbol-type-parameter",60050),symbolKey:O("symbol-key",60051),symbolText:O("symbol-text",60051),symbolReference:O("symbol-reference",60052),goToFile:O("go-to-file",60052),symbolEnum:O("symbol-enum",60053),symbolValue:O("symbol-value",60053),symbolRuler:O("symbol-ruler",60054),symbolUnit:O("symbol-unit",60054),activateBreakpoints:O("activate-breakpoints",60055),archive:O("archive",60056),arrowBoth:O("arrow-both",60057),arrowDown:O("arrow-down",60058),arrowLeft:O("arrow-left",60059),arrowRight:O("arrow-right",60060),arrowSmallDown:O("arrow-small-down",60061),arrowSmallLeft:O("arrow-small-left",60062),arrowSmallRight:O("arrow-small-right",60063),arrowSmallUp:O("arrow-small-up",60064),arrowUp:O("arrow-up",60065),bell:O("bell",60066),bold:O("bold",60067),book:O("book",60068),bookmark:O("bookmark",60069),debugBreakpointConditionalUnverified:O("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:O("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:O("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:O("debug-breakpoint-data-unverified",60072),debugBreakpointData:O("debug-breakpoint-data",60073),debugBreakpointDataDisabled:O("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:O("debug-breakpoint-log-unverified",60074),debugBreakpointLog:O("debug-breakpoint-log",60075),debugBreakpointLogDisabled:O("debug-breakpoint-log-disabled",60075),briefcase:O("briefcase",60076),broadcast:O("broadcast",60077),browser:O("browser",60078),bug:O("bug",60079),calendar:O("calendar",60080),caseSensitive:O("case-sensitive",60081),check:O("check",60082),checklist:O("checklist",60083),chevronDown:O("chevron-down",60084),dropDownButton:O("drop-down-button",60084),chevronLeft:O("chevron-left",60085),chevronRight:O("chevron-right",60086),chevronUp:O("chevron-up",60087),chromeClose:O("chrome-close",60088),chromeMaximize:O("chrome-maximize",60089),chromeMinimize:O("chrome-minimize",60090),chromeRestore:O("chrome-restore",60091),circle:O("circle",60092),circleOutline:O("circle-outline",60092),debugBreakpointUnverified:O("debug-breakpoint-unverified",60092),circleSlash:O("circle-slash",60093),circuitBoard:O("circuit-board",60094),clearAll:O("clear-all",60095),clippy:O("clippy",60096),closeAll:O("close-all",60097),cloudDownload:O("cloud-download",60098),cloudUpload:O("cloud-upload",60099),code:O("code",60100),collapseAll:O("collapse-all",60101),colorMode:O("color-mode",60102),commentDiscussion:O("comment-discussion",60103),compareChanges:O("compare-changes",60157),creditCard:O("credit-card",60105),dash:O("dash",60108),dashboard:O("dashboard",60109),database:O("database",60110),debugContinue:O("debug-continue",60111),debugDisconnect:O("debug-disconnect",60112),debugPause:O("debug-pause",60113),debugRestart:O("debug-restart",60114),debugStart:O("debug-start",60115),debugStepInto:O("debug-step-into",60116),debugStepOut:O("debug-step-out",60117),debugStepOver:O("debug-step-over",60118),debugStop:O("debug-stop",60119),debug:O("debug",60120),deviceCameraVideo:O("device-camera-video",60121),deviceCamera:O("device-camera",60122),deviceMobile:O("device-mobile",60123),diffAdded:O("diff-added",60124),diffIgnored:O("diff-ignored",60125),diffModified:O("diff-modified",60126),diffRemoved:O("diff-removed",60127),diffRenamed:O("diff-renamed",60128),diff:O("diff",60129),discard:O("discard",60130),editorLayout:O("editor-layout",60131),emptyWindow:O("empty-window",60132),exclude:O("exclude",60133),extensions:O("extensions",60134),eyeClosed:O("eye-closed",60135),fileBinary:O("file-binary",60136),fileCode:O("file-code",60137),fileMedia:O("file-media",60138),filePdf:O("file-pdf",60139),fileSubmodule:O("file-submodule",60140),fileSymlinkDirectory:O("file-symlink-directory",60141),fileSymlinkFile:O("file-symlink-file",60142),fileZip:O("file-zip",60143),files:O("files",60144),filter:O("filter",60145),flame:O("flame",60146),foldDown:O("fold-down",60147),foldUp:O("fold-up",60148),fold:O("fold",60149),folderActive:O("folder-active",60150),folderOpened:O("folder-opened",60151),gear:O("gear",60152),gift:O("gift",60153),gistSecret:O("gist-secret",60154),gist:O("gist",60155),gitCommit:O("git-commit",60156),gitCompare:O("git-compare",60157),gitMerge:O("git-merge",60158),githubAction:O("github-action",60159),githubAlt:O("github-alt",60160),globe:O("globe",60161),grabber:O("grabber",60162),graph:O("graph",60163),gripper:O("gripper",60164),heart:O("heart",60165),home:O("home",60166),horizontalRule:O("horizontal-rule",60167),hubot:O("hubot",60168),inbox:O("inbox",60169),issueClosed:O("issue-closed",60324),issueReopened:O("issue-reopened",60171),issues:O("issues",60172),italic:O("italic",60173),jersey:O("jersey",60174),json:O("json",60175),bracket:O("bracket",60175),kebabVertical:O("kebab-vertical",60176),key:O("key",60177),law:O("law",60178),lightbulbAutofix:O("lightbulb-autofix",60179),linkExternal:O("link-external",60180),link:O("link",60181),listOrdered:O("list-ordered",60182),listUnordered:O("list-unordered",60183),liveShare:O("live-share",60184),loading:O("loading",60185),location:O("location",60186),mailRead:O("mail-read",60187),mail:O("mail",60188),markdown:O("markdown",60189),megaphone:O("megaphone",60190),mention:O("mention",60191),milestone:O("milestone",60192),gitPullRequestMilestone:O("git-pull-request-milestone",60192),mortarBoard:O("mortar-board",60193),move:O("move",60194),multipleWindows:O("multiple-windows",60195),mute:O("mute",60196),noNewline:O("no-newline",60197),note:O("note",60198),octoface:O("octoface",60199),openPreview:O("open-preview",60200),package:O("package",60201),paintcan:O("paintcan",60202),pin:O("pin",60203),play:O("play",60204),run:O("run",60204),plug:O("plug",60205),preserveCase:O("preserve-case",60206),preview:O("preview",60207),project:O("project",60208),pulse:O("pulse",60209),question:O("question",60210),quote:O("quote",60211),radioTower:O("radio-tower",60212),reactions:O("reactions",60213),references:O("references",60214),refresh:O("refresh",60215),regex:O("regex",60216),remoteExplorer:O("remote-explorer",60217),remote:O("remote",60218),remove:O("remove",60219),replaceAll:O("replace-all",60220),replace:O("replace",60221),repoClone:O("repo-clone",60222),repoForcePush:O("repo-force-push",60223),repoPull:O("repo-pull",60224),repoPush:O("repo-push",60225),report:O("report",60226),requestChanges:O("request-changes",60227),rocket:O("rocket",60228),rootFolderOpened:O("root-folder-opened",60229),rootFolder:O("root-folder",60230),rss:O("rss",60231),ruby:O("ruby",60232),saveAll:O("save-all",60233),saveAs:O("save-as",60234),save:O("save",60235),screenFull:O("screen-full",60236),screenNormal:O("screen-normal",60237),searchStop:O("search-stop",60238),server:O("server",60240),settingsGear:O("settings-gear",60241),settings:O("settings",60242),shield:O("shield",60243),smiley:O("smiley",60244),sortPrecedence:O("sort-precedence",60245),splitHorizontal:O("split-horizontal",60246),splitVertical:O("split-vertical",60247),squirrel:O("squirrel",60248),starFull:O("star-full",60249),starHalf:O("star-half",60250),symbolClass:O("symbol-class",60251),symbolColor:O("symbol-color",60252),symbolCustomColor:O("symbol-customcolor",60252),symbolConstant:O("symbol-constant",60253),symbolEnumMember:O("symbol-enum-member",60254),symbolField:O("symbol-field",60255),symbolFile:O("symbol-file",60256),symbolInterface:O("symbol-interface",60257),symbolKeyword:O("symbol-keyword",60258),symbolMisc:O("symbol-misc",60259),symbolOperator:O("symbol-operator",60260),symbolProperty:O("symbol-property",60261),wrench:O("wrench",60261),wrenchSubaction:O("wrench-subaction",60261),symbolSnippet:O("symbol-snippet",60262),tasklist:O("tasklist",60263),telescope:O("telescope",60264),textSize:O("text-size",60265),threeBars:O("three-bars",60266),thumbsdown:O("thumbsdown",60267),thumbsup:O("thumbsup",60268),tools:O("tools",60269),triangleDown:O("triangle-down",60270),triangleLeft:O("triangle-left",60271),triangleRight:O("triangle-right",60272),triangleUp:O("triangle-up",60273),twitter:O("twitter",60274),unfold:O("unfold",60275),unlock:O("unlock",60276),unmute:O("unmute",60277),unverified:O("unverified",60278),verified:O("verified",60279),versions:O("versions",60280),vmActive:O("vm-active",60281),vmOutline:O("vm-outline",60282),vmRunning:O("vm-running",60283),watch:O("watch",60284),whitespace:O("whitespace",60285),wholeWord:O("whole-word",60286),window:O("window",60287),wordWrap:O("word-wrap",60288),zoomIn:O("zoom-in",60289),zoomOut:O("zoom-out",60290),listFilter:O("list-filter",60291),listFlat:O("list-flat",60292),listSelection:O("list-selection",60293),selection:O("selection",60293),listTree:O("list-tree",60294),debugBreakpointFunctionUnverified:O("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:O("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:O("debug-breakpoint-function-disabled",60296),debugStackframeActive:O("debug-stackframe-active",60297),circleSmallFilled:O("circle-small-filled",60298),debugStackframeDot:O("debug-stackframe-dot",60298),debugStackframe:O("debug-stackframe",60299),debugStackframeFocused:O("debug-stackframe-focused",60299),debugBreakpointUnsupported:O("debug-breakpoint-unsupported",60300),symbolString:O("symbol-string",60301),debugReverseContinue:O("debug-reverse-continue",60302),debugStepBack:O("debug-step-back",60303),debugRestartFrame:O("debug-restart-frame",60304),callIncoming:O("call-incoming",60306),callOutgoing:O("call-outgoing",60307),menu:O("menu",60308),expandAll:O("expand-all",60309),feedback:O("feedback",60310),gitPullRequestReviewer:O("git-pull-request-reviewer",60310),groupByRefType:O("group-by-ref-type",60311),ungroupByRefType:O("ungroup-by-ref-type",60312),account:O("account",60313),gitPullRequestAssignee:O("git-pull-request-assignee",60313),bellDot:O("bell-dot",60314),debugConsole:O("debug-console",60315),library:O("library",60316),output:O("output",60317),runAll:O("run-all",60318),syncIgnored:O("sync-ignored",60319),pinned:O("pinned",60320),githubInverted:O("github-inverted",60321),debugAlt:O("debug-alt",60305),serverProcess:O("server-process",60322),serverEnvironment:O("server-environment",60323),pass:O("pass",60324),stopCircle:O("stop-circle",60325),playCircle:O("play-circle",60326),record:O("record",60327),debugAltSmall:O("debug-alt-small",60328),vmConnect:O("vm-connect",60329),cloud:O("cloud",60330),merge:O("merge",60331),exportIcon:O("export",60332),graphLeft:O("graph-left",60333),magnet:O("magnet",60334),notebook:O("notebook",60335),redo:O("redo",60336),checkAll:O("check-all",60337),pinnedDirty:O("pinned-dirty",60338),passFilled:O("pass-filled",60339),circleLargeFilled:O("circle-large-filled",60340),circleLarge:O("circle-large",60341),circleLargeOutline:O("circle-large-outline",60341),combine:O("combine",60342),gather:O("gather",60342),table:O("table",60343),variableGroup:O("variable-group",60344),typeHierarchy:O("type-hierarchy",60345),typeHierarchySub:O("type-hierarchy-sub",60346),typeHierarchySuper:O("type-hierarchy-super",60347),gitPullRequestCreate:O("git-pull-request-create",60348),runAbove:O("run-above",60349),runBelow:O("run-below",60350),notebookTemplate:O("notebook-template",60351),debugRerun:O("debug-rerun",60352),workspaceTrusted:O("workspace-trusted",60353),workspaceUntrusted:O("workspace-untrusted",60354),workspaceUnspecified:O("workspace-unspecified",60355),terminalCmd:O("terminal-cmd",60356),terminalDebian:O("terminal-debian",60357),terminalLinux:O("terminal-linux",60358),terminalPowershell:O("terminal-powershell",60359),terminalTmux:O("terminal-tmux",60360),terminalUbuntu:O("terminal-ubuntu",60361),terminalBash:O("terminal-bash",60362),arrowSwap:O("arrow-swap",60363),copy:O("copy",60364),personAdd:O("person-add",60365),filterFilled:O("filter-filled",60366),wand:O("wand",60367),debugLineByLine:O("debug-line-by-line",60368),inspect:O("inspect",60369),layers:O("layers",60370),layersDot:O("layers-dot",60371),layersActive:O("layers-active",60372),compass:O("compass",60373),compassDot:O("compass-dot",60374),compassActive:O("compass-active",60375),azure:O("azure",60376),issueDraft:O("issue-draft",60377),gitPullRequestClosed:O("git-pull-request-closed",60378),gitPullRequestDraft:O("git-pull-request-draft",60379),debugAll:O("debug-all",60380),debugCoverage:O("debug-coverage",60381),runErrors:O("run-errors",60382),folderLibrary:O("folder-library",60383),debugContinueSmall:O("debug-continue-small",60384),beakerStop:O("beaker-stop",60385),graphLine:O("graph-line",60386),graphScatter:O("graph-scatter",60387),pieChart:O("pie-chart",60388),bracketDot:O("bracket-dot",60389),bracketError:O("bracket-error",60390),lockSmall:O("lock-small",60391),azureDevops:O("azure-devops",60392),verifiedFilled:O("verified-filled",60393),newLine:O("newline",60394),layout:O("layout",60395),layoutActivitybarLeft:O("layout-activitybar-left",60396),layoutActivitybarRight:O("layout-activitybar-right",60397),layoutPanelLeft:O("layout-panel-left",60398),layoutPanelCenter:O("layout-panel-center",60399),layoutPanelJustify:O("layout-panel-justify",60400),layoutPanelRight:O("layout-panel-right",60401),layoutPanel:O("layout-panel",60402),layoutSidebarLeft:O("layout-sidebar-left",60403),layoutSidebarRight:O("layout-sidebar-right",60404),layoutStatusbar:O("layout-statusbar",60405),layoutMenubar:O("layout-menubar",60406),layoutCentered:O("layout-centered",60407),layoutSidebarRightOff:O("layout-sidebar-right-off",60416),layoutPanelOff:O("layout-panel-off",60417),layoutSidebarLeftOff:O("layout-sidebar-left-off",60418),target:O("target",60408),indent:O("indent",60409),recordSmall:O("record-small",60410),errorSmall:O("error-small",60411),arrowCircleDown:O("arrow-circle-down",60412),arrowCircleLeft:O("arrow-circle-left",60413),arrowCircleRight:O("arrow-circle-right",60414),arrowCircleUp:O("arrow-circle-up",60415),heartFilled:O("heart-filled",60420),map:O("map",60421),mapFilled:O("map-filled",60422),circleSmall:O("circle-small",60423),bellSlash:O("bell-slash",60424),bellSlashDot:O("bell-slash-dot",60425),commentUnresolved:O("comment-unresolved",60426),gitPullRequestGoToChanges:O("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:O("git-pull-request-new-changes",60428),searchFuzzy:O("search-fuzzy",60429),commentDraft:O("comment-draft",60430),send:O("send",60431),sparkle:O("sparkle",60432),insert:O("insert",60433),mic:O("mic",60434),dialogError:O("dialog-error","error"),dialogWarning:O("dialog-warning","warning"),dialogInfo:O("dialog-info","info"),dialogClose:O("dialog-close","close"),treeItemExpanded:O("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:O("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:O("tree-filter-on-type-off","list-selection"),treeFilterClear:O("tree-filter-clear","close"),treeItemLoading:O("tree-item-loading","loading"),menuSelection:O("menu-selection","check"),menuSubmenu:O("menu-submenu","chevron-right"),menuBarMore:O("menubar-more","more"),scrollbarButtonLeft:O("scrollbar-button-left","triangle-left"),scrollbarButtonRight:O("scrollbar-button-right","triangle-right"),scrollbarButtonUp:O("scrollbar-button-up","triangle-up"),scrollbarButtonDown:O("scrollbar-button-down","triangle-down"),toolBarMore:O("toolbar-more","more"),quickInputBack:O("quick-input-back","arrow-left")}});class GM{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new E,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(J){this._onDidChange.fire({changedLanguages:J,changedColorMap:!1})}register(J,$){return this._tokenizationSupports.set(J,$),this.handleChange([J]),N0(()=>{if(this._tokenizationSupports.get(J)!==$)return;this._tokenizationSupports.delete(J),this.handleChange([J])})}get(J){return this._tokenizationSupports.get(J)||null}registerFactory(J,$){var X;(X=this._factories.get(J))===null||X===void 0||X.dispose();const Q=new mC(this,J,$);return this._factories.set(J,Q),N0(()=>{const Y=this._factories.get(J);if(!Y||Y!==Q)return;this._factories.delete(J),Y.dispose()})}getOrCreate(J){return ZM(this,void 0,void 0,function*(){const $=this.get(J);if($)return $;const X=this._factories.get(J);if(!X||X.isResolved)return null;return yield X.resolve(),this.get(J)})}isResolved(J){if(this.get(J))return!0;const X=this._factories.get(J);if(!X||X.isResolved)return!0;return!1}setColorMap(J){this._colorMap=J,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2)return this._colorMap[2];return null}}class mC extends f{get isResolved(){return this._isResolved}constructor(J,$,X){super();this._registry=J,this._languageId=$,this._factory=X,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return ZM(this,void 0,void 0,function*(){if(!this._resolvePromise)this._resolvePromise=this._create();return this._resolvePromise})}_create(){return ZM(this,void 0,void 0,function*(){const J=yield this._factory.tokenizationSupport;if(this._isResolved=!0,J&&!this._isDisposed)this._register(this._registry.register(this._languageId,J))})}}var ZM;var uC=N(()=>{A0();$0();ZM=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});class i4{constructor(J,$,X){this.offset=J,this.type=$,this.language=X,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class LZ{constructor(J,$){this.tokens=J,this.endState=$,this._tokenizationResultBrand=void 0}}class EQ{constructor(J,$){this.tokens=J,this.endState=$,this._encodedTokenizationResultBrand=void 0}}class qM{constructor(J,$,X,Q){this.range=J,this.text=$,this.completionKind=X,this.isSnippetText=Q}equals(J){return L.lift(this.range).equalsRange(J.range)&&this.text===J.text&&this.completionKind===J.completionKind&&this.isSnippetText===J.isSnippetText}}class A6{static fromValue(J){switch(J){case"comment":return A6.Comment;case"imports":return A6.Imports;case"region":return A6.Region}return new A6(J)}constructor(J){this.value=J}}class UM{constructor(J){this.createSupport=J,this._tokenizationSupport=null}dispose(){if(this._tokenizationSupport)this._tokenizationSupport.then((J)=>{if(J)J.dispose()})}get tokenizationSupport(){if(!this._tokenizationSupport)this._tokenizationSupport=this.createSupport();return this._tokenizationSupport}}var wZ,cC,lC,dC,gG0,LB,sC,aC,g1;var P6=N(()=>{h7();l8();u0();uC();m0();(function(J){const $=new Map;$.set(0,z0.symbolMethod),$.set(1,z0.symbolFunction),$.set(2,z0.symbolConstructor),$.set(3,z0.symbolField),$.set(4,z0.symbolVariable),$.set(5,z0.symbolClass),$.set(6,z0.symbolStruct),$.set(7,z0.symbolInterface),$.set(8,z0.symbolModule),$.set(9,z0.symbolProperty),$.set(10,z0.symbolEvent),$.set(11,z0.symbolOperator),$.set(12,z0.symbolUnit),$.set(13,z0.symbolValue),$.set(15,z0.symbolEnum),$.set(14,z0.symbolConstant),$.set(15,z0.symbolEnum),$.set(16,z0.symbolEnumMember),$.set(17,z0.symbolKeyword),$.set(27,z0.symbolSnippet),$.set(18,z0.symbolText),$.set(19,z0.symbolColor),$.set(20,z0.symbolFile),$.set(21,z0.symbolReference),$.set(22,z0.symbolCustomColor),$.set(23,z0.symbolFolder),$.set(24,z0.symbolTypeParameter),$.set(25,z0.account),$.set(26,z0.issues);function X(Z){let G=$.get(Z);if(!G)console.info("No codicon found for CompletionItemKind "+Z),G=z0.symbolProperty;return G}J.toIcon=X;const Q=new Map;Q.set("method",0),Q.set("function",1),Q.set("constructor",2),Q.set("field",3),Q.set("variable",4),Q.set("class",5),Q.set("struct",6),Q.set("interface",7),Q.set("module",8),Q.set("property",9),Q.set("event",10),Q.set("operator",11),Q.set("unit",12),Q.set("value",13),Q.set("constant",14),Q.set("enum",15),Q.set("enum-member",16),Q.set("enumMember",16),Q.set("keyword",17),Q.set("snippet",27),Q.set("text",18),Q.set("color",19),Q.set("file",20),Q.set("reference",21),Q.set("customcolor",22),Q.set("folder",23),Q.set("type-parameter",24),Q.set("typeParameter",24),Q.set("account",25),Q.set("issue",26);function Y(Z,G){let q=Q.get(Z);if(typeof q==="undefined"&&!G)q=9;return q}J.fromString=Y})(wZ||(wZ={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(cC||(cC={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(lC||(lC={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(dC||(dC={}));gG0={[17]:F("Array","array"),[16]:F("Boolean","boolean"),[4]:F("Class","class"),[13]:F("Constant","constant"),[8]:F("Constructor","constructor"),[9]:F("Enum","enumeration"),[21]:F("EnumMember","enumeration member"),[23]:F("Event","event"),[7]:F("Field","field"),[0]:F("File","file"),[11]:F("Function","function"),[10]:F("Interface","interface"),[19]:F("Key","key"),[5]:F("Method","method"),[1]:F("Module","module"),[2]:F("Namespace","namespace"),[20]:F("Null","null"),[15]:F("Number","number"),[18]:F("Object","object"),[24]:F("Operator","operator"),[3]:F("Package","package"),[6]:F("Property","property"),[14]:F("String","string"),[22]:F("Struct","struct"),[25]:F("TypeParameter","type parameter"),[12]:F("Variable","variable")};(function(J){const $=new Map;$.set(0,z0.symbolFile),$.set(1,z0.symbolModule),$.set(2,z0.symbolNamespace),$.set(3,z0.symbolPackage),$.set(4,z0.symbolClass),$.set(5,z0.symbolMethod),$.set(6,z0.symbolProperty),$.set(7,z0.symbolField),$.set(8,z0.symbolConstructor),$.set(9,z0.symbolEnum),$.set(10,z0.symbolInterface),$.set(11,z0.symbolFunction),$.set(12,z0.symbolVariable),$.set(13,z0.symbolConstant),$.set(14,z0.symbolString),$.set(15,z0.symbolNumber),$.set(16,z0.symbolBoolean),$.set(17,z0.symbolArray),$.set(18,z0.symbolObject),$.set(19,z0.symbolKey),$.set(20,z0.symbolNull),$.set(21,z0.symbolEnumMember),$.set(22,z0.symbolStruct),$.set(23,z0.symbolEvent),$.set(24,z0.symbolOperator),$.set(25,z0.symbolTypeParameter);function X(Q){let Y=$.get(Q);if(!Y)console.info("No codicon found for SymbolKind "+Q),Y=z0.symbolProperty;return Y}J.toIcon=X})(LB||(LB={}));A6.Comment=new A6("comment");A6.Imports=new A6("imports");A6.Region=new A6("region");(function(J){function $(X){if(!X||typeof X!=="object")return!1;return typeof X.id==="string"&&typeof X.title==="string"}J.is=$})(sC||(sC={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(aC||(aC={}));g1=new GM});var IB,kB,EB,yB,SB,CB,xB,bB,vB,fB,hB,gB,pB,mB,uB,cB,lB,dB,sB,aB,rB,iB,nB,oB,tB,eB,Jj,$j,Xj,Qj,Yj,Zj,Gj,qj,Uj,Hj,zj,Vj,Wj;var Bj=N(()=>{(function(J){J[J.Unknown=0]="Unknown",J[J.Disabled=1]="Disabled",J[J.Enabled=2]="Enabled"})(IB||(IB={}));(function(J){J[J.Invoke=1]="Invoke",J[J.Auto=2]="Auto"})(kB||(kB={}));(function(J){J[J.None=0]="None",J[J.KeepWhitespace=1]="KeepWhitespace",J[J.InsertAsSnippet=4]="InsertAsSnippet"})(EB||(EB={}));(function(J){J[J.Method=0]="Method",J[J.Function=1]="Function",J[J.Constructor=2]="Constructor",J[J.Field=3]="Field",J[J.Variable=4]="Variable",J[J.Class=5]="Class",J[J.Struct=6]="Struct",J[J.Interface=7]="Interface",J[J.Module=8]="Module",J[J.Property=9]="Property",J[J.Event=10]="Event",J[J.Operator=11]="Operator",J[J.Unit=12]="Unit",J[J.Value=13]="Value",J[J.Constant=14]="Constant",J[J.Enum=15]="Enum",J[J.EnumMember=16]="EnumMember",J[J.Keyword=17]="Keyword",J[J.Text=18]="Text",J[J.Color=19]="Color",J[J.File=20]="File",J[J.Reference=21]="Reference",J[J.Customcolor=22]="Customcolor",J[J.Folder=23]="Folder",J[J.TypeParameter=24]="TypeParameter",J[J.User=25]="User",J[J.Issue=26]="Issue",J[J.Snippet=27]="Snippet"})(yB||(yB={}));(function(J){J[J.Deprecated=1]="Deprecated"})(SB||(SB={}));(function(J){J[J.Invoke=0]="Invoke",J[J.TriggerCharacter=1]="TriggerCharacter",J[J.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(CB||(CB={}));(function(J){J[J.EXACT=0]="EXACT",J[J.ABOVE=1]="ABOVE",J[J.BELOW=2]="BELOW"})(xB||(xB={}));(function(J){J[J.NotSet=0]="NotSet",J[J.ContentFlush=1]="ContentFlush",J[J.RecoverFromMarkers=2]="RecoverFromMarkers",J[J.Explicit=3]="Explicit",J[J.Paste=4]="Paste",J[J.Undo=5]="Undo",J[J.Redo=6]="Redo"})(bB||(bB={}));(function(J){J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(vB||(vB={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(fB||(fB={}));(function(J){J[J.None=0]="None",J[J.Keep=1]="Keep",J[J.Brackets=2]="Brackets",J[J.Advanced=3]="Advanced",J[J.Full=4]="Full"})(hB||(hB={}));(function(J){J[J.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",J[J.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",J[J.accessibilitySupport=2]="accessibilitySupport",J[J.accessibilityPageSize=3]="accessibilityPageSize",J[J.ariaLabel=4]="ariaLabel",J[J.ariaRequired=5]="ariaRequired",J[J.autoClosingBrackets=6]="autoClosingBrackets",J[J.autoClosingComments=7]="autoClosingComments",J[J.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",J[J.autoClosingDelete=9]="autoClosingDelete",J[J.autoClosingOvertype=10]="autoClosingOvertype",J[J.autoClosingQuotes=11]="autoClosingQuotes",J[J.autoIndent=12]="autoIndent",J[J.automaticLayout=13]="automaticLayout",J[J.autoSurround=14]="autoSurround",J[J.bracketPairColorization=15]="bracketPairColorization",J[J.guides=16]="guides",J[J.codeLens=17]="codeLens",J[J.codeLensFontFamily=18]="codeLensFontFamily",J[J.codeLensFontSize=19]="codeLensFontSize",J[J.colorDecorators=20]="colorDecorators",J[J.colorDecoratorsLimit=21]="colorDecoratorsLimit",J[J.columnSelection=22]="columnSelection",J[J.comments=23]="comments",J[J.contextmenu=24]="contextmenu",J[J.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",J[J.cursorBlinking=26]="cursorBlinking",J[J.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",J[J.cursorStyle=28]="cursorStyle",J[J.cursorSurroundingLines=29]="cursorSurroundingLines",J[J.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",J[J.cursorWidth=31]="cursorWidth",J[J.disableLayerHinting=32]="disableLayerHinting",J[J.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",J[J.domReadOnly=34]="domReadOnly",J[J.dragAndDrop=35]="dragAndDrop",J[J.dropIntoEditor=36]="dropIntoEditor",J[J.emptySelectionClipboard=37]="emptySelectionClipboard",J[J.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",J[J.extraEditorClassName=39]="extraEditorClassName",J[J.fastScrollSensitivity=40]="fastScrollSensitivity",J[J.find=41]="find",J[J.fixedOverflowWidgets=42]="fixedOverflowWidgets",J[J.folding=43]="folding",J[J.foldingStrategy=44]="foldingStrategy",J[J.foldingHighlight=45]="foldingHighlight",J[J.foldingImportsByDefault=46]="foldingImportsByDefault",J[J.foldingMaximumRegions=47]="foldingMaximumRegions",J[J.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",J[J.fontFamily=49]="fontFamily",J[J.fontInfo=50]="fontInfo",J[J.fontLigatures=51]="fontLigatures",J[J.fontSize=52]="fontSize",J[J.fontWeight=53]="fontWeight",J[J.fontVariations=54]="fontVariations",J[J.formatOnPaste=55]="formatOnPaste",J[J.formatOnType=56]="formatOnType",J[J.glyphMargin=57]="glyphMargin",J[J.gotoLocation=58]="gotoLocation",J[J.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",J[J.hover=60]="hover",J[J.inDiffEditor=61]="inDiffEditor",J[J.inlineSuggest=62]="inlineSuggest",J[J.letterSpacing=63]="letterSpacing",J[J.lightbulb=64]="lightbulb",J[J.lineDecorationsWidth=65]="lineDecorationsWidth",J[J.lineHeight=66]="lineHeight",J[J.lineNumbers=67]="lineNumbers",J[J.lineNumbersMinChars=68]="lineNumbersMinChars",J[J.linkedEditing=69]="linkedEditing",J[J.links=70]="links",J[J.matchBrackets=71]="matchBrackets",J[J.minimap=72]="minimap",J[J.mouseStyle=73]="mouseStyle",J[J.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",J[J.mouseWheelZoom=75]="mouseWheelZoom",J[J.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",J[J.multiCursorModifier=77]="multiCursorModifier",J[J.multiCursorPaste=78]="multiCursorPaste",J[J.multiCursorLimit=79]="multiCursorLimit",J[J.occurrencesHighlight=80]="occurrencesHighlight",J[J.overviewRulerBorder=81]="overviewRulerBorder",J[J.overviewRulerLanes=82]="overviewRulerLanes",J[J.padding=83]="padding",J[J.pasteAs=84]="pasteAs",J[J.parameterHints=85]="parameterHints",J[J.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",J[J.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",J[J.quickSuggestions=88]="quickSuggestions",J[J.quickSuggestionsDelay=89]="quickSuggestionsDelay",J[J.readOnly=90]="readOnly",J[J.readOnlyMessage=91]="readOnlyMessage",J[J.renameOnType=92]="renameOnType",J[J.renderControlCharacters=93]="renderControlCharacters",J[J.renderFinalNewline=94]="renderFinalNewline",J[J.renderLineHighlight=95]="renderLineHighlight",J[J.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",J[J.renderValidationDecorations=97]="renderValidationDecorations",J[J.renderWhitespace=98]="renderWhitespace",J[J.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",J[J.roundedSelection=100]="roundedSelection",J[J.rulers=101]="rulers",J[J.scrollbar=102]="scrollbar",J[J.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",J[J.scrollBeyondLastLine=104]="scrollBeyondLastLine",J[J.scrollPredominantAxis=105]="scrollPredominantAxis",J[J.selectionClipboard=106]="selectionClipboard",J[J.selectionHighlight=107]="selectionHighlight",J[J.selectOnLineNumbers=108]="selectOnLineNumbers",J[J.showFoldingControls=109]="showFoldingControls",J[J.showUnused=110]="showUnused",J[J.snippetSuggestions=111]="snippetSuggestions",J[J.smartSelect=112]="smartSelect",J[J.smoothScrolling=113]="smoothScrolling",J[J.stickyScroll=114]="stickyScroll",J[J.stickyTabStops=115]="stickyTabStops",J[J.stopRenderingLineAfter=116]="stopRenderingLineAfter",J[J.suggest=117]="suggest",J[J.suggestFontSize=118]="suggestFontSize",J[J.suggestLineHeight=119]="suggestLineHeight",J[J.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",J[J.suggestSelection=121]="suggestSelection",J[J.tabCompletion=122]="tabCompletion",J[J.tabIndex=123]="tabIndex",J[J.unicodeHighlighting=124]="unicodeHighlighting",J[J.unusualLineTerminators=125]="unusualLineTerminators",J[J.useShadowDOM=126]="useShadowDOM",J[J.useTabStops=127]="useTabStops",J[J.wordBreak=128]="wordBreak",J[J.wordSeparators=129]="wordSeparators",J[J.wordWrap=130]="wordWrap",J[J.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",J[J.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",J[J.wordWrapColumn=133]="wordWrapColumn",J[J.wordWrapOverride1=134]="wordWrapOverride1",J[J.wordWrapOverride2=135]="wordWrapOverride2",J[J.wrappingIndent=136]="wrappingIndent",J[J.wrappingStrategy=137]="wrappingStrategy",J[J.showDeprecated=138]="showDeprecated",J[J.inlayHints=139]="inlayHints",J[J.editorClassName=140]="editorClassName",J[J.pixelRatio=141]="pixelRatio",J[J.tabFocusMode=142]="tabFocusMode",J[J.layoutInfo=143]="layoutInfo",J[J.wrappingInfo=144]="wrappingInfo",J[J.defaultColorDecorators=145]="defaultColorDecorators",J[J.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",J[J.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(gB||(gB={}));(function(J){J[J.TextDefined=0]="TextDefined",J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(pB||(pB={}));(function(J){J[J.LF=0]="LF",J[J.CRLF=1]="CRLF"})(mB||(mB={}));(function(J){J[J.Left=1]="Left",J[J.Right=2]="Right"})(uB||(uB={}));(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(cB||(cB={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(lB||(lB={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(dB||(dB={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(sB||(sB={}));(function(J){J[J.DependsOnKbLayout=-1]="DependsOnKbLayout",J[J.Unknown=0]="Unknown",J[J.Backspace=1]="Backspace",J[J.Tab=2]="Tab",J[J.Enter=3]="Enter",J[J.Shift=4]="Shift",J[J.Ctrl=5]="Ctrl",J[J.Alt=6]="Alt",J[J.PauseBreak=7]="PauseBreak",J[J.CapsLock=8]="CapsLock",J[J.Escape=9]="Escape",J[J.Space=10]="Space",J[J.PageUp=11]="PageUp",J[J.PageDown=12]="PageDown",J[J.End=13]="End",J[J.Home=14]="Home",J[J.LeftArrow=15]="LeftArrow",J[J.UpArrow=16]="UpArrow",J[J.RightArrow=17]="RightArrow",J[J.DownArrow=18]="DownArrow",J[J.Insert=19]="Insert",J[J.Delete=20]="Delete",J[J.Digit0=21]="Digit0",J[J.Digit1=22]="Digit1",J[J.Digit2=23]="Digit2",J[J.Digit3=24]="Digit3",J[J.Digit4=25]="Digit4",J[J.Digit5=26]="Digit5",J[J.Digit6=27]="Digit6",J[J.Digit7=28]="Digit7",J[J.Digit8=29]="Digit8",J[J.Digit9=30]="Digit9",J[J.KeyA=31]="KeyA",J[J.KeyB=32]="KeyB",J[J.KeyC=33]="KeyC",J[J.KeyD=34]="KeyD",J[J.KeyE=35]="KeyE",J[J.KeyF=36]="KeyF",J[J.KeyG=37]="KeyG",J[J.KeyH=38]="KeyH",J[J.KeyI=39]="KeyI",J[J.KeyJ=40]="KeyJ",J[J.KeyK=41]="KeyK",J[J.KeyL=42]="KeyL",J[J.KeyM=43]="KeyM",J[J.KeyN=44]="KeyN",J[J.KeyO=45]="KeyO",J[J.KeyP=46]="KeyP",J[J.KeyQ=47]="KeyQ",J[J.KeyR=48]="KeyR",J[J.KeyS=49]="KeyS",J[J.KeyT=50]="KeyT",J[J.KeyU=51]="KeyU",J[J.KeyV=52]="KeyV",J[J.KeyW=53]="KeyW",J[J.KeyX=54]="KeyX",J[J.KeyY=55]="KeyY",J[J.KeyZ=56]="KeyZ",J[J.Meta=57]="Meta",J[J.ContextMenu=58]="ContextMenu",J[J.F1=59]="F1",J[J.F2=60]="F2",J[J.F3=61]="F3",J[J.F4=62]="F4",J[J.F5=63]="F5",J[J.F6=64]="F6",J[J.F7=65]="F7",J[J.F8=66]="F8",J[J.F9=67]="F9",J[J.F10=68]="F10",J[J.F11=69]="F11",J[J.F12=70]="F12",J[J.F13=71]="F13",J[J.F14=72]="F14",J[J.F15=73]="F15",J[J.F16=74]="F16",J[J.F17=75]="F17",J[J.F18=76]="F18",J[J.F19=77]="F19",J[J.F20=78]="F20",J[J.F21=79]="F21",J[J.F22=80]="F22",J[J.F23=81]="F23",J[J.F24=82]="F24",J[J.NumLock=83]="NumLock",J[J.ScrollLock=84]="ScrollLock",J[J.Semicolon=85]="Semicolon",J[J.Equal=86]="Equal",J[J.Comma=87]="Comma",J[J.Minus=88]="Minus",J[J.Period=89]="Period",J[J.Slash=90]="Slash",J[J.Backquote=91]="Backquote",J[J.BracketLeft=92]="BracketLeft",J[J.Backslash=93]="Backslash",J[J.BracketRight=94]="BracketRight",J[J.Quote=95]="Quote",J[J.OEM_8=96]="OEM_8",J[J.IntlBackslash=97]="IntlBackslash",J[J.Numpad0=98]="Numpad0",J[J.Numpad1=99]="Numpad1",J[J.Numpad2=100]="Numpad2",J[J.Numpad3=101]="Numpad3",J[J.Numpad4=102]="Numpad4",J[J.Numpad5=103]="Numpad5",J[J.Numpad6=104]="Numpad6",J[J.Numpad7=105]="Numpad7",J[J.Numpad8=106]="Numpad8",J[J.Numpad9=107]="Numpad9",J[J.NumpadMultiply=108]="NumpadMultiply",J[J.NumpadAdd=109]="NumpadAdd",J[J.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",J[J.NumpadSubtract=111]="NumpadSubtract",J[J.NumpadDecimal=112]="NumpadDecimal",J[J.NumpadDivide=113]="NumpadDivide",J[J.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",J[J.ABNT_C1=115]="ABNT_C1",J[J.ABNT_C2=116]="ABNT_C2",J[J.AudioVolumeMute=117]="AudioVolumeMute",J[J.AudioVolumeUp=118]="AudioVolumeUp",J[J.AudioVolumeDown=119]="AudioVolumeDown",J[J.BrowserSearch=120]="BrowserSearch",J[J.BrowserHome=121]="BrowserHome",J[J.BrowserBack=122]="BrowserBack",J[J.BrowserForward=123]="BrowserForward",J[J.MediaTrackNext=124]="MediaTrackNext",J[J.MediaTrackPrevious=125]="MediaTrackPrevious",J[J.MediaStop=126]="MediaStop",J[J.MediaPlayPause=127]="MediaPlayPause",J[J.LaunchMediaPlayer=128]="LaunchMediaPlayer",J[J.LaunchMail=129]="LaunchMail",J[J.LaunchApp2=130]="LaunchApp2",J[J.Clear=131]="Clear",J[J.MAX_VALUE=132]="MAX_VALUE"})(aB||(aB={}));(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(rB||(rB={}));(function(J){J[J.Unnecessary=1]="Unnecessary",J[J.Deprecated=2]="Deprecated"})(iB||(iB={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(nB||(nB={}));(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.TEXTAREA=1]="TEXTAREA",J[J.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",J[J.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",J[J.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",J[J.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",J[J.CONTENT_TEXT=6]="CONTENT_TEXT",J[J.CONTENT_EMPTY=7]="CONTENT_EMPTY",J[J.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",J[J.CONTENT_WIDGET=9]="CONTENT_WIDGET",J[J.OVERVIEW_RULER=10]="OVERVIEW_RULER",J[J.SCROLLBAR=11]="SCROLLBAR",J[J.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",J[J.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(oB||(oB={}));(function(J){J[J.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",J[J.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",J[J.TOP_CENTER=2]="TOP_CENTER"})(tB||(tB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(eB||(eB={}));(function(J){J[J.Left=0]="Left",J[J.Right=1]="Right",J[J.None=2]="None",J[J.LeftOfInjectedText=3]="LeftOfInjectedText",J[J.RightOfInjectedText=4]="RightOfInjectedText"})(Jj||(Jj={}));(function(J){J[J.Off=0]="Off",J[J.On=1]="On",J[J.Relative=2]="Relative",J[J.Interval=3]="Interval",J[J.Custom=4]="Custom"})($j||($j={}));(function(J){J[J.None=0]="None",J[J.Text=1]="Text",J[J.Blocks=2]="Blocks"})(Xj||(Xj={}));(function(J){J[J.Smooth=0]="Smooth",J[J.Immediate=1]="Immediate"})(Qj||(Qj={}));(function(J){J[J.Auto=1]="Auto",J[J.Hidden=2]="Hidden",J[J.Visible=3]="Visible"})(Yj||(Yj={}));(function(J){J[J.LTR=0]="LTR",J[J.RTL=1]="RTL"})(Zj||(Zj={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(Gj||(Gj={}));(function(J){J[J.File=0]="File",J[J.Module=1]="Module",J[J.Namespace=2]="Namespace",J[J.Package=3]="Package",J[J.Class=4]="Class",J[J.Method=5]="Method",J[J.Property=6]="Property",J[J.Field=7]="Field",J[J.Constructor=8]="Constructor",J[J.Enum=9]="Enum",J[J.Interface=10]="Interface",J[J.Function=11]="Function",J[J.Variable=12]="Variable",J[J.Constant=13]="Constant",J[J.String=14]="String",J[J.Number=15]="Number",J[J.Boolean=16]="Boolean",J[J.Array=17]="Array",J[J.Object=18]="Object",J[J.Key=19]="Key",J[J.Null=20]="Null",J[J.EnumMember=21]="EnumMember",J[J.Struct=22]="Struct",J[J.Event=23]="Event",J[J.Operator=24]="Operator",J[J.TypeParameter=25]="TypeParameter"})(qj||(qj={}));(function(J){J[J.Deprecated=1]="Deprecated"})(Uj||(Uj={}));(function(J){J[J.Hidden=0]="Hidden",J[J.Blink=1]="Blink",J[J.Smooth=2]="Smooth",J[J.Phase=3]="Phase",J[J.Expand=4]="Expand",J[J.Solid=5]="Solid"})(Hj||(Hj={}));(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(zj||(zj={}));(function(J){J[J.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",J[J.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",J[J.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",J[J.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Vj||(Vj={}));(function(J){J[J.None=0]="None",J[J.Same=1]="Same",J[J.Indent=2]="Indent",J[J.DeepIndent=3]="DeepIndent"})(Wj||(Wj={}))});function jj(){return{editor:void 0,languages:void 0,CancellationTokenSource:u8,Emitter:E,KeyCode:aB,KeyMod:f2,Position:b,Range:L,Selection:b0,SelectionDirection:Zj,MarkerSeverity:rB,MarkerTag:iB,Uri:I0,Token:i4}}class f2{static chord(J,$){return y6(J,$)}}var VM=N(()=>{v7();A0();TZ();l8();W1();u0();f7();P6();Bj();f2.CtrlCmd=2048;f2.Shift=1024;f2.Alt=512;f2.WinCtrl=256});class WM{constructor(J){this.fn=J,this.lastCache=void 0,this.lastArgKey=void 0}get(J){const $=JSON.stringify(J);if(this.lastArgKey!==$)this.lastArgKey=$,this.lastCache=this.fn(J);return this.lastCache}}class Fj{get cachedValues(){return this._map}constructor(J){this.fn=J,this._map=new Map}get(J){if(this._map.has(J))return this._map.get(J);const $=this.fn(J);return this._map.set(J,$),$}}var BM=N(()=>{});class i9{constructor(J){this.executor=J,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(J){this._error=J}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var h2=N(()=>{});function Kj(J){if(!J||typeof J!=="string")return!0;return J.trim().length===0}function SQ(J,...$){if($.length===0)return J;return J.replace(B10,function(X,Q){const Y=parseInt(Q,10);return isNaN(Y)||Y<0||Y>=$.length?X:$[Y]})}function kZ(J){return J.replace(/[<>&]/g,function($){switch($){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $}})}function r6(J){return J.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function CQ(J,$){if(!J||!$)return J;const X=$.length;if(X===0||J.length===0)return J;let Q=0;while(J.indexOf($,Q)===Q)Q=Q+X;return J.substring(Q)}function iC(J,$){if(!J||!$)return J;const X=$.length,Q=J.length;if(X===0||Q===0)return J;let Y=Q,Z=-1;while(!0){if(Z=J.lastIndexOf($,Y-1),Z===-1||Z+X!==Y)break;if(Z===0)return"";Y=Z}return J.substring(0,Y)}function nC(J){return J.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Aj(J,$,X={}){if(!J)throw new Error("Cannot create regex from empty string");if(!$)J=r6(J);if(X.wholeWord){if(!/\B/.test(J.charAt(0)))J="\\b"+J;if(!/\B/.test(J.charAt(J.length-1)))J=J+"\\b"}let Q="";if(X.global)Q+="g";if(!X.matchCase)Q+="i";if(X.multiline)Q+="m";if(X.unicode)Q+="u";return new RegExp(J,Q)}function oC(J){if(J.source==="^"||J.source==="^$"||J.source==="$"||J.source==="^\\s*$")return!1;return!!(J.exec("")&&J.lastIndex===0)}function n9(J){return J.split(/\r\n|\r|\n/)}function k8(J){for(let $=0,X=J.length;$<X;$++){const Q=J.charCodeAt($);if(Q!==32&&Q!==9)return $}return-1}function o8(J,$=0,X=J.length){for(let Q=$;Q<X;Q++){const Y=J.charCodeAt(Q);if(Y!==32&&Y!==9)return J.substring($,Q)}return J.substring($,X)}function o9(J,$=J.length-1){for(let X=$;X>=0;X--){const Q=J.charCodeAt(X);if(Q!==32&&Q!==9)return X}return-1}function h3(J,$){if(J<$)return-1;else if(J>$)return 1;else return 0}function Pj(J,$,X=0,Q=J.length,Y=0,Z=$.length){for(;X<Q&&Y<Z;X++,Y++){const U=J.charCodeAt(X),H=$.charCodeAt(Y);if(U<H)return-1;else if(U>H)return 1}const G=Q-X,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function g3(J,$){return p2(J,$,0,J.length,0,$.length)}function p2(J,$,X=0,Q=J.length,Y=0,Z=$.length){for(;X<Q&&Y<Z;X++,Y++){let U=J.charCodeAt(X),H=$.charCodeAt(Y);if(U===H)continue;if(U>=128||H>=128)return Pj(J.toLowerCase(),$.toLowerCase(),X,Q,Y,Z);if(IZ(U))U-=32;if(IZ(H))H-=32;const z=U-H;if(z===0)continue;return z}const G=Q-X,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function p3(J){return J>=48&&J<=57}function IZ(J){return J>=97&&J<=122}function n4(J){return J>=65&&J<=90}function QX(J,$){return J.length===$.length&&p2(J,$)===0}function m2(J,$){const X=$.length;if($.length>J.length)return!1;return p2(J,$,0,X)===0}function EZ(J,$){const X=Math.min(J.length,$.length);let Q;for(Q=0;Q<X;Q++)if(J.charCodeAt(Q)!==$.charCodeAt(Q))return Q;return X}function m3(J,$){const X=Math.min(J.length,$.length);let Q;const Y=J.length-1,Z=$.length-1;for(Q=0;Q<X;Q++)if(J.charCodeAt(Y-Q)!==$.charCodeAt(Z-Q))return Q;return X}function U8(J){return 55296<=J&&J<=56319}function o4(J){return 56320<=J&&J<=57343}function Dj(J,$){return(J-55296<<10)+($-56320)+65536}function u2(J,$,X){const Q=J.charCodeAt(X);if(U8(Q)&&X+1<$){const Y=J.charCodeAt(X+1);if(o4(Y))return Dj(Q,Y)}return Q}function u3(J,$){return new c2(J,$).nextGraphemeLength()}function FM(J,$){return new c2(J,$).prevGraphemeLength()}function tC(J,$){if($>0&&o4(J.charCodeAt($)))$--;const X=$+u3(J,$);return[X-FM(J,X),X]}function YX(J){if(!jM)jM=F10();return jM.test(J)}function l2(J){return K10.test(J)}function Mj(J){return KM.test(J)}function D5(J){return J>=11904&&J<=55215||J>=63744&&J<=64255||J>=65281&&J<=65374}function c3(J){return J>=127462&&J<=127487||J===8986||J===8987||J===9200||J===9203||J>=9728&&J<=10175||J===11088||J===11093||J>=127744&&J<=128591||J>=128640&&J<=128764||J>=128992&&J<=129008||J>=129280&&J<=129535||J>=129648&&J<=129782}function d2(J){return!!(J&&J.length>0&&J.charCodeAt(0)===65279)}function Oj(J){if(J=J%52,J<26)return String.fromCharCode(97+J);return String.fromCharCode(65+J-26)}function Jx(J,$){if(J===0)return 0;const X=P10(J,$);if(X!==void 0)return X;const Q=new Rj($,J);return Q.prevCodePoint(),Q.offset}class Rj{get offset(){return this._offset}constructor(J,$=0){this._str=J,this._len=J.length,this._offset=$}setOffset(J){this._offset=J}prevCodePoint(){const J=j10(this._str,this._offset);return this._offset-=J>=65536?2:1,J}nextCodePoint(){const J=u2(this._str,this._len,this._offset);return this._offset+=J>=65536?2:1,J}eol(){return this._offset>=this._len}}class c2{get offset(){return this._iterator.offset}constructor(J,$=0){this._iterator=new Rj(J,$)}nextGraphemeLength(){const J=yQ.getInstance(),$=this._iterator,X=$.offset;let Q=J.getGraphemeBreakType($.nextCodePoint());while(!$.eol()){const Y=$.offset,Z=J.getGraphemeBreakType($.nextCodePoint());if(rC(Q,Z)){$.setOffset(Y);break}Q=Z}return $.offset-X}prevGraphemeLength(){const J=yQ.getInstance(),$=this._iterator,X=$.offset;let Q=J.getGraphemeBreakType($.prevCodePoint());while($.offset>0){const Y=$.offset,Z=J.getGraphemeBreakType($.prevCodePoint());if(rC(Z,Q)){$.setOffset(Y);break}Q=Z}return X-$.offset}eol(){return this._iterator.eol()}}class yQ{static getInstance(){if(!yQ._INSTANCE)yQ._INSTANCE=new yQ;return yQ._INSTANCE}constructor(){this._data=A10()}getGraphemeBreakType(J){if(J<32){if(J===10)return 3;if(J===13)return 2;return 4}if(J<127)return 0;const $=this._data,X=$.length/3;let Q=1;while(Q<=X)if(J<$[3*Q])Q=2*Q;else if(J>$[3*Q+1])Q=2*Q+1;else return $[3*Q+2];return 0}}class ZX{static getInstance(J){return g2.cache.get(Array.from(J))}static getLocales(){return g2._locales.value}constructor(J){this.confusableDictionary=J}isAmbiguous(J){return this.confusableDictionary.has(J)}getPrimaryConfusable(J){return this.confusableDictionary.get(J)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class XX{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){if(!this._data)this._data=new Set(XX.getRawData());return this._data}static isInvisibleCharacter(J){return XX.getData().has(J)}static get codePoints(){return XX.getData()}}var j10,F10,rC,A10,P10,D10,g2,B10,jM,K10,KM,eC;var l0=N(()=>{BM();h2();j10=function(J,$){const X=J.charCodeAt($-1);if(o4(X)&&$>1){const Q=J.charCodeAt($-2);if(U8(Q))return Dj(Q,X)}return X};F10=function(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/};rC=function(J,$){if(J===0)return $!==5&&$!==7;if(J===2){if($===3)return!1}if(J===4||J===2||J===3)return!0;if($===4||$===2||$===3)return!0;if(J===8){if($===8||$===9||$===11||$===12)return!1}if(J===11||J===9){if($===9||$===10)return!1}if(J===12||J===10){if($===10)return!1}if($===5||$===13)return!1;if($===7)return!1;if(J===1)return!1;if(J===13&&$===14)return!1;if(J===6&&$===6)return!1;return!0},A10=function(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")};P10=function(J,$){const X=new Rj($,J);let Q=X.prevCodePoint();while(D10(Q)||Q===65039||Q===8419){if(X.offset===0)return;Q=X.prevCodePoint()}if(!c3(Q))return;let Y=X.offset;if(Y>0){if(X.prevCodePoint()===8205)Y=X.offset}return Y},D10=function(J){return 127995<=J&&J<=127999},B10=/{(\d+)}/g;jM=void 0,K10=/^[\t\n\r\x20-\x7E]*$/,KM=/[\u2028\u2029]/,eC=String.fromCharCode(65279);yQ._INSTANCE=null;g2=ZX;ZX.ambiguousCharacterData=new i9(()=>{return JSON.parse("{\"_common\":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],\"_default\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"cs\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"de\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"es\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"fr\":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"it\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"ja\":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],\"ko\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"pl\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"pt-BR\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"qps-ploc\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"ru\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"tr\":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"zh-hans\":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],\"zh-hant\":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}")});ZX.cache=new WM((J)=>{function $(H){const z=new Map;for(let V=0;V<H.length;V+=2)z.set(H[V],H[V+1]);return z}function X(H,z){const V=new Map(H);for(let[W,B]of z)V.set(W,B);return V}function Q(H,z){if(!H)return z;const V=new Map;for(let[W,B]of H)if(z.has(W))V.set(W,B);return V}const Y=g2.ambiguousCharacterData.value;let Z=J.filter((H)=>!H.startsWith("_")&&(H in Y));if(Z.length===0)Z=["_default"];let G=void 0;for(let H of Z){const z=$(Y[H]);G=Q(G,z)}const q=$(Y._common),U=X(q,G);return new g2(U)});ZX._locales=new i9(()=>Object.keys(g2.ambiguousCharacterData.value).filter((J)=>!J.startsWith("_")));XX._data=void 0});var $x=N(()=>{j1();F0(".monaco-editor{--monaco-monospace-font:\"SF Mono\",Monaco,Menlo,Consolas,\"Ubuntu Mono\",\"Liberation Mono\",\"DejaVu Sans Mono\",\"Courier New\",monospace;font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif}.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);width:1px;height:1px;margin:-1px;padding:0;top:0;overflow:hidden;position:absolute!important}")});function AM(J,$){if(typeof J==="string")J=window.matchMedia(J);J.addEventListener("change",$)}function Zx(){return Tj.INSTANCE.getZoomFactor()}function Gx(){return Nj}class Tj{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}class Xx extends f{constructor(){super();this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(J){var $;if(($=this._mediaQueryList)===null||$===void 0||$.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),J)this._onDidChange.fire()}}class Qx extends f{get value(){return this._value}constructor(){super();this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const J=this._register(new Xx);this._register(J.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const J=document.createElement("canvas").getContext("2d"),$=window.devicePixelRatio||1,X=J.webkitBackingStorePixelRatio||J.mozBackingStorePixelRatio||J.msBackingStorePixelRatio||J.oBackingStorePixelRatio||J.backingStorePixelRatio||1;return $/X}}class Yx{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){if(!this._pixelRatioMonitor)this._pixelRatioMonitor=MZ(new Qx);return this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}var s2,a2,g7,oJ,_j,N9,wj,X20,PM,Nj;var z9=N(()=>{A0();$0();Tj.INSTANCE=new Tj;s2=new Yx,a2=navigator.userAgent,g7=a2.indexOf("Firefox")>=0,oJ=a2.indexOf("AppleWebKit")>=0,_j=a2.indexOf("Chrome")>=0,N9=!_j&&a2.indexOf("Safari")>=0,wj=!_j&&!N9&&oJ,X20=a2.indexOf("Electron/")>=0,PM=a2.indexOf("Android")>=0,Nj=!1;if(window.matchMedia){const J=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),$=window.matchMedia("(display-mode: fullscreen)");Nj=J.matches,AM(J,({matches:X})=>{if(Nj&&$.matches)return;Nj=X})}});function r0(J){return new Lj(J)}class Lj{constructor(J){this.domNode=J,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(J){const $=tJ(J);if(this._maxWidth===$)return;this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth}setWidth(J){const $=tJ(J);if(this._width===$)return;this._width=$,this.domNode.style.width=this._width}setHeight(J){const $=tJ(J);if(this._height===$)return;this._height=$,this.domNode.style.height=this._height}setTop(J){const $=tJ(J);if(this._top===$)return;this._top=$,this.domNode.style.top=this._top}setLeft(J){const $=tJ(J);if(this._left===$)return;this._left=$,this.domNode.style.left=this._left}setBottom(J){const $=tJ(J);if(this._bottom===$)return;this._bottom=$,this.domNode.style.bottom=this._bottom}setRight(J){const $=tJ(J);if(this._right===$)return;this._right=$,this.domNode.style.right=this._right}setPaddingLeft(J){const $=tJ(J);if(this._paddingLeft===$)return;this._paddingLeft=$,this.domNode.style.paddingLeft=this._paddingLeft}setFontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.domNode.style.fontFamily=this._fontFamily}setFontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.domNode.style.fontWeight=this._fontWeight}setFontSize(J){const $=tJ(J);if(this._fontSize===$)return;this._fontSize=$,this.domNode.style.fontSize=this._fontSize}setFontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J,this.domNode.style.fontStyle=this._fontStyle}setFontFeatureSettings(J){if(this._fontFeatureSettings===J)return;this._fontFeatureSettings=J,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings}setFontVariationSettings(J){if(this._fontVariationSettings===J)return;this._fontVariationSettings=J,this.domNode.style.fontVariationSettings=this._fontVariationSettings}setTextDecoration(J){if(this._textDecoration===J)return;this._textDecoration=J,this.domNode.style.textDecoration=this._textDecoration}setLineHeight(J){const $=tJ(J);if(this._lineHeight===$)return;this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight}setLetterSpacing(J){const $=tJ(J);if(this._letterSpacing===$)return;this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing}setClassName(J){if(this._className===J)return;this._className=J,this.domNode.className=this._className}toggleClassName(J,$){this.domNode.classList.toggle(J,$),this._className=this.domNode.className}setDisplay(J){if(this._display===J)return;this._display=J,this.domNode.style.display=this._display}setPosition(J){if(this._position===J)return;this._position=J,this.domNode.style.position=this._position}setVisibility(J){if(this._visibility===J)return;this._visibility=J,this.domNode.style.visibility=this._visibility}setColor(J){if(this._color===J)return;this._color=J,this.domNode.style.color=this._color}setBackgroundColor(J){if(this._backgroundColor===J)return;this._backgroundColor=J,this.domNode.style.backgroundColor=this._backgroundColor}setLayerHinting(J){if(this._layerHint===J)return;this._layerHint=J,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":""}setBoxShadow(J){if(this._boxShadow===J)return;this._boxShadow=J,this.domNode.style.boxShadow=J}setContain(J){if(this._contain===J)return;this._contain=J,this.domNode.style.contain=this._contain}setAttribute(J,$){this.domNode.setAttribute(J,$)}removeAttribute(J){this.domNode.removeAttribute(J)}appendChild(J){this.domNode.appendChild(J.domNode)}removeChild(J){this.domNode.removeChild(J.domNode)}}var tJ;var q7=N(()=>{tJ=function(J){return typeof J==="number"?`${J}px`:J}});function O8(J,$){if(J instanceof Lj)J.setFontFamily($.getMassagedFontFamily()),J.setFontWeight($.fontWeight),J.setFontSize($.fontSize),J.setFontFeatureSettings($.fontFeatureSettings),J.setFontVariationSettings($.fontVariationSettings),J.setLineHeight($.lineHeight),J.setLetterSpacing($.letterSpacing);else J.style.fontFamily=$.getMassagedFontFamily(),J.style.fontWeight=$.fontWeight,J.style.fontSize=$.fontSize+"px",J.style.fontFeatureSettings=$.fontFeatureSettings,J.style.fontVariationSettings=$.fontVariationSettings,J.style.lineHeight=$.lineHeight+"px",J.style.letterSpacing=$.letterSpacing+"px"}var YJ=N(()=>{q7()});function qx(J,$){new RM(J,$).read()}class DM{constructor(J,$){this.chr=J,this.type=$,this.width=0}fulfill(J){this.width=J}}class RM{constructor(J,$){this._bareFontInfo=J,this._requests=$,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const J=document.createElement("div");J.style.position="absolute",J.style.top="-50000px",J.style.width="50000px";const $=document.createElement("div");O8($,this._bareFontInfo),J.appendChild($);const X=document.createElement("div");O8(X,this._bareFontInfo),X.style.fontWeight="bold",J.appendChild(X);const Q=document.createElement("div");O8(Q,this._bareFontInfo),Q.style.fontStyle="italic",J.appendChild(Q);const Y=[];for(let Z of this._requests){let G;if(Z.type===0)G=$;if(Z.type===2)G=X;if(Z.type===1)G=Q;G.appendChild(document.createElement("br"));const q=document.createElement("span");RM._render(q,Z),G.appendChild(q),Y.push(q)}this._container=J,this._testElements=Y}static _render(J,$){if($.chr===" "){let X="\xA0";for(let Q=0;Q<8;Q++)X+=X;J.innerText=X}else{let X=$.chr;for(let Q=0;Q<8;Q++)X+=X;J.textContent=X}}_readFromDomElements(){for(let J=0,$=this._requests.length;J<$;J++){const X=this._requests[J],Q=this._testElements[J];X.fulfill(Q.offsetWidth/256)}}}var Ux=N(()=>{YJ()});var ZJ;var l3=N(()=>{A0();ZJ=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new E,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(J){if(J=Math.min(Math.max(-5,J),20),this._zoomLevel===J)return;this._zoomLevel=J,this._onDidChangeZoomLevel.fire(this._zoomLevel)}}});class qX{static createFromValidatedSettings(J,$,X){const Q=J.get(49),Y=J.get(53),Z=J.get(52),G=J.get(51),q=J.get(54),U=J.get(66),H=J.get(63);return qX._create(Q,Y,Z,G,q,U,H,$,X)}static _create(J,$,X,Q,Y,Z,G,q,U){if(Z===0)Z=R10*X;else if(Z<MM)Z=Z*X;if(Z=Math.round(Z),Z<MM)Z=MM;const H=1+(U?0:ZJ.getZoomLevel()*0.1);if(X*=H,Z*=H,Y===t5.TRANSLATE)if($==="normal"||$==="bold")Y=t5.OFF;else Y=`'wght' ${parseInt($,10)}`,$="normal";return new qX({pixelRatio:q,fontFamily:J,fontWeight:$,fontSize:X,fontFeatureSettings:Q,fontVariationSettings:Y,lineHeight:Z,letterSpacing:G})}constructor(J){this._bareFontInfoBrand=void 0,this.pixelRatio=J.pixelRatio,this.fontFamily=String(J.fontFamily),this.fontWeight=String(J.fontWeight),this.fontSize=J.fontSize,this.fontFeatureSettings=J.fontFeatureSettings,this.fontVariationSettings=J.fontVariationSettings,this.lineHeight=J.lineHeight|0,this.letterSpacing=J.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const J=M9.fontFamily,$=qX._wrapInQuotes(this.fontFamily);if(J&&this.fontFamily!==J)return`${$}, ${J}`;return $}static _wrapInQuotes(J){if(/[,"']/.test(J))return J;if(/[+ ]/.test(J))return`"${J}"`;return J}}class r2 extends qX{constructor(J,$){super(J);this._editorStylingBrand=void 0,this.version=M10,this.isTrusted=$,this.isMonospace=J.isMonospace,this.typicalHalfwidthCharacterWidth=J.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=J.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=J.canUseHalfwidthRightwardsArrow,this.spaceWidth=J.spaceWidth,this.middotWidth=J.middotWidth,this.wsmiddotWidth=J.wsmiddotWidth,this.maxDigitWidth=J.maxDigitWidth}equals(J){return this.fontFamily===J.fontFamily&&this.fontWeight===J.fontWeight&&this.fontSize===J.fontSize&&this.fontFeatureSettings===J.fontFeatureSettings&&this.fontVariationSettings===J.fontVariationSettings&&this.lineHeight===J.lineHeight&&this.letterSpacing===J.letterSpacing&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===J.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.maxDigitWidth===J.maxDigitWidth}}var R10,MM,M10;var Ij=N(()=>{O1();F6();l3();R10=n0?1.5:1.35,MM=8;M10=2});class Hx extends f{constructor(){super();this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._cache=new OM,this._evictUntrustedReadingsTimeout=-1}dispose(){if(this._evictUntrustedReadingsTimeout!==-1)window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1;super.dispose()}clearAllFontInfos(){this._cache=new OM,this._onDidChange.fire()}_writeToCache(J,$){if(this._cache.put(J,$),!$.isTrusted&&this._evictUntrustedReadingsTimeout===-1)this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5000)}_evictUntrustedReadings(){const J=this._cache.getValues();let $=!1;for(let X of J)if(!X.isTrusted)$=!0,this._cache.remove(X);if($)this._onDidChange.fire()}readFontInfo(J){if(!this._cache.has(J)){let $=this._actualReadFontInfo(J);if($.typicalHalfwidthCharacterWidth<=2||$.typicalFullwidthCharacterWidth<=2||$.spaceWidth<=2||$.maxDigitWidth<=2)$=new r2({pixelRatio:s2.value,fontFamily:$.fontFamily,fontWeight:$.fontWeight,fontSize:$.fontSize,fontFeatureSettings:$.fontFeatureSettings,fontVariationSettings:$.fontVariationSettings,lineHeight:$.lineHeight,letterSpacing:$.letterSpacing,isMonospace:$.isMonospace,typicalHalfwidthCharacterWidth:Math.max($.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max($.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:$.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max($.spaceWidth,5),middotWidth:Math.max($.middotWidth,5),wsmiddotWidth:Math.max($.wsmiddotWidth,5),maxDigitWidth:Math.max($.maxDigitWidth,5)},!1);this._writeToCache(J,$)}return this._cache.get(J)}_createRequest(J,$,X,Q){const Y=new DM(J,$);return X.push(Y),Q===null||Q===void 0||Q.push(Y),Y}_actualReadFontInfo(J){const $=[],X=[],Q=this._createRequest("n",0,$,X),Y=this._createRequest("\uFF4D",0,$,null),Z=this._createRequest(" ",0,$,X),G=this._createRequest("0",0,$,X),q=this._createRequest("1",0,$,X),U=this._createRequest("2",0,$,X),H=this._createRequest("3",0,$,X),z=this._createRequest("4",0,$,X),V=this._createRequest("5",0,$,X),W=this._createRequest("6",0,$,X),B=this._createRequest("7",0,$,X),j=this._createRequest("8",0,$,X),K=this._createRequest("9",0,$,X),D=this._createRequest("\u2192",0,$,X),A=this._createRequest("\uFFEB",0,$,null),P=this._createRequest("\xB7",0,$,X),R=this._createRequest(String.fromCharCode(11825),0,$,null);for(let C=0,h="|/-_ilm%".length;C<h;C++)this._createRequest("|/-_ilm%".charAt(C),0,$,X),this._createRequest("|/-_ilm%".charAt(C),1,$,X),this._createRequest("|/-_ilm%".charAt(C),2,$,X);qx(J,$);const T=Math.max(G.width,q.width,U.width,H.width,z.width,V.width,W.width,B.width,j.width,K.width);let _=J.fontFeatureSettings===a6.OFF;const w=X[0].width;for(let C=1,h=X.length;_&&C<h;C++){const p=w-X[C].width;if(p<-0.001||p>0.001){_=!1;break}}let x=!0;if(_&&A.width!==w)x=!1;if(A.width>D.width)x=!1;return new r2({pixelRatio:s2.value,fontFamily:J.fontFamily,fontWeight:J.fontWeight,fontSize:J.fontSize,fontFeatureSettings:J.fontFeatureSettings,fontVariationSettings:J.fontVariationSettings,lineHeight:J.lineHeight,letterSpacing:J.letterSpacing,isMonospace:_,typicalHalfwidthCharacterWidth:Q.width,typicalFullwidthCharacterWidth:Y.width,canUseHalfwidthRightwardsArrow:x,spaceWidth:Z.width,middotWidth:P.width,wsmiddotWidth:R.width,maxDigitWidth:T},!0)}}class OM{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(J){const $=J.getId();return!!this._values[$]}get(J){const $=J.getId();return this._values[$]}put(J,$){const X=J.getId();this._keys[X]=J,this._values[X]=$}remove(J){const $=J.getId();delete this._keys[$],delete this._values[$]}getValues(){return Object.keys(this._keys).map((J)=>this._values[J])}}var d3;var NM=N(()=>{z9();A0();$0();Ux();F6();Ij();d3=new Hx});function O0(J){if(GJ.serviceIds.has(J))return GJ.serviceIds.get(J);const $=function(X,Q,Y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");O10($,X,Y)};return $.toString=()=>J,GJ.serviceIds.set(J,$),$}var O10,GJ,G1;var e0=N(()=>{O10=function(J,$,X){if($[GJ.DI_TARGET]===$)$[GJ.DI_DEPENDENCIES].push({id:J,index:X});else $[GJ.DI_DEPENDENCIES]=[{id:J,index:X}],$[GJ.DI_TARGET]=$};(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function $(X){return X[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=$})(GJ||(GJ={}));G1=O0("instantiationService")});var p1;var t9=N(()=>{e0();p1=O0("codeEditorService")});var U7;var UX=N(()=>{e0();U7=O0("modelService")});var HX;var s3=N(()=>{e0();HX=O0("textModelService")});function TM(J){var $,X;return{id:J.id,label:J.label,class:void 0,enabled:($=J.enabled)!==null&&$!==void 0?$:!0,checked:(X=J.checked)!==null&&X!==void 0?X:!1,run:(...Q)=>i2(this,void 0,void 0,function*(){return J.run(...Q)}),tooltip:J.label}}class i6 extends f{constructor(J,$="",X="",Q=!0,Y){super();this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=J,this._label=$,this._cssClass=X,this._enabled=Q,this._actionCallback=Y}get id(){return this._id}get label(){return this._label}set label(J){this._setLabel(J)}_setLabel(J){if(this._label!==J)this._label=J,this._onDidChange.fire({label:J})}get tooltip(){return this._tooltip||""}set tooltip(J){this._setTooltip(J)}_setTooltip(J){if(this._tooltip!==J)this._tooltip=J,this._onDidChange.fire({tooltip:J})}get class(){return this._cssClass}set class(J){this._setClass(J)}_setClass(J){if(this._cssClass!==J)this._cssClass=J,this._onDidChange.fire({class:J})}get enabled(){return this._enabled}set enabled(J){this._setEnabled(J)}_setEnabled(J){if(this._enabled!==J)this._enabled=J,this._onDidChange.fire({enabled:J})}get checked(){return this._checked}set checked(J){this._setChecked(J)}_setChecked(J){if(this._checked!==J)this._checked=J,this._onDidChange.fire({checked:J})}run(J,$){return i2(this,void 0,void 0,function*(){if(this._actionCallback)yield this._actionCallback(J)})}}class qJ extends f{constructor(){super(...arguments);this._onWillRun=this._register(new E),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new E),this.onDidRun=this._onDidRun.event}run(J,$){return i2(this,void 0,void 0,function*(){if(!J.enabled)return;this._onWillRun.fire({action:J});let X=void 0;try{yield this.runAction(J,$)}catch(Q){X=Q}this._onDidRun.fire({action:J,error:X})})}runAction(J,$){return i2(this,void 0,void 0,function*(){yield J.run($)})}}class p7{constructor(){this.id=p7.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...J){let $=[];for(let X of J)if(!X.length);else if($.length)$=[...$,new p7,...X];else $=X;return $}run(){return i2(this,void 0,void 0,function*(){})}}class yZ{get actions(){return this._actions}constructor(J,$,X,Q){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=J,this.label=$,this.class=Q,this._actions=X}run(){return i2(this,void 0,void 0,function*(){})}}class a3 extends i6{constructor(){super(a3.ID,F("submenu.empty","(empty)"),void 0,!1)}}var i2;var T9=N(()=>{A0();$0();m0();i2=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};p7.ID="vs.actions.separator";a3.ID="vs.actions.empty"});var _M,C0;var k7=N(()=>{h7();(function(J){function $(X){return X&&typeof X==="object"&&typeof X.id==="string"}J.isThemeColor=$})(_M||(_M={}));(function(J){J.iconNameSegment="[A-Za-z0-9]+",J.iconNameExpression="[A-Za-z0-9-]+",J.iconModifierExpression="~[A-Za-z]+",J.iconNameCharacter="[A-Za-z0-9~-]";const $=new RegExp(`^(${J.iconNameExpression})(${J.iconModifierExpression})?\$`);function X(W){const B=$.exec(W.id);if(!B)return X(z0.error);const[,j,K]=B,D=["codicon","codicon-"+j];if(K)D.push("codicon-modifier-"+K.substring(1));return D}J.asClassNameArray=X;function Q(W){return X(W).join(" ")}J.asClassName=Q;function Y(W){return"."+X(W).join(".")}J.asCSSSelector=Y;function Z(W){return W&&typeof W==="object"&&typeof W.id==="string"&&(typeof W.color==="undefined"||_M.isThemeColor(W.color))}J.isThemeIcon=Z;const G=new RegExp(`^\\\$\\((${J.iconNameExpression}(?:${J.iconModifierExpression})?)\\)\$`);function q(W){const B=G.exec(W);if(!B)return;const[,j]=B;return{id:j}}J.fromString=q;function U(W){return{id:W}}J.fromId=U;function H(W,B){let j=W.id;const K=j.lastIndexOf("~");if(K!==-1)j=j.substring(0,K);if(B)j=`${j}~${B}`;return{id:j}}J.modify=H;function z(W){const B=W.id.lastIndexOf("~");if(B!==-1)return W.id.substring(B+1);return}J.getModifier=z;function V(W,B){var j,K;return W.id===B.id&&((j=W.color)===null||j===void 0?void 0:j.id)===((K=B.color)===null||K===void 0?void 0:K.id)}J.isEqual=V})(C0||(C0={}))});var H7,V8;var n6=N(()=>{A0();A5();$0();P5();j8();e0();H7=O0("commandService"),V8=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new E,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(J,$){if(!J)throw new Error("invalid command");if(typeof J==="string"){if(!$)throw new Error("invalid command");return this.registerCommand({id:J,handler:$})}if(J.description){const G=[];for(let U of J.description.args)G.push(U.constraint);const q=J.handler;J.handler=function(U,...H){return NS(H,G),q(U,...H)}}const{id:X}=J;let Q=this._commands.get(X);if(!Q)Q=new I8,this._commands.set(X,Q);const Y=Q.unshift(J),Z=N0(()=>{Y();const G=this._commands.get(X);if(G===null||G===void 0?void 0:G.isEmpty())this._commands.delete(X)});return this._onDidRegisterCommand.fire(X),Z}registerCommandAlias(J,$){return V8.registerCommand(J,(X,...Q)=>X.get(H7).executeCommand($,...Q))}getCommand(J){const $=this._commands.get(J);if(!$||$.isEmpty())return;return U1.first($)}getCommands(){const J=new Map;for(let $ of this._commands.keys()){const X=this.getCommand($);if(X)J.set($,X)}return J}};V8.registerCommand("noop",()=>{})});class eJ{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(J){switch(J.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return J.isTripleEq?"===":"==";case 4:return J.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return J.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return J.lexeme;case 18:return J.lexeme;case 19:return J.lexeme;case 20:return"EOF";default:throw C2(`unhandled token type: ${JSON.stringify(J)}; have you forgotten to add a case?`)}}reset(J){return this._input=J,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){while(!this._isAtEnd())switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const $=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:$})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const $=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$})}else if(this._match(126))this._addToken(9);else this._error(wM("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:if(this._match(38))this._addToken(15);else this._error(wM("&&"));break;case 124:if(this._match(124))this._addToken(16);else this._error(wM("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(J){if(this._isAtEnd())return!1;if(this._input.charCodeAt(this._current)!==J)return!1;return this._current++,!0}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(J){this._tokens.push({type:J,offset:this._start})}_error(J){const $=this._start,X=this._input.substring(this._start,this._current),Q={type:19,offset:this._start,lexeme:X};this._errors.push({offset:$,lexeme:X,additionalInfo:J}),this._tokens.push(Q)}_string(){this.stringRe.lastIndex=this._start;const J=this.stringRe.exec(this._input);if(J){this._current=this._start+J[0].length;const $=this._input.substring(this._start,this._current),X=eJ._keywords.get($);if(X)this._addToken(X);else this._tokens.push({type:17,lexeme:$,offset:this._start})}}_quotedString(){while(this._peek()!==39&&!this._isAtEnd())this._advance();if(this._isAtEnd()){this._error(N10);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let J=this._current,$=!1,X=!1;while(!0){if(J>=this._input.length){this._current=J,this._error(T10);return}const Y=this._input.charCodeAt(J);if($)$=!1;else if(Y===47&&!X){J++;break}else if(Y===91)X=!0;else if(Y===92)$=!0;else if(Y===93)X=!1;J++}while(J<this._input.length&&eJ._regexFlags.has(this._input.charCodeAt(J)))J++;this._current=J;const Q=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Q,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var wM,N10,T10;var zx=N(()=>{A1();m0();wM=function(...J){switch(J.length){case 1:return F("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",J[0]);case 2:return F("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",J[0],J[1]);case 3:return F("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",J[0],J[1],J[2]);default:return}},N10=F("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),T10=F("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/\'.");eJ._regexFlags=new Set(["i","g","s","m","y","u"].map((J)=>J.charCodeAt(0)));eJ._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])});function jx(J,$){const X=J?J.substituteConstants():void 0,Q=$?$.substituteConstants():void 0;if(!X&&!Q)return!0;if(!X||!Q)return!1;return X.equals(Q)}function kj(J,$){if(J.type===0||$.type===1)return!0;if(J.type===9){if($.type===9)return Wx(J.expr,$.expr);return!1}if($.type===9){for(let X of $.expr)if(kj(J,X))return!0;return!1}if(J.type===6){if($.type===6)return Wx($.expr,J.expr);for(let X of J.expr)if(kj(X,$))return!0;return!1}return J.equals($)}class SZ{constructor(J=w10){this._config=J,this._scanner=new eJ,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(J){if(J===""){this._parsingErrors.push({message:L10,offset:0,lexeme:"",additionalInfo:I10});return}this._tokens=this._scanner.reset(J).scan(),this._current=0,this._parsingErrors=[];try{const $=this._expr();if(!this._isAtEnd()){const X=this._peek(),Q=X.type===17?y10:void 0;throw this._parsingErrors.push({message:E10,offset:X.offset,lexeme:eJ.getLexeme(X),additionalInfo:Q}),SZ._parseError}return $}catch($){if($!==SZ._parseError)throw $;return}}_expr(){return this._or()}_or(){const J=[this._and()];while(this._matchOne(16)){const $=this._and();J.push($)}return J.length===1?J[0]:M0.or(...J)}_and(){const J=[this._term()];while(this._matchOne(15)){const $=this._term();J.push($)}return J.length===1?J[0]:M0.and(...J)}_term(){if(this._matchOne(2)){const J=this._peek();switch(J.type){case 11:return this._advance(),C6.INSTANCE;case 12:return this._advance(),o6.INSTANCE;case 0:{this._advance();const $=this._expr();return this._consume(1,Vx),$===null||$===void 0?void 0:$.negate()}case 17:return this._advance(),bZ.create(J.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",J)}}return this._primary()}_primary(){const J=this._peek();switch(J.type){case 11:return this._advance(),M0.true();case 12:return this._advance(),M0.false();case 0:{this._advance();const $=this._expr();return this._consume(1,Vx),$}case 17:{const $=J.lexeme;if(this._advance(),this._matchOne(9)){const Q=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Q.type!==10)throw this._errExpectedButGot("REGEX",Q);const Y=Q.lexeme,Z=Y.lastIndexOf("/"),G=Z===Y.length-1?void 0:this._removeFlagsGY(Y.substring(Z+1));let q;try{q=new RegExp(Y.substring(1,Z),G)}catch(U){throw this._errExpectedButGot("REGEX",Q)}return i3.create($,q)}switch(Q.type){case 10:case 19:{const Y=[Q.lexeme];this._advance();let Z=this._peek(),G=0;for(let V=0;V<Q.lexeme.length;V++)if(Q.lexeme.charCodeAt(V)===40)G++;else if(Q.lexeme.charCodeAt(V)===41)G--;while(!this._isAtEnd()&&Z.type!==15&&Z.type!==16){switch(Z.type){case 0:G++;break;case 1:G--;break;case 10:case 18:for(let V=0;V<Z.lexeme.length;V++)if(Z.lexeme.charCodeAt(V)===40)G++;else if(Q.lexeme.charCodeAt(V)===41)G--}if(G<0)break;Y.push(eJ.getLexeme(Z)),this._advance(),Z=this._peek()}const q=Y.join(""),U=q.lastIndexOf("/"),H=U===q.length-1?void 0:this._removeFlagsGY(q.substring(U+1));let z;try{z=new RegExp(q.substring(1,U),H)}catch(V){throw this._errExpectedButGot("REGEX",Q)}return M0.regex($,z)}case 18:{const Y=Q.lexeme;this._advance();let Z=null;if(!Kj(Y)){const G=Y.indexOf("/"),q=Y.lastIndexOf("/");if(G!==q&&G>=0){const U=Y.slice(G+1,q),H=Y[q+1]==="i"?"i":"";try{Z=new RegExp(U,H)}catch(z){throw this._errExpectedButGot("REGEX",Q)}}}if(Z===null)throw this._errExpectedButGot("REGEX",Q);return i3.create($,Z)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,k10);const Q=this._value();return M0.notIn($,Q)}switch(this._peek().type){case 3:{this._advance();const Q=this._value();if(this._previous().type===18)return M0.equals($,Q);switch(Q){case"true":return M0.has($);case"false":return M0.not($);default:return M0.equals($,Q)}}case 4:{this._advance();const Q=this._value();if(this._previous().type===18)return M0.notEquals($,Q);switch(Q){case"true":return M0.not($);case"false":return M0.has($);default:return M0.notEquals($,Q)}}case 5:return this._advance(),vj.create($,this._value());case 6:return this._advance(),fj.create($,this._value());case 7:return this._advance(),xj.create($,this._value());case 8:return this._advance(),bj.create($,this._value());case 13:return this._advance(),M0.in($,this._value());default:return M0.has($)}}case 20:throw this._parsingErrors.push({message:S10,offset:J.offset,lexeme:"",additionalInfo:C10}),SZ._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const J=this._peek();switch(J.type){case 17:case 18:return this._advance(),J.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(J){return J.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(J){if(this._check(J))return this._advance(),!0;return!1}_advance(){if(!this._isAtEnd())this._current++;return this._previous()}_consume(J,$){if(this._check(J))return this._advance();throw this._errExpectedButGot($,this._peek())}_errExpectedButGot(J,$,X){const Q=F("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",J,eJ.getLexeme($)),Y=$.offset,Z=eJ.getLexeme($);return this._parsingErrors.push({message:Q,offset:Y,lexeme:Z,additionalInfo:X}),SZ._parseError}_check(J){return this._peek().type===J}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class M0{static false(){return C6.INSTANCE}static true(){return o6.INSTANCE}static has(J){return xZ.create(J)}static equals(J,$){return n3.create(J,$)}static notEquals(J,$){return Sj.create(J,$)}static regex(J,$){return i3.create(J,$)}static in(J,$){return Ej.create(J,$)}static notIn(J,$){return yj.create(J,$)}static not(J){return bZ.create(J)}static and(...J){return CZ.create(J,null,!0)}static or(...J){return zX.create(J,null,!0)}static deserialize(J){if(J===void 0||J===null)return;return this._parser.parse(J)}}class C6{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return o6.INSTANCE}}class o6{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return C6.INSTANCE}}class xZ{static create(J,$=null){const X=D6.get(J);if(typeof X==="boolean")return X?o6.INSTANCE:C6.INSTANCE;return new xZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=2}cmp(J){if(J.type!==this.type)return this.type-J.type;return Kx(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){const J=D6.get(this.key);if(typeof J==="boolean")return J?o6.INSTANCE:C6.INSTANCE;return this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){if(!this.negated)this.negated=bZ.create(this.key,this);return this.negated}}class n3{static create(J,$,X=null){if(typeof $==="boolean")return $?xZ.create(J,X):bZ.create(J,X);const Q=D6.get(J);if(typeof Q==="boolean")return $===(Q?"true":"false")?o6.INSTANCE:C6.INSTANCE;return new n3(J,$,X)}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=4}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){const J=D6.get(this.key);if(typeof J==="boolean"){const $=J?"true":"false";return this.value===$?o6.INSTANCE:C6.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=Sj.create(this.key,this.value,this);return this.negated}}class Ej{static create(J,$){return new Ej(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=10,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.valueKey,J.key,J.valueKey)}equals(J){if(J.type===this.type)return this.key===J.key&&this.valueKey===J.valueKey;return!1}substituteConstants(){return this}evaluate(J){const $=J.getValue(this.valueKey),X=J.getValue(this.key);if(Array.isArray($))return $.includes(X);if(typeof X==="string"&&typeof $==="object"&&$!==null)return _10.call($,X);return!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){if(!this.negated)this.negated=yj.create(this.key,this.valueKey);return this.negated}}class yj{static create(J,$){return new yj(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=11,this._negated=Ej.create(J,$)}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._negated.cmp(J._negated)}equals(J){if(J.type===this.type)return this._negated.equals(J._negated);return!1}substituteConstants(){return this}evaluate(J){return!this._negated.evaluate(J)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class Sj{static create(J,$,X=null){if(typeof $==="boolean"){if($)return bZ.create(J,X);return xZ.create(J,X)}const Q=D6.get(J);if(typeof Q==="boolean")return $===(Q?"true":"false")?C6.INSTANCE:o6.INSTANCE;return new Sj(J,$,X)}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=5}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){const J=D6.get(this.key);if(typeof J==="boolean"){const $=J?"true":"false";return this.value===$?C6.INSTANCE:o6.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=n3.create(this.key,this.value,this);return this.negated}}class bZ{static create(J,$=null){const X=D6.get(J);if(typeof X==="boolean")return X?C6.INSTANCE:o6.INSTANCE;return new bZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=3}cmp(J){if(J.type!==this.type)return this.type-J.type;return Kx(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){const J=D6.get(this.key);if(typeof J==="boolean")return J?C6.INSTANCE:o6.INSTANCE;return this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=xZ.create(this.key,this);return this.negated}}class xj{static create(J,$,X=null){return Cj($,(Q)=>new xj(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=12}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=fj.create(this.key,this.value,this);return this.negated}}class bj{static create(J,$,X=null){return Cj($,(Q)=>new bj(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=13}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=vj.create(this.key,this.value,this);return this.negated}}class vj{static create(J,$,X=null){return Cj($,(Q)=>new vj(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=14}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=bj.create(this.key,this.value,this);return this.negated}}class fj{static create(J,$,X=null){return Cj($,(Q)=>new fj(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=15}cmp(J){if(J.type!==this.type)return this.type-J.type;return vZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=xj.create(this.key,this.value,this);return this.negated}}class i3{static create(J,$){return new i3(J,$)}constructor(J,$){this.key=J,this.regexp=$,this.type=7,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const $=this.regexp?this.regexp.source:"",X=J.regexp?J.regexp.source:"";if($<X)return-1;if($>X)return 1;return 0}equals(J){if(J.type===this.type){const $=this.regexp?this.regexp.source:"",X=J.regexp?J.regexp.source:"";return this.key===J.key&&$===X}return!1}substituteConstants(){return this}evaluate(J){const $=J.getValue(this.key);return this.regexp?this.regexp.test($):!1}serialize(){const J=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=LM.create(this);return this.negated}}class LM{static create(J){return new LM(J)}constructor(J){this._actual=J,this.type=8}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._actual.cmp(J._actual)}equals(J){if(J.type===this.type)return this._actual.equals(J._actual);return!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}class CZ{static create(J,$,X){return CZ._normalizeArr(J,$,X)}constructor(J,$){this.expr=J,this.negated=$,this.type=6}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,X=this.expr.length;$<X;$++){const Q=r3(this.expr[$],J.expr[$]);if(Q!==0)return Q}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){const J=Fx(this.expr);if(J===this.expr)return this;return CZ.create(J,this.negated,!1)}evaluate(J){for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].evaluate(J))return!1;return!0}static _normalizeArr(J,$,X){const Q=[];let Y=!1;for(let Z of J){if(!Z)continue;if(Z.type===1){Y=!0;continue}if(Z.type===0)return C6.INSTANCE;if(Z.type===6){Q.push(...Z.expr);continue}Q.push(Z)}if(Q.length===0&&Y)return o6.INSTANCE;if(Q.length===0)return;if(Q.length===1)return Q[0];Q.sort(r3);for(let Z=1;Z<Q.length;Z++)if(Q[Z-1].equals(Q[Z]))Q.splice(Z,1),Z--;if(Q.length===1)return Q[0];while(Q.length>1){const Z=Q[Q.length-1];if(Z.type!==9)break;Q.pop();const G=Q.pop(),q=Q.length===0,U=zX.create(Z.expr.map((H)=>CZ.create([H,G],null,X)),null,q);if(U)Q.push(U),Q.sort(r3)}if(Q.length===1)return Q[0];if(X){for(let Z=0;Z<Q.length;Z++)for(let G=Z+1;G<Q.length;G++)if(Q[Z].negate().equals(Q[G]))return C6.INSTANCE;if(Q.length===1)return Q[0]}return new CZ(Q,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" && ")}keys(){const J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){const J=[];for(let $ of this.expr)J.push($.negate());this.negated=zX.create(J,this,!0)}return this.negated}}class zX{static create(J,$,X){return zX._normalizeArr(J,$,X)}constructor(J,$){this.expr=J,this.negated=$,this.type=9}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,X=this.expr.length;$<X;$++){const Q=r3(this.expr[$],J.expr[$]);if(Q!==0)return Q}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){const J=Fx(this.expr);if(J===this.expr)return this;return zX.create(J,this.negated,!1)}evaluate(J){for(let $=0,X=this.expr.length;$<X;$++)if(this.expr[$].evaluate(J))return!0;return!1}static _normalizeArr(J,$,X){let Q=[],Y=!1;if(J){for(let Z=0,G=J.length;Z<G;Z++){const q=J[Z];if(!q)continue;if(q.type===0){Y=!0;continue}if(q.type===1)return o6.INSTANCE;if(q.type===9){Q=Q.concat(q.expr);continue}Q.push(q)}if(Q.length===0&&Y)return C6.INSTANCE;Q.sort(r3)}if(Q.length===0)return;if(Q.length===1)return Q[0];for(let Z=1;Z<Q.length;Z++)if(Q[Z-1].equals(Q[Z]))Q.splice(Z,1),Z--;if(Q.length===1)return Q[0];if(X){for(let Z=0;Z<Q.length;Z++)for(let G=Z+1;G<Q.length;G++)if(Q[Z].negate().equals(Q[G]))return o6.INSTANCE;if(Q.length===1)return Q[0]}return new zX(Q,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" || ")}keys(){const J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){const J=[];for(let $ of this.expr)J.push($.negate());while(J.length>1){const $=J.shift(),X=J.shift(),Q=[];for(let Y of Bx($))for(let Z of Bx(X))Q.push(CZ.create([Y,Z],null,!1));J.unshift(zX.create(Q,null,!1))}this.negated=zX.create(J,this,!0)}return this.negated}}class V0 extends xZ{static all(){return V0._info.values()}constructor(J,$,X){super(J,null);if(this._defaultValue=$,typeof X==="object")V0._info.push(Object.assign(Object.assign({},X),{key:J}));else if(X!==!0)V0._info.push({key:J,description:X,type:$!==null&&$!==void 0?typeof $:void 0})}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return n3.create(this.key,J)}}var r3,Cj,Fx,Kx,vZ,Wx,Bx,D6,_10,w10,L10,I10,k10,Vx,E10,y10,S10,C10,p0;var s1=N(()=>{O1();l0();zx();e0();m0();r3=function(J,$){return J.cmp($)},Cj=function(J,$){if(typeof J==="string"){const X=parseFloat(J);if(!isNaN(X))J=X}if(typeof J==="string"||typeof J==="number")return $(J);return C6.INSTANCE},Fx=function(J){let $=null;for(let X=0,Q=J.length;X<Q;X++){const Y=J[X].substituteConstants();if(J[X]!==Y){if($===null){$=[];for(let Z=0;Z<X;Z++)$[Z]=J[Z]}}if($!==null)$[X]=Y}if($===null)return J;return $},Kx=function(J,$){if(J<$)return-1;if(J>$)return 1;return 0},vZ=function(J,$,X,Q){if(J<X)return-1;if(J>X)return 1;if($<Q)return-1;if($>Q)return 1;return 0};Wx=function(J,$){let X=0,Q=0;while(X<J.length&&Q<$.length){const Y=J[X].cmp($[Q]);if(Y<0)return!1;else if(Y===0)X++,Q++;else Q++}return X===J.length},Bx=function(J){if(J.type===9)return J.expr;return[J]},D6=new Map;D6.set("false",!1);D6.set("true",!0);D6.set("isMac",n0);D6.set("isLinux",q8);D6.set("isWindows",F8);D6.set("isWeb",l4);D6.set("isMacNative",n0&&!l4);D6.set("isEdge",gS);D6.set("isFirefox",fS);D6.set("isChrome",uR);D6.set("isSafari",hS);_10=Object.prototype.hasOwnProperty,w10={regexParsingWithErrorRecovery:!0},L10=F("contextkey.parser.error.emptyString","Empty context key expression"),I10=F("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),k10=F("contextkey.parser.error.noInAfterNot","'in' after 'not'."),Vx=F("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),E10=F("contextkey.parser.error.unexpectedToken","Unexpected token"),y10=F("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),S10=F("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),C10=F("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");SZ._parseError=new Error;M0._parser=new SZ({regexParsingWithErrorRecovery:!1});C6.INSTANCE=new C6;o6.INSTANCE=new o6;V0._info=[];p0=O0("contextKeyService")});function o3(J,$){if(typeof J==="number"){if(J===0)return null;const X=(J&65535)>>>0,Q=(J&4294901760)>>>16;if(Q!==0)return new gj([hj(X,$),hj(Q,$)]);return new gj([hj(X,$)])}else{const X=[];for(let Q=0;Q<J.length;Q++)X.push(hj(J[Q],$));return new gj(X)}}function hj(J,$){const X=J&2048?!0:!1,Q=J&256?!0:!1,Y=$===2?Q:X,Z=J&1024?!0:!1,G=J&512?!0:!1,q=$===2?X:Q,U=J&255;return new R5(Y,Z,G,q,U)}class R5{constructor(J,$,X,Q,Y){this.ctrlKey=J,this.shiftKey=$,this.altKey=X,this.metaKey=Q,this.keyCode=Y}equals(J){return J instanceof R5&&this.ctrlKey===J.ctrlKey&&this.shiftKey===J.shiftKey&&this.altKey===J.altKey&&this.metaKey===J.metaKey&&this.keyCode===J.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class gj{constructor(J){if(J.length===0)throw rJ("chords");this.chords=J}}class IM{constructor(J,$,X,Q,Y,Z){this.ctrlKey=J,this.shiftKey=$,this.altKey=X,this.metaKey=Q,this.keyLabel=Y,this.keyAriaLabel=Z}}class kM{}var fZ=N(()=>{A1()});function pj(J,$){if(!J)throw new Error($?`Assertion failed (${$})`:"Assertion Failed")}function n2(J,$="Unreachable"){throw new Error($)}function xQ(J){if(!J()){debugger;J(),a0(new n1("Assertion Failed"))}}function mj(J,$){let X=0;while(X<J.length-1){const Q=J[X],Y=J[X+1];if(!$(Q,Y))return!1;X++}return!0}var bQ=N(()=>{A1()});class Ax{constructor(){this.data=new Map}add(J,$){pj(Z7(J)),pj(r8($)),pj(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,$)}as(J){return this.data.get(J)||null}}var a1;var t6=N(()=>{bQ();j8();a1=new Ax});class EM{constructor(){this._coreKeybindings=new I8,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(J){if(k6===1){if(J&&J.win)return J.win}else if(k6===2){if(J&&J.mac)return J.mac}else if(J&&J.linux)return J.linux;return J}registerKeybindingRule(J){const $=EM.bindToCurrentPlatform(J),X=new e;if($&&$.primary){const Q=o3($.primary,k6);if(Q)X.add(this._registerDefaultKeybinding(Q,J.id,J.args,J.weight,0,J.when))}if($&&Array.isArray($.secondary))for(let Q=0,Y=$.secondary.length;Q<Y;Q++){const Z=$.secondary[Q],G=o3(Z,k6);if(G)X.add(this._registerDefaultKeybinding(G,J.id,J.args,J.weight,-Q-1,J.when))}return X}registerCommandAndKeybindingRule(J){return E6(this.registerKeybindingRule(J),V8.registerCommand(J))}_registerDefaultKeybinding(J,$,X,Q,Y,Z){const G=this._coreKeybindings.push({keybinding:J,command:$,commandArgs:X,when:Z,weight1:Q,weight2:Y,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,N0(()=>{G(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){if(!this._cachedMergedKeybindings)this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v10);return this._cachedMergedKeybindings.slice(0)}}var v10,J4,b10;var o2=N(()=>{fZ();O1();n6();t6();$0();P5();v10=function(J,$){if(J.weight1!==$.weight1)return J.weight1-$.weight1;if(J.command&&$.command){if(J.command<$.command)return-1;if(J.command>$.command)return 1}return J.weight2-$.weight2};J4=new EM,b10={EditorModes:"platform.keybindingsRegistry"};a1.add(b10.EditorModes,J4)});function t2(J){return J.command!==void 0}function Dx(J){return J.submenu!==void 0}class S{constructor(J){if(S._instances.has(J))throw new TypeError(`MenuId with identifier '${J}' already exists. Use MenuId.for(ident) or a unique identifier`);S._instances.set(J,this),this.id=J}}class VX{static for(J){let $=this._all.get(J);if(!$)$=new VX(J),this._all.set(J,$);return $}static merge(J){const $=new Set;for(let X of J)if(X instanceof VX)$.add(X.id);return $}constructor(J){this.id=J,this.has=($)=>$===J}}class lj extends yZ{constructor(J,$,X){super(`submenuitem.${J.submenu.id}`,typeof J.title==="string"?J.title:J.title.value,X,"submenu");this.item=J,this.hideActions=$}}var f10,Px,cj,BX,t4,WX;var e4=N(()=>{T9();k7();A0();$0();P5();n6();s1();e0();o2();f10=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Px=function(J,$){return function(X,Q){$(X,Q,J)}};S._instances=new Map;S.CommandPalette=new S("CommandPalette");S.DebugBreakpointsContext=new S("DebugBreakpointsContext");S.DebugCallStackContext=new S("DebugCallStackContext");S.DebugConsoleContext=new S("DebugConsoleContext");S.DebugVariablesContext=new S("DebugVariablesContext");S.DebugWatchContext=new S("DebugWatchContext");S.DebugToolBar=new S("DebugToolBar");S.DebugToolBarStop=new S("DebugToolBarStop");S.EditorContext=new S("EditorContext");S.SimpleEditorContext=new S("SimpleEditorContext");S.EditorContent=new S("EditorContent");S.EditorLineNumberContext=new S("EditorLineNumberContext");S.EditorContextCopy=new S("EditorContextCopy");S.EditorContextPeek=new S("EditorContextPeek");S.EditorContextShare=new S("EditorContextShare");S.EditorTitle=new S("EditorTitle");S.EditorTitleRun=new S("EditorTitleRun");S.EditorTitleContext=new S("EditorTitleContext");S.EditorTitleContextShare=new S("EditorTitleContextShare");S.EmptyEditorGroup=new S("EmptyEditorGroup");S.EmptyEditorGroupContext=new S("EmptyEditorGroupContext");S.EditorTabsBarContext=new S("EditorTabsBarContext");S.ExplorerContext=new S("ExplorerContext");S.ExplorerContextShare=new S("ExplorerContextShare");S.ExtensionContext=new S("ExtensionContext");S.GlobalActivity=new S("GlobalActivity");S.CommandCenter=new S("CommandCenter");S.CommandCenterCenter=new S("CommandCenterCenter");S.LayoutControlMenuSubmenu=new S("LayoutControlMenuSubmenu");S.LayoutControlMenu=new S("LayoutControlMenu");S.MenubarMainMenu=new S("MenubarMainMenu");S.MenubarAppearanceMenu=new S("MenubarAppearanceMenu");S.MenubarDebugMenu=new S("MenubarDebugMenu");S.MenubarEditMenu=new S("MenubarEditMenu");S.MenubarCopy=new S("MenubarCopy");S.MenubarFileMenu=new S("MenubarFileMenu");S.MenubarGoMenu=new S("MenubarGoMenu");S.MenubarHelpMenu=new S("MenubarHelpMenu");S.MenubarLayoutMenu=new S("MenubarLayoutMenu");S.MenubarNewBreakpointMenu=new S("MenubarNewBreakpointMenu");S.PanelAlignmentMenu=new S("PanelAlignmentMenu");S.PanelPositionMenu=new S("PanelPositionMenu");S.MenubarPreferencesMenu=new S("MenubarPreferencesMenu");S.MenubarRecentMenu=new S("MenubarRecentMenu");S.MenubarSelectionMenu=new S("MenubarSelectionMenu");S.MenubarShare=new S("MenubarShare");S.MenubarSwitchEditorMenu=new S("MenubarSwitchEditorMenu");S.MenubarSwitchGroupMenu=new S("MenubarSwitchGroupMenu");S.MenubarTerminalMenu=new S("MenubarTerminalMenu");S.MenubarViewMenu=new S("MenubarViewMenu");S.MenubarHomeMenu=new S("MenubarHomeMenu");S.OpenEditorsContext=new S("OpenEditorsContext");S.OpenEditorsContextShare=new S("OpenEditorsContextShare");S.ProblemsPanelContext=new S("ProblemsPanelContext");S.SCMChangeContext=new S("SCMChangeContext");S.SCMResourceContext=new S("SCMResourceContext");S.SCMResourceContextShare=new S("SCMResourceContextShare");S.SCMResourceFolderContext=new S("SCMResourceFolderContext");S.SCMResourceGroupContext=new S("SCMResourceGroupContext");S.SCMSourceControl=new S("SCMSourceControl");S.SCMTitle=new S("SCMTitle");S.SearchContext=new S("SearchContext");S.SearchActionMenu=new S("SearchActionContext");S.StatusBarWindowIndicatorMenu=new S("StatusBarWindowIndicatorMenu");S.StatusBarRemoteIndicatorMenu=new S("StatusBarRemoteIndicatorMenu");S.StickyScrollContext=new S("StickyScrollContext");S.TestItem=new S("TestItem");S.TestItemGutter=new S("TestItemGutter");S.TestMessageContext=new S("TestMessageContext");S.TestMessageContent=new S("TestMessageContent");S.TestPeekElement=new S("TestPeekElement");S.TestPeekTitle=new S("TestPeekTitle");S.TouchBarContext=new S("TouchBarContext");S.TitleBarContext=new S("TitleBarContext");S.TitleBarTitleContext=new S("TitleBarTitleContext");S.TunnelContext=new S("TunnelContext");S.TunnelPrivacy=new S("TunnelPrivacy");S.TunnelProtocol=new S("TunnelProtocol");S.TunnelPortInline=new S("TunnelInline");S.TunnelTitle=new S("TunnelTitle");S.TunnelLocalAddressInline=new S("TunnelLocalAddressInline");S.TunnelOriginInline=new S("TunnelOriginInline");S.ViewItemContext=new S("ViewItemContext");S.ViewContainerTitle=new S("ViewContainerTitle");S.ViewContainerTitleContext=new S("ViewContainerTitleContext");S.ViewTitle=new S("ViewTitle");S.ViewTitleContext=new S("ViewTitleContext");S.CommentEditorActions=new S("CommentEditorActions");S.CommentThreadTitle=new S("CommentThreadTitle");S.CommentThreadActions=new S("CommentThreadActions");S.CommentThreadAdditionalActions=new S("CommentThreadAdditionalActions");S.CommentThreadTitleContext=new S("CommentThreadTitleContext");S.CommentThreadCommentContext=new S("CommentThreadCommentContext");S.CommentTitle=new S("CommentTitle");S.CommentActions=new S("CommentActions");S.InteractiveToolbar=new S("InteractiveToolbar");S.InteractiveCellTitle=new S("InteractiveCellTitle");S.InteractiveCellDelete=new S("InteractiveCellDelete");S.InteractiveCellExecute=new S("InteractiveCellExecute");S.InteractiveInputExecute=new S("InteractiveInputExecute");S.NotebookToolbar=new S("NotebookToolbar");S.NotebookStickyScrollContext=new S("NotebookStickyScrollContext");S.NotebookCellTitle=new S("NotebookCellTitle");S.NotebookCellDelete=new S("NotebookCellDelete");S.NotebookCellInsert=new S("NotebookCellInsert");S.NotebookCellBetween=new S("NotebookCellBetween");S.NotebookCellListTop=new S("NotebookCellTop");S.NotebookCellExecute=new S("NotebookCellExecute");S.NotebookCellExecutePrimary=new S("NotebookCellExecutePrimary");S.NotebookDiffCellInputTitle=new S("NotebookDiffCellInputTitle");S.NotebookDiffCellMetadataTitle=new S("NotebookDiffCellMetadataTitle");S.NotebookDiffCellOutputsTitle=new S("NotebookDiffCellOutputsTitle");S.NotebookOutputToolbar=new S("NotebookOutputToolbar");S.NotebookEditorLayoutConfigure=new S("NotebookEditorLayoutConfigure");S.NotebookKernelSource=new S("NotebookKernelSource");S.BulkEditTitle=new S("BulkEditTitle");S.BulkEditContext=new S("BulkEditContext");S.TimelineItemContext=new S("TimelineItemContext");S.TimelineTitle=new S("TimelineTitle");S.TimelineTitleContext=new S("TimelineTitleContext");S.TimelineFilterSubMenu=new S("TimelineFilterSubMenu");S.AccountsContext=new S("AccountsContext");S.PanelTitle=new S("PanelTitle");S.AuxiliaryBarTitle=new S("AuxiliaryBarTitle");S.TerminalInstanceContext=new S("TerminalInstanceContext");S.TerminalEditorInstanceContext=new S("TerminalEditorInstanceContext");S.TerminalNewDropdownContext=new S("TerminalNewDropdownContext");S.TerminalTabContext=new S("TerminalTabContext");S.TerminalTabEmptyAreaContext=new S("TerminalTabEmptyAreaContext");S.WebviewContext=new S("WebviewContext");S.InlineCompletionsActions=new S("InlineCompletionsActions");S.NewFile=new S("NewFile");S.MergeInput1Toolbar=new S("MergeToolbar1Toolbar");S.MergeInput2Toolbar=new S("MergeToolbar2Toolbar");S.MergeBaseToolbar=new S("MergeBaseToolbar");S.MergeInputResultToolbar=new S("MergeToolbarResultToolbar");S.InlineSuggestionToolbar=new S("InlineSuggestionToolbar");S.ChatContext=new S("ChatContext");S.ChatCodeBlock=new S("ChatCodeblock");S.ChatMessageTitle=new S("ChatMessageTitle");S.ChatExecute=new S("ChatExecute");S.ChatInputSide=new S("ChatInputSide");S.AccessibleView=new S("AccessibleView");BX=O0("menuService");VX._all=new Map;t4=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new rR({merge:VX.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(J){return this._commands.set(J.id,J),this._onDidChangeMenu.fire(VX.for(S.CommandPalette)),N0(()=>{if(this._commands.delete(J.id))this._onDidChangeMenu.fire(VX.for(S.CommandPalette))})}getCommand(J){return this._commands.get(J)}getCommands(){const J=new Map;return this._commands.forEach(($,X)=>J.set(X,$)),J}appendMenuItem(J,$){let X=this._menuItems.get(J);if(!X)X=new I8,this._menuItems.set(J,X);const Q=X.push($);return this._onDidChangeMenu.fire(VX.for(J)),N0(()=>{Q(),this._onDidChangeMenu.fire(VX.for(J))})}appendMenuItems(J){const $=new e;for(let{id:X,item:Q}of J)$.add(this.appendMenuItem(X,Q));return $}getMenuItems(J){let $;if(this._menuItems.has(J))$=[...this._menuItems.get(J)];else $=[];if(J===S.CommandPalette)this._appendImplicitItems($);return $}_appendImplicitItems(J){const $=new Set;for(let X of J)if(t2(X)){if($.add(X.command.id),X.alt)$.add(X.alt.id)}this._commands.forEach((X,Q)=>{if(!$.has(Q))J.push({command:X})})}};WX=cj=class J{static label($,X){return(X===null||X===void 0?void 0:X.renderShortTitle)&&$.shortTitle?typeof $.shortTitle==="string"?$.shortTitle:$.shortTitle.value:typeof $.title==="string"?$.title:$.title.value}constructor($,X,Q,Y,Z,G){var q,U;this.hideActions=Y,this._commandService=G,this.id=$.id,this.label=cj.label($,Q),this.tooltip=(U=typeof $.tooltip==="string"?$.tooltip:(q=$.tooltip)===null||q===void 0?void 0:q.value)!==null&&U!==void 0?U:"",this.enabled=!$.precondition||Z.contextMatchesRules($.precondition),this.checked=void 0;let H;if($.toggled){const z=$.toggled.condition?$.toggled:{condition:$.toggled};if(this.checked=Z.contextMatchesRules(z.condition),this.checked&&z.tooltip)this.tooltip=typeof z.tooltip==="string"?z.tooltip:z.tooltip.value;if(this.checked&&C0.isThemeIcon(z.icon))H=z.icon;if(this.checked&&z.title)this.label=typeof z.title==="string"?z.title:z.title.value}if(!H)H=C0.isThemeIcon($.icon)?$.icon:void 0;this.item=$,this.alt=X?new cj(X,void 0,Q,Y,Z,G):void 0,this._options=Q,this.class=H&&C0.asClassName(H)}run(...$){var X,Q;let Y=[];if((X=this._options)===null||X===void 0?void 0:X.arg)Y=[...Y,this._options.arg];if((Q=this._options)===null||Q===void 0?void 0:Q.shouldForwardArgs)Y=[...Y,...$];return this._commandService.executeCommand(this.id,...Y)}};WX=cj=f10([Px(4,p0),Px(5,H7)],WX)});var e9;var hZ=N(()=>{e0();e9=O0("telemetryService")});function h10(J){switch(J){case m7.Trace:return"trace";case m7.Debug:return"debug";case m7.Info:return"info";case m7.Warning:return"warn";case m7.Error:return"error";case m7.Off:return"off"}}class yM extends f{constructor(){super(...arguments);this.level=Rx,this._onDidChangeLogLevel=this._register(new E),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(J){if(this.level!==J)this.level=J,this._onDidChangeLogLevel.fire(this.level)}getLevel(){return this.level}checkLogLevel(J){return this.level!==m7.Off&&this.level<=J}}class SM extends yM{constructor(J=Rx,$=!0){super();this.useColors=$,this.setLevel(J)}trace(J,...$){if(this.checkLogLevel(m7.Trace))if(this.useColors)console.log("%cTRACE","color: #888",J,...$);else console.log(J,...$)}debug(J,...$){if(this.checkLogLevel(m7.Debug))if(this.useColors)console.log("%cDEBUG","background: #eee; color: #888",J,...$);else console.log(J,...$)}info(J,...$){if(this.checkLogLevel(m7.Info))if(this.useColors)console.log("%c INFO","color: #33f",J,...$);else console.log(J,...$)}warn(J,...$){if(this.checkLogLevel(m7.Warning))if(this.useColors)console.log("%c WARN","color: #993",J,...$);else console.log(J,...$)}error(J,...$){if(this.checkLogLevel(m7.Error))if(this.useColors)console.log("%c  ERR","color: #f33",J,...$);else console.error(J,...$)}dispose(){}}class CM extends yM{constructor(J){super();if(this.loggers=J,J.length)this.setLevel(J[0].getLevel())}setLevel(J){for(let $ of this.loggers)$.setLevel(J);super.setLevel(J)}trace(J,...$){for(let X of this.loggers)X.trace(J,...$)}debug(J,...$){for(let X of this.loggers)X.debug(J,...$)}info(J,...$){for(let X of this.loggers)X.info(J,...$)}warn(J,...$){for(let X of this.loggers)X.warn(J,...$)}error(J,...$){for(let X of this.loggers)X.error(J,...$)}dispose(){for(let J of this.loggers)J.dispose()}}var F7,m7,Rx,Oq0;var M5=N(()=>{A0();$0();s1();e0();F7=O0("logService");(function(J){J[J.Off=0]="Off",J[J.Trace=1]="Trace",J[J.Debug=2]="Debug",J[J.Info=3]="Info",J[J.Warning=4]="Warning",J[J.Error=5]="Error"})(m7||(m7={}));Rx=m7.Info;Oq0=new V0("logLevel",h10(m7.Info))});var t3;var dj=N(()=>{z9();O1();t3={clipboard:{writeText:OQ||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:OQ||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>{if(OQ||Gx())return 0;if(navigator.keyboard||N9)return 1;return 2})(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&(("ontouchstart"in window)||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}});class D1{constructor(J){this._standardKeyboardEventBrand=!0;const $=J;this.browserEvent=$,this.target=$.target,this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,this.altGraphKey=$.getModifierState("AltGraph"),this.keyCode=g10($),this.code=$.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){if(this.browserEvent&&this.browserEvent.preventDefault)this.browserEvent.preventDefault()}stopPropagation(){if(this.browserEvent&&this.browserEvent.stopPropagation)this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(J){return this._asKeybinding===J}_computeKeybinding(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;let $=0;if(this.ctrlKey)$|=p10;if(this.altKey)$|=m10;if(this.shiftKey)$|=u10;if(this.metaKey)$|=c10;return $|=J,$}_computeKeyCodeChord(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;return new R5(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,J)}}var g10,p10,m10,u10,c10;var x6=N(()=>{z9();TZ();fZ();O1();g10=function(J){if(J.charCode){const X=String.fromCharCode(J.charCode).toUpperCase();return XJ.fromString(X)}const $=J.keyCode;if($===3)return 7;else if(g7)switch($){case 59:return 85;case 60:if(q8)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(n0)return 57;break}else if(oJ){if(n0&&$===93)return 57;else if(!n0&&$===92)return 57}return tR[$]||0},p10=n0?256:2048,m10=512,u10=1024,c10=n0?2048:256});class xM{static getSameOriginWindowChain(){if(!e3){e3=[];let J=window,$;do{if($=l10(J),$)e3.push({window:J,iframeElement:J.frameElement||null});else e3.push({window:J,iframeElement:null});J=$}while(J)}return e3.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(J,$){if(!$||J===$)return{top:0,left:0};let X=0,Q=0;const Y=this.getSameOriginWindowChain();for(let Z of Y){if(X+=Z.window.scrollY,Q+=Z.window.scrollX,Z.window===$)break;if(!Z.iframeElement)break;const G=Z.iframeElement.getBoundingClientRect();X+=G.top,Q+=G.left}return{top:X,left:Q}}}var l10,Mx,e3;var Ox=N(()=>{l10=function(J){if(!J.parent||J.parent===J)return null;try{const $=J.location,X=J.parent.location;if($.origin!=="null"&&X.origin!=="null"&&$.origin!==X.origin)return Mx=!0,null}catch($){return Mx=!0,null}return J.parent},Mx=!1,e3=null});class X6{constructor(J){if(this.timestamp=Date.now(),this.browserEvent=J,this.leftButton=J.button===0,this.middleButton=J.button===1,this.rightButton=J.button===2,this.buttons=J.buttons,this.target=J.target,this.detail=J.detail||1,J.type==="dblclick")this.detail=2;if(this.ctrlKey=J.ctrlKey,this.shiftKey=J.shiftKey,this.altKey=J.altKey,this.metaKey=J.metaKey,typeof J.pageX==="number")this.posx=J.pageX,this.posy=J.pageY;else this.posx=J.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=J.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop;const $=xM.getPositionOfChildWindowRelativeToAncestorWindow(window,J.view);this.posx-=$.left,this.posy-=$.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class UJ{constructor(J,$=0,X=0){if(this.browserEvent=J||null,this.target=J?J.target||J.targetNode||J.srcElement:null,this.deltaY=X,this.deltaX=$,J){const Q=J,Y=J;if(typeof Q.wheelDeltaY!=="undefined")this.deltaY=Q.wheelDeltaY/120;else if(typeof Y.VERTICAL_AXIS!=="undefined"&&Y.axis===Y.VERTICAL_AXIS)this.deltaY=-Y.detail/3;else if(J.type==="wheel"){const Z=J;if(Z.deltaMode===Z.DOM_DELTA_LINE)if(g7&&!n0)this.deltaY=-J.deltaY/3;else this.deltaY=-J.deltaY;else this.deltaY=-J.deltaY/40}if(typeof Q.wheelDeltaX!=="undefined")if(N9&&F8)this.deltaX=-(Q.wheelDeltaX/120);else this.deltaX=Q.wheelDeltaX/120;else if(typeof Y.HORIZONTAL_AXIS!=="undefined"&&Y.axis===Y.HORIZONTAL_AXIS)this.deltaX=-J.detail/3;else if(J.type==="wheel"){const Z=J;if(Z.deltaMode===Z.DOM_DELTA_LINE)if(g7&&!n0)this.deltaX=-J.deltaX/3;else this.deltaX=-J.deltaX;else this.deltaX=-J.deltaX/40}if(this.deltaY===0&&this.deltaX===0&&J.wheelDelta)this.deltaY=J.wheelDelta/120}}preventDefault(){var J;(J=this.browserEvent)===null||J===void 0||J.preventDefault()}stopPropagation(){var J;(J=this.browserEvent)===null||J===void 0||J.stopPropagation()}}var O5=N(()=>{z9();Ox();O1()});var HJ,e10,v1,e2,sj,Cx,Ex,Nx,d10,s10,a10,_9,X4,r10,pM,mM,i10,Tx,JH,rj,bM,n10,$4,o10,t10,N5,$H,_x,vM,fM,J80,hM,$80,wx,Lx,gM,Ix,aj,X80,Q80,Y80,Z80,G80,yx,q80,U80,Sx,kx,H80,z80,J$,yq0,Sq0,ij,Cq0,xq0,bq0,nj,oj,vq0,fq0;var tj=N(()=>{HJ=function(J){return function($){for(var X=arguments.length,Q=new Array(X>1?X-1:0),Y=1;Y<X;Y++)Q[Y-1]=arguments[Y];return pM(J,$,Q)}},e10=function(J){return function(){for(var $=arguments.length,X=new Array($),Q=0;Q<$;Q++)X[Q]=arguments[Q];return mM(J,X)}},v1=function(J,$,X){var Q;if(X=(Q=X)!==null&&Q!==void 0?Q:rj,Nx)Nx(J,null);let Y=$.length;while(Y--){let Z=$[Y];if(typeof Z==="string"){const G=X(Z);if(G!==Z){if(!d10($))$[Y]=G;Z=G}}J[Z]=!0}return J},e2=function(J){const $=r10(null);for(let[X,Q]of Ex(J))$[X]=Q;return $},sj=function(J,$){while(J!==null){const Q=a10(J,$);if(Q){if(Q.get)return HJ(Q.get);if(typeof Q.value==="function")return HJ(Q.value)}J=s10(J)}function X(Q){return console.warn("fallback value for",Q),null}return X},Cx=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H80();const $=(z1)=>Cx(z1);if($.version="3.0.5",$.removed=[],!J||!J.document||J.document.nodeType!==9)return $.isSupported=!1,$;const X=J.document,Q=X.currentScript;let{document:Y}=J;const{DocumentFragment:Z,HTMLTemplateElement:G,Node:q,Element:U,NodeFilter:H,NamedNodeMap:z=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:V,DOMParser:W,trustedTypes:B}=J,j=U.prototype,K=sj(j,"cloneNode"),D=sj(j,"nextSibling"),A=sj(j,"childNodes"),P=sj(j,"parentNode");if(typeof G==="function"){const z1=Y.createElement("template");if(z1.content&&z1.content.ownerDocument)Y=z1.content.ownerDocument}let R,M="";const{implementation:T,createNodeIterator:_,createDocumentFragment:w,getElementsByTagName:x}=Y,{importNode:C}=X;let h={};$.isSupported=typeof Ex==="function"&&typeof P==="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:p,ERB_EXPR:r,TMPLIT_EXPR:m,DATA_ATTR:c,ARIA_ATTR:Q0,IS_SCRIPT_OR_DATA:K0,ATTR_WHITESPACE:B0}=kx;let{IS_ALLOWED_URI:P0}=kx,H0=null;const s0=v1({},[..._x,...vM,...fM,...hM,...wx]);let k0=null;const w0=v1({},[...Lx,...gM,...Ix,...aj]);let q0=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),a8=null,B6=null,N7=!0,E1=!0,V7=!1,s5=!0,J6=!1,t0=!1,a5=!1,pJ=!1,mJ=!1,T7=!1,j5=!1,iW=!0,nW=!1;const kR="user-content-";let i=!0,s=!1,d={},I=null;const y=v1({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let g=null;const v=v1({},["audio","video","img","source","image","track"]);let n=null;const j0=v1({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L0="http://www.w3.org/1998/Math/MathML",E0="http://www.w3.org/2000/svg",Y1="http://www.w3.org/1999/xhtml";let $1=Y1,i1=!1,l1=null;const c0=v1({},[L0,E0,Y1],bM);let x8;const b8=["application/xhtml+xml","text/html"],r5="text/html";let S1,Y7=null;const HZ=Y.createElement("form"),zZ=function z1(a){return a instanceof RegExp||a instanceof Function},uJ=function z1(a){if(Y7&&Y7===a)return;if(!a||typeof a!=="object")a={};if(a=e2(a),x8=b8.indexOf(a.PARSER_MEDIA_TYPE)===-1?x8=r5:x8=a.PARSER_MEDIA_TYPE,S1=x8==="application/xhtml+xml"?bM:rj,H0="ALLOWED_TAGS"in a?v1({},a.ALLOWED_TAGS,S1):s0,k0="ALLOWED_ATTR"in a?v1({},a.ALLOWED_ATTR,S1):w0,l1="ALLOWED_NAMESPACES"in a?v1({},a.ALLOWED_NAMESPACES,bM):c0,n="ADD_URI_SAFE_ATTR"in a?v1(e2(j0),a.ADD_URI_SAFE_ATTR,S1):j0,g="ADD_DATA_URI_TAGS"in a?v1(e2(v),a.ADD_DATA_URI_TAGS,S1):v,I="FORBID_CONTENTS"in a?v1({},a.FORBID_CONTENTS,S1):y,a8="FORBID_TAGS"in a?v1({},a.FORBID_TAGS,S1):{},B6="FORBID_ATTR"in a?v1({},a.FORBID_ATTR,S1):{},d="USE_PROFILES"in a?a.USE_PROFILES:!1,N7=a.ALLOW_ARIA_ATTR!==!1,E1=a.ALLOW_DATA_ATTR!==!1,V7=a.ALLOW_UNKNOWN_PROTOCOLS||!1,s5=a.ALLOW_SELF_CLOSE_IN_ATTR!==!1,J6=a.SAFE_FOR_TEMPLATES||!1,t0=a.WHOLE_DOCUMENT||!1,mJ=a.RETURN_DOM||!1,T7=a.RETURN_DOM_FRAGMENT||!1,j5=a.RETURN_TRUSTED_TYPE||!1,pJ=a.FORCE_BODY||!1,iW=a.SANITIZE_DOM!==!1,nW=a.SANITIZE_NAMED_PROPS||!1,i=a.KEEP_CONTENT!==!1,s=a.IN_PLACE||!1,P0=a.ALLOWED_URI_REGEXP||yx,$1=a.NAMESPACE||Y1,q0=a.CUSTOM_ELEMENT_HANDLING||{},a.CUSTOM_ELEMENT_HANDLING&&zZ(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck))q0.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&zZ(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))q0.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")q0.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(J6)E1=!1;if(T7)mJ=!0;if(d){if(H0=v1({},[...wx]),k0=[],d.html===!0)v1(H0,_x),v1(k0,Lx);if(d.svg===!0)v1(H0,vM),v1(k0,gM),v1(k0,aj);if(d.svgFilters===!0)v1(H0,fM),v1(k0,gM),v1(k0,aj);if(d.mathMl===!0)v1(H0,hM),v1(k0,Ix),v1(k0,aj)}if(a.ADD_TAGS){if(H0===s0)H0=e2(H0);v1(H0,a.ADD_TAGS,S1)}if(a.ADD_ATTR){if(k0===w0)k0=e2(k0);v1(k0,a.ADD_ATTR,S1)}if(a.ADD_URI_SAFE_ATTR)v1(n,a.ADD_URI_SAFE_ATTR,S1);if(a.FORBID_CONTENTS){if(I===y)I=e2(I);v1(I,a.FORBID_CONTENTS,S1)}if(i)H0["#text"]=!0;if(t0)v1(H0,["html","head","body"]);if(H0.table)v1(H0,["tbody"]),delete a8.tbody;if(a.TRUSTED_TYPES_POLICY){if(typeof a.TRUSTED_TYPES_POLICY.createHTML!=="function")throw $H('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof a.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw $H('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=a.TRUSTED_TYPES_POLICY,M=R.createHTML("")}else{if(R===void 0)R=z80(B,Q);if(R!==null&&typeof M==="string")M=R.createHTML("")}if(_9)_9(a);Y7=a},DQ=v1({},["mi","mo","mn","ms","mtext"]),VZ=v1({},["foreignobject","desc","title","annotation-xml"]),WZ=v1({},["title","style","font","a","script"]),_2=v1({},vM);v1(_2,fM),v1(_2,J80);const BZ=v1({},hM);v1(BZ,$80);const ER=function z1(a){let D0=P(a);if(!D0||!D0.tagName)D0={namespaceURI:$1,tagName:"template"};const h0=rj(a.tagName),v8=rj(D0.tagName);if(!l1[a.namespaceURI])return!1;if(a.namespaceURI===E0){if(D0.namespaceURI===Y1)return h0==="svg";if(D0.namespaceURI===L0)return h0==="svg"&&(v8==="annotation-xml"||DQ[v8]);return Boolean(_2[h0])}if(a.namespaceURI===L0){if(D0.namespaceURI===Y1)return h0==="math";if(D0.namespaceURI===E0)return h0==="math"&&VZ[v8];return Boolean(BZ[h0])}if(a.namespaceURI===Y1){if(D0.namespaceURI===E0&&!VZ[v8])return!1;if(D0.namespaceURI===L0&&!DQ[v8])return!1;return!BZ[h0]&&(WZ[h0]||!_2[h0])}if(x8==="application/xhtml+xml"&&l1[a.namespaceURI])return!0;return!1},g4=function z1(a){JH($.removed,{element:a});try{a.parentNode.removeChild(a)}catch(D0){a.remove()}},D3=function z1(a,D0){try{JH($.removed,{attribute:D0.getAttributeNode(a),from:D0})}catch(h0){JH($.removed,{attribute:null,from:D0})}if(D0.removeAttribute(a),a==="is"&&!k0[a])if(mJ||T7)try{g4(D0)}catch(h0){}else try{D0.setAttribute(a,"")}catch(h0){}},R3=function z1(a){let D0,h0;if(pJ)a="<remove></remove>"+a;else{const i5=n10(a,/^[\r\n\t ]+/);h0=i5&&i5[0]}if(x8==="application/xhtml+xml"&&$1===Y1)a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>";const v8=R?R.createHTML(a):a;if($1===Y1)try{D0=new W().parseFromString(v8,x8)}catch(i5){}if(!D0||!D0.documentElement){D0=T.createDocument($1,"template",null);try{D0.documentElement.innerHTML=i1?M:v8}catch(i5){}}const I6=D0.body||D0.documentElement;if(a&&h0)I6.insertBefore(Y.createTextNode(h0),I6.childNodes[0]||null);if($1===Y1)return x.call(D0,t0?"html":"body")[0];return t0?D0.documentElement:I6},oW=function z1(a){return _.call(a.ownerDocument||a,a,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null,!1)},j00=function z1(a){return a instanceof V&&(typeof a.nodeName!=="string"||typeof a.textContent!=="string"||typeof a.removeChild!=="function"||!(a.attributes instanceof z)||typeof a.removeAttribute!=="function"||typeof a.setAttribute!=="function"||typeof a.namespaceURI!=="string"||typeof a.insertBefore!=="function"||typeof a.hasChildNodes!=="function")},tW=function z1(a){return typeof q==="object"?a instanceof q:a&&typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"},o$=function z1(a,D0,h0){if(!h[a])return;i10(h[a],(v8)=>{v8.call($,D0,h0,Y7)})},US=function z1(a){let D0;if(o$("beforeSanitizeElements",a,null),j00(a))return g4(a),!0;const h0=S1(a.nodeName);if(o$("uponSanitizeElement",a,{tagName:h0,allowedTags:H0}),a.hasChildNodes()&&!tW(a.firstElementChild)&&(!tW(a.content)||!tW(a.content.firstElementChild))&&N5(/<[/\w]/g,a.innerHTML)&&N5(/<[/\w]/g,a.textContent))return g4(a),!0;if(!H0[h0]||a8[h0]){if(!a8[h0]&&zS(h0)){if(q0.tagNameCheck instanceof RegExp&&N5(q0.tagNameCheck,h0))return!1;if(q0.tagNameCheck instanceof Function&&q0.tagNameCheck(h0))return!1}if(i&&!I[h0]){const v8=P(a)||a.parentNode,I6=A(a)||a.childNodes;if(I6&&v8){const i5=I6.length;for(let W7=i5-1;W7>=0;--W7)v8.insertBefore(K(I6[W7],!0),D(a))}}return g4(a),!0}if(a instanceof U&&!ER(a))return g4(a),!0;if((h0==="noscript"||h0==="noembed"||h0==="noframes")&&N5(/<\/no(script|embed|frames)/i,a.innerHTML))return g4(a),!0;if(J6&&a.nodeType===3){if(D0=a.textContent,D0=$4(D0,p," "),D0=$4(D0,r," "),D0=$4(D0,m," "),a.textContent!==D0)JH($.removed,{element:a.cloneNode()}),a.textContent=D0}return o$("afterSanitizeElements",a,null),!1},HS=function z1(a,D0,h0){if(iW&&(D0==="id"||D0==="name")&&((h0 in Y)||(h0 in HZ)))return!1;if(E1&&!B6[D0]&&N5(c,D0));else if(N7&&N5(Q0,D0));else if(!k0[D0]||B6[D0])if(zS(a)&&(q0.tagNameCheck instanceof RegExp&&N5(q0.tagNameCheck,a)||q0.tagNameCheck instanceof Function&&q0.tagNameCheck(a))&&(q0.attributeNameCheck instanceof RegExp&&N5(q0.attributeNameCheck,D0)||q0.attributeNameCheck instanceof Function&&q0.attributeNameCheck(D0))||D0==="is"&&q0.allowCustomizedBuiltInElements&&(q0.tagNameCheck instanceof RegExp&&N5(q0.tagNameCheck,h0)||q0.tagNameCheck instanceof Function&&q0.tagNameCheck(h0)));else return!1;else if(n[D0]);else if(N5(P0,$4(h0,B0,"")));else if((D0==="src"||D0==="xlink:href"||D0==="href")&&a!=="script"&&o10(h0,"data:")===0&&g[a]);else if(V7&&!N5(K0,$4(h0,B0,"")));else if(h0)return!1;return!0},zS=function z1(a){return a.indexOf("-")>0},VS=function z1(a){let D0,h0,v8,I6;o$("beforeSanitizeAttributes",a,null);const{attributes:i5}=a;if(!i5)return;const W7={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:k0};I6=i5.length;while(I6--){D0=i5[I6];const{name:p4,namespaceURI:yR}=D0;if(h0=p4==="value"?D0.value:t10(D0.value),v8=S1(p4),W7.attrName=v8,W7.attrValue=h0,W7.keepAttr=!0,W7.forceKeepAttr=void 0,o$("uponSanitizeAttribute",a,W7),h0=W7.attrValue,W7.forceKeepAttr)continue;if(D3(p4,a),!W7.keepAttr)continue;if(!s5&&N5(/\/>/i,h0)){D3(p4,a);continue}if(J6)h0=$4(h0,p," "),h0=$4(h0,r," "),h0=$4(h0,m," ");const WS=S1(a.nodeName);if(!HS(WS,v8,h0))continue;if(nW&&(v8==="id"||v8==="name"))D3(p4,a),h0=kR+h0;if(R&&typeof B==="object"&&typeof B.getAttributeType==="function")if(yR);else switch(B.getAttributeType(WS,v8)){case"TrustedHTML":{h0=R.createHTML(h0);break}case"TrustedScriptURL":{h0=R.createScriptURL(h0);break}}try{if(yR)a.setAttributeNS(yR,p4,h0);else a.setAttribute(p4,h0);Tx($.removed)}catch(uZ0){}}o$("afterSanitizeAttributes",a,null)},F00=function z1(a){let D0;const h0=oW(a);o$("beforeSanitizeShadowDOM",a,null);while(D0=h0.nextNode()){if(o$("uponSanitizeShadowNode",D0,null),US(D0))continue;if(D0.content instanceof Z)z1(D0.content);VS(D0)}o$("afterSanitizeShadowDOM",a,null)};return $.sanitize=function(z1){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D0,h0,v8,I6;if(i1=!z1,i1)z1="<!-->";if(typeof z1!=="string"&&!tW(z1))if(typeof z1.toString==="function"){if(z1=z1.toString(),typeof z1!=="string")throw $H("dirty is not a string, aborting")}else throw $H("toString is not a function");if(!$.isSupported)return z1;if(!a5)uJ(a);if($.removed=[],typeof z1==="string")s=!1;if(s){if(z1.nodeName){const p4=S1(z1.nodeName);if(!H0[p4]||a8[p4])throw $H("root node is forbidden and cannot be sanitized in-place")}}else if(z1 instanceof q)if(D0=R3("<!---->"),h0=D0.ownerDocument.importNode(z1,!0),h0.nodeType===1&&h0.nodeName==="BODY")D0=h0;else if(h0.nodeName==="HTML")D0=h0;else D0.appendChild(h0);else{if(!mJ&&!J6&&!t0&&z1.indexOf("<")===-1)return R&&j5?R.createHTML(z1):z1;if(D0=R3(z1),!D0)return mJ?null:j5?M:""}if(D0&&pJ)g4(D0.firstChild);const i5=oW(s?z1:D0);while(v8=i5.nextNode()){if(US(v8))continue;if(v8.content instanceof Z)F00(v8.content);VS(v8)}if(s)return z1;if(mJ){if(T7){I6=w.call(D0.ownerDocument);while(D0.firstChild)I6.appendChild(D0.firstChild)}else I6=D0;if(k0.shadowroot||k0.shadowrootmode)I6=C.call(X,I6,!0);return I6}let W7=t0?D0.outerHTML:D0.innerHTML;if(t0&&H0["!doctype"]&&D0.ownerDocument&&D0.ownerDocument.doctype&&D0.ownerDocument.doctype.name&&N5(Sx,D0.ownerDocument.doctype.name))W7="<!DOCTYPE "+D0.ownerDocument.doctype.name+">\n"+W7;if(J6)W7=$4(W7,p," "),W7=$4(W7,r," "),W7=$4(W7,m," ");return R&&j5?R.createHTML(W7):W7},$.setConfig=function(z1){uJ(z1),a5=!0},$.clearConfig=function(){Y7=null,a5=!1},$.isValidAttribute=function(z1,a,D0){if(!Y7)uJ({});const h0=S1(z1),v8=S1(a);return HS(h0,v8,D0)},$.addHook=function(z1,a){if(typeof a!=="function")return;h[z1]=h[z1]||[],JH(h[z1],a)},$.removeHook=function(z1){if(h[z1])return Tx(h[z1])},$.removeHooks=function(z1){if(h[z1])h[z1]=[]},$.removeAllHooks=function(){h={}},$};/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */({entries:Ex,setPrototypeOf:Nx,isFrozen:d10,getPrototypeOf:s10,getOwnPropertyDescriptor:a10}=Object),{freeze:_9,seal:X4,create:r10}=Object,{apply:pM,construct:mM}=typeof Reflect!=="undefined"&&Reflect;if(!pM)pM=function J($,X,Q){return $.apply(X,Q)};if(!_9)_9=function J($){return $};if(!X4)X4=function J($){return $};if(!mM)mM=function J($,X){return new $(...X)};i10=HJ(Array.prototype.forEach),Tx=HJ(Array.prototype.pop),JH=HJ(Array.prototype.push),rj=HJ(String.prototype.toLowerCase),bM=HJ(String.prototype.toString),n10=HJ(String.prototype.match),$4=HJ(String.prototype.replace),o10=HJ(String.prototype.indexOf),t10=HJ(String.prototype.trim),N5=HJ(RegExp.prototype.test),$H=e10(TypeError),_x=_9(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vM=_9(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fM=_9(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),J80=_9(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hM=_9(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$80=_9(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wx=_9(["#text"]),Lx=_9(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),gM=_9(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ix=_9(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),aj=_9(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X80=X4(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q80=X4(/<%[\w\W]*|[\w\W]*%>/gm),Y80=X4(/\${[\w\W]*}/gm),Z80=X4(/^data-[\-\w.\u00B7-\uFFFF]/),G80=X4(/^aria-[\-\w]+$/),yx=X4(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q80=X4(/^(?:\w+script|data):/i),U80=X4(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sx=X4(/^html$/i),kx=Object.freeze({__proto__:null,MUSTACHE_EXPR:X80,ERB_EXPR:Q80,TMPLIT_EXPR:Y80,DATA_ATTR:Z80,ARIA_ATTR:G80,IS_ALLOWED_URI:yx,IS_SCRIPT_OR_DATA:q80,ATTR_WHITESPACE:U80,DOCTYPE_NAME:Sx}),H80=()=>typeof window==="undefined"?null:window,z80=function J($,X){if(typeof $!=="object"||typeof $.createPolicy!=="function")return null;let Q=null;const Y="data-tt-policy-suffix";if(X&&X.hasAttribute(Y))Q=X.getAttribute(Y);const Z="dompurify"+(Q?"#"+Q:"");try{return $.createPolicy(Z,{createHTML(G){return G},createScriptURL(G){return G}})}catch(G){return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},J$=Cx(),yq0=J$.version,Sq0=J$.isSupported,ij=J$.sanitize,Cq0=J$.setConfig,xq0=J$.clearConfig,bq0=J$.isValidAttribute,nj=J$.addHook,oj=J$.removeHook,vq0=J$.removeHooks,fq0=J$.removeAllHooks});class vx{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${o0.vscodeRemoteResource}`}setPreferredWebSchema(J){this._preferredWebSchema=J}rewrite(J){if(this._delegate)try{return this._delegate(J)}catch(G){return a0(G),J}const $=J.authority;let X=this._hosts[$];if(X&&X.indexOf(":")!==-1&&X.indexOf("[")===-1)X=`[${X}]`;const Q=this._ports[$],Y=this._connectionTokens[$];let Z=`path=${encodeURIComponent(J.path)}`;if(typeof Y==="string")Z+=`&${V80}=${encodeURIComponent(Y)}`;return I0.from({scheme:l4?this._preferredWebSchema:o0.vscodeRemoteResource,authority:`${X}:${Q}`,path:this._remoteResourcesPath,query:Z})}}class XH{uriToBrowserUri(J){if(J.scheme===o0.vscodeRemote)return uM.rewrite(J);if(J.scheme===o0.file&&(OQ||xS&&a9.origin===`${o0.vscodeFileResource}://${XH.FALLBACK_AUTHORITY}`))return J.with({scheme:o0.vscodeFileResource,authority:J.authority||XH.FALLBACK_AUTHORITY,query:null,fragment:null});return J}}var o0,V80,uM,ej,bx;var T5=N(()=>{A1();O1();l8();(function(J){J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm"})(o0||(o0={}));V80="tkn";uM=new vx;XH.FALLBACK_AUTHORITY="vscode-app";ej=new XH;(function(J){const $=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);J.CoopAndCoep=Object.freeze($.get("3"));const X="vscode-coi";function Q(Z){let G;if(typeof Z==="string")G=new URL(Z).searchParams;else if(Z instanceof URL)G=Z.searchParams;else if(I0.isUri(Z))G=new URL(Z.toString(!0)).searchParams;const q=G===null||G===void 0?void 0:G.get(X);if(!q)return;return $.get(q)}J.getHeadersFromQuery=Q;function Y(Z,G,q){if(!globalThis.crossOriginIsolated)return;const U=G&&q?"3":q?"2":"1";if(Z instanceof URLSearchParams)Z.set(X,U);else Z[X]=U}J.addSearchParam=Y})(bx||(bx={}))});function E7(J){while(J.firstChild)J.firstChild.remove()}function XF(J){var $;return($=J===null||J===void 0?void 0:J.isConnected)!==null&&$!==void 0?$:!1}function l(J,$,X,Q){return new hx(J,$,X,Q)}function lM(J){return J.ownerDocument.defaultView.getComputedStyle(J,null)}function vQ(J){var $;const X=J.ownerDocument,Q=($=X.defaultView)===null||$===void 0?void 0:$.window;if(J!==X.body)return new m1(J.clientWidth,J.clientHeight);if(K5&&(Q===null||Q===void 0?void 0:Q.visualViewport))return new m1(Q.visualViewport.width,Q.visualViewport.height);if((Q===null||Q===void 0?void 0:Q.innerWidth)&&Q.innerHeight)return new m1(Q.innerWidth,Q.innerHeight);if(X.body&&X.body.clientWidth&&X.body.clientHeight)return new m1(X.body.clientWidth,X.body.clientHeight);if(X.documentElement&&X.documentElement.clientWidth&&X.documentElement.clientHeight)return new m1(X.documentElement.clientWidth,X.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}function gx(J){let{offsetParent:$,offsetTop:X,offsetLeft:Q}=J;while((J=J.parentNode)!==null&&J!==J.ownerDocument.body&&J!==J.ownerDocument.documentElement){X-=J.scrollTop;const Y=cx(J)?null:lM(J);if(Y)Q-=Y.direction!=="rtl"?J.scrollLeft:-J.scrollLeft;if(J===$)Q+=g8.getBorderLeftWidth(J),X+=g8.getBorderTopWidth(J),X+=J.offsetTop,Q+=J.offsetLeft,$=J.offsetParent}return{left:Q,top:X}}function px(J,$,X){if(typeof $==="number")J.style.width=`${$}px`;if(typeof X==="number")J.style.height=`${X}px`}function u7(J){var $,X,Q,Y;const Z=J.getBoundingClientRect();return{left:Z.left+((X=($=J.ownerDocument.defaultView)===null||$===void 0?void 0:$.scrollX)!==null&&X!==void 0?X:0),top:Z.top+((Y=(Q=J.ownerDocument.defaultView)===null||Q===void 0?void 0:Q.scrollY)!==null&&Y!==void 0?Y:0),width:Z.width,height:Z.height}}function mx(J){let $=J,X=1;do{const Q=lM($).zoom;if(Q!==null&&Q!==void 0&&Q!=="1")X*=Q;$=$.parentElement}while($!==null&&$!==$.ownerDocument.documentElement);return X}function $q(J){const $=g8.getMarginLeft(J)+g8.getMarginRight(J);return J.offsetWidth+$}function QF(J){const $=g8.getBorderLeftWidth(J)+g8.getBorderRightWidth(J),X=g8.getPaddingLeft(J)+g8.getPaddingRight(J);return J.offsetWidth-$-X}function ux(J){const $=g8.getBorderTopWidth(J)+g8.getBorderBottomWidth(J),X=g8.getPaddingTop(J)+g8.getPaddingBottom(J);return J.offsetHeight-$-X}function YH(J){const $=g8.getMarginTop(J)+g8.getMarginBottom(J);return J.offsetHeight+$}function t8(J,$){while(J){if(J===$)return!0;J=J.parentNode}return!1}function F80(J,$,X){while(J&&J.nodeType===J.ELEMENT_NODE){if(J.classList.contains($))return J;if(X){if(typeof X==="string"){if(J.classList.contains(X))return null}else if(J===X)return null}J=J.parentNode}return null}function YF(J,$,X){return!!F80(J,$,X)}function cx(J){return J&&!!J.host&&!!J.mode}function gZ(J){return!!jX(J)}function jX(J){var $;while(J.parentNode){if(J===(($=J.ownerDocument)===null||$===void 0?void 0:$.body))return null;J=J.parentNode}return cx(J)?J:null}function w9(){let J=K80().activeElement;while(J===null||J===void 0?void 0:J.shadowRoot)J=J.shadowRoot.activeElement;return J}function K80(){var J;return(J=[document,...W80().map((X)=>X.document)].find((X)=>X.hasFocus()))!==null&&J!==void 0?J:document}function K7(J=document.getElementsByTagName("head")[0],$){const X=document.createElement("style");return X.type="text/css",X.media="screen",$===null||$===void 0||$(X),J.appendChild(X),X}function dM(J,$,X=A80()){if(!X||!$)return;X.sheet.insertRule(J+"{"+$+"}",0)}function ZH(J){if(typeof HTMLElement==="object")return J instanceof HTMLElement;return J&&typeof J==="object"&&J.nodeType===1&&typeof J.nodeName==="string"}function lx(J){const $=J;return!!($&&typeof $.preventDefault==="function"&&typeof $.stopPropagation==="function")}function dx(J){const $=[];for(let X=0;J&&J.nodeType===J.ELEMENT_NODE;X++)$[X]=J.scrollTop,J=J.parentNode;return $}function sx(J,$){for(let X=0;J&&J.nodeType===J.ELEMENT_NODE;X++){if(J.scrollTop!==$[X])J.scrollTop=$[X];J=J.parentNode}}function fQ(J){return new $F(J)}function Z0(J,...$){if(J.append(...$),$.length===1&&typeof $[0]!=="string")return $[0]}function ZF(J,$){return J.insertBefore($,J.firstChild),$}function e8(J,...$){J.innerText="",Z0(J,...$)}function U0(J,$,...X){return ax(QH.HTML,J,$,...X)}function L9(...J){for(let $ of J)$.style.display="",$.removeAttribute("aria-hidden")}function I9(...J){for(let $ of J)$.style.display="none",$.setAttribute("aria-hidden","true")}function sM(J){const $=window.devicePixelRatio*J;return Math.max(1,Math.floor($))/window.devicePixelRatio}function GF(J){window.open(J,"_blank","noopener")}function rx(J){const $=()=>{J(),X=R6($)};let X=R6($);return N0(()=>X.dispose())}function zJ(J){if(!J)return"url('')";return`url('${ej.uriToBrowserUri(J).toString(!0).replace(/'/g,"%27")}')`}function aM(J){return`'${J.replace(/'/g,"%27")}'`}function X$(J,$){if(J!==void 0){const X=J.match(/^\s*var\((.+)\)$/);if(X){const Q=X[1].split(",",2);if(Q.length===2)$=X$(Q[1].trim(),$);return`var(${Q[0]}, ${$})`}return J}return $}function ix(J,$=!1){const X=document.createElement("a");return nj("afterSanitizeAttributes",(Q)=>{for(let Y of["href","src"])if(Q.hasAttribute(Y)){const Z=Q.getAttribute(Y);if(Y==="href"&&Z.startsWith("#"))continue;if(X.href=Z,!J.includes(X.protocol.replace(/:$/,""))){if($&&Y==="src"&&X.href.startsWith("data:"))continue;Q.removeAttribute(Y)}}}),N0(()=>{oj("afterSanitizeAttributes")})}function A7(J,...$){let X,Q;if(Array.isArray($[0]))X={},Q=$[0];else X=$[0]||{},Q=$[1];const Y=D80.exec(J);if(!Y||!Y.groups)throw new Error("Bad use of h");const Z=Y.groups.tag||"div",G=document.createElement(Z);if(Y.groups.id)G.id=Y.groups.id;const q=[];if(Y.groups.class){for(let H of Y.groups.class.split("."))if(H!=="")q.push(H)}if(X.className!==void 0){for(let H of X.className.split("."))if(H!=="")q.push(H)}if(q.length>0)G.className=q.join(" ");const U={};if(Y.groups.name)U[Y.groups.name]=G;if(Q){for(let H of Q)if(H instanceof HTMLElement)G.appendChild(H);else if(typeof H==="string")G.append(H);else if("root"in H)Object.assign(U,H),G.appendChild(H.root)}for(let[H,z]of Object.entries(X))if(H==="className")continue;else if(H==="style")for(let[V,W]of Object.entries(z))G.style.setProperty(fx(V),typeof W==="number"?W+"px":""+W);else if(H==="tabIndex")G.tabIndex=z;else G.setAttribute(fx(H),z.toString());return U.root=G,U}class hx{constructor(J,$,X,Q){this._node=J,this._type=$,this._handler=X,this._options=Q||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){if(!this._handler)return;this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null}}class JF{constructor(J,$=0){this._runner=J,this.priority=$,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(this._canceled)return;try{this._runner()}catch(J){a0(J)}}static sort(J,$){return $.priority-J.priority}}class g8{static convertToPixels(J,$){return parseFloat($)||0}static getDimension(J,$,X){const Q=lM(J),Y=Q?Q.getPropertyValue($):"0";return g8.convertToPixels(J,Y)}static getBorderLeftWidth(J){return g8.getDimension(J,"border-left-width","borderLeftWidth")}static getBorderRightWidth(J){return g8.getDimension(J,"border-right-width","borderRightWidth")}static getBorderTopWidth(J){return g8.getDimension(J,"border-top-width","borderTopWidth")}static getBorderBottomWidth(J){return g8.getDimension(J,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(J){return g8.getDimension(J,"padding-left","paddingLeft")}static getPaddingRight(J){return g8.getDimension(J,"padding-right","paddingRight")}static getPaddingTop(J){return g8.getDimension(J,"padding-top","paddingTop")}static getPaddingBottom(J){return g8.getDimension(J,"padding-bottom","paddingBottom")}static getMarginLeft(J){return g8.getDimension(J,"margin-left","marginLeft")}static getMarginTop(J){return g8.getDimension(J,"margin-top","marginTop")}static getMarginRight(J){return g8.getDimension(J,"margin-right","marginRight")}static getMarginBottom(J){return g8.getDimension(J,"margin-bottom","marginBottom")}}class m1{constructor(J,$){this.width=J,this.height=$}with(J=this.width,$=this.height){if(J!==this.width||$!==this.height)return new m1(J,$);else return this}static is(J){return typeof J==="object"&&typeof J.height==="number"&&typeof J.width==="number"}static lift(J){if(J instanceof m1)return J;else return new m1(J.width,J.height)}static equals(J,$){if(J===$)return!0;if(!J||!$)return!1;return J.width===$.width&&J.height===$.height}}class $F extends f{static hasFocusWithin(J){if(ZH(J)){const $=jX(J),X=$?$.activeElement:J.ownerDocument.activeElement;return t8(X,J)}else return t8(window.document.activeElement,window.document)}constructor(J){super();this._onDidFocus=this._register(new E),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E),this.onDidBlur=this._onDidBlur.event;let $=$F.hasFocusWithin(J),X=!1;const Q=()=>{if(X=!1,!$)$=!0,this._onDidFocus.fire()},Y=()=>{if($)X=!0,window.setTimeout(()=>{if(X)X=!1,$=!1,this._onDidBlur.fire()},0)};if(this._refreshStateHandler=()=>{if($F.hasFocusWithin(J)!==$)if($)Y();else Q()},this._register(l(J,G0.FOCUS,Q,!0)),this._register(l(J,G0.BLUR,Y,!0)),J instanceof HTMLElement)this._register(l(J,G0.FOCUS_IN,()=>this._refreshStateHandler())),this._register(l(J,G0.FOCUS_OUT,()=>this._refreshStateHandler()))}}class $$ extends E{constructor(){super();this._subscriptions=new e,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(l(window,"keydown",(J)=>{if(J.defaultPrevented)return;const $=new D1(J);if($.keyCode===6&&J.repeat)return;if(J.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(J.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(J.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(J.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if($.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;if(this._keyStatus.altKey=J.altKey,this._keyStatus.ctrlKey=J.ctrlKey,this._keyStatus.metaKey=J.metaKey,this._keyStatus.shiftKey=J.shiftKey,this._keyStatus.lastKeyPressed)this._keyStatus.event=J,this.fire(this._keyStatus)},!0)),this._subscriptions.add(l(window,"keyup",(J)=>{if(J.defaultPrevented)return;if(!J.altKey&&this._keyStatus.altKey)this._keyStatus.lastKeyReleased="alt";else if(!J.ctrlKey&&this._keyStatus.ctrlKey)this._keyStatus.lastKeyReleased="ctrl";else if(!J.metaKey&&this._keyStatus.metaKey)this._keyStatus.lastKeyReleased="meta";else if(!J.shiftKey&&this._keyStatus.shiftKey)this._keyStatus.lastKeyReleased="shift";else this._keyStatus.lastKeyReleased=void 0;if(this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased)this._keyStatus.lastKeyPressed=void 0;if(this._keyStatus.altKey=J.altKey,this._keyStatus.ctrlKey=J.ctrlKey,this._keyStatus.metaKey=J.metaKey,this._keyStatus.shiftKey=J.shiftKey,this._keyStatus.lastKeyReleased)this._keyStatus.event=J,this.fire(this._keyStatus)},!0)),this._subscriptions.add(l(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(document.body,"mousemove",(J)=>{if(J.buttons)this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(l(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){if(!$$.instance)$$.instance=new $$;return $$.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class rM extends f{constructor(J,$){super();this.element=J,this.callbacks=$,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(l(this.element,G0.DRAG_ENTER,(J)=>{this.counter++,this.dragStartTime=J.timeStamp,this.callbacks.onDragEnter(J)})),this._register(l(this.element,G0.DRAG_OVER,(J)=>{var $,X;J.preventDefault(),(X=($=this.callbacks).onDragOver)===null||X===void 0||X.call($,J,J.timeStamp-this.dragStartTime)})),this._register(l(this.element,G0.DRAG_LEAVE,(J)=>{if(this.counter--,this.counter===0)this.dragStartTime=0,this.callbacks.onDragLeave(J)})),this._register(l(this.element,G0.DRAG_END,(J)=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(J)})),this._register(l(this.element,G0.DROP,(J)=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(J)}))}}var B80,j80,A80,ax,fx,sq0,W80,aq0,X8,Jq,R6,cM,G0,g0,P80,QH,nx,rq0,D80;var y0=N(()=>{z9();dj();x6();O5();A1();A0();tj();$0();T5();O1();B80=function(J){return function($){return J(new X6($))}},j80=function(J){return function($){return J(new D1($))}};A80=function(){if(!cM)cM=K7();return cM};ax=function(J,$,X,...Q){const Y=P80.exec($);if(!Y)throw new Error("Bad use of emmet");const Z=Y[1]||"div";let G;if(J!==QH.HTML)G=document.createElementNS(J,Z);else G=document.createElement(Z);if(Y[3])G.id=Y[3];if(Y[4])G.className=Y[4].replace(/\./g," ").trim();if(X)Object.entries(X).forEach(([q,U])=>{if(typeof U==="undefined")return;if(/^on\w+$/.test(q))G[q]=U;else if(q==="selected"){if(U)G.setAttribute(q,"true")}else G.setAttribute(q,U)});return G.append(...Q),G};fx=function(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},{registerWindow:sq0,getWindows:W80,onDidCreateWindow:aq0}=function(){const J=[],$=new E;return{onDidCreateWindow:$.event,registerWindow(X){J.push(X);const Q=new e;return Q.add(N0(()=>{const Y=J.indexOf(X);if(Y!==-1)J.splice(Y,1)})),$.fire({window:X,disposableStore:Q}),Q},getWindows(){return J}}}();X8=function J($,X,Q,Y){let Z=Q;if(X==="click"||X==="mousedown")Z=B80(Q);else if(X==="keydown"||X==="keypress"||X==="keyup")Z=j80(Q);return l($,X,Z,Y)};(function(){let J=[],$=null,X=!1,Q=!1;const Y=()=>{X=!1,$=J,J=[],Q=!0;while($.length>0)$.sort(JF.sort),$.shift().execute();Q=!1};R6=(Z,G=0)=>{const q=new JF(Z,G);if(J.push(q),!X)X=!0,requestAnimationFrame(Y);return q},Jq=(Z,G)=>{if(Q){const q=new JF(Z,G);return $.push(q),q}else return R6(Z,G)}})();m1.None=new m1(0,0);cM=null,G0={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:oJ?"webkitAnimationStart":"animationstart",ANIMATION_END:oJ?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:oJ?"webkitAnimationIteration":"animationiteration"},g0={stop:(J,$)=>{if(J.preventDefault(),$)J.stopPropagation();return J}};P80=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(J){J.HTML="http://www.w3.org/1999/xhtml",J.SVG="http://www.w3.org/2000/svg"})(QH||(QH={}));U0.SVG=function(J,$,...X){return ax(QH.SVG,J,$,...X)};uM.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");nx=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),rq0=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});D80=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/});function T0(J){return _5.INSTANCE.registerEditorCommand(J),J}function J7(J){const $=new J;return _5.INSTANCE.registerEditorAction($),$}function ox(J){_5.INSTANCE.registerEditorAction(J)}function w5(J,$,X){_5.INSTANCE.registerEditorContribution(J,$,X)}class Xq{constructor(J){this.id=J.id,this.precondition=J.precondition,this._kbOpts=J.kbOpts,this._menuOpts=J.menuOpts,this._description=J.description}register(){if(Array.isArray(this._menuOpts))this._menuOpts.forEach(this._registerMenuItem,this);else if(this._menuOpts)this._registerMenuItem(this._menuOpts);if(this._kbOpts){const J=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let $ of J){let X=$.kbExpr;if(this.precondition)if(X)X=M0.and(X,this.precondition);else X=this.precondition;const Q={id:this.id,weight:$.weight,args:$.args,when:X,primary:$.primary,secondary:$.secondary,win:$.win,linux:$.linux,mac:$.mac};J4.registerKeybindingRule(Q)}}V8.registerCommand({id:this.id,handler:(J,$)=>this.runCommand(J,$),description:this._description})}_registerMenuItem(J){t4.appendMenuItem(J.menuId,{group:J.group,command:{id:this.id,title:J.title,icon:J.icon,precondition:this.precondition},when:J.when,order:J.order})}}class qF extends Xq{constructor(){super(...arguments);this._implementations=[]}addImplementation(J,$,X,Q){return this._implementations.push({priority:J,name:$,implementation:X,when:Q}),this._implementations.sort((Y,Z)=>Z.priority-Y.priority),{dispose:()=>{for(let Y=0;Y<this._implementations.length;Y++)if(this._implementations[Y].implementation===X){this._implementations.splice(Y,1);return}}}}runCommand(J,$){const X=J.get(F7),Q=J.get(p0);X.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let Y of this._implementations){if(Y.when){const G=Q.getContext(w9());if(!Y.when.evaluate(G))continue}const Z=Y.implementation(J,$);if(Z){if(X.trace(`Command '${this.id}' was handled by '${Y.name}'.`),typeof Z==="boolean")return;return Z}}X.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class iM extends Xq{constructor(J,$){super($);this.command=J}runCommand(J,$){return this.command.runCommand(J,$)}}class k9 extends Xq{static bindToContribution(J){return class $ extends k9{constructor(X){super(X);this._callback=X.handler}runEditorCommand(X,Q,Y){const Z=J(Q);if(Z)this._callback(Z,Y)}}}static runEditorCommand(J,$,X,Q){const Y=J.get(p1),Z=Y.getFocusedCodeEditor()||Y.getActiveCodeEditor();if(!Z)return;return Z.invokeWithinContext((G)=>{if(!G.get(p0).contextMatchesRules(X!==null&&X!==void 0?X:void 0))return;return Q(G,Z,$)})}runCommand(J,$){return k9.runEditorCommand(J,$,this.precondition,(X,Q,Y)=>this.runEditorCommand(X,Q,Y))}}class VJ extends k9{static convertOptions(J){let $;if(Array.isArray(J.menuOpts))$=J.menuOpts;else if(J.menuOpts)$=[J.menuOpts];else $=[];function X(Q){if(!Q.menuId)Q.menuId=S.EditorContext;if(!Q.title)Q.title=J.label;return Q.when=M0.and(J.precondition,Q.when),Q}if(Array.isArray(J.contextMenuOpts))$.push(...J.contextMenuOpts.map(X));else if(J.contextMenuOpts)$.push(X(J.contextMenuOpts));return J.menuOpts=$,J}constructor(J){super(VJ.convertOptions(J));this.label=J.label,this.alias=J.alias}runEditorCommand(J,$,X){return this.reportTelemetry(J,$),this.run(J,$,X||{})}reportTelemetry(J,$){J.get(e9).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class _5{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(J,$,X){this.editorContributions.push({id:J,ctor:$,instantiation:X})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(J){J.register(),this.editorActions.push(J)}getEditorActions(){return this.editorActions}registerEditorCommand(J){J.register(),this.editorCommands[J.id]=J}getEditorCommand(J){return this.editorCommands[J]||null}}var GH,hQ,R80,nM,oM,tx;var L5=N(()=>{m0();l8();t9();W1();UX();s3();e4();n6();s1();e0();o2();t6();hZ();j8();M5();y0();GH=function(J){return J.register(),J};(function(J){function $(G){return _5.INSTANCE.getEditorCommand(G)}J.getEditorCommand=$;function X(){return _5.INSTANCE.getEditorActions()}J.getEditorActions=X;function Q(){return _5.INSTANCE.getEditorContributions()}J.getEditorContributions=Q;function Y(G){return _5.INSTANCE.getEditorContributions().filter((q)=>G.indexOf(q.id)>=0)}J.getSomeEditorContributions=Y;function Z(){return _5.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Z})(hQ||(hQ={}));R80={EditorCommonContributions:"editor.contributions"};_5.INSTANCE=new _5;a1.add(R80.EditorCommonContributions,_5.INSTANCE);nM=GH(new qF({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:S.MenubarEditMenu,group:"1_do",title:F({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:S.CommandPalette,group:"",title:F("undo","Undo"),order:1}]}));GH(new iM(nM,{id:"default:undo",precondition:void 0}));oM=GH(new qF({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:S.MenubarEditMenu,group:"1_do",title:F({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:S.CommandPalette,group:"",title:F("redo","Redo"),order:1}]}));GH(new iM(oM,{id:"default:redo",precondition:void 0}));tx=GH(new qF({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:S.MenubarSelectionMenu,group:"1_basic",title:F({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:S.CommandPalette,group:"",title:F("selectAll","Select All"),order:1}]}))});var UF;var tM=N(()=>{UF=Symbol("MicrotaskDelay")});function VF(J){return!!J&&typeof J.then==="function"}function pZ(J){const $=new u8,X=J($.token),Q=new Promise((Y,Z)=>{const G=$.token.onCancellationRequested(()=>{G.dispose(),$.dispose(),Z(new JX)});Promise.resolve(X).then((q)=>{G.dispose(),$.dispose(),Y(q)},(q)=>{G.dispose(),$.dispose(),Z(q)})});return new class{cancel(){$.cancel()}then(Y,Z){return Q.then(Y,Z)}catch(Y){return this.then(void 0,Y)}finally(Y){return Q.finally(Y)}}}function FX(J,$){if(!$)return pZ((X)=>FX(J,X));return new Promise((X,Q)=>{const Y=setTimeout(()=>{Z.dispose(),X()},J),Z=$.onCancellationRequested(()=>{clearTimeout(Y),Z.dispose(),Q(new JX)})})}function gQ(J,$=0,X){const Q=setTimeout(()=>{if(J(),X)Y.dispose()},$),Y=N0(()=>{clearTimeout(Q),X===null||X===void 0||X.deleteAndLeak(Y)});return X===null||X===void 0||X.add(Y),Y}class ex{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(J){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=J,!this.queuedPromise){const $=()=>{if(this.queuedPromise=null,this.isDisposed)return;const X=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,X};this.queuedPromise=new Promise((X)=>{this.activePromise.then($,$).then(X)})}return new Promise(($,X)=>{this.queuedPromise.then($,X)})}return this.activePromise=J(),new Promise(($,X)=>{this.activePromise.then((Q)=>{this.activePromise=null,$(Q)},(Q)=>{this.activePromise=null,X(Q)})})}dispose(){this.isDisposed=!0}}class BJ{constructor(J){this.defaultDelay=J,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(J,$=this.defaultDelay){if(this.task=J,this.cancelTimeout(),!this.completionPromise)this.completionPromise=new Promise((Q,Y)=>{this.doResolve=Q,this.doReject=Y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Q=this.task;return this.task=null,Q()}return});const X=()=>{var Q;this.deferred=null,(Q=this.doResolve)===null||Q===void 0||Q.call(this,null)};return this.deferred=$===UF?O80(X):M80($,X),this.completionPromise}isTriggered(){var J;return!!((J=this.deferred)===null||J===void 0?void 0:J.isTriggered())}cancel(){var J;if(this.cancelTimeout(),this.completionPromise)(J=this.doReject)===null||J===void 0||J.call(this,new JX),this.completionPromise=null}cancelTimeout(){var J;(J=this.deferred)===null||J===void 0||J.dispose(),this.deferred=null}dispose(){this.cancel()}}class qH{constructor(J){this.delayer=new BJ(J),this.throttler=new ex}trigger(J,$){return this.delayer.trigger(()=>this.throttler.queue(J),$)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}class M6{constructor(J,$){if(this._token=-1,typeof J==="function"&&typeof $==="number")this.setIfNotSet(J,$)}dispose(){this.cancel()}cancel(){if(this._token!==-1)clearTimeout(this._token),this._token=-1}cancelAndSet(J,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,J()},$)}setIfNotSet(J,$){if(this._token!==-1)return;this._token=setTimeout(()=>{this._token=-1,J()},$)}}class Y${constructor(){this._token=-1}dispose(){this.cancel()}cancel(){if(this._token!==-1)clearInterval(this._token),this._token=-1}cancelAndSet(J,$){this.cancel(),this._token=setInterval(()=>{J()},$)}}class Q8{constructor(J,$){this.timeoutToken=-1,this.runner=J,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){if(this.isScheduled())clearTimeout(this.timeoutToken),this.timeoutToken=-1}schedule(J=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,J)}get delay(){return this.timeout}set delay(J){this.timeout=J}isScheduled(){return this.timeoutToken!==-1}onTimeout(){if(this.timeoutToken=-1,this.runner)this.doRun()}doRun(){var J;(J=this.runner)===null||J===void 0||J.call(this)}}class mZ{constructor(J){this._didRun=!1,this._executor=()=>{try{this._value=J()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=Q$(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(!this._didRun)this._handle.dispose(),this._executor();if(this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class UH{get isRejected(){var J;return((J=this.outcome)===null||J===void 0?void 0:J.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((J,$)=>{this.completeCallback=J,this.errorCallback=$})}complete(J){return new Promise(($)=>{this.completeCallback(J),this.outcome={outcome:0,value:J},$()})}error(J){return new Promise(($)=>{this.errorCallback(J),this.outcome={outcome:1,value:J},$()})}cancel(){return this.error(new JX)}}class J5{static fromArray(J){return new J5(($)=>{$.emitMany(J)})}static fromPromise(J){return new J5(($)=>WJ(this,void 0,void 0,function*(){$.emitMany(yield J)}))}static fromPromises(J){return new J5(($)=>WJ(this,void 0,void 0,function*(){yield Promise.all(J.map((X)=>WJ(this,void 0,void 0,function*(){return $.emitOne(yield X)})))}))}static merge(J){return new J5(($)=>WJ(this,void 0,void 0,function*(){yield Promise.all(J.map((X)=>{var Q,Y,Z;return WJ(this,void 0,void 0,function*(){var G,q,U,H;try{for(Q=!0,Y=HF(X);Z=yield Y.next(),G=Z.done,!G;Q=!0){H=Z.value,Q=!1;const z=H;$.emitOne(z)}}catch(z){q={error:z}}finally{try{if(!Q&&!G&&(U=Y.return))yield U.call(Y)}finally{if(q)throw q.error}}})}))}))}constructor(J){this._state=0,this._results=[],this._error=null,this._onStateChanged=new E,queueMicrotask(()=>WJ(this,void 0,void 0,function*(){const $={emitOne:(X)=>this.emitOne(X),emitMany:(X)=>this.emitMany(X),reject:(X)=>this.reject(X)};try{yield Promise.resolve(J($)),this.resolve()}catch(X){this.reject(X)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}}))}[Symbol.asyncIterator](){let J=0;return{next:()=>WJ(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(J<this._results.length)return{done:!1,value:this._results[J++]};if(this._state===1)return{done:!0,value:void 0};yield Y0.toPromise(this._onStateChanged.event)}while(!0)})}}static map(J,$){return new J5((X)=>WJ(this,void 0,void 0,function*(){var Q,Y,Z,G;try{for(var q=!0,U=HF(J),H;H=yield U.next(),Q=H.done,!Q;q=!0){G=H.value,q=!1;const z=G;X.emitOne($(z))}}catch(z){Y={error:z}}finally{try{if(!q&&!Q&&(Z=U.return))yield Z.call(U)}finally{if(Y)throw Y.error}}}))}map(J){return J5.map(this,J)}static filter(J,$){return new J5((X)=>WJ(this,void 0,void 0,function*(){var Q,Y,Z,G;try{for(var q=!0,U=HF(J),H;H=yield U.next(),Q=H.done,!Q;q=!0){G=H.value,q=!1;const z=G;if($(z))X.emitOne(z)}}catch(z){Y={error:z}}finally{try{if(!q&&!Q&&(Z=U.return))yield Z.call(U)}finally{if(Y)throw Y.error}}}))}filter(J){return J5.filter(this,J)}static coalesce(J){return J5.filter(J,($)=>!!$)}coalesce(){return J5.coalesce(this)}static toPromise(J){var $,X,Q,Y,Z,G,q;return WJ(this,void 0,void 0,function*(){const U=[];try{for($=!0,X=HF(J);Q=yield X.next(),Y=Q.done,!Y;$=!0){q=Q.value,$=!1;const H=q;U.push(H)}}catch(H){Z={error:H}}finally{try{if(!$&&!Y&&(G=X.return))yield G.call(X)}finally{if(Z)throw Z.error}}return U})}toPromise(){return J5.toPromise(this)}emitOne(J){if(this._state!==0)return;this._results.push(J),this._onStateChanged.fire()}emitMany(J){if(this._state!==0)return;this._results=this._results.concat(J),this._onStateChanged.fire()}resolve(){if(this._state!==0)return;this._state=1,this._onStateChanged.fire()}reject(J){if(this._state!==0)return;this._state=2,this._error=J,this._onStateChanged.fire()}}var WJ,HF,M80,O80,Q$,zF;var f1=N(()=>{v7();A1();A0();$0();O1();tM();WJ=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},HF=function(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=J[Symbol.asyncIterator],X;return $?$.call(J):(J=typeof __values==="function"?__values(J):J[Symbol.iterator](),X={},Q("next"),Q("throw"),Q("return"),X[Symbol.asyncIterator]=function(){return this},X);function Q(Z){X[Z]=J[Z]&&function(G){return new Promise(function(q,U){G=J[Z](G),Y(q,U,G.done,G.value)})}}function Y(Z,G,q,U){Promise.resolve(U).then(function(H){Z({value:H,done:q})},G)}};M80=(J,$)=>{let X=!0;const Q=setTimeout(()=>{X=!1,$()},J);return{isTriggered:()=>X,dispose:()=>{clearTimeout(Q),X=!1}}},O80=(J)=>{let $=!0;return queueMicrotask(()=>{if($)$=!1,J()}),{isTriggered:()=>$,dispose:()=>{$=!1}}};(function(){if(typeof requestIdleCallback!=="function"||typeof cancelIdleCallback!=="function")Q$=(J)=>{zB(()=>{if($)return;const X=Date.now()+15;J(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,X-Date.now())}}))});let $=!1;return{dispose(){if($)return;$=!0}}};else Q$=(J,$)=>{const X=requestIdleCallback(J,typeof $==="number"?{timeout:$}:void 0);let Q=!1;return{dispose(){if(Q)return;Q=!0,cancelIdleCallback(X)}}}})();(function(J){function $(Q){return WJ(this,void 0,void 0,function*(){let Y=void 0;const Z=yield Promise.all(Q.map((G)=>G.then((q)=>q,(q)=>{if(!Y)Y=q;return})));if(typeof Y!=="undefined")throw Y;return Z})}J.settled=$;function X(Q){return new Promise((Y,Z)=>WJ(this,void 0,void 0,function*(){try{yield Q(Y,Z)}catch(G){Z(G)}}))}J.withAsyncBody=X})(zF||(zF={}));J5.EMPTY=J5.fromArray([])});function HH(J){if(!l4)return;if(!Jb)Jb=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq");console.warn(J.message)}class Xb{constructor(J,$,X,Q){this.vsWorker=J,this.req=$,this.method=X,this.args=Q,this.type=0}}class eM{constructor(J,$,X,Q){this.vsWorker=J,this.seq=$,this.res=X,this.err=Q,this.type=1}}class Qb{constructor(J,$,X,Q){this.vsWorker=J,this.req=$,this.eventName=X,this.arg=Q,this.type=2}}class Yb{constructor(J,$,X){this.vsWorker=J,this.req=$,this.event=X,this.type=3}}class Zb{constructor(J,$){this.vsWorker=J,this.req=$,this.type=4}}class JO{constructor(J){this._workerId=-1,this._handler=J,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(J){this._workerId=J}sendMessage(J,$){const X=String(++this._lastSentReq);return new Promise((Q,Y)=>{this._pendingReplies[X]={resolve:Q,reject:Y},this._send(new Xb(this._workerId,X,J,$))})}listen(J,$){let X=null;const Q=new E({onWillAddFirstListener:()=>{X=String(++this._lastSentReq),this._pendingEmitters.set(X,Q),this._send(new Qb(this._workerId,X,J,$))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(X),this._send(new Zb(this._workerId,X)),X=null}});return Q.event}handleMessage(J){if(!J||!J.vsWorker)return;if(this._workerId!==-1&&J.vsWorker!==this._workerId)return;this._handleMessage(J)}_handleMessage(J){switch(J.type){case 1:return this._handleReplyMessage(J);case 0:return this._handleRequestMessage(J);case 2:return this._handleSubscribeEventMessage(J);case 3:return this._handleEventMessage(J);case 4:return this._handleUnsubscribeEventMessage(J)}}_handleReplyMessage(J){if(!this._pendingReplies[J.seq]){console.warn("Got reply to unknown seq");return}const $=this._pendingReplies[J.seq];if(delete this._pendingReplies[J.seq],J.err){let X=J.err;if(J.err.$isError)X=new Error,X.name=J.err.name,X.message=J.err.message,X.stack=J.err.stack;$.reject(X);return}$.resolve(J.res)}_handleRequestMessage(J){const $=J.req;this._handler.handleMessage(J.method,J.args).then((Q)=>{this._send(new eM(this._workerId,$,Q,void 0))},(Q)=>{if(Q.detail instanceof Error)Q.detail=lR(Q.detail);this._send(new eM(this._workerId,$,void 0,lR(Q)))})}_handleSubscribeEventMessage(J){const $=J.req,X=this._handler.handleEvent(J.eventName,J.arg)((Q)=>{this._send(new Yb(this._workerId,$,Q))});this._pendingEvents.set($,X)}_handleEventMessage(J){if(!this._pendingEmitters.has(J.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(J.req).fire(J.event)}_handleUnsubscribeEventMessage(J){if(!this._pendingEvents.has(J.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(J.req).dispose(),this._pendingEvents.delete(J.req)}_send(J){const $=[];if(J.type===0){for(let X=0;X<J.args.length;X++)if(J.args[X]instanceof ArrayBuffer)$.push(J.args[X])}else if(J.type===1){if(J.res instanceof ArrayBuffer)$.push(J.res)}this._handler.sendMessage(J,$)}}class $O extends f{constructor(J,$,X){super();let Q=null;this._worker=this._register(J.create("vs/base/common/worker/simpleWorker",(H)=>{this._protocol.handleMessage(H)},(H)=>{Q===null||Q===void 0||Q(H)})),this._protocol=new JO({sendMessage:(H,z)=>{this._worker.postMessage(H,z)},handleMessage:(H,z)=>{if(typeof X[H]!=="function")return Promise.reject(new Error("Missing method "+H+" on main thread host."));try{return Promise.resolve(X[H].apply(X,z))}catch(V){return Promise.reject(V)}},handleEvent:(H,z)=>{if(QO(H)){const V=X[H].call(X,z);if(typeof V!=="function")throw new Error(`Missing dynamic event ${H} on main thread host.`);return V}if(XO(H)){const V=X[H];if(typeof V!=="function")throw new Error(`Missing event ${H} on main thread host.`);return V}throw new Error(`Malformed event name ${H}`)}}),this._protocol.setWorkerId(this._worker.getId());let Y=null;const Z=globalThis.require;if(typeof Z!=="undefined"&&typeof Z.getConfig==="function")Y=Z.getConfig();else if(typeof globalThis.requirejs!=="undefined")Y=globalThis.requirejs.s.contexts._.config;const G=MQ(X);this._onModuleLoaded=this._protocol.sendMessage($b,[this._worker.getId(),JSON.parse(JSON.stringify(Y)),$,G]);const q=(H,z)=>{return this._request(H,z)},U=(H,z)=>{return this._protocol.listen(H,z)};this._lazyProxy=new Promise((H,z)=>{Q=z,this._onModuleLoaded.then((V)=>{H(Gb(V,q,U))},(V)=>{z(V),this._onError("Worker failed to load "+$,V)})})}getProxyObject(){return this._lazyProxy}_request(J,$){return new Promise((X,Q)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(J,$).then(X,Q)},Q)})}_onError(J,$){console.error(J),console.info($)}}class N80{constructor(J,$){this._requestHandlerFactory=$,this._requestHandler=null,this._protocol=new JO({sendMessage:(X,Q)=>{J(X,Q)},handleMessage:(X,Q)=>this._handleMessage(X,Q),handleEvent:(X,Q)=>this._handleEvent(X,Q)})}onmessage(J){this._protocol.handleMessage(J)}_handleMessage(J,$){if(J===$b)return this.initialize($[0],$[1],$[2],$[3]);if(!this._requestHandler||typeof this._requestHandler[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._requestHandler[J].apply(this._requestHandler,$))}catch(X){return Promise.reject(X)}}_handleEvent(J,$){if(!this._requestHandler)throw new Error("Missing requestHandler");if(QO(J)){const X=this._requestHandler[J].call(this._requestHandler,$);if(typeof X!=="function")throw new Error(`Missing dynamic event ${J} on request handler.`);return X}if(XO(J)){const X=this._requestHandler[J];if(typeof X!=="function")throw new Error(`Missing event ${J} on request handler.`);return X}throw new Error(`Malformed event name ${J}`)}initialize(J,$,X,Q){this._protocol.setWorkerId(J);const G=Gb(Q,(q,U)=>{return this._protocol.sendMessage(q,U)},(q,U)=>{return this._protocol.listen(q,U)});if(this._requestHandlerFactory)return this._requestHandler=this._requestHandlerFactory(G),Promise.resolve(MQ(this._requestHandler));if($){if(typeof $.baseUrl!=="undefined")delete $.baseUrl;if(typeof $.paths!=="undefined"){if(typeof $.paths.vs!=="undefined")delete $.paths.vs}if(typeof $.trustedTypesPolicy!==void 0)delete $.trustedTypesPolicy;$.catchError=!0,globalThis.require.config($)}return new Promise((q,U)=>{const H=globalThis.require;H([X],(z)=>{if(this._requestHandler=z.create(G),!this._requestHandler){U(new Error("No RequestHandler!"));return}q(MQ(this._requestHandler))},U)})}}var XO,QO,Gb,$b,Jb;var YO=N(()=>{A1();A0();$0();U9();O1();l0();XO=function(J){return J[0]==="o"&&J[1]==="n"&&n4(J.charCodeAt(2))},QO=function(J){return/^onDynamic/.test(J)&&n4(J.charCodeAt(9))},Gb=function(J,$,X){const Q=(G)=>{return function(){const q=Array.prototype.slice.call(arguments,0);return $(G,q)}},Y=(G)=>{return function(q){return X(G,q)}},Z={};for(let G of J){if(QO(G)){Z[G]=Y(G);continue}if(XO(G)){Z[G]=X(G,void 0);continue}Z[G]=Q(G)}return Z},$b="$initialize",Jb=!1});function $5(J,$){var X;const Q=globalThis.MonacoEnvironment;if(Q===null||Q===void 0?void 0:Q.createTrustedTypesPolicy)try{return Q.createTrustedTypesPolicy(J,$)}catch(Y){a0(Y);return}try{return(X=window.trustedTypes)===null||X===void 0?void 0:X.createPolicy(J,$)}catch(Y){a0(Y);return}}var pQ=N(()=>{A1()});class Ub{constructor(J,$,X,Q,Y){this.id=$,this.label=X;const Z=T80(X);if(_80(Z))this.worker=Z;else this.worker=Promise.resolve(Z);this.postMessage(J,[]),this.worker.then((G)=>{if(G.onmessage=function(q){Q(q.data)},G.onmessageerror=Y,typeof G.addEventListener==="function")G.addEventListener("error",Y)})}getId(){return this.id}postMessage(J,$){var X;(X=this.worker)===null||X===void 0||X.then((Q)=>{try{Q.postMessage(J,$)}catch(Y){a0(Y),a0(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Y}))}})}dispose(){var J;(J=this.worker)===null||J===void 0||J.then(($)=>$.terminate()),this.worker=null}}class zH{constructor(J){this._label=J,this._webWorkerFailedBeforeError=!1}create(J,$,X){const Q=++zH.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Ub(J,Q,this._label||"anonymous"+Q,$,(Y)=>{HH(Y),this._webWorkerFailedBeforeError=Y,X(Y)})}}var T80,_80,qb;var Hb=N(()=>{pQ();A1();YO();T80=function(J){const $=globalThis.MonacoEnvironment;if($){if(typeof $.getWorker==="function")return $.getWorker("workerMain.js",J);if(typeof $.getWorkerUrl==="function"){const X=$.getWorkerUrl("workerMain.js",J);return new Worker(qb?qb.createScriptURL(X):X,{name:J})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")},_80=function(J){if(typeof J.then==="function")return!0;return!1},qb=$5("defaultWorkerFactory",{createScriptURL:(J)=>J});zH.LAST_WORKER_ID=0});class WH{constructor(J){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=J.open,this.close=J.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(J.notIn))for(let $=0,X=J.notIn.length;$<X;$++)switch(J.notIn[$]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(J){switch(J){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(J,$){if(J.getTokenCount()===0)return!0;const X=J.findTokenIndexAtOffset($-2),Q=J.getStandardTokenType(X);return this.isOK(Q)}_findNeutralCharacterInRange(J,$){for(let X=J;X<=$;X++){const Q=String.fromCharCode(X);if(!this.open.includes(Q)&&!this.close.includes(Q))return Q}return null}findNeutralCharacter(){if(!this._neutralCharacterSearched){if(this._neutralCharacterSearched=!0,!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(48,57);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(97,122);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(65,90)}return this._neutralCharacter}}class ZO{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let $ of J)if(VH(this.autoClosingPairsOpenByStart,$.open.charAt(0),$),VH(this.autoClosingPairsOpenByEnd,$.open.charAt($.open.length-1),$),VH(this.autoClosingPairsCloseByStart,$.close.charAt(0),$),VH(this.autoClosingPairsCloseByEnd,$.close.charAt($.close.length-1),$),$.close.length===1&&$.open.length===1)VH(this.autoClosingPairsCloseSingleChar,$.close,$)}}var VH,c7;var uZ=N(()=>{VH=function(J,$,X){if(J.has($))J.get($).push(X);else J.set($,[X])};(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(c7||(c7={}))});function mQ(J,$){const X=J.getCount(),Q=J.findTokenIndexAtOffset($),Y=J.getLanguageId(Q);let Z=Q;while(Z+1<X&&J.getLanguageId(Z+1)===Y)Z++;let G=Q;while(G>0&&J.getLanguageId(G-1)===Y)G--;return new zb(J,Y,G,Z+1,J.getStartOffset(G),J.getEndOffset(Z))}function jJ(J){return(J&3)!==0}class zb{constructor(J,$,X,Q,Y,Z){this._scopedLineTokensBrand=void 0,this._actual=J,this.languageId=$,this._firstTokenIndex=X,this._lastTokenIndex=Q,this.firstCharOffset=Y,this._lastCharOffset=Z}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(J){return this._actual.getLineContent().substring(0,this.firstCharOffset+J)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(J){return this._actual.findTokenIndexAtOffset(J+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(J){return this._actual.getStandardTokenType(J+this._firstTokenIndex)}}var cZ=N(()=>{});class lZ{constructor(J){if(J.autoClosingPairs)this._autoClosingPairs=J.autoClosingPairs.map(($)=>new WH($));else if(J.brackets)this._autoClosingPairs=J.brackets.map(($)=>new WH({open:$[0],close:$[1]}));else this._autoClosingPairs=[];if(J.__electricCharacterSupport&&J.__electricCharacterSupport.docComment){const $=J.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new WH({open:$.open,close:$.close||""}))}this._autoCloseBeforeForQuotes=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:lZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:lZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=J.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(J){return J?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var Vb=N(()=>{uZ();lZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t";lZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS='\'"`;:.,=}])> \n\t'});function Bb(J,$){return J[$+0]<<0>>>0|J[$+1]<<8>>>0}function jb(J,$,X){J[X+0]=$&255,$=$>>>8,J[X+1]=$&255}function I5(J,$){return J[$]*Math.pow(2,24)+J[$+1]*Math.pow(2,16)+J[$+2]*Math.pow(2,8)+J[$+3]}function k5(J,$,X){J[X+3]=$,$=$>>>8,J[X+2]=$,$=$>>>8,J[X+1]=$,$=$>>>8,J[X]=$}function qO(J,$){return J[$]}function UO(J,$,X){J[X]=$}class WF{static wrap(J){if(Wb&&!Buffer.isBuffer(J))J=Buffer.from(J.buffer,J.byteOffset,J.byteLength);return new WF(J)}constructor(J){this.buffer=J,this.byteLength=this.buffer.byteLength}toString(){if(Wb)return this.buffer.toString();else{if(!GO)GO=new TextDecoder;return GO.decode(this.buffer)}}}var Wb,hU0,GO;var BH=N(()=>{h2();Wb=typeof Buffer!=="undefined",hU0=new i9(()=>new Uint8Array(256))});function BO(){if(!WO)WO=vS()?Fb():w80();return WO}function Kb(J,$,X){const Q=new Uint16Array(J.buffer,$,X);if(X>0&&(Q[0]===65279||Q[0]===65534))return L80(J,$,X);return Fb().decode(Q)}class KX{constructor(J){this._capacity=J|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){if(this._completedStrings!==null)return this._flushBuffer(),this._completedStrings.join("");return this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const J=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return BO().decode(J)}_flushBuffer(){const J=this._buildBuffer();if(this._bufferLength=0,this._completedStrings===null)this._completedStrings=[J];else this._completedStrings[this._completedStrings.length]=J}appendCharCode(J){const $=this._capacity-this._bufferLength;if($<=1){if($===0||U8(J))this._flushBuffer()}this._buffer[this._bufferLength++]=J}appendASCIICharCode(J){if(this._bufferLength===this._capacity)this._flushBuffer();this._buffer[this._bufferLength++]=J}appendString(J){const $=J.length;if(this._bufferLength+$>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=J;return}for(let X=0;X<$;X++)this._buffer[this._bufferLength++]=J.charCodeAt(X)}}var Fb,w80,L80,zO,VO,WO;var dZ=N(()=>{l0();O1();BH();Fb=function(){if(!zO)zO=new TextDecoder("UTF-16LE");return zO},w80=function(){if(!VO)VO=new TextDecoder("UTF-16BE");return VO};L80=function(J,$,X){const Q=[];let Y=0;for(let Z=0;Z<X;Z++){const G=Bb(J,$);$+=2,Q[Y++]=String.fromCharCode(G)}return Q.join("")}});class BF{constructor(J,$,X,Q,Y,Z){this._richEditBracketBrand=void 0,this.languageId=J,this.index=$,this.open=X,this.close=Q,this.forwardRegex=Y,this.reversedRegex=Z,this._openSet=BF._toSet(this.open),this._closeSet=BF._toSet(this.close)}isOpen(J){return this._openSet.has(J)}isClose(J){return this._closeSet.has(J)}static _toSet(J){const $=new Set;for(let X of J)$.add(X);return $}}class jO{constructor(J,$){this._richEditBracketsBrand=void 0;const X=k80($);this.brackets=X.map((Q,Y)=>{return new BF(J,Y,Q.open,Q.close,E80(Q.open,Q.close,X,Y),y80(Q.open,Q.close,X,Y))}),this.forwardRegex=S80(this.brackets),this.reversedRegex=C80(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let Q of this.brackets){for(let Y of Q.open)this.textIsBracket[Y]=Q,this.textIsOpenBracket[Y]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length);for(let Y of Q.close)this.textIsBracket[Y]=Q,this.textIsOpenBracket[Y]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length)}}}class E9{static _findPrevBracketInText(J,$,X,Q){const Y=X.match(J);if(!Y)return null;const Z=X.length-(Y.index||0),G=Y[0].length,q=Q+Z;return new L($,q-G+1,$,q+1)}static findPrevBracketInRange(J,$,X,Q,Y){const G=FO(X).substring(X.length-Y,X.length-Q);return this._findPrevBracketInText(J,$,G,Q)}static findNextBracketInText(J,$,X,Q){const Y=X.match(J);if(!Y)return null;const Z=Y.index||0,G=Y[0].length;if(G===0)return null;const q=Q+Z;return new L($,q+1,$,q+1+G)}static findNextBracketInRange(J,$,X,Q,Y){const Z=X.substring(Q,Y);return this.findNextBracketInText(J,$,Z,Q)}}var k80,Ab,Pb,jF,E80,y80,S80,C80,x80,FF,FO;var KF=N(()=>{l0();dZ();u0();k80=function(J){const $=J.length;J=J.map((G)=>[G[0].toLowerCase(),G[1].toLowerCase()]);const X=[];for(let G=0;G<$;G++)X[G]=G;const Q=(G,q)=>{const[U,H]=G,[z,V]=q;return U===z||U===V||H===z||H===V},Y=(G,q)=>{const U=Math.min(G,q),H=Math.max(G,q);for(let z=0;z<$;z++)if(X[z]===H)X[z]=U};for(let G=0;G<$;G++){const q=J[G];for(let U=G+1;U<$;U++){const H=J[U];if(Q(q,H))Y(X[G],X[U])}}const Z=[];for(let G=0;G<$;G++){const q=[],U=[];for(let H=0;H<$;H++)if(X[H]===G){const[z,V]=J[H];q.push(z),U.push(V)}if(q.length>0)Z.push({open:q,close:U})}return Z},Ab=function(J,$,X,Q){for(let Y=0,Z=$.length;Y<Z;Y++){if(Y===X)continue;const G=$[Y];for(let q of G.open)if(q.indexOf(J)>=0)Q.push(q);for(let q of G.close)if(q.indexOf(J)>=0)Q.push(q)}},Pb=function(J,$){return J.length-$.length},jF=function(J){if(J.length<=1)return J;const $=[],X=new Set;for(let Q of J){if(X.has(Q))continue;$.push(Q),X.add(Q)}return $},E80=function(J,$,X,Q){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Ab(Y[Z],X,Q,Y);return Y=jF(Y),Y.sort(Pb),Y.reverse(),FF(Y)},y80=function(J,$,X,Q){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Ab(Y[Z],X,Q,Y);return Y=jF(Y),Y.sort(Pb),Y.reverse(),FF(Y.map(FO))},S80=function(J){let $=[];for(let X of J){for(let Q of X.open)$.push(Q);for(let Q of X.close)$.push(Q)}return $=jF($),FF($)},C80=function(J){let $=[];for(let X of J){for(let Q of X.open)$.push(Q);for(let Q of X.close)$.push(Q)}return $=jF($),FF($.map(FO))},x80=function(J){const $=/^[\w ]+$/.test(J);return J=r6(J),$?`\\b${J}\\b`:J},FF=function(J){const $=`(${J.map(x80).join(")|(")})`;return Aj($,!0)};FO=function(){function J(Q){const Y=new Uint16Array(Q.length);let Z=0;for(let G=Q.length-1;G>=0;G--)Y[Z++]=Q.charCodeAt(G);return BO().decode(Y)}let $=null,X=null;return function Q(Y){if($!==Y)$=Y,X=J($);return X}}()});class KO{constructor(J){this._richEditBrackets=J}getElectricCharacters(){const J=[];if(this._richEditBrackets)for(let $ of this._richEditBrackets.brackets)for(let X of $.close){const Q=X.charAt(X.length-1);J.push(Q)}return o5(J)}onElectricCharacter(J,$,X){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Q=$.findTokenIndexAtOffset(X-1);if(jJ($.getStandardTokenType(Q)))return null;const Y=this._richEditBrackets.reversedRegex,Z=$.getLineContent().substring(0,X-1)+J,G=E9.findPrevBracketInRange(Y,1,Z,0,Z.length);if(!G)return null;const q=Z.substring(G.startColumn-1,G.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[q])return null;const H=$.getActualLineContentBefore(G.startColumn-1);if(!/^\s*$/.test(H))return null;return{matchOpenBracket:q}}}var Db=N(()=>{V1();cZ();KF()});class AO{constructor(J){this._indentationRules=J}shouldIncrease(J){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&AF(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(J))return!0}return!1}shouldDecrease(J){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&AF(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(J))return!0;return!1}shouldIndentNextLine(J){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&AF(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(J))return!0;return!1}shouldIgnore(J){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&AF(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(J))return!0;return!1}getIndentMetadata(J){let $=0;if(this.shouldIncrease(J))$+=1;if(this.shouldDecrease(J))$+=2;if(this.shouldIndentNextLine(J))$+=4;if(this.shouldIgnore(J))$+=8;return $}}var AF;var Rb=N(()=>{AF=function(J){if(J.global)J.lastIndex=0;return!0}});class sZ{constructor(J){J=J||{},J.brackets=J.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],J.brackets.forEach(($)=>{const X=sZ._createOpenBracketRegExp($[0]),Q=sZ._createCloseBracketRegExp($[1]);if(X&&Q)this._brackets.push({open:$[0],openRegExp:X,close:$[1],closeRegExp:Q})}),this._regExpRules=J.onEnterRules||[]}onEnter(J,$,X,Q){if(J>=3)for(let Y=0,Z=this._regExpRules.length;Y<Z;Y++){const G=this._regExpRules[Y];if([{reg:G.beforeText,text:X},{reg:G.afterText,text:Q},{reg:G.previousLineText,text:$}].every((U)=>{if(!U.reg)return!0;return U.reg.lastIndex=0,U.reg.test(U.text)}))return G.action}if(J>=2){if(X.length>0&&Q.length>0)for(let Y=0,Z=this._brackets.length;Y<Z;Y++){const G=this._brackets[Y];if(G.openRegExp.test(X)&&G.closeRegExp.test(Q))return{indentAction:c7.IndentOutdent}}}if(J>=2){if(X.length>0){for(let Y=0,Z=this._brackets.length;Y<Z;Y++)if(this._brackets[Y].openRegExp.test(X))return{indentAction:c7.Indent}}}return null}static _createOpenBracketRegExp(J){let $=r6(J);if(!/\B/.test($.charAt(0)))$="\\b"+$;return $+="\\s*$",sZ._safeRegExp($)}static _createCloseBracketRegExp(J){let $=r6(J);if(!/\B/.test($.charAt($.length-1)))$=$+"\\b";return $="^\\s*"+$,sZ._safeRegExp($)}static _safeRegExp(J){try{return new RegExp(J)}catch($){return a0($),null}}}var Mb=N(()=>{A1();l0();uZ()});function PF(J,$){const X=Object.create(null);for(let Q in J)PO(X,Q,J[Q],$);return X}function PO(J,$,X,Q){const Y=$.split("."),Z=Y.pop();let G=J;for(let q=0;q<Y.length;q++){const U=Y[q];let H=G[U];switch(typeof H){case"undefined":H=G[U]=Object.create(null);break;case"object":break;default:Q(`Ignoring ${$} as ${Y.slice(0,q+1).join(".")} is ${JSON.stringify(H)}`);return}G=H}if(typeof G==="object"&&G!==null)try{G[Z]=X}catch(q){Q(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}else Q(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}function Ob(J,$){const X=$.split(".");Nb(J,X)}function DO(J,$,X){function Q(G,q){let U=G;for(let H of q){if(typeof U!=="object"||U===null)return;U=U[H]}return U}const Y=$.split("."),Z=Q(J,Y);return typeof Z==="undefined"?X:Z}function Tb(J){return J.replace(/[\[\]]/g,"")}var Nb,u1;var y9=N(()=>{e0();Nb=function(J,$){const X=$.shift();if($.length===0){delete J[X];return}if(Object.keys(J).indexOf(X)!==-1){const Q=J[X];if(typeof Q==="object"&&!Array.isArray(Q)){if(Nb(Q,$),Object.keys(Q).length===0)delete J[X]}}};u1=O0("configurationService")});var o1;var E5=N(()=>{e0();o1=O0("languageService")});class X5{constructor(J,$=[],X=!1){this.ctor=J,this.staticArguments=$,this.supportsDelayedInstantiation=X}}var DF=N(()=>{});function F1(J,$,X){if(!($ instanceof X5))$=new X5($,[],Boolean(X));_b.push([J,$])}function RO(){return _b}var _b;var FJ=N(()=>{DF();_b=[]});var y5;var jH=N(()=>{y5=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})});class wb{constructor(){this._onDidChangeSchema=new E,this.schemasById={}}registerSchema(J,$){this.schemasById[b80(J)]=$,this._onDidChangeSchema.fire(J)}notifySchemaChanged(J){this._onDidChangeSchema.fire(J)}}var b80,aZ,v80;var RF=N(()=>{A0();t6();b80=function(J){if(J.length>0&&J.charAt(J.length-1)==="#")return J.substring(0,J.length-1);return J},aZ={JSONContribution:"base.contributions.json"};v80=new wb;a1.add(aZ.JSONContribution,v80)});function KH(J){const $=[];if(AX.test(J)){let X=Ib.exec(J);while(X===null||X===void 0?void 0:X.length){const Q=X[1].trim();if(Q)$.push(Q);X=Ib.exec(J)}}return o5($)}function f80(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function h80(J,$){var X,Q,Y,Z;if(!J.trim())return F("config.property.empty","Cannot register an empty property");if(AX.test(J))return F("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J);if(OF.getConfigurationProperties()[J]!==void 0)return F("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J);if(((X=$.policy)===null||X===void 0?void 0:X.name)&&OF.getPolicyConfigurations().get((Q=$.policy)===null||Q===void 0?void 0:Q.name)!==void 0)return F("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(Y=$.policy)===null||Y===void 0?void 0:Y.name,OF.getPolicyConfigurations().get((Z=$.policy)===null||Z===void 0?void 0:Z.name));return null}class kb{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new E,this._onDidUpdateConfiguration=new E,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:F("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Lb.registerSchema(FH,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(J,$=!0){this.registerConfigurations([J],$)}registerConfigurations(J,$=!0){const X=new Set;this.doRegisterConfigurations(J,$,X),Lb.registerSchema(FH,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:X})}registerDefaultConfigurations(J){const $=new Set;this.doRegisterDefaultConfigurations(J,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(J,$){var X;const Q=[];for(let{overrides:Y,source:Z}of J)for(let G in Y)if($.add(G),AX.test(G)){const q=this.configurationDefaultsOverrides.get(G),U=(X=q===null||q===void 0?void 0:q.valuesSources)!==null&&X!==void 0?X:new Map;if(Z)for(let W of Object.keys(Y[G]))U.set(W,Z);const H=Object.assign(Object.assign({},(q===null||q===void 0?void 0:q.value)||{}),Y[G]);this.configurationDefaultsOverrides.set(G,{source:Z,value:H,valuesSources:U});const z=Tb(G),V={type:"object",default:H,description:F("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",z),$ref:FH,defaultDefaultValue:H,source:Z7(Z)?void 0:Z,defaultValueSource:Z};Q.push(...KH(G)),this.configurationProperties[G]=V,this.defaultLanguageConfigurationOverridesNode.properties[G]=V}else{this.configurationDefaultsOverrides.set(G,{value:Y[G],source:Z});const q=this.configurationProperties[G];if(q)this.updatePropertyDefaultValue(G,q),this.updateSchema(G,q)}this.doRegisterOverrideIdentifiers(Q)}registerOverrideIdentifiers(J){this.doRegisterOverrideIdentifiers(J),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(J){for(let $ of J)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(J,$,X){J.forEach((Q)=>{this.validateAndRegisterProperties(Q,$,Q.extensionInfo,Q.restrictedProperties,void 0,X),this.configurationContributors.push(Q),this.registerJSONConfiguration(Q)})}validateAndRegisterProperties(J,$=!0,X,Q,Y=3,Z){var G;Y=j6(J.scope)?Y:J.scope;const q=J.properties;if(q)for(let H in q){const z=q[H];if($&&h80(H,z)){delete q[H];continue}if(z.source=X,z.defaultDefaultValue=q[H].default,this.updatePropertyDefaultValue(H,z),AX.test(H))z.scope=void 0;else z.scope=j6(z.scope)?Y:z.scope,z.restricted=j6(z.restricted)?!!(Q===null||Q===void 0?void 0:Q.includes(H)):z.restricted;if(q[H].hasOwnProperty("included")&&!q[H].included){this.excludedConfigurationProperties[H]=q[H],delete q[H];continue}else if(this.configurationProperties[H]=q[H],(G=q[H].policy)===null||G===void 0?void 0:G.name)this.policyConfigurations.set(q[H].policy.name,H);if(!q[H].deprecationMessage&&q[H].markdownDeprecationMessage)q[H].deprecationMessage=q[H].markdownDeprecationMessage;Z.add(H)}const U=J.allOf;if(U)for(let H of U)this.validateAndRegisterProperties(H,$,X,Q,Y,Z)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(J){const $=(X)=>{const Q=X.properties;if(Q)for(let Z in Q)this.updateSchema(Z,Q[Z]);const Y=X.allOf;Y===null||Y===void 0||Y.forEach($)};$(J)}updateSchema(J,$){switch(MO.properties[J]=$,$.scope){case 1:OO.properties[J]=$;break;case 2:NO.properties[J]=$;break;case 6:TO.properties[J]=$;break;case 3:_O.properties[J]=$;break;case 4:MF.properties[J]=$;break;case 5:MF.properties[J]=$,this.resourceLanguageSettingsSchema.properties[J]=$;break}}updateOverridePropertyPatternKey(){for(let J of this.overrideIdentifiers.values()){const $=`[${J}]`,X={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:FH};this.updatePropertyDefaultValue($,X),MO.properties[$]=X,OO.properties[$]=X,NO.properties[$]=X,TO.properties[$]=X,_O.properties[$]=X,MF.properties[$]=X}}registerOverridePropertyPatternKey(){const J={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:FH};MO.patternProperties[rZ]=J,OO.patternProperties[rZ]=J,NO.patternProperties[rZ]=J,TO.patternProperties[rZ]=J,_O.patternProperties[rZ]=J,MF.patternProperties[rZ]=J,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(J,$){const X=this.configurationDefaultsOverrides.get(J);let Q=X===null||X===void 0?void 0:X.value,Y=X===null||X===void 0?void 0:X.source;if($6(Q))Q=$.defaultDefaultValue,Y=void 0;if($6(Q))Q=f80($.type);$.default=Q,$.defaultValueSource=Y}}var S5,MO,OO,NO,TO,_O,MF,FH,Lb,Eb,Ib,rZ,AX,OF;var iZ=N(()=>{V1();A0();j8();m0();y9();RF();t6();S5={Configuration:"base.contributions.configuration"},MO={properties:{},patternProperties:{}},OO={properties:{},patternProperties:{}},NO={properties:{},patternProperties:{}},TO={properties:{},patternProperties:{}},_O={properties:{},patternProperties:{}},MF={properties:{},patternProperties:{}},FH="vscode://schemas/settings/resourceLanguage",Lb=a1.as(aZ.JSONContribution);Eb="\\[([^\\]]+)\\]",Ib=new RegExp(Eb,"g"),rZ=`^(${Eb})+\$`,AX=new RegExp(rZ),OF=new kb;a1.add(S5.Configuration,OF)});class yb{constructor(){this._onDidChangeLanguages=new E,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(J){return this._languages.push(J),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let $=0,X=this._languages.length;$<X;$++)if(this._languages[$]===J){this._languages.splice($,1);return}}}}getLanguages(){return this._languages}}var g80,uQ,P7,p80;var KJ=N(()=>{m0();A0();t6();jH();iZ();g80={ModesRegistry:"editor.modesRegistry"};uQ=new yb;a1.add(g80.ModesRegistry,uQ);P7="plaintext",p80=".txt";uQ.registerLanguage({id:P7,extensions:[p80],aliases:[F("plainText.alias","Plain Text"),"text"],mimetypes:[y5.text]});a1.as(S5.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});class wO{constructor(J,$){this.languageId=J;const X=$.brackets?Sb($.brackets):[],Q=new Fj((G)=>{const q=new Set;return{info:new Cb(this,G,q),closing:q}}),Y=new Fj((G)=>{const q=new Set,U=new Set;return{info:new xb(this,G,q,U),opening:q,openingColorized:U}});for(let[G,q]of X){const U=Q.get(G),H=Y.get(q);U.closing.add(H.info),H.opening.add(U.info)}const Z=$.colorizedBracketPairs?Sb($.colorizedBracketPairs):X.filter((G)=>!(G[0]==="<"&&G[1]===">"));for(let[G,q]of Z){const U=Q.get(G),H=Y.get(q);U.closing.add(H.info),H.openingColorized.add(U.info),H.opening.add(U.info)}this._openingBrackets=new Map([...Q.cachedValues].map(([G,q])=>[G,q.info])),this._closingBrackets=new Map([...Y.cachedValues].map(([G,q])=>[G,q.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(J){return this._openingBrackets.get(J)}getClosingBracketInfo(J){return this._closingBrackets.get(J)}getBracketInfo(J){return this.getOpeningBracketInfo(J)||this.getClosingBracketInfo(J)}}class LO{constructor(J,$){this.config=J,this.bracketText=$}get languageId(){return this.config.languageId}}class Cb extends LO{constructor(J,$,X){super(J,$);this.openedBrackets=X,this.isOpeningBracket=!0}}class xb extends LO{constructor(J,$,X,Q){super(J,$);this.openingBrackets=X,this.openingColorizedBrackets=Q,this.isOpeningBracket=!1}closes(J){if(J.config!==this.config)return!1;return this.openingBrackets.has(J)}closesColorized(J){if(J.config!==this.config)return!1;return this.openingColorizedBrackets.has(J)}getOpeningBrackets(){return[...this.openingBrackets]}}var Sb;var bb=N(()=>{BM();Sb=function(J){return J.filter(([$,X])=>$!==""&&X!=="")}});function TF(J,$,X){const Q=J.getLineContent($);let Y=o8(Q);if(Y.length>X-1)Y=Y.substring(0,X-1);return Y}function cQ(J,$,X){J.tokenization.forceTokenization($);const Q=J.tokenization.getLineTokens($),Y=typeof X==="undefined"?J.getLineMaxColumn($)-1:X-1;return mQ(Q,Y)}class NF{constructor(J){this.languageId=J}affects(J){return!this.languageId?!0:this.languageId===J}}class hb{constructor(J){this.languageId=J,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(J,$){const X=new EO(J,$,++this._order);return this._entries.push(X),this._resolved=null,N0(()=>{for(let Q=0;Q<this._entries.length;Q++)if(this._entries[Q]===X){this._entries.splice(Q,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const J=this._resolve();if(J)this._resolved=new Qq(this.languageId,J)}return this._resolved}_resolve(){if(this._entries.length===0)return null;return this._entries.sort(EO.cmp),gb(this._entries.map((J)=>J.configuration))}}class EO{constructor(J,$,X){this.configuration=J,this.priority=$,this.order=X}static cmp(J,$){if(J.priority===$.priority)return J.order-$.order;return J.priority-$.priority}}class yO{constructor(J){this.languageId=J}}class pb extends f{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._register(this.register(P7,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"\"",close:"\""},{open:"\'",close:"\'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(J,$,X=0){let Q=this._entries.get(J);if(!Q)Q=new hb(J),this._entries.set(J,Q);const Y=Q.register($,X);return this._onDidChange.fire(new yO(J)),N0(()=>{Y.dispose(),this._onDidChange.fire(new yO(J))})}getLanguageConfiguration(J){const $=this._entries.get(J);return($===null||$===void 0?void 0:$.getResolvedConfiguration())||null}}class Qq{constructor(J,$){if(this.languageId=J,this.underlyingConfig=$,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new sZ(this.underlyingConfig):null,this.comments=Qq._handleComments(this.underlyingConfig),this.characterPair=new lZ(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||k3,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules)this.indentRulesSupport=new AO(this.underlyingConfig.indentationRules);else this.indentRulesSupport=null;this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new wO(J,this.underlyingConfig)}getWordDefinition(){return VB(this.wordDefinition)}get brackets(){if(!this._brackets&&this.underlyingConfig.brackets)this._brackets=new jO(this.languageId,this.underlyingConfig.brackets);return this._brackets}get electricCharacter(){if(!this._electricCharacter)this._electricCharacter=new KO(this.brackets);return this._electricCharacter}onEnter(J,$,X,Q){if(!this._onEnterSupport)return null;return this._onEnterSupport.onEnter(J,$,X,Q)}getAutoClosingPairs(){return new ZO(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(J){return this.characterPair.getAutoCloseBeforeSet(J)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(J){const $=J.comments;if(!$)return null;const X={};if($.lineComment)X.lineCommentToken=$.lineComment;if($.blockComment){const[Q,Y]=$.blockComment;X.blockCommentStartToken=Q,X.blockCommentEndToken=Y}return X}}var u80,c80,fb,gb,m80,vb,N8,IO,kO;var b6=N(()=>{A0();$0();l0();k2();uZ();cZ();Vb();Db();Rb();Mb();KF();e0();y9();E5();FJ();KJ();bb();u80=function(J,$,X,Q){let Y=$.getLanguageConfiguration(J);if(!Y){if(!Q.isRegisteredLanguageId(J))return new Qq(J,{});Y=new Qq(J,{})}const Z=c80(Y.languageId,X),G=gb([Y.underlyingConfig,Z]);return new Qq(Y.languageId,G)},c80=function(J,$){const X=$.getValue(kO.brackets,{overrideIdentifier:J}),Q=$.getValue(kO.colorizedBracketPairs,{overrideIdentifier:J});return{brackets:fb(X),colorizedBracketPairs:fb(Q)}},fb=function(J){if(!Array.isArray(J))return;return J.map(($)=>{if(!Array.isArray($)||$.length!==2)return;return[$[0],$[1]]}).filter(($)=>!!$)};gb=function(J){let $={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let X of J)$={comments:X.comments||$.comments,brackets:X.brackets||$.brackets,wordPattern:X.wordPattern||$.wordPattern,indentationRules:X.indentationRules||$.indentationRules,onEnterRules:X.onEnterRules||$.onEnterRules,autoClosingPairs:X.autoClosingPairs||$.autoClosingPairs,surroundingPairs:X.surroundingPairs||$.surroundingPairs,autoCloseBefore:X.autoCloseBefore||$.autoCloseBefore,folding:X.folding||$.folding,colorizedBracketPairs:X.colorizedBracketPairs||$.colorizedBracketPairs,__electricCharacterSupport:X.__electricCharacterSupport||$.__electricCharacterSupport};return $},m80=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},vb=function(J,$){return function(X,Q){$(X,Q,J)}};N8=O0("languageConfigurationService"),IO=class J extends f{constructor($,X){super();this.configurationService=$,this.languageService=X,this._registry=this._register(new pb),this.onDidChangeEmitter=this._register(new E),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Q=new Set(Object.values(kO));this._register(this.configurationService.onDidChangeConfiguration((Y)=>{const Z=Y.change.keys.some((q)=>Q.has(q)),G=Y.change.overrides.filter(([q,U])=>U.some((H)=>Q.has(H))).map(([q])=>q);if(Z)this.configurations.clear(),this.onDidChangeEmitter.fire(new NF(void 0));else for(let q of G)if(this.languageService.isRegisteredLanguageId(q))this.configurations.delete(q),this.onDidChangeEmitter.fire(new NF(q))})),this._register(this._registry.onDidChange((Y)=>{this.configurations.delete(Y.languageId),this.onDidChangeEmitter.fire(new NF(Y.languageId))}))}register($,X,Q){return this._registry.register($,X,Q)}getLanguageConfiguration($){let X=this.configurations.get($);if(!X)X=u80($,this._registry,this.configurationService,this.languageService),this.configurations.set($,X);return X}};IO=m80([vb(0,u1),vb(1,o1)],IO);kO={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};F1(N8,IO,1)});class Z${constructor(J,$,X,Q){this.originalStart=J,this.originalLength=$,this.modifiedStart=X,this.modifiedLength=Q}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var mb=N(()=>{});function _F(J){return PH(J,0)}function PH(J,$){switch(typeof J){case"object":if(J===null)return PX(349,$);else if(Array.isArray(J))return d80(J,$);return s80(J,$);case"string":return wF(J,$);case"boolean":return l80(J,$);case"number":return PX(J,$);case"undefined":return PX(937,$);default:return PX(617,$)}}function PX(J,$){return($<<5)-$+J|0}function wF(J,$){$=PX(149417,$);for(let X=0,Q=J.length;X<Q;X++)$=PX(J.charCodeAt(X),$);return $}function AH(J,$=32){if(J instanceof ArrayBuffer)return Array.from(new Uint8Array(J)).map((X)=>X.toString(16).padStart(2,"0")).join("");return a80((J>>>0).toString(16),$/4)}class DH{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(J){const $=J.length;if($===0)return;const X=this._buff;let Q=this._buffLen,Y=this._leftoverHighSurrogate,Z,G;if(Y!==0)Z=Y,G=-1,Y=0;else Z=J.charCodeAt(0),G=0;while(!0){let q=Z;if(U8(Z))if(G+1<$){const U=J.charCodeAt(G+1);if(o4(U))G++,q=Dj(Z,U);else q=65533}else{Y=Z;break}else if(o4(Z))q=65533;if(Q=this._push(X,Q,q),G++,G<$)Z=J.charCodeAt(G);else break}this._buffLen=Q,this._leftoverHighSurrogate=Y}_push(J,$,X){if(X<128)J[$++]=X;else if(X<2048)J[$++]=192|(X&1984)>>>6,J[$++]=128|(X&63)>>>0;else if(X<65536)J[$++]=224|(X&61440)>>>12,J[$++]=128|(X&4032)>>>6,J[$++]=128|(X&63)>>>0;else J[$++]=240|(X&1835008)>>>18,J[$++]=128|(X&258048)>>>12,J[$++]=128|(X&4032)>>>6,J[$++]=128|(X&63)>>>0;if($>=64)this._step(),$-=64,this._totalLen+=64,J[0]=J[64],J[1]=J[65],J[2]=J[66];return $}digest(){if(!this._finished){if(this._finished=!0,this._leftoverHighSurrogate)this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533);this._totalLen+=this._buffLen,this._wrapUp()}return AH(this._h0)+AH(this._h1)+AH(this._h2)+AH(this._h3)+AH(this._h4)}_wrapUp(){if(this._buff[this._buffLen++]=128,ub(this._buff,this._buffLen),this._buffLen>56)this._step(),ub(this._buff);const J=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(J/4294967296),!1),this._buffDV.setUint32(60,J%4294967296,!1),this._step()}_step(){const J=DH._bigBlock32,$=this._buffDV;for(let z=0;z<64;z+=4)J.setUint32(z,$.getUint32(z,!1),!1);for(let z=64;z<320;z+=4)J.setUint32(z,SO(J.getUint32(z-12,!1)^J.getUint32(z-32,!1)^J.getUint32(z-56,!1)^J.getUint32(z-64,!1),1),!1);let X=this._h0,Q=this._h1,Y=this._h2,Z=this._h3,G=this._h4,q,U,H;for(let z=0;z<80;z++){if(z<20)q=Q&Y|~Q&Z,U=1518500249;else if(z<40)q=Q^Y^Z,U=1859775393;else if(z<60)q=Q&Y|Q&Z|Y&Z,U=2400959708;else q=Q^Y^Z,U=3395469782;H=SO(X,5)+q+G+U+J.getUint32(z*4,!1)&4294967295,G=Z,Z=Y,Y=SO(Q,30),Q=X,X=H}this._h0=this._h0+X&4294967295,this._h1=this._h1+Q&4294967295,this._h2=this._h2+Y&4294967295,this._h3=this._h3+Z&4294967295,this._h4=this._h4+G&4294967295}}var l80,d80,s80,SO,ub,a80;var Yq=N(()=>{l0();l80=function(J,$){return PX(J?433:863,$)};d80=function(J,$){return $=PX(104579,$),J.reduce((X,Q)=>PH(Q,X),$)},s80=function(J,$){return $=PX(181387,$),Object.keys(J).sort().reduce((X,Q)=>{return X=wF(Q,X),PH(J[Q],X)},$)},SO=function(J,$,X=32){const Q=X-$,Y=~((1<<Q)-1);return(J<<$|(Y&J)>>>Q)>>>0},ub=function(J,$=0,X=J.byteLength,Q=0){for(let Y=0;Y<X;Y++)J[$+Y]=Q},a80=function(J,$,X="0"){while(J.length<$)J=X+J;return J};DH._bigBlock32=new DataView(new ArrayBuffer(320))});function cb(J,$,X){return new Q4(new CO(J),new CO($)).ComputeDiff(X).changes}class CO{constructor(J){this.source=J}getElements(){const J=this.source,$=new Int32Array(J.length);for(let X=0,Q=J.length;X<Q;X++)$[X]=J.charCodeAt(X);return $}}class nZ{static Assert(J,$){if(!J)throw new Error($)}}class oZ{static Copy(J,$,X,Q,Y){for(let Z=0;Z<Y;Z++)X[Q+Z]=J[$+Z]}static Copy2(J,$,X,Q,Y){for(let Z=0;Z<Y;Z++)X[Q+Z]=J[$+Z]}}class xO{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.m_changes.push(new Z$(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount));this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_originalCount++}AddModifiedElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_modifiedCount++}getChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes}getReverseChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes.reverse(),this.m_changes}}class Q4{constructor(J,$,X=null){this.ContinueProcessingPredicate=X,this._originalSequence=J,this._modifiedSequence=$;const[Q,Y,Z]=Q4._getElements(J),[G,q,U]=Q4._getElements($);this._hasStrings=Z&&U,this._originalStringElements=Q,this._originalElementsOrHash=Y,this._modifiedStringElements=G,this._modifiedElementsOrHash=q,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(J){return J.length>0&&typeof J[0]==="string"}static _getElements(J){const $=J.getElements();if(Q4._isStringArray($)){const X=new Int32Array($.length);for(let Q=0,Y=$.length;Q<Y;Q++)X[Q]=wF($[Q],0);return[$,X,!0]}if($ instanceof Int32Array)return[[],$,!1];return[[],new Int32Array($),!1]}ElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._modifiedStringElements[$]:!0}ElementsAreStrictEqual(J,$){if(!this.ElementsAreEqual(J,$))return!1;const X=Q4._getStrictElement(this._originalSequence,J),Q=Q4._getStrictElement(this._modifiedSequence,$);return X===Q}static _getStrictElement(J,$){if(typeof J.getStrictElement==="function")return J.getStrictElement($);return null}OriginalElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._originalElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._originalStringElements[$]:!0}ModifiedElementsAreEqual(J,$){if(this._modifiedElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._modifiedStringElements[J]===this._modifiedStringElements[$]:!0}ComputeDiff(J){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,J)}_ComputeDiff(J,$,X,Q,Y){const Z=[!1];let G=this.ComputeDiffRecursive(J,$,X,Q,Z);if(Y)G=this.PrettifyChanges(G);return{quitEarly:Z[0],changes:G}}ComputeDiffRecursive(J,$,X,Q,Y){Y[0]=!1;while(J<=$&&X<=Q&&this.ElementsAreEqual(J,X))J++,X++;while($>=J&&Q>=X&&this.ElementsAreEqual($,Q))$--,Q--;if(J>$||X>Q){let z;if(X<=Q)nZ.Assert(J===$+1,"originalStart should only be one more than originalEnd"),z=[new Z$(J,0,X,Q-X+1)];else if(J<=$)nZ.Assert(X===Q+1,"modifiedStart should only be one more than modifiedEnd"),z=[new Z$(J,$-J+1,X,0)];else nZ.Assert(J===$+1,"originalStart should only be one more than originalEnd"),nZ.Assert(X===Q+1,"modifiedStart should only be one more than modifiedEnd"),z=[];return z}const Z=[0],G=[0],q=this.ComputeRecursionPoint(J,$,X,Q,Z,G,Y),U=Z[0],H=G[0];if(q!==null)return q;else if(!Y[0]){const z=this.ComputeDiffRecursive(J,U,X,H,Y);let V=[];if(!Y[0])V=this.ComputeDiffRecursive(U+1,$,H+1,Q,Y);else V=[new Z$(U+1,$-(U+1)+1,H+1,Q-(H+1)+1)];return this.ConcatenateChanges(z,V)}return[new Z$(J,$-J+1,X,Q-X+1)]}WALKTRACE(J,$,X,Q,Y,Z,G,q,U,H,z,V,W,B,j,K,D,A){let P=null,R=null,M=new xO,T=$,_=X,w=W[0]-K[0]-Q,x=-1073741824,C=this.m_forwardHistory.length-1;do{const h=w+J;if(h===T||h<_&&U[h-1]<U[h+1]){if(z=U[h+1],B=z-w-Q,z<x)M.MarkNextChange();x=z,M.AddModifiedElement(z+1,B),w=h+1-J}else{if(z=U[h-1]+1,B=z-w-Q,z<x)M.MarkNextChange();x=z-1,M.AddOriginalElement(z,B+1),w=h-1-J}if(C>=0)U=this.m_forwardHistory[C],J=U[0],T=1,_=U.length-1}while(--C>=-1);if(P=M.getReverseChanges(),A[0]){let h=W[0]+1,p=K[0]+1;if(P!==null&&P.length>0){const r=P[P.length-1];h=Math.max(h,r.getOriginalEnd()),p=Math.max(p,r.getModifiedEnd())}R=[new Z$(h,V-h+1,p,j-p+1)]}else{M=new xO,T=Z,_=G,w=W[0]-K[0]-q,x=1073741824,C=D?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const h=w+Y;if(h===T||h<_&&H[h-1]>=H[h+1]){if(z=H[h+1]-1,B=z-w-q,z>x)M.MarkNextChange();x=z+1,M.AddOriginalElement(z+1,B+1),w=h+1-Y}else{if(z=H[h-1],B=z-w-q,z>x)M.MarkNextChange();x=z,M.AddModifiedElement(z+1,B+1),w=h-1-Y}if(C>=0)H=this.m_reverseHistory[C],Y=H[0],T=1,_=H.length-1}while(--C>=-1);R=M.getChanges()}return this.ConcatenateChanges(P,R)}ComputeRecursionPoint(J,$,X,Q,Y,Z,G){let q=0,U=0,H=0,z=0,V=0,W=0;J--,X--,Y[0]=0,Z[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const B=$-J+(Q-X),j=B+1,K=new Int32Array(j),D=new Int32Array(j),A=Q-X,P=$-J,R=J-X,M=$-Q,_=(P-A)%2===0;K[A]=J,D[P]=$,G[0]=!1;for(let w=1;w<=B/2+1;w++){let x=0,C=0;H=this.ClipDiagonalBound(A-w,w,A,j),z=this.ClipDiagonalBound(A+w,w,A,j);for(let p=H;p<=z;p+=2){if(p===H||p<z&&K[p-1]<K[p+1])q=K[p+1];else q=K[p-1]+1;U=q-(p-A)-R;const r=q;while(q<$&&U<Q&&this.ElementsAreEqual(q+1,U+1))q++,U++;if(K[p]=q,q+U>x+C)x=q,C=U;if(!_&&Math.abs(p-P)<=w-1){if(q>=D[p])if(Y[0]=q,Z[0]=U,r<=D[p]&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,P,V,W,M,K,D,q,$,Y,U,Q,Z,_,G);else return null}}const h=(x-J+(C-X)-w)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(x,h))if(G[0]=!0,Y[0]=x,Z[0]=C,h>0&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,P,V,W,M,K,D,q,$,Y,U,Q,Z,_,G);else return J++,X++,[new Z$(J,$-J+1,X,Q-X+1)];V=this.ClipDiagonalBound(P-w,w,P,j),W=this.ClipDiagonalBound(P+w,w,P,j);for(let p=V;p<=W;p+=2){if(p===V||p<W&&D[p-1]>=D[p+1])q=D[p+1]-1;else q=D[p-1];U=q-(p-P)-M;const r=q;while(q>J&&U>X&&this.ElementsAreEqual(q,U))q--,U--;if(D[p]=q,_&&Math.abs(p-A)<=w){if(q<=K[p])if(Y[0]=q,Z[0]=U,r>=K[p]&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,P,V,W,M,K,D,q,$,Y,U,Q,Z,_,G);else return null}}if(w<=1447){let p=new Int32Array(z-H+2);p[0]=A-H+1,oZ.Copy2(K,H,p,1,z-H+1),this.m_forwardHistory.push(p),p=new Int32Array(W-V+2),p[0]=P-V+1,oZ.Copy2(D,V,p,1,W-V+1),this.m_reverseHistory.push(p)}}return this.WALKTRACE(A,H,z,R,P,V,W,M,K,D,q,$,Y,U,Q,Z,_,G)}PrettifyChanges(J){for(let $=0;$<J.length;$++){const X=J[$],Q=$<J.length-1?J[$+1].originalStart:this._originalElementsOrHash.length,Y=$<J.length-1?J[$+1].modifiedStart:this._modifiedElementsOrHash.length,Z=X.originalLength>0,G=X.modifiedLength>0;while(X.originalStart+X.originalLength<Q&&X.modifiedStart+X.modifiedLength<Y&&(!Z||this.OriginalElementsAreEqual(X.originalStart,X.originalStart+X.originalLength))&&(!G||this.ModifiedElementsAreEqual(X.modifiedStart,X.modifiedStart+X.modifiedLength))){const U=this.ElementsAreStrictEqual(X.originalStart,X.modifiedStart);if(this.ElementsAreStrictEqual(X.originalStart+X.originalLength,X.modifiedStart+X.modifiedLength)&&!U)break;X.originalStart++,X.modifiedStart++}const q=[null];if($<J.length-1&&this.ChangesOverlap(J[$],J[$+1],q)){J[$]=q[0],J.splice($+1,1),$--;continue}}for(let $=J.length-1;$>=0;$--){const X=J[$];let Q=0,Y=0;if($>0){const z=J[$-1];Q=z.originalStart+z.originalLength,Y=z.modifiedStart+z.modifiedLength}const Z=X.originalLength>0,G=X.modifiedLength>0;let q=0,U=this._boundaryScore(X.originalStart,X.originalLength,X.modifiedStart,X.modifiedLength);for(let z=1;;z++){const V=X.originalStart-z,W=X.modifiedStart-z;if(V<Q||W<Y)break;if(Z&&!this.OriginalElementsAreEqual(V,V+X.originalLength))break;if(G&&!this.ModifiedElementsAreEqual(W,W+X.modifiedLength))break;const j=(V===Q&&W===Y?5:0)+this._boundaryScore(V,X.originalLength,W,X.modifiedLength);if(j>U)U=j,q=z}X.originalStart-=q,X.modifiedStart-=q;const H=[null];if($>0&&this.ChangesOverlap(J[$-1],J[$],H)){J[$-1]=H[0],J.splice($,1),$++;continue}}if(this._hasStrings)for(let $=1,X=J.length;$<X;$++){const Q=J[$-1],Y=J[$],Z=Y.originalStart-Q.originalStart-Q.originalLength,G=Q.originalStart,q=Y.originalStart+Y.originalLength,U=q-G,H=Q.modifiedStart,z=Y.modifiedStart+Y.modifiedLength,V=z-H;if(Z<5&&U<20&&V<20){const W=this._findBetterContiguousSequence(G,U,H,V,Z);if(W){const[B,j]=W;if(B!==Q.originalStart+Q.originalLength||j!==Q.modifiedStart+Q.modifiedLength)Q.originalLength=B-Q.originalStart,Q.modifiedLength=j-Q.modifiedStart,Y.originalStart=B+Z,Y.modifiedStart=j+Z,Y.originalLength=q-Y.originalStart,Y.modifiedLength=z-Y.modifiedStart}}}return J}_findBetterContiguousSequence(J,$,X,Q,Y){if($<Y||Q<Y)return null;const Z=J+$-Y+1,G=X+Q-Y+1;let q=0,U=0,H=0;for(let z=J;z<Z;z++)for(let V=X;V<G;V++){const W=this._contiguousSequenceScore(z,V,Y);if(W>0&&W>q)q=W,U=z,H=V}if(q>0)return[U,H];return null}_contiguousSequenceScore(J,$,X){let Q=0;for(let Y=0;Y<X;Y++){if(!this.ElementsAreEqual(J+Y,$+Y))return 0;Q+=this._originalStringElements[J+Y].length}return Q}_OriginalIsBoundary(J){if(J<=0||J>=this._originalElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._originalStringElements[J])}_OriginalRegionIsBoundary(J,$){if(this._OriginalIsBoundary(J)||this._OriginalIsBoundary(J-1))return!0;if($>0){const X=J+$;if(this._OriginalIsBoundary(X-1)||this._OriginalIsBoundary(X))return!0}return!1}_ModifiedIsBoundary(J){if(J<=0||J>=this._modifiedElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[J])}_ModifiedRegionIsBoundary(J,$){if(this._ModifiedIsBoundary(J)||this._ModifiedIsBoundary(J-1))return!0;if($>0){const X=J+$;if(this._ModifiedIsBoundary(X-1)||this._ModifiedIsBoundary(X))return!0}return!1}_boundaryScore(J,$,X,Q){const Y=this._OriginalRegionIsBoundary(J,$)?1:0,Z=this._ModifiedRegionIsBoundary(X,Q)?1:0;return Y+Z}ConcatenateChanges(J,$){const X=[];if(J.length===0||$.length===0)return $.length>0?$:J;else if(this.ChangesOverlap(J[J.length-1],$[0],X)){const Q=new Array(J.length+$.length-1);return oZ.Copy(J,0,Q,0,J.length-1),Q[J.length-1]=X[0],oZ.Copy($,1,Q,J.length,$.length-1),Q}else{const Q=new Array(J.length+$.length);return oZ.Copy(J,0,Q,0,J.length),oZ.Copy($,0,Q,J.length,$.length),Q}}ChangesOverlap(J,$,X){if(nZ.Assert(J.originalStart<=$.originalStart,"Left change is not less than or equal to right change"),nZ.Assert(J.modifiedStart<=$.modifiedStart,"Left change is not less than or equal to right change"),J.originalStart+J.originalLength>=$.originalStart||J.modifiedStart+J.modifiedLength>=$.modifiedStart){const Q=J.originalStart;let Y=J.originalLength;const Z=J.modifiedStart;let G=J.modifiedLength;if(J.originalStart+J.originalLength>=$.originalStart)Y=$.originalStart+$.originalLength-J.originalStart;if(J.modifiedStart+J.modifiedLength>=$.modifiedStart)G=$.modifiedStart+$.modifiedLength-J.modifiedStart;return X[0]=new Z$(Q,Y,Z,G),!0}else return X[0]=null,!1}ClipDiagonalBound(J,$,X,Q){if(J>=0&&J<Q)return J;const Y=X,Z=Q-X-1,G=$%2===0;if(J<0){const q=Y%2===0;return G===q?0:1}else{const q=Z%2===0;return G===q?Q-1:Q-2}}}var LF=N(()=>{mb();Yq()});function tZ(J){if(J<0)return 0;if(J>255)return 255;return J|0}function eZ(J){if(J<0)return 0;if(J>4294967295)return 4294967295;return J|0}var RH=N(()=>{});class bO{constructor(J){this.values=J,this.prefixSum=new Uint32Array(J.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(J,$){J=eZ(J);const X=this.values,Q=this.prefixSum,Y=$.length;if(Y===0)return!1;if(this.values=new Uint32Array(X.length+Y),this.values.set(X.subarray(0,J),0),this.values.set(X.subarray(J),J+Y),this.values.set($,J),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0)this.prefixSum.set(Q.subarray(0,this.prefixSumValidIndex[0]+1));return!0}setValue(J,$){if(J=eZ(J),$=eZ($),this.values[J]===$)return!1;if(this.values[J]=$,J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;return!0}removeValues(J,$){J=eZ(J),$=eZ($);const X=this.values,Q=this.prefixSum;if(J>=X.length)return!1;const Y=X.length-J;if($>=Y)$=Y;if($===0)return!1;if(this.values=new Uint32Array(X.length-$),this.values.set(X.subarray(0,J),0),this.values.set(X.subarray(J+$),J),this.prefixSum=new Uint32Array(this.values.length),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSumValidIndex[0]>=0)this.prefixSum.set(Q.subarray(0,this.prefixSumValidIndex[0]+1));return!0}getTotalSum(){if(this.values.length===0)return 0;return this._getPrefixSum(this.values.length-1)}getPrefixSum(J){if(J<0)return 0;return J=eZ(J),this._getPrefixSum(J)}_getPrefixSum(J){if(J<=this.prefixSumValidIndex[0])return this.prefixSum[J];let $=this.prefixSumValidIndex[0]+1;if($===0)this.prefixSum[0]=this.values[0],$++;if(J>=this.values.length)J=this.values.length-1;for(let X=$;X<=J;X++)this.prefixSum[X]=this.prefixSum[X-1]+this.values[X];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],J),this.prefixSum[J]}getIndexOf(J){J=Math.floor(J),this.getTotalSum();let $=0,X=this.values.length-1,Q=0,Y=0,Z=0;while($<=X)if(Q=$+(X-$)/2|0,Y=this.prefixSum[Q],Z=Y-this.values[Q],J<Z)X=Q-1;else if(J>=Y)$=Q+1;else break;return new fO(Q,J-Z)}}class vO{constructor(J){this._values=J,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(J){if(this._ensureValid(),J===0)return 0;return this._prefixSum[J-1]}getIndexOf(J){this._ensureValid();const $=this._indexBySum[J],X=$>0?this._prefixSum[$-1]:0;return new fO($,J-X)}removeValues(J,$){this._values.splice(J,$),this._invalidate(J)}insertValues(J,$){this._values=RQ(this._values,J,$),this._invalidate(J)}_invalidate(J){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,J-1)}_ensureValid(){if(this._isValid)return;for(let J=this._validEndIndex+1,$=this._values.length;J<$;J++){const X=this._values[J],Q=J>0?this._prefixSum[J-1]:0;this._prefixSum[J]=Q+X;for(let Y=0;Y<X;Y++)this._indexBySum[Q+Y]=J}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}setValue(J,$){if(this._values[J]===$)return;this._values[J]=$,this._invalidate(J)}}class fO{constructor(J,$){this.index=J,this.remainder=$,this._prefixSumIndexOfResultBrand=void 0,this.index=J,this.remainder=$}}var hO=N(()=>{V1();RH()});class gO{constructor(J,$,X,Q){this._uri=J,this._lines=$,this._eol=X,this._versionId=Q,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){if(this._cachedTextValue===null)this._cachedTextValue=this._lines.join(this._eol);return this._cachedTextValue}onEvents(J){if(J.eol&&J.eol!==this._eol)this._eol=J.eol,this._lineStarts=null;const $=J.changes;for(let X of $)this._acceptDeleteRange(X.range),this._acceptInsertText(new b(X.range.startLineNumber,X.range.startColumn),X.text);this._versionId=J.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const J=this._eol.length,$=this._lines.length,X=new Uint32Array($);for(let Q=0;Q<$;Q++)X[Q]=this._lines[Q].length+J;this._lineStarts=new bO(X)}}_setLineText(J,$){if(this._lines[J]=$,this._lineStarts)this._lineStarts.setValue(J,this._lines[J].length+this._eol.length)}_acceptDeleteRange(J){if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.startLineNumber-1].substring(J.endColumn-1));return}if(this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.endLineNumber-1].substring(J.endColumn-1)),this._lines.splice(J.startLineNumber,J.endLineNumber-J.startLineNumber),this._lineStarts)this._lineStarts.removeValues(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$){if($.length===0)return;const X=n9($);if(X.length===1){this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+X[0]+this._lines[J.lineNumber-1].substring(J.column-1));return}X[X.length-1]+=this._lines[J.lineNumber-1].substring(J.column-1),this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+X[0]);const Q=new Uint32Array(X.length-1);for(let Y=1;Y<X.length;Y++)this._lines.splice(J.lineNumber+Y-1,0,X[Y]),Q[Y-1]=X[Y].length+this._eol.length;if(this._lineStarts)this._lineStarts.insertValues(J.lineNumber,Q)}}var lb=N(()=>{l0();W1();hO()});class DX{constructor(J){const $=tZ(J);this._defaultValue=$,this._asciiMap=DX._createAsciiMap($),this._map=new Map}static _createAsciiMap(J){const $=new Uint8Array(256);return $.fill(J),$}set(J,$){const X=tZ($);if(J>=0&&J<256)this._asciiMap[J]=X;else this._map.set(J,X)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else return this._map.get(J)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class MH{constructor(){this._actual=new DX(0)}add(J){this._actual.set(J,1)}has(J){return this._actual.get(J)===1}clear(){return this._actual.clear()}}var Zq=N(()=>{RH()});function ab(J){if(!J||typeof J.getLineCount!=="function"||typeof J.getLineContent!=="function")return[];return IF.computeLinks(J)}class db{constructor(J,$,X){const Q=new Uint8Array(J*$);for(let Y=0,Z=J*$;Y<Z;Y++)Q[Y]=X;this._data=Q,this.rows=J,this.cols=$}get(J,$){return this._data[J*this.cols+$]}set(J,$,X){this._data[J*this.cols+$]=X}}class sb{constructor(J){let $=0,X=0;for(let Y=0,Z=J.length;Y<Z;Y++){const[G,q,U]=J[Y];if(q>$)$=q;if(G>X)X=G;if(U>X)X=U}$++,X++;const Q=new db(X,$,0);for(let Y=0,Z=J.length;Y<Z;Y++){const[G,q,U]=J[Y];Q.set(G,q,U)}this._states=Q,this._maxCharCode=$}nextState(J,$){if($<0||$>=this._maxCharCode)return 0;return this._states.get(J,$)}}class IF{static _createLink(J,$,X,Q,Y){let Z=Y-1;do{const G=$.charCodeAt(Z);if(J.get(G)!==2)break;Z--}while(Z>Q);if(Q>0){const G=$.charCodeAt(Q-1),q=$.charCodeAt(Z);if(G===40&&q===41||G===91&&q===93||G===123&&q===125)Z--}return{range:{startLineNumber:X,startColumn:Q+1,endLineNumber:X,endColumn:Z+2},url:$.substring(Q,Z+1)}}static computeLinks(J,$=r80()){const X=i80(),Q=[];for(let Y=1,Z=J.getLineCount();Y<=Z;Y++){const G=J.getLineContent(Y),q=G.length;let U=0,H=0,z=0,V=1,W=!1,B=!1,j=!1,K=!1;while(U<q){let D=!1;const A=G.charCodeAt(U);if(V===13){let P;switch(A){case 40:W=!0,P=0;break;case 41:P=W?0:1;break;case 91:j=!0,B=!0,P=0;break;case 93:j=!1,P=B?0:1;break;case 123:K=!0,P=0;break;case 125:P=K?0:1;break;case 39:case 34:case 96:if(z===A)P=1;else if(z===39||z===34||z===96)P=0;else P=1;break;case 42:P=z===42?1:0;break;case 124:P=z===124?1:0;break;case 32:P=j?0:1;break;default:P=X.get(A)}if(P===1)Q.push(IF._createLink(X,G,Y,H,U)),D=!0}else if(V===12){let P;if(A===91)B=!0,P=0;else P=X.get(A);if(P===1)D=!0;else V=13}else if(V=$.nextState(V,A),V===0)D=!0;if(D)V=1,W=!1,B=!1,K=!1,H=U+1,z=A;U++}if(V===13)Q.push(IF._createLink(X,G,Y,H,q))}return Q}}var r80,i80,pO,OH;var rb=N(()=>{Zq();r80=function(){if(pO===null)pO=new sb([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]);return pO},i80=function(){if(OH===null){OH=new DX(0);const J=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let X=0;X<J.length;X++)OH.set(J.charCodeAt(X),1);const $=".,;:";for(let X=0;X<$.length;X++)OH.set($.charCodeAt(X),2)}return OH};pO=null,OH=null});class NH{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(J,$,X,Q,Y){if(J&&$){const Z=this.doNavigateValueSet($,Y);if(Z)return{range:J,value:Z}}if(X&&Q){const Z=this.doNavigateValueSet(Q,Y);if(Z)return{range:X,value:Z}}return null}doNavigateValueSet(J,$){const X=this.numberReplace(J,$);if(X!==null)return X;return this.textReplace(J,$)}numberReplace(J,$){const X=Math.pow(10,J.length-(J.lastIndexOf(".")+1));let Q=Number(J);const Y=parseFloat(J);if(!isNaN(Q)&&!isNaN(Y)&&Q===Y)if(Q===0&&!$)return null;else return Q=Math.floor(Q*X),Q+=$?X:-X,String(Q/X);return null}textReplace(J,$){return this.valueSetsReplace(this._defaultValueSet,J,$)}valueSetsReplace(J,$,X){let Q=null;for(let Y=0,Z=J.length;Q===null&&Y<Z;Y++)Q=this.valueSetReplace(J[Y],$,X);return Q}valueSetReplace(J,$,X){let Q=J.indexOf($);if(Q>=0){if(Q+=X?1:-1,Q<0)Q=J.length-1;else Q%=J.length;return J[Q]}return null}}var ib=N(()=>{NH.INSTANCE=new NH});class nb extends DX{constructor(J){super(0);for(let $=0,X=J.length;$<X;$++)this.set(J.charCodeAt($),2);this.set(32,1),this.set(9,1)}}var n80,G$;var TH=N(()=>{Zq();n80=function(J){const $={};return(X)=>{if(!$.hasOwnProperty(X))$[X]=J(X);return $[X]}};G$=n80((J)=>new nb(J))});function ob(J){return J&&typeof J.read==="function"}function tb(J){return!J.isTooLargeForSyncing()&&!J.isForSimpleWidget}class $G{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(J){if(this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,J.tabSize|0),J.indentSize==="tabSize")this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0;else this.indentSize=Math.max(1,J.indentSize|0),this._indentSizeIsTabSize=!1;this.insertSpaces=Boolean(J.insertSpaces),this.defaultEOL=J.defaultEOL|0,this.trimAutoWhitespace=Boolean(J.trimAutoWhitespace),this.bracketPairColorizationOptions=J.bracketPairColorizationOptions}equals(J){return this.tabSize===J.tabSize&&this._indentSizeIsTabSize===J._indentSizeIsTabSize&&this.indentSize===J.indentSize&&this.insertSpaces===J.insertSpaces&&this.defaultEOL===J.defaultEOL&&this.trimAutoWhitespace===J.trimAutoWhitespace&&L7(this.bracketPairColorizationOptions,J.bracketPairColorizationOptions)}createChangeEvent(J){return{tabSize:this.tabSize!==J.tabSize,indentSize:this.indentSize!==J.indentSize,insertSpaces:this.insertSpaces!==J.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==J.trimAutoWhitespace}}}class RX{constructor(J,$){this._findMatchBrand=void 0,this.range=J,this.matches=$}}class _H{constructor(J,$,X,Q,Y,Z){this.identifier=J,this.range=$,this.text=X,this.forceMoveMarkers=Q,this.isAutoWhitespaceEdit=Y,this._isTracked=Z}}class mO{constructor(J,$,X){this.regex=J,this.wordSeparators=$,this.simpleSearch=X}}class uO{constructor(J,$,X){this.reverseEdits=J,this.changes=$,this.trimAutoWhitespaceLineNumbers=X}}var Gq,lQ,AJ,JG;var PJ=N(()=>{U9();(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(Gq||(Gq={}));(function(J){J[J.Left=1]="Left",J[J.Right=2]="Right"})(lQ||(lQ={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(AJ||(AJ={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(JG||(JG={}))});function e80(J){if(!J||J.length===0)return!1;for(let $=0,X=J.length;$<X;$++){const Q=J.charCodeAt($);if(Q===10)return!0;if(Q===92){if($++,$>=X)break;const Y=J.charCodeAt($);if(Y===110||Y===114||Y===87)return!0}}return!1}function dQ(J,$,X){if(!X)return new RX(J,null);const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++)Q[Y]=$[Y];return new RX(J,Q)}function kF(J,$,X,Q,Y){return J70(J,$,X,Q,Y)&&$70(J,$,X,Q,Y)}class sQ{constructor(J,$,X,Q){this.searchString=J,this.isRegex=$,this.matchCase=X,this.wordSeparators=Q}parseSearchRequest(){if(this.searchString==="")return null;let J;if(this.isRegex)J=e80(this.searchString);else J=this.searchString.indexOf("\n")>=0;let $=null;try{$=Aj(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:J,global:!0,unicode:!0})}catch(Q){return null}if(!$)return null;let X=!this.isRegex&&!J;if(X&&this.searchString.toLowerCase()!==this.searchString.toUpperCase())X=this.matchCase;return new mO($,this.wordSeparators?G$(this.wordSeparators):null,X?this.searchString:null)}}class cO{constructor(J){const $=[];let X=0;for(let Q=0,Y=J.length;Q<Y;Q++)if(J.charCodeAt(Q)===10)$[X++]=Q;this._lineFeedsOffsets=$}findLineFeedCountBeforeOffset(J){const $=this._lineFeedsOffsets;let X=0,Q=$.length-1;if(Q===-1)return 0;if(J<=$[0])return 0;while(X<Q){const Y=X+((Q-X)/2>>0);if($[Y]>=J)Q=Y-1;else if($[Y+1]>=J)X=Y,Q=Y;else X=Y+1}return X+1}}class qq{static findMatches(J,$,X,Q,Y){const Z=$.parseSearchRequest();if(!Z)return[];if(Z.regex.multiline)return this._doFindMatchesMultiline(J,X,new MX(Z.wordSeparators,Z.regex),Q,Y);return this._doFindMatchesLineByLine(J,X,Z,Q,Y)}static _getMultilineMatchRange(J,$,X,Q,Y,Z){let G,q=0;if(Q)q=Q.findLineFeedCountBeforeOffset(Y),G=$+Y+q;else G=$+Y;let U;if(Q){const W=Q.findLineFeedCountBeforeOffset(Y+Z.length)-q;U=G+Z.length+W}else U=G+Z.length;const H=J.getPositionAt(G),z=J.getPositionAt(U);return new L(H.lineNumber,H.column,z.lineNumber,z.column)}static _doFindMatchesMultiline(J,$,X,Q,Y){const Z=J.getOffsetAt($.getStartPosition()),G=J.getValueInRange($,1),q=J.getEOL()==="\r\n"?new cO(G):null,U=[];let H=0,z;X.reset(0);while(z=X.next(G))if(U[H++]=dQ(this._getMultilineMatchRange(J,Z,G,q,z.index,z[0]),z,Q),H>=Y)return U;return U}static _doFindMatchesLineByLine(J,$,X,Q,Y){const Z=[];let G=0;if($.startLineNumber===$.endLineNumber){const U=J.getLineContent($.startLineNumber).substring($.startColumn-1,$.endColumn-1);return G=this._findMatchesInLine(X,U,$.startLineNumber,$.startColumn-1,G,Z,Q,Y),Z}const q=J.getLineContent($.startLineNumber).substring($.startColumn-1);G=this._findMatchesInLine(X,q,$.startLineNumber,$.startColumn-1,G,Z,Q,Y);for(let U=$.startLineNumber+1;U<$.endLineNumber&&G<Y;U++)G=this._findMatchesInLine(X,J.getLineContent(U),U,0,G,Z,Q,Y);if(G<Y){const U=J.getLineContent($.endLineNumber).substring(0,$.endColumn-1);G=this._findMatchesInLine(X,U,$.endLineNumber,0,G,Z,Q,Y)}return Z}static _findMatchesInLine(J,$,X,Q,Y,Z,G,q){const U=J.wordSeparators;if(!G&&J.simpleSearch){const V=J.simpleSearch,W=V.length,B=$.length;let j=-W;while((j=$.indexOf(V,j+W))!==-1)if(!U||kF(U,$,B,j,W)){if(Z[Y++]=new RX(new L(X,j+1+Q,X,j+1+W+Q),null),Y>=q)return Y}return Y}const H=new MX(J.wordSeparators,J.regex);let z;H.reset(0);do if(z=H.next($),z){if(Z[Y++]=dQ(new L(X,z.index+1+Q,X,z.index+1+z[0].length+Q),z,G),Y>=q)return Y}while(z);return Y}static findNextMatch(J,$,X,Q){const Y=$.parseSearchRequest();if(!Y)return null;const Z=new MX(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindNextMatchMultiline(J,X,Z,Q);return this._doFindNextMatchLineByLine(J,X,Z,Q)}static _doFindNextMatchMultiline(J,$,X,Q){const Y=new b($.lineNumber,1),Z=J.getOffsetAt(Y),G=J.getLineCount(),q=J.getValueInRange(new L(Y.lineNumber,Y.column,G,J.getLineMaxColumn(G)),1),U=J.getEOL()==="\r\n"?new cO(q):null;X.reset($.column-1);const H=X.next(q);if(H)return dQ(this._getMultilineMatchRange(J,Z,q,U,H.index,H[0]),H,Q);if($.lineNumber!==1||$.column!==1)return this._doFindNextMatchMultiline(J,new b(1,1),X,Q);return null}static _doFindNextMatchLineByLine(J,$,X,Q){const Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z),q=this._findFirstMatchInLine(X,G,Z,$.column,Q);if(q)return q;for(let U=1;U<=Y;U++){const H=(Z+U-1)%Y,z=J.getLineContent(H+1),V=this._findFirstMatchInLine(X,z,H+1,1,Q);if(V)return V}return null}static _findFirstMatchInLine(J,$,X,Q,Y){J.reset(Q-1);const Z=J.next($);if(Z)return dQ(new L(X,Z.index+1,X,Z.index+1+Z[0].length),Z,Y);return null}static findPreviousMatch(J,$,X,Q){const Y=$.parseSearchRequest();if(!Y)return null;const Z=new MX(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindPreviousMatchMultiline(J,X,Z,Q);return this._doFindPreviousMatchLineByLine(J,X,Z,Q)}static _doFindPreviousMatchMultiline(J,$,X,Q){const Y=this._doFindMatchesMultiline(J,new L(1,1,$.lineNumber,$.column),X,Q,10*t80);if(Y.length>0)return Y[Y.length-1];const Z=J.getLineCount();if($.lineNumber!==Z||$.column!==J.getLineMaxColumn(Z))return this._doFindPreviousMatchMultiline(J,new b(Z,J.getLineMaxColumn(Z)),X,Q);return null}static _doFindPreviousMatchLineByLine(J,$,X,Q){const Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z).substring(0,$.column-1),q=this._findLastMatchInLine(X,G,Z,Q);if(q)return q;for(let U=1;U<=Y;U++){const H=(Y+Z-U-1)%Y,z=J.getLineContent(H+1),V=this._findLastMatchInLine(X,z,H+1,Q);if(V)return V}return null}static _findLastMatchInLine(J,$,X,Q){let Y=null,Z;J.reset(0);while(Z=J.next($))Y=dQ(new L(X,Z.index+1,X,Z.index+1+Z[0].length),Z,Q);return Y}}class MX{constructor(J,$){this._wordSeparators=J,this._searchRegex=$,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(J){this._searchRegex.lastIndex=J,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(J){const $=J.length;let X;do{if(this._prevMatchStartIndex+this._prevMatchLength===$)return null;if(X=this._searchRegex.exec(J),!X)return null;const Q=X.index,Y=X[0].length;if(Q===this._prevMatchStartIndex&&Y===this._prevMatchLength){if(Y===0){if(u2(J,$,this._searchRegex.lastIndex)>65535)this._searchRegex.lastIndex+=2;else this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=Q,this._prevMatchLength=Y,!this._wordSeparators||kF(this._wordSeparators,J,$,Q,Y))return X}while(X);return null}}var J70,$70,t80;var EF=N(()=>{l0();TH();W1();u0();PJ();J70=function(J,$,X,Q,Y){if(Q===0)return!0;const Z=$.charCodeAt(Q-1);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){const G=$.charCodeAt(Q);if(J.get(G)!==0)return!0}return!1},$70=function(J,$,X,Q,Y){if(Q+Y===X)return!0;const Z=$.charCodeAt(Q+Y);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){const G=$.charCodeAt(Q+Y-1);if(J.get(G)!==0)return!0}return!1};t80=999});class dO{static computeUnicodeHighlights(J,$,X){const Q=X?X.startLineNumber:1,Y=X?X.endLineNumber:J.getLineCount(),Z=new lO($),G=Z.getCandidateCodePoints();let q;if(G==="allNonBasicAscii")q=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g");else q=new RegExp(`${X70(Array.from(G))}`,"g");const U=new MX(null,q),H=[];let z=!1,V,W=0,B=0,j=0;J:for(let K=Q,D=Y;K<=D;K++){const A=J.getLineContent(K),P=A.length;U.reset(0);do if(V=U.next(A),V){let R=V.index,M=V.index+V[0].length;if(R>0){const x=A.charCodeAt(R-1);if(U8(x))R--}if(M+1<P){const x=A.charCodeAt(M-1);if(U8(x))M++}const T=A.substring(R,M);let _=NQ(R+1,k3,A,0);if(_&&_.endColumn<=R+1)_=null;const w=Z.shouldHighlightNonBasicASCII(T,_?_.word:null);if(w!==0){if(w===3)W++;else if(w===2)B++;else if(w===1)j++;else n2(w);const x=1000;if(H.length>=x){z=!0;break J}H.push(new L(K,R+1,K,M+1))}}while(V)}return{ranges:H,hasMore:z,ambiguousCharacterCount:W,invisibleCharacterCount:B,nonBasicAsciiCharacterCount:j}}static computeUnicodeHighlightReason(J,$){const X=new lO($);switch(X.shouldHighlightNonBasicASCII(J,null)){case 0:return null;case 2:return{kind:1};case 3:{const Y=J.codePointAt(0),Z=X.ambiguousCharacters.getPrimaryConfusable(Y),G=ZX.getLocales().filter((q)=>!ZX.getInstance(new Set([...$.allowedLocales,q])).isAmbiguous(Y));return{kind:0,confusableWith:String.fromCodePoint(Z),notAmbiguousInLocales:G}}case 1:return{kind:2}}}}class lO{constructor(J){this.options=J,this.allowedCodePoints=new Set(J.allowedCodePoints),this.ambiguousCharacters=ZX.getInstance(new Set(J.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const J=new Set;if(this.options.invisibleCharacters){for(let $ of XX.codePoints)if(!eb(String.fromCodePoint($)))J.add($)}if(this.options.ambiguousCharacters)for(let $ of this.ambiguousCharacters.getConfusableCodePoints())J.add($);for(let $ of this.allowedCodePoints)J.delete($);return J}shouldHighlightNonBasicASCII(J,$){const X=J.codePointAt(0);if(this.allowedCodePoints.has(X))return 0;if(this.options.nonBasicASCII)return 1;let Q=!1,Y=!1;if($)for(let Z of $){const G=Z.codePointAt(0),q=l2(Z);if(Q=Q||q,!q&&!this.ambiguousCharacters.isAmbiguous(G)&&!XX.isInvisibleCharacter(G))Y=!0}if(!Q&&Y)return 0;if(this.options.invisibleCharacters){if(!eb(J)&&XX.isInvisibleCharacter(X))return 2}if(this.options.ambiguousCharacters){if(this.ambiguousCharacters.isAmbiguous(X))return 3}return 0}}var X70,eb;var Jv=N(()=>{u0();EF();l0();bQ();k2();X70=function(J,$){return`[${r6(J.map((Q)=>String.fromCodePoint(Q)).join(""))}]`},eb=function(J){return J===" "||J==="\n"||J==="\t"}});class XG{constructor(J,$,X){this.changes=J,this.moves=$,this.hitTimeout=X}}class wH{constructor(J,$){this.lineRangeMapping=J,this.changes=$}}var yF=N(()=>{});class i0{static addRange(J,$){let X=0;while(X<$.length&&$[X].endExclusive<J.start)X++;let Q=X;while(Q<$.length&&$[Q].start<=J.endExclusive)Q++;if(X===Q)$.splice(X,0,J);else{const Y=Math.min(J.start,$[X].start),Z=Math.max(J.endExclusive,$[Q-1].endExclusive);$.splice(X,Q-X,new i0(Y,Z))}}static tryCreate(J,$){if(J>$)return;return new i0(J,$)}static ofLength(J){return new i0(0,J)}constructor(J,$){if(this.start=J,this.endExclusive=$,J>$)throw new n1(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(J){return new i0(this.start+J,this.endExclusive+J)}deltaStart(J){return new i0(this.start+J,this.endExclusive)}deltaEnd(J){return new i0(this.start,this.endExclusive+J)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(J){return this.start===J.start&&this.endExclusive===J.endExclusive}containsRange(J){return this.start<=J.start&&J.endExclusive<=this.endExclusive}contains(J){return this.start<=J&&J<this.endExclusive}join(J){return new i0(Math.min(this.start,J.start),Math.max(this.endExclusive,J.endExclusive))}intersect(J){const $=Math.max(this.start,J.start),X=Math.min(this.endExclusive,J.endExclusive);if($<=X)return new i0($,X);return}slice(J){return J.slice(this.start,this.endExclusive)}clip(J){if(this.isEmpty)throw new n1(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,J))}clipCyclic(J){if(this.isEmpty)throw new n1(`Invalid clipping range: ${this.toString()}`);if(J<this.start)return this.endExclusive-(this.start-J)%this.length;if(J>=this.endExclusive)return this.start+(J-this.start)%this.length;return J}forEach(J){for(let $=this.start;$<this.endExclusive;$++)J($)}}class SF{constructor(){this._sortedRanges=[]}addRange(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<J.start)$++;let X=$;while(X<this._sortedRanges.length&&this._sortedRanges[X].start<=J.endExclusive)X++;if($===X)this._sortedRanges.splice($,0,J);else{const Q=Math.min(J.start,this._sortedRanges[$].start),Y=Math.max(J.endExclusive,this._sortedRanges[X-1].endExclusive);this._sortedRanges.splice($,X-$,new i0(Q,Y))}}toString(){return this._sortedRanges.map((J)=>J.toString()).join(", ")}intersectsStrict(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<=J.start)$++;return $<this._sortedRanges.length&&this._sortedRanges[$].start<J.endExclusive}intersectWithRange(J){const $=new SF;for(let X of this._sortedRanges){const Q=X.intersect(J);if(Q)$.addRange(Q)}return $}intersectWithRangeLength(J){return this.intersectWithRange(J).length}get length(){return this._sortedRanges.reduce((J,$)=>J+$.length,0)}}var DJ=N(()=>{A1()});function LH(J,$,X){const Q=Q70(J,$);if(Q===-1)return;return J[Q]}function Q70(J,$,X=J.length-1){for(let Q=X;Q>=0;Q--){const Y=J[Q];if($(Y))return Q}return-1}function aQ(J,$){const X=QG(J,$);return X===-1?void 0:J[X]}function QG(J,$,X=0,Q=J.length){let Y=X,Z=Q;while(Y<Z){const G=Math.floor((Y+Z)/2);if($(J[G]))Y=G+1;else Z=G}return Y-1}function $v(J,$){const X=Uq(J,$);return X===J.length?void 0:J[X]}function Uq(J,$,X=0,Q=J.length){let Y=X,Z=Q;while(Y<Z){const G=Math.floor((Y+Z)/2);if($(J[G]))Z=G;else Y=G+1}return Y}function Y70(J,$){if(J.length===0)return;let X=J[0];for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,X)>0)X=Y}return X}function Xv(J,$){if(J.length===0)return;let X=J[0];for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,X)>=0)X=Y}return X}function Qv(J,$){return Y70(J,(X,Q)=>-$(X,Q))}function Yv(J,$){if(J.length===0)return-1;let X=0;for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,J[X])>0)X=Q}return X}class Hq{constructor(J){this._array=J,this._findLastMonotonousLastIdx=0}findLastMonotonous(J){if(Hq.assertInvariants){if(this._prevFindLastPredicate){for(let X of this._array)if(this._prevFindLastPredicate(X)&&!J(X))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=J}const $=QG(this._array,J,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=$+1,$===-1?void 0:this._array[$]}}var OX=N(()=>{Hq.assertInvariants=!1});class v0{static fromRange(J){return new v0(J.startLineNumber,J.endLineNumber)}static joinMany(J){if(J.length===0)return[];let $=new Y4(J[0].slice());for(let X=1;X<J.length;X++)$=$.getUnion(new Y4(J[X].slice()));return $.ranges}static ofLength(J,$){return new v0(J,J+$)}static deserialize(J){return new v0(J[0],J[1])}constructor(J,$){if(J>$)throw new n1(`startLineNumber ${J} cannot be after endLineNumberExclusive ${$}`);this.startLineNumber=J,this.endLineNumberExclusive=$}contains(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(J){return new v0(this.startLineNumber+J,this.endLineNumberExclusive+J)}deltaLength(J){return new v0(this.startLineNumber,this.endLineNumberExclusive+J)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(J){return new v0(Math.min(this.startLineNumber,J.startLineNumber),Math.max(this.endLineNumberExclusive,J.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(J){const $=Math.max(this.startLineNumber,J.startLineNumber),X=Math.min(this.endLineNumberExclusive,J.endLineNumberExclusive);if($<=X)return new v0($,X);return}intersectsStrict(J){return this.startLineNumber<J.endLineNumberExclusive&&J.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(J){return this.startLineNumber<=J.endLineNumberExclusive&&J.startLineNumber<=this.endLineNumberExclusive}equals(J){return this.startLineNumber===J.startLineNumber&&this.endLineNumberExclusive===J.endLineNumberExclusive}toInclusiveRange(){if(this.isEmpty)return null;return new L(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new L(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(J){const $=[];for(let X=this.startLineNumber;X<this.endLineNumberExclusive;X++)$.push(J(X));return $}forEach(J){for(let $=this.startLineNumber;$<this.endLineNumberExclusive;$++)J($)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}toOffsetRange(){return new i0(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class Y4{constructor(J=[]){this._normalizedRanges=J}get ranges(){return this._normalizedRanges}addRange(J){if(J.length===0)return;const $=Uq(this._normalizedRanges,(Q)=>Q.endLineNumberExclusive>=J.startLineNumber),X=QG(this._normalizedRanges,(Q)=>Q.startLineNumber<=J.endLineNumberExclusive)+1;if($===X)this._normalizedRanges.splice($,0,J);else if($===X-1){const Q=this._normalizedRanges[$];this._normalizedRanges[$]=Q.join(J)}else{const Q=this._normalizedRanges[$].join(this._normalizedRanges[X-1]).join(J);this._normalizedRanges.splice($,X-$,Q)}}contains(J){const $=aQ(this._normalizedRanges,(X)=>X.startLineNumber<=J);return!!$&&$.endLineNumberExclusive>J}getUnion(J){if(this._normalizedRanges.length===0)return J;if(J._normalizedRanges.length===0)return this;const $=[];let X=0,Q=0,Y=null;while(X<this._normalizedRanges.length||Q<J._normalizedRanges.length){let Z=null;if(X<this._normalizedRanges.length&&Q<J._normalizedRanges.length){const G=this._normalizedRanges[X],q=J._normalizedRanges[Q];if(G.startLineNumber<q.startLineNumber)Z=G,X++;else Z=q,Q++}else if(X<this._normalizedRanges.length)Z=this._normalizedRanges[X],X++;else Z=J._normalizedRanges[Q],Q++;if(Y===null)Y=Z;else if(Y.endLineNumberExclusive>=Z.startLineNumber)Y=new v0(Y.startLineNumber,Math.max(Y.endLineNumberExclusive,Z.endLineNumberExclusive));else $.push(Y),Y=Z}if(Y!==null)$.push(Y);return new Y4($)}subtractFrom(J){const $=Uq(this._normalizedRanges,(Z)=>Z.endLineNumberExclusive>=J.startLineNumber),X=QG(this._normalizedRanges,(Z)=>Z.startLineNumber<=J.endLineNumberExclusive)+1;if($===X)return new Y4([J]);const Q=[];let Y=J.startLineNumber;for(let Z=$;Z<X;Z++){const G=this._normalizedRanges[Z];if(G.startLineNumber>Y)Q.push(new v0(Y,G.startLineNumber));Y=G.endLineNumberExclusive}if(Y<J.endLineNumberExclusive)Q.push(new v0(Y,J.endLineNumberExclusive));return new Y4(Q)}toString(){return this._normalizedRanges.map((J)=>J.toString()).join(", ")}getIntersection(J){const $=[];let X=0,Q=0;while(X<this._normalizedRanges.length&&Q<J._normalizedRanges.length){const Y=this._normalizedRanges[X],Z=J._normalizedRanges[Q],G=Y.intersect(Z);if(G&&!G.isEmpty)$.push(G);if(Y.endLineNumberExclusive<Z.endLineNumberExclusive)X++;else Q++}return new Y4($)}getWithDelta(J){return new Y4(this._normalizedRanges.map(($)=>$.delta(J)))}}var Q5=N(()=>{A1();DJ();u0();OX()});class C5{static inverse(J,$,X){const Q=[];let Y=1,Z=1;for(let q of J){const U=new v6(new v0(Y,q.original.startLineNumber),new v0(Z,q.modified.startLineNumber),void 0);if(!U.modified.isEmpty)Q.push(U);Y=q.original.endLineNumberExclusive,Z=q.modified.endLineNumberExclusive}const G=new v6(new v0(Y,$+1),new v0(Z,X+1),void 0);if(!G.modified.isEmpty)Q.push(G);return Q}constructor(J,$){this.original=J,this.modified=$}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new C5(this.modified,this.original)}join(J){return new C5(this.original.join(J.original),this.modified.join(J.modified))}}class v6 extends C5{constructor(J,$,X){super(J,$);this.innerChanges=X}flip(){var J;return new v6(this.modified,this.original,(J=this.innerChanges)===null||J===void 0?void 0:J.map(($)=>$.flip()))}}class x5{constructor(J,$){this.originalRange=J,this.modifiedRange=$}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new x5(this.modifiedRange,this.originalRange)}}var rQ=N(()=>{Q5()});class iO{computeDiff(J,$,X){var Q;const Z=new Uv(J,$,{maxComputationTime:X.maxComputationTimeMs,shouldIgnoreTrimWhitespace:X.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),G=[];let q=null;for(let U of Z.changes){let H;if(U.originalEndLineNumber===0)H=new v0(U.originalStartLineNumber+1,U.originalStartLineNumber+1);else H=new v0(U.originalStartLineNumber,U.originalEndLineNumber+1);let z;if(U.modifiedEndLineNumber===0)z=new v0(U.modifiedStartLineNumber+1,U.modifiedStartLineNumber+1);else z=new v0(U.modifiedStartLineNumber,U.modifiedEndLineNumber+1);let V=new v6(H,z,(Q=U.charChanges)===null||Q===void 0?void 0:Q.map((W)=>new x5(new L(W.originalStartLineNumber,W.originalStartColumn,W.originalEndLineNumber,W.originalEndColumn),new L(W.modifiedStartLineNumber,W.modifiedStartColumn,W.modifiedEndLineNumber,W.modifiedEndColumn))));if(q){if(q.modified.endLineNumberExclusive===V.modified.startLineNumber||q.original.endLineNumberExclusive===V.original.startLineNumber)V=new v6(q.original.join(V.original),q.modified.join(V.modified),q.innerChanges&&V.innerChanges?q.innerChanges.concat(V.innerChanges):void 0),G.pop()}G.push(V),q=V}return xQ(()=>{return mj(G,(U,H)=>H.original.startLineNumber-U.original.endLineNumberExclusive===H.modified.startLineNumber-U.modified.endLineNumberExclusive&&U.original.endLineNumberExclusive<H.original.startLineNumber&&U.modified.endLineNumberExclusive<H.modified.startLineNumber)}),new XG(G,[],Z.quitEarly)}}class sO{constructor(J){const $=[],X=[];for(let Q=0,Y=J.length;Q<Y;Q++)$[Q]=aO(J[Q],1),X[Q]=rO(J[Q],1);this.lines=J,this._startColumns=$,this._endColumns=X}getElements(){const J=[];for(let $=0,X=this.lines.length;$<X;$++)J[$]=this.lines[$].substring(this._startColumns[$]-1,this._endColumns[$]-1);return J}getStrictElement(J){return this.lines[J]}getStartLineNumber(J){return J+1}getEndLineNumber(J){return J+1}createCharSequence(J,$,X){const Q=[],Y=[],Z=[];let G=0;for(let q=$;q<=X;q++){const U=this.lines[q],H=J?this._startColumns[q]:1,z=J?this._endColumns[q]:U.length+1;for(let V=H;V<z;V++)Q[G]=U.charCodeAt(V-1),Y[G]=q+1,Z[G]=V,G++;if(!J&&q<X)Q[G]=10,Y[G]=q+1,Z[G]=U.length+1,G++}return new qv(Q,Y,Z)}}class qv{constructor(J,$,X){this._charCodes=J,this._lineNumbers=$,this._columns=X}toString(){return"["+this._charCodes.map((J,$)=>(J===10?"\\n":String.fromCharCode(J))+`-(${this._lineNumbers[$]},${this._columns[$]})`).join(", ")+"]"}_assertIndex(J,$){if(J<0||J>=$.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(J){if(J>0&&J===this._lineNumbers.length)return this.getEndLineNumber(J-1);return this._assertIndex(J,this._lineNumbers),this._lineNumbers[J]}getEndLineNumber(J){if(J===-1)return this.getStartLineNumber(J+1);if(this._assertIndex(J,this._lineNumbers),this._charCodes[J]===10)return this._lineNumbers[J]+1;return this._lineNumbers[J]}getStartColumn(J){if(J>0&&J===this._columns.length)return this.getEndColumn(J-1);return this._assertIndex(J,this._columns),this._columns[J]}getEndColumn(J){if(J===-1)return this.getStartColumn(J+1);if(this._assertIndex(J,this._columns),this._charCodes[J]===10)return 1;return this._columns[J]+1}}class zq{constructor(J,$,X,Q,Y,Z,G,q){this.originalStartLineNumber=J,this.originalStartColumn=$,this.originalEndLineNumber=X,this.originalEndColumn=Q,this.modifiedStartLineNumber=Y,this.modifiedStartColumn=Z,this.modifiedEndLineNumber=G,this.modifiedEndColumn=q}static createFromDiffChange(J,$,X){const Q=$.getStartLineNumber(J.originalStart),Y=$.getStartColumn(J.originalStart),Z=$.getEndLineNumber(J.originalStart+J.originalLength-1),G=$.getEndColumn(J.originalStart+J.originalLength-1),q=X.getStartLineNumber(J.modifiedStart),U=X.getStartColumn(J.modifiedStart),H=X.getEndLineNumber(J.modifiedStart+J.modifiedLength-1),z=X.getEndColumn(J.modifiedStart+J.modifiedLength-1);return new zq(Q,Y,Z,G,q,U,H,z)}}class IH{constructor(J,$,X,Q,Y){this.originalStartLineNumber=J,this.originalEndLineNumber=$,this.modifiedStartLineNumber=X,this.modifiedEndLineNumber=Q,this.charChanges=Y}static createFromDiffResult(J,$,X,Q,Y,Z,G){let q,U,H,z,V=void 0;if($.originalLength===0)q=X.getStartLineNumber($.originalStart)-1,U=0;else q=X.getStartLineNumber($.originalStart),U=X.getEndLineNumber($.originalStart+$.originalLength-1);if($.modifiedLength===0)H=Q.getStartLineNumber($.modifiedStart)-1,z=0;else H=Q.getStartLineNumber($.modifiedStart),z=Q.getEndLineNumber($.modifiedStart+$.modifiedLength-1);if(Z&&$.originalLength>0&&$.originalLength<20&&$.modifiedLength>0&&$.modifiedLength<20&&Y()){const W=X.createCharSequence(J,$.originalStart,$.originalStart+$.originalLength-1),B=Q.createCharSequence(J,$.modifiedStart,$.modifiedStart+$.modifiedLength-1);if(W.getElements().length>0&&B.getElements().length>0){let j=Gv(W,B,Y,!0).changes;if(G)j=G70(j);V=[];for(let K=0,D=j.length;K<D;K++)V.push(zq.createFromDiffChange(j[K],W,B))}}return new IH(q,U,H,z,V)}}class Uv{constructor(J,$,X){this.shouldComputeCharChanges=X.shouldComputeCharChanges,this.shouldPostProcessCharChanges=X.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=X.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=X.shouldMakePrettyDiff,this.originalLines=J,this.modifiedLines=$,this.original=new sO(J),this.modified=new sO($),this.continueLineDiff=Zv(X.maxComputationTime),this.continueCharDiff=Zv(X.maxComputationTime===0?0:Math.min(X.maxComputationTime,5000))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0){if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[]};return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]}}if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const J=Gv(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),$=J.changes,X=J.quitEarly;if(this.shouldIgnoreTrimWhitespace){const G=[];for(let q=0,U=$.length;q<U;q++)G.push(IH.createFromDiffResult(this.shouldIgnoreTrimWhitespace,$[q],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:X,changes:G}}const Q=[];let Y=0,Z=0;for(let G=-1,q=$.length;G<q;G++){const U=G+1<q?$[G+1]:null,H=U?U.originalStart:this.originalLines.length,z=U?U.modifiedStart:this.modifiedLines.length;while(Y<H&&Z<z){const V=this.originalLines[Y],W=this.modifiedLines[Z];if(V!==W){{let B=aO(V,1),j=aO(W,1);while(B>1&&j>1){const K=V.charCodeAt(B-2),D=W.charCodeAt(j-2);if(K!==D)break;B--,j--}if(B>1||j>1)this._pushTrimWhitespaceCharChange(Q,Y+1,1,B,Z+1,1,j)}{let B=rO(V,1),j=rO(W,1);const K=V.length+1,D=W.length+1;while(B<K&&j<D){const A=V.charCodeAt(B-1),P=V.charCodeAt(j-1);if(A!==P)break;B++,j++}if(B<K||j<D)this._pushTrimWhitespaceCharChange(Q,Y+1,B,K,Z+1,j,D)}}Y++,Z++}if(U)Q.push(IH.createFromDiffResult(this.shouldIgnoreTrimWhitespace,U,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Y+=U.originalLength,Z+=U.modifiedLength}return{quitEarly:X,changes:Q}}_pushTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G){if(this._mergeTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G))return;let q=void 0;if(this.shouldComputeCharChanges)q=[new zq($,X,$,Q,Y,Z,Y,G)];J.push(new IH($,$,Y,Y,q))}_mergeTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G){const q=J.length;if(q===0)return!1;const U=J[q-1];if(U.originalEndLineNumber===0||U.modifiedEndLineNumber===0)return!1;if(U.originalEndLineNumber===$&&U.modifiedEndLineNumber===Y){if(this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new zq($,X,$,Q,Y,Z,Y,G));return!0}if(U.originalEndLineNumber+1===$&&U.modifiedEndLineNumber+1===Y){if(U.originalEndLineNumber=$,U.modifiedEndLineNumber=Y,this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new zq($,X,$,Q,Y,Z,Y,G));return!0}return!1}}var Gv,G70,aO,rO,Zv,Z70;var Hv=N(()=>{LF();yF();rQ();l0();u0();bQ();Q5();Gv=function(J,$,X,Q){return new Q4(J,$,X).ComputeDiff(Q)},G70=function(J){if(J.length<=1)return J;const $=[J[0]];let X=$[0];for(let Q=1,Y=J.length;Q<Y;Q++){const Z=J[Q],G=Z.originalStart-(X.originalStart+X.originalLength),q=Z.modifiedStart-(X.modifiedStart+X.modifiedLength);if(Math.min(G,q)<Z70)X.originalLength=Z.originalStart+Z.originalLength-X.originalStart,X.modifiedLength=Z.modifiedStart+Z.modifiedLength-X.modifiedStart;else $.push(Z),X=Z}return $},aO=function(J,$){const X=k8(J);if(X===-1)return $;return X+1},rO=function(J,$){const X=o9(J);if(X===-1)return $;return X+2},Zv=function(J){if(J===0)return()=>!0;const $=Date.now();return()=>{return Date.now()-$<J}},Z70=3});class Z4{static trivial(J,$){return new Z4([new $7(i0.ofLength(J.length),i0.ofLength($.length))],!1)}static trivialTimedOut(J,$){return new Z4([new $7(i0.ofLength(J.length),i0.ofLength($.length))],!0)}constructor(J,$){this.diffs=J,this.hitTimeout=$}}class $7{static invert(J,$){const X=[];return XB(J,(Q,Y)=>{X.push($7.fromOffsetPairs(Q?Q.getEndExclusives():RJ.zero,Y?Y.getStarts():new RJ($,(Q?Q.seq2Range.endExclusive-Q.seq1Range.endExclusive:0)+$)))}),X}static fromOffsetPairs(J,$){return new $7(new i0(J.offset1,$.offset1),new i0(J.offset2,$.offset2))}constructor(J,$){this.seq1Range=J,this.seq2Range=$}swap(){return new $7(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(J){return new $7(this.seq1Range.join(J.seq1Range),this.seq2Range.join(J.seq2Range))}delta(J){if(J===0)return this;return new $7(this.seq1Range.delta(J),this.seq2Range.delta(J))}deltaStart(J){if(J===0)return this;return new $7(this.seq1Range.deltaStart(J),this.seq2Range.deltaStart(J))}deltaEnd(J){if(J===0)return this;return new $7(this.seq1Range.deltaEnd(J),this.seq2Range.deltaEnd(J))}intersect(J){const $=this.seq1Range.intersect(J.seq1Range),X=this.seq2Range.intersect(J.seq2Range);if(!$||!X)return;return new $7($,X)}getStarts(){return new RJ(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new RJ(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class RJ{constructor(J,$){this.offset1=J,this.offset2=$}toString(){return`${this.offset1} <-> ${this.offset2}`}}class NX{isValid(){return!0}}class nO{constructor(J){if(this.timeout=J,this.startTime=Date.now(),this.valid=!0,J<=0)throw new n1("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}var Vq=N(()=>{V1();A1();DJ();RJ.zero=new RJ(0,0);RJ.max=new RJ(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);NX.instance=new NX});function EH(J){return J===32||J===9}class kH{constructor(J,$){this.width=J,this.height=$,this.array=[],this.array=new Array(J*$)}get(J,$){return this.array[J+$*this.width]}set(J,$,X){this.array[J+$*this.width]=X}}class YG{static getKey(J){let $=this.chrKeys.get(J);if($===void 0)$=this.chrKeys.size,this.chrKeys.set(J,$);return $}constructor(J,$,X){this.range=J,this.lines=$,this.source=X,this.histogram=[];let Q=0;for(let Y=J.startLineNumber-1;Y<J.endLineNumberExclusive-1;Y++){const Z=$[Y];for(let q=0;q<Z.length;q++){Q++;const U=Z[q],H=YG.getKey(U);this.histogram[H]=(this.histogram[H]||0)+1}Q++;const G=YG.getKey("\n");this.histogram[G]=(this.histogram[G]||0)+1}this.totalCount=Q}computeSimilarity(J){var $,X;let Q=0;const Y=Math.max(this.histogram.length,J.histogram.length);for(let Z=0;Z<Y;Z++)Q+=Math.abs((($=this.histogram[Z])!==null&&$!==void 0?$:0)-((X=J.histogram[Z])!==null&&X!==void 0?X:0));return 1-Q/(this.totalCount+J.totalCount)}}var CF=N(()=>{YG.chrKeys=new Map});class oO{compute(J,$,X=NX.instance,Q){if(J.length===0||$.length===0)return Z4.trivial(J,$);const Y=new kH(J.length,$.length),Z=new kH(J.length,$.length),G=new kH(J.length,$.length);for(let B=0;B<J.length;B++)for(let j=0;j<$.length;j++){if(!X.isValid())return Z4.trivialTimedOut(J,$);const K=B===0?0:Y.get(B-1,j),D=j===0?0:Y.get(B,j-1);let A;if(J.getElement(B)===$.getElement(j)){if(B===0||j===0)A=0;else A=Y.get(B-1,j-1);if(B>0&&j>0&&Z.get(B-1,j-1)===3)A+=G.get(B-1,j-1);A+=Q?Q(B,j):1}else A=-1;const P=Math.max(K,D,A);if(P===A){const R=B>0&&j>0?G.get(B-1,j-1):0;G.set(B,j,R+1),Z.set(B,j,3)}else if(P===K)G.set(B,j,0),Z.set(B,j,1);else if(P===D)G.set(B,j,0),Z.set(B,j,2);Y.set(B,j,P)}const q=[];let U=J.length,H=$.length;function z(B,j){if(B+1!==U||j+1!==H)q.push(new $7(new i0(B+1,U),new i0(j+1,H)));U=B,H=j}let V=J.length-1,W=$.length-1;while(V>=0&&W>=0)if(Z.get(V,W)===3)z(V,W),V--,W--;else if(Z.get(V,W)===1)V--;else W--;return z(-1,-1),q.reverse(),new Z4(q,!1)}}var zv=N(()=>{DJ();Vq();CF()});class yH{compute(J,$,X=NX.instance){if(J.length===0||$.length===0)return Z4.trivial(J,$);const Q=J,Y=$;function Z(j,K){while(j<Q.length&&K<Y.length&&Q.getElement(j)===Y.getElement(K))j++,K++;return j}let G=0;const q=new Vv;q.set(0,Z(0,0));const U=new Wv;U.set(0,q.get(0)===0?null:new tO(null,0,0,q.get(0)));let H=0;J:while(!0){if(G++,!X.isValid())return Z4.trivialTimedOut(Q,Y);const j=-Math.min(G,Y.length+G%2),K=Math.min(G,Q.length+G%2);for(H=j;H<=K;H+=2){let D=0;const A=H===K?-1:q.get(H+1),P=H===j?-1:q.get(H-1)+1;D++;const R=Math.min(Math.max(A,P),Q.length),M=R-H;if(D++,R>Q.length||M>Y.length)continue;const T=Z(R,M);q.set(H,T);const _=R===A?U.get(H+1):U.get(H-1);if(U.set(H,T!==R?new tO(_,R,M,T-R):_),q.get(H)===Q.length&&q.get(H)-H===Y.length)break J}}let z=U.get(H);const V=[];let W=Q.length,B=Y.length;while(!0){const j=z?z.x+z.length:0,K=z?z.y+z.length:0;if(j!==W||K!==B)V.push(new $7(new i0(j,W),new i0(K,B)));if(!z)break;W=z.x,B=z.y,z=z.prev}return V.reverse(),new Z4(V,!1)}}class tO{constructor(J,$,X,Q){this.prev=J,this.x=$,this.y=X,this.length=Q}}class Vv{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0){if(J=-J-1,J>=this.negativeArr.length){const X=this.negativeArr;this.negativeArr=new Int32Array(X.length*2),this.negativeArr.set(X)}this.negativeArr[J]=$}else{if(J>=this.positiveArr.length){const X=this.positiveArr;this.positiveArr=new Int32Array(X.length*2),this.positiveArr.set(X)}this.positiveArr[J]=$}}}class Wv{constructor(){this.positiveArr=[],this.negativeArr=[]}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0)J=-J-1,this.negativeArr[J]=$;else this.positiveArr[J]=$}}var eO=N(()=>{DJ();Vq()});class Fv{constructor(J,$){this.uri=J,this.value=$}}class y7{constructor(J,$){if(this[Bv]="ResourceMap",J instanceof y7)this.map=new Map(J.map),this.toKey=$!==null&&$!==void 0?$:y7.defaultToKey;else if(q70(J)){this.map=new Map,this.toKey=$!==null&&$!==void 0?$:y7.defaultToKey;for(let[X,Q]of J)this.set(X,Q)}else this.map=new Map,this.toKey=J!==null&&J!==void 0?J:y7.defaultToKey}set(J,$){return this.map.set(this.toKey(J),new Fv(J,$)),this}get(J){var $;return($=this.map.get(this.toKey(J)))===null||$===void 0?void 0:$.value}has(J){return this.map.has(this.toKey(J))}get size(){return this.map.size}clear(){this.map.clear()}delete(J){return this.map.delete(this.toKey(J))}forEach(J,$){if(typeof $!=="undefined")J=J.bind($);for(let[X,Q]of this.map)J(Q.value,Q.uri,this)}*values(){for(let J of this.map.values())yield J.value}*keys(){for(let J of this.map.values())yield J.uri}*entries(){for(let J of this.map.values())yield[J.uri,J.value]}*[(Bv=Symbol.toStringTag,Symbol.iterator)](){for(let[,J]of this.map)yield[J.uri,J.value]}}class Kv{constructor(){this[jv]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var J;return(J=this._head)===null||J===void 0?void 0:J.value}get last(){var J;return(J=this._tail)===null||J===void 0?void 0:J.value}has(J){return this._map.has(J)}get(J,$=0){const X=this._map.get(J);if(!X)return;if($!==0)this.touch(X,$);return X.value}set(J,$,X=0){let Q=this._map.get(J);if(Q){if(Q.value=$,X!==0)this.touch(Q,X)}else{switch(Q={key:J,value:$,next:void 0,previous:void 0},X){case 0:this.addItemLast(Q);break;case 1:this.addItemFirst(Q);break;case 2:this.addItemLast(Q);break;default:this.addItemLast(Q);break}this._map.set(J,Q),this._size++}return this}delete(J){return!!this.remove(J)}remove(J){const $=this._map.get(J);if(!$)return;return this._map.delete(J),this.removeItem($),this._size--,$.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const J=this._head;return this._map.delete(J.key),this.removeItem(J),this._size--,J.value}forEach(J,$){const X=this._state;let Q=this._head;while(Q){if($)J.bind($)(Q.value,Q.key,this);else J(Q.value,Q.key,this);if(this._state!==X)throw new Error("LinkedMap got modified during iteration.");Q=Q.next}}keys(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:X.key,done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}values(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:X.value,done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}entries(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:[X.key,X.value],done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}[(jv=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(J){if(J>=this.size)return;if(J===0){this.clear();return}let $=this._head,X=this.size;while($&&X>J)this._map.delete($.key),$=$.next,X--;if(this._head=$,this._size=X,$)$.previous=void 0;this._state++}addItemFirst(J){if(!this._head&&!this._tail)this._tail=J;else if(!this._head)throw new Error("Invalid list");else J.next=this._head,this._head.previous=J;this._head=J,this._state++}addItemLast(J){if(!this._head&&!this._tail)this._head=J;else if(!this._tail)throw new Error("Invalid list");else J.previous=this._tail,this._tail.next=J;this._tail=J,this._state++}removeItem(J){if(J===this._head&&J===this._tail)this._head=void 0,this._tail=void 0;else if(J===this._head){if(!J.next)throw new Error("Invalid list");J.next.previous=void 0,this._head=J.next}else if(J===this._tail){if(!J.previous)throw new Error("Invalid list");J.previous.next=void 0,this._tail=J.previous}else{const{next:$,previous:X}=J;if(!$||!X)throw new Error("Invalid list");$.previous=X,X.next=$}J.next=void 0,J.previous=void 0,this._state++}touch(J,$){if(!this._head||!this._tail)throw new Error("Invalid list");if($!==1&&$!==2)return;if($===1){if(J===this._head)return;const{next:X,previous:Q}=J;if(J===this._tail)Q.next=void 0,this._tail=Q;else X.previous=Q,Q.next=X;J.previous=void 0,J.next=this._head,this._head.previous=J,this._head=J,this._state++}else if($===2){if(J===this._tail)return;const{next:X,previous:Q}=J;if(J===this._head)X.previous=void 0,this._head=X;else X.previous=Q,Q.next=X;J.next=void 0,J.previous=this._tail,this._tail.next=J,this._tail=J,this._state++}}toJSON(){const J=[];return this.forEach(($,X)=>{J.push([X,$])}),J}fromJSON(J){this.clear();for(let[$,X]of J)this.set($,X)}}class TX extends Kv{constructor(J,$=1){super();this._limit=J,this._ratio=Math.min(Math.max(0,$),1)}get limit(){return this._limit}set limit(J){this._limit=J,this.checkTrim()}get(J,$=2){return super.get(J,$)}peek(J){return super.get(J,0)}set(J,$){return super.set(J,$,2),this.checkTrim(),this}checkTrim(){if(this.size>this._limit)this.trimOld(Math.round(this._limit*this._ratio))}}class JN{constructor(J){if(this._m1=new Map,this._m2=new Map,J)for(let[$,X]of J)this.set($,X)}clear(){this._m1.clear(),this._m2.clear()}set(J,$){this._m1.set(J,$),this._m2.set($,J)}get(J){return this._m1.get(J)}getKey(J){return this._m2.get(J)}delete(J){const $=this._m1.get(J);if($===void 0)return!1;return this._m1.delete(J),this._m2.delete($),!0}keys(){return this._m1.keys()}values(){return this._m1.values()}}class SH{constructor(){this.map=new Map}add(J,$){let X=this.map.get(J);if(!X)X=new Set,this.map.set(J,X);X.add($)}delete(J,$){const X=this.map.get(J);if(!X)return;if(X.delete($),X.size===0)this.map.delete(J)}forEach(J,$){const X=this.map.get(J);if(!X)return;X.forEach($)}get(J){const $=this.map.get(J);if(!$)return new Set;return $}}var q70,Bv,jv;var G4=N(()=>{q70=function(J){return Array.isArray(J)};y7.defaultToKey=(J)=>J.toString()});class ZG{constructor(J,$,X){this.lines=J,this.considerWhitespaceChanges=X,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let Q=!1;if($.start>0&&$.endExclusive>=J.length)$=new i0($.start-1,$.endExclusive),Q=!0;this.lineRange=$,this.firstCharOffsetByLine[0]=0;for(let Y=this.lineRange.start;Y<this.lineRange.endExclusive;Y++){let Z=J[Y],G=0;if(Q)G=Z.length,Z="",Q=!1;else if(!X){const q=Z.trimStart();G=Z.length-q.length,Z=q.trimEnd()}this.additionalOffsetByLine.push(G);for(let q=0;q<Z.length;q++)this.elements.push(Z.charCodeAt(q));if(Y<J.length-1)this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLine[Y-this.lineRange.start+1]=this.elements.length}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new i0(0,this.length))}getText(J){return this.elements.slice(J.start,J.endExclusive).map(($)=>String.fromCharCode($)).join("")}getElement(J){return this.elements[J]}get length(){return this.elements.length}getBoundaryScore(J){const $=Pv(J>0?this.elements[J-1]:-1),X=Pv(J<this.elements.length?this.elements[J]:-1);if($===6&&X===7)return 0;let Q=0;if($!==X){if(Q+=10,$===0&&X===1)Q+=1}return Q+=Av($),Q+=Av(X),Q}translateOffset(J){if(this.lineRange.isEmpty)return new b(this.lineRange.start+1,1);const $=QG(this.firstCharOffsetByLine,(X)=>X<=J);return new b(this.lineRange.start+$+1,J-this.firstCharOffsetByLine[$]+this.additionalOffsetByLine[$]+1)}translateRange(J){return L.fromPositions(this.translateOffset(J.start),this.translateOffset(J.endExclusive))}findWordContaining(J){if(J<0||J>=this.elements.length)return;if(!$N(this.elements[J]))return;let $=J;while($>0&&$N(this.elements[$-1]))$--;let X=J;while(X<this.elements.length&&$N(this.elements[X]))X++;return new i0($,X)}countLinesIn(J){return this.translateOffset(J.endExclusive).lineNumber-this.translateOffset(J.start).lineNumber}isStronglyEqual(J,$){return this.elements[J]===this.elements[$]}extendToFullLines(J){var $,X;const Q=($=aQ(this.firstCharOffsetByLine,(Z)=>Z<=J.start))!==null&&$!==void 0?$:0,Y=(X=$v(this.firstCharOffsetByLine,(Z)=>J.endExclusive<=Z))!==null&&X!==void 0?X:this.elements.length;return new i0(Q,Y)}}var $N,Av,Pv,U70;var XN=N(()=>{OX();DJ();W1();u0();CF();$N=function(J){return J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57},Av=function(J){return U70[J]},Pv=function(J){if(J===10)return 7;else if(J===13)return 6;else if(EH(J))return 5;else if(J>=97&&J<=122)return 0;else if(J>=65&&J<=90)return 1;else if(J>=48&&J<=57)return 2;else if(J===-1)return 3;else return 4};U70={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10}});function Rv(J,$,X,Q,Y,Z){let{moves:G,excludedChanges:q}=H70(J,$,X,Z);if(!Z.isValid())return[];const U=J.filter((z)=>!q.has(z)),H=z70(U,Q,Y,$,X,Z);return N3(G,H),G=V70(G),G=G.filter((z)=>{return z.original.toOffsetRange().slice($).map((W)=>W.trim()).join("\n").length>=10}),G=W70(J,G),G}var H70,z70,Dv,V70,W70;var Mv=N(()=>{Vq();rQ();V1();OX();G4();Q5();DJ();XN();CF();eO();H70=function(J,$,X,Q){const Y=[],Z=J.filter((U)=>U.modified.isEmpty&&U.original.length>=3).map((U)=>new YG(U.original,$,U)),G=new Set(J.filter((U)=>U.original.isEmpty&&U.modified.length>=3).map((U)=>new YG(U.modified,X,U))),q=new Set;for(let U of Z){let H=-1,z;for(let V of G){const W=U.computeSimilarity(V);if(W>H)H=W,z=V}if(H>0.9&&z)G.delete(z),Y.push(new C5(U.range,z.range)),q.add(U.source),q.add(z.source);if(!Q.isValid())return{moves:Y,excludedChanges:q}}return{moves:Y,excludedChanges:q}},z70=function(J,$,X,Q,Y,Z){const G=[],q=new SH;for(let W of J)for(let B=W.original.startLineNumber;B<W.original.endLineNumberExclusive-2;B++){const j=`${$[B-1]}:${$[B+1-1]}:${$[B+2-1]}`;q.add(j,{range:new v0(B,B+3)})}const U=[];J.sort(l6((W)=>W.modified.startLineNumber,cJ));for(let W of J){let B=[];for(let j=W.modified.startLineNumber;j<W.modified.endLineNumberExclusive-2;j++){const K=`${X[j-1]}:${X[j+1-1]}:${X[j+2-1]}`,D=new v0(j,j+3),A=[];q.forEach(K,({range:P})=>{for(let M of B)if(M.originalLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive&&M.modifiedLineRange.endLineNumberExclusive+1===D.endLineNumberExclusive){M.originalLineRange=new v0(M.originalLineRange.startLineNumber,P.endLineNumberExclusive),M.modifiedLineRange=new v0(M.modifiedLineRange.startLineNumber,D.endLineNumberExclusive),A.push(M);return}const R={modifiedLineRange:D,originalLineRange:P};U.push(R),A.push(R)}),B=A}if(!Z.isValid())return[]}U.sort(GB(l6((W)=>W.modifiedLineRange.length,cJ)));const H=new Y4,z=new Y4;for(let W of U){const B=W.modifiedLineRange.startLineNumber-W.originalLineRange.startLineNumber,j=H.subtractFrom(W.modifiedLineRange),K=z.subtractFrom(W.originalLineRange).getWithDelta(B),D=j.getIntersection(K);for(let A of D.ranges){if(A.length<3)continue;const P=A,R=A.delta(-B);G.push(new C5(R,P)),H.addRange(P),z.addRange(R)}}G.sort(l6((W)=>W.original.startLineNumber,cJ));const V=new Hq(J);for(let W=0;W<G.length;W++){const B=G[W],j=V.findLastMonotonous((_)=>_.original.startLineNumber<=B.original.startLineNumber),K=aQ(J,(_)=>_.modified.startLineNumber<=B.modified.startLineNumber),D=Math.max(B.original.startLineNumber-j.original.startLineNumber,B.modified.startLineNumber-K.modified.startLineNumber),A=V.findLastMonotonous((_)=>_.original.startLineNumber<B.original.endLineNumberExclusive),P=aQ(J,(_)=>_.modified.startLineNumber<B.modified.endLineNumberExclusive),R=Math.max(A.original.endLineNumberExclusive-B.original.endLineNumberExclusive,P.modified.endLineNumberExclusive-B.modified.endLineNumberExclusive);let M;for(M=0;M<D;M++){const _=B.original.startLineNumber-M-1,w=B.modified.startLineNumber-M-1;if(_>Q.length||w>Y.length)break;if(H.contains(w)||z.contains(_))break;if(!Dv(Q[_-1],Y[w-1],Z))break}if(M>0)z.addRange(new v0(B.original.startLineNumber-M,B.original.startLineNumber)),H.addRange(new v0(B.modified.startLineNumber-M,B.modified.startLineNumber));let T;for(T=0;T<R;T++){const _=B.original.endLineNumberExclusive+T,w=B.modified.endLineNumberExclusive+T;if(_>Q.length||w>Y.length)break;if(H.contains(w)||z.contains(_))break;if(!Dv(Q[_-1],Y[w-1],Z))break}if(T>0)z.addRange(new v0(B.original.endLineNumberExclusive,B.original.endLineNumberExclusive+T)),H.addRange(new v0(B.modified.endLineNumberExclusive,B.modified.endLineNumberExclusive+T));if(M>0||T>0)G[W]=new C5(new v0(B.original.startLineNumber-M,B.original.endLineNumberExclusive+T),new v0(B.modified.startLineNumber-M,B.modified.endLineNumberExclusive+T))}return G},Dv=function(J,$,X){if(J.trim()===$.trim())return!0;if(J.length>300&&$.length>300)return!1;const Y=new yH().compute(new ZG([J],new i0(0,1),!1),new ZG([$],new i0(0,1),!1),X);let Z=0;const G=$7.invert(Y.diffs,J.length);for(let z of G)z.seq1Range.forEach((V)=>{if(!EH(J.charCodeAt(V)))Z++});function q(z){let V=0;for(let W=0;W<J.length;W++)if(!EH(z.charCodeAt(W)))V++;return V}const U=q(J.length>$.length?J:$);return Z/U>0.6&&U>10},V70=function(J){if(J.length===0)return J;J.sort(l6((X)=>X.original.startLineNumber,cJ));const $=[J[0]];for(let X=1;X<J.length;X++){const Q=$[$.length-1],Y=J[X],Z=Y.original.startLineNumber-Q.original.endLineNumberExclusive,G=Y.modified.startLineNumber-Q.modified.endLineNumberExclusive;if(Z>=0&&G>=0&&Z+G<=2){$[$.length-1]=Q.join(Y);continue}$.push(Y)}return $},W70=function(J,$){const X=new Hq(J);return $=$.filter((Q)=>{const Y=X.findLastMonotonous((q)=>q.original.endLineNumberExclusive<Q.original.endLineNumberExclusive)||new C5(new v0(1,1),new v0(1,1)),Z=aQ(J,(q)=>q.modified.endLineNumberExclusive<Q.modified.endLineNumberExclusive);return Y!==Z}),$}});function CH(J,$,X){let Q=X;return Q=B70(J,$,Q),Q=j70(J,$,Q),Q}function Nv(J,$,X){const Q=[];for(let Y of X){const Z=Q[Q.length-1];if(!Z){Q.push(Y);continue}if(Y.seq1Range.start-Z.seq1Range.endExclusive<=2||Y.seq2Range.start-Z.seq2Range.endExclusive<=2)Q[Q.length-1]=new $7(Z.seq1Range.join(Y.seq1Range),Z.seq2Range.join(Y.seq2Range));else Q.push(Y)}return Q}function Tv(J,$,X){const Q=[];let Y=void 0;function Z(){if(!Y)return;const q=Y.s1Range.length-Y.deleted,U=Y.s2Range.length-Y.added;if(Math.max(Y.deleted,Y.added)+(Y.count-1)>q)Q.push(new $7(Y.s1Range,Y.s2Range));Y=void 0}for(let q of X){let U=function(B,j){var K,D,A,P;if(!Y||!Y.s1Range.containsRange(B)||!Y.s2Range.containsRange(j))if(Y&&!(Y.s1Range.endExclusive<B.start&&Y.s2Range.endExclusive<j.start)){const T=i0.tryCreate(Y.s1Range.endExclusive,B.start),_=i0.tryCreate(Y.s2Range.endExclusive,j.start);Y.deleted+=(K=T===null||T===void 0?void 0:T.length)!==null&&K!==void 0?K:0,Y.added+=(D=_===null||_===void 0?void 0:_.length)!==null&&D!==void 0?D:0,Y.s1Range=Y.s1Range.join(B),Y.s2Range=Y.s2Range.join(j)}else Z(),Y={added:0,deleted:0,count:0,s1Range:B,s2Range:j};const R=B.intersect(q.seq1Range),M=j.intersect(q.seq2Range);Y.count++,Y.deleted+=(A=R===null||R===void 0?void 0:R.length)!==null&&A!==void 0?A:0,Y.added+=(P=M===null||M===void 0?void 0:M.length)!==null&&P!==void 0?P:0};const H=J.findWordContaining(q.seq1Range.start-1),z=$.findWordContaining(q.seq2Range.start-1),V=J.findWordContaining(q.seq1Range.endExclusive),W=$.findWordContaining(q.seq2Range.endExclusive);if(H&&V&&z&&W&&H.equals(V)&&z.equals(W))U(H,z);else{if(H&&z)U(H,z);if(V&&W)U(V,W)}}return Z(),F70(X,Q)}function _v(J,$,X){let Q=X;if(Q.length===0)return Q;let Y=0,Z;do{Z=!1;const G=[Q[0]];for(let q=1;q<Q.length;q++){let z=function(W,B){const j=new i0(H.seq1Range.endExclusive,U.seq1Range.start);if(J.getText(j).replace(/\s/g,"").length<=4&&(W.seq1Range.length+W.seq2Range.length>5||B.seq1Range.length+B.seq2Range.length>5))return!0;return!1};const U=Q[q],H=G[G.length-1];if(z(H,U))Z=!0,G[G.length-1]=G[G.length-1].join(U);else G.push(U)}Q=G}while(Y++<10&&Z);return Q}function wv(J,$,X){let Q=X;if(Q.length===0)return Q;let Y=0,Z;do{Z=!1;const q=[Q[0]];for(let U=1;U<Q.length;U++){let V=function(B,j){const K=new i0(z.seq1Range.endExclusive,H.seq1Range.start);if(J.countLinesIn(K)>5||K.length>500)return!1;const A=J.getText(K).trim();if(A.length>20||A.split(/\r\n|\r|\n/).length>1)return!1;const P=J.countLinesIn(B.seq1Range),R=B.seq1Range.length,M=$.countLinesIn(B.seq2Range),T=B.seq2Range.length,_=J.countLinesIn(j.seq1Range),w=j.seq1Range.length,x=$.countLinesIn(j.seq2Range),C=j.seq2Range.length,h=130;function p(r){return Math.min(r,h)}if(Math.pow(Math.pow(p(P*40+R),1.5)+Math.pow(p(M*40+T),1.5),1.5)+Math.pow(Math.pow(p(_*40+w),1.5)+Math.pow(p(x*40+C),1.5),1.5)>Math.pow(Math.pow(h,1.5),1.5)*1.3)return!0;return!1};const H=Q[U],z=q[q.length-1];if(V(z,H))Z=!0,q[q.length-1]=q[q.length-1].join(H);else q.push(H)}Q=q}while(Y++<10&&Z);const G=[];return FS(Q,(q,U,H)=>{let z=U;function V(A){return A.length>0&&A.trim().length<=3&&U.seq1Range.length+U.seq2Range.length>100}const W=J.extendToFullLines(U.seq1Range),B=J.getText(new i0(W.start,U.seq1Range.start));if(V(B))z=z.deltaStart(-B.length);const j=J.getText(new i0(U.seq1Range.endExclusive,W.endExclusive));if(V(j))z=z.deltaEnd(j.length);const K=$7.fromOffsetPairs(q?q.getEndExclusives():RJ.zero,H?H.getStarts():RJ.max),D=z.intersect(K);G.push(D)}),G}var B70,j70,Ov,F70;var QN=N(()=>{V1();DJ();Vq();B70=function(J,$,X){if(X.length===0)return X;const Q=[];Q.push(X[0]);for(let Z=1;Z<X.length;Z++){const G=Q[Q.length-1];let q=X[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){const U=q.seq1Range.start-G.seq1Range.endExclusive;let H;for(H=1;H<=U;H++)if(J.getElement(q.seq1Range.start-H)!==J.getElement(q.seq1Range.endExclusive-H)||$.getElement(q.seq2Range.start-H)!==$.getElement(q.seq2Range.endExclusive-H))break;if(H--,H===U){Q[Q.length-1]=new $7(new i0(G.seq1Range.start,q.seq1Range.endExclusive-U),new i0(G.seq2Range.start,q.seq2Range.endExclusive-U));continue}q=q.delta(-H)}Q.push(q)}const Y=[];for(let Z=0;Z<Q.length-1;Z++){const G=Q[Z+1];let q=Q[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){const U=G.seq1Range.start-q.seq1Range.endExclusive;let H;for(H=0;H<U;H++)if(!J.isStronglyEqual(q.seq1Range.start+H,q.seq1Range.endExclusive+H)||!$.isStronglyEqual(q.seq2Range.start+H,q.seq2Range.endExclusive+H))break;if(H===U){Q[Z+1]=new $7(new i0(q.seq1Range.start+U,G.seq1Range.endExclusive),new i0(q.seq2Range.start+U,G.seq2Range.endExclusive));continue}if(H>0)q=q.delta(H)}Y.push(q)}if(Q.length>0)Y.push(Q[Q.length-1]);return Y},j70=function(J,$,X){if(!J.getBoundaryScore||!$.getBoundaryScore)return X;for(let Q=0;Q<X.length;Q++){const Y=Q>0?X[Q-1]:void 0,Z=X[Q],G=Q+1<X.length?X[Q+1]:void 0,q=new i0(Y?Y.seq1Range.start+1:0,G?G.seq1Range.endExclusive-1:J.length),U=new i0(Y?Y.seq2Range.start+1:0,G?G.seq2Range.endExclusive-1:$.length);if(Z.seq1Range.isEmpty)X[Q]=Ov(Z,J,$,q,U);else if(Z.seq2Range.isEmpty)X[Q]=Ov(Z.swap(),$,J,U,q).swap()}return X},Ov=function(J,$,X,Q,Y){let G=1;while(J.seq1Range.start-G>=Q.start&&J.seq2Range.start-G>=Y.start&&X.isStronglyEqual(J.seq2Range.start-G,J.seq2Range.endExclusive-G)&&G<100)G++;G--;let q=0;while(J.seq1Range.start+q<Q.endExclusive&&J.seq2Range.endExclusive+q<Y.endExclusive&&X.isStronglyEqual(J.seq2Range.start+q,J.seq2Range.endExclusive+q)&&q<100)q++;if(G===0&&q===0)return J;let U=0,H=-1;for(let z=-G;z<=q;z++){const V=J.seq2Range.start+z,W=J.seq2Range.endExclusive+z,B=J.seq1Range.start+z,j=$.getBoundaryScore(B)+X.getBoundaryScore(V)+X.getBoundaryScore(W);if(j>H)H=j,U=z}return J.delta(U)};F70=function(J,$){const X=[];while(J.length>0||$.length>0){const Q=J[0],Y=$[0];let Z;if(Q&&(!Y||Q.seq1Range.start<Y.seq1Range.start))Z=J.shift();else Z=$.shift();if(X.length>0&&X[X.length-1].seq1Range.endExclusive>=Z.seq1Range.start)X[X.length-1]=X[X.length-1].join(Z);else X.push(Z)}return X}});class xF{constructor(J,$){this.trimmedHash=J,this.lines=$}getElement(J){return this.trimmedHash[J]}get length(){return this.trimmedHash.length}getBoundaryScore(J){const $=J===0?0:Lv(this.lines[J-1]),X=J===this.lines.length?0:Lv(this.lines[J]);return 1000-($+X)}getText(J){return this.lines.slice(J.start,J.endExclusive).join("\n")}isStronglyEqual(J,$){return this.lines[J]===this.lines[$]}}var Lv;var Iv=N(()=>{Lv=function(J){let $=0;while($<J.length&&(J.charCodeAt($)===32||J.charCodeAt($)===9))$++;return $}});function kv(J,$,X,Q=!1){const Y=[];for(let Z of $B(J.map((G)=>K70(G,$,X)),(G,q)=>G.original.overlapOrTouch(q.original)||G.modified.overlapOrTouch(q.modified))){const G=Z[0],q=Z[Z.length-1];Y.push(new v6(G.original.join(q.original),G.modified.join(q.modified),Z.map((U)=>U.innerChanges[0])))}return xQ(()=>{if(!Q){if(Y.length>0&&Y[0].original.startLineNumber!==Y[0].modified.startLineNumber)return!1}return mj(Y,(Z,G)=>G.original.startLineNumber-Z.original.endLineNumberExclusive===G.modified.startLineNumber-Z.modified.endLineNumberExclusive&&Z.original.endLineNumberExclusive<G.original.startLineNumber&&Z.modified.endLineNumberExclusive<G.modified.startLineNumber)}),Y}function K70(J,$,X){let Q=0,Y=0;if(J.modifiedRange.endColumn===1&&J.originalRange.endColumn===1&&J.originalRange.startLineNumber+Q<=J.originalRange.endLineNumber&&J.modifiedRange.startLineNumber+Q<=J.modifiedRange.endLineNumber)Y=-1;if(J.modifiedRange.startColumn-1>=X[J.modifiedRange.startLineNumber-1].length&&J.originalRange.startColumn-1>=$[J.originalRange.startLineNumber-1].length&&J.originalRange.startLineNumber<=J.originalRange.endLineNumber+Y&&J.modifiedRange.startLineNumber<=J.modifiedRange.endLineNumber+Y)Q=1;const Z=new v0(J.originalRange.startLineNumber+Q,J.originalRange.endLineNumber+1+Y),G=new v0(J.modifiedRange.startLineNumber+Q,J.modifiedRange.endLineNumber+1+Y);return new v6(Z,G,[J])}class xH{constructor(){this.dynamicProgrammingDiffing=new oO,this.myersDiffingAlgorithm=new yH}computeDiff(J,$,X){if(J.length<=1&&$8(J,$,(M,T)=>M===T))return new XG([],[],!1);if(J.length===1&&J[0].length===0||$.length===1&&$[0].length===0)return new XG([new v6(new v0(1,J.length+1),new v0(1,$.length+1),[new x5(new L(1,1,J.length,J[0].length+1),new L(1,1,$.length,$[0].length+1))])],[],!1);const Q=X.maxComputationTimeMs===0?NX.instance:new nO(X.maxComputationTimeMs),Y=!X.ignoreTrimWhitespace,Z=new Map;function G(M){let T=Z.get(M);if(T===void 0)T=Z.size,Z.set(M,T);return T}const q=J.map((M)=>G(M.trim())),U=$.map((M)=>G(M.trim())),H=new xF(q,J),z=new xF(U,$),V=(()=>{if(H.length+z.length<1700)return this.dynamicProgrammingDiffing.compute(H,z,Q,(M,T)=>J[M]===$[T]?$[T].length===0?0.1:1+Math.log(1+$[T].length):0.99);return this.myersDiffingAlgorithm.compute(H,z)})();let{diffs:W,hitTimeout:B}=V;W=CH(H,z,W),W=_v(H,z,W);const j=[],K=(M)=>{if(!Y)return;for(let T=0;T<M;T++){const _=D+T,w=A+T;if(J[_]!==$[w]){const x=this.refineDiff(J,$,new $7(new i0(_,_+1),new i0(w,w+1)),Q,Y);for(let C of x.mappings)j.push(C);if(x.hitTimeout)B=!0}}};let D=0,A=0;for(let M of W){xQ(()=>M.seq1Range.start-D===M.seq2Range.start-A);const T=M.seq1Range.start-D;K(T),D=M.seq1Range.endExclusive,A=M.seq2Range.endExclusive;const _=this.refineDiff(J,$,M,Q,Y);if(_.hitTimeout)B=!0;for(let w of _.mappings)j.push(w)}K(J.length-D);const P=kv(j,J,$);let R=[];if(X.computeMoves)R=this.computeMoves(P,J,$,q,U,Q,Y);return xQ(()=>{function M(_,w){if(_.lineNumber<1||_.lineNumber>w.length)return!1;const x=w[_.lineNumber-1];if(_.column<1||_.column>x.length+1)return!1;return!0}function T(_,w){if(_.startLineNumber<1||_.startLineNumber>w.length+1)return!1;if(_.endLineNumberExclusive<1||_.endLineNumberExclusive>w.length+1)return!1;return!0}for(let _ of P){if(!_.innerChanges)return!1;for(let w of _.innerChanges)if(!(M(w.modifiedRange.getStartPosition(),$)&&M(w.modifiedRange.getEndPosition(),$)&&M(w.originalRange.getStartPosition(),J)&&M(w.originalRange.getEndPosition(),J)))return!1;if(!T(_.modified,$)||!T(_.original,J))return!1}return!0}),new XG(P,R,B)}computeMoves(J,$,X,Q,Y,Z,G){return Rv(J,$,X,Q,Y,Z).map((H)=>{const z=this.refineDiff($,X,new $7(H.original.toOffsetRange(),H.modified.toOffsetRange()),Z,G),V=kv(z.mappings,$,X,!0);return new wH(H,V)})}refineDiff(J,$,X,Q,Y){const Z=new ZG(J,X.seq1Range,Y),G=new ZG($,X.seq2Range,Y),q=Z.length+G.length<500?this.dynamicProgrammingDiffing.compute(Z,G,Q):this.myersDiffingAlgorithm.compute(Z,G,Q);let U=q.diffs;return U=CH(Z,G,U),U=Tv(Z,G,U),U=Nv(Z,G,U),U=wv(Z,G,U),{mappings:U.map((z)=>new x5(Z.translateRange(z.seq1Range),G.translateRange(z.seq2Range))),hitTimeout:q.hitTimeout}}}var YN=N(()=>{V1();bQ();Q5();DJ();u0();Vq();zv();eO();Mv();QN();yF();rQ();XN();Iv()});var ZN;var Ev=N(()=>{Hv();YN();ZN={getLegacy:()=>new iO,getDefault:()=>new xH}});class M1{constructor(J,$,X,Q=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,J))|0,this.g=Math.min(255,Math.max(0,$))|0,this.b=Math.min(255,Math.max(0,X))|0,this.a=iQ(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.r===$.r&&J.g===$.g&&J.b===$.b&&J.a===$.a}}class b5{constructor(J,$,X,Q){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=iQ(Math.max(Math.min(1,$),0),3),this.l=iQ(Math.max(Math.min(1,X),0),3),this.a=iQ(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.l===$.l&&J.a===$.a}static fromRGBA(J){const $=J.r/255,X=J.g/255,Q=J.b/255,Y=J.a,Z=Math.max($,X,Q),G=Math.min($,X,Q);let q=0,U=0;const H=(G+Z)/2,z=Z-G;if(z>0){switch(U=Math.min(H<=0.5?z/(2*H):z/(2-2*H),1),Z){case $:q=(X-Q)/z+(X<Q?6:0);break;case X:q=(Q-$)/z+2;break;case Q:q=($-X)/z+4;break}q*=60,q=Math.round(q)}return new b5(q,U,H,Y)}static _hue2rgb(J,$,X){if(X<0)X+=1;if(X>1)X-=1;if(X<0.16666666666666666)return J+($-J)*6*X;if(X<0.5)return $;if(X<0.6666666666666666)return J+($-J)*(0.6666666666666666-X)*6;return J}static toRGBA(J){const $=J.h/360,{s:X,l:Q,a:Y}=J;let Z,G,q;if(X===0)Z=G=q=Q;else{const U=Q<0.5?Q*(1+X):Q+X-Q*X,H=2*Q-U;Z=b5._hue2rgb(H,U,$+0.3333333333333333),G=b5._hue2rgb(H,U,$),q=b5._hue2rgb(H,U,$-0.3333333333333333)}return new M1(Math.round(Z*255),Math.round(G*255),Math.round(q*255),Y)}}class Wq{constructor(J,$,X,Q){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=iQ(Math.max(Math.min(1,$),0),3),this.v=iQ(Math.max(Math.min(1,X),0),3),this.a=iQ(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.v===$.v&&J.a===$.a}static fromRGBA(J){const $=J.r/255,X=J.g/255,Q=J.b/255,Y=Math.max($,X,Q),Z=Math.min($,X,Q),G=Y-Z,q=Y===0?0:G/Y;let U;if(G===0)U=0;else if(Y===$)U=((X-Q)/G%6+6)%6;else if(Y===X)U=(Q-$)/G+2;else U=($-X)/G+4;return new Wq(Math.round(U*60),q,Y,J.a)}static toRGBA(J){const{h:$,s:X,v:Q,a:Y}=J,Z=Q*X,G=Z*(1-Math.abs($/60%2-1)),q=Q-Z;let[U,H,z]=[0,0,0];if($<60)U=Z,H=G;else if($<120)U=G,H=Z;else if($<180)H=Z,z=G;else if($<240)H=G,z=Z;else if($<300)U=G,z=Z;else if($<=360)U=Z,z=G;return U=Math.round((U+q)*255),H=Math.round((H+q)*255),z=Math.round((z+q)*255),new M1(U,H,z,Y)}}class u{static fromHex(J){return u.Format.CSS.parseHex(J)||u.red}static equals(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;return J.equals($)}get hsla(){if(this._hsla)return this._hsla;else return b5.fromRGBA(this.rgba)}get hsva(){if(this._hsva)return this._hsva;return Wq.fromRGBA(this.rgba)}constructor(J){if(!J)throw new Error("Color needs a value");else if(J instanceof M1)this.rgba=J;else if(J instanceof b5)this._hsla=J,this.rgba=b5.toRGBA(J);else if(J instanceof Wq)this._hsva=J,this.rgba=Wq.toRGBA(J);else throw new Error("Invalid color ctor argument")}equals(J){return!!J&&M1.equals(this.rgba,J.rgba)&&b5.equals(this.hsla,J.hsla)&&Wq.equals(this.hsva,J.hsva)}getRelativeLuminance(){const J=u._relativeLuminanceForComponent(this.rgba.r),$=u._relativeLuminanceForComponent(this.rgba.g),X=u._relativeLuminanceForComponent(this.rgba.b),Q=0.2126*J+0.7152*$+0.0722*X;return iQ(Q,4)}static _relativeLuminanceForComponent(J){const $=J/255;return $<=0.03928?$/12.92:Math.pow(($+0.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1000>=128}isLighterThan(J){const $=this.getRelativeLuminance(),X=J.getRelativeLuminance();return $>X}isDarkerThan(J){const $=this.getRelativeLuminance(),X=J.getRelativeLuminance();return $<X}lighten(J){return new u(new b5(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*J,this.hsla.a))}darken(J){return new u(new b5(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*J,this.hsla.a))}transparent(J){const{r:$,g:X,b:Q,a:Y}=this.rgba;return new u(new M1($,X,Q,Y*J))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new u(new M1(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(J){if(this.isOpaque()||J.rgba.a!==1)return this;const{r:$,g:X,b:Q,a:Y}=this.rgba;return new u(new M1(J.rgba.r-Y*(J.rgba.r-$),J.rgba.g-Y*(J.rgba.g-X),J.rgba.b-Y*(J.rgba.b-Q),1))}toString(){if(!this._toString)this._toString=u.Format.CSS.format(this);return this._toString}static getLighterColor(J,$,X){if(J.isLighterThan($))return J;X=X?X:0.5;const Q=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return X=X*(Y-Q)/Y,J.lighten(X)}static getDarkerColor(J,$,X){if(J.isDarkerThan($))return J;X=X?X:0.5;const Q=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return X=X*(Q-Y)/Q,J.darken(X)}}var iQ;var S9=N(()=>{iQ=function(J,$){const X=Math.pow(10,$);return Math.round(J*X)/X};u.white=new u(new M1(255,255,255,1));u.black=new u(new M1(0,0,0,1));u.red=new u(new M1(255,0,0,1));u.blue=new u(new M1(0,0,255,1));u.green=new u(new M1(0,255,0,1));u.cyan=new u(new M1(0,255,255,1));u.lightgrey=new u(new M1(211,211,211,1));u.transparent=new u(new M1(0,0,0,0));(function(J){let $;(function(X){let Q;(function(Y){function Z(K){if(K.rgba.a===1)return`rgb(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b})`;return J.Format.CSS.formatRGBA(K)}Y.formatRGB=Z;function G(K){return`rgba(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b}, ${+K.rgba.a.toFixed(2)})`}Y.formatRGBA=G;function q(K){if(K.hsla.a===1)return`hsl(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%)`;return J.Format.CSS.formatHSLA(K)}Y.formatHSL=q;function U(K){return`hsla(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%, ${K.hsla.a.toFixed(2)})`}Y.formatHSLA=U;function H(K){const D=K.toString(16);return D.length!==2?"0"+D:D}function z(K){return`#${H(K.rgba.r)}${H(K.rgba.g)}${H(K.rgba.b)}`}Y.formatHex=z;function V(K,D=!1){if(D&&K.rgba.a===1)return J.Format.CSS.formatHex(K);return`#${H(K.rgba.r)}${H(K.rgba.g)}${H(K.rgba.b)}${H(Math.round(K.rgba.a*255))}`}Y.formatHexA=V;function W(K){if(K.isOpaque())return J.Format.CSS.formatHex(K);return J.Format.CSS.formatRGBA(K)}Y.format=W;function B(K){const D=K.length;if(D===0)return null;if(K.charCodeAt(0)!==35)return null;if(D===7){const A=16*j(K.charCodeAt(1))+j(K.charCodeAt(2)),P=16*j(K.charCodeAt(3))+j(K.charCodeAt(4)),R=16*j(K.charCodeAt(5))+j(K.charCodeAt(6));return new J(new M1(A,P,R,1))}if(D===9){const A=16*j(K.charCodeAt(1))+j(K.charCodeAt(2)),P=16*j(K.charCodeAt(3))+j(K.charCodeAt(4)),R=16*j(K.charCodeAt(5))+j(K.charCodeAt(6)),M=16*j(K.charCodeAt(7))+j(K.charCodeAt(8));return new J(new M1(A,P,R,M/255))}if(D===4){const A=j(K.charCodeAt(1)),P=j(K.charCodeAt(2)),R=j(K.charCodeAt(3));return new J(new M1(16*A+A,16*P+P,16*R+R))}if(D===5){const A=j(K.charCodeAt(1)),P=j(K.charCodeAt(2)),R=j(K.charCodeAt(3)),M=j(K.charCodeAt(4));return new J(new M1(16*A+A,16*P+P,16*R+R,(16*M+M)/255))}return null}Y.parseHex=B;function j(K){switch(K){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(Q=X.CSS||(X.CSS={}))})($=J.Format||(J.Format={}))})(u||(u={}))});function xv(J){if(!J||typeof J.getValue!=="function"||typeof J.positionAt!=="function")return[];return P70(J)}var Cv,GN,bH,A70,yv,Sv,vH,P70;var bv=N(()=>{S9();Cv=function(J){const $=[];for(let X of J){const Q=Number(X);if(Q||Q===0&&X.replace(/\s/g,"")!=="")$.push(Q)}return $},GN=function(J,$,X,Q){return{red:J/255,blue:X/255,green:$/255,alpha:Q}},bH=function(J,$){const X=$.index,Q=$[0].length;if(!X)return;const Y=J.positionAt(X);return{startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column+Q}},A70=function(J,$){if(!J)return;const X=u.Format.CSS.parseHex($);if(!X)return;return{range:J,color:GN(X.rgba.r,X.rgba.g,X.rgba.b,X.rgba.a)}},yv=function(J,$,X){if(!J||$.length!==1)return;const Y=$[0].values(),Z=Cv(Y);return{range:J,color:GN(Z[0],Z[1],Z[2],X?Z[3]:1)}},Sv=function(J,$,X){if(!J||$.length!==1)return;const Y=$[0].values(),Z=Cv(Y),G=new u(new b5(Z[0],Z[1]/100,Z[2]/100,X?Z[3]:1));return{range:J,color:GN(G.rgba.r,G.rgba.g,G.rgba.b,G.rgba.a)}},vH=function(J,$){if(typeof J==="string")return[...J.matchAll($)];else return J.findMatches($)},P70=function(J){const $=[],Q=vH(J,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Q.length>0)for(let Y of Q){const Z=Y.filter((H)=>H!==void 0),G=Z[1],q=Z[2];if(!q)continue;let U;if(G==="rgb"){const H=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;U=yv(bH(J,Y),vH(q,H),!1)}else if(G==="rgba"){const H=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=yv(bH(J,Y),vH(q,H),!0)}else if(G==="hsl"){const H=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;U=Sv(bH(J,Y),vH(q,H),!1)}else if(G==="hsla"){const H=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=Sv(bH(J,Y),vH(q,H),!0)}else if(G==="#")U=A70(bH(J,Y),G+q);if(U)$.push(U)}return $}});class vv extends gO{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(J){const $=[];for(let X=0;X<this._lines.length;X++){const Q=this._lines[X],Y=this.offsetAt(new b(X+1,1)),Z=Q.matchAll(J);for(let G of Z){if(G.index||G.index===0)G.index=G.index+Y;$.push(G)}}return $}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(J){return this._lines[J-1]}getWordAtPosition(J,$){const X=NQ(J.column,VB($),this._lines[J.lineNumber-1],0);if(X)return new L(J.lineNumber,X.startColumn,J.lineNumber,X.endColumn);return null}words(J){const $=this._lines,X=this._wordenize.bind(this);let Q=0,Y="",Z=0,G=[];return{*[Symbol.iterator](){while(!0)if(Z<G.length){const q=Y.substring(G[Z].start,G[Z].end);Z+=1,yield q}else if(Q<$.length)Y=$[Q],G=X(Y,J),Z=0,Q+=1;else break}}}getLineWords(J,$){const X=this._lines[J-1],Q=this._wordenize(X,$),Y=[];for(let Z of Q)Y.push({word:X.substring(Z.start,Z.end),startColumn:Z.start+1,endColumn:Z.end+1});return Y}_wordenize(J,$){const X=[];let Q;$.lastIndex=0;while(Q=$.exec(J)){if(Q[0].length===0)break;X.push({start:Q.index,end:Q.index+Q[0].length})}return X}getValueInRange(J){if(J=this._validateRange(J),J.startLineNumber===J.endLineNumber)return this._lines[J.startLineNumber-1].substring(J.startColumn-1,J.endColumn-1);const $=this._eol,X=J.startLineNumber-1,Q=J.endLineNumber-1,Y=[];Y.push(this._lines[X].substring(J.startColumn-1));for(let Z=X+1;Z<Q;Z++)Y.push(this._lines[Z]);return Y.push(this._lines[Q].substring(0,J.endColumn-1)),Y.join($)}offsetAt(J){return J=this._validatePosition(J),this._ensureLineStarts(),this._lineStarts.getPrefixSum(J.lineNumber-2)+(J.column-1)}positionAt(J){J=Math.floor(J),J=Math.max(0,J),this._ensureLineStarts();const $=this._lineStarts.getIndexOf(J),X=this._lines[$.index].length;return{lineNumber:1+$.index,column:1+Math.min($.remainder,X)}}_validateRange(J){const $=this._validatePosition({lineNumber:J.startLineNumber,column:J.startColumn}),X=this._validatePosition({lineNumber:J.endLineNumber,column:J.endColumn});if($.lineNumber!==J.startLineNumber||$.column!==J.startColumn||X.lineNumber!==J.endLineNumber||X.column!==J.endColumn)return{startLineNumber:$.lineNumber,startColumn:$.column,endLineNumber:X.lineNumber,endColumn:X.column};return J}_validatePosition(J){if(!b.isIPosition(J))throw new Error("bad position");let{lineNumber:$,column:X}=J,Q=!1;if($<1)$=1,X=1,Q=!0;else if($>this._lines.length)$=this._lines.length,X=this._lines[$-1].length+1,Q=!0;else{const Y=this._lines[$-1].length+1;if(X<1)X=1,Q=!0;else if(X>Y)X=Y,Q=!0}if(!Q)return J;else return{lineNumber:$,column:X}}}class _X{constructor(J,$){this._host=J,this._models=Object.create(null),this._foreignModuleFactory=$,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(J){return this._models[J]}_getModels(){const J=[];return Object.keys(this._models).forEach(($)=>J.push(this._models[$])),J}acceptNewModel(J){this._models[J.url]=new vv(I0.parse(J.url),J.lines,J.EOL,J.versionId)}acceptModelChanged(J,$){if(!this._models[J])return;this._models[J].onEvents($)}acceptRemovedModel(J){if(!this._models[J])return;delete this._models[J]}computeUnicodeHighlights(J,$,X){return nQ(this,void 0,void 0,function*(){const Q=this._getModel(J);if(!Q)return{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};return dO.computeUnicodeHighlights(Q,$,X)})}computeDiff(J,$,X,Q){return nQ(this,void 0,void 0,function*(){const Y=this._getModel(J),Z=this._getModel($);if(!Y||!Z)return null;return _X.computeDiff(Y,Z,X,Q)})}static computeDiff(J,$,X,Q){const Y=Q==="advanced"?ZN.getDefault():ZN.getLegacy(),Z=J.getLinesContent(),G=$.getLinesContent(),q=Y.computeDiff(Z,G,X),U=q.changes.length>0?!1:this._modelsAreIdentical(J,$);function H(z){return z.map((V)=>{var W;return[V.original.startLineNumber,V.original.endLineNumberExclusive,V.modified.startLineNumber,V.modified.endLineNumberExclusive,(W=V.innerChanges)===null||W===void 0?void 0:W.map((B)=>[B.originalRange.startLineNumber,B.originalRange.startColumn,B.originalRange.endLineNumber,B.originalRange.endColumn,B.modifiedRange.startLineNumber,B.modifiedRange.startColumn,B.modifiedRange.endLineNumber,B.modifiedRange.endColumn])]})}return{identical:U,quitEarly:q.hitTimeout,changes:H(q.changes),moves:q.moves.map((z)=>[z.lineRangeMapping.original.startLineNumber,z.lineRangeMapping.original.endLineNumberExclusive,z.lineRangeMapping.modified.startLineNumber,z.lineRangeMapping.modified.endLineNumberExclusive,H(z.changes)])}}static _modelsAreIdentical(J,$){const X=J.getLineCount(),Q=$.getLineCount();if(X!==Q)return!1;for(let Y=1;Y<=X;Y++){const Z=J.getLineContent(Y),G=$.getLineContent(Y);if(Z!==G)return!1}return!0}computeMoreMinimalEdits(J,$,X){return nQ(this,void 0,void 0,function*(){const Q=this._getModel(J);if(!Q)return $;const Y=[];let Z=void 0;$=$.slice(0).sort((q,U)=>{if(q.range&&U.range)return L.compareRangesUsingStarts(q.range,U.range);const H=q.range?0:1,z=U.range?0:1;return H-z});let G=0;for(let q=1;q<$.length;q++)if(L.getEndPosition($[G].range).equals(L.getStartPosition($[q].range)))$[G].range=L.fromPositions(L.getStartPosition($[G].range),L.getEndPosition($[q].range)),$[G].text+=$[q].text;else G++,$[G]=$[q];$.length=G+1;for(let{range:q,text:U,eol:H}of $){if(typeof H==="number")Z=H;if(L.isEmpty(q)&&!U)continue;const z=Q.getValueInRange(q);if(U=U.replace(/\r\n|\n|\r/g,Q.eol),z===U)continue;if(Math.max(U.length,z.length)>_X._diffLimit){Y.push({range:q,text:U});continue}const V=cb(z,U,X),W=Q.offsetAt(L.lift(q).getStartPosition());for(let B of V){const j=Q.positionAt(W+B.originalStart),K=Q.positionAt(W+B.originalStart+B.originalLength),D={text:U.substr(B.modifiedStart,B.modifiedLength),range:{startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:K.lineNumber,endColumn:K.column}};if(Q.getValueInRange(D.range)!==D.text)Y.push(D)}}if(typeof Z==="number")Y.push({eol:Z,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});return Y})}computeLinks(J){return nQ(this,void 0,void 0,function*(){const $=this._getModel(J);if(!$)return null;return ab($)})}computeDefaultDocumentColors(J){return nQ(this,void 0,void 0,function*(){const $=this._getModel(J);if(!$)return null;return xv($)})}textualSuggest(J,$,X,Q){return nQ(this,void 0,void 0,function*(){const Y=new G7,Z=new RegExp(X,Q),G=new Set;J:for(let q of J){const U=this._getModel(q);if(!U)continue;for(let H of U.words(Z)){if(H===$||!isNaN(Number(H)))continue;if(G.add(H),G.size>_X._suggestionsLimit)break J}}return{words:Array.from(G),duration:Y.elapsed()}})}computeWordRanges(J,$,X,Q){return nQ(this,void 0,void 0,function*(){const Y=this._getModel(J);if(!Y)return Object.create(null);const Z=new RegExp(X,Q),G=Object.create(null);for(let q=$.startLineNumber;q<$.endLineNumber;q++){const U=Y.getLineWords(q,Z);for(let H of U){if(!isNaN(Number(H.word)))continue;let z=G[H.word];if(!z)z=[],G[H.word]=z;z.push({startLineNumber:q,startColumn:H.startColumn,endLineNumber:q,endColumn:H.endColumn})}}return G})}navigateValueSet(J,$,X,Q,Y){return nQ(this,void 0,void 0,function*(){const Z=this._getModel(J);if(!Z)return null;const G=new RegExp(Q,Y);if($.startColumn===$.endColumn)$={startLineNumber:$.startLineNumber,startColumn:$.startColumn,endLineNumber:$.endLineNumber,endColumn:$.endColumn+1};const q=Z.getValueInRange($),U=Z.getWordAtPosition({lineNumber:$.startLineNumber,column:$.startColumn},G);if(!U)return null;const H=Z.getValueInRange(U);return NH.INSTANCE.navigateValueSet($,q,U,H,X)})}loadForeignModule(J,$,X){const Z={host:wS(X,(G,q)=>{return this._host.fhr(G,q)}),getMirrorModels:()=>{return this._getModels()}};if(this._foreignModuleFactory)return this._foreignModule=this._foreignModuleFactory(Z,$),Promise.resolve(MQ(this._foreignModule));return Promise.reject(new Error("Unexpected usage"))}fmr(J,$){if(!this._foreignModule||typeof this._foreignModule[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._foreignModule[J].apply(this._foreignModule,$))}catch(X){return Promise.reject(X)}}}var nQ;var fv=N(()=>{LF();l8();W1();u0();lb();k2();rb();ib();VM();r4();Jv();Ev();U9();bv();nQ=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};_X._diffLimit=1e5;_X._suggestionsLimit=1e4;if(typeof importScripts==="function")globalThis.monaco=jj()});var bF,vF;var fF=N(()=>{e0();bF=O0("textResourceConfigurationService"),vF=O0("textResourcePropertiesService")});var q1;var Y5=N(()=>{e0();q1=O0("ILanguageFeaturesService")});class pv{constructor(J,$,X,Q){this.languageConfigurationService=Q,this._debugDisplayName="wordbasedCompletions",this._workerManager=J,this._configurationService=$,this._modelService=X}provideCompletionItems(J,$){return gF(this,void 0,void 0,function*(){const X=this._configurationService.getValue(J.uri,$,"editor");if(!X.wordBasedSuggestions)return;const Q=[];if(X.wordBasedSuggestionsMode==="currentDocument"){if(GG(this._modelService,J.uri))Q.push(J.uri)}else for(let z of this._modelService.getModels()){if(!GG(this._modelService,z.uri))continue;if(z===J)Q.unshift(z.uri);else if(X.wordBasedSuggestionsMode==="allDocuments"||z.getLanguageId()===J.getLanguageId())Q.push(z.uri)}if(Q.length===0)return;const Y=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),Z=J.getWordAtPosition($),G=!Z?L.fromPositions($):new L($.lineNumber,Z.startColumn,$.lineNumber,Z.endColumn),q=G.setEndPosition($.lineNumber,$.column),H=yield(yield this._workerManager.withWorker()).textualSuggest(Q,Z===null||Z===void 0?void 0:Z.word,Y);if(!H)return;return{duration:H.duration,suggestions:H.words.map((z)=>{return{kind:18,label:z,insertText:z,range:{insert:q,replace:G}}})}})}}class mv extends f{constructor(J,$){super();this.languageConfigurationService=$,this._modelService=J,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date()).getTime(),this._register(new Y$).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(gv/2)),this._register(this._modelService.onModelRemoved((Q)=>this._checkStopEmptyWorker()))}dispose(){if(this._editorWorkerClient)this._editorWorkerClient.dispose(),this._editorWorkerClient=null;super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;if(this._modelService.getModels().length===0)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;if((new Date()).getTime()-this._lastWorkerUsedTime>gv)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}withWorker(){if(this._lastWorkerUsedTime=(new Date()).getTime(),!this._editorWorkerClient)this._editorWorkerClient=new mF(this._modelService,!1,"editorWorkerService",this.languageConfigurationService);return Promise.resolve(this._editorWorkerClient)}}class uv extends f{constructor(J,$,X){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=J,this._modelService=$,!X){const Q=new Y$;Q.cancelAndSet(()=>this._checkStopModelSync(),Math.round(hv/2)),this._register(Q)}}dispose(){for(let J in this._syncedModels)w1(this._syncedModels[J]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(J,$){for(let X of J){const Q=X.toString();if(!this._syncedModels[Q])this._beginModelSync(X,$);if(this._syncedModels[Q])this._syncedModelsLastUsedTime[Q]=(new Date()).getTime()}}_checkStopModelSync(){const J=(new Date()).getTime(),$=[];for(let X in this._syncedModelsLastUsedTime)if(J-this._syncedModelsLastUsedTime[X]>hv)$.push(X);for(let X of $)this._stopModelSync(X)}_beginModelSync(J,$){const X=this._modelService.getModel(J);if(!X)return;if(!$&&X.isTooLargeForSyncing())return;const Q=J.toString();this._proxy.acceptNewModel({url:X.uri.toString(),lines:X.getLinesContent(),EOL:X.getEOL(),versionId:X.getVersionId()});const Y=new e;Y.add(X.onDidChangeContent((Z)=>{this._proxy.acceptModelChanged(Q.toString(),Z)})),Y.add(X.onWillDispose(()=>{this._stopModelSync(Q)})),Y.add(N0(()=>{this._proxy.acceptRemovedModel(Q)})),this._syncedModels[Q]=Y}_stopModelSync(J){const $=this._syncedModels[J];delete this._syncedModels[J],delete this._syncedModelsLastUsedTime[J],w1($)}}class qN{constructor(J){this._instance=J,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class hF{constructor(J){this._workerClient=J}fhr(J,$){return this._workerClient.fhr(J,$)}}class mF extends f{constructor(J,$,X,Q){super();this.languageConfigurationService=Q,this._disposed=!1,this._modelService=J,this._keepIdleModels=$,this._workerFactory=new zH(X),this._worker=null,this._modelManager=null}fhr(J,$){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new $O(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new hF(this)))}catch(J){HH(J),this._worker=new qN(new _X(new hF(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(J)=>{return HH(J),this._worker=new qN(new _X(new hF(this),null)),this._getOrCreateWorker().getProxyObject()})}_getOrCreateModelManager(J){if(!this._modelManager)this._modelManager=this._register(new uv(J,this._modelService,this._keepIdleModels));return this._modelManager}_withSyncedResources(J,$=!1){return gF(this,void 0,void 0,function*(){if(this._disposed)return Promise.reject(_C());return this._getProxy().then((X)=>{return this._getOrCreateModelManager(X).ensureSyncedResources(J,$),X})})}computedUnicodeHighlights(J,$,X){return this._withSyncedResources([J]).then((Q)=>{return Q.computeUnicodeHighlights(J.toString(),$,X)})}computeDiff(J,$,X,Q){return this._withSyncedResources([J,$],!0).then((Y)=>{return Y.computeDiff(J.toString(),$.toString(),X,Q)})}computeMoreMinimalEdits(J,$,X){return this._withSyncedResources([J]).then((Q)=>{return Q.computeMoreMinimalEdits(J.toString(),$,X)})}computeLinks(J){return this._withSyncedResources([J]).then(($)=>{return $.computeLinks(J.toString())})}computeDefaultDocumentColors(J){return this._withSyncedResources([J]).then(($)=>{return $.computeDefaultDocumentColors(J.toString())})}textualSuggest(J,$,X){return gF(this,void 0,void 0,function*(){const Q=yield this._withSyncedResources(J),Y=X.source,Z=X.flags;return Q.textualSuggest(J.map((G)=>G.toString()),$,Y,Z)})}computeWordRanges(J,$){return this._withSyncedResources([J]).then((X)=>{const Q=this._modelService.getModel(J);if(!Q)return Promise.resolve(null);const Y=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId()).getWordDefinition(),Z=Y.source,G=Y.flags;return X.computeWordRanges(J.toString(),$,Z,G)})}navigateValueSet(J,$,X){return this._withSyncedResources([J]).then((Q)=>{const Y=this._modelService.getModel(J);if(!Y)return null;const Z=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition(),G=Z.source,q=Z.flags;return Q.navigateValueSet(J.toString(),$,X,G,q)})}dispose(){super.dispose(),this._disposed=!0}}var GG,D70,fH,gF,hv,gv,pF;var UN=N(()=>{f1();$0();YO();Hb();u0();b6();fv();UX();fF();V1();M5();r4();A1();Y5();yF();rQ();Q5();GG=function(J,$){const X=J.getModel($);if(!X)return!1;if(X.isTooLargeForSyncing())return!1;return!0},D70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},fH=function(J,$){return function(X,Q){$(X,Q,J)}},gF=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},hv=60000,gv=300000,pF=class J extends f{constructor($,X,Q,Y,Z){super();this._modelService=$,this._workerManager=this._register(new mv(this._modelService,Y)),this._logService=Q,this._register(Z.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(G,q)=>{if(!GG(this._modelService,G.uri))return Promise.resolve({links:[]});return this._workerManager.withWorker().then((U)=>U.computeLinks(G.uri)).then((U)=>{return U&&{links:U}})}})),this._register(Z.completionProvider.register("*",new pv(this._workerManager,X,this._modelService,Y)))}dispose(){super.dispose()}canComputeUnicodeHighlights($){return GG(this._modelService,$)}computedUnicodeHighlights($,X,Q){return this._workerManager.withWorker().then((Y)=>Y.computedUnicodeHighlights($,X,Q))}computeDiff($,X,Q,Y){return gF(this,void 0,void 0,function*(){const Z=yield this._workerManager.withWorker().then((U)=>U.computeDiff($,X,Q,Y));if(!Z)return null;return{identical:Z.identical,quitEarly:Z.quitEarly,changes:q(Z.changes),moves:Z.moves.map((U)=>new wH(new C5(new v0(U[0],U[1]),new v0(U[2],U[3])),q(U[4])))};function q(U){return U.map((H)=>{var z;return new v6(new v0(H[0],H[1]),new v0(H[2],H[3]),(z=H[4])===null||z===void 0?void 0:z.map((V)=>new x5(new L(V[0],V[1],V[2],V[3]),new L(V[4],V[5],V[6],V[7]))))})}})}computeMoreMinimalEdits($,X,Q=!1){if(F5(X)){if(!GG(this._modelService,$))return Promise.resolve(X);const Y=G7.create(),Z=this._workerManager.withWorker().then((G)=>G.computeMoreMinimalEdits($,X,Q));return Z.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",$.toString(!0),Y.elapsed())),Promise.race([Z,FX(1000).then(()=>X)])}else return Promise.resolve(void 0)}canNavigateValueSet($){return GG(this._modelService,$)}navigateValueSet($,X,Q){return this._workerManager.withWorker().then((Y)=>Y.navigateValueSet($,X,Q))}canComputeWordRanges($){return GG(this._modelService,$)}computeWordRanges($,X){return this._workerManager.withWorker().then((Q)=>Q.computeWordRanges($,X))}};pF=D70([fH(0,U7),fH(1,bF),fH(2,F7),fH(3,N8),fH(4,q1)],pF)});function cv(J,$,X){return new lv(J,$,X)}class lv extends mF{constructor(J,$,X){super(J,X.keepIdleModels||!1,X.label,$);this._foreignModuleId=X.moduleId,this._foreignModuleCreateData=X.createData||null,this._foreignModuleHost=X.host||null,this._foreignProxy=null}fhr(J,$){if(!this._foreignModuleHost||typeof this._foreignModuleHost[J]!=="function")return Promise.reject(new Error("Missing method "+J+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[J].apply(this._foreignModuleHost,$))}catch(X){return Promise.reject(X)}}_getForeignProxy(){if(!this._foreignProxy)this._foreignProxy=this._getProxy().then((J)=>{const $=this._foreignModuleHost?MQ(this._foreignModuleHost):[];return J.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,$).then((X)=>{this._foreignModuleCreateData=null;const Q=(G,q)=>{return J.fmr(G,q)},Y=(G,q)=>{return function(){const U=Array.prototype.slice.call(arguments,0);return q(G,U)}},Z={};for(let G of X)Z[G]=Y(G,Q);return Z})});return this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(J){return this._withSyncedResources(J).then(($)=>this.getProxy())}}var dv=N(()=>{U9();UN()});var oQ;var hH=N(()=>{oQ={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function uF(J,$){return new LZ([new i4(0,"",J)],$)}function Bq(J,$){const X=new Uint32Array(2);return X[0]=0,X[1]=(J<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new EQ(X,$===null?tQ:$)}var tQ;var gH=N(()=>{P6();tQ=new class{clone(){return this}equals(J){return this===J}}});class l7{static getLanguageId(J){return(J&255)>>>0}static getTokenType(J){return(J&768)>>>8}static containsBalancedBrackets(J){return(J&1024)!==0}static getFontStyle(J){return(J&30720)>>>11}static getForeground(J){return(J&16744448)>>>15}static getBackground(J){return(J&4278190080)>>>24}static getClassNameFromMetadata(J){let X="mtk"+this.getForeground(J);const Q=this.getFontStyle(J);if(Q&1)X+=" mtki";if(Q&2)X+=" mtkb";if(Q&4)X+=" mtku";if(Q&8)X+=" mtks";return X}static getInlineStyleFromMetadata(J,$){const X=this.getForeground(J),Q=this.getFontStyle(J);let Y=`color: ${$[X]};`;if(Q&1)Y+="font-style: italic;";if(Q&2)Y+="font-weight: bold;";let Z="";if(Q&4)Z+=" underline";if(Q&8)Z+=" line-through";if(Z)Y+=`text-decoration:${Z};`;return Y}static getPresentationFromMetadata(J){const $=this.getForeground(J),X=this.getFontStyle(J);return{foreground:$,italic:Boolean(X&1),bold:Boolean(X&2),underline:Boolean(X&4),strikethrough:Boolean(X&8)}}}var jq=N(()=>{});class T8{static createEmpty(J,$){const X=T8.defaultTokenMetadata,Q=new Uint32Array(2);return Q[0]=J.length,Q[1]=X,new T8(Q,J,$)}constructor(J,$,X){this._lineTokensBrand=void 0,this._tokens=J,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=X}equals(J){if(J instanceof T8)return this.slicedEquals(J,0,this._tokensCount);return!1}slicedEquals(J,$,X){if(this._text!==J._text)return!1;if(this._tokensCount!==J._tokensCount)return!1;const Q=$<<1,Y=Q+(X<<1);for(let Z=Q;Z<Y;Z++)if(this._tokens[Z]!==J._tokens[Z])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(J){if(J>0)return this._tokens[J-1<<1];return 0}getMetadata(J){return this._tokens[(J<<1)+1]}getLanguageId(J){const $=this._tokens[(J<<1)+1],X=l7.getLanguageId($);return this._languageIdCodec.decodeLanguageId(X)}getStandardTokenType(J){const $=this._tokens[(J<<1)+1];return l7.getTokenType($)}getForeground(J){const $=this._tokens[(J<<1)+1];return l7.getForeground($)}getClassName(J){const $=this._tokens[(J<<1)+1];return l7.getClassNameFromMetadata($)}getInlineStyle(J,$){const X=this._tokens[(J<<1)+1];return l7.getInlineStyleFromMetadata(X,$)}getPresentation(J){const $=this._tokens[(J<<1)+1];return l7.getPresentationFromMetadata($)}getEndOffset(J){return this._tokens[J<<1]}findTokenIndexAtOffset(J){return T8.findIndexInTokensArray(this._tokens,J)}inflate(){return this}sliceAndInflate(J,$,X){return new HN(this,J,$,X)}static convertToEndOffset(J,$){const Q=(J.length>>>1)-1;for(let Y=0;Y<Q;Y++)J[Y<<1]=J[Y+1<<1];J[Q<<1]=$}static findIndexInTokensArray(J,$){if(J.length<=2)return 0;let X=0,Q=(J.length>>>1)-1;while(X<Q){const Y=X+Math.floor((Q-X)/2),Z=J[Y<<1];if(Z===$)return Y+1;else if(Z<$)X=Y+1;else if(Z>$)Q=Y}return X}withInserted(J){if(J.length===0)return this;let $=0,X=0,Q="";const Y=new Array;let Z=0;while(!0){const G=$<this._tokensCount?this._tokens[$<<1]:-1,q=X<J.length?J[X]:null;if(G!==-1&&(q===null||G<=q.offset)){Q+=this._text.substring(Z,G);const U=this._tokens[($<<1)+1];Y.push(Q.length,U),$++,Z=G}else if(q){if(q.offset>Z){Q+=this._text.substring(Z,q.offset);const U=this._tokens[($<<1)+1];Y.push(Q.length,U),Z=q.offset}Q+=q.text,Y.push(Q.length,q.tokenMetadata),X++}else break}return new T8(new Uint32Array(Y),Q,this._languageIdCodec)}}class HN{constructor(J,$,X,Q){this._source=J,this._startOffset=$,this._endOffset=X,this._deltaOffset=Q,this._firstTokenIndex=J.findTokenIndexAtOffset($),this._tokensCount=0;for(let Y=this._firstTokenIndex,Z=J.getCount();Y<Z;Y++){if(J.getStartOffset(Y)>=X)break;this._tokensCount++}}getMetadata(J){return this._source.getMetadata(this._firstTokenIndex+J)}getLanguageId(J){return this._source.getLanguageId(this._firstTokenIndex+J)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(J){if(J instanceof HN)return this._startOffset===J._startOffset&&this._endOffset===J._endOffset&&this._deltaOffset===J._deltaOffset&&this._source.slicedEquals(J._source,this._firstTokenIndex,this._tokensCount);return!1}getCount(){return this._tokensCount}getForeground(J){return this._source.getForeground(this._firstTokenIndex+J)}getEndOffset(J){const $=this._source.getEndOffset(this._firstTokenIndex+J);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(J){return this._source.getClassName(this._firstTokenIndex+J)}getInlineStyle(J,$){return this._source.getInlineStyle(this._firstTokenIndex+J,$)}getPresentation(J){return this._source.getPresentation(this._firstTokenIndex+J)}findTokenIndexAtOffset(J){return this._source.findTokenIndexAtOffset(J+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}var wX=N(()=>{jq();T8.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0});class C9{constructor(J,$,X,Q){this.startColumn=J,this.endColumn=$,this.className=X,this.type=Q,this._lineDecorationBrand=void 0}static _equals(J,$){return J.startColumn===$.startColumn&&J.endColumn===$.endColumn&&J.className===$.className&&J.type===$.type}static equalsArr(J,$){const X=J.length,Q=$.length;if(X!==Q)return!1;for(let Y=0;Y<X;Y++)if(!C9._equals(J[Y],$[Y]))return!1;return!0}static extractWrapped(J,$,X){if(J.length===0)return J;const Q=$+1,Y=X+1,Z=X-$,G=[];let q=0;for(let U of J){if(U.endColumn<=Q||U.startColumn>=Y)continue;G[q++]=new C9(Math.max(1,U.startColumn-Q+1),Math.min(Z+1,U.endColumn-Q+1),U.className,U.type)}return G}static filter(J,$,X,Q){if(J.length===0)return[];const Y=[];let Z=0;for(let G=0,q=J.length;G<q;G++){const U=J[G],H=U.range;if(H.endLineNumber<$||H.startLineNumber>$)continue;if(H.isEmpty()&&(U.type===0||U.type===3))continue;const z=H.startLineNumber===$?H.startColumn:X,V=H.endLineNumber===$?H.endColumn:Q;Y[Z++]=new C9(z,V,U.inlineClassName,U.type)}return Y}static _typeCompare(J,$){const X=[2,0,1,3];return X[J]-X[$]}static compare(J,$){if(J.startColumn!==$.startColumn)return J.startColumn-$.startColumn;if(J.endColumn!==$.endColumn)return J.endColumn-$.endColumn;const X=C9._typeCompare(J.type,$.type);if(X!==0)return X;if(J.className!==$.className)return J.className<$.className?-1:1;return 0}}class zN{constructor(J,$,X,Q){this.startOffset=J,this.endOffset=$,this.className=X,this.metadata=Q}}class cF{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(J){let $=0;for(let X=0,Q=J.length;X<Q;X++)$|=J[X];return $}consumeLowerThan(J,$,X){while(this.count>0&&this.stopOffsets[0]<J){let Q=0;while(Q+1<this.count&&this.stopOffsets[Q]===this.stopOffsets[Q+1])Q++;X.push(new zN($,this.stopOffsets[Q],this.classNames.join(" "),cF._metadata(this.metadata))),$=this.stopOffsets[Q]+1,this.stopOffsets.splice(0,Q+1),this.classNames.splice(0,Q+1),this.metadata.splice(0,Q+1),this.count-=Q+1}if(this.count>0&&$<J)X.push(new zN($,J-1,this.classNames.join(" "),cF._metadata(this.metadata))),$=J;return $}insert(J,$,X){if(this.count===0||this.stopOffsets[this.count-1]<=J)this.stopOffsets.push(J),this.classNames.push($),this.metadata.push(X);else for(let Q=0;Q<this.count;Q++)if(this.stopOffsets[Q]>=J){this.stopOffsets.splice(Q,0,J),this.classNames.splice(Q,0,$),this.metadata.splice(Q,0,X);break}this.count++;return}}class VN{static normalize(J,$){if($.length===0)return[];const X=[],Q=new cF;let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];let{startColumn:U,endColumn:H}=q;const z=q.className,V=q.type===1?2:q.type===2?4:0;if(U>1){const j=J.charCodeAt(U-2);if(U8(j))U--}if(H>1){const j=J.charCodeAt(H-2);if(U8(j))H--}const W=U-1,B=H-2;if(Y=Q.consumeLowerThan(W,Y,X),Q.count===0)Y=W;Q.insert(B,z,V)}return Q.consumeLowerThan(1073741824,Y,X),X}}var lF=N(()=>{l0()});class z7{constructor(J,$,X,Q){this.endIndex=J,this.type=$,this.metadata=X,this.containsRTL=Q,this._linePartBrand=void 0}isWhitespace(){return this.metadata&1?!0:!1}isPseudoAfter(){return this.metadata&4?!0:!1}}var av=N(()=>{});function mH(J,$){if(J.lineContent.length===0){if(J.lineDecorations.length>0){$.appendString("<span>");let X=0,Q=0,Y=0;for(let G of J.lineDecorations)if(G.type===1||G.type===2){if($.appendString('<span class="'),$.appendString(G.className),$.appendString('"></span>'),G.type===1)Y|=1,X++;if(G.type===2)Y|=2,Q++}$.appendString("</span>");const Z=new q$(1,X+Q);return Z.setColumnInfo(1,X,0,0),new dF(Z,!1,Y)}return $.appendString("<span><span></span></span>"),new dF(new q$(0,0),!1,0)}return w70(R70(J),$)}function Fq(J){const $=new KX(1e4),X=mH(J,$);return new rv(X.characterMapping,$.build(),X.containsRTL,X.containsForeignElements)}class pH{constructor(J,$){this.startOffset=J,this.endOffset=$}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class q4{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,W,B,j,K,D,A,P){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=X,this.continuesWithWrappedLine=Q,this.isBasicASCII=Y,this.containsRTL=Z,this.fauxIndentLength=G,this.lineTokens=q,this.lineDecorations=U.sort(C9.compare),this.tabSize=H,this.startVisibleColumn=z,this.spaceWidth=V,this.stopRenderingLineAfter=j,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=D,this.fontLigatures=A,this.selectionsOnLine=P&&P.sort((T,_)=>T.startOffset<_.startOffset?-1:1);const R=Math.abs(B-V),M=Math.abs(W-V);if(R<M)this.renderSpaceWidth=B,this.renderSpaceCharCode=11825;else this.renderSpaceWidth=W,this.renderSpaceCharCode=183}sameSelection(J){if(this.selectionsOnLine===null)return J===null;if(J===null)return!1;if(J.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(J[$]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&C9.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class sF{constructor(J,$){this.partIndex=J,this.charIndex=$}}class q${static getPartIndex(J){return(J&4294901760)>>>16}static getCharIndex(J){return(J&65535)>>>0}constructor(J,$){this.length=J,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(J,$,X,Q){const Y=($<<16|X<<0)>>>0;this._data[J-1]=Y,this._horizontalOffset[J-1]=Q}getHorizontalOffset(J){if(this._horizontalOffset.length===0)return 0;return this._horizontalOffset[J-1]}charOffsetToPartData(J){if(this.length===0)return 0;if(J<0)return this._data[0];if(J>=this.length)return this._data[this.length-1];return this._data[J]}getDomPosition(J){const $=this.charOffsetToPartData(J-1),X=q$.getPartIndex($),Q=q$.getCharIndex($);return new sF(X,Q)}getColumn(J,$){return this.partDataToCharOffset(J.partIndex,$,J.charIndex)+1}partDataToCharOffset(J,$,X){if(this.length===0)return 0;const Q=(J<<16|X<<0)>>>0;let Y=0,Z=this.length-1;while(Y+1<Z){const j=Y+Z>>>1,K=this._data[j];if(K===Q)return j;else if(K>Q)Z=j;else Y=j}if(Y===Z)return Y;const G=this._data[Y],q=this._data[Z];if(G===Q)return Y;if(q===Q)return Z;const U=q$.getPartIndex(G),H=q$.getCharIndex(G),z=q$.getPartIndex(q);let V;if(U!==z)V=$;else V=q$.getCharIndex(q);const W=X-H,B=V-X;if(W<=B)return Y;return Z}}class dF{constructor(J,$,X){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=$,this.containsForeignElements=X}}class rv{constructor(J,$,X,Q){this.characterMapping=J,this.html=$,this.containsRTL=X,this.containsForeignElements=Q}}class iv{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,W,B,j,K){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=X,this.len=Q,this.isOverflowing=Y,this.overflowingCharCount=Z,this.parts=G,this.containsForeignElements=q,this.fauxIndentLength=U,this.tabSize=H,this.startVisibleColumn=z,this.containsRTL=V,this.spaceWidth=W,this.renderSpaceCharCode=B,this.renderWhitespace=j,this.renderControlCharacters=K}}var R70,M70,O70,nv,N70,T70,_70,w70,L70,I70;var Kq=N(()=>{m0();l0();dZ();lF();av();R70=function(J){const $=J.lineContent;let X,Q,Y;if(J.stopRenderingLineAfter!==-1&&J.stopRenderingLineAfter<$.length)X=!0,Q=$.length-J.stopRenderingLineAfter,Y=J.stopRenderingLineAfter;else X=!1,Q=0,Y=$.length;let Z=M70($,J.containsRTL,J.lineTokens,J.fauxIndentLength,Y);if(J.renderControlCharacters&&!J.isBasicASCII)Z=N70($,Z);if(J.renderWhitespace===4||J.renderWhitespace===1||J.renderWhitespace===2&&!!J.selectionsOnLine||J.renderWhitespace===3&&!J.continuesWithWrappedLine)Z=T70(J,$,Y,Z);let G=0;if(J.lineDecorations.length>0){for(let q=0,U=J.lineDecorations.length;q<U;q++){const H=J.lineDecorations[q];if(H.type===3)G|=1;else if(H.type===1)G|=1;else if(H.type===2)G|=2}Z=_70($,Y,Z,J.lineDecorations)}if(!J.containsRTL)Z=O70($,Z,!J.isBasicASCII||J.fontLigatures);return new iv(J.useMonospaceOptimizations,J.canUseHalfwidthRightwardsArrow,$,Y,X,Q,Z,G,J.fauxIndentLength,J.tabSize,J.startVisibleColumn,J.containsRTL,J.spaceWidth,J.renderSpaceCharCode,J.renderWhitespace,J.renderControlCharacters)},M70=function(J,$,X,Q,Y){const Z=[];let G=0;if(Q>0)Z[G++]=new z7(Q,"",0,!1);let q=Q;for(let U=0,H=X.getCount();U<H;U++){const z=X.getEndOffset(U);if(z<=Q)continue;const V=X.getClassName(U);if(z>=Y){const B=$?YX(J.substring(q,Y)):!1;Z[G++]=new z7(Y,V,0,B);break}const W=$?YX(J.substring(q,z)):!1;Z[G++]=new z7(z,V,0,W),q=z}return Z},O70=function(J,$,X){let Q=0;const Y=[];let Z=0;if(X)for(let G=0,q=$.length;G<q;G++){const U=$[G],H=U.endIndex;if(Q+50<H){const{type:z,metadata:V,containsRTL:W}=U;let B=-1,j=Q;for(let K=Q;K<H;K++){if(J.charCodeAt(K)===32)B=K;if(B!==-1&&K-j>=50)Y[Z++]=new z7(B+1,z,V,W),j=B+1,B=-1}if(j!==H)Y[Z++]=new z7(H,z,V,W)}else Y[Z++]=U;Q=H}else for(let G=0,q=$.length;G<q;G++){const U=$[G],H=U.endIndex,z=H-Q;if(z>50){const{type:V,metadata:W,containsRTL:B}=U,j=Math.ceil(z/50);for(let K=1;K<j;K++){const D=Q+K*50;Y[Z++]=new z7(D,V,W,B)}Y[Z++]=new z7(H,V,W,B)}else Y[Z++]=U;Q=H}return Y},nv=function(J){if(J<32)return J!==9;if(J===127)return!0;if(J>=8234&&J<=8238||J>=8294&&J<=8297||J>=8206&&J<=8207||J===1564)return!0;return!1},N70=function(J,$){const X=[];let Q=new z7(0,"",0,!1),Y=0;for(let Z of $){const G=Z.endIndex;for(;Y<G;Y++){const q=J.charCodeAt(Y);if(nv(q)){if(Y>Q.endIndex)Q=new z7(Y,Z.type,Z.metadata,Z.containsRTL),X.push(Q);Q=new z7(Y+1,"mtkcontrol",Z.metadata,!1),X.push(Q)}}if(Y>Q.endIndex)Q=new z7(G,Z.type,Z.metadata,Z.containsRTL),X.push(Q)}return X},T70=function(J,$,X,Q){const{continuesWithWrappedLine:Y,fauxIndentLength:Z,tabSize:G,startVisibleColumn:q,useMonospaceOptimizations:U,selectionsOnLine:H}=J,z=J.renderWhitespace===1,V=J.renderWhitespace===3,W=J.renderSpaceWidth!==J.spaceWidth,B=[];let j=0,K=0,D=Q[K].type,A=Q[K].containsRTL,P=Q[K].endIndex;const R=Q.length;let M=!1,T=k8($),_;if(T===-1)M=!0,T=X,_=X;else _=o9($);let w=!1,x=0,C=H&&H[x],h=q%G;for(let r=Z;r<X;r++){const m=$.charCodeAt(r);if(C&&r>=C.endOffset)x++,C=H&&H[x];let c;if(r<T||r>_)c=!0;else if(m===9)c=!0;else if(m===32)if(z)if(w)c=!0;else{const Q0=r+1<X?$.charCodeAt(r+1):0;c=Q0===32||Q0===9}else c=!0;else c=!1;if(c&&H)c=!!C&&C.startOffset<=r&&C.endOffset>r;if(c&&V)c=M||r>_;if(c&&A){if(r>=T&&r<=_)c=!1}if(w){if(!c||!U&&h>=G){if(W){const Q0=j>0?B[j-1].endIndex:Z;for(let K0=Q0+1;K0<=r;K0++)B[j++]=new z7(K0,"mtkw",1,!1)}else B[j++]=new z7(r,"mtkw",1,!1);h=h%G}}else if(r===P||c&&r>Z)B[j++]=new z7(r,D,0,A),h=h%G;if(m===9)h=G;else if(D5(m))h+=2;else h++;w=c;while(r===P)if(K++,K<R)D=Q[K].type,A=Q[K].containsRTL,P=Q[K].endIndex;else break}let p=!1;if(w)if(Y&&z){const r=X>0?$.charCodeAt(X-1):0,m=X>1?$.charCodeAt(X-2):0;if(!(r===32&&(m!==32&&m!==9)))p=!0}else p=!0;if(p)if(W){const r=j>0?B[j-1].endIndex:Z;for(let m=r+1;m<=X;m++)B[j++]=new z7(m,"mtkw",1,!1)}else B[j++]=new z7(X,"mtkw",1,!1);else B[j++]=new z7(X,D,0,A);return B},_70=function(J,$,X,Q){Q.sort(C9.compare);const Y=VN.normalize(J,Q),Z=Y.length;let G=0;const q=[];let U=0,H=0;for(let V=0,W=X.length;V<W;V++){const B=X[V],j=B.endIndex,K=B.type,D=B.metadata,A=B.containsRTL;while(G<Z&&Y[G].startOffset<j){const P=Y[G];if(P.startOffset>H)H=P.startOffset,q[U++]=new z7(H,K,D,A);if(P.endOffset+1<=j)H=P.endOffset+1,q[U++]=new z7(H,K+" "+P.className,D|P.metadata,A),G++;else{H=j,q[U++]=new z7(H,K+" "+P.className,D|P.metadata,A);break}}if(j>H)H=j,q[U++]=new z7(H,K,D,A)}const z=X[X.length-1].endIndex;if(G<Z&&Y[G].startOffset===z)while(G<Z&&Y[G].startOffset===z){const V=Y[G];q[U++]=new z7(H,V.className,V.metadata,!1),G++}return q},w70=function(J,$){const{fontIsMonospace:X,canUseHalfwidthRightwardsArrow:Q,containsForeignElements:Y,lineContent:Z,len:G,isOverflowing:q,overflowingCharCount:U,parts:H,fauxIndentLength:z,tabSize:V,startVisibleColumn:W,containsRTL:B,spaceWidth:j,renderSpaceCharCode:K,renderWhitespace:D,renderControlCharacters:A}=J,P=new q$(G+1,H.length);let R=!1,M=0,T=W,_=0,w=0,x=0;if(B)$.appendString('<span dir="ltr">');else $.appendString("<span>");for(let C=0,h=H.length;C<h;C++){const p=H[C],r=p.endIndex,m=p.type,c=p.containsRTL,Q0=D!==0&&p.isWhitespace(),K0=Q0&&!X&&(m==="mtkw"||!Y),B0=M===r&&p.isPseudoAfter();if(_=0,$.appendString("<span "),c)$.appendString('style="unicode-bidi:isolate" ');if($.appendString('class="'),$.appendString(K0?"mtkz":m),$.appendASCIICharCode(34),Q0){let P0=0;{let H0=M,s0=T;for(;H0<r;H0++){const w0=(Z.charCodeAt(H0)===9?V-s0%V:1)|0;if(P0+=w0,H0>=z)s0+=w0}}if(K0)$.appendString(' style="width:'),$.appendString(String(j*P0)),$.appendString('px"');$.appendASCIICharCode(62);for(;M<r;M++){P.setColumnInfo(M+1,C-x,_,w),x=0;const H0=Z.charCodeAt(M);let s0,k0;if(H0===9){if(s0=V-T%V|0,k0=s0,!Q||k0>1)$.appendCharCode(8594);else $.appendCharCode(65515);for(let w0=2;w0<=k0;w0++)$.appendCharCode(160)}else s0=2,k0=1,$.appendCharCode(K),$.appendCharCode(8204);if(_+=s0,w+=k0,M>=z)T+=k0}}else{$.appendASCIICharCode(62);for(;M<r;M++){P.setColumnInfo(M+1,C-x,_,w),x=0;const P0=Z.charCodeAt(M);let H0=1,s0=1;switch(P0){case 9:H0=V-T%V,s0=H0;for(let k0=1;k0<=H0;k0++)$.appendCharCode(160);break;case 32:$.appendCharCode(160);break;case 60:$.appendString("&lt;");break;case 62:$.appendString("&gt;");break;case 38:$.appendString("&amp;");break;case 0:if(A)$.appendCharCode(9216);else $.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:$.appendCharCode(65533);break;default:if(D5(P0))s0++;if(A&&P0<32)$.appendCharCode(9216+P0);else if(A&&P0===127)$.appendCharCode(9249);else if(A&&nv(P0))$.appendString("[U+"),$.appendString(L70(P0)),$.appendString("]"),H0=8,s0=H0;else $.appendCharCode(P0)}if(_+=H0,w+=s0,M>=z)T+=s0}}if(B0)x++;else x=0;if(M>=G&&!R&&p.isPseudoAfter())R=!0,P.setColumnInfo(M+1,C,_,w);$.appendString("</span>")}if(!R)P.setColumnInfo(G+1,H.length-1,_,w);if(q)$.appendString('<span class="mtkoverflow">'),$.appendString(F("showMore","Show more ({0})",I70(U))),$.appendString("</span>");return $.appendString("</span>"),new dF(P,B,Y)},L70=function(J){return J.toString(16).toUpperCase().padStart(4,"0")},I70=function(J){if(J<1024)return F("overflow.chars","{0} chars",J);if(J<1048576)return`${(J/1024).toFixed(1)} KB`;return`${(J/1024/1024).toFixed(1)} MB`}});class aF{constructor(J,$,X,Q){this._viewportBrand=void 0,this.top=J|0,this.left=$|0,this.width=X|0,this.height=Q|0}}class WN{constructor(J,$){this.tabSize=J,this.data=$}}class Aq{constructor(J,$,X,Q,Y,Z,G){this._viewLineDataBrand=void 0,this.content=J,this.continuesWithWrappedLine=$,this.minColumn=X,this.maxColumn=Q,this.startVisibleColumn=Y,this.tokens=Z,this.inlineDecorations=G}}class f6{constructor(J,$,X,Q,Y,Z,G,q,U,H){this.minColumn=J,this.maxColumn=$,this.content=X,this.continuesWithWrappedLine=Q,this.isBasicASCII=f6.isBasicASCII(X,Z),this.containsRTL=f6.containsRTL(X,this.isBasicASCII,Y),this.tokens=G,this.inlineDecorations=q,this.tabSize=U,this.startVisibleColumn=H}static isBasicASCII(J,$){if($)return l2(J);return!0}static containsRTL(J,$,X){if(!$&&X)return YX(J);return!1}}class eQ{constructor(J,$,X){this.range=J,this.inlineClassName=$,this.type=X}}class BN{constructor(J,$,X,Q){this.startOffset=J,this.endOffset=$,this.inlineClassName=X,this.inlineClassNameAffectsLetterSpacing=Q}toInlineDecoration(J){return new eQ(new L(J,this.startOffset+1,J,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class uH{constructor(J,$){this._viewModelDecorationBrand=void 0,this.range=J,this.options=$}}class qG{constructor(J,$,X){this.color=J,this.zIndex=$,this.data=X}static compareByRenderingProps(J,$){if(J.zIndex===$.zIndex){if(J.color<$.color)return-1;if(J.color>$.color)return 1;return 0}return J.zIndex-$.zIndex}static equals(J,$){return J.color===$.color&&J.zIndex===$.zIndex&&$8(J.data,$.data)}static equalsArr(J,$){return $8(J,$,qG.equals)}}var MJ=N(()=>{V1();l0();u0()});function k70(J){return Array.isArray(J)}function ov(J){return!k70(J)}function jN(J){return typeof J==="string"}function FN(J){return!jN(J)}function UG(J){return J?!1:!0}function U$(J,$){return J.ignoreCase&&$?$.toLowerCase():$}function KN(J){return J.replace(/[&<>'"_]/g,"-")}function tv(J,$){console.log(`${J.languageId}: ${$}`)}function r1(J,$){return new Error(`${J.languageId}: ${$}`)}function H$(J,$,X,Q,Y){const Z=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let G=null;return $.replace(Z,function(q,U,H,z,V,W,B,j,K){if(!UG(H))return"$";if(!UG(z))return U$(J,X);if(!UG(V)&&V<Q.length)return U$(J,Q[V]);if(!UG(B)&&J&&typeof J[B]==="string")return J[B];if(G===null)G=Y.split("."),G.unshift(Y);if(!UG(W)&&W<G.length)return U$(J,G[W]);return""})}function cH(J,$){let X=$;while(X&&X.length>0){const Q=J.tokenizer[X];if(Q)return Q;const Y=X.lastIndexOf(".");if(Y<0)X=null;else X=X.substr(0,Y)}return null}function ev(J,$){let X=$;while(X&&X.length>0){if(J.stateNames[X])return!0;const Y=X.lastIndexOf(".");if(Y<0)X=null;else X=X.substr(0,Y)}return!1}var AN=N(()=>{});class Rq{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if(J!==null&&J.depth>=this._maxCacheDepth)return new Dq(J,$);let X=Dq.getStackElementId(J);if(X.length>0)X+="|";X+=$;let Q=this._entries[X];if(Q)return Q;return Q=new Dq(J,$),this._entries[X]=Q,Q}}class Dq{constructor(J,$){this.parent=J,this.state=$,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(J){let $="";while(J!==null){if($.length>0)$+="|";$+=J.state,J=J.parent}return $}static _equals(J,$){while(J!==null&&$!==null){if(J===$)return!0;if(J.state!==$.state)return!1;J=J.parent,$=$.parent}if(J===null&&$===null)return!0;return!1}equals(J){return Dq._equals(this,J)}push(J){return Rq.create(this,J)}pop(){return this.parent}popall(){let J=this;while(J.parent)J=J.parent;return J}switchTo(J){return Rq.create(this.parent,J)}}class Pq{constructor(J,$){this.languageId=J,this.state=$}equals(J){return this.languageId===J.languageId&&this.state.equals(J.state)}clone(){if(this.state.clone()===this.state)return this;return new Pq(this.languageId,this.state)}}class LX{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if($!==null)return new lH(J,$);if(J!==null&&J.depth>=this._maxCacheDepth)return new lH(J,$);const X=Dq.getStackElementId(J);let Q=this._entries[X];if(Q)return Q;return Q=new lH(J,null),this._entries[X]=Q,Q}}class lH{constructor(J,$){this.stack=J,this.embeddedLanguageData=$}clone(){if((this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData)return this;return LX.create(this.stack,this.embeddedLanguageData)}equals(J){if(!(J instanceof lH))return!1;if(!this.stack.equals(J.stack))return!1;if(this.embeddedLanguageData===null&&J.embeddedLanguageData===null)return!0;if(this.embeddedLanguageData===null||J.embeddedLanguageData===null)return!1;return this.embeddedLanguageData.equals(J.embeddedLanguageData)}}class Xf{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(J){this._languageId=J}emit(J,$){if(this._lastTokenType===$&&this._lastTokenLanguage===this._languageId)return;this._lastTokenType=$,this._lastTokenLanguage=this._languageId,this._tokens.push(new i4(J,$,this._languageId))}nestedLanguageTokenize(J,$,X,Q){const{languageId:Y,state:Z}=X,G=g1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(Q,""),Z;const q=G.tokenize(J,$,Z);if(Q!==0)for(let U of q.tokens)this._tokens.push(new i4(U.offset+Q,U.type,U.language));else this._tokens=this._tokens.concat(q.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,q.endState}finalize(J){return new LZ(this._tokens,J)}}class rF{constructor(J,$){this._languageService=J,this._theme=$,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(J){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(J)}emit(J,$){const X=this._theme.match(this._currentLanguageId,$)|1024;if(this._lastTokenMetadata===X)return;this._lastTokenMetadata=X,this._tokens.push(J),this._tokens.push(X)}static _merge(J,$,X){const Q=J!==null?J.length:0,Y=$.length,Z=X!==null?X.length:0;if(Q===0&&Y===0&&Z===0)return new Uint32Array(0);if(Q===0&&Y===0)return X;if(Y===0&&Z===0)return J;const G=new Uint32Array(Q+Y+Z);if(J!==null)G.set(J);for(let q=0;q<Y;q++)G[Q+q]=$[q];if(X!==null)G.set(X,Q+Y);return G}nestedLanguageTokenize(J,$,X,Q){const{languageId:Y,state:Z}=X,G=g1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(Q,""),Z;const q=G.tokenizeEncoded(J,$,Z);if(Q!==0)for(let U=0,H=q.tokens.length;U<H;U+=2)q.tokens[U]+=Q;return this._prependTokens=rF._merge(this._prependTokens,this._tokens,q.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,q.endState}finalize(J){return new EQ(rF._merge(this._prependTokens,this._tokens,null),J)}}var S70,E70,y70,PN,$f,HG;var DN=N(()=>{$0();P6();gH();AN();y9();S70=function(J,$){if(!$)return null;$=U$(J,$);const X=J.brackets;for(let Q of X)if(Q.open===$)return{token:Q.token,bracketType:1};else if(Q.close===$)return{token:Q.token,bracketType:-1};return null},E70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},y70=function(J,$){return function(X,Q){$(X,Q,J)}},$f=5;Rq._INSTANCE=new Rq($f);LX._INSTANCE=new LX($f);HG=PN=class J extends f{constructor($,X,Q,Y,Z){super();this._configurationService=Z,this._languageService=$,this._standaloneThemeService=X,this._languageId=Q,this._lexer=Y,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let G=!1;this._register(g1.onDidChange((q)=>{if(G)return;let U=!1;for(let H=0,z=q.changedLanguages.length;H<z;H++){const V=q.changedLanguages[H];if(this._embeddedLanguages[V]){U=!0;break}}if(U)G=!0,g1.handleChange([this._languageId]),G=!1})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((q)=>{if(q.affectsConfiguration("editor.maxTokenizationLineLength"))this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId})}))}getLoadStatus(){const $=[];for(let X in this._embeddedLanguages){const Q=g1.get(X);if(Q){if(Q instanceof PN){const Y=Q.getLoadStatus();if(Y.loaded===!1)$.push(Y.promise)}continue}if(!g1.isResolved(X))$.push(g1.getOrCreate(X))}if($.length===0)return{loaded:!0};return{loaded:!1,promise:Promise.all($).then((X)=>{return})}}getInitialState(){const $=Rq.create(null,this._lexer.start);return LX.create($,null)}tokenize($,X,Q){if($.length>=this._maxTokenizationLineLength)return uF(this._languageId,Q);const Y=new Xf,Z=this._tokenize($,X,Q,Y);return Y.finalize(Z)}tokenizeEncoded($,X,Q){if($.length>=this._maxTokenizationLineLength)return Bq(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),Q);const Y=new rF(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Z=this._tokenize($,X,Q,Y);return Y.finalize(Z)}_tokenize($,X,Q,Y){if(Q.embeddedLanguageData)return this._nestedTokenize($,X,Q,0,Y);else return this._myTokenize($,X,Q,0,Y)}_findLeavingNestedLanguageOffset($,X){let Q=this._lexer.tokenizer[X.stack.state];if(!Q){if(Q=cH(this._lexer,X.stack.state),!Q)throw r1(this._lexer,"tokenizer state is not defined: "+X.stack.state)}let Y=-1,Z=!1;for(let G of Q){if(!FN(G.action)||G.action.nextEmbedded!=="@pop")continue;Z=!0;let q=G.regex;const U=G.regex.source;if(U.substr(0,4)==="^(?:"&&U.substr(U.length-1,1)===")"){const z=(q.ignoreCase?"i":"")+(q.unicode?"u":"");q=new RegExp(U.substr(4,U.length-5),z)}const H=$.search(q);if(H===-1||H!==0&&G.matchOnlyAtLineStart)continue;if(Y===-1||H<Y)Y=H}if(!Z)throw r1(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+X.stack.state);return Y}_nestedTokenize($,X,Q,Y,Z){const G=this._findLeavingNestedLanguageOffset($,Q);if(G===-1){const H=Z.nestedLanguageTokenize($,X,Q.embeddedLanguageData,Y);return LX.create(Q.stack,new Pq(Q.embeddedLanguageData.languageId,H))}const q=$.substring(0,G);if(q.length>0)Z.nestedLanguageTokenize(q,!1,Q.embeddedLanguageData,Y);const U=$.substring(G);return this._myTokenize(U,X,Q,Y+G,Z)}_safeRuleName($){if($)return $.name;return"(unknown)"}_myTokenize($,X,Q,Y,Z){Z.enterLanguage(this._languageId);const G=$.length,q=X&&this._lexer.includeLF?$+"\n":$,U=q.length;let{embeddedLanguageData:H,stack:z}=Q,V=0,W=null,B=!0;while(B||V<U){const j=V,K=z.depth,D=W?W.groups.length:0,A=z.state;let P=null,R=null,M=null,T=null,_=null;if(W){P=W.matches;const C=W.groups.shift();if(R=C.matched,M=C.action,T=W.rule,W.groups.length===0)W=null}else{if(!B&&V>=U)break;B=!1;let C=this._lexer.tokenizer[A];if(!C){if(C=cH(this._lexer,A),!C)throw r1(this._lexer,"tokenizer state is not defined: "+A)}const h=q.substr(V);for(let p of C)if(V===0||!p.matchOnlyAtLineStart){if(P=h.match(p.regex),P){R=P[0],M=p.action;break}}}if(!P)P=[""],R="";if(!M){if(V<U)P=[q.charAt(V)],R=P[0];M=this._lexer.defaultToken}if(R===null)break;V+=R.length;while(ov(M)&&FN(M)&&M.test)M=M.test(R,P,A,V===U);let w=null;if(typeof M==="string"||Array.isArray(M))w=M;else if(M.group)w=M.group;else if(M.token!==null&&M.token!==void 0){if(M.tokenSubst)w=H$(this._lexer,M.token,R,P,A);else w=M.token;if(M.nextEmbedded)if(M.nextEmbedded==="@pop"){if(!H)throw r1(this._lexer,"cannot pop embedded language if not inside one");H=null}else if(H)throw r1(this._lexer,"cannot enter embedded language from within an embedded language");else _=H$(this._lexer,M.nextEmbedded,R,P,A);if(M.goBack)V=Math.max(0,V-M.goBack);if(M.switchTo&&typeof M.switchTo==="string"){let C=H$(this._lexer,M.switchTo,R,P,A);if(C[0]==="@")C=C.substr(1);if(!cH(this._lexer,C))throw r1(this._lexer,"trying to switch to a state \'"+C+"\' that is undefined in rule: "+this._safeRuleName(T));else z=z.switchTo(C)}else if(M.transform&&typeof M.transform==="function")throw r1(this._lexer,"action.transform not supported");else if(M.next)if(M.next==="@push")if(z.depth>=this._lexer.maxStack)throw r1(this._lexer,"maximum tokenizer stack size reached: ["+z.state+","+z.parent.state+",...]");else z=z.push(A);else if(M.next==="@pop")if(z.depth<=1)throw r1(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(T));else z=z.pop();else if(M.next==="@popall")z=z.popall();else{let C=H$(this._lexer,M.next,R,P,A);if(C[0]==="@")C=C.substr(1);if(!cH(this._lexer,C))throw r1(this._lexer,"trying to set a next state \'"+C+"\' that is undefined in rule: "+this._safeRuleName(T));else z=z.push(C)}if(M.log&&typeof M.log==="string")tv(this._lexer,this._lexer.languageId+": "+H$(this._lexer,M.log,R,P,A))}if(w===null)throw r1(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(T));const x=(C)=>{const h=this._languageService.getLanguageIdByLanguageName(C)||this._languageService.getLanguageIdByMimeType(C)||C,p=this._getNestedEmbeddedLanguageData(h);if(V<U){const r=$.substr(V);return this._nestedTokenize(r,X,LX.create(z,p),Y+V,Z)}else return LX.create(z,p)};if(Array.isArray(w)){if(W&&W.groups.length>0)throw r1(this._lexer,"groups cannot be nested: "+this._safeRuleName(T));if(P.length!==w.length+1)throw r1(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(T));let C=0;for(let h=1;h<P.length;h++)C+=P[h].length;if(C!==R.length)throw r1(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(T));W={rule:T,matches:P,groups:[]};for(let h=0;h<w.length;h++)W.groups[h]={action:w[h],matched:P[h+1]};V-=R.length;continue}else{if(w==="@rematch"){if(V-=R.length,R="",P=null,w="",_!==null)return x(_)}if(R.length===0)if(U===0||K!==z.depth||A!==z.state||(!W?0:W.groups.length)!==D)continue;else throw r1(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(T));let C=null;if(jN(w)&&w.indexOf("@brackets")===0){const h=w.substr("@brackets".length),p=S70(this._lexer,R);if(!p)throw r1(this._lexer,"@brackets token returned but no bracket defined as: "+R);C=KN(p.token+h)}else{const h=w===""?"":w+this._lexer.tokenPostfix;C=KN(h)}if(j<G)Z.emit(j+Y,C)}if(_!==null)return x(_)}return LX.create(z,H)}_getNestedEmbeddedLanguageData($){if(!this._languageService.isRegisteredLanguageId($))return new Pq($,tQ);if($!==this._languageId)this._languageService.requestBasicLanguageFeatures($),g1.getOrCreate($),this._embeddedLanguages[$]=!0;const X=g1.get($);if(X)return new Pq($,X.getInitialState());return new Pq($,tQ)}};HG=PN=E70([y70(4,u1)],HG)});class dH{static colorizeElement(J,$,X,Q){Q=Q||{};const Y=Q.theme||"vs",Z=Q.mimeType||X.getAttribute("lang")||X.getAttribute("data-lang");if(!Z)return console.error("Mode not detected"),Promise.resolve();const G=$.getLanguageIdByMimeType(Z)||Z;J.setTheme(Y);const q=X.firstChild?X.firstChild.nodeValue:"";X.className+=" "+Y;const U=(H)=>{var z;const V=(z=RN===null||RN===void 0?void 0:RN.createHTML(H))!==null&&z!==void 0?z:H;X.innerHTML=V};return this.colorize($,q||"",G,Q).then(U,(H)=>console.error(H))}static colorize(J,$,X,Q){return C70(this,void 0,void 0,function*(){const Y=J.languageIdCodec;let Z=4;if(Q&&typeof Q.tabSize==="number")Z=Q.tabSize;if(d2($))$=$.substr(1);const G=n9($);if(!J.isRegisteredLanguageId(X))return Qf(G,Z,Y);const q=yield g1.getOrCreate(X);if(q)return x70(G,Z,q,Y);return Qf(G,Z,Y)})}static colorizeLine(J,$,X,Q,Y=4){const Z=f6.isBasicASCII(J,$),G=f6.containsRTL(J,Z,X);return Fq(new q4(!1,!0,J,!1,Z,G,0,Q,[],Y,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(J,$,X=4){const Q=J.getLineContent($);J.tokenization.forceTokenization($);const Z=J.tokenization.getLineTokens($).inflate();return this.colorizeLine(Q,J.mightContainNonBasicASCII(),J.mightContainRTL(),Z,X)}}var x70,Qf,b70,C70,RN;var Yf=N(()=>{pQ();l0();P6();wX();Kq();MJ();DN();x70=function(J,$,X,Q){return new Promise((Y,Z)=>{const G=()=>{const q=b70(J,$,X,Q);if(X instanceof HG){const U=X.getLoadStatus();if(U.loaded===!1){U.promise.then(G,Z);return}}Y(q)};G()})},Qf=function(J,$,X){let Q=[];const Y=(0<<11|1<<15|2<<24)>>>0,Z=new Uint32Array(2);Z[0]=0,Z[1]=Y;for(let G=0,q=J.length;G<q;G++){const U=J[G];Z[0]=U.length;const H=new T8(Z,U,X),z=f6.isBasicASCII(U,!0),V=f6.containsRTL(U,z,!0),W=Fq(new q4(!1,!0,U,!1,z,V,0,H,[],$,0,0,0,0,-1,"none",!1,!1,null));Q=Q.concat(W.html),Q.push("<br/>")}return Q.join("")},b70=function(J,$,X,Q){let Y=[],Z=X.getInitialState();for(let G=0,q=J.length;G<q;G++){const U=J[G],H=X.tokenizeEncoded(U,!0,Z);T8.convertToEndOffset(H.tokens,U.length);const z=new T8(H.tokens,U,Q),V=f6.isBasicASCII(U,!0),W=f6.containsRTL(U,V,!0),B=Fq(new q4(!1,!0,U,!1,V,W,0,z.inflate(),[],$,0,0,0,0,-1,"none",!1,!1,null));Y=Y.concat(B.html),Y.push("<br/>"),Z=H.endState}return Y.join("")},C70=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},RN=$5("standaloneColorizer",{createHTML:(J)=>J})});var Zf=N(()=>{j1();F0(".monaco-aria-container{position:absolute;left:-999em}")});function qf(J){zG=document.createElement("div"),zG.className="monaco-aria-container";const $=()=>{const Q=document.createElement("div");return Q.className="monaco-alert",Q.setAttribute("role","alert"),Q.setAttribute("aria-atomic","true"),zG.appendChild(Q),Q};iF=$(),MN=$();const X=()=>{const Q=document.createElement("div");return Q.className="monaco-status",Q.setAttribute("aria-live","polite"),Q.setAttribute("aria-atomic","true"),zG.appendChild(Q),Q};nF=X(),ON=X(),J.appendChild(zG)}function U4(J){if(!zG)return;if(iF.textContent!==J)E7(MN),oF(iF,J);else E7(iF),oF(MN,J)}function JY(J){if(!zG)return;if(nF.textContent!==J)E7(ON),oF(nF,J);else E7(nF),oF(ON,J)}var oF,Gf,zG,iF,MN,nF,ON;var $Y=N(()=>{y0();Zf();oF=function(J,$){if(E7(J),$.length>Gf)$=$.substr(0,Gf);J.textContent=$,J.style.visibility="hidden",J.style.visibility="visible"},Gf=20000});var tF;var NN=N(()=>{e0();tF=O0("markerDecorationsService")});var v70,f70,sH;var Hf=N(()=>{NN();L5();v70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},f70=function(J,$){return function(X,Q){$(X,Q,J)}},sH=class J{constructor($,X){}dispose(){}};sH.ID="editor.contrib.markerDecorations";sH=v70([f70(1,tF)],sH);w5(sH.ID,sH,0)});var zf=N(()=>{j1();F0("::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{-webkit-text-size-adjust:100%;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background);position:relative;overflow:visible}.monaco-editor-background{background-color:var(--vscode-editor-background)}.monaco-editor .rangeHighlight{background-color:var(--vscode-editor-rangeHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-rangeHighlightBorder)}.monaco-editor.hc-black .rangeHighlight,.monaco-editor.hc-light .rangeHighlight{border-style:dotted}.monaco-editor .symbolHighlight{background-color:var(--vscode-editor-symbolHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-symbolHighlightBorder)}.monaco-editor.hc-black .symbolHighlight,.monaco-editor.hc-light .symbolHighlight{border-style:dotted}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .squiggly-error{border-bottom:4px double var(--vscode-editorError-border)}.monaco-editor .squiggly-error:before{content:\"\";background:var(--vscode-editorError-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-warning{border-bottom:4px double var(--vscode-editorWarning-border)}.monaco-editor .squiggly-warning:before{content:\"\";background:var(--vscode-editorWarning-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-info{border-bottom:4px double var(--vscode-editorInfo-border)}.monaco-editor .squiggly-info:before{content:\"\";background:var(--vscode-editorInfo-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-hint{border-bottom:2px dotted var(--vscode-editorHint-border)}.monaco-editor.showUnused .squiggly-unnecessary{border-bottom:2px dashed var(--vscode-editorUnnecessaryCode-border)}.monaco-editor.showDeprecated .squiggly-inline-deprecated{text-decoration:line-through;text-decoration-color:var(--vscode-editor-foreground,inherit)}")});class aH extends f{constructor(J,$){super();this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._referenceDomElement=J,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let J=null;const $=()=>{if(J)this.observe({width:J.width,height:J.height});else this.observe()};let X=!1,Q=!1;const Y=()=>{if(X&&!Q)try{X=!1,Q=!0,$()}finally{requestAnimationFrame(()=>{Q=!1,Y()})}};this._resizeObserver=new ResizeObserver((Z)=>{J=Z&&Z[0]&&Z[0].contentRect?Z[0].contentRect:null,X=!0,Y()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){if(this._resizeObserver)this._resizeObserver.disconnect(),this._resizeObserver=null}observe(J){this.measureReferenceDomElement(!0,J)}measureReferenceDomElement(J,$){let X=0,Q=0;if($)X=$.width,Q=$.height;else if(this._referenceDomElement)X=this._referenceDomElement.clientWidth,Q=this._referenceDomElement.clientHeight;if(X=Math.max(5,X),Q=Math.max(5,Q),this._width!==X||this._height!==Q){if(this._width=X,this._height=Q,J)this._onDidChange.fire()}}}var TN=N(()=>{$0();A0()});function Vf(J){XY.items.forEach(($)=>$.apply(J))}class XY{constructor(J,$){this.key=J,this.migrate=$}apply(J){const $=XY._read(J,this.key),X=(Y)=>XY._read(J,Y),Q=(Y,Z)=>XY._write(J,Y,Z);this.migrate($,X,Q)}static _read(J,$){if(typeof J==="undefined")return;const X=$.indexOf(".");if(X>=0){const Q=$.substring(0,X);return this._read(J[Q],$.substring(X+1))}return J[$]}static _write(J,$,X){const Q=$.indexOf(".");if(Q>=0){const Y=$.substring(0,Q);J[Y]=J[Y]||{},this._write(J[Y],$.substring(Q+1),X);return}J[$]=X}}var QY,v5,h70;var Wf=N(()=>{QY=function(J,$){XY.items.push(new XY(J,$))},v5=function(J,$){QY(J,(X,Q,Y)=>{if(typeof X!=="undefined"){for(let[Z,G]of $)if(X===Z){Y(J,G);return}}})};XY.items=[];v5("wordWrap",[[!0,"on"],[!1,"off"]]);v5("lineNumbers",[[!0,"on"],[!1,"off"]]);v5("cursorBlinking",[["visible","solid"]]);v5("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);v5("renderLineHighlight",[[!0,"line"],[!1,"none"]]);v5("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);v5("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);v5("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);v5("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);v5("autoIndent",[[!1,"advanced"],[!0,"full"]]);v5("matchBrackets",[[!0,"always"],[!1,"never"]]);v5("renderFinalNewline",[[!0,"on"],[!1,"off"]]);v5("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);QY("autoClosingBrackets",(J,$,X)=>{if(J===!1){if(X("autoClosingBrackets","never"),typeof $("autoClosingQuotes")==="undefined")X("autoClosingQuotes","never");if(typeof $("autoSurround")==="undefined")X("autoSurround","never")}});QY("renderIndentGuides",(J,$,X)=>{if(typeof J!=="undefined"){if(X("renderIndentGuides",void 0),typeof $("guides.indentation")==="undefined")X("guides.indentation",!!J)}});QY("highlightActiveIndentGuide",(J,$,X)=>{if(typeof J!=="undefined"){if(X("highlightActiveIndentGuide",void 0),typeof $("guides.highlightActiveIndentation")==="undefined")X("guides.highlightActiveIndentation",!!J)}});h70={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};QY("suggest.filteredTypes",(J,$,X)=>{if(J&&typeof J==="object"){for(let Q of Object.entries(h70))if(J[Q[0]]===!1){if(typeof $(`suggest.${Q[1]}`)==="undefined")X(`suggest.${Q[1]}`,!1)}X("suggest.filteredTypes",void 0)}});QY("quickSuggestions",(J,$,X)=>{if(typeof J==="boolean"){const Q=J?"on":"off";X("quickSuggestions",{comments:Q,strings:Q,other:Q})}});QY("experimental.stickyScroll.enabled",(J,$,X)=>{if(typeof J==="boolean"){if(X("experimental.stickyScroll.enabled",void 0),typeof $("stickyScroll.enabled")==="undefined")X("stickyScroll.enabled",J)}});QY("experimental.stickyScroll.maxLineCount",(J,$,X)=>{if(typeof J==="number"){if(X("experimental.stickyScroll.maxLineCount",void 0),typeof $("stickyScroll.maxLineCount")==="undefined")X("stickyScroll.maxLineCount",J)}})});class Bf{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new E,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(J){this._tabFocus=J,this._onDidChangeTabFocus.fire(this._tabFocus)}}var Mq;var _N=N(()=>{A0();Mq=new Bf});var f5,jf;var YY=N(()=>{s1();e0();f5=O0("accessibilityService"),jf=new V0("accessibilityModeEnabled",!1)});class Kf{constructor(){this._values=[]}_read(J){return this._values[J]}get(J){return this._values[J]}_write(J,$){this._values[J]=$}}class Af{constructor(){this._values=[]}_read(J){if(J>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[J]}get(J){return this._read(J)}_write(J,$){this._values[J]=$}}class ZY{static validateOptions(J){const $=new Kf;for(let X of _Q){const Q=X.name==="_never_"?void 0:J[X.name];$._write(X.id,X.validate(Q))}return $}static computeOptions(J,$){const X=new Af;for(let Q of _Q)X._write(Q.id,Q.compute($,X,J._read(Q.id)));return X}static _deepEquals(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return J===$;if(Array.isArray(J)||Array.isArray($))return Array.isArray(J)&&Array.isArray($)?$8(J,$):!1;if(Object.keys(J).length!==Object.keys($).length)return!1;for(let X in J)if(!ZY._deepEquals(J[X],$[X]))return!1;return!0}static checkEquals(J,$){const X=[];let Q=!1;for(let Y of _Q){const Z=!ZY._deepEquals(J._read(Y.id),$._read(Y.id));if(X[Y.id]=Z,Z)Q=!0}return Q?new y3(X):null}static applyUpdate(J,$){let X=!1;for(let Q of _Q)if($.hasOwnProperty(Q.name)){const Y=Q.applyUpdate(J[Q.name],$[Q.name]);J[Q.name]=Y.newValue,X=X||Y.didChange}return X}}var m70,u70,Ff,g70,p70,eF;var Pf=N(()=>{z9();V1();A0();$0();U9();O1();TN();NM();Wf();_N();F6();l3();Ij();YY();m70=function(J){let $=0;while(J)J=Math.floor(J/10),$++;return $?$:1},u70=function(){let J="";if(!N9&&!wj)J+="no-user-select ";if(N9)J+="no-minimap-shadow ",J+="enable-user-select ";if(n0)J+="mac ";return J},Ff=function(J){const $=u4(J);return Vf($),$},g70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},p70=function(J,$){return function(X,Q){$(X,Q,J)}},eF=class J extends f{constructor($,X,Q,Y){super();if(this._accessibilityService=Y,this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new E),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new WB,this.isSimpleWidget=$,this._containerObserver=this._register(new aH(Q,X.dimension)),this._rawOptions=Ff(X),this._validatedOptions=ZY.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13))this._containerObserver.startObserving();this._register(ZJ.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Mq.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(d3.onDidChange(()=>this._recomputeOptions())),this._register(s2.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const $=this._computeOptions(),X=ZY.checkEquals(this.options,$);if(X===null)return;this.options=$,this._onDidChangeFast.fire(X),this._onDidChange.fire(X)}_computeOptions(){const $=this._readEnvConfiguration(),X=qX.createFromValidatedSettings(this._validatedOptions,$.pixelRatio,this.isSimpleWidget),Q=this._readFontInfo(X),Y={memory:this._computeOptionsMemory,outerWidth:$.outerWidth,outerHeight:$.outerHeight-this._reservedHeight,fontInfo:Q,extraEditorClassName:$.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:$.emptySelectionClipboard,pixelRatio:$.pixelRatio,tabFocusMode:Mq.getTabFocusMode(),accessibilitySupport:$.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return ZY.computeOptions(this._validatedOptions,Y)}_readEnvConfiguration(){return{extraEditorClassName:u70(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:oJ||g7,pixelRatio:s2.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo($){return d3.readFontInfo($)}getRawOptions(){return this._rawOptions}updateOptions($){const X=Ff($);if(!ZY.applyUpdate(this._rawOptions,X))return;this._validatedOptions=ZY.validateOptions(this._rawOptions),this._recomputeOptions()}observeContainer($){this._containerObserver.observe($)}setIsDominatedByLongLines($){if(this._isDominatedByLongLines===$)return;this._isDominatedByLongLines=$,this._recomputeOptions()}setModelLineCount($){const X=m70($);if(this._lineNumbersDigitCount===X)return;this._lineNumbersDigitCount=X,this._recomputeOptions()}setViewLineCount($){if(this._viewLineCount===$)return;this._viewLineCount=$,this._recomputeOptions()}setReservedHeight($){if(this._reservedHeight===$)return;this._reservedHeight=$,this._recomputeOptions()}setGlyphMarginDecorationLaneCount($){if(this._glyphMarginDecorationLaneCount===$)return;this._glyphMarginDecorationLaneCount=$,this._recomputeOptions()}};eF=g70([p70(3,f5)],eF)});function Y8(J,$,X){let Q=null,Y=null;if(typeof X.value==="function"){if(Q="value",Y=X.value,Y.length!==0)console.warn("Memoize should only be used in functions with zero parameters")}else if(typeof X.get==="function")Q="get",Y=X.get;if(!Y)throw new Error("not supported");const Z=`\$memoize\$${$}`;X[Q]=function(...G){if(!this.hasOwnProperty(Z))Object.defineProperty(this,Z,{configurable:!1,enumerable:!1,writable:!1,value:Y.apply(this,G)});return this[Z]}}var GY=N(()=>{});class N1 extends f{constructor(){super();this.dispatched=!1,this.targets=new I8,this.ignoreTargets=new I8,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(l(document,"touchstart",(J)=>this.onTouchStart(J),{passive:!1})),this._register(l(document,"touchend",(J)=>this.onTouchEnd(J))),this._register(l(document,"touchmove",(J)=>this.onTouchMove(J),{passive:!1}))}static addTarget(J){if(!N1.isTouchDevice())return f.None;if(!N1.INSTANCE)N1.INSTANCE=MZ(new N1);const $=N1.INSTANCE.targets.push(J);return N0($)}static ignoreTarget(J){if(!N1.isTouchDevice())return f.None;if(!N1.INSTANCE)N1.INSTANCE=MZ(new N1);const $=N1.INSTANCE.ignoreTargets.push(J);return N0($)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){if(this.handle)this.handle.dispose(),this.handle=null;super.dispose()}onTouchStart(J){const $=Date.now();if(this.handle)this.handle.dispose(),this.handle=null;for(let X=0,Q=J.targetTouches.length;X<Q;X++){const Y=J.targetTouches.item(X);this.activeTouches[Y.identifier]={id:Y.identifier,initialTarget:Y.target,initialTimeStamp:$,initialPageX:Y.pageX,initialPageY:Y.pageY,rollingTimestamps:[$],rollingPageX:[Y.pageX],rollingPageY:[Y.pageY]};const Z=this.newGestureEvent(L1.Start,Y.target);Z.pageX=Y.pageX,Z.pageY=Y.pageY,this.dispatchEvent(Z)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}onTouchEnd(J){const $=Date.now(),X=Object.keys(this.activeTouches).length;for(let Q=0,Y=J.changedTouches.length;Q<Y;Q++){const Z=J.changedTouches.item(Q);if(!this.activeTouches.hasOwnProperty(String(Z.identifier))){console.warn("move of an UNKNOWN touch",Z);continue}const G=this.activeTouches[Z.identifier],q=Date.now()-G.initialTimeStamp;if(q<N1.HOLD_DELAY&&Math.abs(G.initialPageX-d9(G.rollingPageX))<30&&Math.abs(G.initialPageY-d9(G.rollingPageY))<30){const U=this.newGestureEvent(L1.Tap,G.initialTarget);U.pageX=d9(G.rollingPageX),U.pageY=d9(G.rollingPageY),this.dispatchEvent(U)}else if(q>=N1.HOLD_DELAY&&Math.abs(G.initialPageX-d9(G.rollingPageX))<30&&Math.abs(G.initialPageY-d9(G.rollingPageY))<30){const U=this.newGestureEvent(L1.Contextmenu,G.initialTarget);U.pageX=d9(G.rollingPageX),U.pageY=d9(G.rollingPageY),this.dispatchEvent(U)}else if(X===1){const U=d9(G.rollingPageX),H=d9(G.rollingPageY),z=d9(G.rollingTimestamps)-G.rollingTimestamps[0],V=U-G.rollingPageX[0],W=H-G.rollingPageY[0],B=[...this.targets].filter((j)=>G.initialTarget instanceof Node&&j.contains(G.initialTarget));this.inertia(B,$,Math.abs(V)/z,V>0?1:-1,U,Math.abs(W)/z,W>0?1:-1,H)}this.dispatchEvent(this.newGestureEvent(L1.End,G.initialTarget)),delete this.activeTouches[Z.identifier]}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}newGestureEvent(J,$){const X=document.createEvent("CustomEvent");return X.initEvent(J,!1,!0),X.initialTarget=$,X.tapCount=0,X}dispatchEvent(J){if(J.type===L1.Tap){const $=(new Date()).getTime();let X=0;if($-this._lastSetTapCountTime>N1.CLEAR_TAP_COUNT_TIME)X=1;else X=2;this._lastSetTapCountTime=$,J.tapCount=X}else if(J.type===L1.Change||J.type===L1.Contextmenu)this._lastSetTapCountTime=0;if(J.initialTarget instanceof Node){for(let $ of this.ignoreTargets)if($.contains(J.initialTarget))return;for(let $ of this.targets)if($.contains(J.initialTarget))$.dispatchEvent(J),this.dispatched=!0}}inertia(J,$,X,Q,Y,Z,G,q){this.handle=R6(()=>{const U=Date.now(),H=U-$;let z=0,V=0,W=!0;if(X+=N1.SCROLL_FRICTION*H,Z+=N1.SCROLL_FRICTION*H,X>0)W=!1,z=Q*X*H;if(Z>0)W=!1,V=G*Z*H;const B=this.newGestureEvent(L1.Change);if(B.translationX=z,B.translationY=V,J.forEach((j)=>j.dispatchEvent(B)),!W)this.inertia(J,U,X,Q,Y+z,Z,G,q+V)})}onTouchMove(J){const $=Date.now();for(let X=0,Q=J.changedTouches.length;X<Q;X++){const Y=J.changedTouches.item(X);if(!this.activeTouches.hasOwnProperty(String(Y.identifier))){console.warn("end of an UNKNOWN touch",Y);continue}const Z=this.activeTouches[Y.identifier],G=this.newGestureEvent(L1.Change,Z.initialTarget);if(G.translationX=Y.pageX-d9(Z.rollingPageX),G.translationY=Y.pageY-d9(Z.rollingPageY),G.pageX=Y.pageX,G.pageY=Y.pageY,this.dispatchEvent(G),Z.rollingPageX.length>3)Z.rollingPageX.shift(),Z.rollingPageY.shift(),Z.rollingTimestamps.shift();Z.rollingPageX.push(Y.pageX),Z.rollingPageY.push(Y.pageY),Z.rollingTimestamps.push($)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}}var c70,L1;var h5=N(()=>{y0();V1();GY();$0();P5();c70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};(function(J){J.Tap="-monaco-gesturetap",J.Change="-monaco-gesturechange",J.Start="-monaco-gesturestart",J.End="-monaco-gesturesend",J.Contextmenu="-monaco-gesturecontextmenu"})(L1||(L1={}));N1.SCROLL_FRICTION=-0.005;N1.HOLD_DELAY=700;N1.CLEAR_TAP_COUNT_TIME=400;c70([Y8],N1,"isTouchDevice",null)});class IX{constructor(){this._hooks=new e,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(J,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const X=this._onStopCallback;if(this._onStopCallback=null,J&&X)X($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(J,$,X,Q,Y){if(this.isMonitoring())this.stopMonitoring(!1);this._pointerMoveCallback=Q,this._onStopCallback=Y;let Z=J;try{J.setPointerCapture($),this._hooks.add(N0(()=>{try{J.releasePointerCapture($)}catch(G){}}))}catch(G){Z=window}this._hooks.add(l(Z,G0.POINTER_MOVE,(G)=>{if(G.buttons!==X){this.stopMonitoring(!0);return}G.preventDefault(),this._pointerMoveCallback(G)})),this._hooks.add(l(Z,G0.POINTER_UP,(G)=>this.stopMonitoring(!0)))}}var rH=N(()=>{y0();$0()});function YK(J){return`--vscode-${J.replace(/\./g,"-")}`}function W0(J){return`var(${YK(J)})`}function If(J,$){return`var(${YK(J)}, ${$})`}function k(J,$,X,Q,Y){return ZK.registerColor(J,$,X,Q,Y)}function l70(J,$){var X,Q,Y,Z;switch(J.op){case 0:return(X=H4(J.value,$))===null||X===void 0?void 0:X.darken(J.factor);case 1:return(Q=H4(J.value,$))===null||Q===void 0?void 0:Q.lighten(J.factor);case 2:return(Y=H4(J.value,$))===null||Y===void 0?void 0:Y.transparent(J.factor);case 3:{const G=H4(J.background,$);if(!G)return H4(J.value,$);return(Z=H4(J.value,$))===null||Z===void 0?void 0:Z.makeOpaque(G)}case 4:for(let G of J.values){const q=H4(G,$);if(q)return q}return;case 6:return H4($.defines(J.if)?J.then:J.else,$);case 5:{const G=H4(J.value,$);if(!G)return;const q=H4(J.background,$);if(!q)return G.transparent(J.factor*J.transparency);return G.isDarkerThan(q)?u.getLighterColor(G,q,J.factor).transparent(J.transparency):u.getDarkerColor(G,q,J.factor).transparent(J.transparency)}default:throw n2(J)}}function VG(J,$){return{op:0,value:J,factor:$}}function B4(J,$){return{op:1,value:J,factor:$}}function _0(J,$){return{op:2,value:J,factor:$}}function _f(...J){return{op:4,values:J}}function d70(J,$,X){return{op:6,if:J,then:$,else:X}}function H4(J,$){if(J===null)return;else if(typeof J==="string"){if(J[0]==="#")return u.fromHex(J);return $.getColor(J)}else if(J instanceof u)return J;else if(typeof J==="object")return l70(J,$);return}class kf{constructor(){this._onDidChangeSchema=new E,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(J,$,X,Q=!1,Y){const Z={id:J,description:X,defaults:$,needsTransparency:Q,deprecationMessage:Y};this.colorsById[J]=Z;const G={type:"string",description:X,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};if(Y)G.deprecationMessage=Y;return this.colorSchema.properties[J]=G,this.colorReferenceSchema.enum.push(J),this.colorReferenceSchema.enumDescriptions.push(X),this._onDidChangeSchema.fire(),J}getColors(){return Object.keys(this.colorsById).map((J)=>this.colorsById[J])}resolveDefaultColor(J,$){const X=this.colorsById[J];if(X&&X.defaults){const Q=X.defaults[$.type];return H4(Q,$)}return}getColorSchema(){return this.colorSchema}toString(){const J=($,X)=>{const Q=$.indexOf(".")===-1?0:1,Y=X.indexOf(".")===-1?0:1;if(Q!==Y)return Q-Y;return $.localeCompare(X)};return Object.keys(this.colorsById).sort(J).map(($)=>`- \`${$}\`: ${this.colorsById[$].description}`).join("\n")}}var wf,wN,ZK,J0,kW0,EW0,yW0,kX,Z5,T1,W8,SW0,CW0,Ef,xW0,bW0,vW0,fW0,hW0,z$,yf,Sf,Cf,xf,bf,gW0,vf,ff,pW0,hf,gf,pf,mf,uf,cf,lf,df,sf,z4,af,V$,qY,Oq,rf,Nq,nf,of,tf,$K,ef,iH,Jh,$h,Tq,_q,wq,Xh,mW0,W$,uW0,cW0,x9,nH,lW0,b9,oH,Qh,dW0,sW0,d7,F$,aW0,rW0,E8,B$,V4,iW0,LN,Yh,Zh,GK,Gh,qh,Uh,Hh,zh,EX,Vh,IN,kN,nW0,oW0,yX,tW0,eW0,Lq,JB0,$B0,XB0,QB0,YB0,Df,ZB0,GB0,qB0,UB0,UY,HY,HB0,zB0,VB0,WB0,BB0,jB0,XK,QK,Wh,Bh,FB0,KB0,AB0,PB0,jh,Fh,DB0,RB0,MB0,OB0,NB0,TB0,_B0,Kh,Ah,Ph,Dh,j$,W4,Iq,Rh,Mh,Oh,Nh,Th,EN,yN,_h,SX,tH,wB0,LB0,IB0,wh,Lh,Ih,kh,kB0,EB0,kq,Eh,yh,Sh,yB0,Ch,SB0,xh,bh,CB0,Rf,K$,CX,A$,vh,fh,hh,gh,ph,mh,uh,Mf,xB0,bB0,vB0,fB0,hB0,gB0,ch,lh,SN,dh,pB0,sh,Of,Nf,Tf,OJ,Cq,Eq,mB0,yq,uB0,Sq,cB0,xq,lB0,dB0,sB0,aB0,rB0,JK,iB0,CN,ah,rh,ih,nh,oh,nB0,oB0,tB0,th,eh,Jg,eB0,Jj0,$j0,Xj0,Qj0,Yj0,Zj0,Gj0,$g,Xg,Lf;var e6=N(()=>{f1();S9();A0();bQ();m0();RF();t6();wf=function(J,$,X,Q){return{op:5,value:J,background:$,factor:X,transparency:Q}};wN={ColorContribution:"base.contributions.colors"};ZK=new kf;a1.add(wN.ColorContribution,ZK);J0=k("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},F("foreground","Overall foreground color. This color is only used if not overridden by a component.")),kW0=k("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},F("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),EW0=k("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},F("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),yW0=k("descriptionForeground",{light:"#717171",dark:_0(J0,0.7),hcDark:_0(J0,0.7),hcLight:_0(J0,0.7)},F("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),kX=k("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},F("iconForeground","The default color for icons in the workbench.")),Z5=k("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},F("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),T1=k("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},F("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),W8=k("contrastActiveBorder",{light:null,dark:null,hcDark:Z5,hcLight:Z5},F("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),SW0=k("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},F("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),CW0=k("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:u.black,hcLight:"#292929"},F("textSeparatorForeground","Color for text separators.")),Ef=k("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkForeground","Foreground color for links in text.")),xW0=k("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),bW0=k("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},F("textPreformatForeground","Foreground color for preformatted text segments.")),vW0=k("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},F("textBlockQuoteBackground","Background color for block quotes in text.")),fW0=k("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:u.white,hcLight:"#292929"},F("textBlockQuoteBorder","Border color for block quotes in text.")),hW0=k("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:u.black,hcLight:"#F2F2F2"},F("textCodeBlockBackground","Background color for code blocks in text.")),z$=k("widget.shadow",{dark:_0(u.black,0.36),light:_0(u.black,0.16),hcDark:null,hcLight:null},F("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),yf=k("widget.border",{dark:null,light:null,hcDark:T1,hcLight:T1},F("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Sf=k("input.background",{dark:"#3C3C3C",light:u.white,hcDark:u.black,hcLight:u.white},F("inputBoxBackground","Input box background.")),Cf=k("input.foreground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("inputBoxForeground","Input box foreground.")),xf=k("input.border",{dark:null,light:null,hcDark:T1,hcLight:T1},F("inputBoxBorder","Input box border.")),bf=k("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:T1,hcLight:T1},F("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),gW0=k("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},F("inputOption.hoverBackground","Background color of activated options in input fields.")),vf=k("inputOption.activeBackground",{dark:_0(Z5,0.4),light:_0(Z5,0.2),hcDark:u.transparent,hcLight:u.transparent},F("inputOption.activeBackground","Background hover color of options in input fields.")),ff=k("inputOption.activeForeground",{dark:u.white,light:u.black,hcDark:J0,hcLight:J0},F("inputOption.activeForeground","Foreground color of activated options in input fields.")),pW0=k("input.placeholderForeground",{light:_0(J0,0.5),dark:_0(J0,0.5),hcDark:_0(J0,0.7),hcLight:_0(J0,0.7)},F("inputPlaceholderForeground","Input box foreground color for placeholder text.")),hf=k("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:u.black,hcLight:u.white},F("inputValidationInfoBackground","Input validation background color for information severity.")),gf=k("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:J0},F("inputValidationInfoForeground","Input validation foreground color for information severity.")),pf=k("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:T1,hcLight:T1},F("inputValidationInfoBorder","Input validation border color for information severity.")),mf=k("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:u.black,hcLight:u.white},F("inputValidationWarningBackground","Input validation background color for warning severity.")),uf=k("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:J0},F("inputValidationWarningForeground","Input validation foreground color for warning severity.")),cf=k("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:T1,hcLight:T1},F("inputValidationWarningBorder","Input validation border color for warning severity.")),lf=k("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:u.black,hcLight:u.white},F("inputValidationErrorBackground","Input validation background color for error severity.")),df=k("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:J0},F("inputValidationErrorForeground","Input validation foreground color for error severity.")),sf=k("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:T1,hcLight:T1},F("inputValidationErrorBorder","Input validation border color for error severity.")),z4=k("dropdown.background",{dark:"#3C3C3C",light:u.white,hcDark:u.black,hcLight:u.white},F("dropdownBackground","Dropdown background.")),af=k("dropdown.listBackground",{dark:null,light:null,hcDark:u.black,hcLight:u.white},F("dropdownListBackground","Dropdown list background.")),V$=k("dropdown.foreground",{dark:"#F0F0F0",light:J0,hcDark:u.white,hcLight:J0},F("dropdownForeground","Dropdown foreground.")),qY=k("dropdown.border",{dark:z4,light:"#CECECE",hcDark:T1,hcLight:T1},F("dropdownBorder","Dropdown border.")),Oq=k("button.foreground",{dark:u.white,light:u.white,hcDark:u.white,hcLight:u.white},F("buttonForeground","Button foreground color.")),rf=k("button.separator",{dark:_0(Oq,0.4),light:_0(Oq,0.4),hcDark:_0(Oq,0.4),hcLight:_0(Oq,0.4)},F("buttonSeparator","Button separator color.")),Nq=k("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},F("buttonBackground","Button background color.")),nf=k("button.hoverBackground",{dark:B4(Nq,0.2),light:VG(Nq,0.2),hcDark:Nq,hcLight:Nq},F("buttonHoverBackground","Button background color when hovering.")),of=k("button.border",{dark:T1,light:T1,hcDark:T1,hcLight:T1},F("buttonBorder","Button border color.")),tf=k("button.secondaryForeground",{dark:u.white,light:u.white,hcDark:u.white,hcLight:J0},F("buttonSecondaryForeground","Secondary button foreground color.")),$K=k("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:u.white},F("buttonSecondaryBackground","Secondary button background color.")),ef=k("button.secondaryHoverBackground",{dark:B4($K,0.2),light:VG($K,0.2),hcDark:null,hcLight:null},F("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),iH=k("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:u.black,hcLight:"#0F4A85"},F("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Jh=k("badge.foreground",{dark:u.white,light:"#333",hcDark:u.white,hcLight:u.white},F("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),$h=k("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},F("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Tq=k("scrollbarSlider.background",{dark:u.fromHex("#797979").transparent(0.4),light:u.fromHex("#646464").transparent(0.4),hcDark:_0(T1,0.6),hcLight:_0(T1,0.4)},F("scrollbarSliderBackground","Scrollbar slider background color.")),_q=k("scrollbarSlider.hoverBackground",{dark:u.fromHex("#646464").transparent(0.7),light:u.fromHex("#646464").transparent(0.7),hcDark:_0(T1,0.8),hcLight:_0(T1,0.8)},F("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),wq=k("scrollbarSlider.activeBackground",{dark:u.fromHex("#BFBFBF").transparent(0.4),light:u.fromHex("#000000").transparent(0.6),hcDark:T1,hcLight:T1},F("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Xh=k("progressBar.background",{dark:u.fromHex("#0E70C0"),light:u.fromHex("#0E70C0"),hcDark:T1,hcLight:T1},F("progressBarBackground","Background color of the progress bar that can show for long running operations.")),mW0=k("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),W$=k("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},F("editorError.foreground","Foreground color of error squigglies in the editor.")),uW0=k("editorError.border",{dark:null,light:null,hcDark:u.fromHex("#E47777").transparent(0.8),hcLight:"#B5200D"},F("errorBorder","If set, color of double underlines for errors in the editor.")),cW0=k("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),x9=k("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},F("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),nH=k("editorWarning.border",{dark:null,light:null,hcDark:u.fromHex("#FFCC00").transparent(0.8),hcLight:u.fromHex("#FFCC00").transparent(0.8)},F("warningBorder","If set, color of double underlines for warnings in the editor.")),lW0=k("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),b9=k("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},F("editorInfo.foreground","Foreground color of info squigglies in the editor.")),oH=k("editorInfo.border",{dark:null,light:null,hcDark:u.fromHex("#3794FF").transparent(0.8),hcLight:"#292929"},F("infoBorder","If set, color of double underlines for infos in the editor.")),Qh=k("editorHint.foreground",{dark:u.fromHex("#eeeeee").transparent(0.7),light:"#6c6c6c",hcDark:null,hcLight:null},F("editorHint.foreground","Foreground color of hint squigglies in the editor.")),dW0=k("editorHint.border",{dark:null,light:null,hcDark:u.fromHex("#eeeeee").transparent(0.8),hcLight:"#292929"},F("hintBorder","If set, color of double underlines for hints in the editor.")),sW0=k("sash.hoverBorder",{dark:Z5,light:Z5,hcDark:Z5,hcLight:Z5},F("sashActiveBorder","Border color of active sashes.")),d7=k("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:u.black,hcLight:u.white},F("editorBackground","Editor background color.")),F$=k("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:u.white,hcLight:J0},F("editorForeground","Editor default foreground color.")),aW0=k("editorStickyScroll.background",{light:d7,dark:d7,hcDark:d7,hcLight:d7},F("editorStickyScrollBackground","Sticky scroll background color for the editor")),rW0=k("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:u.fromHex("#0F4A85").transparent(0.1)},F("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),E8=k("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:u.white},F("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),B$=k("editorWidget.foreground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),V4=k("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:T1,hcLight:T1},F("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),iW0=k("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},F("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),LN=k("quickInput.background",{dark:E8,light:E8,hcDark:E8,hcLight:E8},F("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Yh=k("quickInput.foreground",{dark:B$,light:B$,hcDark:B$,hcLight:B$},F("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Zh=k("quickInputTitle.background",{dark:new u(new M1(255,255,255,0.105)),light:new u(new M1(0,0,0,0.06)),hcDark:"#000000",hcLight:u.white},F("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),GK=k("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:u.white,hcLight:"#0F4A85"},F("pickerGroupForeground","Quick picker color for grouping labels.")),Gh=k("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:u.white,hcLight:"#0F4A85"},F("pickerGroupBorder","Quick picker color for grouping borders.")),qh=k("keybindingLabel.background",{dark:new u(new M1(128,128,128,0.17)),light:new u(new M1(221,221,221,0.4)),hcDark:u.transparent,hcLight:u.transparent},F("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Uh=k("keybindingLabel.foreground",{dark:u.fromHex("#CCCCCC"),light:u.fromHex("#555555"),hcDark:u.white,hcLight:J0},F("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Hh=k("keybindingLabel.border",{dark:new u(new M1(51,51,51,0.6)),light:new u(new M1(204,204,204,0.4)),hcDark:new u(new M1(111,195,223)),hcLight:T1},F("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),zh=k("keybindingLabel.bottomBorder",{dark:new u(new M1(68,68,68,0.6)),light:new u(new M1(187,187,187,0.4)),hcDark:new u(new M1(111,195,223)),hcLight:J0},F("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),EX=k("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},F("editorSelectionBackground","Color of the editor selection.")),Vh=k("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:u.white},F("editorSelectionForeground","Color of the selected text for high contrast.")),IN=k("editor.inactiveSelectionBackground",{light:_0(EX,0.5),dark:_0(EX,0.5),hcDark:_0(EX,0.7),hcLight:_0(EX,0.5)},F("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),kN=k("editor.selectionHighlightBackground",{light:wf(EX,d7,0.3,0.6),dark:wf(EX,d7,0.3,0.6),hcDark:null,hcLight:null},F("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),nW0=k("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:W8,hcLight:W8},F("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),oW0=k("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},F("editorFindMatch","Color of the current search match.")),yX=k("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},F("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),tW0=k("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},F("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),eW0=k("editor.findMatchBorder",{light:null,dark:null,hcDark:W8,hcLight:W8},F("editorFindMatchBorder","Border color of the current search match.")),Lq=k("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:W8,hcLight:W8},F("findMatchHighlightBorder","Border color of the other search matches.")),JB0=k("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:_0(W8,0.4),hcLight:_0(W8,0.4)},F("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),$B0=k("searchEditor.findMatchBackground",{light:_0(yX,0.66),dark:_0(yX,0.66),hcDark:yX,hcLight:yX},F("searchEditor.queryMatch","Color of the Search Editor query matches.")),XB0=k("searchEditor.findMatchBorder",{light:_0(Lq,0.66),dark:_0(Lq,0.66),hcDark:Lq,hcLight:Lq},F("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),QB0=k("search.resultsInfoForeground",{light:J0,dark:_0(J0,0.65),hcDark:J0,hcLight:J0},F("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),YB0=k("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},F("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Df=k("editorHoverWidget.background",{light:E8,dark:E8,hcDark:E8,hcLight:E8},F("hoverBackground","Background color of the editor hover.")),ZB0=k("editorHoverWidget.foreground",{light:B$,dark:B$,hcDark:B$,hcLight:B$},F("hoverForeground","Foreground color of the editor hover.")),GB0=k("editorHoverWidget.border",{light:V4,dark:V4,hcDark:V4,hcLight:V4},F("hoverBorder","Border color of the editor hover.")),qB0=k("editorHoverWidget.statusBarBackground",{dark:B4(Df,0.2),light:VG(Df,0.05),hcDark:E8,hcLight:E8},F("statusBarBackground","Background color of the editor hover status bar.")),UB0=k("editorLink.activeForeground",{dark:"#4E94CE",light:u.blue,hcDark:u.cyan,hcLight:"#292929"},F("activeLinkForeground","Color of active links.")),UY=k("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:u.white,hcLight:u.black},F("editorInlayHintForeground","Foreground color of inline hints")),HY=k("editorInlayHint.background",{dark:_0(iH,0.1),light:_0(iH,0.1),hcDark:_0(u.white,0.1),hcLight:_0(iH,0.1)},F("editorInlayHintBackground","Background color of inline hints")),HB0=k("editorInlayHint.typeForeground",{dark:UY,light:UY,hcDark:UY,hcLight:UY},F("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),zB0=k("editorInlayHint.typeBackground",{dark:HY,light:HY,hcDark:HY,hcLight:HY},F("editorInlayHintBackgroundTypes","Background color of inline hints for types")),VB0=k("editorInlayHint.parameterForeground",{dark:UY,light:UY,hcDark:UY,hcLight:UY},F("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),WB0=k("editorInlayHint.parameterBackground",{dark:HY,light:HY,hcDark:HY,hcLight:HY},F("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),BB0=k("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},F("editorLightBulbForeground","The color used for the lightbulb actions icon.")),jB0=k("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),XK=new u(new M1(155,185,85,0.2)),QK=new u(new M1(255,0,0,0.2)),Wh=k("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},F("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Bh=k("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},F("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),FB0=k("diffEditor.insertedLineBackground",{dark:XK,light:XK,hcDark:null,hcLight:null},F("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),KB0=k("diffEditor.removedLineBackground",{dark:QK,light:QK,hcDark:null,hcLight:null},F("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),AB0=k("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),PB0=k("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),jh=k("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Fh=k("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),DB0=k("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},F("diffEditorInsertedOutline","Outline color for the text that got inserted.")),RB0=k("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},F("diffEditorRemovedOutline","Outline color for text that got removed.")),MB0=k("diffEditor.border",{dark:null,light:null,hcDark:T1,hcLight:T1},F("diffEditorBorder","Border color between the two text editors.")),OB0=k("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},F("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),NB0=k("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},F("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),TB0=k("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},F("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),_B0=k("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},F("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Kh=k("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ah=k("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ph=k("list.focusOutline",{dark:Z5,light:Z5,hcDark:W8,hcLight:W8},F("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Dh=k("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),j$=k("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:u.fromHex("#0F4A85").transparent(0.1)},F("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),W4=k("list.activeSelectionForeground",{dark:u.white,light:u.white,hcDark:null,hcLight:null},F("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Iq=k("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rh=k("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:u.fromHex("#0F4A85").transparent(0.1)},F("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Mh=k("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Oh=k("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Nh=k("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Th=k("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),EN=k("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:u.white.transparent(0.1),hcLight:u.fromHex("#0F4A85").transparent(0.1)},F("listHoverBackground","List/Tree background when hovering over items using the mouse.")),yN=k("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),_h=k("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},F("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),SX=k("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Z5,hcLight:Z5},F("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),tH=k("list.focusHighlightForeground",{dark:SX,light:d70(j$,SX,"#BBE7FF"),hcDark:SX,hcLight:SX},F("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),wB0=k("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},F("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),LB0=k("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},F("listErrorForeground","Foreground color of list items containing errors.")),IB0=k("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},F("listWarningForeground","Foreground color of list items containing warnings.")),wh=k("listFilterWidget.background",{light:VG(E8,0),dark:B4(E8,0),hcDark:E8,hcLight:E8},F("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Lh=k("listFilterWidget.outline",{dark:u.transparent,light:u.transparent,hcDark:"#f38518",hcLight:"#007ACC"},F("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Ih=k("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:T1,hcLight:T1},F("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),kh=k("listFilterWidget.shadow",{dark:z$,light:z$,hcDark:z$,hcLight:z$},F("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),kB0=k("list.filterMatchBackground",{dark:yX,light:yX,hcDark:null,hcLight:null},F("listFilterMatchHighlight","Background color of the filtered match.")),EB0=k("list.filterMatchBorder",{dark:Lq,light:Lq,hcDark:T1,hcLight:W8},F("listFilterMatchHighlightBorder","Border color of the filtered match.")),kq=k("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},F("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Eh=k("tree.inactiveIndentGuidesStroke",{dark:_0(kq,0.4),light:_0(kq,0.4),hcDark:_0(kq,0.4),hcLight:_0(kq,0.4)},F("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),yh=k("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},F("tableColumnsBorder","Table border color between columns.")),Sh=k("tree.tableOddRowsBackground",{dark:_0(J0,0.04),light:_0(J0,0.04),hcDark:null,hcLight:null},F("tableOddRowsBackgroundColor","Background color for odd table rows.")),yB0=k("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},F("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Ch=k("checkbox.background",{dark:z4,light:z4,hcDark:z4,hcLight:z4},F("checkbox.background","Background color of checkbox widget.")),SB0=k("checkbox.selectBackground",{dark:E8,light:E8,hcDark:E8,hcLight:E8},F("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),xh=k("checkbox.foreground",{dark:V$,light:V$,hcDark:V$,hcLight:V$},F("checkbox.foreground","Foreground color of checkbox widget.")),bh=k("checkbox.border",{dark:qY,light:qY,hcDark:qY,hcLight:qY},F("checkbox.border","Border color of checkbox widget.")),CB0=k("checkbox.selectBorder",{dark:kX,light:kX,hcDark:kX,hcLight:kX},F("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Rf=k("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,F("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),K$=k("quickInputList.focusForeground",{dark:W4,light:W4,hcDark:W4,hcLight:W4},F("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),CX=k("quickInputList.focusIconForeground",{dark:Iq,light:Iq,hcDark:Iq,hcLight:Iq},F("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),A$=k("quickInputList.focusBackground",{dark:_f(Rf,j$),light:_f(Rf,j$),hcDark:null,hcLight:null},F("quickInput.listFocusBackground","Quick picker background color for the focused item.")),vh=k("menu.border",{dark:null,light:null,hcDark:T1,hcLight:T1},F("menuBorder","Border color of menus.")),fh=k("menu.foreground",{dark:V$,light:V$,hcDark:V$,hcLight:V$},F("menuForeground","Foreground color of menu items.")),hh=k("menu.background",{dark:z4,light:z4,hcDark:z4,hcLight:z4},F("menuBackground","Background color of menu items.")),gh=k("menu.selectionForeground",{dark:W4,light:W4,hcDark:W4,hcLight:W4},F("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ph=k("menu.selectionBackground",{dark:j$,light:j$,hcDark:j$,hcLight:j$},F("menuSelectionBackground","Background color of the selected menu item in menus.")),mh=k("menu.selectionBorder",{dark:null,light:null,hcDark:W8,hcLight:W8},F("menuSelectionBorder","Border color of the selected menu item in menus.")),uh=k("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:T1,hcLight:T1},F("menuSeparatorBackground","Color of a separator menu item in menus.")),Mf=k("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},F("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),xB0=k("toolbar.hoverOutline",{dark:null,light:null,hcDark:W8,hcLight:W8},F("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),bB0=k("toolbar.activeBackground",{dark:B4(Mf,0.1),light:VG(Mf,0.1),hcDark:null,hcLight:null},F("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),vB0=k("editor.snippetTabstopHighlightBackground",{dark:new u(new M1(124,124,124,0.3)),light:new u(new M1(10,50,100,0.2)),hcDark:new u(new M1(124,124,124,0.3)),hcLight:new u(new M1(10,50,100,0.2))},F("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),fB0=k("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),hB0=k("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),gB0=k("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new u(new M1(10,50,100,0.5)),hcDark:"#525252",hcLight:"#292929"},F("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),ch=k("breadcrumb.foreground",{light:_0(J0,0.8),dark:_0(J0,0.8),hcDark:_0(J0,0.8),hcLight:_0(J0,0.8)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),lh=k("breadcrumb.background",{light:d7,dark:d7,hcDark:d7,hcLight:d7},F("breadcrumbsBackground","Background color of breadcrumb items.")),SN=k("breadcrumb.focusForeground",{light:VG(J0,0.2),dark:B4(J0,0.1),hcDark:B4(J0,0.1),hcLight:B4(J0,0.1)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),dh=k("breadcrumb.activeSelectionForeground",{light:VG(J0,0.2),dark:B4(J0,0.1),hcDark:B4(J0,0.1),hcLight:B4(J0,0.1)},F("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),pB0=k("breadcrumbPicker.background",{light:E8,dark:E8,hcDark:E8,hcLight:E8},F("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),sh=0.5,Of=u.fromHex("#40C8AE").transparent(sh),Nf=u.fromHex("#40A6FF").transparent(sh),Tf=u.fromHex("#606060").transparent(0.4),OJ=0.4,Cq=1,Eq=k("merge.currentHeaderBackground",{dark:Of,light:Of,hcDark:null,hcLight:null},F("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),mB0=k("merge.currentContentBackground",{dark:_0(Eq,OJ),light:_0(Eq,OJ),hcDark:_0(Eq,OJ),hcLight:_0(Eq,OJ)},F("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),yq=k("merge.incomingHeaderBackground",{dark:Nf,light:Nf,hcDark:null,hcLight:null},F("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),uB0=k("merge.incomingContentBackground",{dark:_0(yq,OJ),light:_0(yq,OJ),hcDark:_0(yq,OJ),hcLight:_0(yq,OJ)},F("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Sq=k("merge.commonHeaderBackground",{dark:Tf,light:Tf,hcDark:null,hcLight:null},F("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),cB0=k("merge.commonContentBackground",{dark:_0(Sq,OJ),light:_0(Sq,OJ),hcDark:_0(Sq,OJ),hcLight:_0(Sq,OJ)},F("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),xq=k("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},F("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),lB0=k("editorOverviewRuler.currentContentForeground",{dark:_0(Eq,Cq),light:_0(Eq,Cq),hcDark:xq,hcLight:xq},F("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),dB0=k("editorOverviewRuler.incomingContentForeground",{dark:_0(yq,Cq),light:_0(yq,Cq),hcDark:xq,hcLight:xq},F("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),sB0=k("editorOverviewRuler.commonContentForeground",{dark:_0(Sq,Cq),light:_0(Sq,Cq),hcDark:xq,hcLight:xq},F("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),aB0=k("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},F("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),rB0=k("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},F("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),JK=k("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},F("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),iB0=k("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),CN=k("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),ah=k("minimap.infoHighlight",{dark:b9,light:b9,hcDark:oH,hcLight:oH},F("minimapInfo","Minimap marker color for infos.")),rh=k("minimap.warningHighlight",{dark:x9,light:x9,hcDark:nH,hcLight:nH},F("overviewRuleWarning","Minimap marker color for warnings.")),ih=k("minimap.errorHighlight",{dark:new u(new M1(255,18,18,0.7)),light:new u(new M1(255,18,18,0.7)),hcDark:new u(new M1(255,50,50,1)),hcLight:"#B5200D"},F("minimapError","Minimap marker color for errors.")),nh=k("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},F("minimapBackground","Minimap background color.")),oh=k("minimap.foregroundOpacity",{dark:u.fromHex("#000f"),light:u.fromHex("#000f"),hcDark:u.fromHex("#000f"),hcLight:u.fromHex("#000f")},F("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),nB0=k("minimapSlider.background",{light:_0(Tq,0.5),dark:_0(Tq,0.5),hcDark:_0(Tq,0.5),hcLight:_0(Tq,0.5)},F("minimapSliderBackground","Minimap slider background color.")),oB0=k("minimapSlider.hoverBackground",{light:_0(_q,0.5),dark:_0(_q,0.5),hcDark:_0(_q,0.5),hcLight:_0(_q,0.5)},F("minimapSliderHoverBackground","Minimap slider background color when hovering.")),tB0=k("minimapSlider.activeBackground",{light:_0(wq,0.5),dark:_0(wq,0.5),hcDark:_0(wq,0.5),hcLight:_0(wq,0.5)},F("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),th=k("problemsErrorIcon.foreground",{dark:W$,light:W$,hcDark:W$,hcLight:W$},F("problemsErrorIconForeground","The color used for the problems error icon.")),eh=k("problemsWarningIcon.foreground",{dark:x9,light:x9,hcDark:x9,hcLight:x9},F("problemsWarningIconForeground","The color used for the problems warning icon.")),Jg=k("problemsInfoIcon.foreground",{dark:b9,light:b9,hcDark:b9,hcLight:b9},F("problemsInfoIconForeground","The color used for the problems info icon.")),eB0=k("charts.foreground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("chartsForeground","The foreground color used in charts.")),Jj0=k("charts.lines",{dark:_0(J0,0.5),light:_0(J0,0.5),hcDark:_0(J0,0.5),hcLight:_0(J0,0.5)},F("chartsLines","The color used for horizontal lines in charts.")),$j0=k("charts.red",{dark:W$,light:W$,hcDark:W$,hcLight:W$},F("chartsRed","The red color used in chart visualizations.")),Xj0=k("charts.blue",{dark:b9,light:b9,hcDark:b9,hcLight:b9},F("chartsBlue","The blue color used in chart visualizations.")),Qj0=k("charts.yellow",{dark:x9,light:x9,hcDark:x9,hcLight:x9},F("chartsYellow","The yellow color used in chart visualizations.")),Yj0=k("charts.orange",{dark:JK,light:JK,hcDark:JK,hcLight:JK},F("chartsOrange","The orange color used in chart visualizations.")),Zj0=k("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},F("chartsGreen","The green color used in chart visualizations.")),Gj0=k("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("chartsPurple","The purple color used in chart visualizations.")),$g="vscode://schemas/workbench-colors",Xg=a1.as(aZ.JSONContribution);Xg.registerSchema($g,ZK.getColorSchema());Lf=new Q8(()=>Xg.notifySchemaChanged($g),200);ZK.onDidChangeSchema(()=>{if(!Lf.isScheduled())Lf.schedule()})});function UK(J){const $=u7(J);return new Qg($.left,$.top,$.width,$.height)}function HK(J,$,X){const Q=$.width/J.offsetWidth,Y=$.height/J.offsetHeight,Z=(X.x-$.x)/Q,G=(X.y-$.y)/Y;return new Yg(Z,G)}class WG{constructor(J,$){this.x=J,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new qK(this.x-window.scrollX,this.y-window.scrollY)}}class qK{constructor(J,$){this.clientX=J,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new WG(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class Qg{constructor(J,$,X,Q){this.x=J,this.y=$,this.width=X,this.height=Q,this._editorPagePositionBrand=void 0}}class Yg{constructor(J,$){this.x=J,this.y=$,this._positionRelativeToEditorBrand=void 0}}class j4 extends X6{constructor(J,$,X){super(J);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=$,this.pos=new WG(this.posx,this.posy),this.editorPos=UK(X),this.relativePos=HK(X,this.editorPos,this.pos)}}class xN{constructor(J){this._editorViewDomNode=J}_create(J){return new j4(J,!1,this._editorViewDomNode)}onContextMenu(J,$){return l(J,"contextmenu",(X)=>{$(this._create(X))})}onMouseUp(J,$){return l(J,"mouseup",(X)=>{$(this._create(X))})}onMouseDown(J,$){return l(J,G0.MOUSE_DOWN,(X)=>{$(this._create(X))})}onPointerDown(J,$){return l(J,G0.POINTER_DOWN,(X)=>{$(this._create(X),X.pointerId)})}onMouseLeave(J,$){return l(J,G0.MOUSE_LEAVE,(X)=>{$(this._create(X))})}onMouseMove(J,$){return l(J,"mousemove",(X)=>$(this._create(X)))}}class bN{constructor(J){this._editorViewDomNode=J}_create(J){return new j4(J,!1,this._editorViewDomNode)}onPointerUp(J,$){return l(J,"pointerup",(X)=>{$(this._create(X))})}onPointerDown(J,$){return l(J,G0.POINTER_DOWN,(X)=>{$(this._create(X),X.pointerId)})}onPointerLeave(J,$){return l(J,G0.POINTER_LEAVE,(X)=>{$(this._create(X))})}onPointerMove(J,$){return l(J,"pointermove",(X)=>$(this._create(X)))}}class vN extends f{constructor(J){super();this._editorViewDomNode=J,this._globalPointerMoveMonitor=this._register(new IX),this._keydownListener=null}startMonitoring(J,$,X,Q,Y){this._keydownListener=X8(J.ownerDocument,"keydown",(Z)=>{if(Z.toKeyCodeChord().isModifierKey())return;this._globalPointerMoveMonitor.stopMonitoring(!0,Z.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(J,$,X,(Z)=>{Q(new j4(Z,!0,this._editorViewDomNode))},(Z)=>{this._keydownListener.dispose(),Y(Z)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class fN{constructor(J){this._editor=J,this._instanceId=++fN._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new Q8(()=>this.garbageCollect(),1000)}createClassNameRef(J){const $=this.getOrCreateRule(J);return $.increaseRefCount(),{className:$.className,dispose:()=>{$.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(J){const $=this.computeUniqueKey(J);let X=this._rules.get($);if(!X){const Q=this._counter++;X=new Zg($,`dyn-rule-${this._instanceId}-${Q}`,gZ(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,J),this._rules.set($,X)}return X}computeUniqueKey(J){return JSON.stringify(J)}garbageCollect(){for(let J of this._rules.values())if(!J.hasReferences())this._rules.delete(J.key),J.dispose()}}class Zg{constructor(J,$,X,Q){this.key=J,this.className=$,this.properties=Q,this._referenceCount=0,this._styleElement=K7(X),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(J,$){let X=`.${J} {`;for(let Q in $){const Y=$[Q];let Z;if(typeof Y==="object")Z=W0(Y.id);else Z=Y;const G=s70(Q);X+=`\n\t${G}: ${Z};`}return X+="\n}",X}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}var s70;var zK=N(()=>{y0();rH();O5();f1();$0();e6();s70=function(J){return J.replace(/(^[A-Z])/,([$])=>$.toLowerCase()).replace(/([A-Z])/g,([$])=>`-${$.toLowerCase()}`)};fN._idPool=0});class F4 extends f{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(J){return!1}onCompositionEnd(J){return!1}onConfigurationChanged(J){return!1}onCursorStateChanged(J){return!1}onDecorationsChanged(J){return!1}onFlushed(J){return!1}onFocusChanged(J){return!1}onLanguageConfigurationChanged(J){return!1}onLineMappingChanged(J){return!1}onLinesChanged(J){return!1}onLinesDeleted(J){return!1}onLinesInserted(J){return!1}onRevealRangeRequest(J){return!1}onScrollChanged(J){return!1}onThemeChanged(J){return!1}onTokensChanged(J){return!1}onTokensColorsChanged(J){return!1}onZonesChanged(J){return!1}handleEvents(J){let $=!1;for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];switch(Y.type){case 0:if(this.onCompositionStart(Y))$=!0;break;case 1:if(this.onCompositionEnd(Y))$=!0;break;case 2:if(this.onConfigurationChanged(Y))$=!0;break;case 3:if(this.onCursorStateChanged(Y))$=!0;break;case 4:if(this.onDecorationsChanged(Y))$=!0;break;case 5:if(this.onFlushed(Y))$=!0;break;case 6:if(this.onFocusChanged(Y))$=!0;break;case 7:if(this.onLanguageConfigurationChanged(Y))$=!0;break;case 8:if(this.onLineMappingChanged(Y))$=!0;break;case 9:if(this.onLinesChanged(Y))$=!0;break;case 10:if(this.onLinesDeleted(Y))$=!0;break;case 11:if(this.onLinesInserted(Y))$=!0;break;case 12:if(this.onRevealRangeRequest(Y))$=!0;break;case 13:if(this.onScrollChanged(Y))$=!0;break;case 15:if(this.onTokensChanged(Y))$=!0;break;case 14:if(this.onThemeChanged(Y))$=!0;break;case 16:if(this.onTokensColorsChanged(Y))$=!0;break;case 17:if(this.onZonesChanged(Y))$=!0;break;default:console.info("View received unknown event: "),console.info(Y)}}if($)this._shouldRender=!0}}var bq=N(()=>{$0()});class K8 extends F4{constructor(J){super();this._context=J,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class O6{static write(J,$){J.setAttribute("data-mprt",String($))}static read(J){const $=J.getAttribute("data-mprt");if($===null)return 0;return parseInt($,10)}static collect(J,$){const X=[];let Q=0;while(J&&J!==J.ownerDocument.body){if(J===$)break;if(J.nodeType===J.ELEMENT_NODE)X[Q++]=this.read(J);J=J.parentElement}const Y=new Uint8Array(Q);for(let Z=0;Z<Q;Z++)Y[Z]=X[Q-Z-1];return Y}}var h6=N(()=>{bq()});class Gg{constructor(J,$){this._restrictedRenderingContextBrand=void 0,this._viewLayout=J,this.viewportData=$,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const X=this._viewLayout.getCurrentViewport();this.scrollTop=X.top,this.scrollLeft=X.left,this.viewportWidth=X.width,this.viewportHeight=X.height}getScrolledTopFromAbsoluteTop(J){return J-this.scrollTop}getVerticalOffsetForLineNumber(J,$){return this._viewLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$){return this._viewLayout.getVerticalOffsetAfterLineNumber(J,$)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class hN extends Gg{constructor(J,$,X){super(J,$);this._renderingContextBrand=void 0,this._viewLines=X}linesVisibleRangesForRange(J,$){return this._viewLines.linesVisibleRangesForRange(J,$)}visibleRangeForPosition(J){return this._viewLines.visibleRangeForPosition(J)}}class gN{constructor(J,$,X,Q){this.outsideRenderedLine=J,this.lineNumber=$,this.ranges=X,this.continuesOnNextLine=Q}}class vq{static from(J){const $=new Array(J.length);for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];$[X]=new vq(Y.left,Y.width)}return $}constructor(J,$){this._horizontalRangeBrand=void 0,this.left=Math.round(J),this.width=Math.round($)}toString(){return`[${this.left},${this.width}]`}}class P${constructor(J,$){this._floatHorizontalRangeBrand=void 0,this.left=J,this.width=$}toString(){return`[${this.left},${this.width}]`}static compare(J,$){return J.left-$.left}}class pN{constructor(J,$){this.outsideRenderedLine=J,this.originalLeft=$,this.left=Math.round(this.originalLeft)}}class VK{constructor(J,$){this.outsideRenderedLine=J,this.ranges=$}}var fq=N(()=>{});class hq{static _createRange(){if(!this._handyReadyRange)this._handyReadyRange=document.createRange();return this._handyReadyRange}static _detachRange(J,$){J.selectNodeContents($)}static _readClientRects(J,$,X,Q,Y){const Z=this._createRange();try{return Z.setStart(J,$),Z.setEnd(X,Q),Z.getClientRects()}catch(G){return null}finally{this._detachRange(Z,Y)}}static _mergeAdjacentRanges(J){if(J.length===1)return J;J.sort(P$.compare);const $=[];let X=0,Q=J[0];for(let Y=1,Z=J.length;Y<Z;Y++){const G=J[Y];if(Q.left+Q.width+0.9>=G.left)Q.width=Math.max(Q.width,G.left+G.width-Q.left);else $[X++]=Q,Q=G}return $[X++]=Q,$}static _createHorizontalRangesFromClientRects(J,$,X){if(!J||J.length===0)return null;const Q=[];for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];Q[Y]=new P$(Math.max(0,(G.left-$)/X),G.width/X)}return this._mergeAdjacentRanges(Q)}static readHorizontalRanges(J,$,X,Q,Y,Z){const q=J.children.length-1;if(0>q)return null;if($=Math.min(q,Math.max(0,$)),Q=Math.min(q,Math.max(0,Q)),$===Q&&X===Y&&X===0&&!J.children[$].firstChild){const V=J.children[$].getClientRects();return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(V,Z.clientRectDeltaLeft,Z.clientRectScale)}if($!==Q){if(Q>0&&Y===0)Q--,Y=1073741824}let U=J.children[$].firstChild,H=J.children[Q].firstChild;if(!U||!H){if(!U&&X===0&&$>0)U=J.children[$-1].firstChild,X=1073741824;if(!H&&Y===0&&Q>0)H=J.children[Q-1].firstChild,Y=1073741824}if(!U||!H)return null;X=Math.min(U.textContent.length,Math.max(0,X)),Y=Math.min(H.textContent.length,Math.max(0,Y));const z=this._readClientRects(U,X,H,Y,Z.endNode);return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(z,Z.clientRectDeltaLeft,Z.clientRectScale)}}var qg=N(()=>{fq()});function NJ(J){return J===v9.HIGH_CONTRAST_DARK||J===v9.HIGH_CONTRAST_LIGHT}function BG(J){return J===v9.DARK||J===v9.HIGH_CONTRAST_DARK}var v9;var xX=N(()=>{(function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"})(v9||(v9={}))});function zg(J,$,X){const Q=$.textContent.length;let Y=-1;while($)$=$.previousSibling,Y++;return J.getColumn(new sF(Y,X),Q)}class WK{constructor(J,$){this.themeType=$;const X=J.options,Q=X.get(50);if(X.get(38)==="off")this.renderWhitespace=X.get(98);else this.renderWhitespace="none";this.renderControlCharacters=X.get(93),this.spaceWidth=Q.spaceWidth,this.middotWidth=Q.middotWidth,this.wsmiddotWidth=Q.wsmiddotWidth,this.useMonospaceOptimizations=Q.isMonospace&&!X.get(33),this.canUseHalfwidthRightwardsArrow=Q.canUseHalfwidthRightwardsArrow,this.lineHeight=X.get(66),this.stopRenderingLineAfter=X.get(116),this.fontLigatures=X.get(51)}equals(J){return this.themeType===J.themeType&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.fontLigatures===J.fontLigatures}}class TJ{constructor(J){this._options=J,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){if(this._renderedViewLine&&this._renderedViewLine.domNode)return this._renderedViewLine.domNode.domNode;return null}setDomNode(J){if(this._renderedViewLine)this._renderedViewLine.domNode=r0(J);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(J){this._isMaybeInvalid=!0,this._options=J}onSelectionChanged(){if(NJ(this._options.themeType)||this._options.renderWhitespace==="selection")return this._isMaybeInvalid=!0,!0;return!1}renderLine(J,$,X,Q){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const Y=X.getViewLineRenderingData(J),Z=this._options,G=C9.filter(Y.inlineDecorations,J,Y.minColumn,Y.maxColumn);let q=null;if(NJ(Z.themeType)||this._options.renderWhitespace==="selection"){const V=X.selections;for(let W of V){if(W.endLineNumber<J||W.startLineNumber>J)continue;const B=W.startLineNumber===J?W.startColumn:Y.minColumn,j=W.endLineNumber===J?W.endColumn:Y.maxColumn;if(B<j){if(NJ(Z.themeType))G.push(new C9(B,j,"inline-selected-text",0));if(this._options.renderWhitespace==="selection"){if(!q)q=[];q.push(new pH(B-1,j-1))}}}}const U=new q4(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,Y.content,Y.continuesWithWrappedLine,Y.isBasicASCII,Y.containsRTL,Y.minColumn-1,Y.tokens,G,Y.tabSize,Y.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==a6.OFF,q);if(this._renderedViewLine&&this._renderedViewLine.input.equals(U))return!1;Q.appendString('<div style="top:'),Q.appendString(String($)),Q.appendString("px;height:"),Q.appendString(String(this._options.lineHeight)),Q.appendString('px;" class="'),Q.appendString(TJ.CLASS_NAME),Q.appendString('">');const H=mH(U,Q);Q.appendString("</div>");let z=null;if(gq&&a70&&Y.isBasicASCII&&Z.useMonospaceOptimizations&&H.containsForeignElements===0)z=new eH(this._renderedViewLine?this._renderedViewLine.domNode:null,U,H.characterMapping);if(!z)z=Hg(this._renderedViewLine?this._renderedViewLine.domNode:null,U,H.characterMapping,H.containsRTL,H.containsForeignElements);return this._renderedViewLine=z,!0}layoutLine(J,$){if(this._renderedViewLine&&this._renderedViewLine.domNode)this._renderedViewLine.domNode.setTop($),this._renderedViewLine.domNode.setHeight(this._options.lineHeight)}getWidth(J){if(!this._renderedViewLine)return 0;return this._renderedViewLine.getWidth(J)}getWidthIsFast(){if(!this._renderedViewLine)return!0;return this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){if(!this._renderedViewLine)return!1;return this._renderedViewLine instanceof eH}monospaceAssumptionsAreValid(){if(!this._renderedViewLine)return gq;if(this._renderedViewLine instanceof eH)return this._renderedViewLine.monospaceAssumptionsAreValid();return gq}onMonospaceAssumptionsInvalidated(){if(this._renderedViewLine&&this._renderedViewLine instanceof eH)this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine()}getVisibleRangesForRange(J,$,X,Q){if(!this._renderedViewLine)return null;$=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,$)),X=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,X));const Y=this._renderedViewLine.input.stopRenderingLineAfter;if(Y!==-1&&$>Y+1&&X>Y+1)return new VK(!0,[new P$(this.getWidth(Q),0)]);if(Y!==-1&&$>Y+1)$=Y+1;if(Y!==-1&&X>Y+1)X=Y+1;const Z=this._renderedViewLine.getVisibleRangesForRange(J,$,X,Q);if(Z&&Z.length>0)return new VK(!1,Z);return null}getColumnOfNodeOffset(J,$){if(!this._renderedViewLine)return 1;return this._renderedViewLine.getColumnOfNodeOffset(J,$)}}class eH{constructor(J,$,X){this._cachedWidth=-1,this.domNode=J,this.input=$;const Q=Math.floor($.lineContent.length/300);if(Q>0){this._keyColumnPixelOffsetCache=new Float32Array(Q);for(let Y=0;Y<Q;Y++)this._keyColumnPixelOffsetCache[Y]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=X,this._charWidth=$.spaceWidth}getWidth(J){if(!this.domNode||this.input.lineContent.length<300){const $=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*$)}if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return gq;if(this.input.lineContent.length<300){const J=this.getWidth(null),$=this.domNode.domNode.firstChild.offsetWidth;if(Math.abs(J-$)>=2)console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),gq=!1}return gq}toSlowRenderedLine(){return Hg(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(J,$,X,Q){const Y=this._getColumnPixelOffset(J,$,Q),Z=this._getColumnPixelOffset(J,X,Q);return[new P$(Y,Z-Y)]}_getColumnPixelOffset(J,$,X){if($<=300){const U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}const Q=Math.floor(($-1)/300)-1,Y=(Q+1)*300+1;let Z=-1;if(this._keyColumnPixelOffsetCache){if(Z=this._keyColumnPixelOffsetCache[Q],Z===-1)Z=this._actualReadPixelOffset(J,Y,X),this._keyColumnPixelOffsetCache[Q]=Z}if(Z===-1){const U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}const G=this._characterMapping.getHorizontalOffset(Y),q=this._characterMapping.getHorizontalOffset($);return Z+this._charWidth*(q-G)}_getReadingTarget(J){return J.domNode.firstChild}_actualReadPixelOffset(J,$,X){if(!this.domNode)return-1;const Q=this._characterMapping.getDomPosition($),Y=hq.readHorizontalRanges(this._getReadingTarget(this.domNode),Q.partIndex,Q.charIndex,Q.partIndex,Q.charIndex,X);if(!Y||Y.length===0)return-1;return Y[0].left}getColumnOfNodeOffset(J,$){return zg(this._characterMapping,J,$)}}class mN{constructor(J,$,X,Q,Y){if(this.domNode=J,this.input=$,this._characterMapping=X,this._isWhitespaceOnly=/^\s*$/.test($.lineContent),this._containsForeignElements=Y,this._cachedWidth=-1,this._pixelOffsetCache=null,!Q||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,G=this._characterMapping.length;Z<=G;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(J){return J.domNode.firstChild}getWidth(J){if(!this.domNode)return 0;if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){if(this._cachedWidth===-1)return!1;return!0}getVisibleRangesForRange(J,$,X,Q){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const Y=this._readPixelOffset(this.domNode,J,$,Q);if(Y===-1)return null;const Z=this._readPixelOffset(this.domNode,J,X,Q);if(Z===-1)return null;return[new P$(Y,Z-Y)]}return this._readVisibleRangesForRange(this.domNode,J,$,X,Q)}_readVisibleRangesForRange(J,$,X,Q,Y){if(X===Q){const Z=this._readPixelOffset(J,$,X,Y);if(Z===-1)return null;else return[new P$(Z,0)]}else return this._readRawVisibleRangesForRange(J,X,Q,Y)}_readPixelOffset(J,$,X,Q){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(Q);const Y=this._getReadingTarget(J);if(Y.firstChild)return Q.markDidDomLayout(),Y.firstChild.offsetWidth;else return 0}if(this._pixelOffsetCache!==null){const Y=this._pixelOffsetCache[X];if(Y!==-1)return Y;const Z=this._actualReadPixelOffset(J,$,X,Q);return this._pixelOffsetCache[X]=Z,Z}return this._actualReadPixelOffset(J,$,X,Q)}_actualReadPixelOffset(J,$,X,Q){if(this._characterMapping.length===0){const q=hq.readHorizontalRanges(this._getReadingTarget(J),0,0,0,0,Q);if(!q||q.length===0)return-1;return q[0].left}if(X===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(Q);const Y=this._characterMapping.getDomPosition(X),Z=hq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Y.partIndex,Y.charIndex,Q);if(!Z||Z.length===0)return-1;const G=Z[0].left;if(this.input.isBasicASCII){const q=this._characterMapping.getHorizontalOffset(X),U=Math.round(this.input.spaceWidth*q);if(Math.abs(U-G)<=1)return U}return G}_readRawVisibleRangesForRange(J,$,X,Q){if($===1&&X===this._characterMapping.length)return[new P$(0,this.getWidth(Q))];const Y=this._characterMapping.getDomPosition($),Z=this._characterMapping.getDomPosition(X);return hq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Z.partIndex,Z.charIndex,Q)}getColumnOfNodeOffset(J,$){return zg(this._characterMapping,J,$)}}class Ug extends mN{_readVisibleRangesForRange(J,$,X,Q,Y){const Z=super._readVisibleRangesForRange(J,$,X,Q,Y);if(!Z||Z.length===0||X===Q||X===1&&Q===this._characterMapping.length)return Z;if(!this.input.containsRTL){const G=this._readPixelOffset(J,$,Q,Y);if(G!==-1){const q=Z[Z.length-1];if(q.left<G)q.width=G-q.left}}return Z}}var r70,i70,a70,gq,Hg;var uN=N(()=>{z9();q7();O1();qg();fq();lF();Kq();xX();F6();r70=function(J,$,X,Q,Y){return new Ug(J,$,X,Q,Y)},i70=function(J,$,X,Q,Y){return new mN(J,$,X,Q,Y)};a70=function(){if(OQ)return!0;if(q8||g7||N9)return!1;return!0}(),gq=!0;TJ.CLASS_NAME="view-line";Hg=function(){if(oJ)return r70;return i70}()});class t1{static _nextVisibleColumn(J,$,X){if(J===9)return t1.nextRenderTabStop($,X);if(D5(J)||c3(J))return $+2;return $+1}static visibleColumnFromColumn(J,$,X){const Q=Math.min($-1,J.length),Y=J.substring(0,Q),Z=new c2(Y);let G=0;while(!Z.eol()){const q=u2(Y,Q,Z.offset);Z.nextGraphemeLength(),G=this._nextVisibleColumn(q,G,X)}return G}static columnFromVisibleColumn(J,$,X){if($<=0)return 1;const Q=J.length,Y=new c2(J);let Z=0,G=1;while(!Y.eol()){const q=u2(J,Q,Y.offset);Y.nextGraphemeLength();const U=this._nextVisibleColumn(q,Z,X),H=Y.offset+1;if(U>=$){const z=$-Z;if(U-$<z)return H;else return G}Z=U,G=H}return Q+1}static nextRenderTabStop(J,$){return J+$-J%$}static nextIndentTabStop(J,$){return J+$-J%$}static prevRenderTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}static prevIndentTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}}var _J=N(()=>{l0()});class jG{static whitespaceVisibleColumn(J,$,X){const Q=J.length;let Y=0,Z=-1,G=-1;for(let q=0;q<Q;q++){if(q===$)return[Z,G,Y];if(Y%X===0)Z=q,G=Y;switch(J.charCodeAt(q)){case 32:Y+=1;break;case 9:Y=t1.nextRenderTabStop(Y,X);break;default:return[-1,-1,-1]}}if($===Q)return[Z,G,Y];return[-1,-1,-1]}static atomicPosition(J,$,X,Q){const Y=J.length,[Z,G,q]=jG.whitespaceVisibleColumn(J,$,X);if(q===-1)return-1;let U;switch(Q){case 0:U=!0;break;case 1:U=!1;break;case 2:if(q%X===0)return $;U=q%X<=X/2;break}if(U){if(Z===-1)return-1;let V=G;for(let W=Z;W<Y;++W){if(V===G+X)return Z;switch(J.charCodeAt(W)){case 32:V+=1;break;case 9:V=t1.nextRenderTabStop(V,X);break;default:return-1}}if(V===G+X)return Z;return-1}const H=t1.nextRenderTabStop(q,X);let z=q;for(let V=$;V<Y;V++){if(z===H)return V;switch(J.charCodeAt(V)){case 32:z+=1;break;case 9:z=t1.nextRenderTabStop(z,X);break;default:return-1}}if(z===H)return Y;return-1}}var cN=N(()=>{_J()});class bX{constructor(J=null){this.hitTarget=J,this.type=0}}class dN{constructor(J,$,X){this.position=J,this.spanNode=$,this.injectedText=X,this.type=1}}class sN{constructor(J,$){this.lastViewCursorsRenderData=J,this.lastTextareaPosition=$}}class Q6{static _deduceRage(J,$=null){if(!$&&J)return new L(J.lineNumber,J.column,J.lineNumber,J.column);return $!==null&&$!==void 0?$:null}static createUnknown(J,$,X){return{type:0,element:J,mouseColumn:$,position:X,range:this._deduceRage(X)}}static createTextarea(J,$){return{type:1,element:J,mouseColumn:$,position:null,range:null}}static createMargin(J,$,X,Q,Y,Z){return{type:J,element:$,mouseColumn:X,position:Q,range:Y,detail:Z}}static createViewZone(J,$,X,Q,Y){return{type:J,element:$,mouseColumn:X,position:Q,range:this._deduceRage(Q),detail:Y}}static createContentText(J,$,X,Q,Y){return{type:6,element:J,mouseColumn:$,position:X,range:this._deduceRage(X,Q),detail:Y}}static createContentEmpty(J,$,X,Q){return{type:7,element:J,mouseColumn:$,position:X,range:this._deduceRage(X),detail:Q}}static createContentWidget(J,$,X){return{type:9,element:J,mouseColumn:$,position:null,range:null,detail:X}}static createScrollbar(J,$,X){return{type:11,element:J,mouseColumn:$,position:X,range:this._deduceRage(X)}}static createOverlayWidget(J,$,X){return{type:12,element:J,mouseColumn:$,position:null,range:null,detail:X}}static createOutsideEditor(J,$,X,Q){return{type:13,element:null,mouseColumn:J,position:$,range:this._deduceRage($),outsidePosition:X,outsideDistance:Q}}static _typeToString(J){if(J===1)return"TEXTAREA";if(J===2)return"GUTTER_GLYPH_MARGIN";if(J===3)return"GUTTER_LINE_NUMBERS";if(J===4)return"GUTTER_LINE_DECORATIONS";if(J===5)return"GUTTER_VIEW_ZONE";if(J===6)return"CONTENT_TEXT";if(J===7)return"CONTENT_EMPTY";if(J===8)return"CONTENT_VIEW_ZONE";if(J===9)return"CONTENT_WIDGET";if(J===10)return"OVERVIEW_RULER";if(J===11)return"SCROLLBAR";if(J===12)return"OVERLAY_WIDGET";return"UNKNOWN"}static toString(J){return this._typeToString(J.type)+": "+J.position+" - "+J.range+" - "+JSON.stringify(J.detail)}}class f9{static isTextArea(J){return J.length===2&&J[0]===3&&J[1]===6}static isChildOfViewLines(J){return J.length>=4&&J[0]===3&&J[3]===7}static isStrictChildOfViewLines(J){return J.length>4&&J[0]===3&&J[3]===7}static isChildOfScrollableElement(J){return J.length>=2&&J[0]===3&&J[1]===5}static isChildOfMinimap(J){return J.length>=2&&J[0]===3&&J[1]===8}static isChildOfContentWidgets(J){return J.length>=4&&J[0]===3&&J[3]===1}static isChildOfOverflowGuard(J){return J.length>=1&&J[0]===3}static isChildOfOverflowingContentWidgets(J){return J.length>=1&&J[0]===2}static isChildOfOverlayWidgets(J){return J.length>=2&&J[0]===3&&J[1]===4}}class AG{constructor(J,$,X){this.viewModel=J.viewModel;const Q=J.configuration.options;this.layoutInfo=Q.get(143),this.viewDomNode=$.viewDomNode,this.lineHeight=Q.get(66),this.stickyTabStops=Q.get(115),this.typicalHalfwidthCharacterWidth=Q.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=X,this._context=J,this._viewHelper=$}getZoneAtCoord(J){return AG.getZoneAtCoord(this._context,J)}static getZoneAtCoord(J,$){const X=J.viewLayout.getWhitespaceAtVerticalOffset($);if(X){const Q=X.verticalOffset+X.height/2,Y=J.viewModel.getLineCount();let Z=null,G,q=null;if(X.afterLineNumber!==Y)q=new b(X.afterLineNumber+1,1);if(X.afterLineNumber>0)Z=new b(X.afterLineNumber,J.viewModel.getLineMaxColumn(X.afterLineNumber));if(q===null)G=Z;else if(Z===null)G=q;else if($<Q)G=Z;else G=q;return{viewZoneId:X.id,afterLineNumber:X.afterLineNumber,positionBefore:Z,positionAfter:q,position:G}}return null}getFullLineRangeAtCoord(J){if(this._context.viewLayout.isAfterLines(J)){const Q=this._context.viewModel.getLineCount(),Y=this._context.viewModel.getLineMaxColumn(Q);return{range:new L(Q,Y,Q,Y),isAfterLines:!0}}const $=this._context.viewLayout.getLineNumberAtVerticalOffset(J),X=this._context.viewModel.getLineMaxColumn($);return{range:new L($,1,$,X),isAfterLines:!1}}getLineNumberAtVerticalOffset(J){return this._context.viewLayout.getLineNumberAtVerticalOffset(J)}isAfterLines(J){return this._context.viewLayout.isAfterLines(J)}isInTopPadding(J){return this._context.viewLayout.isInTopPadding(J)}isInBottomPadding(J){return this._context.viewLayout.isInBottomPadding(J)}getVerticalOffsetForLineNumber(J){return this._context.viewLayout.getVerticalOffsetForLineNumber(J)}findAttribute(J,$){return AG._findAttribute(J,$,this._viewHelper.viewDomNode)}static _findAttribute(J,$,X){while(J&&J!==J.ownerDocument.body){if(J.hasAttribute&&J.hasAttribute($))return J.getAttribute($);if(J===X)return null;J=J.parentNode}return null}getLineWidth(J){return this._viewHelper.getLineWidth(J)}visibleRangeForPosition(J,$){return this._viewHelper.visibleRangeForPosition(J,$)}getPositionFromDOMInfo(J,$){return this._viewHelper.getPositionFromDOMInfo(J,$)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Wg{constructor(J,$,X,Q){this.editorPos=$,this.pos=X,this.relativePos=Q,this.mouseVerticalOffset=Math.max(0,J.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=J.getCurrentScrollLeft()+this.relativePos.x-J.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<J.layoutInfo.contentLeft&&this.relativePos.x>=J.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,s7._getMouseColumn(this.mouseContentHorizontalOffset,J.typicalHalfwidthCharacterWidth))}}class aN extends Wg{constructor(J,$,X,Q,Y){super(J,$,X,Q);if(this._ctx=J,Y)this.target=Y,this.targetPath=O6.collect(Y,J.viewDomNode);else this.target=null,this.targetPath=new Uint8Array(0)}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(J=null){if(J&&J.column<this._ctx.viewModel.getLineMaxColumn(J.lineNumber))return t1.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(J.lineNumber),J.column,this._ctx.viewModel.model.getOptions().tabSize)+1;return this.mouseColumn}fulfillUnknown(J=null){return Q6.createUnknown(this.target,this._getMouseColumn(J),J)}fulfillTextarea(){return Q6.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(J,$,X,Q){return Q6.createMargin(J,this.target,this._getMouseColumn($),$,X,Q)}fulfillViewZone(J,$,X){return Q6.createViewZone(J,this.target,this._getMouseColumn($),$,X)}fulfillContentText(J,$,X){return Q6.createContentText(this.target,this._getMouseColumn(J),J,$,X)}fulfillContentEmpty(J,$){return Q6.createContentEmpty(this.target,this._getMouseColumn(J),J,$)}fulfillContentWidget(J){return Q6.createContentWidget(this.target,this._getMouseColumn(),J)}fulfillScrollbar(J){return Q6.createScrollbar(this.target,this._getMouseColumn(J),J)}fulfillOverlayWidget(J){return Q6.createOverlayWidget(this.target,this._getMouseColumn(),J)}withTarget(J){return new aN(this._ctx,this.editorPos,this.pos,this.relativePos,J)}}class s7{constructor(J,$){this._context=J,this._viewHelper=$}mouseTargetIsWidget(J){const $=J.target,X=O6.collect($,this._viewHelper.viewDomNode);if(f9.isChildOfContentWidgets(X)||f9.isChildOfOverflowingContentWidgets(X))return!0;if(f9.isChildOfOverlayWidgets(X))return!0;return!1}createMouseTarget(J,$,X,Q,Y){const Z=new AG(this._context,this._viewHelper,J),G=new aN(Z,$,X,Q,Y);try{const q=s7._createMouseTarget(Z,G,!1);if(q.type===6){if(Z.stickyTabStops&&q.position!==null){const U=s7._snapToSoftTabBoundary(q.position,Z.viewModel),H=L.fromPositions(U,U).plusRange(q.range);return G.fulfillContentText(U,H,q.detail)}}return q}catch(q){return G.fulfillUnknown()}}static _createMouseTarget(J,$,X){if($.target===null){if(X)return $.fulfillUnknown();const Z=s7._doHitTest(J,$);if(Z.type===1)return s7.createMouseTargetFromHitTestPosition(J,$,Z.spanNode,Z.position,Z.injectedText);return this._createMouseTarget(J,$.withTarget(Z.hitTarget),!0)}const Q=$;let Y=null;if(!f9.isChildOfOverflowGuard($.targetPath)&&!f9.isChildOfOverflowingContentWidgets($.targetPath))Y=Y||$.fulfillUnknown();return Y=Y||s7._hitTestContentWidget(J,Q),Y=Y||s7._hitTestOverlayWidget(J,Q),Y=Y||s7._hitTestMinimap(J,Q),Y=Y||s7._hitTestScrollbarSlider(J,Q),Y=Y||s7._hitTestViewZone(J,Q),Y=Y||s7._hitTestMargin(J,Q),Y=Y||s7._hitTestViewCursor(J,Q),Y=Y||s7._hitTestTextArea(J,Q),Y=Y||s7._hitTestViewLines(J,Q,X),Y=Y||s7._hitTestScrollbar(J,Q),Y||$.fulfillUnknown()}static _hitTestContentWidget(J,$){if(f9.isChildOfContentWidgets($.targetPath)||f9.isChildOfOverflowingContentWidgets($.targetPath)){const X=J.findAttribute($.target,"widgetId");if(X)return $.fulfillContentWidget(X);else return $.fulfillUnknown()}return null}static _hitTestOverlayWidget(J,$){if(f9.isChildOfOverlayWidgets($.targetPath)){const X=J.findAttribute($.target,"widgetId");if(X)return $.fulfillOverlayWidget(X);else return $.fulfillUnknown()}return null}static _hitTestViewCursor(J,$){if($.target){const X=J.lastRenderData.lastViewCursorsRenderData;for(let Q of X)if($.target===Q.domNode)return $.fulfillContentText(Q.position,null,{mightBeForeignElement:!1,injectedText:null})}if($.isInContentArea){const X=J.lastRenderData.lastViewCursorsRenderData,Q=$.mouseContentHorizontalOffset,Y=$.mouseVerticalOffset;for(let Z of X){if(Q<Z.contentLeft)continue;if(Q>Z.contentLeft+Z.width)continue;const G=J.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(G<=Y&&Y<=G+Z.height)return $.fulfillContentText(Z.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(J,$){const X=J.getZoneAtCoord($.mouseVerticalOffset);if(X){const Q=$.isInContentArea?8:5;return $.fulfillViewZone(Q,X.position,X)}return null}static _hitTestTextArea(J,$){if(f9.isTextArea($.targetPath)){if(J.lastRenderData.lastTextareaPosition)return $.fulfillContentText(J.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null});return $.fulfillTextarea()}return null}static _hitTestMargin(J,$){if($.isInMarginArea){const X=J.getFullLineRangeAtCoord($.mouseVerticalOffset),Q=X.range.getStartPosition();let Y=Math.abs($.relativePos.x);const Z={isAfterLines:X.isAfterLines,glyphMarginLeft:J.layoutInfo.glyphMarginLeft,glyphMarginWidth:J.layoutInfo.glyphMarginWidth,lineNumbersWidth:J.layoutInfo.lineNumbersWidth,offsetX:Y};if(Y-=J.layoutInfo.glyphMarginLeft,Y<=J.layoutInfo.glyphMarginWidth)return $.fulfillMargin(2,Q,X.range,Z);if(Y-=J.layoutInfo.glyphMarginWidth,Y<=J.layoutInfo.lineNumbersWidth)return $.fulfillMargin(3,Q,X.range,Z);return Y-=J.layoutInfo.lineNumbersWidth,$.fulfillMargin(4,Q,X.range,Z)}return null}static _hitTestViewLines(J,$,X){if(!f9.isChildOfViewLines($.targetPath))return null;if(J.isInTopPadding($.mouseVerticalOffset))return $.fulfillContentEmpty(new b(1,1),Vg);if(J.isAfterLines($.mouseVerticalOffset)||J.isInBottomPadding($.mouseVerticalOffset)){const Y=J.viewModel.getLineCount(),Z=J.viewModel.getLineMaxColumn(Y);return $.fulfillContentEmpty(new b(Y,Z),Vg)}if(X){if(f9.isStrictChildOfViewLines($.targetPath)){const Y=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset);if(J.viewModel.getLineLength(Y)===0){const G=J.getLineWidth(Y),q=lN($.mouseContentHorizontalOffset-G);return $.fulfillContentEmpty(new b(Y,1),q)}const Z=J.getLineWidth(Y);if($.mouseContentHorizontalOffset>=Z){const G=lN($.mouseContentHorizontalOffset-Z),q=new b(Y,J.viewModel.getLineMaxColumn(Y));return $.fulfillContentEmpty(q,G)}}return $.fulfillUnknown()}const Q=s7._doHitTest(J,$);if(Q.type===1)return s7.createMouseTargetFromHitTestPosition(J,$,Q.spanNode,Q.position,Q.injectedText);return this._createMouseTarget(J,$.withTarget(Q.hitTarget),!0)}static _hitTestMinimap(J,$){if(f9.isChildOfMinimap($.targetPath)){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new b(X,Q))}return null}static _hitTestScrollbarSlider(J,$){if(f9.isChildOfScrollableElement($.targetPath)){if($.target&&$.target.nodeType===1){const X=$.target.className;if(X&&/\b(slider|scrollbar)\b/.test(X)){const Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Y=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new b(Q,Y))}}}return null}static _hitTestScrollbar(J,$){if(f9.isChildOfScrollableElement($.targetPath)){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new b(X,Q))}return null}getMouseColumn(J){const $=this._context.configuration.options,X=$.get(143),Q=this._context.viewLayout.getCurrentScrollLeft()+J.x-X.contentLeft;return s7._getMouseColumn(Q,$.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(J,$){if(J<0)return 1;return Math.round(J/$)+1}static createMouseTargetFromHitTestPosition(J,$,X,Q,Y){const{lineNumber:Z,column:G}=Q,q=J.getLineWidth(Z);if($.mouseContentHorizontalOffset>q){const D=lN($.mouseContentHorizontalOffset-q);return $.fulfillContentEmpty(Q,D)}const U=J.visibleRangeForPosition(Z,G);if(!U)return $.fulfillUnknown(Q);const H=U.left;if(Math.abs($.mouseContentHorizontalOffset-H)<1)return $.fulfillContentText(Q,null,{mightBeForeignElement:!!Y,injectedText:Y});const z=[];if(z.push({offset:U.left,column:G}),G>1){const D=J.visibleRangeForPosition(Z,G-1);if(D)z.push({offset:D.left,column:G-1})}const V=J.viewModel.getLineMaxColumn(Z);if(G<V){const D=J.visibleRangeForPosition(Z,G+1);if(D)z.push({offset:D.left,column:G+1})}z.sort((D,A)=>D.offset-A.offset);const W=$.pos.toClientCoordinates(),B=X.getBoundingClientRect(),j=B.left<=W.clientX&&W.clientX<=B.right;let K=null;for(let D=1;D<z.length;D++){const A=z[D-1],P=z[D];if(A.offset<=$.mouseContentHorizontalOffset&&$.mouseContentHorizontalOffset<=P.offset){K=new L(Z,A.column,Z,P.column);const R=Math.abs(A.offset-$.mouseContentHorizontalOffset),M=Math.abs(P.offset-$.mouseContentHorizontalOffset);Q=R<M?new b(Z,A.column):new b(Z,P.column);break}}return $.fulfillContentText(Q,K,{mightBeForeignElement:!j||!!Y,injectedText:Y})}static _doHitTestWithCaretRangeFromPoint(J,$){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.getVerticalOffsetForLineNumber(X),Y=Q+J.lineHeight;if(!(X===J.viewModel.getLineCount()&&$.mouseVerticalOffset>Y)){const G=Math.floor((Q+Y)/2);let q=$.pos.y+(G-$.mouseVerticalOffset);if(q<=$.editorPos.y)q=$.editorPos.y+1;if(q>=$.editorPos.y+$.editorPos.height)q=$.editorPos.y+$.editorPos.height-1;const U=new WG($.pos.x,q),H=this._actualDoHitTestWithCaretRangeFromPoint(J,U.toClientCoordinates());if(H.type===1)return H}return this._actualDoHitTestWithCaretRangeFromPoint(J,$.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(J,$){const X=jX(J.viewDomNode);let Q;if(X)if(typeof X.caretRangeFromPoint==="undefined")Q=n70(X,$.clientX,$.clientY);else Q=X.caretRangeFromPoint($.clientX,$.clientY);else Q=J.viewDomNode.ownerDocument.caretRangeFromPoint($.clientX,$.clientY);if(!Q||!Q.startContainer)return new bX;const Y=Q.startContainer;if(Y.nodeType===Y.TEXT_NODE){const Z=Y.parentNode,G=Z?Z.parentNode:null,q=G?G.parentNode:null;if((q&&q.nodeType===q.ELEMENT_NODE?q.className:null)===TJ.CLASS_NAME)return FG.createFromDOMInfo(J,Z,Q.startOffset);else return new bX(Y.parentNode)}else if(Y.nodeType===Y.ELEMENT_NODE){const Z=Y.parentNode,G=Z?Z.parentNode:null;if((G&&G.nodeType===G.ELEMENT_NODE?G.className:null)===TJ.CLASS_NAME)return FG.createFromDOMInfo(J,Y,Y.textContent.length);else return new bX(Y)}return new bX}static _doHitTestWithCaretPositionFromPoint(J,$){const X=J.viewDomNode.ownerDocument.caretPositionFromPoint($.clientX,$.clientY);if(X.offsetNode.nodeType===X.offsetNode.TEXT_NODE){const Q=X.offsetNode.parentNode,Y=Q?Q.parentNode:null,Z=Y?Y.parentNode:null;if((Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===TJ.CLASS_NAME)return FG.createFromDOMInfo(J,X.offsetNode.parentNode,X.offset);else return new bX(X.offsetNode.parentNode)}if(X.offsetNode.nodeType===X.offsetNode.ELEMENT_NODE){const Q=X.offsetNode.parentNode,Y=Q&&Q.nodeType===Q.ELEMENT_NODE?Q.className:null,Z=Q?Q.parentNode:null,G=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(Y===TJ.CLASS_NAME){const q=X.offsetNode.childNodes[Math.min(X.offset,X.offsetNode.childNodes.length-1)];if(q)return FG.createFromDOMInfo(J,q,0)}else if(G===TJ.CLASS_NAME)return FG.createFromDOMInfo(J,X.offsetNode,0)}return new bX(X.offsetNode)}static _snapToSoftTabBoundary(J,$){const X=$.getLineContent(J.lineNumber),{tabSize:Q}=$.model.getOptions(),Y=jG.atomicPosition(X,J.column-1,Q,2);if(Y!==-1)return new b(J.lineNumber,Y+1);return J}static _doHitTest(J,$){let X=new bX;if(typeof J.viewDomNode.ownerDocument.caretRangeFromPoint==="function")X=this._doHitTestWithCaretRangeFromPoint(J,$);else if(J.viewDomNode.ownerDocument.caretPositionFromPoint)X=this._doHitTestWithCaretPositionFromPoint(J,$.pos.toClientCoordinates());if(X.type===1){const Q=J.viewModel.getInjectedTextAt(X.position),Y=J.viewModel.normalizePosition(X.position,2);if(Q||!Y.equals(X.position))X=new dN(Y,X.spanNode,Q)}return X}}class KG{static getInstance(){if(!KG._INSTANCE)KG._INSTANCE=new KG;return KG._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(J,$){const X=J+$;if(this._cache[X])return this._cache[X];const Q=this._canvas.getContext("2d");Q.font=$;const Z=Q.measureText(J).width;return this._cache[X]=Z,Z}}var lN,n70,FG,Vg;var rN=N(()=>{zK();h6();uN();W1();u0();_J();y0();cN();lN=function(J){return{isAfterLines:!1,horizontalDistanceToText:J}},n70=function(J,$,X){const Q=document.createRange();let Y=J.elementFromPoint($,X);if(Y!==null){while(Y&&Y.firstChild&&Y.firstChild.nodeType!==Y.firstChild.TEXT_NODE&&Y.lastChild&&Y.lastChild.firstChild)Y=Y.lastChild;const Z=Y.getBoundingClientRect(),G=window.getComputedStyle(Y,null).getPropertyValue("font-style"),q=window.getComputedStyle(Y,null).getPropertyValue("font-variant"),U=window.getComputedStyle(Y,null).getPropertyValue("font-weight"),H=window.getComputedStyle(Y,null).getPropertyValue("font-size"),z=window.getComputedStyle(Y,null).getPropertyValue("line-height"),V=window.getComputedStyle(Y,null).getPropertyValue("font-family"),W=`${G} ${q} ${U} ${H}/${z} ${V}`,B=Y.innerText;let j=Z.left,K=0,D;if($>Z.left+Z.width)K=B.length;else{const A=KG.getInstance();for(let P=0;P<B.length+1;P++){if(D=A.getCharWidth(B.charAt(P),W)/2,j+=D,$<j){K=P;break}j+=D}}Q.setStart(Y.firstChild,K),Q.setEnd(Y.firstChild,K)}return Q};(function(J){function $(X,Q,Y){const Z=X.getPositionFromDOMInfo(Q,Y);if(Z)return new dN(Z,Q,null);return new bX(Q)}J.createFromDOMInfo=$})(FG||(FG={}));Vg={isAfterLines:!0};KG._INSTANCE=null});class J9 extends f{onclick(J,$){this._register(l(J,G0.CLICK,(X)=>$(new X6(X))))}onmousedown(J,$){this._register(l(J,G0.MOUSE_DOWN,(X)=>$(new X6(X))))}onmouseover(J,$){this._register(l(J,G0.MOUSE_OVER,(X)=>$(new X6(X))))}onmouseleave(J,$){this._register(l(J,G0.MOUSE_LEAVE,(X)=>$(new X6(X))))}onkeydown(J,$){this._register(l(J,G0.KEY_DOWN,(X)=>$(new D1(X))))}onkeyup(J,$){this._register(l(J,G0.KEY_UP,(X)=>$(new D1(X))))}oninput(J,$){this._register(l(J,G0.INPUT,$))}onblur(J,$){this._register(l(J,G0.BLUR,$))}onfocus(J,$){this._register(l(J,G0.FOCUS,$))}ignoreGesture(J){return N1.ignoreTarget(J)}}var vX=N(()=>{y0();x6();O5();h5();$0()});class iN extends J9{constructor(J){super();if(this._onActivate=J.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=J.bgWidth+"px",this.bgDomNode.style.height=J.bgHeight+"px",typeof J.top!=="undefined")this.bgDomNode.style.top="0px";if(typeof J.left!=="undefined")this.bgDomNode.style.left="0px";if(typeof J.bottom!=="undefined")this.bgDomNode.style.bottom="0px";if(typeof J.right!=="undefined")this.bgDomNode.style.right="0px";if(this.domNode=document.createElement("div"),this.domNode.className=J.className,this.domNode.classList.add(...C0.asClassNameArray(J.icon)),this.domNode.style.position="absolute",this.domNode.style.width=zY+"px",this.domNode.style.height=zY+"px",typeof J.top!=="undefined")this.domNode.style.top=J.top+"px";if(typeof J.left!=="undefined")this.domNode.style.left=J.left+"px";if(typeof J.bottom!=="undefined")this.domNode.style.bottom=J.bottom+"px";if(typeof J.right!=="undefined")this.domNode.style.right=J.right+"px";this._pointerMoveMonitor=this._register(new IX),this._register(X8(this.bgDomNode,G0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._register(X8(this.domNode,G0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._pointerdownRepeatTimer=this._register(new Y$),this._pointerdownScheduleRepeatTimer=this._register(new M6)}_arrowPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const $=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet($,200),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(X)=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),J.preventDefault()}}var zY;var BK=N(()=>{rH();vX();f1();k7();y0();zY=11});class nN extends f{constructor(J,$,X){super();this._visibility=J,this._visibleClassName=$,this._invisibleClassName=X,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new M6)}setVisibility(J){if(this._visibility!==J)this._visibility=J,this._updateShouldBeVisible()}setShouldBeVisible(J){this._rawShouldBeVisible=J,this._updateShouldBeVisible()}_applyVisibilitySetting(){if(this._visibility===2)return!1;if(this._visibility===3)return!0;return this._rawShouldBeVisible}_updateShouldBeVisible(){const J=this._applyVisibilitySetting();if(this._shouldBeVisible!==J)this._shouldBeVisible=J,this.ensureVisibility()}setIsNeeded(J){if(this._isNeeded!==J)this._isNeeded=J,this.ensureVisibility()}setDomNode(J){this._domNode=J,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}if(this._shouldBeVisible)this._reveal();else this._hide(!0)}_reveal(){if(this._isVisible)return;this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var J;(J=this._domNode)===null||J===void 0||J.setClassName(this._visibleClassName)},0)}_hide(J){var $;if(this._revealTimer.cancel(),!this._isVisible)return;this._isVisible=!1,($=this._domNode)===null||$===void 0||$.setClassName(this._invisibleClassName+(J?" fade":""))}}var Bg=N(()=>{f1();$0()});class Jz extends J9{constructor(J){super();this._lazyRender=J.lazyRender,this._host=J.host,this._scrollable=J.scrollable,this._scrollByPage=J.scrollByPage,this._scrollbarState=J.scrollbarState,this._visibilityController=this._register(new nN(J.visibility,"visible scrollbar "+J.extraScrollbarClassName,"invisible scrollbar "+J.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new IX),this._shouldRender=!0,this.domNode=r0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(l(this.domNode.domNode,G0.POINTER_DOWN,($)=>this._domNodePointerDown($)))}_createArrow(J){const $=this._register(new iN(J));this.domNode.domNode.appendChild($.bgDomNode),this.domNode.domNode.appendChild($.domNode)}_createSlider(J,$,X,Q){if(this.slider=r0(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(J),this.slider.setLeft($),typeof X==="number")this.slider.setWidth(X);if(typeof Q==="number")this.slider.setHeight(Q);this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(l(this.slider.domNode,G0.POINTER_DOWN,(Y)=>{if(Y.button===0)Y.preventDefault(),this._sliderPointerDown(Y)})),this.onclick(this.slider.domNode,(Y)=>{if(Y.leftButton)Y.stopPropagation()})}_onElementSize(J){if(this._scrollbarState.setVisibleSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollSize(J){if(this._scrollbarState.setScrollSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollPosition(J){if(this._scrollbarState.setScrollPosition(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){if(!this._shouldRender)return;this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())}_domNodePointerDown(J){if(J.target!==this.domNode.domNode)return;this._onPointerDown(J)}delegatePointerDown(J){const $=this.domNode.domNode.getClientRects()[0].top,X=$+this._scrollbarState.getSliderPosition(),Q=$+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Y=this._sliderPointerPosition(J);if(X<=Y&&Y<=Q){if(J.button===0)J.preventDefault(),this._sliderPointerDown(J)}else this._onPointerDown(J)}_onPointerDown(J){let $,X;if(J.target===this.domNode.domNode&&typeof J.offsetX==="number"&&typeof J.offsetY==="number")$=J.offsetX,X=J.offsetY;else{const Y=u7(this.domNode.domNode);$=J.pageX-Y.left,X=J.pageY-Y.top}const Q=this._pointerDownRelativePosition($,X);if(this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Q):this._scrollbarState.getDesiredScrollPositionFromOffset(Q)),J.button===0)J.preventDefault(),this._sliderPointerDown(J)}_sliderPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const $=this._sliderPointerPosition(J),X=this._sliderOrthogonalPointerPosition(J),Q=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Y)=>{const Z=this._sliderOrthogonalPointerPosition(Y),G=Math.abs(Z-X);if(F8&&G>o70){this._setDesiredScrollPositionNow(Q.getScrollPosition());return}const U=this._sliderPointerPosition(Y)-$;this._setDesiredScrollPositionNow(Q.getDesiredScrollPositionFromDelta(U))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(J){const $={};this.writeScrollPosition($,J),this._scrollable.setScrollPositionNow($)}updateScrollbarSize(J){if(this._updateScrollbarSize(J),this._scrollbarState.setScrollbarSize(J),this._shouldRender=!0,!this._lazyRender)this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var o70;var oN=N(()=>{y0();q7();rH();BK();Bg();vX();O1();o70=140});class fX{constructor(J,$,X,Q,Y,Z){this._scrollbarSize=Math.round($),this._oppositeScrollbarSize=Math.round(X),this._arrowSize=Math.round(J),this._visibleSize=Q,this._scrollSize=Y,this._scrollPosition=Z,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new fX(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(J){const $=Math.round(J);if(this._visibleSize!==$)return this._visibleSize=$,this._refreshComputedValues(),!0;return!1}setScrollSize(J){const $=Math.round(J);if(this._scrollSize!==$)return this._scrollSize=$,this._refreshComputedValues(),!0;return!1}setScrollPosition(J){const $=Math.round(J);if(this._scrollPosition!==$)return this._scrollPosition=$,this._refreshComputedValues(),!0;return!1}setScrollbarSize(J){this._scrollbarSize=Math.round(J)}setOppositeScrollbarSize(J){this._oppositeScrollbarSize=Math.round(J)}static _computeValues(J,$,X,Q,Y){const Z=Math.max(0,X-J),G=Math.max(0,Z-2*$),q=Q>0&&Q>X;if(!q)return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(G),computedSliderRatio:0,computedSliderPosition:0};const U=Math.round(Math.max(20,Math.floor(X*G/Q))),H=(G-U)/(Q-X),z=Y*H;return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(U),computedSliderRatio:H,computedSliderPosition:Math.round(z)}}_refreshComputedValues(){const J=fX._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=J.computedAvailableSize,this._computedIsNeeded=J.computedIsNeeded,this._computedSliderSize=J.computedSliderSize,this._computedSliderRatio=J.computedSliderRatio,this._computedSliderPosition=J.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(J){if(!this._computedIsNeeded)return 0;const $=J-this._arrowSize-this._computedSliderSize/2;return Math.round($/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(J){if(!this._computedIsNeeded)return 0;const $=J-this._arrowSize;let X=this._scrollPosition;if($<this._computedSliderPosition)X-=this._visibleSize;else X+=this._visibleSize;return X}getDesiredScrollPositionFromDelta(J){if(!this._computedIsNeeded)return 0;const $=this._computedSliderPosition+J;return Math.round($/this._computedSliderRatio)}}var jK=N(()=>{});class tN extends Jz{constructor(J,$,X){const Q=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:X,scrollbarState:new fX($.horizontalHasArrows?$.arrowSize:0,$.horizontal===2?0:$.horizontalScrollbarSize,$.vertical===2?0:$.verticalScrollbarSize,Q.width,Q.scrollWidth,Y.scrollLeft),visibility:$.horizontal,extraScrollbarClassName:"horizontal",scrollable:J,scrollByPage:$.scrollByPage});if($.horizontalHasArrows){const Z=($.arrowSize-zY)/2,G=($.horizontalScrollbarSize-zY)/2;this._createArrow({className:"scra",icon:z0.scrollbarButtonLeft,top:G,left:Z,bottom:void 0,right:void 0,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new UJ(null,1,0))}),this._createArrow({className:"scra",icon:z0.scrollbarButtonRight,top:G,left:void 0,bottom:void 0,right:Z,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new UJ(null,-1,0))})}this._createSlider(Math.floor(($.horizontalScrollbarSize-$.horizontalSliderSize)/2),0,void 0,$.horizontalSliderSize)}_updateSlider(J,$){this.slider.setWidth(J),this.slider.setLeft($)}_renderDomNode(J,$){this.domNode.setWidth(J),this.domNode.setHeight($),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(J.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return J}_sliderPointerPosition(J){return J.pageX}_sliderOrthogonalPointerPosition(J){return J.pageY}_updateScrollbarSize(J){this.slider.setHeight(J)}writeScrollPosition(J,$){J.scrollLeft=$}updateOptions(J){this.updateScrollbarSize(J.horizontal===2?0:J.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._visibilityController.setVisibility(J.horizontal),this._scrollByPage=J.scrollByPage}}var jg=N(()=>{O5();oN();BK();jK();h7()});class eN extends Jz{constructor(J,$,X){const Q=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:X,scrollbarState:new fX($.verticalHasArrows?$.arrowSize:0,$.vertical===2?0:$.verticalScrollbarSize,0,Q.height,Q.scrollHeight,Y.scrollTop),visibility:$.vertical,extraScrollbarClassName:"vertical",scrollable:J,scrollByPage:$.scrollByPage});if($.verticalHasArrows){const Z=($.arrowSize-zY)/2,G=($.verticalScrollbarSize-zY)/2;this._createArrow({className:"scra",icon:z0.scrollbarButtonUp,top:Z,left:G,bottom:void 0,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new UJ(null,0,1))}),this._createArrow({className:"scra",icon:z0.scrollbarButtonDown,top:void 0,left:G,bottom:Z,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new UJ(null,0,-1))})}this._createSlider(0,Math.floor(($.verticalScrollbarSize-$.verticalSliderSize)/2),$.verticalSliderSize,void 0)}_updateSlider(J,$){this.slider.setHeight(J),this.slider.setTop($)}_renderDomNode(J,$){this.domNode.setWidth($),this.domNode.setHeight(J),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(J.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return $}_sliderPointerPosition(J){return J.pageY}_sliderOrthogonalPointerPosition(J){return J.pageX}_updateScrollbarSize(J){this.slider.setWidth(J)}writeScrollPosition(J,$){J.scrollTop=$}updateOptions(J){this.updateScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(J.vertical),this._scrollByPage=J.scrollByPage}}var Fg=N(()=>{O5();oN();BK();jK();h7()});class FK{constructor(J,$,X,Q,Y,Z,G){if(this._forceIntegerValues=J,this._scrollStateBrand=void 0,this._forceIntegerValues)$=$|0,X=X|0,Q=Q|0,Y=Y|0,Z=Z|0,G=G|0;if(this.rawScrollLeft=Q,this.rawScrollTop=G,$<0)$=0;if(Q+$>X)Q=X-$;if(Q<0)Q=0;if(Y<0)Y=0;if(G+Y>Z)G=Z-Y;if(G<0)G=0;this.width=$,this.scrollWidth=X,this.scrollLeft=Q,this.height=Y,this.scrollHeight=Z,this.scrollTop=G}equals(J){return this.rawScrollLeft===J.rawScrollLeft&&this.rawScrollTop===J.rawScrollTop&&this.width===J.width&&this.scrollWidth===J.scrollWidth&&this.scrollLeft===J.scrollLeft&&this.height===J.height&&this.scrollHeight===J.scrollHeight&&this.scrollTop===J.scrollTop}withScrollDimensions(J,$){return new FK(this._forceIntegerValues,typeof J.width!=="undefined"?J.width:this.width,typeof J.scrollWidth!=="undefined"?J.scrollWidth:this.scrollWidth,$?this.rawScrollLeft:this.scrollLeft,typeof J.height!=="undefined"?J.height:this.height,typeof J.scrollHeight!=="undefined"?J.scrollHeight:this.scrollHeight,$?this.rawScrollTop:this.scrollTop)}withScrollPosition(J){return new FK(this._forceIntegerValues,this.width,this.scrollWidth,typeof J.scrollLeft!=="undefined"?J.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof J.scrollTop!=="undefined"?J.scrollTop:this.rawScrollTop)}createScrollEvent(J,$){const X=this.width!==J.width,Q=this.scrollWidth!==J.scrollWidth,Y=this.scrollLeft!==J.scrollLeft,Z=this.height!==J.height,G=this.scrollHeight!==J.scrollHeight,q=this.scrollTop!==J.scrollTop;return{inSmoothScrolling:$,oldWidth:J.width,oldScrollWidth:J.scrollWidth,oldScrollLeft:J.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:J.height,oldScrollHeight:J.scrollHeight,oldScrollTop:J.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:X,scrollWidthChanged:Q,scrollLeftChanged:Y,heightChanged:Z,scrollHeightChanged:G,scrollTopChanged:q}}}class D$ extends f{constructor(J){super();this._scrollableBrand=void 0,this._onScroll=this._register(new E),this.onScroll=this._onScroll.event,this._smoothScrollDuration=J.smoothScrollDuration,this._scheduleAtNextAnimationFrame=J.scheduleAtNextAnimationFrame,this._state=new FK(J.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;super.dispose()}setSmoothScrollDuration(J){this._smoothScrollDuration=J}validateScrollPosition(J){return this._state.withScrollPosition(J)}getScrollDimensions(){return this._state}setScrollDimensions(J,$){var X;const Q=this._state.withScrollDimensions(J,$);this._setState(Q,Boolean(this._smoothScrolling)),(X=this._smoothScrolling)===null||X===void 0||X.acceptScrollDimensions(this._state)}getFutureScrollPosition(){if(this._smoothScrolling)return this._smoothScrolling.to;return this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(J){const $=this._state.withScrollPosition(J);if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;this._setState($,!1)}setScrollPositionSmooth(J,$){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(J);if(this._smoothScrolling){J={scrollLeft:typeof J.scrollLeft==="undefined"?this._smoothScrolling.to.scrollLeft:J.scrollLeft,scrollTop:typeof J.scrollTop==="undefined"?this._smoothScrolling.to.scrollTop:J.scrollTop};const X=this._state.withScrollPosition(J);if(this._smoothScrolling.to.scrollLeft===X.scrollLeft&&this._smoothScrolling.to.scrollTop===X.scrollTop)return;let Q;if($)Q=new $z(this._smoothScrolling.from,X,this._smoothScrolling.startTime,this._smoothScrolling.duration);else Q=this._smoothScrolling.combine(this._state,X,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=Q}else{const X=this._state.withScrollPosition(J);this._smoothScrolling=$z.start(this._state,X,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;const J=this._smoothScrolling.tick(),$=this._state.withScrollPosition(J);if(this._setState($,!0),!this._smoothScrolling)return;if(J.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}_setState(J,$){const X=this._state;if(X.equals(J))return;this._state=J,this._onScroll.fire(this._state.createScrollEvent(X,$))}}class $T{constructor(J,$,X){this.scrollLeft=J,this.scrollTop=$,this.isDone=X}}class $z{constructor(J,$,X,Q){this.from=J,this.to=$,this.duration=Q,this.startTime=X,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(J,$,X){if(Math.abs(J-$)>2.5*X){let Y,Z;if(J<$)Y=J+0.75*X,Z=$-0.75*X;else Y=J-0.75*X,Z=$+0.75*X;return t70(JT(J,Y),JT(Z,$),0.33)}return JT(J,$)}dispose(){if(this.animationFrameDisposable!==null)this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null}acceptScrollDimensions(J){this.to=J.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(J){const $=(J-this.startTime)/this.duration;if($<1){const X=this.scrollLeft($),Q=this.scrollTop($);return new $T(X,Q,!1)}return new $T(this.to.scrollLeft,this.to.scrollTop,!0)}combine(J,$,X){return $z.start(J,$,X)}static start(J,$,X){X=X+10;const Q=Date.now()-10;return new $z(J,$,Q,X)}}var JT,t70,e70,J60;var Xz=N(()=>{A0();$0();JT=function(J,$){const X=$-J;return function(Q){return J+X*J60(Q)}},t70=function(J,$,X){return function(Q){if(Q<X)return J(Q/X);return $((Q-X)/(1-X))}},e70=function(J){return Math.pow(J,3)},J60=function(J){return 1-e70(1-J)}});var Kg=N(()=>{j1();F0(".monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;z-index:11;background:0 0;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{display:none;position:absolute}.monaco-scrollable-element>.shadow.top{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;width:100%;height:3px;display:block;top:0;left:3px}.monaco-scrollable-element>.shadow.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset;width:3px;height:100%;display:block;top:3px;left:0}.monaco-scrollable-element>.shadow.top-left-corner{width:3px;height:3px;display:block;top:0;left:0}.monaco-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset}.monaco-scrollable-element>.scrollbar>.slider{background:var(--vscode-scrollbarSlider-background)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-scrollable-element>.scrollbar>.slider.active{background:var(--vscode-scrollbarSlider-activeBackground)}")});class Dg{constructor(J,$,X){this.timestamp=J,this.deltaX=$,this.deltaY=X,this.score=0}}class pq{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let J=1,$=0,X=1,Q=this._rear;do{const Y=Q===this._front?J:Math.pow(2,-X);if(J-=Y,$+=this._memory[Q].score*Y,Q===this._front)break;Q=(this._capacity+Q-1)%this._capacity,X++}while(!0);return $<=0.5}acceptStandardWheelEvent(J){const $=window.devicePixelRatio/Zx();if(F8||q8)this.accept(Date.now(),J.deltaX/$,J.deltaY/$);else this.accept(Date.now(),J.deltaX,J.deltaY)}accept(J,$,X){const Q=new Dg(J,$,X);if(Q.score=this._computeScore(Q),this._front===-1&&this._rear===-1)this._memory[0]=Q,this._front=0,this._rear=0;else{if(this._rear=(this._rear+1)%this._capacity,this._rear===this._front)this._front=(this._front+1)%this._capacity;this._memory[this._rear]=Q}}_computeScore(J){if(Math.abs(J.deltaX)>0&&Math.abs(J.deltaY)>0)return 1;let $=0.5;const X=this._front===-1&&this._rear===-1?null:this._memory[this._rear];if(!this._isAlmostInt(J.deltaX)||!this._isAlmostInt(J.deltaY))$+=0.25;return Math.min(Math.max($,0),1)}_isAlmostInt(J){return Math.abs(Math.round(J)-J)<0.01}}class KK extends J9{get options(){return this._options}constructor(J,$,X){super();this._onScroll=this._register(new E),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new E),J.style.overflow="hidden",this._options=X60($),this._scrollable=X,this._register(this._scrollable.onScroll((Y)=>{this._onWillScroll.fire(Y),this._onDidScroll(Y),this._onScroll.fire(Y)}));const Q={onMouseWheel:(Y)=>this._onMouseWheel(Y),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};if(this._verticalScrollbar=this._register(new eN(this._scrollable,this._options,Q)),this._horizontalScrollbar=this._register(new tN(this._scrollable,this._options,Q)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(J),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows)this._leftShadowDomNode=r0(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=r0(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=r0(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode);else this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null;this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(Y)=>this._onMouseOver(Y)),this.onmouseleave(this._listenOnDomNode,(Y)=>this._onMouseLeave(Y)),this._hideTimeout=this._register(new M6),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=w1(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(J){this._verticalScrollbar.delegatePointerDown(J)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(J){this._scrollable.setScrollDimensions(J,!1)}updateClassName(J){if(this._options.className=J,n0)this._options.className+=" mac";this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(J){if(typeof J.handleMouseWheel!=="undefined")this._options.handleMouseWheel=J.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel);if(typeof J.mouseWheelScrollSensitivity!=="undefined")this._options.mouseWheelScrollSensitivity=J.mouseWheelScrollSensitivity;if(typeof J.fastScrollSensitivity!=="undefined")this._options.fastScrollSensitivity=J.fastScrollSensitivity;if(typeof J.scrollPredominantAxis!=="undefined")this._options.scrollPredominantAxis=J.scrollPredominantAxis;if(typeof J.horizontal!=="undefined")this._options.horizontal=J.horizontal;if(typeof J.vertical!=="undefined")this._options.vertical=J.vertical;if(typeof J.horizontalScrollbarSize!=="undefined")this._options.horizontalScrollbarSize=J.horizontalScrollbarSize;if(typeof J.verticalScrollbarSize!=="undefined")this._options.verticalScrollbarSize=J.verticalScrollbarSize;if(typeof J.scrollByPage!=="undefined")this._options.scrollByPage=J.scrollByPage;if(this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),!this._options.lazyRender)this._render()}delegateScrollFromMouseWheelEvent(J){this._onMouseWheel(new UJ(J))}_setListeningToMouseWheel(J){if(this._mouseWheelToDispose.length>0===J)return;if(this._mouseWheelToDispose=w1(this._mouseWheelToDispose),J){const X=(Q)=>{this._onMouseWheel(new UJ(Q))};this._mouseWheelToDispose.push(l(this._listenOnDomNode,G0.MOUSE_WHEEL,X,{passive:!1}))}}_onMouseWheel(J){var $;if(($=J.browserEvent)===null||$===void 0?void 0:$.defaultPrevented)return;const X=pq.INSTANCE;if(Pg)X.acceptStandardWheelEvent(J);let Q=!1;if(J.deltaY||J.deltaX){let Z=J.deltaY*this._options.mouseWheelScrollSensitivity,G=J.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis)if(this._options.scrollYToX&&G+Z===0)G=Z=0;else if(Math.abs(Z)>=Math.abs(G))G=0;else Z=0;if(this._options.flipAxes)[Z,G]=[G,Z];const q=!n0&&J.browserEvent&&J.browserEvent.shiftKey;if((this._options.scrollYToX||q)&&!G)G=Z,Z=0;if(J.browserEvent&&J.browserEvent.altKey)G=G*this._options.fastScrollSensitivity,Z=Z*this._options.fastScrollSensitivity;const U=this._scrollable.getFutureScrollPosition();let H={};if(Z){const z=Ag*Z,V=U.scrollTop-(z<0?Math.floor(z):Math.ceil(z));this._verticalScrollbar.writeScrollPosition(H,V)}if(G){const z=Ag*G,V=U.scrollLeft-(z<0?Math.floor(z):Math.ceil(z));this._horizontalScrollbar.writeScrollPosition(H,V)}if(H=this._scrollable.validateScrollPosition(H),U.scrollLeft!==H.scrollLeft||U.scrollTop!==H.scrollTop){if(Pg&&this._options.mouseWheelSmoothScroll&&X.isPhysicalMouseWheel())this._scrollable.setScrollPositionSmooth(H);else this._scrollable.setScrollPositionNow(H);Q=!0}}let Y=Q;if(!Y&&this._options.alwaysConsumeMouseWheel)Y=!0;if(!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded()))Y=!0;if(Y)J.preventDefault(),J.stopPropagation()}_onDidScroll(J){if(this._shouldRender=this._horizontalScrollbar.onDidScroll(J)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(J)||this._shouldRender,this._options.useShadows)this._shouldRender=!0;if(this._revealOnScroll)this._reveal();if(!this._options.lazyRender)this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!this._shouldRender)return;if(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows){const J=this._scrollable.getCurrentScrollPosition(),$=J.scrollTop>0,X=J.scrollLeft>0,Q=X?" left":"",Y=$?" top":"",Z=X||$?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Q}`),this._topShadowDomNode.setClassName(`shadow${Y}`),this._topLeftShadowDomNode.setClassName(`shadow${Z}${Y}${Q}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(J){this._mouseIsOver=!1,this._hide()}_onMouseOver(J){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){if(!this._mouseIsOver&&!this._isDragging)this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide()}_scheduleHide(){if(!this._mouseIsOver&&!this._isDragging)this._hideTimeout.cancelAndSet(()=>this._hide(),$60)}}class XT extends KK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;const X=new D$({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(Q)=>R6(Q)});super(J,$,X);this._register(X)}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}}class PG extends KK{constructor(J,$,X){super(J,$,X)}setScrollPosition(J){if(J.reuseAnimation)this._scrollable.setScrollPositionSmooth(J,J.reuseAnimation);else this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class DG extends KK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;const X=new D$({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(Q)=>R6(Q)});super(J,$,X);this._register(X),this._element=J,this._register(this.onScroll((Q)=>{if(Q.scrollTopChanged)this._element.scrollTop=Q.scrollTop;if(Q.scrollLeftChanged)this._element.scrollLeft=Q.scrollLeft})),this.scanDomNode()}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}var X60,$60,Ag,Pg;var hX=N(()=>{z9();y0();q7();O5();jg();Fg();vX();f1();A0();$0();O1();Xz();Kg();X60=function(J){const $={lazyRender:typeof J.lazyRender!=="undefined"?J.lazyRender:!1,className:typeof J.className!=="undefined"?J.className:"",useShadows:typeof J.useShadows!=="undefined"?J.useShadows:!0,handleMouseWheel:typeof J.handleMouseWheel!=="undefined"?J.handleMouseWheel:!0,flipAxes:typeof J.flipAxes!=="undefined"?J.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof J.consumeMouseWheelIfScrollbarIsNeeded!=="undefined"?J.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof J.alwaysConsumeMouseWheel!=="undefined"?J.alwaysConsumeMouseWheel:!1,scrollYToX:typeof J.scrollYToX!=="undefined"?J.scrollYToX:!1,mouseWheelScrollSensitivity:typeof J.mouseWheelScrollSensitivity!=="undefined"?J.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof J.fastScrollSensitivity!=="undefined"?J.fastScrollSensitivity:5,scrollPredominantAxis:typeof J.scrollPredominantAxis!=="undefined"?J.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof J.mouseWheelSmoothScroll!=="undefined"?J.mouseWheelSmoothScroll:!0,arrowSize:typeof J.arrowSize!=="undefined"?J.arrowSize:11,listenOnDomNode:typeof J.listenOnDomNode!=="undefined"?J.listenOnDomNode:null,horizontal:typeof J.horizontal!=="undefined"?J.horizontal:1,horizontalScrollbarSize:typeof J.horizontalScrollbarSize!=="undefined"?J.horizontalScrollbarSize:10,horizontalSliderSize:typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:0,horizontalHasArrows:typeof J.horizontalHasArrows!=="undefined"?J.horizontalHasArrows:!1,vertical:typeof J.vertical!=="undefined"?J.vertical:1,verticalScrollbarSize:typeof J.verticalScrollbarSize!=="undefined"?J.verticalScrollbarSize:10,verticalHasArrows:typeof J.verticalHasArrows!=="undefined"?J.verticalHasArrows:!1,verticalSliderSize:typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:0,scrollByPage:typeof J.scrollByPage!=="undefined"?J.scrollByPage:!1};if($.horizontalSliderSize=typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:$.horizontalScrollbarSize,$.verticalSliderSize=typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:$.verticalScrollbarSize,n0)$.className+=" mac";return $},$60=500,Ag=50,Pg=!0;pq.INSTANCE=new pq});class Qz extends F4{constructor(J,$,X){super();this._mouseLeaveMonitor=null,this._context=J,this.viewController=$,this.viewHelper=X,this.mouseTargetFactory=new s7(this._context,X),this._mouseDownOperation=this._register(new Rg(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Z,G)=>this._createMouseTarget(Z,G),(Z)=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const Q=new xN(this.viewHelper.viewDomNode);this._register(Q.onContextMenu(this.viewHelper.viewDomNode,(Z)=>this._onContextMenu(Z,!0))),this._register(Q.onMouseMove(this.viewHelper.viewDomNode,(Z)=>{if(this._onMouseMove(Z),!this._mouseLeaveMonitor)this._mouseLeaveMonitor=l(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(G)=>{if(!this.viewHelper.viewDomNode.contains(G.target))this._onMouseLeave(new j4(G,!1,this.viewHelper.viewDomNode))})})),this._register(Q.onMouseUp(this.viewHelper.viewDomNode,(Z)=>this._onMouseUp(Z))),this._register(Q.onMouseLeave(this.viewHelper.viewDomNode,(Z)=>this._onMouseLeave(Z)));let Y=0;this._register(Q.onPointerDown(this.viewHelper.viewDomNode,(Z,G)=>{Y=G})),this._register(l(this.viewHelper.viewDomNode,G0.POINTER_UP,(Z)=>{this._mouseDownOperation.onPointerUp()})),this._register(Q.onMouseDown(this.viewHelper.viewDomNode,(Z)=>this._onMouseDown(Z,Y))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const J=pq.INSTANCE;let $=0,X=ZJ.getZoomLevel(),Q=!1,Y=0;const Z=(q)=>{if(this.viewController.emitMouseWheel(q),!this._context.configuration.options.get(75))return;const U=new UJ(q);if(J.acceptStandardWheelEvent(U),J.isPhysicalMouseWheel()){if(G(q)){const H=ZJ.getZoomLevel(),z=U.deltaY>0?1:-1;ZJ.setZoomLevel(H+z),U.preventDefault(),U.stopPropagation()}}else{if(Date.now()-$>50)X=ZJ.getZoomLevel(),Q=G(q),Y=0;if($=Date.now(),Y+=U.deltaY,Q)ZJ.setZoomLevel(X+Y/5),U.preventDefault(),U.stopPropagation()}};this._register(l(this.viewHelper.viewDomNode,G0.MOUSE_WHEEL,Z,{capture:!0,passive:!1}));function G(q){return n0?(q.metaKey||q.ctrlKey)&&!q.shiftKey&&!q.altKey:q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey}}dispose(){if(this._context.removeEventHandler(this),this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;super.dispose()}onConfigurationChanged(J){if(J.hasChanged(143)){const $=this._context.configuration.options.get(143).height;if(this._height!==$)this._height=$,this._mouseDownOperation.onHeightChanged()}return!1}onCursorStateChanged(J){return this._mouseDownOperation.onCursorStateChanged(J),!1}onFocusChanged(J){return!1}getTargetAtClientPoint(J,$){const Q=new qK(J,$).toPageCoordinates(),Y=UK(this.viewHelper.viewDomNode);if(Q.y<Y.y||Q.y>Y.y+Y.height||Q.x<Y.x||Q.x>Y.x+Y.width)return null;const Z=HK(this.viewHelper.viewDomNode,Y,Q);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Y,Q,Z,null)}_createMouseTarget(J,$){let X=J.target;if(!this.viewHelper.viewDomNode.contains(X)){const Q=jX(this.viewHelper.viewDomNode);if(Q)X=Q.elementsFromPoint(J.posx,J.posy).find((Y)=>this.viewHelper.viewDomNode.contains(Y))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),J.editorPos,J.pos,J.relativePos,$?X:null)}_getMouseColumn(J){return this.mouseTargetFactory.getMouseColumn(J.relativePos)}_onContextMenu(J,$){this.viewController.emitContextMenu({event:J,target:this._createMouseTarget(J,$)})}_onMouseMove(J){if(!this.mouseTargetFactory.mouseTargetIsWidget(J))J.preventDefault();if(this._mouseDownOperation.isActive())return;if(J.timestamp<this.lastMouseLeaveTime)return;this.viewController.emitMouseMove({event:J,target:this._createMouseTarget(J,!0)})}_onMouseLeave(J){if(this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;this.lastMouseLeaveTime=(new Date()).getTime(),this.viewController.emitMouseLeave({event:J,target:null})}_onMouseUp(J){this.viewController.emitMouseUp({event:J,target:this._createMouseTarget(J,!0)})}_onMouseDown(J,$){const X=this._createMouseTarget(J,!0),Q=X.type===6||X.type===7,Y=X.type===2||X.type===3||X.type===4,Z=X.type===3,G=this._context.configuration.options.get(108),q=X.type===8||X.type===5,U=X.type===9;let H=J.leftButton||J.middleButton;if(n0&&J.leftButton&&J.ctrlKey)H=!1;const z=()=>{J.preventDefault(),this.viewHelper.focusTextArea()};if(H&&(Q||Z&&G))z(),this._mouseDownOperation.start(X.type,J,$);else if(Y)J.preventDefault();else if(q){const V=X.detail;if(H&&this.viewHelper.shouldSuppressMouseDownOnViewZone(V.viewZoneId))z(),this._mouseDownOperation.start(X.type,J,$),J.preventDefault()}else if(U&&this.viewHelper.shouldSuppressMouseDownOnWidget(X.detail))z(),J.preventDefault();this.viewController.emitMouseDown({event:J,target:X})}}class Rg extends f{constructor(J,$,X,Q,Y,Z){super();this._context=J,this._viewController=$,this._viewHelper=X,this._mouseTargetFactory=Q,this._createMouseTarget=Y,this._getMouseColumn=Z,this._mouseMoveMonitor=this._register(new vN(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new Mg(this._context,this._viewHelper,this._mouseTargetFactory,(G,q,U)=>this._dispatchMouse(G,q,U))),this._mouseState=new AK,this._currentSelection=new b0(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(J){this._lastMouseEvent=J,this._mouseState.setModifiers(J);const $=this._findMousePosition(J,!1);if(!$)return;if(this._mouseState.isDragAndDrop)this._viewController.emitMouseDrag({event:J,target:$});else if($.type===13&&($.outsidePosition==="above"||$.outsidePosition==="below"))this._topBottomDragScrolling.start($,J);else this._topBottomDragScrolling.stop(),this._dispatchMouse($,!0,1)}start(J,$,X){this._lastMouseEvent=$,this._mouseState.setStartedOnLineNumbers(J===3),this._mouseState.setStartButtons($),this._mouseState.setModifiers($);const Q=this._findMousePosition($,!0);if(!Q||!Q.position)return;this._mouseState.trySetCount($.detail,Q.position),$.detail=this._mouseState.count;const Y=this._context.configuration.options;if(!Y.get(90)&&Y.get(35)&&!Y.get(22)&&!this._mouseState.altKey&&$.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&Q.type===6&&Q.position&&this._currentSelection.containsPosition(Q.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,X,$.buttons,(Z)=>this._onMouseDownThenMove(Z),(Z)=>{const G=this._findMousePosition(this._lastMouseEvent,!1);if(Z&&Z instanceof KeyboardEvent)this._viewController.emitMouseDropCanceled();else this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:G?this._createMouseTarget(this._lastMouseEvent,!0):null});this._stop()});return}if(this._mouseState.isDragAndDrop=!1,this._dispatchMouse(Q,$.shiftKey,1),!this._isActive)this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,X,$.buttons,(Z)=>this._onMouseDownThenMove(Z),()=>this._stop())}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(J){this._currentSelection=J.selections[0]}_getPositionOutsideEditor(J){const $=J.editorPos,X=this._context.viewModel,Q=this._context.viewLayout,Y=this._getMouseColumn(J);if(J.posy<$.y){const G=$.y-J.posy,q=Math.max(Q.getCurrentScrollTop()-G,0),U=AG.getZoneAtCoord(this._context,q);if(U){const z=this._helpPositionJumpOverViewZone(U);if(z)return Q6.createOutsideEditor(Y,z,"above",G)}const H=Q.getLineNumberAtVerticalOffset(q);return Q6.createOutsideEditor(Y,new b(H,1),"above",G)}if(J.posy>$.y+$.height){const G=J.posy-$.y-$.height,q=Q.getCurrentScrollTop()+J.relativePos.y,U=AG.getZoneAtCoord(this._context,q);if(U){const z=this._helpPositionJumpOverViewZone(U);if(z)return Q6.createOutsideEditor(Y,z,"below",G)}const H=Q.getLineNumberAtVerticalOffset(q);return Q6.createOutsideEditor(Y,new b(H,X.getLineMaxColumn(H)),"below",G)}const Z=Q.getLineNumberAtVerticalOffset(Q.getCurrentScrollTop()+J.relativePos.y);if(J.posx<$.x){const G=$.x-J.posx;return Q6.createOutsideEditor(Y,new b(Z,1),"left",G)}if(J.posx>$.x+$.width){const G=J.posx-$.x-$.width;return Q6.createOutsideEditor(Y,new b(Z,X.getLineMaxColumn(Z)),"right",G)}return null}_findMousePosition(J,$){const X=this._getPositionOutsideEditor(J);if(X)return X;const Q=this._createMouseTarget(J,$);if(!Q.position)return null;if(Q.type===8||Q.type===5){const Z=this._helpPositionJumpOverViewZone(Q.detail);if(Z)return Q6.createViewZone(Q.type,Q.element,Q.mouseColumn,Z,Q.detail)}return Q}_helpPositionJumpOverViewZone(J){const $=new b(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),X=J.positionBefore,Q=J.positionAfter;if(X&&Q)if(X.isBefore($))return X;else return Q;return null}_dispatchMouse(J,$,X){if(!J.position)return;this._viewController.dispatchMouse({position:J.position,mouseColumn:J.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:X,inSelectionMode:$,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:J.type===6&&J.detail.injectedText!==null})}}class Mg extends f{constructor(J,$,X,Q){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=X,this._dispatchMouse=Q,this._operation=null}dispose(){super.dispose(),this.stop()}start(J,$){if(this._operation)this._operation.setPosition(J,$);else this._operation=new Og(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,J,$)}stop(){if(this._operation)this._operation.dispose(),this._operation=null}}class Og extends f{constructor(J,$,X,Q,Y,Z){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=X,this._dispatchMouse=Q,this._position=Y,this._mouseEvent=Z,this._lastTime=Date.now(),this._animationFrameDisposable=R6(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(J,$){this._position=J,this._mouseEvent=$}_tick(){const J=Date.now(),$=J-this._lastTime;return this._lastTime=J,$}_getScrollSpeed(){const J=this._context.configuration.options.get(66),$=this._context.configuration.options.get(143).height/J,X=this._position.outsideDistance/J;if(X<=1.5)return Math.max(30,$*(1+X));if(X<=3)return Math.max(60,$*(2+X));return Math.max(200,$*(7+X))}_execute(){const J=this._context.configuration.options.get(66),$=this._getScrollSpeed(),X=this._tick(),Q=$*(X/1000)*J,Y=this._position.outsidePosition==="above"?-Q:Q;this._context.viewModel.viewLayout.deltaScrollNow(0,Y),this._viewHelper.renderNow();const Z=this._context.viewLayout.getLinesViewportData(),G=this._position.outsidePosition==="above"?Z.startLineNumber:Z.endLineNumber;let q;{const U=UK(this._viewHelper.viewDomNode),H=this._context.configuration.options.get(143).horizontalScrollbarHeight,z=new WG(this._mouseEvent.pos.x,U.y+U.height-H-0.1),V=HK(this._viewHelper.viewDomNode,U,z);q=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),U,z,V,null)}if(!q.position||q.position.lineNumber!==G)if(this._position.outsidePosition==="above")q=Q6.createOutsideEditor(this._position.mouseColumn,new b(G,1),"above",this._position.outsideDistance);else q=Q6.createOutsideEditor(this._position.mouseColumn,new b(G,this._context.viewModel.getLineMaxColumn(G)),"below",this._position.outsideDistance);this._dispatchMouse(q,!0,2),this._animationFrameDisposable=R6(()=>this._execute())}}class AK{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(J){this._altKey=J.altKey,this._ctrlKey=J.ctrlKey,this._metaKey=J.metaKey,this._shiftKey=J.shiftKey}setStartButtons(J){this._leftButton=J.leftButton,this._middleButton=J.middleButton}setStartedOnLineNumbers(J){this._startedOnLineNumbers=J}trySetCount(J,$){const X=(new Date()).getTime();if(X-this._lastSetMouseDownCountTime>AK.CLEAR_MOUSE_DOWN_COUNT_TIME)J=1;if(this._lastSetMouseDownCountTime=X,J>this._lastMouseDownCount+1)J=this._lastMouseDownCount+1;if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals($))this._lastMouseDownPositionEqualCount++;else this._lastMouseDownPositionEqualCount=1;this._lastMouseDownPosition=$,this._lastMouseDownCount=Math.min(J,this._lastMouseDownPositionEqualCount)}}var Ng=N(()=>{y0();O5();$0();O1();rN();zK();l3();W1();f7();bq();hX();AK.CLEAR_MOUSE_DOWN_COUNT_TIME=400});class X1{get event(){return this.emitter.event}constructor(J,$,X){const Q=(Y)=>this.emitter.fire(Y);this.emitter=new E({onWillAddFirstListener:()=>J.addEventListener($,Q,X),onDidRemoveLastListener:()=>J.removeEventListener($,Q,X)})}dispose(){this.emitter.dispose()}}var K4=N(()=>{A0()});var R$;var QT=N(()=>{(function(J){const $={total:0,min:Number.MAX_VALUE,max:0},X=Object.assign({},$),Q=Object.assign({},$),Y=Object.assign({},$);let Z=0;const G={keydown:0,input:0,render:0};function q(){A(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),G.keydown=1,queueMicrotask(U)}J.onKeyDown=q;function U(){if(G.keydown===1)performance.mark("keydown/end"),G.keydown=2}function H(){performance.mark("input/start"),G.input=1,D()}J.onBeforeInput=H;function z(){if(G.input===0)H();queueMicrotask(V)}J.onInput=z;function V(){if(G.input===1)performance.mark("input/end"),G.input=2}function W(){A()}J.onKeyUp=W;function B(){A()}J.onSelectionChange=B;function j(){if(G.keydown===2&&G.input===2&&G.render===0)performance.mark("render/start"),G.render=1,queueMicrotask(K),D()}J.onRenderStart=j;function K(){if(G.render===1)performance.mark("render/end"),G.render=2}function D(){setTimeout(A)}function A(){if(G.keydown===2&&G.input===2&&G.render===2)performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),P("keydown",$),P("input",X),P("render",Q),P("inputlatency",Y),Z++,R()}function P(w,x){const C=performance.getEntriesByName(w)[0].duration;x.total+=C,x.min=Math.min(x.min,C),x.max=Math.max(x.max,C)}function R(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),G.keydown=0,G.input=0,G.render=0}function M(){if(Z===0)return;const w={keydown:T($),input:T(X),render:T(Q),total:T(Y),sampleCount:Z};return _($),_(X),_(Q),_(Y),Z=0,w}J.getAndClearMeasurements=M;function T(w){return{average:w.total/Z,max:w.max,min:w.min}}function _(w){w.total=0,w.min=Number.MAX_VALUE,w.max=0}})(R$||(R$={}))});class D7{constructor(J,$,X,Q,Y){this.value=J,this.selectionStart=$,this.selectionEnd=X,this.selection=Q,this.newlineCountBeforeSelection=Y}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(J,$){const X=J.getValue(),Q=J.getSelectionStart(),Y=J.getSelectionEnd();let Z=void 0;if($){const G=X.substring(0,Q),q=$.value.substring(0,$.selectionStart);if(G===q)Z=$.newlineCountBeforeSelection}return new D7(X,Q,Y,null,Z)}collapseSelection(){if(this.selectionStart===this.value.length)return this;return new D7(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(J,$,X){if(h9)console.log(`writeToTextArea ${J}: ${this.toString()}`);if($.setValue(J,this.value),X)$.setSelectionRange(J,this.selectionStart,this.selectionEnd)}deduceEditorPosition(J){var $,X,Q,Y,Z,G,q,U;if(J<=this.selectionStart){const V=this.value.substring(J,this.selectionStart);return this._finishDeduceEditorPosition((X=($=this.selection)===null||$===void 0?void 0:$.getStartPosition())!==null&&X!==void 0?X:null,V,-1)}if(J>=this.selectionEnd){const V=this.value.substring(this.selectionEnd,J);return this._finishDeduceEditorPosition((Y=(Q=this.selection)===null||Q===void 0?void 0:Q.getEndPosition())!==null&&Y!==void 0?Y:null,V,1)}const H=this.value.substring(this.selectionStart,J);if(H.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((G=(Z=this.selection)===null||Z===void 0?void 0:Z.getStartPosition())!==null&&G!==void 0?G:null,H,1);const z=this.value.substring(J,this.selectionEnd);return this._finishDeduceEditorPosition((U=(q=this.selection)===null||q===void 0?void 0:q.getEndPosition())!==null&&U!==void 0?U:null,z,-1)}_finishDeduceEditorPosition(J,$,X){let Q=0,Y=-1;while((Y=$.indexOf("\n",Y+1))!==-1)Q++;return[J,X*$.length,Q]}static deduceInput(J,$,X){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(h9)console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);const Q=Math.min(EZ(J.value,$.value),J.selectionStart,$.selectionStart),Y=Math.min(m3(J.value,$.value),J.value.length-J.selectionEnd,$.value.length-$.selectionEnd),Z=J.value.substring(Q,J.value.length-Y),G=$.value.substring(Q,$.value.length-Y),q=J.selectionStart-Q,U=J.selectionEnd-Q,H=$.selectionStart-Q,z=$.selectionEnd-Q;if(h9)console.log(`AFTER DIFFING PREVIOUS STATE: <${Z}>, selectionStart: ${q}, selectionEnd: ${U}`),console.log(`AFTER DIFFING CURRENT STATE: <${G}>, selectionStart: ${H}, selectionEnd: ${z}`);if(H===z){const W=J.selectionStart-Q;if(h9)console.log(`REMOVE PREVIOUS: ${W} chars`);return{text:G,replacePrevCharCnt:W,replaceNextCharCnt:0,positionDelta:0}}const V=U-q;return{text:G,replacePrevCharCnt:V,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(J,$){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(h9)console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);if(J.value===$.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:$.selectionEnd-J.selectionEnd};const X=Math.min(EZ(J.value,$.value),J.selectionEnd),Q=Math.min(m3(J.value,$.value),J.value.length-J.selectionEnd),Y=J.value.substring(X,J.value.length-Q),Z=$.value.substring(X,$.value.length-Q),G=J.selectionStart-X,q=J.selectionEnd-X,U=$.selectionStart-X,H=$.selectionEnd-X;if(h9)console.log(`AFTER DIFFING PREVIOUS STATE: <${Y}>, selectionStart: ${G}, selectionEnd: ${q}`),console.log(`AFTER DIFFING CURRENT STATE: <${Z}>, selectionStart: ${U}, selectionEnd: ${H}`);return{text:Z,replacePrevCharCnt:q,replaceNextCharCnt:Y.length-q,positionDelta:H-Z.length}}}class RG{static _getPageOfLine(J,$){return Math.floor((J-1)/$)}static _getRangeForPage(J,$){const X=J*$,Q=X+1,Y=X+$;return new L(Q,1,Y+1,1)}static fromEditorSelection(J,$,X,Q){const Z=RG._getPageOfLine($.startLineNumber,X),G=RG._getRangeForPage(Z,X),q=RG._getPageOfLine($.endLineNumber,X),U=RG._getRangeForPage(q,X);let H=G.intersectRanges(new L(1,1,$.startLineNumber,$.startColumn));if(Q&&J.getValueLengthInRange(H,1)>500){const D=J.modifyPosition(H.getEndPosition(),-500);H=L.fromPositions(D,H.getEndPosition())}const z=J.getValueInRange(H,1),V=J.getLineCount(),W=J.getLineMaxColumn(V);let B=U.intersectRanges(new L($.endLineNumber,$.endColumn,V,W));if(Q&&J.getValueLengthInRange(B,1)>500){const D=J.modifyPosition(B.getStartPosition(),500);B=L.fromPositions(B.getStartPosition(),D)}const j=J.getValueInRange(B,1);let K;if(Z===q||Z+1===q)K=J.getValueInRange($,1);else{const D=G.intersectRanges($),A=U.intersectRanges($);K=J.getValueInRange(D,1)+String.fromCharCode(8230)+J.getValueInRange(A,1)}if(Q&&K.length>1000)K=K.substring(0,500)+String.fromCharCode(8230)+K.substring(K.length-500,K.length);return new D7(z+K+j,z.length,z.length+K.length,$,H.endLineNumber-H.startLineNumber)}}var h9;var YT=N(()=>{l0();u0();h9=!1;D7.EMPTY=new D7("",0,0,null,void 0)});class Zz{constructor(){this._lastState=null}set(J,$){this._lastState={lastCopiedValue:J,data:$}}get(J){if(this._lastState&&this._lastState.lastCopiedValue===J)return this._lastState.data;return this._lastState=null,null}}class wg{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(J){J=J||"";const $={text:J,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=J.length,$}}class ZT extends f{get textAreaState(){return this._textAreaState}constructor(J,$,X,Q){super();this._host=J,this._textArea=$,this._OS=X,this._browser=Q,this._onFocus=this._register(new E),this.onFocus=this._onFocus.event,this._onBlur=this._register(new E),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new E),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new E),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new E),this.onCut=this._onCut.event,this._onPaste=this._register(new E),this.onPaste=this._onPaste.event,this._onType=this._register(new E),this.onType=this._onType.event,this._onCompositionStart=this._register(new E),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new E),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new E),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new E),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new Q8(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new Q8(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=D7.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let Y=null;this._register(this._textArea.onKeyDown((Z)=>{const G=new D1(Z);if(G.keyCode===114||this._currentComposition&&G.keyCode===1)G.stopPropagation();if(G.equals(9))G.preventDefault();Y=G,this._onKeyDown.fire(G)})),this._register(this._textArea.onKeyUp((Z)=>{const G=new D1(Z);this._onKeyUp.fire(G)})),this._register(this._textArea.onCompositionStart((Z)=>{if(h9)console.log("[compositionstart]",Z);const G=new wg;if(this._currentComposition){this._currentComposition=G;return}if(this._currentComposition=G,this._OS===2&&Y&&Y.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===Z.data&&(Y.code==="ArrowRight"||Y.code==="ArrowLeft")){if(h9)console.log("[compositionstart] Handling long press case on macOS + arrow key",Z);G.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:Z.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:Z.data});return}this._onCompositionStart.fire({data:Z.data})})),this._register(this._textArea.onCompositionUpdate((Z)=>{if(h9)console.log("[compositionupdate]",Z);const G=this._currentComposition;if(!G)return;if(this._browser.isAndroid){const U=D7.readFromTextArea(this._textArea,this._textAreaState),H=D7.deduceAndroidCompositionInput(this._textAreaState,U);this._textAreaState=U,this._onType.fire(H),this._onCompositionUpdate.fire(Z);return}const q=G.handleCompositionUpdate(Z.data);this._textAreaState=D7.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(q),this._onCompositionUpdate.fire(Z)})),this._register(this._textArea.onCompositionEnd((Z)=>{if(h9)console.log("[compositionend]",Z);const G=this._currentComposition;if(!G)return;if(this._currentComposition=null,this._browser.isAndroid){const U=D7.readFromTextArea(this._textArea,this._textAreaState),H=D7.deduceAndroidCompositionInput(this._textAreaState,U);this._textAreaState=U,this._onType.fire(H),this._onCompositionEnd.fire();return}const q=G.handleCompositionUpdate(Z.data);this._textAreaState=D7.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(q),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput((Z)=>{if(h9)console.log("[input]",Z);if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const G=D7.readFromTextArea(this._textArea,this._textAreaState),q=D7.deduceInput(this._textAreaState,G,this._OS===2);if(q.replacePrevCharCnt===0&&q.text.length===1){if(U8(q.text.charCodeAt(0))||q.text.charCodeAt(0)===127)return}if(this._textAreaState=G,q.text!==""||q.replacePrevCharCnt!==0||q.replaceNextCharCnt!==0||q.positionDelta!==0)this._onType.fire(q)})),this._register(this._textArea.onCut((Z)=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(Z),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy((Z)=>{this._ensureClipboardGetsEditorSelection(Z)})),this._register(this._textArea.onPaste((Z)=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),Z.preventDefault(),!Z.clipboardData)return;let[G,q]=Tg.getTextData(Z.clipboardData);if(!G)return;q=q||Zz.INSTANCE.get(G),this._onPaste.fire({text:G,metadata:q})})),this._register(this._textArea.onFocus(()=>{const Z=this._hasFocus;if(this._setHasFocus(!0),this._browser.isSafari&&!Z&&this._hasFocus)this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{if(this._currentComposition)this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire();this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{if(this._browser.isAndroid&&this._currentComposition)this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire()}))}_installSelectionChangeListener(){let J=0;return l(this._textArea.ownerDocument,"selectionchange",($)=>{if(R$.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const X=Date.now(),Q=X-J;if(J=X,Q<5)return;const Y=X-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Y<100)return;if(!this._textAreaState.selection)return;const Z=this._textArea.getValue();if(this._textAreaState.value!==Z)return;const G=this._textArea.getSelectionStart(),q=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===G&&this._textAreaState.selectionEnd===q)return;const U=this._textAreaState.deduceEditorPosition(G),H=this._host.deduceModelPosition(U[0],U[1],U[2]),z=this._textAreaState.deduceEditorPosition(q),V=this._host.deduceModelPosition(z[0],z[1],z[2]),W=new b0(H.lineNumber,H.column,V.lineNumber,V.column);this._onSelectionChangeRequest.fire(W)})}dispose(){if(super.dispose(),this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(J){if(this._hasFocus===J)return;if(this._hasFocus=J,this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null;if(this._hasFocus)this._selectionChangeListener=this._installSelectionChangeListener();if(this._hasFocus)this.writeScreenReaderContent("focusgain");if(this._hasFocus)this._onFocus.fire();else this._onBlur.fire()}_setAndWriteTextAreaState(J,$){if(!this._hasFocus)$=$.collapseSelection();$.writeToTextArea(J,this._textArea,this._hasFocus),this._textAreaState=$}writeScreenReaderContent(J){if(this._currentComposition)return;this._setAndWriteTextAreaState(J,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(J){const $=this._host.getDataToCopy(),X={version:1,isFromEmptySelection:$.isFromEmptySelection,multicursorText:$.multicursorText,mode:$.mode};if(Zz.INSTANCE.set(this._browser.isFirefox?$.text.replace(/\r\n/g,"\n"):$.text,X),J.preventDefault(),J.clipboardData)Tg.setTextData(J.clipboardData,$.text,$.html,X)}}class GT extends f{get ownerDocument(){return this._actual.ownerDocument}constructor(J){super();this._actual=J,this.onKeyDown=this._register(new X1(this._actual,"keydown")).event,this.onKeyUp=this._register(new X1(this._actual,"keyup")).event,this.onCompositionStart=this._register(new X1(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new X1(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new X1(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new X1(this._actual,"beforeinput")).event,this.onInput=this._register(new X1(this._actual,"input")).event,this.onCut=this._register(new X1(this._actual,"cut")).event,this.onCopy=this._register(new X1(this._actual,"copy")).event,this.onPaste=this._register(new X1(this._actual,"paste")).event,this.onFocus=this._register(new X1(this._actual,"focus")).event,this.onBlur=this._register(new X1(this._actual,"blur")).event,this._onSyntheticTap=this._register(new E),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>R$.onKeyDown())),this._register(this.onBeforeInput(()=>R$.onBeforeInput())),this._register(this.onInput(()=>R$.onInput())),this._register(this.onKeyUp(()=>R$.onKeyUp())),this._register(l(this._actual,Yz.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const J=jX(this._actual);if(J)return J.activeElement===this._actual;else if(XF(this._actual))return this._actual.ownerDocument.activeElement===this._actual;else return!1}setIgnoreSelectionChangeTime(J){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(J,$){const X=this._actual;if(X.value===$)return;this.setIgnoreSelectionChangeTime("setValue"),X.value=$}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(J,$,X){const Q=this._actual;let Y=null;const Z=jX(Q);if(Z)Y=Z.activeElement;else Y=Q.ownerDocument.activeElement;const G=Y===Q,q=Q.selectionStart,U=Q.selectionEnd;if(G&&q===$&&U===X){if(g7&&window.parent!==window)Q.focus();return}if(G){if(this.setIgnoreSelectionChangeTime("setSelectionRange"),Q.setSelectionRange($,X),g7&&window.parent!==window)Q.focus();return}try{const H=dx(Q);this.setIgnoreSelectionChangeTime("setSelectionRange"),Q.focus(),Q.setSelectionRange($,X),sx(Q,H)}catch(H){}}}var Yz,_g,Tg;var qT=N(()=>{z9();y0();K4();x6();QT();f1();A0();$0();jH();l0();YT();f7();(function(J){J.Tap="-monaco-textarea-synthetic-tap"})(Yz||(Yz={}));_g={forceCopyWithSyntaxHighlighting:!1};Zz.INSTANCE=new Zz;Tg={getTextData(J){const $=J.getData(y5.text);let X=null;const Q=J.getData("vscode-editor-data");if(typeof Q==="string")try{if(X=JSON.parse(Q),X.version!==1)X=null}catch(Y){}if($.length===0&&X===null&&J.files.length>0)return[Array.prototype.slice.call(J.files,0).map((Z)=>Z.name).join("\n"),null];return[$,X]},setTextData(J,$,X,Q){if(J.setData(y5.text,$),typeof X==="string")J.setData("text/html",X);J.setData("vscode-editor-data",JSON.stringify(Q))}}});class Lg extends Qz{constructor(J,$,X){super(J,$,X);this._register(N1.addTarget(this.viewHelper.linesContentDomNode)),this._register(l(this.viewHelper.linesContentDomNode,L1.Tap,(Y)=>this.onTap(Y))),this._register(l(this.viewHelper.linesContentDomNode,L1.Change,(Y)=>this.onChange(Y))),this._register(l(this.viewHelper.linesContentDomNode,L1.Contextmenu,(Y)=>this._onContextMenu(new j4(Y,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(l(this.viewHelper.linesContentDomNode,"pointerdown",(Y)=>{const Z=Y.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else if(Z==="touch")this._lastPointerType="touch";else this._lastPointerType="pen"}));const Q=new bN(this.viewHelper.viewDomNode);this._register(Q.onPointerMove(this.viewHelper.viewDomNode,(Y)=>this._onMouseMove(Y))),this._register(Q.onPointerUp(this.viewHelper.viewDomNode,(Y)=>this._onMouseUp(Y))),this._register(Q.onPointerLeave(this.viewHelper.viewDomNode,(Y)=>this._onMouseLeave(Y))),this._register(Q.onPointerDown(this.viewHelper.viewDomNode,(Y,Z)=>this._onMouseDown(Y,Z)))}onTap(J){if(!J.initialTarget||!this.viewHelper.linesContentDomNode.contains(J.initialTarget))return;J.preventDefault(),this.viewHelper.focusTextArea();const $=this._createMouseTarget(new j4(J,!1,this.viewHelper.viewDomNode),!1);if($.position)this.viewController.dispatchMouse({position:$.position,mouseColumn:$.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:J.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:$.type===6&&$.detail.injectedText!==null})}onChange(J){if(this._lastPointerType==="touch")this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY)}_onMouseDown(J,$){if(J.browserEvent.pointerType==="touch")return;super._onMouseDown(J,$)}}class Ig extends Qz{constructor(J,$,X){super(J,$,X);this._register(N1.addTarget(this.viewHelper.linesContentDomNode)),this._register(l(this.viewHelper.linesContentDomNode,L1.Tap,(Q)=>this.onTap(Q))),this._register(l(this.viewHelper.linesContentDomNode,L1.Change,(Q)=>this.onChange(Q))),this._register(l(this.viewHelper.linesContentDomNode,L1.Contextmenu,(Q)=>this._onContextMenu(new j4(Q,!1,this.viewHelper.viewDomNode),!1)))}onTap(J){J.preventDefault(),this.viewHelper.focusTextArea();const $=this._createMouseTarget(new j4(J,!1,this.viewHelper.viewDomNode),!1);if($.position){const X=document.createEvent("CustomEvent");X.initEvent(Yz.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(X),this.viewController.moveTo($.position,1)}}onChange(J){this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY)}}class UT extends f{constructor(J,$,X){super();if(K5&&t3.pointerEvents)this.handler=this._register(new Lg(J,$,X));else if(window.TouchEvent)this.handler=this._register(new Ig(J,$,X));else this.handler=this._register(new Qz(J,$,X))}getTargetAtClientPoint(J,$){return this.handler.getTargetAtClientPoint(J,$)}}var kg=N(()=>{y0();O1();h5();$0();Ng();zK();dj();qT()});var Eg=N(()=>{j1();F0(".monaco-editor .inputarea{resize:none;color:#0000;z-index:-10;background-color:#0000;border:none;min-width:0;min-height:0;margin:0;padding:0;position:absolute;overflow:hidden;outline:none!important}.monaco-editor .inputarea.ime-input{z-index:10;caret-color:var(--vscode-editorCursor-foreground);color:var(--vscode-editor-foreground)}")});var yg=N(()=>{j1();F0(".monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;text-align:right;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%;display:inline-block;position:absolute}.monaco-editor .relative-current-line-number{text-align:left;width:100%;display:inline-block}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor .line-numbers{color:var(--vscode-editorLineNumber-foreground)}.monaco-editor .line-numbers.active-line-number{color:var(--vscode-editorLineNumber-activeForeground)}")});class g9 extends F4{}var VY=N(()=>{bq()});function gX(J){return{id:J}}function Gz(J){switch(J){case v9.DARK:return"vs-dark";case v9.HIGH_CONTRAST_DARK:return"hc-black";case v9.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}function V9(J){return Cg.onColorThemeChange(J)}class Sg{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new E}onColorThemeChange(J){return this.themingParticipants.push(J),this.onThemingParticipantAddedEmitter.fire(J),N0(()=>{const $=this.themingParticipants.indexOf(J);this.themingParticipants.splice($,1)})}getThemingParticipants(){return this.themingParticipants}}class zT extends f{constructor(J){super();this.themeService=J,this.theme=J.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(($)=>this.onThemeChange($)))}onThemeChange(J){this.theme=J,this.updateStyles()}updateStyles(){}}var d8,HT,Cg;var X7=N(()=>{A0();$0();e0();t6();xX();d8=O0("themeService"),HT={ThemingContribution:"base.contributions.theming"};Cg=new Sg;a1.add(HT.ThemingContribution,Cg)});var VT,WT,_K0,wK0,LK0,IK0,OK,xg,M$,bg,PK,DK,MG,vg,fg,hg,gg,pg,OG,mg,ug,cg,lg,dg,RK,kK0,sg,EK0,yK0,SK0,CK0,ag,rg,xK0,bK0,ig,vK0,fK0,hK0,MK,gK0,ng,og,tg,NK,TK,_K,wK,LK,IK,eg,Jp,$p,Xp,Qp,Yp,Zp,Gp,qp,Up,Hp,zp,Vp,pK0,mK0;var A4=N(()=>{m0();S9();e6();X7();VT=k("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("lineHighlight","Background color for the highlight of line at the cursor position.")),WT=k("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:T1},F("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),_K0=k("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},F("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),wK0=k("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:W8,hcLight:W8},F("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),LK0=k("editor.symbolHighlightBackground",{dark:yX,light:yX,hcDark:null,hcLight:null},F("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),IK0=k("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:W8,hcLight:W8},F("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),OK=k("editorCursor.foreground",{dark:"#AEAFAD",light:u.black,hcDark:u.white,hcLight:"#0F4A85"},F("caret","Color of the editor cursor.")),xg=k("editorCursor.background",null,F("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),M$=k("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},F("editorWhitespaces","Color of whitespace characters in the editor.")),bg=k("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:u.white,hcLight:"#292929"},F("editorLineNumbers","Color of editor line numbers.")),PK=k("editorIndentGuide.background",{dark:M$,light:M$,hcDark:M$,hcLight:M$},F("editorIndentGuides","Color of the editor indentation guides."),!1,F("deprecatedEditorIndentGuides","\'editorIndentGuide.background\' is deprecated. Use \'editorIndentGuide.background1\' instead.")),DK=k("editorIndentGuide.activeBackground",{dark:M$,light:M$,hcDark:M$,hcLight:M$},F("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,F("deprecatedEditorActiveIndentGuide","\'editorIndentGuide.activeBackground\' is deprecated. Use \'editorIndentGuide.activeBackground1\' instead.")),MG=k("editorIndentGuide.background1",{dark:PK,light:PK,hcDark:PK,hcLight:PK},F("editorIndentGuides1","Color of the editor indentation guides (1).")),vg=k("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides2","Color of the editor indentation guides (2).")),fg=k("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides3","Color of the editor indentation guides (3).")),hg=k("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides4","Color of the editor indentation guides (4).")),gg=k("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides5","Color of the editor indentation guides (5).")),pg=k("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides6","Color of the editor indentation guides (6).")),OG=k("editorIndentGuide.activeBackground1",{dark:DK,light:DK,hcDark:DK,hcLight:DK},F("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),mg=k("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),ug=k("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),cg=k("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),lg=k("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),dg=k("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),RK=k("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:W8,hcLight:W8},F("editorActiveLineNumber","Color of editor active line number"),!1,F("deprecatedEditorActiveLineNumber","Id is deprecated. Use \'editorLineNumber.activeForeground\' instead.")),kK0=k("editorLineNumber.activeForeground",{dark:RK,light:RK,hcDark:RK,hcLight:RK},F("editorActiveLineNumber","Color of editor active line number")),sg=k("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),EK0=k("editorRuler.foreground",{dark:"#5A5A5A",light:u.lightgrey,hcDark:u.white,hcLight:"#292929"},F("editorRuler","Color of the editor rulers.")),yK0=k("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},F("editorCodeLensForeground","Foreground color of editor CodeLens")),SK0=k("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},F("editorBracketMatchBackground","Background color behind matching brackets")),CK0=k("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:T1,hcLight:T1},F("editorBracketMatchBorder","Color for matching brackets boxes")),ag=k("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},F("editorOverviewRulerBorder","Color of the overview ruler border.")),rg=k("editorOverviewRuler.background",null,F("editorOverviewRulerBackground","Background color of the editor overview ruler.")),xK0=k("editorGutter.background",{dark:d7,light:d7,hcDark:d7,hcLight:d7},F("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),bK0=k("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:u.fromHex("#fff").transparent(0.8),hcLight:T1},F("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),ig=k("editorUnnecessaryCode.opacity",{dark:u.fromHex("#000a"),light:u.fromHex("#0007"),hcDark:null,hcLight:null},F("unnecessaryCodeOpacity",'Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  \'editorUnnecessaryCode.border\' theme color to underline unnecessary code instead of fading it out.')),vK0=k("editorGhostText.border",{dark:null,light:null,hcDark:u.fromHex("#fff").transparent(0.8),hcLight:u.fromHex("#292929").transparent(0.8)},F("editorGhostTextBorder","Border color of ghost text in the editor.")),fK0=k("editorGhostText.foreground",{dark:u.fromHex("#ffffff56"),light:u.fromHex("#0007"),hcDark:null,hcLight:null},F("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),hK0=k("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorGhostTextBackground","Background color of the ghost text in the editor.")),MK=new u(new M1(0,122,204,0.6)),gK0=k("editorOverviewRuler.rangeHighlightForeground",{dark:MK,light:MK,hcDark:MK,hcLight:MK},F("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ng=k("editorOverviewRuler.errorForeground",{dark:new u(new M1(255,18,18,0.7)),light:new u(new M1(255,18,18,0.7)),hcDark:new u(new M1(255,50,50,1)),hcLight:"#B5200D"},F("overviewRuleError","Overview ruler marker color for errors.")),og=k("editorOverviewRuler.warningForeground",{dark:x9,light:x9,hcDark:nH,hcLight:nH},F("overviewRuleWarning","Overview ruler marker color for warnings.")),tg=k("editorOverviewRuler.infoForeground",{dark:b9,light:b9,hcDark:oH,hcLight:oH},F("overviewRuleInfo","Overview ruler marker color for infos.")),NK=k("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},F("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),TK=k("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},F("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),_K=k("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},F("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),wK=k("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),LK=k("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),IK=k("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),eg=k("editorBracketHighlight.unexpectedBracket.foreground",{dark:new u(new M1(255,18,18,0.8)),light:new u(new M1(255,18,18,0.8)),hcDark:new u(new M1(255,50,50,1)),hcLight:""},F("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Jp=k("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),$p=k("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Xp=k("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Qp=k("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Yp=k("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Zp=k("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Gp=k("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),qp=k("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Up=k("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Hp=k("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),zp=k("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Vp=k("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),pK0=k("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},F("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),mK0=k("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},F("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));V9((J,$)=>{const X=J.getColor(d7),Q=J.getColor(VT),Y=Q&&!Q.isTransparent()?Q:X;if(Y)$.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Y}; }`)})});class NG extends g9{constructor(J){super();this._context=J,this._readConfig(),this._lastCursorModelPosition=new b(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const J=this._context.configuration.options;this._lineHeight=J.get(66);const $=J.get(67);this._renderLineNumbers=$.renderType,this._renderCustomLineNumbers=$.renderFn,this._renderFinalNewline=J.get(94);const X=J.get(143);this._lineNumbersLeft=X.lineNumbersLeft,this._lineNumbersWidth=X.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return this._readConfig(),!0}onCursorStateChanged(J){const $=J.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition($);let X=!1;if(this._activeLineNumber!==$.lineNumber)this._activeLineNumber=$.lineNumber,X=!0;if(this._renderLineNumbers===2||this._renderLineNumbers===3)X=!0;return X}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getLineRenderLineNumber(J){const $=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new b(J,1));if($.column!==1)return"";const X=$.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(X);if(this._renderLineNumbers===2){const Q=Math.abs(this._lastCursorModelPosition.lineNumber-X);if(Q===0)return'<span class="relative-current-line-number">'+X+"</span>";return String(Q)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===X)return String(X);if(X%10===0)return String(X);return""}return String(X)}prepareRender(J){if(this._renderLineNumbers===0){this._renderResult=null;return}const $=q8?this._lineHeight%2===0?" lh-even":" lh-odd":"",X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,Y=this._context.viewModel.getLineCount(),Z=[];for(let G=X;G<=Q;G++){const q=G-X,U=this._getLineRenderLineNumber(G);if(!U){Z[q]="";continue}let H="";if(G===Y&&this._context.viewModel.getLineLength(G)===0){if(this._renderFinalNewline==="off"){Z[q]="";continue}if(this._renderFinalNewline==="dimmed")H=" dimmed-line-number"}if(G===this._activeLineNumber)H=" active-line-number";Z[q]=`<div class="${NG.CLASS_NAME}${$}${H}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${U}</div>`}this._renderResult=Z}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var BT=N(()=>{yg();O1();VY();W1();X7();A4();NG.CLASS_NAME="line-numbers";V9((J,$)=>{const X=J.getColor(bg),Q=J.getColor(sg);if(Q)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${Q}; }`);else if(X)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${X.transparent(0.4)}; }`)})});var Wp=N(()=>{j1();F0(".monaco-editor .margin{background-color:var(--vscode-editorGutter-background)}")});class pX extends K8{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._canUseLayerHinting=!$.get(32),this._contentLeft=X.contentLeft,this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._domNode=r0(document.createElement("div")),this._domNode.setClassName(pX.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=r0(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(pX.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._canUseLayerHinting=!$.get(32),this._contentLeft=X.contentLeft,this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollTopChanged}prepareRender(J){}render(J){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const $=J.scrollTop-J.bigNumbersDelta;this._domNode.setTop(-$);const X=Math.min(J.scrollHeight,1e6);this._domNode.setHeight(X),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(X)}}var jT=N(()=>{Wp();q7();h6();pX.CLASS_NAME="glyph-margin";pX.OUTER_CLASS_NAME="margin"});var Bp=N(()=>{j1();F0(".monaco-mouse-cursor-text{cursor:text}")});var mX;var kK=N(()=>{Bp();mX="monaco-mouse-cursor-text"});class jp{constructor(){this._onDidChange=new E,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}var TG;var FT=N(()=>{A0();TG=new jp});var a7;var uX=N(()=>{e0();a7=O0("keybindingService")});class Fp{constructor(J,$,X,Q,Y){this._context=J,this.modelLineNumber=$,this.distanceToModelLineStart=X,this.widthOfHiddenLineTextBefore=Q,this.distanceToModelLineEnd=Y,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(J){const $=new b(this.modelLineNumber,this.distanceToModelLineStart+1),X=new b(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);if(this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X),this.startPosition.lineNumber===this.endPosition.lineNumber)this.visibleTextareaStart=J.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=J.visibleRangeForPosition(this.endPosition);else this.visibleTextareaStart=null,this.visibleTextareaEnd=null}definePresentation(J){if(!this._previousPresentation)if(J)this._previousPresentation=J;else this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};return this._previousPresentation}}var Z60,Q60,Y60,KT,EK;var Kp=N(()=>{Eg();m0();z9();q7();O1();l0();YJ();qT();YT();h6();BT();jT();F6();TH();W1();u0();f7();kK();P6();S9();FT();uX();Z60=function(J,$,X,Q){if($.length===0)return 0;const Y=J.createElement("div");Y.style.position="absolute",Y.style.top="-50000px",Y.style.width="50000px";const Z=J.createElement("span");O8(Z,X),Z.style.whiteSpace="pre",Z.style.tabSize=`${Q*X.spaceWidth}px`,Z.append($),Y.appendChild(Z),J.body.appendChild(Y);const G=Z.offsetWidth;return J.body.removeChild(Y),G},Q60=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Y60=function(J,$){return function(X,Q){$(X,Q,J)}};KT=g7,EK=class J extends K8{constructor($,X,Q,Y){super($);this._keybindingService=Y,this._primaryCursorPosition=new b(1,1),this._primaryCursorVisibleRange=null,this._viewController=X,this._visibleRangeProvider=Q,this._scrollLeft=0,this._scrollTop=0;const Z=this._context.configuration.options,G=Z.get(143);this._setAccessibilityOptions(Z),this._contentLeft=G.contentLeft,this._contentWidth=G.contentWidth,this._contentHeight=G.height,this._fontInfo=Z.get(50),this._lineHeight=Z.get(66),this._emptySelectionClipboard=Z.get(37),this._copyWithSyntaxHighlighting=Z.get(25),this._visibleTextArea=null,this._selections=[new b0(1,1,1,1)],this._modelSelections=[new b0(1,1,1,1)],this._lastRenderPosition=null,this.textArea=r0(document.createElement("textarea")),O6.write(this.textArea,6),this.textArea.setClassName(`inputarea ${mX}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:q}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${q*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(Z)),this.textArea.setAttribute("aria-required",Z.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Z.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",F("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",Z.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=r0(document.createElement("div")),this.textAreaCover.setPosition("absolute");const U={getLineCount:()=>{return this._context.viewModel.getLineCount()},getLineMaxColumn:(V)=>{return this._context.viewModel.getLineMaxColumn(V)},getValueInRange:(V,W)=>{return this._context.viewModel.getValueInRange(V,W)},getValueLengthInRange:(V,W)=>{return this._context.viewModel.getValueLengthInRange(V,W)},modifyPosition:(V,W)=>{return this._context.viewModel.modifyPosition(V,W)}},H={getDataToCopy:()=>{const V=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,F8),W=this._context.viewModel.model.getEOL(),B=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),j=Array.isArray(V)?V:null,K=Array.isArray(V)?V.join(W):V;let D=void 0,A=null;if(_g.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&K.length<65536){const P=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);if(P)D=P.html,A=P.mode}return{isFromEmptySelection:B,multicursorText:j,text:K,html:D,mode:A}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const V=this._selections[0];if(n0&&V.isEmpty()){const B=V.getStartPosition();let j=this._getWordBeforePosition(B);if(j.length===0)j=this._getCharacterBeforePosition(B);if(j.length>0)return new D7(j,j.length,j.length,L.fromPositions(B),0)}const W=500;if(n0&&!V.isEmpty()&&U.getValueLengthInRange(V,0)<W){const B=U.getValueInRange(V,0);return new D7(B,0,B.length,V,0)}if(N9&&!V.isEmpty())return new D7("vscode-placeholder",0,"vscode-placeholder".length,null,void 0);return D7.EMPTY}if(PM){const V=this._selections[0];if(V.isEmpty()){const W=V.getStartPosition(),[B,j]=this._getAndroidWordAtPosition(W);if(B.length>0)return new D7(B,j,j,L.fromPositions(W),0)}return D7.EMPTY}return RG.fromEditorSelection(U,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(V,W,B)=>{return this._context.viewModel.deduceModelPositionRelativeToViewPosition(V,W,B)}},z=this._register(new GT(this.textArea.domNode));this._textAreaInput=this._register(new ZT(H,z,k6,{isAndroid:PM,isChrome:_j,isFirefox:g7,isSafari:N9})),this._register(this._textAreaInput.onKeyDown((V)=>{this._viewController.emitKeyDown(V)})),this._register(this._textAreaInput.onKeyUp((V)=>{this._viewController.emitKeyUp(V)})),this._register(this._textAreaInput.onPaste((V)=>{let W=!1,B=null,j=null;if(V.metadata)W=this._emptySelectionClipboard&&!!V.metadata.isFromEmptySelection,B=typeof V.metadata.multicursorText!=="undefined"?V.metadata.multicursorText:null,j=V.metadata.mode;this._viewController.paste(V.text,W,B,j)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType((V)=>{if(V.replacePrevCharCnt||V.replaceNextCharCnt||V.positionDelta){if(h9)console.log(` => compositionType: <<${V.text}>>, ${V.replacePrevCharCnt}, ${V.replaceNextCharCnt}, ${V.positionDelta}`);this._viewController.compositionType(V.text,V.replacePrevCharCnt,V.replaceNextCharCnt,V.positionDelta)}else{if(h9)console.log(` => type: <<${V.text}>>`);this._viewController.type(V.text)}})),this._register(this._textAreaInput.onSelectionChangeRequest((V)=>{this._viewController.setSelection(V)})),this._register(this._textAreaInput.onCompositionStart((V)=>{const W=this.textArea.domNode,B=this._modelSelections[0],{distanceToModelLineStart:j,widthOfHiddenTextBefore:K}=(()=>{const A=W.value.substring(0,Math.min(W.selectionStart,W.selectionEnd)),P=A.lastIndexOf("\n"),R=A.substring(P+1),M=R.lastIndexOf("\t"),T=R.length-M-1,_=B.getStartPosition(),w=Math.min(_.column-1,T),x=_.column-1-w,C=R.substring(0,R.length-w),{tabSize:h}=this._context.viewModel.model.getOptions(),p=Z60(this.textArea.domNode.ownerDocument,C,this._fontInfo,h);return{distanceToModelLineStart:x,widthOfHiddenTextBefore:p}})(),{distanceToModelLineEnd:D}=(()=>{const A=W.value.substring(Math.max(W.selectionStart,W.selectionEnd)),P=A.indexOf("\n"),R=P===-1?A:A.substring(0,P),M=R.indexOf("\t"),T=M===-1?R.length:R.length-M-1,_=B.getEndPosition(),w=Math.min(this._context.viewModel.model.getLineMaxColumn(_.lineNumber)-_.column,T);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(_.lineNumber)-_.column-w}})();this._context.viewModel.revealRange("keyboard",!0,L.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Fp(this._context,B.startLineNumber,j,K,D),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${mX} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate((V)=>{if(!this._visibleTextArea)return;this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${mX}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(TG.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent($){this._textAreaInput.writeScreenReaderContent($)}dispose(){super.dispose()}_getAndroidWordAtPosition($){const Q=this._context.viewModel.getLineContent($.lineNumber),Y=G$('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let Z=!0,G=$.column,q=!0,U=$.column,H=0;while(H<50&&(Z||q)){if(Z&&G<=1)Z=!1;if(Z){const z=Q.charCodeAt(G-2);if(Y.get(z)!==0)Z=!1;else G--}if(q&&U>Q.length)q=!1;if(q){const z=Q.charCodeAt(U-1);if(Y.get(z)!==0)q=!1;else U++}H++}return[Q.substring(G-1,U-1),$.column-G]}_getWordBeforePosition($){const X=this._context.viewModel.getLineContent($.lineNumber),Q=G$(this._context.configuration.options.get(129));let Y=$.column,Z=0;while(Y>1){const G=X.charCodeAt(Y-2);if(Q.get(G)!==0||Z>50)return X.substring(Y-1,$.column-1);Z++,Y--}return X.substring(0,$.column-1)}_getCharacterBeforePosition($){if($.column>1){const Q=this._context.viewModel.getLineContent($.lineNumber).charAt($.column-2);if(!U8(Q.charCodeAt(0)))return Q}return""}_getAriaLabel($){var X,Q,Y;if($.get(2)===1){const G=(X=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||X===void 0?void 0:X.getAriaLabel(),q=(Q=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||Q===void 0?void 0:Q.getAriaLabel(),U=(Y=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||Y===void 0?void 0:Y.getAriaLabel(),H=F("accessibilityModeOff","The editor is not accessible at this time.");if(G)return F("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",H,G);else if(q)return F("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",H,q);else if(U)return F("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",H,U);else return H}return $.get(4)}_setAccessibilityOptions($){this._accessibilitySupport=$.get(2);const X=$.get(3);if(this._accessibilitySupport===2&&X===aJ.accessibilityPageSize.defaultValue)this._accessibilityPageSize=500;else this._accessibilityPageSize=X;const Y=$.get(143).wrappingColumn;if(Y!==-1&&this._accessibilitySupport!==1){const Z=$.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(Y*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=KT?0:1}onConfigurationChanged($){const X=this._context.configuration.options,Q=X.get(143);this._setAccessibilityOptions(X),this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._contentHeight=Q.height,this._fontInfo=X.get(50),this._lineHeight=X.get(66),this._emptySelectionClipboard=X.get(37),this._copyWithSyntaxHighlighting=X.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:Y}=this._context.viewModel.model.getOptions();if(this.textArea.domNode.style.tabSize=`${Y*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(X)),this.textArea.setAttribute("aria-required",X.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(X.get(123))),$.hasChanged(34)||$.hasChanged(90))this._ensureReadOnlyAttribute();if($.hasChanged(2))this._textAreaInput.writeScreenReaderContent("strategy changed");return!0}onCursorStateChanged($){return this._selections=$.selections.slice(0),this._modelSelections=$.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged($){return!0}onFlushed($){return!0}onLinesChanged($){return!0}onLinesDeleted($){return!0}onLinesInserted($){return!0}onScrollChanged($){return this._scrollLeft=$.scrollLeft,this._scrollTop=$.scrollTop,!0}onZonesChanged($){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions($){if($.activeDescendant)this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",$.activeDescendant);else this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant");if($.role)this.textArea.setAttribute("role",$.role)}_ensureReadOnlyAttribute(){const $=this._context.configuration.options;if(!TG.enabled||$.get(34)&&$.get(90))this.textArea.setAttribute("readonly","true");else this.textArea.removeAttribute("readonly")}prepareRender($){var X;this._primaryCursorPosition=new b(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=$.visibleRangeForPosition(this._primaryCursorPosition),(X=this._visibleTextArea)===null||X===void 0||X.prepareRender($)}render($){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var $;if(this._visibleTextArea){const Y=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,G=this._visibleTextArea.startPosition,q=this._visibleTextArea.endPosition;if(G&&q&&Y&&Z&&Z.left>=this._scrollLeft&&Y.left<=this._scrollLeft+this._contentWidth){const U=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,H=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let z=this._visibleTextArea.widthOfHiddenLineTextBefore,V=this._contentLeft+Y.left-this._scrollLeft,W=Z.left-Y.left+1;if(V<this._contentLeft){const P=this._contentLeft-V;V+=P,z+=P,W-=P}if(W>this._contentWidth)W=this._contentWidth;const B=this._context.viewModel.getViewLineData(G.lineNumber),j=B.tokens.findTokenIndexAtOffset(G.column-1),K=B.tokens.findTokenIndexAtOffset(q.column-1),D=j===K,A=this._visibleTextArea.definePresentation(D?B.tokens.getPresentation(j):null);this.textArea.domNode.scrollTop=H*this._lineHeight,this.textArea.domNode.scrollLeft=z,this._doRender({lastRenderPosition:null,top:U,left:V,width:W,height:this._lineHeight,useCover:!1,color:(g1.getColorMap()||[])[A.foreground],italic:A.italic,bold:A.bold,underline:A.underline,strikethrough:A.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const X=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(X<this._contentLeft||X>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const Q=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(Q<0||Q>this._contentHeight){this._renderAtTopLeft();return}if(n0){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Q,left:this._textAreaWrapping?this._contentLeft:X,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const Y=($=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&$!==void 0?$:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=Y*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Q,left:this._textAreaWrapping?this._contentLeft:X,width:this._textAreaWidth,height:KT?0:1,useCover:!1})}_newlinecount($){let X=0,Q=-1;do{if(Q=$.indexOf("\n",Q+1),Q===-1)break;X++}while(!0);return X}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:KT?0:1,useCover:!0})}_doRender($){this._lastRenderPosition=$.lastRenderPosition;const X=this.textArea,Q=this.textAreaCover;if(O8(X,this._fontInfo),X.setTop($.top),X.setLeft($.left),X.setWidth($.width),X.setHeight($.height),X.setColor($.color?u.Format.CSS.formatHex($.color):""),X.setFontStyle($.italic?"italic":""),$.bold)X.setFontWeight("bold");X.setTextDecoration(`${$.underline?" underline":""}${$.strikethrough?" line-through":""}`),Q.setTop($.useCover?$.top:0),Q.setLeft($.useCover?$.left:0),Q.setWidth($.useCover?$.width:0),Q.setHeight($.useCover?$.height:0);const Y=this._context.configuration.options;if(Y.get(57))Q.setClassName("monaco-editor-background textAreaCover "+pX.OUTER_CLASS_NAME);else if(Y.get(67).renderType!==0)Q.setClassName("monaco-editor-background textAreaCover "+NG.CLASS_NAME);else Q.setClassName("monaco-editor-background textAreaCover")}};EK=Q60([Y60(3,a7)],EK)});function yK(J,$,X){let Q=k8(J);if(Q===-1)Q=J.length;return G60(J.substring(0,Q),$,X)+J.substring(Q)}var G60;var AT=N(()=>{l0();_J();G60=function(J,$,X){let Q=0;for(let Z=0;Z<J.length;Z++)if(J.charAt(Z)==="\t")Q=t1.nextIndentTabStop(Q,$);else Q++;let Y="";if(!X){const Z=Math.floor(Q/$);Q=Q%$;for(let G=0;G<Z;G++)Y+="\t"}for(let Z=0;Z<Q;Z++)Y+=" ";return Y}});function O$(J){return J==="\'"||J==='"'||J==="`"}class WY{static shouldRecreate(J){return J.hasChanged(143)||J.hasChanged(129)||J.hasChanged(37)||J.hasChanged(76)||J.hasChanged(78)||J.hasChanged(79)||J.hasChanged(6)||J.hasChanged(7)||J.hasChanged(11)||J.hasChanged(9)||J.hasChanged(10)||J.hasChanged(14)||J.hasChanged(127)||J.hasChanged(50)||J.hasChanged(90)}constructor(J,$,X,Q){var Y;this.languageConfigurationService=Q,this._cursorMoveConfigurationBrand=void 0,this._languageId=J;const Z=X.options,G=Z.get(143),q=Z.get(50);this.readOnly=Z.get(90),this.tabSize=$.tabSize,this.indentSize=$.indentSize,this.insertSpaces=$.insertSpaces,this.stickyTabStops=Z.get(115),this.lineHeight=q.lineHeight,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(G.height/this.lineHeight)-2),this.useTabStops=Z.get(127),this.wordSeparators=Z.get(129),this.emptySelectionClipboard=Z.get(37),this.copyWithSyntaxHighlighting=Z.get(25),this.multiCursorMergeOverlapping=Z.get(76),this.multiCursorPaste=Z.get(78),this.multiCursorLimit=Z.get(79),this.autoClosingBrackets=Z.get(6),this.autoClosingComments=Z.get(7),this.autoClosingQuotes=Z.get(11),this.autoClosingDelete=Z.get(9),this.autoClosingOvertype=Z.get(10),this.autoSurround=Z.get(14),this.autoIndent=Z.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(J,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(J,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(J,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(J).getAutoClosingPairs();const U=this.languageConfigurationService.getLanguageConfiguration(J).getSurroundingPairs();if(U)for(let z of U)this.surroundingPairs[z.open]=z.close;const H=this.languageConfigurationService.getLanguageConfiguration(J).comments;this.blockCommentStartToken=(Y=H===null||H===void 0?void 0:H.blockCommentStartToken)!==null&&Y!==void 0?Y:null}get electricChars(){var J;if(!this._electricChars){this._electricChars={};const $=(J=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||J===void 0?void 0:J.getElectricCharacters();if($)for(let X of $)this._electricChars[X]=!0}return this._electricChars}onElectricCharacter(J,$,X){const Q=mQ($,X-1),Y=this.languageConfigurationService.getLanguageConfiguration(Q.languageId).electricCharacter;if(!Y)return null;return Y.onElectricCharacter(J,Q,X-Q.firstCharOffset)}normalizeIndentation(J){return yK(J,this.indentSize,this.insertSpaces)}_getShouldAutoClose(J,$,X){switch($){case"beforeWhitespace":return H60;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(J,X);case"always":return q60;case"never":return U60}}_getLanguageDefinedShouldAutoClose(J,$){const X=this.languageConfigurationService.getLanguageConfiguration(J).getAutoCloseBeforeSet($);return(Q)=>X.indexOf(Q)!==-1}visibleColumnFromColumn(J,$){return t1.visibleColumnFromColumn(J.getLineContent($.lineNumber),$.column,this.tabSize)}columnFromVisibleColumn(J,$,X){const Q=t1.columnFromVisibleColumn(J.getLineContent($),X,this.tabSize),Y=J.getLineMinColumn($);if(Q<Y)return Y;const Z=J.getLineMaxColumn($);if(Q>Z)return Z;return Q}}class B1{static fromModelState(J){return new Ap(J)}static fromViewState(J){return new Pp(J)}static fromModelSelection(J){const $=b0.liftSelection(J),X=new Q7(L.fromPositions($.getSelectionStart()),0,0,$.getPosition(),0);return B1.fromModelState(X)}static fromModelSelections(J){const $=[];for(let X=0,Q=J.length;X<Q;X++)$[X]=this.fromModelSelection(J[X]);return $}constructor(J,$){this._cursorStateBrand=void 0,this.modelState=J,this.viewState=$}equals(J){return this.viewState.equals(J.viewState)&&this.modelState.equals(J.modelState)}}class Ap{constructor(J){this.modelState=J,this.viewState=null}}class Pp{constructor(J){this.modelState=null,this.viewState=J}}class Q7{constructor(J,$,X,Q,Y){this.selectionStart=J,this.selectionStartKind=$,this.selectionStartLeftoverVisibleColumns=X,this.position=Q,this.leftoverVisibleColumns=Y,this._singleCursorStateBrand=void 0,this.selection=Q7._computeSelection(this.selectionStart,this.position)}equals(J){return this.selectionStartLeftoverVisibleColumns===J.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===J.leftoverVisibleColumns&&this.selectionStartKind===J.selectionStartKind&&this.position.equals(J.position)&&this.selectionStart.equalsRange(J.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(J,$,X,Q){if(J)return new Q7(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new b($,X),Q);else return new Q7(new L($,X,$,X),0,Q,new b($,X),Q)}static _computeSelection(J,$){if(J.isEmpty()||!$.isBeforeOrEqual(J.getStartPosition()))return b0.fromPositions(J.getStartPosition(),$);else return b0.fromPositions(J.getEndPosition(),$)}}class Y6{constructor(J,$,X){this._editOperationResultBrand=void 0,this.type=J,this.commands=$,this.shouldPushStackElementBefore=X.shouldPushStackElementBefore,this.shouldPushStackElementAfter=X.shouldPushStackElementAfter}}var q60,U60,H60;var wJ=N(()=>{W1();u0();f7();cZ();_J();AT();q60=()=>!0,U60=()=>!1,H60=(J)=>J===" "||J==="\t"});class BY{static columnSelect(J,$,X,Q,Y,Z){const G=Math.abs(Y-X)+1,q=X>Y,U=Q>Z,H=Q<Z,z=[];for(let V=0;V<G;V++){const W=X+(q?-V:V),B=J.columnFromVisibleColumn($,W,Q),j=J.columnFromVisibleColumn($,W,Z),K=J.visibleColumnFromColumn($,new b(W,B)),D=J.visibleColumnFromColumn($,new b(W,j));if(H){if(K>Z)continue;if(D<Q)continue}if(U){if(D>Q)continue;if(K<Z)continue}z.push(new Q7(new L(W,B,W,B),0,0,new b(W,j),0))}if(z.length===0)for(let V=0;V<G;V++){const W=X+(q?-V:V),B=$.getLineMaxColumn(W);z.push(new Q7(new L(W,B,W,B),0,0,new b(W,B),0))}return{viewStates:z,reversed:q,fromLineNumber:X,fromVisualColumn:Q,toLineNumber:Y,toVisualColumn:Z}}static columnSelectLeft(J,$,X){let Q=X.toViewVisualColumn;if(Q>0)Q--;return BY.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,Q)}static columnSelectRight(J,$,X){let Q=0;const Y=Math.min(X.fromViewLineNumber,X.toViewLineNumber),Z=Math.max(X.fromViewLineNumber,X.toViewLineNumber);for(let q=Y;q<=Z;q++){const U=$.getLineMaxColumn(q),H=J.visibleColumnFromColumn($,new b(q,U));Q=Math.max(Q,H)}let G=X.toViewVisualColumn;if(G<Q)G++;return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,G)}static columnSelectUp(J,$,X,Q){const Y=Q?J.pageSize:1,Z=Math.max(1,X.toViewLineNumber-Y);return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,Z,X.toViewVisualColumn)}static columnSelectDown(J,$,X,Q){const Y=Q?J.pageSize:1,Z=Math.min($.getLineCount(),X.toViewLineNumber+Y);return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,Z,X.toViewVisualColumn)}}var Dp=N(()=>{wJ();W1();u0()});class g6{constructor(J,$,X=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=X}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getEndPosition())}}class mq{constructor(J,$,X=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=X}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getStartPosition())}}class uq{constructor(J,$,X,Q,Y=!1){this._range=J,this._text=$,this._columnDeltaOffset=Q,this._lineNumberDeltaOffset=X,this.insertsAutoWhitespace=Y}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class PT{constructor(J,$,X,Q=!1){this._range=J,this._text=$,this._initialSelection=X,this._forceMoveMarkers=Q,this._selectionId=null}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=$.trackSelection(this._initialSelection)}computeCursorState(J,$){return $.getTrackedSelection(this._selectionId)}}var DT=N(()=>{f7()});class SK{constructor(J,$,X){this._cursorPositionBrand=void 0,this.lineNumber=J,this.column=$,this.leftoverVisibleColumns=X}}class C1{static leftPosition(J,$){if($.column>J.getLineMinColumn($.lineNumber))return $.delta(void 0,-FM(J.getLineContent($.lineNumber),$.column-1));else if($.lineNumber>1){const X=$.lineNumber-1;return new b(X,J.getLineMaxColumn(X))}else return $}static leftPositionAtomicSoftTabs(J,$,X){if($.column<=J.getLineIndentColumn($.lineNumber)){const Q=J.getLineMinColumn($.lineNumber),Y=J.getLineContent($.lineNumber),Z=jG.atomicPosition(Y,$.column-1,X,0);if(Z!==-1&&Z+1>=Q)return new b($.lineNumber,Z+1)}return this.leftPosition(J,$)}static left(J,$,X){const Q=J.stickyTabStops?C1.leftPositionAtomicSoftTabs($,X,J.tabSize):C1.leftPosition($,X);return new SK(Q.lineNumber,Q.column,0)}static moveLeft(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.startLineNumber,G=X.selection.startColumn;else{const q=X.position.delta(void 0,-(Y-1)),U=$.normalizePosition(C1.clipPositionColumn(q,$),0),H=C1.left(J,$,U);Z=H.lineNumber,G=H.column}return X.move(Q,Z,G,0)}static clipPositionColumn(J,$){return new b(J.lineNumber,C1.clipRange(J.column,$.getLineMinColumn(J.lineNumber),$.getLineMaxColumn(J.lineNumber)))}static clipRange(J,$,X){if(J<$)return $;if(J>X)return X;return J}static rightPosition(J,$,X){if(X<J.getLineMaxColumn($))X=X+u3(J.getLineContent($),X-1);else if($<J.getLineCount())$=$+1,X=J.getLineMinColumn($);return new b($,X)}static rightPositionAtomicSoftTabs(J,$,X,Q,Y){if(X<J.getLineIndentColumn($)){const Z=J.getLineContent($),G=jG.atomicPosition(Z,X-1,Q,1);if(G!==-1)return new b($,G+1)}return this.rightPosition(J,$,X)}static right(J,$,X){const Q=J.stickyTabStops?C1.rightPositionAtomicSoftTabs($,X.lineNumber,X.column,J.tabSize,J.indentSize):C1.rightPosition($,X.lineNumber,X.column);return new SK(Q.lineNumber,Q.column,0)}static moveRight(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.endLineNumber,G=X.selection.endColumn;else{const q=X.position.delta(void 0,Y-1),U=$.normalizePosition(C1.clipPositionColumn(q,$),1),H=C1.right(J,$,U);Z=H.lineNumber,G=H.column}return X.move(Q,Z,G,0)}static vertical(J,$,X,Q,Y,Z,G,q){const U=t1.visibleColumnFromColumn($.getLineContent(X),Q,J.tabSize)+Y,H=$.getLineCount(),z=X===1&&Q===1,V=X===H&&Q===$.getLineMaxColumn(X),W=Z<X?z:V;if(X=Z,X<1)if(X=1,G)Q=$.getLineMinColumn(X);else Q=Math.min($.getLineMaxColumn(X),Q);else if(X>H)if(X=H,G)Q=$.getLineMaxColumn(X);else Q=Math.min($.getLineMaxColumn(X),Q);else Q=J.columnFromVisibleColumn($,X,U);if(W)Y=0;else Y=U-t1.visibleColumnFromColumn($.getLineContent(X),Q,J.tabSize);if(q!==void 0){const B=new b(X,Q),j=$.normalizePosition(B,q);Y=Y+(Q-j.column),X=j.lineNumber,Q=j.column}return new SK(X,Q,Y)}static down(J,$,X,Q,Y,Z,G){return this.vertical(J,$,X,Q,Y,X+Z,G,4)}static moveDown(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.endLineNumber,G=X.selection.endColumn;else Z=X.position.lineNumber,G=X.position.column;let q=0,U;do if(U=C1.down(J,$,Z+q,G,X.leftoverVisibleColumns,Y,!0),$.normalizePosition(new b(U.lineNumber,U.column),2).lineNumber>Z)break;while(q++<10&&Z+q<$.getLineCount());return X.move(Q,U.lineNumber,U.column,U.leftoverVisibleColumns)}static translateDown(J,$,X){const Q=X.selection,Y=C1.down(J,$,Q.selectionStartLineNumber,Q.selectionStartColumn,X.selectionStartLeftoverVisibleColumns,1,!1),Z=C1.down(J,$,Q.positionLineNumber,Q.positionColumn,X.leftoverVisibleColumns,1,!1);return new Q7(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new b(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static up(J,$,X,Q,Y,Z,G){return this.vertical(J,$,X,Q,Y,X-Z,G,3)}static moveUp(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.startLineNumber,G=X.selection.startColumn;else Z=X.position.lineNumber,G=X.position.column;const q=C1.up(J,$,Z,G,X.leftoverVisibleColumns,Y,!0);return X.move(Q,q.lineNumber,q.column,q.leftoverVisibleColumns)}static translateUp(J,$,X){const Q=X.selection,Y=C1.up(J,$,Q.selectionStartLineNumber,Q.selectionStartColumn,X.selectionStartLeftoverVisibleColumns,1,!1),Z=C1.up(J,$,Q.positionLineNumber,Q.positionColumn,X.leftoverVisibleColumns,1,!1);return new Q7(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new b(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static _isBlankLine(J,$){if(J.getLineFirstNonWhitespaceColumn($)===0)return!0;return!1}static moveToPrevBlankLine(J,$,X,Q){let Y=X.position.lineNumber;while(Y>1&&this._isBlankLine($,Y))Y--;while(Y>1&&!this._isBlankLine($,Y))Y--;return X.move(Q,Y,$.getLineMinColumn(Y),0)}static moveToNextBlankLine(J,$,X,Q){const Y=$.getLineCount();let Z=X.position.lineNumber;while(Z<Y&&this._isBlankLine($,Z))Z++;while(Z<Y&&!this._isBlankLine($,Z))Z++;return X.move(Q,Z,$.getLineMinColumn(Z),0)}static moveToBeginningOfLine(J,$,X,Q){const Y=X.position.lineNumber,Z=$.getLineMinColumn(Y),G=$.getLineFirstNonWhitespaceColumn(Y)||Z;let q;if(X.position.column===G)q=Z;else q=G;return X.move(Q,Y,q,0)}static moveToEndOfLine(J,$,X,Q,Y){const Z=X.position.lineNumber,G=$.getLineMaxColumn(Z);return X.move(Q,Z,G,Y?1073741824-G:0)}static moveToBeginningOfBuffer(J,$,X,Q){return X.move(Q,1,1,0)}static moveToEndOfBuffer(J,$,X,Q){const Y=$.getLineCount(),Z=$.getLineMaxColumn(Y);return X.move(Q,Y,Z,0)}}var RT=N(()=>{l0();_J();W1();u0();cN();wJ()});class N${static deleteRight(J,$,X,Q){const Y=[];let Z=J!==3;for(let G=0,q=Q.length;G<q;G++){const U=Q[G];let H=U;if(H.isEmpty()){const z=U.getPosition(),V=C1.right($,X,z);H=new L(V.lineNumber,V.column,z.lineNumber,z.column)}if(H.isEmpty()){Y[G]=null;continue}if(H.startLineNumber!==H.endLineNumber)Z=!0;Y[G]=new g6(H,"")}return[Z,Y]}static isAutoClosingPairDelete(J,$,X,Q,Y,Z,G){if($==="never"&&X==="never")return!1;if(J==="never")return!1;for(let q=0,U=Z.length;q<U;q++){const H=Z[q],z=H.getPosition();if(!H.isEmpty())return!1;const V=Y.getLineContent(z.lineNumber);if(z.column<2||z.column>=V.length+1)return!1;const W=V.charAt(z.column-2),B=Q.get(W);if(!B)return!1;if(O$(W)){if(X==="never")return!1}else if($==="never")return!1;const j=V.charAt(z.column-1);let K=!1;for(let D of B)if(D.open===W&&D.close===j)K=!0;if(!K)return!1;if(J==="auto"){let D=!1;for(let A=0,P=G.length;A<P;A++){const R=G[A];if(z.lineNumber===R.startLineNumber&&z.column===R.startColumn){D=!0;break}}if(!D)return!1}}return!0}static _runAutoClosingPairDelete(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].getPosition(),q=new L(G.lineNumber,G.column-1,G.lineNumber,G.column+1);Q[Y]=new g6(q,"")}return[!0,Q]}static deleteLeft(J,$,X,Q,Y){if(this.isAutoClosingPairDelete($.autoClosingDelete,$.autoClosingBrackets,$.autoClosingQuotes,$.autoClosingPairs.autoClosingPairsOpenByEnd,X,Q,Y))return this._runAutoClosingPairDelete($,X,Q);const Z=[];let G=J!==2;for(let q=0,U=Q.length;q<U;q++){const H=N$.getDeleteRange(Q[q],X,$);if(H.isEmpty()){Z[q]=null;continue}if(H.startLineNumber!==H.endLineNumber)G=!0;Z[q]=new g6(H,"")}return[G,Z]}static getDeleteRange(J,$,X){if(!J.isEmpty())return J;const Q=J.getPosition();if(X.useTabStops&&Q.column>1){const Y=$.getLineContent(Q.lineNumber),Z=k8(Y),G=Z===-1?Y.length+1:Z+1;if(Q.column<=G){const q=X.visibleColumnFromColumn($,Q),U=t1.prevIndentTabStop(q,X.indentSize),H=X.columnFromVisibleColumn($,Q.lineNumber,U);return new L(Q.lineNumber,H,Q.lineNumber,Q.column)}}return L.fromPositions(N$.getPositionAfterDeleteLeft(Q,$),Q)}static getPositionAfterDeleteLeft(J,$){if(J.column>1){const X=Jx(J.column-1,$.getLineContent(J.lineNumber));return J.with(void 0,X+1)}else if(J.lineNumber>1){const X=J.lineNumber-1;return new b(X,$.getLineMaxColumn(X))}else return J}static cut(J,$,X){const Q=[];let Y=null;X.sort((Z,G)=>b.compare(Z.getStartPosition(),G.getEndPosition()));for(let Z=0,G=X.length;Z<G;Z++){const q=X[Z];if(q.isEmpty())if(J.emptySelectionClipboard){const U=q.getPosition();let H,z,V,W;if(U.lineNumber<$.getLineCount())H=U.lineNumber,z=1,V=U.lineNumber+1,W=1;else if(U.lineNumber>1&&(Y===null||Y===void 0?void 0:Y.endLineNumber)!==U.lineNumber)H=U.lineNumber-1,z=$.getLineMaxColumn(U.lineNumber-1),V=U.lineNumber,W=$.getLineMaxColumn(U.lineNumber);else H=U.lineNumber,z=1,V=U.lineNumber,W=$.getLineMaxColumn(U.lineNumber);const B=new L(H,z,V,W);if(Y=B,!B.isEmpty())Q[Z]=new g6(B,"");else Q[Z]=null}else Q[Z]=null;else Q[Z]=new g6(q,"")}return new Y6(0,Q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}var CK=N(()=>{l0();DT();wJ();_J();RT();u0();W1()});class y8{static _createWord(J,$,X,Q,Y){return{start:Q,end:Y,wordType:$,nextCharClass:X}}static _findPreviousWordOnLine(J,$,X){const Q=$.getLineContent(X.lineNumber);return this._doFindPreviousWordOnLine(Q,J,X)}static _doFindPreviousWordOnLine(J,$,X){let Q=0;for(let Y=X.column-2;Y>=0;Y--){const Z=J.charCodeAt(Y),G=$.get(Z);if(G===0){if(Q===2)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1));Q=1}else if(G===2){if(Q===1)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1));Q=2}else if(G===1){if(Q!==0)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1))}}if(Q!==0)return this._createWord(J,Q,1,0,this._findEndOfWord(J,$,Q,0));return null}static _findEndOfWord(J,$,X,Q){const Y=J.length;for(let Z=Q;Z<Y;Z++){const G=J.charCodeAt(Z),q=$.get(G);if(q===1)return Z;if(X===1&&q===2)return Z;if(X===2&&q===0)return Z}return Y}static _findNextWordOnLine(J,$,X){const Q=$.getLineContent(X.lineNumber);return this._doFindNextWordOnLine(Q,J,X)}static _doFindNextWordOnLine(J,$,X){let Q=0;const Y=J.length;for(let Z=X.column-1;Z<Y;Z++){const G=J.charCodeAt(Z),q=$.get(G);if(q===0){if(Q===2)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z);Q=1}else if(q===2){if(Q===1)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z);Q=2}else if(q===1){if(Q!==0)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z)}}if(Q!==0)return this._createWord(J,Q,1,this._findStartOfWord(J,$,Q,Y-1),Y);return null}static _findStartOfWord(J,$,X,Q){for(let Y=Q;Y>=0;Y--){const Z=J.charCodeAt(Y),G=$.get(Z);if(G===1)return Y+1;if(X===1&&G===2)return Y+1;if(X===2&&G===0)return Y+1}return 0}static moveWordLeft(J,$,X,Q){let{lineNumber:Y,column:Z}=X;if(Z===1){if(Y>1)Y=Y-1,Z=$.getLineMaxColumn(Y)}let G=y8._findPreviousWordOnLine(J,$,new b(Y,Z));if(Q===0)return new b(Y,G?G.start+1:1);if(Q===1){if(G&&G.wordType===2&&G.end-G.start===1&&G.nextCharClass===0)G=y8._findPreviousWordOnLine(J,$,new b(Y,G.start+1));return new b(Y,G?G.start+1:1)}if(Q===3){while(G&&G.wordType===2)G=y8._findPreviousWordOnLine(J,$,new b(Y,G.start+1));return new b(Y,G?G.start+1:1)}if(G&&Z<=G.end+1)G=y8._findPreviousWordOnLine(J,$,new b(Y,G.start+1));return new b(Y,G?G.end+1:1)}static _moveWordPartLeft(J,$){const X=$.lineNumber,Q=J.getLineMaxColumn(X);if($.column===1)return X>1?new b(X-1,J.getLineMaxColumn(X-1)):$;const Y=J.getLineContent(X);for(let Z=$.column-1;Z>1;Z--){const G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G===95&&q!==95)return new b(X,Z);if(G===45&&q!==45)return new b(X,Z);if((IZ(G)||p3(G))&&n4(q))return new b(X,Z);if(n4(G)&&n4(q)){if(Z+1<Q){const U=Y.charCodeAt(Z);if(IZ(U)||p3(U))return new b(X,Z)}}}return new b(X,1)}static moveWordRight(J,$,X,Q){let{lineNumber:Y,column:Z}=X,G=!1;if(Z===$.getLineMaxColumn(Y)){if(Y<$.getLineCount())G=!0,Y=Y+1,Z=1}let q=y8._findNextWordOnLine(J,$,new b(Y,Z));if(Q===2){if(q&&q.wordType===2){if(q.end-q.start===1&&q.nextCharClass===0)q=y8._findNextWordOnLine(J,$,new b(Y,q.end+1))}if(q)Z=q.end+1;else Z=$.getLineMaxColumn(Y)}else if(Q===3){if(G)Z=0;while(q&&(q.wordType===2||q.start+1<=Z))q=y8._findNextWordOnLine(J,$,new b(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}else{if(q&&!G&&Z>=q.start+1)q=y8._findNextWordOnLine(J,$,new b(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}return new b(Y,Z)}static _moveWordPartRight(J,$){const X=$.lineNumber,Q=J.getLineMaxColumn(X);if($.column===Q)return X<J.getLineCount()?new b(X+1,1):$;const Y=J.getLineContent(X);for(let Z=$.column+1;Z<Q;Z++){const G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G!==95&&q===95)return new b(X,Z);if(G!==45&&q===45)return new b(X,Z);if((IZ(G)||p3(G))&&n4(q))return new b(X,Z);if(n4(G)&&n4(q)){if(Z+1<Q){const U=Y.charCodeAt(Z);if(IZ(U)||p3(U))return new b(X,Z)}}}return new b(X,Q)}static _deleteWordLeftWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=$.column-2,Y=o9(X,Q);if(Y+1<Q)return new L($.lineNumber,Y+2,$.lineNumber,$.column);return null}static deleteWordLeft(J,$){const{wordSeparators:X,model:Q,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;if(N$.isAutoClosingPairDelete(J.autoClosingDelete,J.autoClosingBrackets,J.autoClosingQuotes,J.autoClosingPairs.autoClosingPairsOpenByEnd,J.model,[J.selection],J.autoClosedCharacters)){const z=J.selection.getPosition();return new L(z.lineNumber,z.column-1,z.lineNumber,z.column+1)}const G=new b(Y.positionLineNumber,Y.positionColumn);let{lineNumber:q,column:U}=G;if(q===1&&U===1)return null;if(Z){const z=this._deleteWordLeftWhitespace(Q,G);if(z)return z}let H=y8._findPreviousWordOnLine(X,Q,G);if($===0)if(H)U=H.start+1;else if(U>1)U=1;else q--,U=Q.getLineMaxColumn(q);else{if(H&&U<=H.end+1)H=y8._findPreviousWordOnLine(X,Q,new b(q,H.start+1));if(H)U=H.end+1;else if(U>1)U=1;else q--,U=Q.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static deleteInsideWord(J,$,X){if(!X.isEmpty())return X;const Q=new b(X.positionLineNumber,X.positionColumn),Y=this._deleteInsideWordWhitespace($,Q);if(Y)return Y;return this._deleteInsideWordDetermineDeleteRange(J,$,Q)}static _charAtIsWhitespace(J,$){const X=J.charCodeAt($);return X===32||X===9}static _deleteInsideWordWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=X.length;if(Q===0)return null;let Y=Math.max($.column-2,0);if(!this._charAtIsWhitespace(X,Y))return null;let Z=Math.min($.column-1,Q-1);if(!this._charAtIsWhitespace(X,Z))return null;while(Y>0&&this._charAtIsWhitespace(X,Y-1))Y--;while(Z+1<Q&&this._charAtIsWhitespace(X,Z+1))Z++;return new L($.lineNumber,Y+1,$.lineNumber,Z+2)}static _deleteInsideWordDetermineDeleteRange(J,$,X){const Q=$.getLineContent(X.lineNumber),Y=Q.length;if(Y===0)if(X.lineNumber>1)return new L(X.lineNumber-1,$.getLineMaxColumn(X.lineNumber-1),X.lineNumber,1);else if(X.lineNumber<$.getLineCount())return new L(X.lineNumber,1,X.lineNumber+1,1);else return new L(X.lineNumber,1,X.lineNumber,1);const Z=(z)=>{return z.start+1<=X.column&&X.column<=z.end+1},G=(z,V)=>{return z=Math.min(z,X.column),V=Math.max(V,X.column),new L(X.lineNumber,z,X.lineNumber,V)},q=(z)=>{let V=z.start+1,W=z.end+1,B=!1;while(W-1<Y&&this._charAtIsWhitespace(Q,W-1))B=!0,W++;if(!B)while(V>1&&this._charAtIsWhitespace(Q,V-2))V--;return G(V,W)},U=y8._findPreviousWordOnLine(J,$,X);if(U&&Z(U))return q(U);const H=y8._findNextWordOnLine(J,$,X);if(H&&Z(H))return q(H);if(U&&H)return G(U.end+1,H.start+1);if(U)return G(U.start+1,U.end+1);if(H)return G(H.start+1,H.end+1);return G(1,Y+1)}static _deleteWordPartLeft(J,$){if(!$.isEmpty())return $;const X=$.getPosition(),Q=y8._moveWordPartLeft(J,X);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}static _findFirstNonWhitespaceChar(J,$){const X=J.length;for(let Q=$;Q<X;Q++){const Y=J.charAt(Q);if(Y!==" "&&Y!=="\t")return Q}return X}static _deleteWordRightWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=$.column-1,Y=this._findFirstNonWhitespaceChar(X,Q);if(Q+1<Y)return new L($.lineNumber,$.column,$.lineNumber,Y+1);return null}static deleteWordRight(J,$){const{wordSeparators:X,model:Q,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;const G=new b(Y.positionLineNumber,Y.positionColumn);let{lineNumber:q,column:U}=G;const H=Q.getLineCount(),z=Q.getLineMaxColumn(q);if(q===H&&U===z)return null;if(Z){const W=this._deleteWordRightWhitespace(Q,G);if(W)return W}let V=y8._findNextWordOnLine(X,Q,G);if($===2)if(V)U=V.end+1;else if(U<z||q===H)U=z;else if(q++,V=y8._findNextWordOnLine(X,Q,new b(q,1)),V)U=V.start+1;else U=Q.getLineMaxColumn(q);else{if(V&&U>=V.start+1)V=y8._findNextWordOnLine(X,Q,new b(q,V.end+1));if(V)U=V.start+1;else if(U<z||q===H)U=z;else if(q++,V=y8._findNextWordOnLine(X,Q,new b(q,1)),V)U=V.start+1;else U=Q.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static _deleteWordPartRight(J,$){if(!$.isEmpty())return $;const X=$.getPosition(),Q=y8._moveWordPartRight(J,X);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}static _createWordAtPosition(J,$,X){const Q=new L($,X.start+1,$,X.end+1);return{word:J.getValueInRange(Q),startColumn:Q.startColumn,endColumn:Q.endColumn}}static getWordAtPosition(J,$,X){const Q=G$($),Y=y8._findPreviousWordOnLine(Q,J,X);if(Y&&Y.wordType===1&&Y.start<=X.column-1&&X.column-1<=Y.end)return y8._createWordAtPosition(J,X.lineNumber,Y);const Z=y8._findNextWordOnLine(Q,J,X);if(Z&&Z.wordType===1&&Z.start<=X.column-1&&X.column-1<=Z.end)return y8._createWordAtPosition(J,X.lineNumber,Z);return null}static word(J,$,X,Q,Y){const Z=G$(J.wordSeparators),G=y8._findPreviousWordOnLine(Z,$,Y),q=y8._findNextWordOnLine(Z,$,Y);if(!Q){let W,B;if(G&&G.wordType===1&&G.start<=Y.column-1&&Y.column-1<=G.end)W=G.start+1,B=G.end+1;else if(q&&q.wordType===1&&q.start<=Y.column-1&&Y.column-1<=q.end)W=q.start+1,B=q.end+1;else{if(G)W=G.end+1;else W=1;if(q)B=q.start+1;else B=$.getLineMaxColumn(Y.lineNumber)}return new Q7(new L(Y.lineNumber,W,Y.lineNumber,B),1,0,new b(Y.lineNumber,B),0)}let U,H;if(G&&G.wordType===1&&G.start<Y.column-1&&Y.column-1<G.end)U=G.start+1,H=G.end+1;else if(q&&q.wordType===1&&q.start<Y.column-1&&Y.column-1<q.end)U=q.start+1,H=q.end+1;else U=Y.column,H=Y.column;const z=Y.lineNumber;let V;if(X.selectionStart.containsPosition(Y))V=X.selectionStart.endColumn;else if(Y.isBeforeOrEqual(X.selectionStart.getStartPosition())){V=U;const W=new b(z,V);if(X.selectionStart.containsPosition(W))V=X.selectionStart.endColumn}else{V=H;const W=new b(z,V);if(X.selectionStart.containsPosition(W))V=X.selectionStart.startColumn}return X.move(!0,z,V,0)}}var MT=N(()=>{l0();wJ();CK();TH();W1();u0()});class Z6{static addCursorDown(J,$,X){const Q=[];let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];if(Q[Y++]=new B1(q.modelState,q.viewState),X)Q[Y++]=B1.fromModelState(C1.translateDown(J.cursorConfig,J.model,q.modelState));else Q[Y++]=B1.fromViewState(C1.translateDown(J.cursorConfig,J,q.viewState))}return Q}static addCursorUp(J,$,X){const Q=[];let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];if(Q[Y++]=new B1(q.modelState,q.viewState),X)Q[Y++]=B1.fromModelState(C1.translateUp(J.cursorConfig,J.model,q.modelState));else Q[Y++]=B1.fromViewState(C1.translateUp(J.cursorConfig,J,q.viewState))}return Q}static moveToBeginningOfLine(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=this._moveToLineStart(J,G,X)}return Q}static _moveToLineStart(J,$,X){const Q=$.viewState.position.column,Y=$.modelState.position.column,Z=Q===Y,G=$.viewState.position.lineNumber,q=J.getLineFirstNonWhitespaceColumn(G);if(!Z&&Q!==q)return this._moveToLineStartByView(J,$,X);else return this._moveToLineStartByModel(J,$,X)}static _moveToLineStartByView(J,$,X){return B1.fromViewState(C1.moveToBeginningOfLine(J.cursorConfig,J,$.viewState,X))}static _moveToLineStartByModel(J,$,X){return B1.fromModelState(C1.moveToBeginningOfLine(J.cursorConfig,J.model,$.modelState,X))}static moveToEndOfLine(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=this._moveToLineEnd(J,q,X,Q)}return Y}static _moveToLineEnd(J,$,X,Q){const Y=$.viewState.position,Z=J.getLineMaxColumn(Y.lineNumber),G=Y.column===Z,q=$.modelState.position,U=J.model.getLineMaxColumn(q.lineNumber),H=Z-Y.column===U-q.column;if(G||H)return this._moveToLineEndByModel(J,$,X,Q);else return this._moveToLineEndByView(J,$,X,Q)}static _moveToLineEndByView(J,$,X,Q){return B1.fromViewState(C1.moveToEndOfLine(J.cursorConfig,J,$.viewState,X,Q))}static _moveToLineEndByModel(J,$,X,Q){return B1.fromModelState(C1.moveToEndOfLine(J.cursorConfig,J.model,$.modelState,X,Q))}static expandLineSelection(J,$){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++){const Z=$[Q],G=Z.modelState.selection.startLineNumber,q=J.model.getLineCount();let U=Z.modelState.selection.endLineNumber,H;if(U===q)H=J.model.getLineMaxColumn(q);else U++,H=1;X[Q]=B1.fromModelState(new Q7(new L(G,1,G,1),0,0,new b(U,H),0))}return X}static moveToBeginningOfBuffer(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=B1.fromModelState(C1.moveToBeginningOfBuffer(J.cursorConfig,J.model,G.modelState,X))}return Q}static moveToEndOfBuffer(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=B1.fromModelState(C1.moveToEndOfBuffer(J.cursorConfig,J.model,G.modelState,X))}return Q}static selectAll(J,$){const X=J.model.getLineCount(),Q=J.model.getLineMaxColumn(X);return B1.fromModelState(new Q7(new L(1,1,1,1),0,0,new b(X,Q),0))}static line(J,$,X,Q,Y){const Z=J.model.validatePosition(Q),G=Y?J.coordinatesConverter.validateViewPosition(new b(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);if(!X){const U=J.model.getLineCount();let H=Z.lineNumber+1,z=1;if(H>U)H=U,z=J.model.getLineMaxColumn(H);return B1.fromModelState(new Q7(new L(Z.lineNumber,1,H,z),2,0,new b(H,z),0))}const q=$.modelState.selectionStart.getStartPosition().lineNumber;if(Z.lineNumber<q)return B1.fromViewState($.viewState.move(!0,G.lineNumber,1,0));else if(Z.lineNumber>q){const U=J.getLineCount();let H=G.lineNumber+1,z=1;if(H>U)H=U,z=J.getLineMaxColumn(H);return B1.fromViewState($.viewState.move(!0,H,z,0))}else{const U=$.modelState.selectionStart.getEndPosition();return B1.fromModelState($.modelState.move(!0,U.lineNumber,U.column,0))}}static word(J,$,X,Q){const Y=J.model.validatePosition(Q);return B1.fromModelState(y8.word(J.cursorConfig,J.model,$.modelState,X,Y))}static cancelSelection(J,$){if(!$.modelState.hasSelection())return new B1($.modelState,$.viewState);const X=$.viewState.position.lineNumber,Q=$.viewState.position.column;return B1.fromViewState(new Q7(new L(X,Q,X,Q),0,0,new b(X,Q),0))}static moveTo(J,$,X,Q,Y){if(X){if($.modelState.selectionStartKind===1)return this.word(J,$,X,Q);if($.modelState.selectionStartKind===2)return this.line(J,$,X,Q,Y)}const Z=J.model.validatePosition(Q),G=Y?J.coordinatesConverter.validateViewPosition(new b(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);return B1.fromViewState($.viewState.move(X,G.lineNumber,G.column,0))}static simpleMove(J,$,X,Q,Y,Z){switch(X){case 0:if(Z===4)return this._moveHalfLineLeft(J,$,Q);else return this._moveLeft(J,$,Q,Y);case 1:if(Z===4)return this._moveHalfLineRight(J,$,Q);else return this._moveRight(J,$,Q,Y);case 2:if(Z===2)return this._moveUpByViewLines(J,$,Q,Y);else return this._moveUpByModelLines(J,$,Q,Y);case 3:if(Z===2)return this._moveDownByViewLines(J,$,Q,Y);else return this._moveDownByModelLines(J,$,Q,Y);case 4:if(Z===2)return $.map((G)=>B1.fromViewState(C1.moveToPrevBlankLine(J.cursorConfig,J,G.viewState,Q)));else return $.map((G)=>B1.fromModelState(C1.moveToPrevBlankLine(J.cursorConfig,J.model,G.modelState,Q)));case 5:if(Z===2)return $.map((G)=>B1.fromViewState(C1.moveToNextBlankLine(J.cursorConfig,J,G.viewState,Q)));else return $.map((G)=>B1.fromModelState(C1.moveToNextBlankLine(J.cursorConfig,J.model,G.modelState,Q)));case 6:return this._moveToViewMinColumn(J,$,Q);case 7:return this._moveToViewFirstNonWhitespaceColumn(J,$,Q);case 8:return this._moveToViewCenterColumn(J,$,Q);case 9:return this._moveToViewMaxColumn(J,$,Q);case 10:return this._moveToViewLastNonWhitespaceColumn(J,$,Q);default:return null}}static viewportMove(J,$,X,Q,Y){const Z=J.getCompletelyVisibleViewRange(),G=J.coordinatesConverter.convertViewRangeToModelRange(Z);switch(X){case 11:{const q=this._firstLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 13:{const q=this._lastLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 12:{const q=Math.round((G.startLineNumber+G.endLineNumber)/2),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 14:{const q=[];for(let U=0,H=$.length;U<H;U++){const z=$[U];q[U]=this.findPositionInViewportIfOutside(J,z,Z,Q)}return q}default:return null}}static findPositionInViewportIfOutside(J,$,X,Q){const Y=$.viewState.position.lineNumber;if(X.startLineNumber<=Y&&Y<=X.endLineNumber-1)return new B1($.modelState,$.viewState);else{let Z;if(Y>X.endLineNumber-1)Z=X.endLineNumber-1;else if(Y<X.startLineNumber)Z=X.startLineNumber;else Z=Y;const G=C1.vertical(J.cursorConfig,J,Y,$.viewState.position.column,$.viewState.leftoverVisibleColumns,Z,!1);return B1.fromViewState($.viewState.move(Q,G.lineNumber,G.column,G.leftoverVisibleColumns))}}static _firstLineNumberInRange(J,$,X){let Q=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(Q))Q++;return Math.min($.endLineNumber,Q+X-1)}static _lastLineNumberInRange(J,$,X){let Q=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(Q))Q++;return Math.max(Q,$.endLineNumber-X+1)}static _moveLeft(J,$,X,Q){return $.map((Y)=>B1.fromViewState(C1.moveLeft(J.cursorConfig,J,Y.viewState,X,Q)))}static _moveHalfLineLeft(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineContent(q).length/2);Q[Y]=B1.fromViewState(C1.moveLeft(J.cursorConfig,J,G.viewState,X,U))}return Q}static _moveRight(J,$,X,Q){return $.map((Y)=>B1.fromViewState(C1.moveRight(J.cursorConfig,J,Y.viewState,X,Q)))}static _moveHalfLineRight(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineContent(q).length/2);Q[Y]=B1.fromViewState(C1.moveRight(J.cursorConfig,J,G.viewState,X,U))}return Q}static _moveDownByViewLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=B1.fromViewState(C1.moveDown(J.cursorConfig,J,q.viewState,X,Q))}return Y}static _moveDownByModelLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=B1.fromModelState(C1.moveDown(J.cursorConfig,J.model,q.modelState,X,Q))}return Y}static _moveUpByViewLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=B1.fromViewState(C1.moveUp(J.cursorConfig,J,q.viewState,X,Q))}return Y}static _moveUpByModelLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=B1.fromModelState(C1.moveUp(J.cursorConfig,J.model,q.modelState,X,Q))}return Y}static _moveToViewPosition(J,$,X,Q,Y){return B1.fromViewState($.viewState.move(X,Q,Y,0))}static _moveToModelPosition(J,$,X,Q,Y){return B1.fromModelState($.modelState.move(X,Q,Y,0))}static _moveToViewMinColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMinColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewFirstNonWhitespaceColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineFirstNonWhitespaceColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewCenterColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round((J.getLineMaxColumn(q)+J.getLineMinColumn(q))/2);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewMaxColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMaxColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewLastNonWhitespaceColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineLastNonWhitespaceColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}}var qz;var Rp=N(()=>{j8();wJ();RT();MT();W1();u0();(function(J){const $=function(Q){if(!r8(Q))return!1;const Y=Q;if(!Z7(Y.to))return!1;if(!$6(Y.select)&&!qB(Y.select))return!1;if(!$6(Y.by)&&!Z7(Y.by))return!1;if(!$6(Y.value)&&!s9(Y.value))return!1;return!0};J.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},J.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function X(Q){if(!Q.to)return null;let Y;switch(Q.to){case J.RawDirection.Left:Y=0;break;case J.RawDirection.Right:Y=1;break;case J.RawDirection.Up:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.PrevBlankLine:Y=4;break;case J.RawDirection.NextBlankLine:Y=5;break;case J.RawDirection.WrappedLineStart:Y=6;break;case J.RawDirection.WrappedLineFirstNonWhitespaceCharacter:Y=7;break;case J.RawDirection.WrappedLineColumnCenter:Y=8;break;case J.RawDirection.WrappedLineEnd:Y=9;break;case J.RawDirection.WrappedLineLastNonWhitespaceCharacter:Y=10;break;case J.RawDirection.ViewPortTop:Y=11;break;case J.RawDirection.ViewPortBottom:Y=13;break;case J.RawDirection.ViewPortCenter:Y=12;break;case J.RawDirection.ViewPortIfOutside:Y=14;break;default:return null}let Z=0;switch(Q.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Character:Z=3;break;case J.RawUnit.HalfLine:Z=4;break}return{direction:Y,unit:Z,select:!!Q.select,value:Q.value||1}}J.parse=X})(qz||(qz={}))});function Uz(J,$,X,Q){const Y=cQ($,X.startLineNumber,X.startColumn),Z=Q.getLanguageConfiguration(Y.languageId);if(!Z)return null;const G=Y.getLineContent(),q=G.substr(0,X.startColumn-1-Y.firstCharOffset);let U;if(X.isEmpty())U=G.substr(X.startColumn-1-Y.firstCharOffset);else U=cQ($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-Y.firstCharOffset);let H="";if(X.startLineNumber>1&&Y.firstCharOffset===0){const K=cQ($,X.startLineNumber-1);if(K.languageId===Y.languageId)H=K.getLineContent()}const z=Z.onEnter(J,H,q,U);if(!z)return null;const V=z.indentAction;let W=z.appendText;const B=z.removeText||0;if(!W)if(V===c7.Indent||V===c7.IndentOutdent)W="\t";else W="";else if(V===c7.Indent)W="\t"+W;let j=TF($,X.startLineNumber,X.startColumn);if(B)j=j.substring(0,j.length-B);return{indentAction:V,appendText:W,removeText:B,indentation:j}}var OT=N(()=>{uZ();b6()});var _G,z60,V60,xK,NT,jY;var Mp=N(()=>{l0();_J();u0();f7();OT();b6();_G=function(J,$){if($<=0)return"";if(!NT[J])NT[J]=["",J];const X=NT[J];for(let Q=X.length;Q<=$;Q++)X[Q]=X[Q-1]+J;return X[$]},z60=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},V60=function(J,$){return function(X,Q){$(X,Q,J)}},NT=Object.create(null),jY=xK=class J{static unshiftIndent($,X,Q,Y,Z){const G=t1.visibleColumnFromColumn($,X,Q);if(Z){const q=_G(" ",Y),H=t1.prevIndentTabStop(G,Y)/Y;return _G(q,H)}else{const H=t1.prevRenderTabStop(G,Q)/Q;return _G("\t",H)}}static shiftIndent($,X,Q,Y,Z){const G=t1.visibleColumnFromColumn($,X,Q);if(Z){const q=_G(" ",Y),H=t1.nextIndentTabStop(G,Y)/Y;return _G(q,H)}else{const H=t1.nextRenderTabStop(G,Q)/Q;return _G("\t",H)}}constructor($,X,Q){this._languageConfigurationService=Q,this._opts=X,this._selection=$,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation($,X,Q){if(this._useLastEditRangeForCursorEndPosition)$.addTrackedEditOperation(X,Q);else $.addEditOperation(X,Q)}getEditOperations($,X){const Q=this._selection.startLineNumber;let Y=this._selection.endLineNumber;if(this._selection.endColumn===1&&Q!==Y)Y=Y-1;const{tabSize:Z,indentSize:G,insertSpaces:q}=this._opts,U=Q===Y;if(this._opts.useTabStops){if(this._selection.isEmpty()){if(/^\s*$/.test($.getLineContent(Q)))this._useLastEditRangeForCursorEndPosition=!0}let H=0,z=0;for(let V=Q;V<=Y;V++,H=z){z=0;const W=$.getLineContent(V);let B=k8(W);if(this._opts.isUnshift&&(W.length===0||B===0))continue;if(!U&&!this._opts.isUnshift&&W.length===0)continue;if(B===-1)B=W.length;if(V>1){if(t1.visibleColumnFromColumn(W,B+1,Z)%G!==0){if($.tokenization.isCheapToTokenize(V-1)){const D=Uz(this._opts.autoIndent,$,new L(V-1,$.getLineMaxColumn(V-1),V-1,$.getLineMaxColumn(V-1)),this._languageConfigurationService);if(D){if(z=H,D.appendText)for(let A=0,P=D.appendText.length;A<P&&z<G;A++)if(D.appendText.charCodeAt(A)===32)z++;else break;if(D.removeText)z=Math.max(0,z-D.removeText);for(let A=0;A<z;A++){if(B===0||W.charCodeAt(B-1)!==32)break;B--}}}}}if(this._opts.isUnshift&&B===0)continue;let j;if(this._opts.isUnshift)j=xK.unshiftIndent(W,B+1,Z,G,q);else j=xK.shiftIndent(W,B+1,Z,G,q);if(this._addEditOperation(X,new L(V,1,V,B+1),j),V===Q&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn<=B+1}}else{if(!this._opts.isUnshift&&this._selection.isEmpty()&&$.getLineLength(Q)===0)this._useLastEditRangeForCursorEndPosition=!0;const H=q?_G(" ",G):"\t";for(let z=Q;z<=Y;z++){const V=$.getLineContent(z);let W=k8(V);if(this._opts.isUnshift&&(V.length===0||W===0))continue;if(!U&&!this._opts.isUnshift&&V.length===0)continue;if(W===-1)W=V.length;if(this._opts.isUnshift&&W===0)continue;if(this._opts.isUnshift){W=Math.min(W,G);for(let B=0;B<W;B++)if(V.charCodeAt(B)===9){W=B+1;break}this._addEditOperation(X,new L(z,1,z,W+1),"")}else if(this._addEditOperation(X,new L(z,1,z,1),H),z===Q&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn===1}}this._selectionId=X.trackSelection(this._selection)}computeCursorState($,X){if(this._useLastEditRangeForCursorEndPosition){const Y=X.getInverseEditOperations()[0];return new b0(Y.range.endLineNumber,Y.range.endColumn,Y.range.endLineNumber,Y.range.endColumn)}const Q=X.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const Y=this._selection.startColumn;if(Q.startColumn<=Y)return Q;if(Q.getDirection()===0)return new b0(Q.startLineNumber,Y,Q.endLineNumber,Q.endColumn);return new b0(Q.endLineNumber,Q.endColumn,Q.startLineNumber,Y)}return Q}};jY=xK=z60([V60(2,N8)],jY)});class TT{constructor(J,$,X){this._range=J,this._charBeforeSelection=$,this._charAfterSelection=X}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new L(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(J,$){const X=$.getInverseEditOperations(),Q=X[0].range,Y=X[1].range;return new b0(Q.endLineNumber,Q.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class _T{constructor(J,$,X){this._position=J,this._text=$,this._charAfter=X}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return new b0(Q.endLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn-this._charAfter.length)}}var Op=N(()=>{u0();f7()});function bK(J,$,X,Q=!0,Y){if(J<4)return null;const Z=Y.getLanguageConfiguration($.tokenization.getLanguageId()).indentRulesSupport;if(!Z)return null;if(X<=1)return{indentation:"",action:null};for(let U=X-1;U>0;U--){if($.getLineContent(U)!=="")break;if(U===1)return{indentation:"",action:null}}const G=W60($,X,Z);if(G<0)return null;else if(G<1)return{indentation:"",action:null};const q=$.getLineContent(G);if(Z.shouldIncrease(q)||Z.shouldIndentNextLine(q))return{indentation:o8(q),action:c7.Indent,line:G};else if(Z.shouldDecrease(q))return{indentation:o8(q),action:null,line:G};else{if(G===1)return{indentation:o8($.getLineContent(G)),action:null,line:G};const U=G-1,H=Z.getIndentMetadata($.getLineContent(U));if(!(H&(1|2))&&H&4){let z=0;for(let V=U-1;V>0;V--){if(Z.shouldIndentNextLine($.getLineContent(V)))continue;z=V;break}return{indentation:o8($.getLineContent(z+1)),action:null,line:z+1}}if(Q)return{indentation:o8($.getLineContent(G)),action:null,line:G};else{for(let z=G;z>0;z--){const V=$.getLineContent(z);if(Z.shouldIncrease(V))return{indentation:o8(V),action:c7.Indent,line:z};else if(Z.shouldIndentNextLine(V)){let W=0;for(let B=z-1;B>0;B--){if(Z.shouldIndentNextLine($.getLineContent(z)))continue;W=B;break}return{indentation:o8($.getLineContent(W+1)),action:null,line:W+1}}else if(Z.shouldDecrease(V))return{indentation:o8(V),action:null,line:z}}return{indentation:o8($.getLineContent(1)),action:null,line:1}}}}function Np(J,$,X,Q,Y){if(J<4)return null;$.tokenization.forceTokenization(X.startLineNumber);const Z=$.tokenization.getLineTokens(X.startLineNumber),G=mQ(Z,X.startColumn-1),q=G.getLineContent();let U=!1,H;if(G.firstCharOffset>0&&Z.getLanguageId(0)!==G.languageId)U=!0,H=q.substr(0,X.startColumn-1-G.firstCharOffset);else H=Z.getLineContent().substring(0,X.startColumn-1);let z;if(X.isEmpty())z=q.substr(X.startColumn-1-G.firstCharOffset);else z=cQ($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-G.firstCharOffset);const V=Y.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!V)return null;const W=H,B=o8(H),j={tokenization:{getLineTokens:(P)=>{return $.tokenization.getLineTokens(P)},getLanguageId:()=>{return $.getLanguageId()},getLanguageIdAtPosition:(P,R)=>{return $.getLanguageIdAtPosition(P,R)}},getLineContent:(P)=>{if(P===X.startLineNumber)return W;else return $.getLineContent(P)}},K=o8(Z.getLineContent()),D=bK(J,j,X.startLineNumber+1,void 0,Y);if(!D){const P=U?K:B;return{beforeEnter:P,afterEnter:P}}let A=U?K:D.indentation;if(D.action===c7.Indent)A=Q.shiftIndent(A);if(V.shouldDecrease(z))A=Q.unshiftIndent(A);return{beforeEnter:U?K:B,afterEnter:A}}function Tp(J,$,X,Q,Y,Z){if(J<4)return null;const G=cQ($,X.startLineNumber,X.startColumn);if(G.firstCharOffset)return null;const q=Z.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!q)return null;const U=G.getLineContent(),H=U.substr(0,X.startColumn-1-G.firstCharOffset);let z;if(X.isEmpty())z=U.substr(X.startColumn-1-G.firstCharOffset);else z=cQ($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-G.firstCharOffset);if(!q.shouldDecrease(H+z)&&q.shouldDecrease(H+Q+z)){const V=bK(J,$,X.startLineNumber,!1,Z);if(!V)return null;let W=V.indentation;if(V.action!==c7.Indent)W=Y.unshiftIndent(W);return W}return null}var W60;var _p=N(()=>{l0();uZ();cZ();b6();W60=function(J,$,X){const Q=J.tokenization.getLanguageIdAtPosition($,0);if($>1){let Y,Z=-1;for(Y=$-1;Y>=1;Y--){if(J.tokenization.getLanguageIdAtPosition(Y,0)!==Q)return Z;const G=J.getLineContent(Y);if(X.shouldIgnore(G)||/^\s+$/.test(G)||G===""){Z=Y;continue}return Y}}return-1}});class _8{static indent(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=new jY(X[Y],{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return Q}static outdent(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=new jY(X[Y],{isUnshift:!0,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return Q}static shiftIndent(J,$,X){return X=X||1,jY.shiftIndent($,$.length+X,J.tabSize,J.indentSize,J.insertSpaces)}static unshiftIndent(J,$,X){return X=X||1,jY.unshiftIndent($,$.length+X,J.tabSize,J.indentSize,J.insertSpaces)}static _distributedPaste(J,$,X,Q){const Y=[];for(let Z=0,G=X.length;Z<G;Z++)Y[Z]=new g6(X[Z],Q[Z]);return new Y6(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(J,$,X,Q,Y){const Z=[];for(let G=0,q=X.length;G<q;G++){const U=X[G],H=U.getPosition();if(Y&&!U.isEmpty())Y=!1;if(Y&&Q.indexOf("\n")!==Q.length-1)Y=!1;if(Y){const z=new L(H.lineNumber,1,H.lineNumber,1);Z[G]=new PT(z,Q,U,!0)}else Z[G]=new g6(U,Q)}return new Y6(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(J,$,X,Q,Y){if(Q)return null;if($.length===1)return null;if(Y&&Y.length===$.length)return Y;if(J.multiCursorPaste==="spread"){if(X.charCodeAt(X.length-1)===10)X=X.substr(0,X.length-1);if(X.charCodeAt(X.length-1)===13)X=X.substr(0,X.length-1);const Z=n9(X);if(Z.length===$.length)return Z}return null}static paste(J,$,X,Q,Y,Z){const G=this._distributePasteToCursors(J,X,Q,Y,Z);if(G)return X=X.sort(L.compareRangesUsingStarts),this._distributedPaste(J,$,X,G);else return this._simplePaste(J,$,X,Q,Y)}static _goodIndentForLine(J,$,X){let Q=null,Y="";const Z=bK(J.autoIndent,$,X,!1,J.languageConfigurationService);if(Z)Q=Z.action,Y=Z.indentation;else if(X>1){let G;for(G=X-1;G>=1;G--){const H=$.getLineContent(G);if(o9(H)>=0)break}if(G<1)return null;const q=$.getLineMaxColumn(G),U=Uz(J.autoIndent,$,new L(G,q,G,q),J.languageConfigurationService);if(U)Y=U.indentation+U.appendText}if(Q){if(Q===c7.Indent)Y=_8.shiftIndent(J,Y);if(Q===c7.Outdent)Y=_8.unshiftIndent(J,Y);Y=J.normalizeIndentation(Y)}if(!Y)return null;return Y}static _replaceJumpToNextIndent(J,$,X,Q){let Y="";const Z=X.getStartPosition();if(J.insertSpaces){const G=J.visibleColumnFromColumn($,Z),q=J.indentSize,U=q-G%q;for(let H=0;H<U;H++)Y+=" "}else Y="\t";return new g6(X,Y,Q)}static tab(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y];if(G.isEmpty()){const q=$.getLineContent(G.startLineNumber);if(/^\s*$/.test(q)&&$.tokenization.isCheapToTokenize(G.startLineNumber)){let U=this._goodIndentForLine(J,$,G.startLineNumber);U=U||"\t";const H=J.normalizeIndentation(U);if(!q.startsWith(H)){Q[Y]=new g6(new L(G.startLineNumber,1,G.startLineNumber,q.length+1),H,!0);continue}}Q[Y]=this._replaceJumpToNextIndent(J,$,G,!0)}else{if(G.startLineNumber===G.endLineNumber){const q=$.getLineMaxColumn(G.startLineNumber);if(G.startColumn!==1||G.endColumn!==q){Q[Y]=this._replaceJumpToNextIndent(J,$,G,!1);continue}}Q[Y]=new jY(G,{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService)}}return Q}static compositionType(J,$,X,Q,Y,Z,G,q){const U=Q.map((H)=>this._compositionType(X,H,Y,Z,G,q));return new Y6(4,U,{shouldPushStackElementBefore:vK(J,4),shouldPushStackElementAfter:!1})}static _compositionType(J,$,X,Q,Y,Z){if(!$.isEmpty())return null;const G=$.getPosition(),q=Math.max(1,G.column-Q),U=Math.min(J.getLineMaxColumn(G.lineNumber),G.column+Y),H=new L(G.lineNumber,q,G.lineNumber,U);if(J.getValueInRange(H)===X&&Z===0)return null;return new uq(H,X,0,Z)}static _typeCommand(J,$,X){if(X)return new mq(J,$,!0);else return new g6(J,$,!0)}static _enter(J,$,X,Q){if(J.autoIndent===0)return _8._typeCommand(Q,"\n",X);if(!$.tokenization.isCheapToTokenize(Q.getStartPosition().lineNumber)||J.autoIndent===1){const q=$.getLineContent(Q.startLineNumber),U=o8(q).substring(0,Q.startColumn-1);return _8._typeCommand(Q,"\n"+J.normalizeIndentation(U),X)}const Y=Uz(J.autoIndent,$,Q,J.languageConfigurationService);if(Y){if(Y.indentAction===c7.None)return _8._typeCommand(Q,"\n"+J.normalizeIndentation(Y.indentation+Y.appendText),X);else if(Y.indentAction===c7.Indent)return _8._typeCommand(Q,"\n"+J.normalizeIndentation(Y.indentation+Y.appendText),X);else if(Y.indentAction===c7.IndentOutdent){const q=J.normalizeIndentation(Y.indentation),U=J.normalizeIndentation(Y.indentation+Y.appendText),H="\n"+U+"\n"+q;if(X)return new mq(Q,H,!0);else return new uq(Q,H,-1,U.length-q.length,!0)}else if(Y.indentAction===c7.Outdent){const q=_8.unshiftIndent(J,Y.indentation);return _8._typeCommand(Q,"\n"+J.normalizeIndentation(q+Y.appendText),X)}}const Z=$.getLineContent(Q.startLineNumber),G=o8(Z).substring(0,Q.startColumn-1);if(J.autoIndent>=4){const q=Np(J.autoIndent,$,Q,{unshiftIndent:(U)=>{return _8.unshiftIndent(J,U)},shiftIndent:(U)=>{return _8.shiftIndent(J,U)},normalizeIndentation:(U)=>{return J.normalizeIndentation(U)}},J.languageConfigurationService);if(q){let U=J.visibleColumnFromColumn($,Q.getEndPosition());const H=Q.endColumn,z=$.getLineContent(Q.endLineNumber),V=k8(z);if(V>=0)Q=Q.setEndPosition(Q.endLineNumber,Math.max(Q.endColumn,V+1));else Q=Q.setEndPosition(Q.endLineNumber,$.getLineMaxColumn(Q.endLineNumber));if(X)return new mq(Q,"\n"+J.normalizeIndentation(q.afterEnter),!0);else{let W=0;if(H<=V+1){if(!J.insertSpaces)U=Math.ceil(U/J.indentSize);W=Math.min(U+1-J.normalizeIndentation(q.afterEnter).length-1,0)}return new uq(Q,"\n"+J.normalizeIndentation(q.afterEnter),0,W,!0)}}}return _8._typeCommand(Q,"\n"+J.normalizeIndentation(G),X)}static _isAutoIndentType(J,$,X){if(J.autoIndent<4)return!1;for(let Q=0,Y=X.length;Q<Y;Q++)if(!$.tokenization.isCheapToTokenize(X[Q].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(J,$,X,Q){const Y=TF($,X.startLineNumber,X.startColumn),Z=Tp(J.autoIndent,$,X,Q,{shiftIndent:(G)=>{return _8.shiftIndent(J,G)},unshiftIndent:(G)=>{return _8.unshiftIndent(J,G)}},J.languageConfigurationService);if(Z===null)return null;if(Z!==J.normalizeIndentation(Y)){const G=$.getLineFirstNonWhitespaceColumn(X.startLineNumber);if(G===0)return _8._typeCommand(new L(X.startLineNumber,1,X.endLineNumber,X.endColumn),J.normalizeIndentation(Z)+Q,!1);else return _8._typeCommand(new L(X.startLineNumber,1,X.endLineNumber,X.endColumn),J.normalizeIndentation(Z)+$.getLineContent(X.startLineNumber).substring(G-1,X.startColumn-1)+Q,!1)}return null}static _isAutoClosingOvertype(J,$,X,Q,Y){if(J.autoClosingOvertype==="never")return!1;if(!J.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let Z=0,G=X.length;Z<G;Z++){const q=X[Z];if(!q.isEmpty())return!1;const U=q.getPosition(),H=$.getLineContent(U.lineNumber);if(H.charAt(U.column-1)!==Y)return!1;const V=O$(Y);if((U.column>2?H.charCodeAt(U.column-2):0)===92&&V)return!1;if(J.autoClosingOvertype==="auto"){let B=!1;for(let j=0,K=Q.length;j<K;j++){const D=Q[j];if(U.lineNumber===D.startLineNumber&&U.column===D.startColumn){B=!0;break}}if(!B)return!1}}return!0}static _runAutoClosingOvertype(J,$,X,Q,Y){const Z=[];for(let G=0,q=Q.length;G<q;G++){const H=Q[G].getPosition(),z=new L(H.lineNumber,H.column,H.lineNumber,H.column+1);Z[G]=new g6(z,Y)}return new Y6(4,Z,{shouldPushStackElementBefore:vK(J,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(J,$){const X=$.charAt(0),Q=J.autoClosingPairs.autoClosingPairsOpenByStart.get(X)||[],Y=J.autoClosingPairs.autoClosingPairsCloseByStart.get(X)||[],Z=Q.some((q)=>$.startsWith(q.open)),G=Y.some((q)=>$.startsWith(q.close));return!Z&&G}static _findAutoClosingPairOpen(J,$,X,Q){const Y=J.autoClosingPairs.autoClosingPairsOpenByEnd.get(Q);if(!Y)return null;let Z=null;for(let G of Y)if(Z===null||G.open.length>Z.open.length){let q=!0;for(let U of X)if($.getValueInRange(new L(U.lineNumber,U.column-G.open.length+1,U.lineNumber,U.column))+Q!==G.open){q=!1;break}if(q)Z=G}return Z}static _findContainedAutoClosingPair(J,$){if($.open.length<=1)return null;const X=$.close.charAt($.close.length-1),Q=J.autoClosingPairs.autoClosingPairsCloseByEnd.get(X)||[];let Y=null;for(let Z of Q)if(Z.open!==$.open&&$.open.includes(Z.open)&&$.close.endsWith(Z.close)){if(!Y||Z.open.length>Y.open.length)Y=Z}return Y}static _getAutoClosingPairClose(J,$,X,Q,Y){for(let B of X)if(!B.isEmpty())return null;const Z=X.map((B)=>{const j=B.getPosition();if(Y)return{lineNumber:j.lineNumber,beforeColumn:j.column-Q.length,afterColumn:j.column};else return{lineNumber:j.lineNumber,beforeColumn:j.column,afterColumn:j.column}}),G=this._findAutoClosingPairOpen(J,$,Z.map((B)=>new b(B.lineNumber,B.beforeColumn)),Q);if(!G)return null;let q,U;if(O$(Q))q=J.autoClosingQuotes,U=J.shouldAutoCloseBefore.quote;else if(J.blockCommentStartToken?G.open.includes(J.blockCommentStartToken):!1)q=J.autoClosingComments,U=J.shouldAutoCloseBefore.comment;else q=J.autoClosingBrackets,U=J.shouldAutoCloseBefore.bracket;if(q==="never")return null;const z=this._findContainedAutoClosingPair(J,G),V=z?z.close:"";let W=!0;for(let B of Z){const{lineNumber:j,beforeColumn:K,afterColumn:D}=B,A=$.getLineContent(j),P=A.substring(0,K-1),R=A.substring(D-1);if(!R.startsWith(V))W=!1;if(R.length>0){const w=R.charAt(0);if(!_8._isBeforeClosingBrace(J,R)&&!U(w))return null}if(G.open.length===1&&(Q==="\'"||Q==='"')&&q!=="always"){const w=G$(J.wordSeparators);if(P.length>0){const x=P.charCodeAt(P.length-1);if(w.get(x)===0)return null}}if(!$.tokenization.isCheapToTokenize(j))return null;$.tokenization.forceTokenization(j);const M=$.tokenization.getLineTokens(j),T=mQ(M,K-1);if(!G.shouldAutoClose(T,K-T.firstCharOffset))return null;const _=G.findNeutralCharacter();if(_){const w=$.tokenization.getTokenTypeIfInsertingCharacter(j,K,_);if(!G.isOK(w))return null}}if(W)return G.close.substring(0,G.close.length-V.length);else return G.close}static _runAutoClosingOpenCharType(J,$,X,Q,Y,Z,G){const q=[];for(let U=0,H=Q.length;U<H;U++){const z=Q[U];q[U]=new fK(z,Y,!Z,G)}return new Y6(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(J,$){if(O$($))return J.autoSurround==="quotes"||J.autoSurround==="languageDefined";else return J.autoSurround==="brackets"||J.autoSurround==="languageDefined"}static _isSurroundSelectionType(J,$,X,Q){if(!_8._shouldSurroundChar(J,Q)||!J.surroundingPairs.hasOwnProperty(Q))return!1;const Y=O$(Q);for(let Z of X){if(Z.isEmpty())return!1;let G=!0;for(let q=Z.startLineNumber;q<=Z.endLineNumber;q++){const U=$.getLineContent(q),H=q===Z.startLineNumber?Z.startColumn-1:0,z=q===Z.endLineNumber?Z.endColumn-1:U.length,V=U.substring(H,z);if(/[^ \t]/.test(V)){G=!1;break}}if(G)return!1;if(Y&&Z.startLineNumber===Z.endLineNumber&&Z.startColumn+1===Z.endColumn){const q=$.getValueInRange(Z);if(O$(q))return!1}}return!0}static _runSurroundSelectionType(J,$,X,Q,Y){const Z=[];for(let G=0,q=Q.length;G<q;G++){const U=Q[G],H=$.surroundingPairs[Y];Z[G]=new TT(U,Y,H)}return new Y6(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(J,$,X){if(X.length===1&&$.tokenization.isCheapToTokenize(X[0].getEndPosition().lineNumber))return!0;return!1}static _typeInterceptorElectricChar(J,$,X,Q,Y){if(!$.electricChars.hasOwnProperty(Y)||!Q.isEmpty())return null;const Z=Q.getPosition();X.tokenization.forceTokenization(Z.lineNumber);const G=X.tokenization.getLineTokens(Z.lineNumber);let q;try{q=$.onElectricCharacter(Y,G,Z.column)}catch(U){return a0(U),null}if(!q)return null;if(q.matchOpenBracket){const U=(G.getLineContent()+Y).lastIndexOf(q.matchOpenBracket)+1,H=X.bracketPairs.findMatchingBracketUp(q.matchOpenBracket,{lineNumber:Z.lineNumber,column:U},500);if(H){if(H.startLineNumber===Z.lineNumber)return null;const z=X.getLineContent(H.startLineNumber),V=o8(z),W=$.normalizeIndentation(V),B=X.getLineContent(Z.lineNumber),j=X.getLineFirstNonWhitespaceColumn(Z.lineNumber)||Z.column,K=B.substring(j-1,Z.column-1),D=W+K+Y,A=new L(Z.lineNumber,1,Z.lineNumber,Z.column),P=new g6(A,D);return new Y6(wT(D,J),[P],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(J,$,X,Q,Y,Z){if(!Q)return null;let G=null;for(let z of Q)if(G===null)G=z.insertedText;else if(G!==z.insertedText)return null;if(!G||G.length!==1)return null;const q=G;let U=!1;for(let z of Q)if(z.deletedText.length!==0){U=!0;break}if(U){if(!_8._shouldSurroundChar($,q)||!$.surroundingPairs.hasOwnProperty(q))return null;const z=O$(q);for(let B of Q){if(B.deletedSelectionStart!==0||B.deletedSelectionEnd!==B.deletedText.length)return null;if(/^[ \t]+$/.test(B.deletedText))return null;if(z&&O$(B.deletedText))return null}const V=[];for(let B of Y){if(!B.isEmpty())return null;V.push(B.getPosition())}if(V.length!==Q.length)return null;const W=[];for(let B=0,j=V.length;B<j;B++)W.push(new _T(V[B],Q[B].deletedText,$.surroundingPairs[q]));return new Y6(4,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype($,X,Y,Z,q)){const z=Y.map((V)=>new g6(new L(V.positionLineNumber,V.positionColumn,V.positionLineNumber,V.positionColumn+1),"",!1));return new Y6(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const H=this._getAutoClosingPairClose($,X,Y,q,!0);if(H!==null)return this._runAutoClosingOpenCharType(J,$,X,Y,q,!0,H);return null}static typeWithInterceptors(J,$,X,Q,Y,Z,G){if(!J&&G==="\n"){const H=[];for(let z=0,V=Y.length;z<V;z++)H[z]=_8._enter(X,Q,!1,Y[z]);return new Y6(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!J&&this._isAutoIndentType(X,Q,Y)){const H=[];let z=!1;for(let V=0,W=Y.length;V<W;V++)if(H[V]=this._runAutoIndentType(X,Q,Y[V],G),!H[V]){z=!0;break}if(!z)return new Y6(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(X,Q,Y,Z,G))return this._runAutoClosingOvertype($,X,Q,Y,G);if(!J){const H=this._getAutoClosingPairClose(X,Q,Y,G,!1);if(H)return this._runAutoClosingOpenCharType($,X,Q,Y,G,!1,H)}if(!J&&this._isSurroundSelectionType(X,Q,Y,G))return this._runSurroundSelectionType($,X,Q,Y,G);if(!J&&this._isTypeInterceptorElectricChar(X,Q,Y)){const H=this._typeInterceptorElectricChar($,X,Q,Y[0],G);if(H)return H}const q=[];for(let H=0,z=Y.length;H<z;H++)q[H]=new g6(Y[H],G);const U=wT(G,$);return new Y6(U,q,{shouldPushStackElementBefore:vK($,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(J,$,X,Q,Y){const Z=[];for(let q=0,U=Q.length;q<U;q++)Z[q]=new g6(Q[q],Y);const G=wT(Y,J);return new Y6(G,Z,{shouldPushStackElementBefore:vK(J,G),shouldPushStackElementAfter:!1})}static lineInsertBefore(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y].positionLineNumber;if(G===1)Q[Y]=new mq(new L(1,1,1,1),"\n");else{G--;const q=$.getLineMaxColumn(G);Q[Y]=this._enter(J,$,!1,new L(G,q,G,q))}}return Q}static lineInsertAfter(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].positionLineNumber,q=$.getLineMaxColumn(G);Q[Y]=this._enter(J,$,!1,new L(G,q,G,q))}return Q}static lineBreakInsert(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=this._enter(J,$,!0,X[Y]);return Q}}class fK extends uq{constructor(J,$,X,Q){super(J,(X?$:"")+Q,0,-Q.length);this._openCharacter=$,this._closeCharacter=Q,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L(Q.startLineNumber,Q.endColumn-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),this.enclosingRange=new L(Q.startLineNumber,Q.endColumn-this._openCharacter.length-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),super.computeCursorState(J,$)}}class LT{constructor(J,$,X,Q,Y,Z){this.deletedText=J,this.deletedSelectionStart=$,this.deletedSelectionEnd=X,this.insertedText=Q,this.insertedSelectionStart=Y,this.insertedSelectionEnd=Z}}var wT,vK,wp,Lp;var IT=N(()=>{A1();l0();DT();Mp();Op();wJ();TH();u0();W1();uZ();b6();cZ();_p();OT();wT=function(J,$){if(J===" ")return $===5||$===6?6:5;return 4},vK=function(J,$){if(Lp(J)&&!Lp($))return!0;if(J===5)return!1;return wp(J)!==wp($)},wp=function(J){return J===6||J===5?"space":J},Lp=function(J){return J===4||J===5||J===6}});var t;var FY=N(()=>{m0();s1();(function(J){J.editorSimpleInput=new V0("editorSimpleInput",!1,!0),J.editorTextFocus=new V0("editorTextFocus",!1,F("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),J.focus=new V0("editorFocus",!1,F("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),J.textInputFocus=new V0("textInputFocus",!1,F("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),J.readOnly=new V0("editorReadonly",!1,F("editorReadonly","Whether the editor is read-only")),J.inDiffEditor=new V0("inDiffEditor",!1,F("inDiffEditor","Whether the context is a diff editor")),J.isEmbeddedDiffEditor=new V0("isEmbeddedDiffEditor",!1,F("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),J.comparingMovedCode=new V0("comparingMovedCode",!1,F("comparingMovedCode","Whether a moved code block is selected for comparison")),J.accessibleDiffViewerVisible=new V0("accessibleDiffViewerVisible",!1,F("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),J.diffEditorRenderSideBySideInlineBreakpointReached=new V0("diffEditorRenderSideBySideInlineBreakpointReached",!1,F("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),J.columnSelection=new V0("editorColumnSelection",!1,F("editorColumnSelection","Whether `editor.columnSelection` is enabled")),J.writable=J.readOnly.toNegated(),J.hasNonEmptySelection=new V0("editorHasSelection",!1,F("editorHasSelection","Whether the editor has text selected")),J.hasOnlyEmptySelection=J.hasNonEmptySelection.toNegated(),J.hasMultipleSelections=new V0("editorHasMultipleSelections",!1,F("editorHasMultipleSelections","Whether the editor has multiple selections")),J.hasSingleSelection=J.hasMultipleSelections.toNegated(),J.tabMovesFocus=new V0("editorTabMovesFocus",!1,F("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),J.tabDoesNotMoveFocus=J.tabMovesFocus.toNegated(),J.isInWalkThroughSnippet=new V0("isInEmbeddedEditor",!1,!0),J.canUndo=new V0("canUndo",!1,!0),J.canRedo=new V0("canRedo",!1,!0),J.hoverVisible=new V0("editorHoverVisible",!1,F("editorHoverVisible","Whether the editor hover is visible")),J.hoverFocused=new V0("editorHoverFocused",!1,F("editorHoverFocused","Whether the editor hover is focused")),J.stickyScrollFocused=new V0("stickyScrollFocused",!1,F("stickyScrollFocused","Whether the sticky scroll is focused")),J.stickyScrollVisible=new V0("stickyScrollVisible",!1,F("stickyScrollVisible","Whether the sticky scroll is visible")),J.standaloneColorPickerVisible=new V0("standaloneColorPickerVisible",!1,F("standaloneColorPickerVisible","Whether the standalone color picker is visible")),J.standaloneColorPickerFocused=new V0("standaloneColorPickerFocused",!1,F("standaloneColorPickerFocused","Whether the standalone color picker is focused")),J.inCompositeEditor=new V0("inCompositeEditor",void 0,F("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),J.notInCompositeEditor=J.inCompositeEditor.toNegated(),J.languageId=new V0("editorLangId","",F("editorLangId","The language identifier of the editor")),J.hasCompletionItemProvider=new V0("editorHasCompletionItemProvider",!1,F("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),J.hasCodeActionsProvider=new V0("editorHasCodeActionsProvider",!1,F("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),J.hasCodeLensProvider=new V0("editorHasCodeLensProvider",!1,F("editorHasCodeLensProvider","Whether the editor has a code lens provider")),J.hasDefinitionProvider=new V0("editorHasDefinitionProvider",!1,F("editorHasDefinitionProvider","Whether the editor has a definition provider")),J.hasDeclarationProvider=new V0("editorHasDeclarationProvider",!1,F("editorHasDeclarationProvider","Whether the editor has a declaration provider")),J.hasImplementationProvider=new V0("editorHasImplementationProvider",!1,F("editorHasImplementationProvider","Whether the editor has an implementation provider")),J.hasTypeDefinitionProvider=new V0("editorHasTypeDefinitionProvider",!1,F("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),J.hasHoverProvider=new V0("editorHasHoverProvider",!1,F("editorHasHoverProvider","Whether the editor has a hover provider")),J.hasDocumentHighlightProvider=new V0("editorHasDocumentHighlightProvider",!1,F("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),J.hasDocumentSymbolProvider=new V0("editorHasDocumentSymbolProvider",!1,F("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),J.hasReferenceProvider=new V0("editorHasReferenceProvider",!1,F("editorHasReferenceProvider","Whether the editor has a reference provider")),J.hasRenameProvider=new V0("editorHasRenameProvider",!1,F("editorHasRenameProvider","Whether the editor has a rename provider")),J.hasSignatureHelpProvider=new V0("editorHasSignatureHelpProvider",!1,F("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),J.hasInlayHintsProvider=new V0("editorHasInlayHintsProvider",!1,F("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),J.hasDocumentFormattingProvider=new V0("editorHasDocumentFormattingProvider",!1,F("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),J.hasDocumentSelectionFormattingProvider=new V0("editorHasDocumentSelectionFormattingProvider",!1,F("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),J.hasMultipleDocumentFormattingProvider=new V0("editorHasMultipleDocumentFormattingProvider",!1,F("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),J.hasMultipleDocumentSelectionFormattingProvider=new V0("editorHasMultipleDocumentSelectionFormattingProvider",!1,F("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(t||(t={}))});class w8 extends k9{runEditorCommand(J,$,X){const Q=$._getViewModel();if(!Q)return;this.runCoreEditorCommand(Q,X||{})}}class hK{constructor(J){J.addImplementation(1e4,"code-editor",($,X)=>{const Q=$.get(p1).getFocusedCodeEditor();if(Q&&Q.hasTextFocus())return this._runEditorCommand($,Q,X);return!1}),J.addImplementation(1000,"generic-dom-input-textarea",($,X)=>{const Q=w9();if(Q&&["input","textarea"].indexOf(Q.tagName.toLowerCase())>=0)return this.runDOMCommand(Q),!0;return!1}),J.addImplementation(0,"generic-dom",($,X)=>{const Q=$.get(p1).getActiveCodeEditor();if(Q)return Q.focus(),this._runEditorCommand($,Q,X);return!1})}_runEditorCommand(J,$,X){const Q=this.runEditorCommand(J,$,X);if(Q)return Q;return!0}}class kT extends Xq{constructor(J,$,X){super({id:J,precondition:void 0,description:X});this._handlerId=$}runCommand(J,$){const X=J.get(p1).getFocusedCodeEditor();if(!X)return;X.trigger("keyboard",this._handlerId,$)}}var lq,Ip,wG,_1,G6,cq,R7,B60,kp;var Ep=N(()=>{m0();z9();j8();$Y();L5();t9();Dp();wJ();CK();Rp();IT();W1();u0();FY();s1();o2();y0();lq=function(J,$){J4.registerKeybindingRule({id:J,primary:$,when:B60,weight:_1+1})},Ip=function(J){return J.register(),J},wG=function(J,$){Ip(new kT("default:"+J,J)),Ip(new kT(J,J,$))},_1=0;(function(J){const $=function(Q){if(!r8(Q))return!1;const Y=Q;if(!Z7(Y.to))return!1;if(!$6(Y.by)&&!Z7(Y.by))return!1;if(!$6(Y.value)&&!s9(Y.value))return!1;if(!$6(Y.revealCursor)&&!qB(Y.revealCursor))return!1;return!0};J.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory direction value.
						\`\`\`
						'up', 'down'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'page', 'halfPage', 'editor'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},J.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function X(Q){let Y;switch(Q.to){case J.RawDirection.Up:Y=1;break;case J.RawDirection.Right:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.Left:Y=4;break;default:return null}let Z;switch(Q.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Page:Z=3;break;case J.RawUnit.HalfPage:Z=4;break;case J.RawUnit.Editor:Z=5;break;case J.RawUnit.Column:Z=6;break;default:Z=2}const G=Math.floor(Q.value||1),q=!!Q.revealCursor;return{direction:Y,unit:Z,value:G,revealCursor:q,select:!!Q.select}}J.parse=X})(G6||(G6={}));(function(J){const $=function(X){if(!r8(X))return!1;const Q=X;if(!s9(Q.lineNumber)&&!Z7(Q.lineNumber))return!1;if(!$6(Q.at)&&!Z7(Q.at))return!1;return!0};J.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:`Property-value pairs that can be passed through this argument:
					* 'lineNumber': A mandatory line number value.
					* 'at': Logical position at which line has to be revealed.
						\`\`\`
						'top', 'center', 'bottom'
						\`\`\`
				`,constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},J.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(cq||(cq={}));(function(J){class $ extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){if(!P.position)return;if(A.model.pushStackElement(),A.setCursorStates(P.source,3,[Z6.moveTo(A,A.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)])&&P.revealType!==2)A.revealPrimaryCursor(P.source,!0,!0)}}J.MoveTo=T0(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),J.MoveToSelect=T0(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class X extends w8{runCoreEditorCommand(A,P){A.model.pushStackElement();const R=this._getColumnSelectResult(A,A.getPrimaryCursorState(),A.getCursorColumnSelectData(),P);if(R===null)return;if(A.setCursorStates(P.source,3,R.viewStates.map((M)=>B1.fromViewState(M))),A.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:R.fromLineNumber,fromViewVisualColumn:R.fromVisualColumn,toViewLineNumber:R.toLineNumber,toViewVisualColumn:R.toVisualColumn}),R.reversed)A.revealTopMostCursor(P.source);else A.revealBottomMostCursor(P.source)}}J.ColumnSelect=T0(new class extends X{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(A,P,R,M){if(typeof M.position==="undefined"||typeof M.viewPosition==="undefined"||typeof M.mouseColumn==="undefined")return null;const T=A.model.validatePosition(M.position),_=A.coordinatesConverter.validateViewPosition(new b(M.viewPosition.lineNumber,M.viewPosition.column),T),w=M.doColumnSelect?R.fromViewLineNumber:_.lineNumber,x=M.doColumnSelect?R.fromViewVisualColumn:M.mouseColumn-1;return BY.columnSelect(A.cursorConfig,A,w,x,_.lineNumber,M.mouseColumn-1)}}),J.CursorColumnSelectLeft=T0(new class extends X{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(A,P,R,M){return BY.columnSelectLeft(A.cursorConfig,A,R)}}),J.CursorColumnSelectRight=T0(new class extends X{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(A,P,R,M){return BY.columnSelectRight(A.cursorConfig,A,R)}});class Q extends X{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,P,R,M){return BY.columnSelectUp(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectUp=T0(new Q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),J.CursorColumnSelectPageUp=T0(new Q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class Y extends X{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,P,R,M){return BY.columnSelectDown(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectDown=T0(new Y({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),J.CursorColumnSelectPageDown=T0(new Y({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class Z extends w8{constructor(){super({id:"cursorMove",precondition:void 0,description:qz.description})}runCoreEditorCommand(A,P){const R=qz.parse(P);if(!R)return;this._runCursorMove(A,P.source,R)}_runCursorMove(A,P,R){A.model.pushStackElement(),A.setCursorStates(P,3,Z._move(A,A.getCursorStates(),R)),A.revealPrimaryCursor(P,!0)}static _move(A,P,R){const{select:M,value:T}=R;switch(R.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Z6.simpleMove(A,P,R.direction,M,T,R.unit);case 11:case 13:case 12:case 14:return Z6.viewportMove(A,P,R.direction,M,T);default:return null}}}J.CursorMoveImpl=Z,J.CursorMove=T0(new Z);class G extends w8{constructor(A){super(A);this._staticArgs=A.args}runCoreEditorCommand(A,P){let R=this._staticArgs;if(this._staticArgs.value===-1)R={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:P.pageSize||A.cursorConfig.pageSize};A.model.pushStackElement(),A.setCursorStates(P.source,3,Z6.simpleMove(A,A.getCursorStates(),R.direction,R.select,R.value,R.unit)),A.revealPrimaryCursor(P.source,!0)}}J.CursorLeft=T0(new G({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),J.CursorLeftSelect=T0(new G({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|15}})),J.CursorRight=T0(new G({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),J.CursorRightSelect=T0(new G({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|17}})),J.CursorUp=T0(new G({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),J.CursorUpSelect=T0(new G({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),J.CursorPageUp=T0(new G({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:11}})),J.CursorPageUpSelect=T0(new G({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|11}})),J.CursorDown=T0(new G({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),J.CursorDownSelect=T0(new G({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),J.CursorPageDown=T0(new G({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:12}})),J.CursorPageDownSelect=T0(new G({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|12}})),J.CreateCursor=T0(new class extends w8{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(A,P){if(!P.position)return;let R;if(P.wholeLine)R=Z6.line(A,A.getPrimaryCursorState(),!1,P.position,P.viewPosition);else R=Z6.moveTo(A,A.getPrimaryCursorState(),!1,P.position,P.viewPosition);const M=A.getCursorStates();if(M.length>1){const T=R.modelState?R.modelState.position:null,_=R.viewState?R.viewState.position:null;for(let w=0,x=M.length;w<x;w++){const C=M[w];if(T&&!C.modelState.selection.containsPosition(T))continue;if(_&&!C.viewState.selection.containsPosition(_))continue;M.splice(w,1),A.model.pushStackElement(),A.setCursorStates(P.source,3,M);return}}M.push(R),A.model.pushStackElement(),A.setCursorStates(P.source,3,M)}}),J.LastCursorMoveToSelect=T0(new class extends w8{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(A,P){if(!P.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),T=M.slice(0);T[R]=Z6.moveTo(A,M[R],!0,P.position,P.viewPosition),A.model.pushStackElement(),A.setCursorStates(P.source,3,T)}});class q extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,Z6.moveToBeginningOfLine(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(P.source,!0)}}J.CursorHome=T0(new q({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),J.CursorHomeSelect=T0(new q({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class U extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,this._exec(A.getCursorStates())),A.revealPrimaryCursor(P.source,!0)}_exec(A){const P=[];for(let R=0,M=A.length;R<M;R++){const T=A[R],_=T.modelState.position.lineNumber;P[R]=B1.fromModelState(T.modelState.move(this._inSelectionMode,_,1,0))}return P}}J.CursorLineStart=T0(new U({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:0,mac:{primary:256|31}}})),J.CursorLineStartSelect=T0(new U({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class H extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,Z6.moveToEndOfLine(A,A.getCursorStates(),this._inSelectionMode,P.sticky||!1)),A.revealPrimaryCursor(P.source,!0)}}J.CursorEnd=T0(new H({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:_1,kbExpr:t.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),J.CursorEndSelect=T0(new H({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:_1,kbExpr:t.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class z extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,this._exec(A,A.getCursorStates())),A.revealPrimaryCursor(P.source,!0)}_exec(A,P){const R=[];for(let M=0,T=P.length;M<T;M++){const _=P[M],w=_.modelState.position.lineNumber,x=A.model.getLineMaxColumn(w);R[M]=B1.fromModelState(_.modelState.move(this._inSelectionMode,w,x,0))}return R}}J.CursorLineEnd=T0(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:0,mac:{primary:256|35}}})),J.CursorLineEndSelect=T0(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class V extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,Z6.moveToBeginningOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(P.source,!0)}}J.CursorTop=T0(new V({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),J.CursorTopSelect=T0(new V({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class W extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,Z6.moveToEndOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(P.source,!0)}}J.CursorBottom=T0(new W({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),J.CursorBottomSelect=T0(new W({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class B extends w8{constructor(){super({id:"editorScroll",precondition:void 0,description:G6.description})}determineScrollMethod(A){const P=[6],R=[1,2,3,4,5,6],M=[4,2],T=[1,3];if(P.includes(A.unit)&&M.includes(A.direction))return this._runHorizontalEditorScroll.bind(this);if(R.includes(A.unit)&&T.includes(A.direction))return this._runVerticalEditorScroll.bind(this);return null}runCoreEditorCommand(A,P){const R=G6.parse(P);if(!R)return;const M=this.determineScrollMethod(R);if(!M)return;M(A,P.source,R)}_runVerticalEditorScroll(A,P,R){const M=this._computeDesiredScrollTop(A,R);if(R.revealCursor){const T=A.getCompletelyVisibleViewRangeAtScrollTop(M);A.setCursorStates(P,3,[Z6.findPositionInViewportIfOutside(A,A.getPrimaryCursorState(),T,R.select)])}A.viewLayout.setScrollPosition({scrollTop:M},0)}_computeDesiredScrollTop(A,P){if(P.unit===1){const T=A.viewLayout.getFutureViewport(),_=A.getCompletelyVisibleViewRangeAtScrollTop(T.top),w=A.coordinatesConverter.convertViewRangeToModelRange(_);let x;if(P.direction===1)x=Math.max(1,w.startLineNumber-P.value);else x=Math.min(A.model.getLineCount(),w.startLineNumber+P.value);const C=A.coordinatesConverter.convertModelPositionToViewPosition(new b(x,1));return A.viewLayout.getVerticalOffsetForLineNumber(C.lineNumber)}if(P.unit===5){let T=0;if(P.direction===3)T=A.model.getLineCount()-A.cursorConfig.pageSize;return A.viewLayout.getVerticalOffsetForLineNumber(T)}let R;if(P.unit===3)R=A.cursorConfig.pageSize*P.value;else if(P.unit===4)R=Math.round(A.cursorConfig.pageSize/2)*P.value;else R=P.value;const M=(P.direction===1?-1:1)*R;return A.viewLayout.getCurrentScrollTop()+M*A.cursorConfig.lineHeight}_runHorizontalEditorScroll(A,P,R){const M=this._computeDesiredScrollLeft(A,R);A.viewLayout.setScrollPosition({scrollLeft:M},0)}_computeDesiredScrollLeft(A,P){const R=(P.direction===4?-1:1)*P.value;return A.viewLayout.getCurrentScrollLeft()+R*A.cursorConfig.typicalHalfwidthCharacterWidth}}J.EditorScrollImpl=B,J.EditorScroll=T0(new B),J.ScrollLineUp=T0(new class extends w8{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Up,by:G6.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollPageUp=T0(new class extends w8{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Up,by:G6.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollEditorTop=T0(new class extends w8{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Up,by:G6.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollLineDown=T0(new class extends w8{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Down,by:G6.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollPageDown=T0(new class extends w8{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Down,by:G6.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollEditorBottom=T0(new class extends w8{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Down,by:G6.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollLeft=T0(new class extends w8{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Left,by:G6.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:P.source})}}),J.ScrollRight=T0(new class extends w8{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus}})}runCoreEditorCommand(A,P){J.EditorScroll.runCoreEditorCommand(A,{to:G6.RawDirection.Right,by:G6.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:P.source})}});class j extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){if(!P.position)return;if(A.model.pushStackElement(),A.setCursorStates(P.source,3,[Z6.word(A,A.getPrimaryCursorState(),this._inSelectionMode,P.position)]),P.revealType!==2)A.revealPrimaryCursor(P.source,!0,!0)}}J.WordSelect=T0(new j({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),J.WordSelectDrag=T0(new j({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),J.LastCursorWordSelect=T0(new class extends w8{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(A,P){if(!P.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),T=M.slice(0),_=M[R];T[R]=Z6.word(A,_,_.modelState.hasSelection(),P.position),A.model.pushStackElement(),A.setCursorStates(P.source,3,T)}});class K extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){if(!P.position)return;if(A.model.pushStackElement(),A.setCursorStates(P.source,3,[Z6.line(A,A.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)]),P.revealType!==2)A.revealPrimaryCursor(P.source,!1,!0)}}J.LineSelect=T0(new K({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),J.LineSelectDrag=T0(new K({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class D extends w8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,P){if(!P.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),T=M.slice(0);T[R]=Z6.line(A,M[R],this._inSelectionMode,P.position,P.viewPosition),A.model.pushStackElement(),A.setCursorStates(P.source,3,T)}}J.LastCursorLineSelect=T0(new D({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),J.LastCursorLineSelectDrag=T0(new D({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),J.CancelSelection=T0(new class extends w8{constructor(){super({id:"cancelSelection",precondition:t.hasNonEmptySelection,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,[Z6.cancelSelection(A,A.getPrimaryCursorState())]),A.revealPrimaryCursor(P.source,!0)}}),J.RemoveSecondaryCursors=T0(new class extends w8{constructor(){super({id:"removeSecondaryCursors",precondition:t.hasMultipleSelections,kbOpts:{weight:_1+1,kbExpr:t.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates(P.source,3,[A.getPrimaryCursorState()]),A.revealPrimaryCursor(P.source,!0),JY(F("removedCursor","Removed secondary cursors"))}}),J.RevealLine=T0(new class extends w8{constructor(){super({id:"revealLine",precondition:void 0,description:cq.description})}runCoreEditorCommand(A,P){const R=P,M=R.lineNumber||0;let T=typeof M==="number"?M+1:parseInt(M)+1;if(T<1)T=1;const _=A.model.getLineCount();if(T>_)T=_;const w=new L(T,1,T,A.model.getLineMaxColumn(T));let x=0;if(R.at)switch(R.at){case cq.RawAtArgument.Top:x=3;break;case cq.RawAtArgument.Center:x=1;break;case cq.RawAtArgument.Bottom:x=4;break;default:break}const C=A.coordinatesConverter.convertModelRangeToViewRange(w);A.revealRange(P.source,!1,C,x,0)}}),J.SelectAll=new class extends hK{constructor(){super(tx)}runDOMCommand(A){if(g7)A.focus(),A.select();A.ownerDocument.execCommand("selectAll")}runEditorCommand(A,P,R){const M=P._getViewModel();if(!M)return;this.runCoreEditorCommand(M,R)}runCoreEditorCommand(A,P){A.model.pushStackElement(),A.setCursorStates("keyboard",3,[Z6.selectAll(A,A.getPrimaryCursorState())])}},J.SetSelection=T0(new class extends w8{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(A,P){if(!P.selection)return;A.model.pushStackElement(),A.setCursorStates(P.source,3,[B1.fromModelSelection(P.selection)])}})})(R7||(R7={}));B60=M0.and(t.textInputFocus,t.columnSelection);lq(R7.CursorColumnSelectLeft.id,1024|15);lq(R7.CursorColumnSelectRight.id,1024|17);lq(R7.CursorColumnSelectUp.id,1024|16);lq(R7.CursorColumnSelectPageUp.id,1024|11);lq(R7.CursorColumnSelectDown.id,1024|18);lq(R7.CursorColumnSelectPageDown.id,1024|12);(function(J){class $ extends k9{runEditorCommand(X,Q,Y){const Z=Q._getViewModel();if(!Z)return;this.runCoreEditingCommand(Q,Z,Y||{})}}J.CoreEditingCommand=$,J.LineBreakInsert=T0(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:t.writable,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,_8.lineBreakInsert(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection)))}}),J.Outdent=T0(new class extends ${constructor(){super({id:"outdent",precondition:t.writable,kbOpts:{weight:_1,kbExpr:M0.and(t.editorTextFocus,t.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,_8.outdent(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection))),X.pushUndoStop()}}),J.Tab=T0(new class extends ${constructor(){super({id:"tab",precondition:t.writable,kbOpts:{weight:_1,kbExpr:M0.and(t.editorTextFocus,t.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,_8.tab(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection))),X.pushUndoStop()}}),J.DeleteLeft=T0(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(X,Q,Y){const[Z,G]=N$.deleteLeft(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map((q)=>q.modelState.selection),Q.getCursorAutoClosedCharacters());if(Z)X.pushUndoStop();X.executeCommands(this.id,G),Q.setPrevEditOperationType(2)}}),J.DeleteRight=T0(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:_1,kbExpr:t.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(X,Q,Y){const[Z,G]=N$.deleteRight(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map((q)=>q.modelState.selection));if(Z)X.pushUndoStop();X.executeCommands(this.id,G),Q.setPrevEditOperationType(3)}}),J.Undo=new class extends hK{constructor(){super(nM)}runDOMCommand(X){X.ownerDocument.execCommand("undo")}runEditorCommand(X,Q,Y){if(!Q.hasModel()||Q.getOption(90)===!0)return;return Q.getModel().undo()}},J.Redo=new class extends hK{constructor(){super(oM)}runDOMCommand(X){X.ownerDocument.execCommand("redo")}runEditorCommand(X,Q,Y){if(!Q.hasModel()||Q.getOption(90)===!0)return;return Q.getModel().redo()}}})(kp||(kp={}));wG("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});wG("replacePreviousChar");wG("compositionType");wG("compositionStart");wG("compositionEnd");wG("paste");wG("cut")});class ET{constructor(J,$,X,Q){this.configuration=J,this.viewModel=$,this.userInputEvents=X,this.commandDelegate=Q}paste(J,$,X,Q){this.commandDelegate.paste(J,$,X,Q)}type(J){this.commandDelegate.type(J)}compositionType(J,$,X,Q){this.commandDelegate.compositionType(J,$,X,Q)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(J){R7.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:J})}_validateViewColumn(J){const $=this.viewModel.getLineMinColumn(J.lineNumber);if(J.column<$)return new b(J.lineNumber,$);return J}_hasMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.altKey;case"ctrlKey":return J.ctrlKey;case"metaKey":return J.metaKey;default:return!1}}_hasNonMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.ctrlKey||J.metaKey;case"ctrlKey":return J.altKey||J.metaKey;case"metaKey":return J.ctrlKey||J.altKey;default:return!1}}dispatchMouse(J){const $=this.configuration.options,X=q8&&$.get(106),Q=$.get(22);if(J.middleButton&&!X)this._columnSelect(J.position,J.mouseColumn,J.inSelectionMode);else if(J.startedOnLineNumbers)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelect(J.position,J.revealType);else this._createCursor(J.position,!0);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount>=4)this._selectAll();else if(J.mouseDownCount===3)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelectDrag(J.position,J.revealType);else this._lastCursorLineSelect(J.position,J.revealType);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount===2){if(!J.onInjectedText)if(this._hasMulticursorModifier(J))this._lastCursorWordSelect(J.position,J.revealType);else if(J.inSelectionMode)this._wordSelectDrag(J.position,J.revealType);else this._wordSelect(J.position,J.revealType)}else if(this._hasMulticursorModifier(J)){if(!this._hasNonMulticursorModifier(J))if(J.shiftKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(J.inSelectionMode)this._lastCursorMoveToSelect(J.position,J.revealType);else this._createCursor(J.position,!1)}else if(J.inSelectionMode)if(J.altKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(Q)this._columnSelect(J.position,J.mouseColumn,!0);else this._moveToSelect(J.position,J.revealType);else this.moveTo(J.position,J.revealType)}_usualArgs(J,$){return J=this._validateViewColumn(J),{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,revealType:$}}moveTo(J,$){R7.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_moveToSelect(J,$){R7.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_columnSelect(J,$,X){J=this._validateViewColumn(J),R7.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,mouseColumn:$,doColumnSelect:X})}_createCursor(J,$){J=this._validateViewColumn(J),R7.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,wholeLine:$})}_lastCursorMoveToSelect(J,$){R7.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelect(J,$){R7.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelectDrag(J,$){R7.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorWordSelect(J,$){R7.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelect(J,$){R7.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelectDrag(J,$){R7.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelect(J,$){R7.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelectDrag(J,$){R7.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_selectAll(){R7.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(J){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(J)}emitKeyDown(J){this.userInputEvents.emitKeyDown(J)}emitKeyUp(J){this.userInputEvents.emitKeyUp(J)}emitContextMenu(J){this.userInputEvents.emitContextMenu(J)}emitMouseMove(J){this.userInputEvents.emitMouseMove(J)}emitMouseLeave(J){this.userInputEvents.emitMouseLeave(J)}emitMouseUp(J){this.userInputEvents.emitMouseUp(J)}emitMouseDown(J){this.userInputEvents.emitMouseDown(J)}emitMouseDrag(J){this.userInputEvents.emitMouseDrag(J)}emitMouseDrop(J){this.userInputEvents.emitMouseDrop(J)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(J){this.userInputEvents.emitMouseWheel(J)}}var yp=N(()=>{Ep();W1();O1()});class dq{constructor(J){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=J}emitKeyDown(J){var $;($=this.onKeyDown)===null||$===void 0||$.call(this,J)}emitKeyUp(J){var $;($=this.onKeyUp)===null||$===void 0||$.call(this,J)}emitContextMenu(J){var $;($=this.onContextMenu)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseMove(J){var $;($=this.onMouseMove)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseLeave(J){var $;($=this.onMouseLeave)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDown(J){var $;($=this.onMouseDown)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseUp(J){var $;($=this.onMouseUp)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrag(J){var $;($=this.onMouseDrag)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrop(J){var $;($=this.onMouseDrop)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDropCanceled(){var J;(J=this.onMouseDropCanceled)===null||J===void 0||J.call(this)}emitMouseWheel(J){var $;($=this.onMouseWheel)===null||$===void 0||$.call(this,J)}_convertViewToModelMouseEvent(J){if(J.target)return{event:J.event,target:this._convertViewToModelMouseTarget(J.target)};return J}_convertViewToModelMouseTarget(J){return dq.convertViewToModelMouseTarget(J,this._coordinatesConverter)}static convertViewToModelMouseTarget(J,$){const X=Object.assign({},J);if(X.position)X.position=$.convertViewPositionToModelPosition(X.position);if(X.range)X.range=$.convertViewRangeToModelRange(X.range);if(X.type===5||X.type===8)X.detail=this.convertViewToModelViewZoneData(X.detail,$);return X}static convertViewToModelViewZoneData(J,$){return{viewZoneId:J.viewZoneId,positionBefore:J.positionBefore?$.convertViewPositionToModelPosition(J.positionBefore):J.positionBefore,positionAfter:J.positionAfter?$.convertViewPositionToModelPosition(J.positionAfter):J.positionAfter,position:$.convertViewPositionToModelPosition(J.position),afterLineNumber:$.convertViewPositionToModelPosition(new b(J.afterLineNumber,1)).lineNumber}}}var yT=N(()=>{W1()});class gK{constructor(J){this._createLine=J,this._set(1,[])}flush(){this._set(1,[])}_set(J,$){this._lines=$,this._rendLineNumberStart=J}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(J){const $=J-this._rendLineNumberStart;if($<0||$>=this._lines.length)throw new n1("Illegal value for lineNumber");return this._lines[$]}onLinesDeleted(J,$){if(this.getCount()===0)return null;const X=this.getStartLineNumber(),Q=this.getEndLineNumber();if($<X){const q=$-J+1;return this._rendLineNumberStart-=q,null}if(J>Q)return null;let Y=0,Z=0;for(let q=X;q<=Q;q++){const U=q-this._rendLineNumberStart;if(J<=q&&q<=$)if(Z===0)Y=U,Z=1;else Z++}if(J<X){let q=0;if($<X)q=$-J+1;else q=X-J;this._rendLineNumberStart-=q}return this._lines.splice(Y,Z)}onLinesChanged(J,$){const X=J+$-1;if(this.getCount()===0)return!1;const Q=this.getStartLineNumber(),Y=this.getEndLineNumber();let Z=!1;for(let G=J;G<=X;G++)if(G>=Q&&G<=Y)this._lines[G-this._rendLineNumberStart].onContentChanged(),Z=!0;return Z}onLinesInserted(J,$){if(this.getCount()===0)return null;const X=$-J+1,Q=this.getStartLineNumber(),Y=this.getEndLineNumber();if(J<=Q)return this._rendLineNumberStart+=X,null;if(J>Y)return null;if(X+J>Y)return this._lines.splice(J-this._rendLineNumberStart,Y-J+1);const Z=[];for(let z=0;z<X;z++)Z[z]=this._createLine();const G=J-this._rendLineNumberStart,q=this._lines.slice(0,G),U=this._lines.slice(G,this._lines.length-X),H=this._lines.slice(this._lines.length-X,this._lines.length);return this._lines=q.concat(Z).concat(U),H}onTokensChanged(J){if(this.getCount()===0)return!1;const $=this.getStartLineNumber(),X=this.getEndLineNumber();let Q=!1;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];if(G.toLineNumber<$||G.fromLineNumber>X)continue;const q=Math.max($,G.fromLineNumber),U=Math.min(X,G.toLineNumber);for(let H=q;H<=U;H++){const z=H-this._rendLineNumberStart;this._lines[z].onTokensChanged(),Q=!0}}return Q}}class Hz{constructor(J){this._host=J,this.domNode=this._createDomNode(),this._linesCollection=new gK(()=>this._host.createVisibleLine())}_createDomNode(){const J=r0(document.createElement("div"));return J.setClassName("view-layer"),J.setPosition("absolute"),J.domNode.setAttribute("role","presentation"),J.domNode.setAttribute("aria-hidden","true"),J}onConfigurationChanged(J){if(J.hasChanged(143))return!0;return!1}onFlushed(J){return this._linesCollection.flush(),!0}onLinesChanged(J){return this._linesCollection.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){const $=this._linesCollection.onLinesDeleted(J.fromLineNumber,J.toLineNumber);if($)for(let X=0,Q=$.length;X<Q;X++){const Y=$[X].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onLinesInserted(J){const $=this._linesCollection.onLinesInserted(J.fromLineNumber,J.toLineNumber);if($)for(let X=0,Q=$.length;X<Q;X++){const Y=$[X].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onScrollChanged(J){return J.scrollTopChanged}onTokensChanged(J){return this._linesCollection.onTokensChanged(J.ranges)}onZonesChanged(J){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(J){return this._linesCollection.getLine(J)}renderLines(J){const $=this._linesCollection._get(),X=new cX(this.domNode.domNode,this._host,J),Q={rendLineNumberStart:$.rendLineNumberStart,lines:$.lines,linesLength:$.lines.length},Y=X.render(Q,J.startLineNumber,J.endLineNumber,J.relativeVerticalOffset);this._linesCollection._set(Y.rendLineNumberStart,Y.lines)}}class cX{constructor(J,$,X){this.domNode=J,this.host=$,this.viewportData=X}render(J,$,X,Q){const Y={rendLineNumberStart:J.rendLineNumberStart,lines:J.lines.slice(0),linesLength:J.linesLength};if(Y.rendLineNumberStart+Y.linesLength-1<$||X<Y.rendLineNumberStart){Y.rendLineNumberStart=$,Y.linesLength=X-$+1,Y.lines=[];for(let Z=$;Z<=X;Z++)Y.lines[Z-$]=this.host.createVisibleLine();return this._finishRendering(Y,!0,Q),Y}if(this._renderUntouchedLines(Y,Math.max($-Y.rendLineNumberStart,0),Math.min(X-Y.rendLineNumberStart,Y.linesLength-1),Q,$),Y.rendLineNumberStart>$){const Z=$,G=Math.min(X,Y.rendLineNumberStart-1);if(Z<=G)this._insertLinesBefore(Y,Z,G,Q,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart<$){const Z=Math.min(Y.linesLength,$-Y.rendLineNumberStart);if(Z>0)this._removeLinesBefore(Y,Z),Y.linesLength-=Z}if(Y.rendLineNumberStart=$,Y.rendLineNumberStart+Y.linesLength-1<X){const Z=Y.rendLineNumberStart+Y.linesLength,G=X;if(Z<=G)this._insertLinesAfter(Y,Z,G,Q,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart+Y.linesLength-1>X){const Z=Math.max(0,X-Y.rendLineNumberStart+1),q=Y.linesLength-1-Z+1;if(q>0)this._removeLinesAfter(Y,q),Y.linesLength-=q}return this._finishRendering(Y,!1,Q),Y}_renderUntouchedLines(J,$,X,Q,Y){const{rendLineNumberStart:Z,lines:G}=J;for(let q=$;q<=X;q++){const U=Z+q;G[q].layoutLine(U,Q[U-Y])}}_insertLinesBefore(J,$,X,Q,Y){const Z=[];let G=0;for(let q=$;q<=X;q++)Z[G++]=this.host.createVisibleLine();J.lines=Z.concat(J.lines)}_removeLinesBefore(J,$){for(let X=0;X<$;X++){const Q=J.lines[X].getDomNode();if(Q)this.domNode.removeChild(Q)}J.lines.splice(0,$)}_insertLinesAfter(J,$,X,Q,Y){const Z=[];let G=0;for(let q=$;q<=X;q++)Z[G++]=this.host.createVisibleLine();J.lines=J.lines.concat(Z)}_removeLinesAfter(J,$){const X=J.linesLength-$;for(let Q=0;Q<$;Q++){const Y=J.lines[X+Q].getDomNode();if(Y)this.domNode.removeChild(Y)}J.lines.splice(X,$)}_finishRenderingNewLines(J,$,X,Q){if(cX._ttPolicy)X=cX._ttPolicy.createHTML(X);const Y=this.domNode.lastChild;if($||!Y)this.domNode.innerHTML=X;else Y.insertAdjacentHTML("afterend",X);let Z=this.domNode.lastChild;for(let G=J.linesLength-1;G>=0;G--){const q=J.lines[G];if(Q[G])q.setDomNode(Z),Z=Z.previousSibling}}_finishRenderingInvalidLines(J,$,X){const Q=document.createElement("div");if(cX._ttPolicy)$=cX._ttPolicy.createHTML($);Q.innerHTML=$;for(let Y=0;Y<J.linesLength;Y++){const Z=J.lines[Y];if(X[Y]){const G=Q.firstChild,q=Z.getDomNode();q.parentNode.replaceChild(G,q),Z.setDomNode(G)}}}_finishRendering(J,$,X){const Q=cX._sb,Y=J.linesLength,Z=J.lines,G=J.rendLineNumberStart,q=[];{Q.reset();let U=!1;for(let H=0;H<Y;H++){const z=Z[H];if(q[H]=!1,z.getDomNode())continue;if(!z.renderLine(H+G,X[H],this.viewportData,Q))continue;q[H]=!0,U=!0}if(U)this._finishRenderingNewLines(J,$,Q.build(),q)}{Q.reset();let U=!1;const H=[];for(let z=0;z<Y;z++){const V=Z[z];if(H[z]=!1,q[z])continue;if(!V.renderLine(z+G,X[z],this.viewportData,Q))continue;H[z]=!0,U=!0}if(U)this._finishRenderingInvalidLines(J,Q.build(),H)}}}var pK=N(()=>{q7();pQ();A1();dZ();cX._ttPolicy=$5("editorViewLayer",{createHTML:(J)=>J});cX._sb=new KX(1e5)});class ST extends K8{constructor(J){super(J);this._visibleLines=new Hz(this),this.domNode=this._visibleLines.domNode;const X=this._context.configuration.options.get(50);O8(this.domNode,X),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let J=0,$=this._dynamicOverlays.length;J<$;J++)if(this._dynamicOverlays[J].shouldRender())return!0;return!1}dispose(){super.dispose();for(let J=0,$=this._dynamicOverlays.length;J<$;J++)this._dynamicOverlays[J].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Sp(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(J){this._dynamicOverlays.push(J)}onConfigurationChanged(J){this._visibleLines.onConfigurationChanged(J);const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Z=$;Z<=X;Z++)this._visibleLines.getVisibleLine(Z).onConfigurationChanged(J);const Y=this._context.configuration.options.get(50);return O8(this.domNode,Y),!0}onFlushed(J){return this._visibleLines.onFlushed(J)}onFocusChanged(J){return this._isFocused=J.isFocused,!0}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onScrollChanged(J){return this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._visibleLines.onZonesChanged(J)}prepareRender(J){const $=this._dynamicOverlays.filter((X)=>X.shouldRender());for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];Y.prepareRender(J),Y.onDidRender()}}render(J){this._viewOverlaysRender(J),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(J){this._visibleLines.renderLines(J.viewportData)}}class Sp{constructor(J,$){this._configuration=J,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=$,this._domNode=null,this._renderedContent=null}getDomNode(){if(!this._domNode)return null;return this._domNode.domNode}setDomNode(J){this._domNode=r0(J)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(J){this._lineHeight=this._configuration.options.get(66)}renderLine(J,$,X,Q){let Y="";for(let Z=0,G=this._dynamicOverlays.length;Z<G;Z++){const q=this._dynamicOverlays[Z];Y+=q.render(X.startLineNumber,J)}if(this._renderedContent===Y)return!1;return this._renderedContent=Y,Q.appendString('<div style="position:absolute;top:'),Q.appendString(String($)),Q.appendString("px;width:100%;height:"),Q.appendString(String(this._lineHeight)),Q.appendString('px;">'),Q.appendString(Y),Q.appendString("</div>"),!0}layoutLine(J,$){if(this._domNode)this._domNode.setTop($),this._domNode.setHeight(this._lineHeight)}}class CT extends ST{constructor(J){super(J);const X=this._context.configuration.options.get(143);this._contentWidth=X.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._contentWidth=X.contentWidth,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollWidthChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J),this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth))}}class xT extends ST{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._contentLeft=X.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),O8(this.domNode,$.get(50))}onConfigurationChanged(J){const $=this._context.configuration.options;O8(this.domNode,$.get(50));const X=$.get(143);return this._contentLeft=X.contentLeft,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollHeightChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J);const $=Math.min(J.scrollHeight,1e6);this.domNode.setHeight($),this.domNode.setWidth(this._contentLeft)}}var Cp=N(()=>{q7();YJ();pK();h6()});class fT extends K8{constructor(J,$){super(J);this._viewDomNode=$,this._widgets={},this.domNode=r0(document.createElement("div")),O6.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=r0(document.createElement("div")),O6.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].onConfigurationChanged(J);return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLineMappingChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(J){return this._updateAnchorsViewPositions(),!0}onLinesInserted(J){return this._updateAnchorsViewPositions(),!0}onScrollChanged(J){return!0}onZonesChanged(J){return!0}_updateAnchorsViewPositions(){const J=Object.keys(this._widgets);for(let $ of J)this._widgets[$].updateAnchorViewPosition()}addWidget(J){const $=new xp(this._context,this._viewDomNode,J);if(this._widgets[$.id]=$,$.allowEditorOverflow)this.overflowingContentWidgetsDomNode.appendChild($.domNode);else this.domNode.appendChild($.domNode);this.setShouldRender()}setWidgetPosition(J,$,X,Q,Y){this._widgets[J.getId()].setPosition($,X,Q,Y),this.setShouldRender()}removeWidget(J){const $=J.getId();if(this._widgets.hasOwnProperty($)){const X=this._widgets[$];delete this._widgets[$];const Q=X.domNode.domNode;Q.parentNode.removeChild(Q),Q.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(J){if(this._widgets.hasOwnProperty(J))return this._widgets[J].suppressMouseDown;return!1}onBeforeRender(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].onBeforeRender(J)}prepareRender(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].prepareRender(J)}render(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].render(J)}}class xp{constructor(J,$,X){this._primaryAnchor=new sq(null,null),this._secondaryAnchor=new sq(null,null),this._context=J,this._viewDomNode=$,this._actual=X,this.domNode=r0(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const Q=this._context.configuration.options,Y=Q.get(143);this._fixedOverflowWidgets=Q.get(42),this._contentWidth=Y.contentWidth,this._contentLeft=Y.contentLeft,this._lineHeight=Q.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(J){const $=this._context.configuration.options;if(this._lineHeight=$.get(66),J.hasChanged(143)){const X=$.get(143);this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(J,$,X){this._affinity=J,this._primaryAnchor=Q($,this._context.viewModel,this._affinity),this._secondaryAnchor=Q(X,this._context.viewModel,this._affinity);function Q(Y,Z,G){if(!Y)return new sq(null,null);const q=Z.model.validatePosition(Y);if(Z.coordinatesConverter.modelPositionIsVisible(q)){const U=Z.coordinatesConverter.convertModelPositionToViewPosition(q,G!==null&&G!==void 0?G:void 0);return new sq(Y,U)}return new sq(Y,null)}}_getMaxWidth(){const J=this.domNode.domNode.ownerDocument,$=J.defaultView;return this.allowEditorOverflow?($===null||$===void 0?void 0:$.innerWidth)||J.documentElement.offsetWidth||J.body.offsetWidth:this._contentWidth}setPosition(J,$,X,Q){if(this._setPosition(Q,J,$),this._preference=X,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0)this.domNode.setDisplay("block");else this.domNode.setDisplay("none");this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(J,$,X,Q){const Y=J.top,Z=Y,G=J.top+J.height,q=Q.viewportHeight-G,U=Y-X,H=Z>=X,z=G,V=q>=X;let W=J.left;if(W+$>Q.scrollLeft+Q.viewportWidth)W=Q.scrollLeft+Q.viewportWidth-$;if(W<Q.scrollLeft)W=Q.scrollLeft;return{fitsAbove:H,aboveTop:U,fitsBelow:V,belowTop:z,left:W}}_layoutHorizontalSegmentInPage(J,$,X,Q){var Y;const Z=15,G=15,q=Math.max(15,$.left-Q),U=Math.min($.left+$.width+Q,J.width-15),z=this._viewDomNode.domNode.ownerDocument.defaultView;let V=$.left+X-((Y=z===null||z===void 0?void 0:z.scrollX)!==null&&Y!==void 0?Y:0);if(V+Q>U){const W=V-(U-Q);V-=W,X-=W}if(V<q){const W=V-q;V-=W,X-=W}return[X,V]}_layoutBoxInPage(J,$,X,Q){var Y,Z;const G=J.top-X,q=J.top+J.height,U=u7(this._viewDomNode.domNode),H=this._viewDomNode.domNode.ownerDocument,z=H.defaultView,V=U.top+G-((Y=z===null||z===void 0?void 0:z.scrollY)!==null&&Y!==void 0?Y:0),W=U.top+q-((Z=z===null||z===void 0?void 0:z.scrollY)!==null&&Z!==void 0?Z:0),B=vQ(H.body),[j,K]=this._layoutHorizontalSegmentInPage(B,U,J.left-Q.scrollLeft+this._contentLeft,$),D=22,A=22,P=V>=22,R=W+X<=B.height-22;if(this._fixedOverflowWidgets)return{fitsAbove:P,aboveTop:Math.max(V,22),fitsBelow:R,belowTop:W,left:K};return{fitsAbove:P,aboveTop:G,fitsBelow:R,belowTop:q,left:j}}_prepareRenderWidgetAtExactPositionOverflowing(J){return new aq(J.top,J.left+this._contentLeft)}_getAnchorsCoordinates(J){var $,X;const Q=G(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Y=(($=this._secondaryAnchor.viewPosition)===null||$===void 0?void 0:$.lineNumber)===((X=this._primaryAnchor.viewPosition)===null||X===void 0?void 0:X.lineNumber)?this._secondaryAnchor.viewPosition:null,Z=G(Y,this._affinity,this._lineHeight);return{primary:Q,secondary:Z};function G(q,U,H){if(!q)return null;const z=J.visibleRangeForPosition(q);if(!z)return null;const V=q.column===1&&U===3?0:z.left,W=J.getVerticalOffsetForLineNumber(q.lineNumber)-J.scrollTop;return new vT(W,V,H)}}_reduceAnchorCoordinates(J,$,X){if(!$)return J;const Q=this._context.configuration.options.get(50);let Y=$.left;if(Y<J.left)Y=Math.max(Y,J.left-X+Q.typicalFullwidthCharacterWidth);else Y=Math.min(Y,J.left+X-Q.typicalFullwidthCharacterWidth);return new vT(J.top,Y,J.height)}_prepareRenderWidget(J){if(!this._preference||this._preference.length===0)return null;const{primary:$,secondary:X}=this._getAnchorsCoordinates(J);if(!$)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Z=null;if(typeof this._actual.beforeRender==="function")Z=bT(this._actual.beforeRender,this._actual);if(Z)this._cachedDomNodeOffsetWidth=Z.width,this._cachedDomNodeOffsetHeight=Z.height;else{const q=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(q.width),this._cachedDomNodeOffsetHeight=Math.round(q.height)}}const Q=this._reduceAnchorCoordinates($,X,this._cachedDomNodeOffsetWidth);let Y;if(this.allowEditorOverflow)Y=this._layoutBoxInPage(Q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);else Y=this._layoutBoxInViewport(Q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);for(let Z=1;Z<=2;Z++)for(let G of this._preference)if(G===1){if(!Y)return null;if(Z===2||Y.fitsAbove)return{coordinate:new aq(Y.aboveTop,Y.left),position:1}}else if(G===2){if(!Y)return null;if(Z===2||Y.fitsBelow)return{coordinate:new aq(Y.belowTop,Y.left),position:2}}else if(this.allowEditorOverflow)return{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new aq(Q.top,Q.left)),position:0};else return{coordinate:new aq(Q.top,Q.left),position:0};return null}onBeforeRender(J){if(!this._primaryAnchor.viewPosition||!this._preference)return;if(this._primaryAnchor.viewPosition.lineNumber<J.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>J.endLineNumber)return;this.domNode.setMaxWidth(this._maxWidth)}prepareRender(J){this._renderData=this._prepareRenderWidget(J)}render(J){if(!this._renderData){if(this._isVisible)this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden");if(typeof this._actual.afterRender==="function")bT(this._actual.afterRender,this._actual,null);return}if(this.allowEditorOverflow)this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left);else this.domNode.setTop(this._renderData.coordinate.top+J.scrollTop-J.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left);if(!this._isVisible)this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0;if(typeof this._actual.afterRender==="function")bT(this._actual.afterRender,this._actual,this._renderData.position)}}class sq{constructor(J,$){this.modelPosition=J,this.viewPosition=$}}class aq{constructor(J,$){this.top=J,this.left=$,this._coordinateBrand=void 0}}class vT{constructor(J,$,X){this.top=J,this.left=$,this.height=X,this._anchorCoordinateBrand=void 0}}var bT;var bp=N(()=>{y0();q7();h6();bT=function(J,$,...X){try{return J.call($,...X)}catch(Q){return null}}});var vp=N(()=>{j1();F0(".monaco-editor .view-overlays .current-line,.monaco-editor .margin-view-overlays .current-line{box-sizing:border-box;display:block;position:absolute;top:0;left:0}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}")});class hT extends g9{constructor(J){super();this._context=J;const $=this._context.configuration.options,X=$.get(143);this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new b0(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let J=!1;const $=this._selections.map((Q)=>Q.positionLineNumber);if($.sort((Q,Y)=>Q-Y),!$8(this._cursorLineNumbers,$))this._cursorLineNumbers=$,J=!0;const X=this._selections.every((Q)=>Q.isEmpty());if(this._selectionIsEmpty!==X)this._selectionIsEmpty=X,J=!0;return J}onThemeChanged(J){return this._readFromSelections()}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,!0}onCursorStateChanged(J){return this._selections=J.selections,this._readFromSelections()}onFlushed(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollWidthChanged||J.scrollTopChanged}onZonesChanged(J){return!0}onFocusChanged(J){if(!this._renderLineHighlightOnlyWhenFocus)return!1;return this._focused=J.isFocused,!0}prepareRender(J){if(!this._shouldRenderThis()){this._renderData=null;return}const $=this._renderOne(J),X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,Y=this._cursorLineNumbers.length;let Z=0;const G=[];for(let q=X;q<=Q;q++){const U=q-X;while(Z<Y&&this._cursorLineNumbers[Z]<q)Z++;if(Z<Y&&this._cursorLineNumbers[Z]===q)G[U]=$;else G[U]=""}this._renderData=G}render(J,$){if(!this._renderData)return"";const X=$-J;if(X>=this._renderData.length)return"";return this._renderData[X]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class gT extends hT{_renderOne(J){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(J.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class pT extends hT{_renderOne(J){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}var fp=N(()=>{vp();VY();A4();V1();X7();f7();xX();V9((J,$)=>{const X=J.getColor(VT);if(X)$.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${X}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${X}; border: none; }`);if(!X||X.isTransparent()||J.defines(WT)){const Q=J.getColor(WT);if(Q){if($.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${Q}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${Q}; }`),NJ(J.type))$.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),$.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}}})});var hp=N(()=>{j1();F0(".monaco-editor .lines-content .cdr{position:absolute}")});class mT extends g9{constructor(J){super();this._context=J;const $=this._context.configuration.options;this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}prepareRender(J){const $=J.getDecorationsInViewport();let X=[],Q=0;for(let q=0,U=$.length;q<U;q++){const H=$[q];if(H.options.className)X[Q++]=H}X=X.sort((q,U)=>{if(q.options.zIndex<U.options.zIndex)return-1;if(q.options.zIndex>U.options.zIndex)return 1;const H=q.options.className,z=U.options.className;if(H<z)return-1;if(H>z)return 1;return L.compareRangesUsingStarts(q.range,U.range)});const Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber,G=[];for(let q=Y;q<=Z;q++){const U=q-Y;G[U]=""}this._renderWholeLineDecorations(J,X,G),this._renderNormalDecorations(J,X,G),this._renderResult=G}_renderWholeLineDecorations(J,$,X){const Q=String(this._lineHeight),Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber;for(let G=0,q=$.length;G<q;G++){const U=$[G];if(!U.options.isWholeLine)continue;const H='<div class="cdr '+U.options.className+'" style="left:0;width:100%;height:'+Q+'px;"></div>',z=Math.max(U.range.startLineNumber,Y),V=Math.min(U.range.endLineNumber,Z);for(let W=z;W<=V;W++){const B=W-Y;X[B]+=H}}}_renderNormalDecorations(J,$,X){var Q;const Y=String(this._lineHeight),Z=J.visibleRange.startLineNumber;let G=null,q=!1,U=null,H=!1;for(let z=0,V=$.length;z<V;z++){const W=$[z];if(W.options.isWholeLine)continue;const B=W.options.className,j=Boolean(W.options.showIfCollapsed);let K=W.range;if(j&&K.endColumn===1&&K.endLineNumber!==K.startLineNumber)K=new L(K.startLineNumber,K.startColumn,K.endLineNumber-1,this._context.viewModel.getLineMaxColumn(K.endLineNumber-1));if(G===B&&q===j&&L.areIntersectingOrTouching(U,K)){U=L.plusRange(U,K);continue}if(G!==null)this._renderNormalDecoration(J,U,G,H,q,Y,Z,X);G=B,q=j,U=K,H=(Q=W.options.shouldFillLineOnLineBreak)!==null&&Q!==void 0?Q:!1}if(G!==null)this._renderNormalDecoration(J,U,G,H,q,Y,Z,X)}_renderNormalDecoration(J,$,X,Q,Y,Z,G,q){const U=J.linesVisibleRangesForRange($,X==="findMatch");if(!U)return;for(let H=0,z=U.length;H<z;H++){const V=U[H];if(V.outsideRenderedLine)continue;const W=V.lineNumber-G;if(Y&&V.ranges.length===1){const B=V.ranges[0];if(B.width<this._typicalHalfwidthCharacterWidth){const j=Math.round(B.left+B.width/2),K=Math.max(0,Math.round(j-this._typicalHalfwidthCharacterWidth/2));V.ranges[0]=new vq(K,this._typicalHalfwidthCharacterWidth)}}for(let B=0,j=V.ranges.length;B<j;B++){const K=Q&&V.continuesOnNextLine&&j===1,D=V.ranges[B],A='<div class="cdr '+X+'" style="left:'+String(D.left)+(K?"px;width:100%;height:":"px;width:"+String(D.width)+"px;height:")+Z+'px;"></div>';q[W]+=A}}}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var gp=N(()=>{hp();VY();fq();u0()});class uT extends K8{constructor(J,$,X,Q){super(J);const Y=this._context.configuration.options,Z=Y.get(102),G=Y.get(74),q=Y.get(40),U=Y.get(105),H={listenOnDomNode:X.domNode,className:"editor-scrollable "+Gz(J.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:G,fastScrollSensitivity:q,scrollPredominantAxis:U,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new PG($.domNode,H,this._context.viewLayout.getScrollable())),O6.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=r0(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const z=(V,W,B)=>{const j={};if(W){const K=V.scrollTop;if(K)j.scrollTop=this._context.viewLayout.getCurrentScrollTop()+K,V.scrollTop=0}if(B){const K=V.scrollLeft;if(K)j.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+K,V.scrollLeft=0}this._context.viewModel.viewLayout.setScrollPosition(j,1)};this._register(l(X.domNode,"scroll",(V)=>z(X.domNode,!0,!0))),this._register(l($.domNode,"scroll",(V)=>z($.domNode,!0,!1))),this._register(l(Q.domNode,"scroll",(V)=>z(Q.domNode,!0,!1))),this._register(l(this.scrollbarDomNode.domNode,"scroll",(V)=>z(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const J=this._context.configuration.options,$=J.get(143);if(this.scrollbarDomNode.setLeft($.contentLeft),J.get(72).side==="right")this.scrollbarDomNode.setWidth($.contentWidth+$.minimap.minimapWidth);else this.scrollbarDomNode.setWidth($.contentWidth);this.scrollbarDomNode.setHeight($.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(J){this.scrollbar.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){this.scrollbar.delegateScrollFromMouseWheelEvent(J)}onConfigurationChanged(J){if(J.hasChanged(102)||J.hasChanged(74)||J.hasChanged(40)){const $=this._context.configuration.options,X=$.get(102),Q=$.get(74),Y=$.get(40),Z=$.get(105),G={vertical:X.vertical,horizontal:X.horizontal,verticalScrollbarSize:X.verticalScrollbarSize,horizontalScrollbarSize:X.horizontalScrollbarSize,scrollByPage:X.scrollByPage,handleMouseWheel:X.handleMouseWheel,mouseWheelScrollSensitivity:Q,fastScrollSensitivity:Y,scrollPredominantAxis:Z};this.scrollbar.updateOptions(G)}if(J.hasChanged(143))this._setLayout();return!0}onScrollChanged(J){return!0}onThemeChanged(J){return this.scrollbar.updateClassName("editor-scrollable "+Gz(this._context.theme.type)),!0}prepareRender(J){}render(J){this.scrollbar.renderNow()}}var pp=N(()=>{y0();q7();hX();h6();X7()});var mp=N(()=>{j1();F0(".monaco-editor .lines-content .core-guide{box-sizing:border-box;position:absolute}")});class zz extends f{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}var cT=N(()=>{$0()});function Vz(J,$){let X=0,Q=0;const Y=J.length;while(Q<Y){const Z=J.charCodeAt(Q);if(Z===32)X++;else if(Z===9)X=X-X%$+$;else break;Q++}if(Q===Y)return-1;return X}var lT=N(()=>{});class P4{constructor(J,$,X,Q,Y,Z){if(this.visibleColumn=J,this.column=$,this.className=X,this.horizontalLine=Q,this.forWrappedLinesAfterColumn=Y,this.forWrappedLinesBeforeOrAtColumn=Z,J!==-1===($!==-1))throw new Error}}class KY{constructor(J,$){this.top=J,this.endColumn=$}}var lX;var mK=N(()=>{(function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"})(lX||(lX={}))});class dT extends zz{constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$}getLanguageConfiguration(J){return this.languageConfigurationService.getLanguageConfiguration(J)}_computeIndentLevel(J){return Vz(this.textModel.getLineContent(J+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(J,$,X){this.assertNotDisposed();const Q=this.textModel.getLineCount();if(J<1||J>Q)throw new n1("Illegal value for lineNumber");const Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide);let G=-2,q=-1,U=-2,H=-1;const z=(_)=>{if(G!==-1&&(G===-2||G>_-1)){G=-1,q=-1;for(let w=_-2;w>=0;w--){const x=this._computeIndentLevel(w);if(x>=0){G=w,q=x;break}}}if(U===-2){U=-1,H=-1;for(let w=_;w<Q;w++){const x=this._computeIndentLevel(w);if(x>=0){U=w,H=x;break}}}};let V=-2,W=-1,B=-2,j=-1;const K=(_)=>{if(V===-2){V=-1,W=-1;for(let w=_-2;w>=0;w--){const x=this._computeIndentLevel(w);if(x>=0){V=w,W=x;break}}}if(B!==-1&&(B===-2||B<_-1)){B=-1,j=-1;for(let w=_;w<Q;w++){const x=this._computeIndentLevel(w);if(x>=0){B=w,j=x;break}}}};let D=0,A=!0,P=0,R=!0,M=0,T=0;for(let _=0;A||R;_++){const w=J-_,x=J+_;if(_>1&&(w<1||w<$))A=!1;if(_>1&&(x>Q||x>X))R=!1;if(_>50000)A=!1,R=!1;let C=-1;if(A&&w>=1){const p=this._computeIndentLevel(w-1);if(p>=0)U=w-1,H=p,C=Math.ceil(p/this.textModel.getOptions().indentSize);else z(w),C=this._getIndentLevelForWhitespaceLine(Z,q,H)}let h=-1;if(R&&x<=Q){const p=this._computeIndentLevel(x-1);if(p>=0)V=x-1,W=p,h=Math.ceil(p/this.textModel.getOptions().indentSize);else K(x),h=this._getIndentLevelForWhitespaceLine(Z,W,j)}if(_===0){T=C;continue}if(_===1){if(x<=Q&&h>=0&&T+1===h){A=!1,D=x,P=x,M=h;continue}if(w>=1&&C>=0&&C-1===T){R=!1,D=w,P=w,M=C;continue}if(D=J,P=J,M=T,M===0)return{startLineNumber:D,endLineNumber:P,indent:M}}if(A)if(C>=M)D=w;else A=!1;if(R)if(h>=M)P=x;else R=!1}return{startLineNumber:D,endLineNumber:P,indent:M}}getLinesBracketGuides(J,$,X,Q){var Y;const Z=[];for(let V=J;V<=$;V++)Z.push([]);const G=!0,q=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new L(J,1,$,this.textModel.getLineMaxColumn($))).toArray();let U=void 0;if(X&&q.length>0){const V=(J<=X.lineNumber&&X.lineNumber<=$?q:this.textModel.bracketPairs.getBracketPairsInRange(L.fromPositions(X)).toArray()).filter((W)=>L.strictContainsPosition(W.range,X));U=(Y=LH(V,(W)=>G||W.range.startLineNumber!==W.range.endLineNumber))===null||Y===void 0?void 0:Y.range}const H=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,z=new uK;for(let V of q){if(!V.closingBracketRange)continue;const W=U&&V.range.equalsRange(U);if(!W&&!Q.includeInactive)continue;const B=z.getInlineClassName(V.nestingLevel,V.nestingLevelOfEqualBracketType,H)+(Q.highlightActive&&W?" "+z.activeClassName:""),j=V.openingBracketRange.getStartPosition(),K=V.closingBracketRange.getStartPosition(),D=Q.horizontalGuides===lX.Enabled||Q.horizontalGuides===lX.EnabledForActive&&W;if(V.range.startLineNumber===V.range.endLineNumber){if(G&&D)Z[V.range.startLineNumber-J].push(new P4(-1,V.openingBracketRange.getEndPosition().column,B,new KY(!1,K.column),-1,-1));continue}const A=this.getVisibleColumnFromPosition(K),P=this.getVisibleColumnFromPosition(V.openingBracketRange.getStartPosition()),R=Math.min(P,A,V.minVisibleColumnIndentation+1);let M=!1;if(k8(this.textModel.getLineContent(V.closingBracketRange.startLineNumber))<V.closingBracketRange.startColumn-1)M=!0;const w=Math.max(j.lineNumber,J),x=Math.min(K.lineNumber,$),C=M?1:0;for(let h=w;h<x+C;h++)Z[h-J].push(new P4(R,-1,B,null,h===j.lineNumber?j.column:-1,h===K.lineNumber?K.column:-1));if(D){if(j.lineNumber>=J&&P>R)Z[j.lineNumber-J].push(new P4(R,-1,B,new KY(!1,j.column),-1,-1));if(K.lineNumber<=$&&A>R)Z[K.lineNumber-J].push(new P4(R,-1,B,new KY(!M,K.column),-1,-1))}}for(let V of Z)V.sort((W,B)=>W.visibleColumn-B.visibleColumn);return Z}getVisibleColumnFromPosition(J){return t1.visibleColumnFromColumn(this.textModel.getLineContent(J.lineNumber),J.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(J,$){this.assertNotDisposed();const X=this.textModel.getLineCount();if(J<1||J>X)throw new Error("Illegal value for startLineNumber");if($<1||$>X)throw new Error("Illegal value for endLineNumber");const Q=this.textModel.getOptions(),Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=new Array($-J+1);let q=-2,U=-1,H=-2,z=-1;for(let V=J;V<=$;V++){const W=V-J,B=this._computeIndentLevel(V-1);if(B>=0){q=V-1,U=B,G[W]=Math.ceil(B/Q.indentSize);continue}if(q===-2){q=-1,U=-1;for(let j=V-2;j>=0;j--){const K=this._computeIndentLevel(j);if(K>=0){q=j,U=K;break}}}if(H!==-1&&(H===-2||H<V-1)){H=-1,z=-1;for(let j=V;j<X;j++){const K=this._computeIndentLevel(j);if(K>=0){H=j,z=K;break}}}G[W]=this._getIndentLevelForWhitespaceLine(Z,U,z)}return G}_getIndentLevelForWhitespaceLine(J,$,X){const Q=this.textModel.getOptions();if($===-1||X===-1)return 0;else if($<X)return 1+Math.floor($/Q.indentSize);else if($===X)return Math.ceil(X/Q.indentSize);else if(J)return Math.ceil(X/Q.indentSize);else return 1+Math.floor(X/Q.indentSize)}}class uK{constructor(){this.activeClassName="indent-active"}getInlineClassName(J,$,X){return this.getInlineClassNameOfLevel(X?$:J)}getInlineClassNameOfLevel(J){return`bracket-indent-guide lvl-${J%30}`}}var sT=N(()=>{OX();l0();_J();u0();cT();lT();mK();A1()});class aT extends g9{constructor(J){super();this._context=J,this._primaryPosition=null;const $=this._context.configuration.options,X=$.get(144),Q=$.get(50);this._lineHeight=$.get(66),this._spaceWidth=Q.spaceWidth,this._maxIndentLeft=X.wrappingColumn===-1?-1:X.wrappingColumn*Q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(144),Q=$.get(50);return this._lineHeight=$.get(66),this._spaceWidth=Q.spaceWidth,this._maxIndentLeft=X.wrappingColumn===-1?-1:X.wrappingColumn*Q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),!0}onCursorStateChanged(J){var $;const Q=J.selections[0].getPosition();if(!(($=this._primaryPosition)===null||$===void 0?void 0:$.equals(Q)))return this._primaryPosition=Q,!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onLanguageConfigurationChanged(J){return!0}prepareRender(J){var $,X,Q,Y;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.scrollWidth,U=this._lineHeight,H=this._primaryPosition,z=this.getGuidesByLine(Z,Math.min(G+1,this._context.viewModel.getLineCount()),H),V=[];for(let W=Z;W<=G;W++){const B=W-Z,j=z[B];let K="";const D=(X=($=J.visibleRangeForPosition(new b(W,1)))===null||$===void 0?void 0:$.left)!==null&&X!==void 0?X:0;for(let A of j){const P=A.column===-1?D+(A.visibleColumn-1)*this._spaceWidth:J.visibleRangeForPosition(new b(W,A.column)).left;if(P>q||this._maxIndentLeft>0&&P>this._maxIndentLeft)break;const R=A.horizontalLine?A.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=A.horizontalLine?((Y=(Q=J.visibleRangeForPosition(new b(W,A.horizontalLine.endColumn)))===null||Q===void 0?void 0:Q.left)!==null&&Y!==void 0?Y:P+this._spaceWidth)-P:this._spaceWidth;K+=`<div class="core-guide ${A.className} ${R}" style="left:${P}px;height:${U}px;width:${M}px"></div>`}V[B]=K}this._renderResult=V}getGuidesByLine(J,$,X){const Q=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(J,$,X,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?lX.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?lX.EnabledForActive:lX.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Y=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(J,$):null;let Z=0,G=0,q=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&X){const z=this._context.viewModel.getActiveIndentGuide(X.lineNumber,J,$);Z=z.startLineNumber,G=z.endLineNumber,q=z.indent}const{indentSize:U}=this._context.viewModel.model.getOptions(),H=[];for(let z=J;z<=$;z++){const V=new Array;H.push(V);const W=Q?Q[z-J]:[],B=new d6(W),j=Y?Y[z-J]:0;for(let K=1;K<=j;K++){const D=(K-1)*U+1,A=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||W.length===0)&&Z<=z&&z<=G&&K===q;V.push(...B.takeWhile((R)=>R.visibleColumn<D)||[]);const P=B.peek();if(!P||P.visibleColumn!==D||P.horizontalLine)V.push(new P4(D,-1,`core-guide-indent lvl-${(K-1)%30}`+(A?" indent-active":""),null,-1,-1))}V.push(...B.takeWhile((K)=>!0)||[])}return H}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var rq;var up=N(()=>{mp();VY();A4();X7();W1();V1();j8();sT();mK();rq=function(J){if(J&&J.isTransparent())return;return J};V9((J,$)=>{const X=[{bracketColor:NK,guideColor:Jp,guideColorActive:Gp},{bracketColor:TK,guideColor:$p,guideColorActive:qp},{bracketColor:_K,guideColor:Xp,guideColorActive:Up},{bracketColor:wK,guideColor:Qp,guideColorActive:Hp},{bracketColor:LK,guideColor:Yp,guideColorActive:zp},{bracketColor:IK,guideColor:Zp,guideColorActive:Vp}],Q=new uK,Y=[{indentColor:MG,indentColorActive:OG},{indentColor:vg,indentColorActive:mg},{indentColor:fg,indentColorActive:ug},{indentColor:hg,indentColorActive:cg},{indentColor:gg,indentColorActive:lg},{indentColor:pg,indentColorActive:dg}],Z=X.map((q)=>{var U,H;const z=J.getColor(q.bracketColor),V=J.getColor(q.guideColor),W=J.getColor(q.guideColorActive),B=rq((U=rq(V))!==null&&U!==void 0?U:z===null||z===void 0?void 0:z.transparent(0.3)),j=rq((H=rq(W))!==null&&H!==void 0?H:z);if(!B||!j)return;return{guideColor:B,guideColorActive:j}}).filter(w2),G=Y.map((q)=>{const U=J.getColor(q.indentColor),H=J.getColor(q.indentColorActive),z=rq(U),V=rq(H);if(!z||!V)return;return{indentColor:z,indentColorActive:V}}).filter(w2);if(Z.length>0){for(let q=0;q<30;q++){const U=Z[q%Z.length];$.addRule(`.monaco-editor .${Q.getInlineClassNameOfLevel(q).replace(/ /g,".")} { --guide-color: ${U.guideColor}; --guide-color-active: ${U.guideColorActive}; }`)}$.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),$.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),$.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),$.addRule(`.monaco-editor .vertical.${Q.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),$.addRule(`.monaco-editor .horizontal-top.${Q.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),$.addRule(`.monaco-editor .horizontal-bottom.${Q.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(G.length>0){for(let q=0;q<30;q++){const U=G[q%G.length];$.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${q} { --indent-color: ${U.indentColor}; --indent-color-active: ${U.indentColorActive}; }`)}$.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),$.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})});var cp=N(()=>{j1();F0(".mtkcontrol{color:#fff!important;background:#960000!important}.mtkoverflow{background-color:var(--vscode-button-background,var(--vscode-editor-background));color:var(--vscode-button-foreground,var(--vscode-editor-foreground));border-style:solid;border-width:1px;border-color:var(--vscode-contrastBorder);cursor:pointer;border-radius:2px;padding:4px}.mtkoverflow:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-webkit-user-select:none;user-select:none}.monaco-editor.mac .lines-content:hover,.monaco-editor.mac .view-line:hover,.monaco-editor.mac .view-lines:hover{-webkit-user-select:text;-ms-user-select:text;user-select:text}.monaco-editor.enable-user-select{user-select:initial;-webkit-user-select:initial}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{width:100%;position:absolute}.monaco-editor .mtkw{color:var(--vscode-editorWhitespace-foreground)!important}.monaco-editor .mtkz{display:inline-block;color:var(--vscode-editorWhitespace-foreground)!important}")});class Wz{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const J=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=J.left,this._clientRectScale=J.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){if(!this._clientRectRead)this.readClientRect();return this._clientRectDeltaLeft}get clientRectScale(){if(!this._clientRectRead)this.readClientRect();return this._clientRectScale}constructor(J,$){this._domNode=J,this.endNode=$,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}var lp=N(()=>{});class dp{constructor(){this._currentVisibleRange=new L(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(J){this._currentVisibleRange=J}}class sp{constructor(J,$,X,Q,Y,Z,G){this.minimalReveal=J,this.lineNumber=$,this.startColumn=X,this.endColumn=Q,this.startScrollTop=Y,this.stopScrollTop=Z,this.scrollType=G,this.type="range",this.minLineNumber=$,this.maxLineNumber=$}}class ap{constructor(J,$,X,Q,Y){this.minimalReveal=J,this.selections=$,this.startScrollTop=X,this.stopScrollTop=Q,this.scrollType=Y,this.type="selections";let Z=$[0].startLineNumber,G=$[0].endLineNumber;for(let q=1,U=$.length;q<U;q++){const H=$[q];Z=Math.min(Z,H.startLineNumber),G=Math.max(G,H.endLineNumber)}this.minLineNumber=Z,this.maxLineNumber=G}}class Bz extends K8{constructor(J,$){super(J);this._linesContent=$,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Hz(this),this.domNode=this._visibleLines.domNode;const X=this._context.configuration,Q=this._context.configuration.options,Y=Q.get(50),Z=Q.get(144);this._lineHeight=Q.get(66),this._typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=Q.get(99),this._cursorSurroundingLines=Q.get(29),this._cursorSurroundingLinesStyle=Q.get(30),this._canUseLayerHinting=!Q.get(32),this._viewLineOptions=new WK(X,this._context.theme.type),O6.write(this.domNode,7),this.domNode.setClassName(`view-lines ${mX}`),O8(this.domNode,Y),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Q8(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Q8(()=>{this._checkMonospaceFontAssumptions()},2000),this._lastRenderedData=new dp,this._horizontalRevealRequest=null,this._stickyScrollEnabled=Q.get(114).enabled,this._maxNumberStickyLines=Q.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new TJ(this._viewLineOptions)}onConfigurationChanged(J){if(this._visibleLines.onConfigurationChanged(J),J.hasChanged(144))this._maxLineWidth=0;const $=this._context.configuration.options,X=$.get(50),Q=$.get(144);if(this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Q.isViewportWrapping,this._revealHorizontalRightPadding=$.get(99),this._cursorSurroundingLines=$.get(29),this._cursorSurroundingLinesStyle=$.get(30),this._canUseLayerHinting=!$.get(32),this._stickyScrollEnabled=$.get(114).enabled,this._maxNumberStickyLines=$.get(114).maxLineCount,O8(this.domNode,X),this._onOptionsMaybeChanged(),J.hasChanged(143))this._maxLineWidth=0;return!0}_onOptionsMaybeChanged(){const J=this._context.configuration,$=new WK(J,this._context.theme.type);if(!this._viewLineOptions.equals($)){this._viewLineOptions=$;const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++)this._visibleLines.getVisibleLine(Y).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();let Q=!1;for(let Y=$;Y<=X;Y++)Q=this._visibleLines.getVisibleLine(Y).onSelectionChanged()||Q;return Q}onDecorationsChanged(J){{const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Q=$;Q<=X;Q++)this._visibleLines.getVisibleLine(Q).onDecorationsChanged()}return!0}onFlushed(J){const $=this._visibleLines.onFlushed(J);return this._maxLineWidth=0,$}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onRevealRangeRequest(J){const $=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),J.source,J.minimalReveal,J.range,J.selections,J.verticalType);if($===-1)return!1;let X=this._context.viewLayout.validateScrollPosition({scrollTop:$});if(J.revealHorizontal){if(J.range&&J.range.startLineNumber!==J.range.endLineNumber)X={scrollTop:X.scrollTop,scrollLeft:0};else if(J.range)this._horizontalRevealRequest=new sp(J.minimalReveal,J.range.startLineNumber,J.range.startColumn,J.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),X.scrollTop,J.scrollType);else if(J.selections&&J.selections.length>0)this._horizontalRevealRequest=new ap(J.minimalReveal,J.selections,this._context.viewLayout.getCurrentScrollTop(),X.scrollTop,J.scrollType)}else this._horizontalRevealRequest=null;const Y=Math.abs(this._context.viewLayout.getCurrentScrollTop()-X.scrollTop)<=this._lineHeight?1:J.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(X,Y),!0}onScrollChanged(J){if(this._horizontalRevealRequest&&J.scrollLeftChanged)this._horizontalRevealRequest=null;if(this._horizontalRevealRequest&&J.scrollTopChanged){const $=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),X=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);if(J.scrollTop<$||J.scrollTop>X)this._horizontalRevealRequest=null}return this.domNode.setWidth(J.scrollWidth),this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(J)}onThemeChanged(J){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(J,$){const X=this._getViewLineDomNode(J);if(X===null)return null;const Q=this._getLineNumberFor(X);if(Q===-1)return null;if(Q<1||Q>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(Q)===1)return new b(Q,1);const Y=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(Q<Y||Q>Z)return null;let G=this._visibleLines.getVisibleLine(Q).getColumnOfNodeOffset(J,$);const q=this._context.viewModel.getLineMinColumn(Q);if(G<q)G=q;return new b(Q,G)}_getViewLineDomNode(J){while(J&&J.nodeType===1){if(J.className===TJ.CLASS_NAME)return J;J=J.parentElement}return null}_getLineNumberFor(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Q=$;Q<=X;Q++){const Y=this._visibleLines.getVisibleLine(Q);if(J===Y.getDomNode())return Q}return-1}getLineWidth(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();if(J<$||J>X)return-1;const Q=new Wz(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getWidth(Q);return this._updateLineWidthsSlowIfDomDidLayout(Q),Y}linesVisibleRangesForRange(J,$){if(this.shouldRender())return null;const X=J.endLineNumber,Q=L.intersectRanges(J,this._lastRenderedData.getCurrentVisibleRange());if(!Q)return null;const Y=[];let Z=0;const G=new Wz(this.domNode.domNode,this._textRangeRestingSpot);let q=0;if($)q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new b(Q.startLineNumber,1)).lineNumber;const U=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let z=Q.startLineNumber;z<=Q.endLineNumber;z++){if(z<U||z>H)continue;const V=z===Q.startLineNumber?Q.startColumn:1,W=z!==Q.endLineNumber,B=W?this._context.viewModel.getLineMaxColumn(z):Q.endColumn,j=this._visibleLines.getVisibleLine(z).getVisibleRangesForRange(z,V,B,G);if(!j)continue;if($&&z<X){const K=q;if(q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new b(z+1,1)).lineNumber,K!==q)j.ranges[j.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth}Y[Z++]=new gN(j.outsideRenderedLine,z,vq.from(j.ranges),W)}if(this._updateLineWidthsSlowIfDomDidLayout(G),Z===0)return null;return Y}_visibleRangesForLineRange(J,$,X){if(this.shouldRender())return null;if(J<this._visibleLines.getStartLineNumber()||J>this._visibleLines.getEndLineNumber())return null;const Q=new Wz(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getVisibleRangesForRange(J,$,X,Q);return this._updateLineWidthsSlowIfDomDidLayout(Q),Y}visibleRangeForPosition(J){const $=this._visibleRangesForLineRange(J.lineNumber,J.column,J.column);if(!$)return null;return new pN($.outsideRenderedLine,$.ranges[0].left)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(J){if(!J.didDomLayout)return;if(this._asyncUpdateLineWidths.isScheduled())return;this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()}_updateLineWidths(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();let Q=1,Y=!0;for(let Z=$;Z<=X;Z++){const G=this._visibleLines.getVisibleLine(Z);if(J&&!G.getWidthIsFast()){Y=!1;continue}Q=Math.max(Q,G.getWidth(null))}if(Y&&$===1&&X===this._context.viewModel.getLineCount())this._maxLineWidth=0;return this._ensureMaxLineWidth(Q),Y}_checkMonospaceFontAssumptions(){let J=-1,$=-1;const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++){const Z=this._visibleLines.getVisibleLine(Y);if(Z.needsMonospaceFontCheck()){const G=Z.getWidth(null);if(G>$)$=G,J=Y}}if(J===-1)return;if(!this._visibleLines.getVisibleLine(J).monospaceAssumptionsAreValid())for(let Y=X;Y<=Q;Y++)this._visibleLines.getVisibleLine(Y).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(J){if(this._visibleLines.renderLines(J),this._lastRenderedData.setCurrentVisibleRange(J.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const X=this._horizontalRevealRequest;if(J.startLineNumber<=X.minLineNumber&&X.maxLineNumber<=J.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const Q=this._computeScrollLeftToReveal(X);if(Q){if(!this._isViewportWrapping)this._ensureMaxLineWidth(Q.maxHorizontalOffset);this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:Q.scrollLeft},X.scrollType)}}}if(!this._updateLineWidthsFast())this._asyncUpdateLineWidths.schedule();else this._asyncUpdateLineWidths.cancel();if(q8&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++)if(this._visibleLines.getVisibleLine(Y).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const $=this._context.viewLayout.getCurrentScrollTop()-J.bigNumbersDelta;this._linesContent.setTop(-$),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(J){const $=Math.ceil(J);if(this._maxLineWidth<$)this._maxLineWidth=$,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth)}_computeScrollTopToRevealRange(J,$,X,Q,Y,Z){const{top:G,height:q}=J,U=G+q;let H,z,V;if(Y&&Y.length>0){let D=Y[0].startLineNumber,A=Y[0].endLineNumber;for(let P=1,R=Y.length;P<R;P++){const M=Y[P];D=Math.min(D,M.startLineNumber),A=Math.max(A,M.endLineNumber)}H=!1,z=this._context.viewLayout.getVerticalOffsetForLineNumber(D),V=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(Q)H=!0,z=this._context.viewLayout.getVerticalOffsetForLineNumber(Q.startLineNumber),V=this._context.viewLayout.getVerticalOffsetForLineNumber(Q.endLineNumber)+this._lineHeight;else return-1;const W=($==="mouse"||X)&&this._cursorSurroundingLinesStyle==="default";let B=0,j=0;if(!W){const D=Math.min(q/this._lineHeight/2,this._cursorSurroundingLines);if(this._stickyScrollEnabled)B=Math.max(D,this._maxNumberStickyLines)*this._lineHeight;else B=D*this._lineHeight;j=Math.max(0,D-1)*this._lineHeight}else if(!X)B=this._lineHeight;if(!X){if(Z===0||Z===4)j+=this._lineHeight}z-=B,V+=j;let K;if(V-z>q){if(!H)return-1;K=z}else if(Z===5||Z===6)if(Z===6&&G<=z&&V<=U)K=G;else{const D=Math.max(5*this._lineHeight,q*0.2),A=z-D,P=V-q;K=Math.max(P,A)}else if(Z===1||Z===2)if(Z===2&&G<=z&&V<=U)K=G;else{const D=(z+V)/2;K=Math.max(0,D-q/2)}else K=this._computeMinimumScrolling(G,U,z,V,Z===3,Z===4);return K}_computeScrollLeftToReveal(J){const $=this._context.viewLayout.getCurrentViewport(),X=this._context.configuration.options.get(143),Q=$.left,Y=Q+$.width-X.verticalScrollbarWidth;let Z=1073741824,G=0;if(J.type==="range"){const U=this._visibleRangesForLineRange(J.lineNumber,J.startColumn,J.endColumn);if(!U)return null;for(let H of U.ranges)Z=Math.min(Z,Math.round(H.left)),G=Math.max(G,Math.round(H.left+H.width))}else for(let U of J.selections){if(U.startLineNumber!==U.endLineNumber)return null;const H=this._visibleRangesForLineRange(U.startLineNumber,U.startColumn,U.endColumn);if(!H)return null;for(let z of H.ranges)Z=Math.min(Z,Math.round(z.left)),G=Math.max(G,Math.round(z.left+z.width))}if(!J.minimalReveal)Z=Math.max(0,Z-Bz.HORIZONTAL_EXTRA_PX),G+=this._revealHorizontalRightPadding;if(J.type==="selections"&&G-Z>$.width)return null;return{scrollLeft:this._computeMinimumScrolling(Q,Y,Z,G),maxHorizontalOffset:G}}_computeMinimumScrolling(J,$,X,Q,Y,Z){J=J|0,$=$|0,X=X|0,Q=Q|0,Y=!!Y,Z=!!Z;const G=$-J;if(Q-X<G){if(Y)return X;if(Z)return Math.max(0,Q-G);if(X<J)return X;else if(Q>$)return Math.max(0,Q-G)}else return X;return J}}var rp=N(()=>{kK();f1();O1();cp();YJ();fq();pK();h6();lp();uN();W1();u0();Bz.HORIZONTAL_EXTRA_PX=30});var ip=N(()=>{j1();F0(".monaco-editor .lines-decorations{background:#fff;position:absolute;top:0}.monaco-editor .margin-view-overlays .cldr{height:100%;position:absolute}")});var np=N(()=>{j1();F0(".monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .glyph-margin-widgets .cgmr{justify-content:center;align-items:center;display:flex;position:absolute}.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}")});class iq{constructor(J,$,X,Q){this._decorationToRenderBrand=void 0,this.startLineNumber=+J,this.endLineNumber=+$,this.className=String(X),this.zIndex=Q!==null&&Q!==void 0?Q:0}}class op{constructor(J,$){this.className=J,this.zIndex=$}}class tp{constructor(){this.decorations=[]}add(J){this.decorations.push(J)}getDecorations(){return this.decorations}}class jz extends g9{_render(J,$,X){const Q=[];for(let G=J;G<=$;G++){const q=G-J;Q[q]=new tp}if(X.length===0)return Q;X.sort((G,q)=>{if(G.className===q.className){if(G.startLineNumber===q.startLineNumber)return G.endLineNumber-q.endLineNumber;return G.startLineNumber-q.startLineNumber}return G.className<q.className?-1:1});let Y=null,Z=0;for(let G=0,q=X.length;G<q;G++){const U=X[G],H=U.className,z=U.zIndex;let V=Math.max(U.startLineNumber,J)-J;const W=Math.min(U.endLineNumber,$)-J;if(Y===H)V=Math.max(Z+1,V),Z=Math.max(Z,W);else Y=H,Z=W;for(let B=V;B<=Z;B++)Q[B].add(new op(H,z))}return Q}}class rT extends K8{constructor(J){super(J);this._widgets={},this._context=J;const $=this._context.configuration.options,X=$.get(143);this.domNode=r0(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._glyphMarginDecorationLaneCount=X.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._glyphMarginDecorationLaneCount=X.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}addWidget(J){const $=r0(J.getDomNode());this._widgets[J.getId()]={widget:J,preference:J.getPosition(),domNode:$,renderInfo:null},$.setPosition("absolute"),$.setDisplay("none"),$.setAttribute("widgetId",J.getId()),this.domNode.appendChild($),this.setShouldRender()}setWidgetPosition(J,$){const X=this._widgets[J.getId()];if(X.preference.lane===$.lane&&X.preference.zIndex===$.zIndex&&L.equalsRange(X.preference.range,$.range))return!1;return X.preference=$,this.setShouldRender(),!0}removeWidget(J){var $;const X=J.getId();if(this._widgets[X]){const Y=this._widgets[X].domNode.domNode;delete this._widgets[X],($=Y.parentNode)===null||$===void 0||$.removeChild(Y),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(J,$){var X,Q,Y;const Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.getDecorationsInViewport();for(let U of q){const H=U.options.glyphMarginClassName;if(!H)continue;const z=Math.max(U.range.startLineNumber,Z),V=Math.min(U.range.endLineNumber,G),W=Math.min((Q=(X=U.options.glyphMargin)===null||X===void 0?void 0:X.position)!==null&&Q!==void 0?Q:1,this._glyphMarginDecorationLaneCount),B=(Y=U.options.zIndex)!==null&&Y!==void 0?Y:0;for(let j=z;j<=V;j++)$.push(new ep(j,W,B,H))}}_collectWidgetBasedGlyphRenderRequest(J,$){const X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;for(let Y of Object.values(this._widgets)){const Z=Y.preference.range;if(Z.endLineNumber<X||Z.startLineNumber>Q)continue;const G=Math.max(Z.startLineNumber,X),q=Math.min(Y.preference.lane,this._glyphMarginDecorationLaneCount);$.push(new Jm(G,q,Y.preference.zIndex,Y))}}_collectSortedGlyphRenderRequests(J){const $=[];return this._collectDecorationBasedGlyphRenderRequest(J,$),this._collectWidgetBasedGlyphRenderRequest(J,$),$.sort((X,Q)=>{if(X.lineNumber===Q.lineNumber){if(X.lane===Q.lane){if(X.zIndex===Q.zIndex){if(Q.type===X.type){if(X.type===0&&Q.type===0)return X.className<Q.className?-1:1;return 0}return Q.type-X.type}return Q.zIndex-X.zIndex}return X.lane-Q.lane}return X.lineNumber-Q.lineNumber}),$}prepareRender(J){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(let Q of Object.values(this._widgets))Q.renderInfo=null;const $=new d6(this._collectSortedGlyphRenderRequests(J)),X=[];while($.length>0){const Q=$.peek();if(!Q)break;const Y=$.takeWhile((G)=>G.lineNumber===Q.lineNumber&&G.lane===Q.lane);if(!Y||Y.length===0)break;const Z=Y[0];if(Z.type===0){const G=[];for(let q of Y){if(q.zIndex!==Z.zIndex||q.type!==Z.type)break;if(G.length===0||G[G.length-1]!==q.className)G.push(q.className)}X.push(Z.accept(G.join(" ")))}else Z.widget.renderInfo={lineNumber:Z.lineNumber,lane:Z.lane}}this._decorationGlyphsToRender=X}render(J){if(!this._glyphMargin){for(let X of Object.values(this._widgets))X.domNode.setDisplay("none");while(this._managedDomNodes.length>0){const X=this._managedDomNodes.pop();X===null||X===void 0||X.domNode.remove()}return}const $=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(let X of Object.values(this._widgets))if(!X.renderInfo)X.domNode.setDisplay("none");else{const Q=J.viewportData.relativeVerticalOffset[X.renderInfo.lineNumber-J.viewportData.startLineNumber],Y=this._glyphMarginLeft+(X.renderInfo.lane-1)*this._lineHeight;X.domNode.setDisplay("block"),X.domNode.setTop(Q),X.domNode.setLeft(Y),X.domNode.setWidth($),X.domNode.setHeight(this._lineHeight)}for(let X=0;X<this._decorationGlyphsToRender.length;X++){const Q=this._decorationGlyphsToRender[X],Y=J.viewportData.relativeVerticalOffset[Q.lineNumber-J.viewportData.startLineNumber],Z=this._glyphMarginLeft+(Q.lane-1)*this._lineHeight;let G;if(X<this._managedDomNodes.length)G=this._managedDomNodes[X];else G=r0(document.createElement("div")),this._managedDomNodes.push(G),this.domNode.appendChild(G);G.setClassName("cgmr codicon "+Q.combinedClassName),G.setPosition("absolute"),G.setTop(Y),G.setLeft(Z),G.setWidth($),G.setHeight(this._lineHeight)}while(this._managedDomNodes.length>this._decorationGlyphsToRender.length){const X=this._managedDomNodes.pop();X===null||X===void 0||X.domNode.remove()}}}class ep{constructor(J,$,X,Q){this.lineNumber=J,this.lane=$,this.zIndex=X,this.className=Q,this.type=0}accept(J){return new $m(this.lineNumber,this.lane,J)}}class Jm{constructor(J,$,X,Q){this.lineNumber=J,this.lane=$,this.zIndex=X,this.widget=Q,this.type=1}}class $m{constructor(J,$,X){this.lineNumber=J,this.lane=$,this.combinedClassName=X}}var cK=N(()=>{q7();V1();np();VY();h6();u0()});class iT extends jz{constructor(J){super();this._context=J;const X=this._context.configuration.options.get(143);this._decorationsLeft=X.decorationsLeft,this._decorationsWidth=X.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._decorationsLeft=X.decorationsLeft,this._decorationsWidth=X.decorationsWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){const $=J.getDecorationsInViewport(),X=[];let Q=0;for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.options.linesDecorationsClassName,U=G.options.zIndex;if(q)X[Q++]=new iq(G.range.startLineNumber,G.range.endLineNumber,q,U);const H=G.options.firstLineDecorationClassName;if(H)X[Q++]=new iq(G.range.startLineNumber,G.range.startLineNumber,H,U)}return X}prepareRender(J){const $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Q=this._render($,X,this._getDecorations(J)),Y=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),G='" style="left:'+Y+"px;width:"+Z+'px;"></div>',q=[];for(let U=$;U<=X;U++){const H=U-$,z=Q[H].getDecorations();let V="";for(let W of z)V+='<div class="cldr '+W.className+G;q[H]=V}this._renderResult=q}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}var Xm=N(()=>{ip();cK()});var Qm=N(()=>{j1();F0(".monaco-editor .margin-view-overlays .cmdr{width:100%;height:100%;position:absolute;left:0}")});class nT extends jz{constructor(J){super();this._context=J,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){const $=J.getDecorationsInViewport(),X=[];let Q=0;for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.options.marginClassName,U=G.options.zIndex;if(q)X[Q++]=new iq(G.range.startLineNumber,G.range.endLineNumber,q,U)}return X}prepareRender(J){const $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Q=this._render($,X,this._getDecorations(J)),Y=[];for(let Z=$;Z<=X;Z++){const G=Z-$,q=Q[G].getDecorations();let U="";for(let H of q)U+='<div class="cmdr '+H.className+'" style=""></div>';Y[G]=U}this._renderResult=Y}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}var Ym=N(()=>{Qm();cK()});var Zm=N(()=>{j1();F0(".monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover:hover .minimap-slider,.monaco-editor .minimap.slider-mouseover .minimap-slider.active{opacity:1}.monaco-editor .minimap-slider .minimap-slider-horizontal{background:var(--vscode-minimapSlider-background)}.monaco-editor .minimap-slider:hover .minimap-slider-horizontal{background:var(--vscode-minimapSlider-hoverBackground)}.monaco-editor .minimap-slider.active .minimap-slider-horizontal{background:var(--vscode-minimapSlider-activeBackground)}.monaco-editor .minimap-shadow-visible{box-shadow:var(--vscode-scrollbar-shadow)-6px 0 6px -6px inset}.monaco-editor .minimap-shadow-hidden{width:0;position:absolute}.monaco-editor .minimap-shadow-visible{width:6px;position:absolute;left:-6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{width:1px;position:absolute;left:-1px}.minimap.autohide{opacity:0;transition:opacity .5s}.minimap.autohide:hover{opacity:1}.monaco-editor .minimap{z-index:5}")});class p9{constructor(J,$,X,Q){this._rgba8Brand=void 0,this.r=p9._clamp(J),this.g=p9._clamp($),this.b=p9._clamp(X),this.a=p9._clamp(Q)}equals(J){return this.r===J.r&&this.g===J.g&&this.b===J.b&&this.a===J.a}static _clamp(J){if(J<0)return 0;if(J>255)return 255;return J|0}}var oT=N(()=>{p9.Empty=new p9(0,0,0,0)});class LG extends f{static getInstance(){if(!this._INSTANCE)this._INSTANCE=MZ(new LG);return this._INSTANCE}constructor(){super();this._onDidChange=new E,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(g1.onDidChange((J)=>{if(J.changedColorMap)this._updateColorMap()}))}_updateColorMap(){const J=g1.getColorMap();if(!J){this._colors=[p9.Empty],this._backgroundIsLight=!0;return}this._colors=[p9.Empty];for(let X=1;X<J.length;X++){const Q=J[X].rgba;this._colors[X]=new p9(Q.r,Q.g,Q.b,Math.round(Q.a*255))}const $=J[2].getRelativeLuminance();this._backgroundIsLight=$>=0.5,this._onDidChange.fire(void 0)}getColor(J){if(J<1||J>=this._colors.length)J=2;return this._colors[J]}backgroundIsLight(){return this._backgroundIsLight}}var tT=N(()=>{A0();$0();oT();P6();LG._INSTANCE=null});var Gm,qm;var eT=N(()=>{Gm=(()=>{const J=[];for(let $=32;$<=126;$++)J.push($);return J.push(65533),J})(),qm=(J,$)=>{if(J-=32,J<0||J>96){if($<=2)return(J+96)%96;return 95}return J}});class nq{constructor(J,$){this.scale=$,this._minimapCharRendererBrand=void 0,this.charDataNormal=nq.soften(J,0.8),this.charDataLight=nq.soften(J,0.8333333333333334)}static soften(J,$){const X=new Uint8ClampedArray(J.length);for(let Q=0,Y=J.length;Q<Y;Q++)X[Q]=tZ(J[Q]*$);return X}renderChar(J,$,X,Q,Y,Z,G,q,U,H,z){const V=1*this.scale,W=2*this.scale,B=z?1:W;if($+V>J.width||X+B>J.height){console.warn("bad render request outside image data");return}const j=H?this.charDataLight:this.charDataNormal,K=qm(Q,U),D=J.width*4,A=G.r,P=G.g,R=G.b,M=Y.r-A,T=Y.g-P,_=Y.b-R,w=Math.max(Z,q),x=J.data;let C=K*V*W,h=X*D+$*4;for(let p=0;p<B;p++){let r=h;for(let m=0;m<V;m++){const c=j[C++]/255*(Z/255);x[r++]=A+M*c,x[r++]=P+T*c,x[r++]=R+_*c,x[r++]=w}h+=D}}blockRenderChar(J,$,X,Q,Y,Z,G,q){const U=1*this.scale,H=2*this.scale,z=q?1:H;if($+U>J.width||X+z>J.height){console.warn("bad render request outside image data");return}const V=J.width*4,W=0.5*(Y/255),B=Z.r,j=Z.g,K=Z.b,D=Q.r-B,A=Q.g-j,P=Q.b-K,R=B+D*W,M=j+A*W,T=K+P*W,_=Math.max(Y,G),w=J.data;let x=X*V+$*4;for(let C=0;C<z;C++){let h=x;for(let p=0;p<U;p++)w[h++]=R,w[h++]=M,w[h++]=T,w[h++]=_;x+=V}}}var Um=N(()=>{eT();RH()});var Hm,zm,J_;var Vm=N(()=>{x2();Hm={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},zm=(J)=>{const $=new Uint8ClampedArray(J.length/2);for(let X=0;X<J.length;X+=2)$[X>>1]=Hm[J[X]]<<4|Hm[J[X+1]]&15;return $},J_={1:a4(()=>zm("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:a4(()=>zm("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}});class oq{static create(J,$){if(this.lastCreated&&J===this.lastCreated.scale&&$===this.lastFontFamily)return this.lastCreated;let X;if(J_[J])X=new nq(J_[J](),J);else X=oq.createFromSampleData(oq.createSampleData($).data,J);return this.lastFontFamily=$,this.lastCreated=X,X}static createSampleData(J){const $=document.createElement("canvas"),X=$.getContext("2d");$.style.height="16px",$.height=16,$.width=960,$.style.width=960+"px",X.fillStyle="#ffffff",X.font=`bold 16px ${J}`,X.textBaseline="middle";let Q=0;for(let Y of Gm)X.fillText(String.fromCharCode(Y),Q,8),Q+=10;return X.getImageData(0,0,960,16)}static createFromSampleData(J,$){if(J.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const Q=oq._downsample(J,$);return new nq(Q,$)}static _downsampleChar(J,$,X,Q,Y){const Z=1*Y,G=2*Y;let q=Q,U=0;for(let H=0;H<G;H++){const z=H/G*16,V=(H+1)/G*16;for(let W=0;W<Z;W++){const B=W/Z*10,j=(W+1)/Z*10;let K=0,D=0;for(let P=z;P<V;P++){const R=$+Math.floor(P)*3840,M=1-(P-Math.floor(P));for(let T=B;T<j;T++){const _=1-(T-Math.floor(T)),w=R+Math.floor(T)*4,x=_*M;D+=x,K+=J[w]*J[w+3]/255*x}}const A=K/D;U=Math.max(U,A),X[q++]=tZ(A)}}return U}static _downsample(J,$){const X=2*$*1*$,Q=X*96,Y=new Uint8ClampedArray(Q);let Z=0,G=0,q=0;for(let U=0;U<96;U++)q=Math.max(q,this._downsampleChar(J,G,Y,Z,$)),Z+=X,G+=40;if(q>0){const U=255/q;for(let H=0;H<Q;H++)Y[H]*=U}return Y}}var Wm=N(()=>{Um();eT();Vm();RH()});class Kz{constructor(J,$,X){const Q=J.options,Y=Q.get(141),Z=Q.get(143),G=Z.minimap,q=Q.get(50),U=Q.get(72);this.renderMinimap=G.renderMinimap,this.size=U.size,this.minimapHeightIsEditorHeight=G.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=Q.get(104),this.paddingTop=Q.get(83).top,this.paddingBottom=Q.get(83).bottom,this.showSlider=U.showSlider,this.autohide=U.autohide,this.pixelRatio=Y,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=Q.get(66),this.minimapLeft=G.minimapLeft,this.minimapWidth=G.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=G.minimapCanvasInnerWidth,this.canvasInnerHeight=G.minimapCanvasInnerHeight,this.canvasOuterWidth=G.minimapCanvasOuterWidth,this.canvasOuterHeight=G.minimapCanvasOuterHeight,this.isSampling=G.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=G.minimapScale,this.minimapLineHeight=G.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=a4(()=>oq.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=X.getColor(2),this.backgroundColor=Kz._getMinimapBackground($,this.defaultBackgroundColor),this.foregroundAlpha=Kz._getMinimapForegroundOpacity($)}static _getMinimapBackground(J,$){const X=J.getColor(nh);if(X)return new p9(X.rgba.r,X.rgba.g,X.rgba.b,Math.round(255*X.rgba.a));return $}static _getMinimapForegroundOpacity(J){const $=J.getColor(oh);if($)return p9._clamp(Math.round(255*$.rgba.a));return 255}equals(J){return this.renderMinimap===J.renderMinimap&&this.size===J.size&&this.minimapHeightIsEditorHeight===J.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===J.scrollBeyondLastLine&&this.paddingTop===J.paddingTop&&this.paddingBottom===J.paddingBottom&&this.showSlider===J.showSlider&&this.autohide===J.autohide&&this.pixelRatio===J.pixelRatio&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.lineHeight===J.lineHeight&&this.minimapLeft===J.minimapLeft&&this.minimapWidth===J.minimapWidth&&this.minimapHeight===J.minimapHeight&&this.canvasInnerWidth===J.canvasInnerWidth&&this.canvasInnerHeight===J.canvasInnerHeight&&this.canvasOuterWidth===J.canvasOuterWidth&&this.canvasOuterHeight===J.canvasOuterHeight&&this.isSampling===J.isSampling&&this.editorHeight===J.editorHeight&&this.fontScale===J.fontScale&&this.minimapLineHeight===J.minimapLineHeight&&this.minimapCharWidth===J.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(J.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(J.backgroundColor)&&this.foregroundAlpha===J.foregroundAlpha}}class Fz{constructor(J,$,X,Q,Y,Z,G,q,U){this.scrollTop=J,this.scrollHeight=$,this.sliderNeeded=X,this._computedSliderRatio=Q,this.sliderTop=Y,this.sliderHeight=Z,this.topPaddingLineCount=G,this.startLineNumber=q,this.endLineNumber=U}getDesiredScrollTopFromDelta(J){return Math.round(this.scrollTop+J/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(J){return Math.round((J-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(J){const $=Math.max(this.startLineNumber,J.startLineNumber),X=Math.min(this.endLineNumber,J.endLineNumber);if($>X)return null;return[$,X]}getYForLineNumber(J,$){return+(J-this.startLineNumber+this.topPaddingLineCount)*$}static create(J,$,X,Q,Y,Z,G,q,U,H,z){const{pixelRatio:V,minimapLineHeight:W}=J,B=Math.floor(J.canvasInnerHeight/W),j=J.lineHeight;if(J.minimapHeightIsEditorHeight){let T=q*J.lineHeight+J.paddingTop+J.paddingBottom;if(J.scrollBeyondLastLine)T+=Math.max(0,Y-J.lineHeight-J.paddingBottom);const _=Math.max(1,Math.floor(Y*Y/T)),w=Math.max(0,J.minimapHeight-_),x=w/(H-Y),C=U*x,h=w>0,p=Math.floor(J.canvasInnerHeight/J.minimapLineHeight),r=Math.floor(J.paddingTop/J.lineHeight);return new Fz(U,H,h,x,C,_,r,1,Math.min(G,p))}let K;if(Z&&X!==G){const T=X-$+1;K=Math.floor(T*W/V)}else{const T=Y/j;K=Math.floor(T*W/V)}const D=Math.floor(J.paddingTop/j);let A=Math.floor(J.paddingBottom/j);if(J.scrollBeyondLastLine){const T=Y/j;A=Math.max(A,T-1)}let P;if(A>0){const T=Y/j;P=(D+G+A-T-1)*W/V}else P=Math.max(0,(D+G)*W/V-K);P=Math.min(J.minimapHeight-K,P);const R=P/(H-Y),M=U*R;if(B>=D+G+A){const T=P>0;return new Fz(U,H,T,R,M,K,D,1,G)}else{let T;if($>1)T=$+D;else T=Math.max(1,U/j);let _,w=Math.max(1,Math.floor(T-M*V/W));if(w<D)_=D-w+1,w=1;else _=0,w=Math.max(1,w-D);if(z&&z.scrollHeight===H){if(z.scrollTop>U)w=Math.min(w,z.startLineNumber),_=Math.max(_,z.topPaddingLineCount);if(z.scrollTop<U)w=Math.max(w,z.startLineNumber),_=Math.min(_,z.topPaddingLineCount)}const x=Math.min(G,w-_+B-1),C=(U-Q)/j;let h;if(U>=J.paddingTop)h=($-w+_+C)*W/V;else h=U/J.paddingTop*(_+C)*W/V;return new Fz(U,H,!0,R,h,K,_,w,x)}}}class Az{constructor(J){this.dy=J}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}class $_{constructor(J,$,X){this.renderedLayout=J,this._imageData=$,this._renderedLines=new gK(()=>Az.INVALID),this._renderedLines._set(J.startLineNumber,X)}linesEquals(J){if(!this.scrollEquals(J))return!1;const X=this._renderedLines._get().lines;for(let Q=0,Y=X.length;Q<Y;Q++)if(X[Q].dy===-1)return!1;return!0}scrollEquals(J){return this.renderedLayout.startLineNumber===J.startLineNumber&&this.renderedLayout.endLineNumber===J.endLineNumber}_get(){const J=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:J.rendLineNumberStart,lines:J.lines}}onLinesChanged(J,$){return this._renderedLines.onLinesChanged(J,$)}onLinesDeleted(J,$){this._renderedLines.onLinesDeleted(J,$)}onLinesInserted(J,$){this._renderedLines.onLinesInserted(J,$)}onTokensChanged(J){return this._renderedLines.onTokensChanged(J)}}class Q_{constructor(J,$,X,Q){this._backgroundFillData=Q_._createBackgroundFillData($,X,Q),this._buffers=[J.createImageData($,X),J.createImageData($,X)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const J=this._buffers[this._lastUsedBuffer];return J.data.set(this._backgroundFillData),J}static _createBackgroundFillData(J,$,X){const{r:Q,g:Y,b:Z,a:G}=X,q=new Uint8ClampedArray(J*$*4);let U=0;for(let H=0;H<$;H++)for(let z=0;z<J;z++)q[U]=Q,q[U+1]=Y,q[U+2]=Z,q[U+3]=G,U+=4;return q}}class Pz{static compute(J,$,X){if(J.renderMinimap===0||!J.isSampling)return[null,[]];const{minimapLineCount:Q}=KZ.computeContainedMinimapLineCount({viewLineCount:$,scrollBeyondLastLine:J.scrollBeyondLastLine,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:J.editorHeight,lineHeight:J.lineHeight,pixelRatio:J.pixelRatio}),Y=$/Q,Z=Y/2;if(!X||X.minimapLines.length===0){const K=[];if(K[0]=1,Q>1){for(let D=0,A=Q-1;D<A;D++)K[D]=Math.round(D*Y+Z);K[Q-1]=$}return[new Pz(Y,K),[]]}const G=X.minimapLines,q=G.length,U=[];let H=0,z=0,V=1;const W=10;let B=[],j=null;for(let K=0;K<Q;K++){const D=Math.max(V,Math.round(K*Y)),A=Math.max(D,Math.round((K+1)*Y));while(H<q&&G[H]<D){if(B.length<W){const R=H+1+z;if(j&&j.type==="deleted"&&j._oldIndex===H-1)j.deleteToLineNumber++;else j={type:"deleted",_oldIndex:H,deleteFromLineNumber:R,deleteToLineNumber:R},B.push(j);z--}H++}let P;if(H<q&&G[H]<=A)P=G[H],H++;else{if(K===0)P=1;else if(K+1===Q)P=$;else P=Math.round(K*Y+Z);if(B.length<W){const R=H+1+z;if(j&&j.type==="inserted"&&j._i===K-1)j.insertToLineNumber++;else j={type:"inserted",_i:K,insertFromLineNumber:R,insertToLineNumber:R},B.push(j);z++}}U[K]=P,V=P}if(B.length<W)while(H<q){const K=H+1+z;if(j&&j.type==="deleted"&&j._oldIndex===H-1)j.deleteToLineNumber++;else j={type:"deleted",_oldIndex:H,deleteFromLineNumber:K,deleteToLineNumber:K},B.push(j);z--,H++}else B=[{type:"flush"}];return[new Pz(Y,U),B]}constructor(J,$){this.samplingRatio=J,this.minimapLines=$}modelLineToMinimapLine(J){return Math.min(this.minimapLines.length,Math.max(1,Math.round(J/this.samplingRatio)))}modelLineRangeToMinimapLineRange(J,$){let X=this.modelLineToMinimapLine(J)-1;while(X>0&&this.minimapLines[X-1]>=J)X--;let Q=this.modelLineToMinimapLine($)-1;while(Q+1<this.minimapLines.length&&this.minimapLines[Q+1]<=$)Q++;if(X===Q){const Y=this.minimapLines[X];if(Y<J||Y>$)return null}return[X+1,Q+1]}decorationLineRangeToMinimapLineRange(J,$){let X=this.modelLineToMinimapLine(J),Q=this.modelLineToMinimapLine($);if(J!==$&&Q===X)if(Q===this.minimapLines.length){if(X>1)X--}else Q++;return[X,Q]}onLinesDeleted(J){const $=J.toLineNumber-J.fromLineNumber+1;let X=this.minimapLines.length,Q=0;for(let Y=this.minimapLines.length-1;Y>=0;Y--){if(this.minimapLines[Y]<J.fromLineNumber)break;if(this.minimapLines[Y]<=J.toLineNumber)this.minimapLines[Y]=Math.max(1,J.fromLineNumber-1),X=Math.min(X,Y),Q=Math.max(Q,Y);else this.minimapLines[Y]-=$}return[X,Q]}onLinesInserted(J){const $=J.toLineNumber-J.fromLineNumber+1;for(let X=this.minimapLines.length-1;X>=0;X--){if(this.minimapLines[X]<J.fromLineNumber)break;this.minimapLines[X]+=$}}}class Y_ extends K8{constructor(J){super(J);this.tokensColorTracker=LG.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Kz(this._context.configuration,this._context.theme,this.tokensColorTracker);const[$]=Pz.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=$,this._shouldCheckSampling=!1,this._actual=new lK(J.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const J=new Kz(this._context.configuration,this._context.theme,this.tokensColorTracker);if(this.options.equals(J))return!1;return this.options=J,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0}onConfigurationChanged(J){return this._onOptionsMaybeChanged()}onCursorStateChanged(J){return this._selections=J.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(J){if(J.affectsMinimap)return this._actual.onDecorationsChanged();return!1}onFlushed(J){if(this._samplingState)this._shouldCheckSampling=!0;return this._actual.onFlushed()}onLinesChanged(J){if(this._samplingState){const $=this._samplingState.modelLineRangeToMinimapLineRange(J.fromLineNumber,J.fromLineNumber+J.count-1);if($)return this._actual.onLinesChanged($[0],$[1]-$[0]+1);else return!1}else return this._actual.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){if(this._samplingState){const[$,X]=this._samplingState.onLinesDeleted(J);if($<=X)this._actual.onLinesChanged($+1,X-$+1);return this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(J.fromLineNumber,J.toLineNumber)}onLinesInserted(J){if(this._samplingState)return this._samplingState.onLinesInserted(J),this._shouldCheckSampling=!0,!0;else return this._actual.onLinesInserted(J.fromLineNumber,J.toLineNumber)}onScrollChanged(J){return this._actual.onScrollChanged()}onThemeChanged(J){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(J){if(this._samplingState){const $=[];for(let X of J.ranges){const Q=this._samplingState.modelLineRangeToMinimapLineRange(X.fromLineNumber,X.toLineNumber);if(Q)$.push({fromLineNumber:Q[0],toLineNumber:Q[1]})}if($.length)return this._actual.onTokensChanged($);else return!1}else return this._actual.onTokensChanged(J.ranges)}onTokensColorsChanged(J){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(J){return this._actual.onZonesChanged()}prepareRender(J){if(this._shouldCheckSampling)this._shouldCheckSampling=!1,this._recreateLineSampling()}render(J){let $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;if(this._samplingState)$=this._samplingState.modelLineToMinimapLine($),X=this._samplingState.modelLineToMinimapLine(X);const Q={viewportContainsWhitespaceGaps:J.viewportData.whitespaceViewportData.length>0,scrollWidth:J.scrollWidth,scrollHeight:J.scrollHeight,viewportStartLineNumber:$,viewportEndLineNumber:X,viewportStartLineNumberVerticalOffset:J.getVerticalOffsetForLineNumber($),scrollTop:J.scrollTop,scrollLeft:J.scrollLeft,viewportWidth:J.viewportWidth,viewportHeight:J.viewportHeight};this._actual.render(Q)}_recreateLineSampling(){this._minimapSelections=null;const J=Boolean(this._samplingState),[$,X]=Pz.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=$,J&&this._samplingState)for(let Q of X)switch(Q.type){case"deleted":this._actual.onLinesDeleted(Q.deleteFromLineNumber,Q.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(Q.insertFromLineNumber,Q.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){if(this._samplingState)return this._samplingState.minimapLines.length;return this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(J){if(this._samplingState)return this._context.viewModel.getLineContent(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineContent(J)}getLineMaxColumn(J){if(this._samplingState)return this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineMaxColumn(J)}getMinimapLinesRenderingData(J,$,X){if(this._samplingState){const Q=[];for(let Y=0,Z=$-J+1;Y<Z;Y++)if(X[Y])Q[Y]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[J+Y-1]);else Q[Y]=null;return Q}return this._context.viewModel.getMinimapLinesRenderingData(J,$,X).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let J of this._selections){const[$,X]=this._samplingState.decorationLineRangeToMinimapLineRange(J.startLineNumber,J.endLineNumber);this._minimapSelections.push(new b0($,J.startColumn,X,J.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(J,$){let X;if(this._samplingState){const Y=this._samplingState.minimapLines[J-1],Z=this._samplingState.minimapLines[$-1];X=new L(Y,1,Z,this._context.viewModel.getLineMaxColumn(Z))}else X=new L(J,1,$,this._context.viewModel.getLineMaxColumn($));const Q=this._context.viewModel.getMinimapDecorationsInRange(X);if(this._samplingState){const Y=[];for(let Z of Q){if(!Z.options.minimap)continue;const G=Z.range,q=this._samplingState.modelLineToMinimapLine(G.startLineNumber),U=this._samplingState.modelLineToMinimapLine(G.endLineNumber);Y.push(new uH(new L(q,G.startColumn,U,G.endColumn),Z.options))}return Y}return Q}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(J){if(this._samplingState)J=this._samplingState.minimapLines[J-1];this._context.viewModel.revealRange("mouse",!1,new L(J,1,J,1),1,0)}setScrollTop(J){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:J},1)}}class lK extends f{constructor(J,$){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=J,this._model=$,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(CN),this._domNode=r0(document.createElement("div")),O6.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=r0(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=r0(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=r0(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=r0(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=r0(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=X8(this._domNode.domNode,G0.POINTER_DOWN,(X)=>{if(X.preventDefault(),this._model.options.renderMinimap===0)return;if(!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(X.button===0&&this._lastRenderData){const U=u7(this._slider.domNode),H=U.top+U.height/2;this._startSliderDragging(X,H,this._lastRenderData.renderedLayout)}return}const Y=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*X.offsetY;let q=Math.floor(Z/Y)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new IX,this._sliderPointerDownListener=X8(this._slider.domNode,G0.POINTER_DOWN,(X)=>{if(X.preventDefault(),X.stopPropagation(),X.button===0&&this._lastRenderData)this._startSliderDragging(X,X.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=N1.addTarget(this._domNode.domNode),this._sliderTouchStartListener=l(this._domNode.domNode,L1.Start,(X)=>{if(X.preventDefault(),X.stopPropagation(),this._lastRenderData)this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(X)},{passive:!1}),this._sliderTouchMoveListener=l(this._domNode.domNode,L1.Change,(X)=>{if(X.preventDefault(),X.stopPropagation(),this._lastRenderData&&this._gestureInProgress)this.scrollDueToTouchEvent(X)},{passive:!1}),this._sliderTouchEndListener=X8(this._domNode.domNode,L1.End,(X)=>{X.preventDefault(),X.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(J,$,X){if(!J.target||!(J.target instanceof Element))return;const Q=J.pageX;this._slider.toggleClassName("active",!0);const Y=(Z,G)=>{const q=u7(this._domNode.domNode),U=Math.min(Math.abs(G-Q),Math.abs(G-q.left),Math.abs(G-q.left-q.width));if(F8&&U>j60){this._model.setScrollTop(X.scrollTop);return}const H=Z-$;this._model.setScrollTop(X.getDesiredScrollTopFromDelta(H))};if(J.pageY!==$)Y(J.pageY,Q);this._sliderPointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Z)=>Y(Z.pageY,Z.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(J){const $=this._domNode.domNode.getBoundingClientRect().top,X=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(J.pageY-$);this._model.setScrollTop(X)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const J=["minimap"];if(this._model.options.showSlider==="always")J.push("slider-always");else J.push("slider-mouseover");if(this._model.options.autohide)J.push("autohide");return J.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){if(!this._buffers){if(this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0)this._buffers=new Q_(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)}return this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(J,$){if(this._lastRenderData)return this._lastRenderData.onLinesChanged(J,$);return!1}onLinesDeleted(J,$){var X;return(X=this._lastRenderData)===null||X===void 0||X.onLinesDeleted(J,$),!0}onLinesInserted(J,$){var X;return(X=this._lastRenderData)===null||X===void 0||X.onLinesInserted(J,$),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(CN),this._renderDecorations=!0,!0}onTokensChanged(J){if(this._lastRenderData)return this._lastRenderData.onTokensChanged(J);return!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(J){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}if(J.scrollLeft+J.viewportWidth>=J.scrollWidth)this._shadow.setClassName("minimap-shadow-hidden");else this._shadow.setClassName("minimap-shadow-visible");const X=Fz.create(this._model.options,J.viewportStartLineNumber,J.viewportEndLineNumber,J.viewportStartLineNumberVerticalOffset,J.viewportHeight,J.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),J.scrollTop,J.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(X.sliderNeeded?"block":"none"),this._slider.setTop(X.sliderTop),this._slider.setHeight(X.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(X.sliderHeight),this.renderDecorations(X),this._lastRenderData=this.renderLines(X)}renderDecorations(J){if(this._renderDecorations){this._renderDecorations=!1;const $=this._model.getSelections();$.sort(L.compareRangesUsingStarts);const X=this._model.getMinimapDecorationsInViewport(J.startLineNumber,J.endLineNumber);X.sort((V,W)=>(V.options.zIndex||0)-(W.options.zIndex||0));const{canvasInnerWidth:Q,canvasInnerHeight:Y}=this._model.options,Z=this._model.options.minimapLineHeight,G=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,U=this._decorationsCanvas.domNode.getContext("2d");U.clearRect(0,0,Q,Y);const H=new X_(J.startLineNumber,J.endLineNumber,!1);this._renderSelectionLineHighlights(U,$,H,J,Z),this._renderDecorationsLineHighlights(U,X,H,J,Z);const z=new X_(J.startLineNumber,J.endLineNumber,null);this._renderSelectionsHighlights(U,$,z,J,Z,q,G,Q),this._renderDecorationsHighlights(U,X,z,J,Z,q,G,Q)}}_renderSelectionLineHighlights(J,$,X,Q,Y){if(!this._selectionColor||this._selectionColor.isTransparent())return;J.fillStyle=this._selectionColor.transparent(0.5).toString();let Z=0,G=0;for(let q of $){const U=Q.intersectWithViewport(q);if(!U)continue;const[H,z]=U;for(let B=H;B<=z;B++)X.set(B,!0);const V=Q.getYForLineNumber(H,Y),W=Q.getYForLineNumber(z,Y);if(G>=V)G=W;else{if(G>Z)J.fillRect(e$,Z,J.canvas.width,G-Z);Z=V,G=W}}if(G>Z)J.fillRect(e$,Z,J.canvas.width,G-Z)}_renderDecorationsLineHighlights(J,$,X,Q,Y){const Z=new Map;for(let G=$.length-1;G>=0;G--){const q=$[G],U=q.options.minimap;if(!U||U.position!==AJ.Inline)continue;const H=Q.intersectWithViewport(q.range);if(!H)continue;const[z,V]=H,W=U.getColor(this._theme.value);if(!W||W.isTransparent())continue;let B=Z.get(W.toString());if(!B)B=W.transparent(0.5).toString(),Z.set(W.toString(),B);J.fillStyle=B;for(let j=z;j<=V;j++){if(X.has(j))continue;X.set(j,!0);const K=Q.getYForLineNumber(z,Y);J.fillRect(e$,K,J.canvas.width,Y)}}}_renderSelectionsHighlights(J,$,X,Q,Y,Z,G,q){if(!this._selectionColor||this._selectionColor.isTransparent())return;for(let U of $){const H=Q.intersectWithViewport(U);if(!H)continue;const[z,V]=H;for(let W=z;W<=V;W++)this.renderDecorationOnLine(J,X,U,this._selectionColor,Q,W,Y,Y,Z,G,q)}}_renderDecorationsHighlights(J,$,X,Q,Y,Z,G,q){for(let U of $){const H=U.options.minimap;if(!H)continue;const z=Q.intersectWithViewport(U.range);if(!z)continue;const[V,W]=z,B=H.getColor(this._theme.value);if(!B||B.isTransparent())continue;for(let j=V;j<=W;j++)switch(H.position){case AJ.Inline:this.renderDecorationOnLine(J,X,U.range,B,Q,j,Y,Y,Z,G,q);continue;case AJ.Gutter:{const K=Q.getYForLineNumber(j,Y);this.renderDecoration(J,B,2,K,F60,Y);continue}}}}renderDecorationOnLine(J,$,X,Q,Y,Z,G,q,U,H,z){const V=Y.getYForLineNumber(Z,q);if(V+G<0||V>this._model.options.canvasInnerHeight)return;const{startLineNumber:W,endLineNumber:B}=X,j=W===Z?X.startColumn:1,K=B===Z?X.endColumn:this._model.getLineMaxColumn(Z),D=this.getXOffsetForPosition($,Z,j,U,H,z),A=this.getXOffsetForPosition($,Z,K,U,H,z);this.renderDecoration(J,Q,D,V,A-D,G)}getXOffsetForPosition(J,$,X,Q,Y,Z){if(X===1)return e$;if((X-1)*Y>=Z)return Z;let q=J.get($);if(!q){const U=this._model.getLineContent($);q=[e$];let H=e$;for(let z=1;z<U.length+1;z++){const V=U.charCodeAt(z-1),W=V===9?Q*Y:D5(V)?2*Y:Y,B=H+W;if(B>=Z){q[z]=Z;break}q[z]=B,H=B}J.set($,q)}if(X-1<q.length)return q[X-1];return Z}renderDecoration(J,$,X,Q,Y,Z){J.fillStyle=$&&$.toString()||"",J.fillRect(X,Q,Y,Z)}renderLines(J){const{startLineNumber:$,endLineNumber:X}=J,Q=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(J)){const c=this._lastRenderData._get();return new $_(J,c.imageData,c.lines)}const Y=this._getBuffer();if(!Y)return null;const[Z,G,q]=lK._renderUntouchedLines(Y,J.topPaddingLineCount,$,X,Q,this._lastRenderData),U=this._model.getMinimapLinesRenderingData($,X,q),H=this._model.getOptions().tabSize,z=this._model.options.defaultBackgroundColor,V=this._model.options.backgroundColor,W=this._model.options.foregroundAlpha,B=this._model.tokensColorTracker,j=B.backgroundIsLight(),K=this._model.options.renderMinimap,D=this._model.options.charRenderer(),A=this._model.options.fontScale,P=this._model.options.minimapCharWidth,M=(K===1?2:3)*A,T=Q>M?Math.floor((Q-M)/2):0,_=V.a/255,w=new p9(Math.round((V.r-z.r)*_+z.r),Math.round((V.g-z.g)*_+z.g),Math.round((V.b-z.b)*_+z.b),255);let x=J.topPaddingLineCount*Q;const C=[];for(let c=0,Q0=X-$+1;c<Q0;c++){if(q[c])lK._renderLine(Y,w,V.a,j,K,P,B,W,D,x,T,H,U[c],A,Q);C[c]=new Az(x),x+=Q}const h=Z===-1?0:Z,r=(G===-1?Y.height:G)-h;return this._canvas.domNode.getContext("2d").putImageData(Y,0,0,0,h,Y.width,r),new $_(J,Y,C)}static _renderUntouchedLines(J,$,X,Q,Y,Z){const G=[];if(!Z){for(let x=0,C=Q-X+1;x<C;x++)G[x]=!0;return[-1,-1,G]}const q=Z._get(),U=q.imageData.data,H=q.rendLineNumberStart,z=q.lines,V=z.length,W=J.width,B=J.data,j=(Q-X+1)*Y*W*4;let K=-1,D=-1,A=-1,P=-1,R=-1,M=-1,T=$*Y;for(let x=X;x<=Q;x++){const C=x-X,h=x-H,p=h>=0&&h<V?z[h].dy:-1;if(p===-1){G[C]=!0,T+=Y;continue}const r=p*W*4,m=(p+Y)*W*4,c=T*W*4,Q0=(T+Y)*W*4;if(P===r&&M===c)P=m,M=Q0;else{if(A!==-1){if(B.set(U.subarray(A,P),R),K===-1&&A===0&&A===R)K=P;if(D===-1&&P===j&&A===R)D=A}A=r,P=m,R=c,M=Q0}G[C]=!1,T+=Y}if(A!==-1){if(B.set(U.subarray(A,P),R),K===-1&&A===0&&A===R)K=P;if(D===-1&&P===j&&A===R)D=A}const _=K===-1?-1:K/(W*4),w=D===-1?-1:D/(W*4);return[_,w,G]}static _renderLine(J,$,X,Q,Y,Z,G,q,U,H,z,V,W,B,j){const{content:K,tokens:D}=W,A=J.width-Z,P=j===1;let R=e$,M=0,T=0;for(let _=0,w=D.getCount();_<w;_++){const x=D.getEndOffset(_),C=D.getForeground(_),h=G.getColor(C);for(;M<x;M++){if(R>A)return;const p=K.charCodeAt(M);if(p===9){const r=V-(M+T)%V;T+=r-1,R+=r*Z}else if(p===32)R+=Z;else{const r=D5(p)?2:1;for(let m=0;m<r;m++){if(Y===2)U.blockRenderChar(J,R,H+z,h,q,$,X,P);else U.renderChar(J,R,H+z,p,h,q,$,X,B,Q,P);if(R+=Z,R>A)return}}}}}}class X_{constructor(J,$,X){this._startLineNumber=J,this._endLineNumber=$,this._defaultValue=X,this._values=[];for(let Q=0,Y=this._endLineNumber-this._startLineNumber+1;Q<Y;Q++)this._values[Q]=X}has(J){return this.get(J)!==this._defaultValue}set(J,$){if(J<this._startLineNumber||J>this._endLineNumber)return;this._values[J-this._startLineNumber]=$}get(J){if(J<this._startLineNumber||J>this._endLineNumber)return this._defaultValue;return this._values[J-this._startLineNumber]}}var j60,F60;var Bm=N(()=>{Zm();y0();q7();rH();$0();O1();l0();pK();h6();F6();u0();oT();tT();MJ();e6();f7();h5();Wm();PJ();x2();j60=140,F60=2;Az.INVALID=new Az(-1)});var jm=N(()=>{j1();F0(".monaco-editor .overlayWidgets{position:absolute;top:0;left:0}")});class Z_ extends K8{constructor(J){super(J);const X=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=X.verticalScrollbarWidth,this._minimapWidth=X.minimap.minimapWidth,this._horizontalScrollbarHeight=X.horizontalScrollbarHeight,this._editorHeight=X.height,this._editorWidth=X.width,this._domNode=r0(document.createElement("div")),O6.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=X.verticalScrollbarWidth,this._minimapWidth=X.minimap.minimapWidth,this._horizontalScrollbarHeight=X.horizontalScrollbarHeight,this._editorHeight=X.height,this._editorWidth=X.width,!0}addWidget(J){const $=r0(J.getDomNode());this._widgets[J.getId()]={widget:J,preference:null,domNode:$},$.setPosition("absolute"),$.setAttribute("widgetId",J.getId()),this._domNode.appendChild($),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(J,$){const X=this._widgets[J.getId()];if(X.preference===$)return this._updateMaxMinWidth(),!1;return X.preference=$,this.setShouldRender(),this._updateMaxMinWidth(),!0}removeWidget(J){const $=J.getId();if(this._widgets.hasOwnProperty($)){const Q=this._widgets[$].domNode.domNode;delete this._widgets[$],Q.parentNode.removeChild(Q),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var J,$;let X=0;const Q=Object.keys(this._widgets);for(let Y=0,Z=Q.length;Y<Z;Y++){const G=Q[Y],U=($=(J=this._widgets[G].widget).getMinContentWidthInPx)===null||$===void 0?void 0:$.call(J);if(typeof U!=="undefined")X=Math.max(X,U)}this._context.viewLayout.setOverlayWidgetsMinWidth(X)}_renderWidget(J){const $=J.domNode;if(J.preference===null){$.setTop("");return}if(J.preference===0)$.setTop(0),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(J.preference===1){const X=$.domNode.clientHeight;$.setTop(this._editorHeight-X-2*this._horizontalScrollbarHeight),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(J.preference===2)$.setTop(0),$.domNode.style.right="50%"}prepareRender(J){}render(J){this._domNode.setWidth(this._editorWidth);const $=Object.keys(this._widgets);for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];this._renderWidget(this._widgets[Y])}}}var Fm=N(()=>{jm();q7();h6()});class Km{constructor(J,$){const X=J.options;this.lineHeight=X.get(66),this.pixelRatio=X.get(141),this.overviewRulerLanes=X.get(82),this.renderBorder=X.get(81);const Q=$.getColor(ag);this.borderColor=Q?Q.toString():null,this.hideCursor=X.get(59);const Y=$.getColor(OK);this.cursorColor=Y?Y.transparent(0.7).toString():null,this.themeType=$.type;const Z=X.get(72),G=Z.enabled,q=Z.side,U=$.getColor(rg),H=g1.getDefaultBackground();if(U)this.backgroundColor=U;else if(G&&q==="right")this.backgroundColor=H;else this.backgroundColor=null;const V=X.get(143).overviewRuler;if(this.top=V.top,this.right=V.right,this.domWidth=V.width,this.domHeight=V.height,this.overviewRulerLanes===0)this.canvasWidth=0,this.canvasHeight=0;else this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;const[W,B]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=W,this.w=B}_initLanes(J,$,X){const Q=$-J;if(X>=3){const Y=Math.floor(Q/3),Z=Math.floor(Q/3),G=Q-Y-Z,q=J,U=q+Y,H=q+Y+G;return[[0,q,U,q,H,q,U,q],[0,Y,G,Y+G,Z,Y+G+Z,G+Z,Y+G+Z]]}else if(X===2){const Y=Math.floor(Q/2),Z=Q-Y,G=J,q=G+Y;return[[0,G,G,G,q,G,G,G],[0,Y,Y,Y,Z,Y+Z,Y+Z,Y+Z]]}else{const Y=J,Z=Q;return[[0,Y,Y,Y,Y,Y,Y,Y],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(J){return this.lineHeight===J.lineHeight&&this.pixelRatio===J.pixelRatio&&this.overviewRulerLanes===J.overviewRulerLanes&&this.renderBorder===J.renderBorder&&this.borderColor===J.borderColor&&this.hideCursor===J.hideCursor&&this.cursorColor===J.cursorColor&&this.themeType===J.themeType&&u.equals(this.backgroundColor,J.backgroundColor)&&this.top===J.top&&this.right===J.right&&this.domWidth===J.domWidth&&this.domHeight===J.domHeight&&this.canvasWidth===J.canvasWidth&&this.canvasHeight===J.canvasHeight}}class G_ extends K8{constructor(J){super(J);this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=r0(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=g1.onDidChange(($)=>{if($.changedColorMap)this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(J){const $=new Km(this._context.configuration,this._context.theme);if(this._settings&&this._settings.equals($))return!1;if(this._settings=$,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,J)this._render();return!0}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(J){this._cursorPositions=[];for(let $=0,X=J.selections.length;$<X;$++)this._cursorPositions[$]=J.selections[$].getPosition();return this._cursorPositions.sort(b.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(J){if(J.affectsOverviewRuler)return this._markRenderingIsMaybeNeeded();return!1}onFlushed(J){return this._markRenderingIsNeeded()}onScrollChanged(J){return J.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(J){return this._markRenderingIsNeeded()}onThemeChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(J){}render(J){this._render(),this._actualShouldRender=0}_render(){const J=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(J?u.Format.CSS.formatHexA(J):""),this._domNode.setDisplay("none");return}const $=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if($.sort(qG.compareByRenderingProps),this._actualShouldRender===1&&!qG.equalsArr(this._renderedDecorations,$))this._actualShouldRender=2;if(this._actualShouldRender===1&&!$8(this._renderedCursorPositions,this._cursorPositions,(B,j)=>B.lineNumber===j.lineNumber))this._actualShouldRender=2;if(this._actualShouldRender===1)return;this._renderedDecorations=$,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const X=this._settings.canvasWidth,Q=this._settings.canvasHeight,Y=this._settings.lineHeight,Z=this._context.viewLayout,G=this._context.viewLayout.getScrollHeight(),q=Q/G,U=6*this._settings.pixelRatio|0,H=U/2|0,z=this._domNode.domNode.getContext("2d");if(J)if(J.isOpaque())z.fillStyle=u.Format.CSS.formatHexA(J),z.fillRect(0,0,X,Q);else z.clearRect(0,0,X,Q),z.fillStyle=u.Format.CSS.formatHexA(J),z.fillRect(0,0,X,Q);else z.clearRect(0,0,X,Q);const V=this._settings.x,W=this._settings.w;for(let B of $){const{color:j,data:K}=B;z.fillStyle=j;let D=0,A=0,P=0;for(let R=0,M=K.length/3;R<M;R++){const T=K[3*R],_=K[3*R+1],w=K[3*R+2];let x=Z.getVerticalOffsetForLineNumber(_)*q|0,C=(Z.getVerticalOffsetForLineNumber(w)+Y)*q|0;if(C-x<U){let p=(x+C)/2|0;if(p<H)p=H;else if(p+H>Q)p=Q-H;x=p-H,C=p+H}if(x>P+1||T!==D){if(R!==0)z.fillRect(V[D],A,W[D],P-A);D=T,A=x,P=C}else if(C>P)P=C}z.fillRect(V[D],A,W[D],P-A)}if(!this._settings.hideCursor&&this._settings.cursorColor){const B=2*this._settings.pixelRatio|0,j=B/2|0,K=this._settings.x[7],D=this._settings.w[7];z.fillStyle=this._settings.cursorColor;let A=-100,P=-100;for(let R=0,M=this._cursorPositions.length;R<M;R++){const T=this._cursorPositions[R];let _=Z.getVerticalOffsetForLineNumber(T.lineNumber)*q|0;if(_<j)_=j;else if(_+j>Q)_=Q-j;const w=_-j,x=w+B;if(w>P+1){if(R!==0)z.fillRect(K,A,D,P-A);A=w,P=x}else if(x>P)P=x}z.fillRect(K,A,D,P-A)}if(this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0)z.beginPath(),z.lineWidth=1,z.strokeStyle=this._settings.borderColor,z.moveTo(0,0),z.lineTo(0,Q),z.stroke(),z.moveTo(0,0),z.lineTo(X,0),z.stroke()}}var Am=N(()=>{q7();S9();h6();W1();P6();A4();MJ();V1()});class q_{constructor(J,$,X){this._colorZoneBrand=void 0,this.from=J|0,this.to=$|0,this.colorId=X|0}static compare(J,$){if(J.colorId===$.colorId){if(J.from===$.from)return J.to-$.to;return J.from-$.from}return J.colorId-$.colorId}}class dK{constructor(J,$,X,Q){this._overviewRulerZoneBrand=void 0,this.startLineNumber=J,this.endLineNumber=$,this.heightInLines=X,this.color=Q,this._colorZone=null}static compare(J,$){if(J.color===$.color){if(J.startLineNumber===$.startLineNumber){if(J.heightInLines===$.heightInLines)return J.endLineNumber-$.endLineNumber;return J.heightInLines-$.heightInLines}return J.startLineNumber-$.startLineNumber}return J.color<$.color?-1:1}setColorZone(J){this._colorZone=J}getColorZones(){return this._colorZone}}class U_{constructor(J){this._getVerticalOffsetForLine=J,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(J){this._zones=J,this._zones.sort(dK.compare)}setLineHeight(J){if(this._lineHeight===J)return!1;return this._lineHeight=J,this._colorZonesInvalid=!0,!0}setPixelRatio(J){this._pixelRatio=J,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(J){if(this._domWidth===J)return!1;return this._domWidth=J,this._colorZonesInvalid=!0,!0}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(J){if(this._domHeight===J)return!1;return this._domHeight=J,this._colorZonesInvalid=!0,!0}getOuterHeight(){return this._outerHeight}setOuterHeight(J){if(this._outerHeight===J)return!1;return this._outerHeight=J,this._colorZonesInvalid=!0,!0}resolveColorZones(){const J=this._colorZonesInvalid,$=Math.floor(this._lineHeight),X=Math.floor(this.getCanvasHeight()),Q=Math.floor(this._outerHeight),Y=X/Q,Z=Math.floor(4*this._pixelRatio/2),G=[];for(let q=0,U=this._zones.length;q<U;q++){const H=this._zones[q];if(!J){const R=H.getColorZones();if(R){G.push(R);continue}}const z=this._getVerticalOffsetForLine(H.startLineNumber),V=H.heightInLines===0?this._getVerticalOffsetForLine(H.endLineNumber)+$:z+H.heightInLines*$,W=Math.floor(Y*z),B=Math.floor(Y*V);let j=Math.floor((W+B)/2),K=B-j;if(K<Z)K=Z;if(j-K<0)j=K;if(j+K>X)j=X-K;const D=H.color;let A=this._color2Id[D];if(!A)A=++this._lastAssignedId,this._color2Id[D]=A,this._id2Color[A]=D;const P=new q_(j-K,j+K,A);H.setColorZone(P),G.push(P)}return this._colorZonesInvalid=!1,G.sort(q_.compare),G}}var H_=N(()=>{});class z_ extends F4{constructor(J,$){super();this._context=J;const X=this._context.configuration.options;this._domNode=r0(document.createElement("canvas")),this._domNode.setClassName($),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new U_((Q)=>this._context.viewLayout.getVerticalOffsetForLineNumber(Q)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(X.get(66)),this._zoneManager.setPixelRatio(X.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;if(J.hasChanged(66))this._zoneManager.setLineHeight($.get(66)),this._render();if(J.hasChanged(141))this._zoneManager.setPixelRatio($.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render();return!0}onFlushed(J){return this._render(),!0}onScrollChanged(J){if(J.scrollHeightChanged)this._zoneManager.setOuterHeight(J.scrollHeight),this._render();return!0}onZonesChanged(J){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(J){this._domNode.setTop(J.top),this._domNode.setRight(J.right);let $=!1;if($=this._zoneManager.setDOMWidth(J.width)||$,$=this._zoneManager.setDOMHeight(J.height)||$,$)this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()}setZones(J){this._zoneManager.setZones(J),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const J=this._zoneManager.getCanvasWidth(),$=this._zoneManager.getCanvasHeight(),X=this._zoneManager.resolveColorZones(),Q=this._zoneManager.getId2Color(),Y=this._domNode.domNode.getContext("2d");if(Y.clearRect(0,0,J,$),X.length>0)this._renderOneLane(Y,X,Q,J);return!0}_renderOneLane(J,$,X,Q){let Y=0,Z=0,G=0;for(let q of $){const{colorId:U,from:H,to:z}=q;if(U!==Y)J.fillRect(0,Z,Q,G-Z),Y=U,J.fillStyle=X[Y],Z=H,G=z;else if(G>=H)G=Math.max(G,z);else J.fillRect(0,Z,Q,G-Z),Z=H,G=z}J.fillRect(0,Z,Q,G-Z)}}var Pm=N(()=>{q7();H_();bq()});var Dm=N(()=>{j1();F0(".monaco-editor .view-ruler{box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground)inset;position:absolute;top:0}")});class V_ extends K8{constructor(J){super(J);this.domNode=r0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const $=this._context.configuration.options;this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(J){return J.scrollHeightChanged}prepareRender(J){}_ensureRulersCount(){const J=this._renderedRulers.length,$=this._rulers.length;if(J===$)return;if(J<$){const{tabSize:Q}=this._context.viewModel.model.getOptions(),Y=Q;let Z=$-J;while(Z>0){const G=r0(document.createElement("div"));G.setClassName("view-ruler"),G.setWidth(Y),this.domNode.appendChild(G),this._renderedRulers.push(G),Z--}return}let X=J-$;while(X>0){const Q=this._renderedRulers.pop();this.domNode.removeChild(Q),X--}}render(J){this._ensureRulersCount();for(let $=0,X=this._rulers.length;$<X;$++){const Q=this._renderedRulers[$],Y=this._rulers[$];Q.setBoxShadow(Y.color?`1px 0 0 0 ${Y.color} inset`:""),Q.setHeight(Math.min(J.scrollHeight,1e6)),Q.setLeft(Y.column*this._typicalHalfwidthCharacterWidth)}}}var Rm=N(()=>{Dm();q7();h6()});var Mm=N(()=>{j1();F0(".monaco-editor .scroll-decoration{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;height:6px;position:absolute;top:0;left:0}")});class W_ extends K8{constructor(J){super(J);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const X=this._context.configuration.options.get(102);this._useShadows=X.useShadows,this._domNode=r0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const J=this._useShadows&&this._scrollTop>0;if(this._shouldShow!==J)return this._shouldShow=J,!0;return!1}getDomNode(){return this._domNode}_updateWidth(){const $=this._context.configuration.options.get(143);if($.minimap.renderMinimap===0||$.minimap.minimapWidth>0&&$.minimap.minimapLeft===0)this._width=$.width;else this._width=$.width-$.verticalScrollbarWidth}onConfigurationChanged(J){const X=this._context.configuration.options.get(102);return this._useShadows=X.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(J){return this._scrollTop=J.scrollTop,this._updateShouldShow()}prepareRender(J){}render(J){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}var Om=N(()=>{Mm();q7();h6()});var Nm=N(()=>{j1();F0(".monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .focused .selected-text{background-color:var(--vscode-editor-selectionBackground)}.monaco-editor .selected-text{background-color:var(--vscode-editor-inactiveSelectionBackground)}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor.hc-light .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-light .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-light .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-light .bottom-right-radius{border-bottom-right-radius:0}")});class Tm{constructor(J){this.left=J.left,this.width=J.width,this.startStyle=null,this.endStyle=null}}class _m{constructor(J,$){this.lineNumber=J,this.ranges=$}}class S8 extends g9{constructor(J){super();this._previousFrameVisibleRangesWithStyle=[],this._context=J;const $=this._context.configuration.options;this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(J){return this._selections=J.selections.slice(0),!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_visibleRangesHaveGaps(J){for(let $=0,X=J.length;$<X;$++)if(J[$].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(J,$,X){const Q=this._typicalHalfwidthCharacterWidth/4;let Y=null,Z=null;if(X&&X.length>0&&$.length>0){const G=$[0].lineNumber;if(G===J.startLineNumber){for(let U=0;!Y&&U<X.length;U++)if(X[U].lineNumber===G)Y=X[U].ranges[0]}const q=$[$.length-1].lineNumber;if(q===J.endLineNumber){for(let U=X.length-1;!Z&&U>=0;U--)if(X[U].lineNumber===q)Z=X[U].ranges[0]}if(Y&&!Y.startStyle)Y=null;if(Z&&!Z.startStyle)Z=null}for(let G=0,q=$.length;G<q;G++){const U=$[G].ranges[0],H=U.left,z=U.left+U.width,V={top:0,bottom:0},W={top:0,bottom:0};if(G>0){const B=$[G-1].ranges[0].left,j=$[G-1].ranges[0].left+$[G-1].ranges[0].width;if(sK(H-B)<Q)V.top=2;else if(H>B)V.top=1;if(sK(z-j)<Q)W.top=2;else if(B<z&&z<j)W.top=1}else if(Y)V.top=Y.startStyle.top,W.top=Y.endStyle.top;if(G+1<q){const B=$[G+1].ranges[0].left,j=$[G+1].ranges[0].left+$[G+1].ranges[0].width;if(sK(H-B)<Q)V.bottom=2;else if(B<H&&H<j)V.bottom=1;if(sK(z-j)<Q)W.bottom=2;else if(z<j)W.bottom=1}else if(Z)V.bottom=Z.startStyle.bottom,W.bottom=Z.endStyle.bottom;U.startStyle=V,U.endStyle=W}}_getVisibleRangesWithStyle(J,$,X){const Y=($.linesVisibleRangesForRange(J,!0)||[]).map(A60);if(!this._visibleRangesHaveGaps(Y)&&this._roundedSelection)this._enrichVisibleRangesWithStyle($.visibleRange,Y,X);return Y}_createSelectionPiece(J,$,X,Q,Y){return'<div class="cslr '+X+'" style="top:'+J.toString()+"px;left:"+Q.toString()+"px;width:"+Y.toString()+"px;height:"+$+'px;"></div>'}_actualRenderOneSelection(J,$,X,Q){if(Q.length===0)return;const Y=!!Q[0].ranges[0].startStyle,Z=this._lineHeight.toString(),G=(this._lineHeight-1).toString(),q=Q[0].lineNumber,U=Q[Q.length-1].lineNumber;for(let H=0,z=Q.length;H<z;H++){const V=Q[H],W=V.lineNumber,B=W-$,j=X?W===U||W===q?G:Z:Z,K=X?W===q?1:0:0;let D="",A="";for(let P=0,R=V.ranges.length;P<R;P++){const M=V.ranges[P];if(Y){const{startStyle:_,endStyle:w}=M;if(_.top===1||_.bottom===1){D+=this._createSelectionPiece(K,j,S8.SELECTION_CLASS_NAME,M.left-S8.ROUNDED_PIECE_WIDTH,S8.ROUNDED_PIECE_WIDTH);let x=S8.EDITOR_BACKGROUND_CLASS_NAME;if(_.top===1)x+=" "+S8.SELECTION_TOP_RIGHT;if(_.bottom===1)x+=" "+S8.SELECTION_BOTTOM_RIGHT;D+=this._createSelectionPiece(K,j,x,M.left-S8.ROUNDED_PIECE_WIDTH,S8.ROUNDED_PIECE_WIDTH)}if(w.top===1||w.bottom===1){D+=this._createSelectionPiece(K,j,S8.SELECTION_CLASS_NAME,M.left+M.width,S8.ROUNDED_PIECE_WIDTH);let x=S8.EDITOR_BACKGROUND_CLASS_NAME;if(w.top===1)x+=" "+S8.SELECTION_TOP_LEFT;if(w.bottom===1)x+=" "+S8.SELECTION_BOTTOM_LEFT;D+=this._createSelectionPiece(K,j,x,M.left+M.width,S8.ROUNDED_PIECE_WIDTH)}}let T=S8.SELECTION_CLASS_NAME;if(Y){const{startStyle:_,endStyle:w}=M;if(_.top===0)T+=" "+S8.SELECTION_TOP_LEFT;if(_.bottom===0)T+=" "+S8.SELECTION_BOTTOM_LEFT;if(w.top===0)T+=" "+S8.SELECTION_TOP_RIGHT;if(w.bottom===0)T+=" "+S8.SELECTION_BOTTOM_RIGHT}A+=this._createSelectionPiece(K,j,T,M.left,M.width)}J[B][0]+=D,J[B][1]+=A}}prepareRender(J){const $=[],X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;for(let Z=X;Z<=Q;Z++){const G=Z-X;$[G]=["",""]}const Y=[];for(let Z=0,G=this._selections.length;Z<G;Z++){const q=this._selections[Z];if(q.isEmpty()){Y[Z]=null;continue}const U=this._getVisibleRangesWithStyle(q,J,this._previousFrameVisibleRangesWithStyle[Z]);Y[Z]=U,this._actualRenderOneSelection($,X,this._selections.length>1,U)}this._previousFrameVisibleRangesWithStyle=Y,this._renderResult=$.map(([Z,G])=>Z+G)}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var K60,A60,sK;var wm=N(()=>{Nm();VY();e6();X7();K60=function(J){return new Tm(J)},A60=function(J){return new _m(J.lineNumber,J.ranges.map(K60))},sK=function(J){return J<0?-J:J};S8.SELECTION_CLASS_NAME="selected-text";S8.SELECTION_TOP_LEFT="top-left-radius";S8.SELECTION_BOTTOM_LEFT="bottom-left-radius";S8.SELECTION_TOP_RIGHT="top-right-radius";S8.SELECTION_BOTTOM_RIGHT="bottom-right-radius";S8.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";S8.ROUNDED_PIECE_WIDTH=10;V9((J,$)=>{const X=J.getColor(Vh);if(X&&!X.isTransparent())$.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${X}; }`)})});var Lm=N(()=>{j1();F0(".monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{box-sizing:border-box;position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{border-style:solid;border-width:1px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-style:solid;border-bottom-width:2px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-style:solid;border-bottom-width:1px;background:0 0!important}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:.5s ease-in-out 20 alternate monaco-cursor-smooth}.cursor-phase{animation:.5s ease-in-out 20 alternate monaco-cursor-phase}.cursor-expand>.cursor{animation:.5s ease-in-out 20 alternate monaco-cursor-expand}")});class B_{constructor(J,$,X,Q,Y,Z,G){this.top=J,this.left=$,this.paddingLeft=X,this.width=Q,this.height=Y,this.textContent=Z,this.textContentClassName=G}}class aK{constructor(J){this._context=J;const $=this._context.configuration.options,X=$.get(50);this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=r0(document.createElement("div")),this._domNode.setClassName(`cursor ${mX}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),O8(this._domNode,X),this._domNode.setDisplay("none"),this._position=new b(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){if(!this._isVisible)this._domNode.setVisibility("inherit"),this._isVisible=!0}hide(){if(this._isVisible)this._domNode.setVisibility("hidden"),this._isVisible=!1}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(50);return this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),O8(this._domNode,X),!0}onCursorPositionChanged(J,$){if($)this._domNode.domNode.style.transitionProperty="none";else this._domNode.domNode.style.transitionProperty="";return this._position=J,!0}_getGraphemeAwarePosition(){const{lineNumber:J,column:$}=this._position,X=this._context.viewModel.getLineContent(J),[Q,Y]=tC(X,$-1);return[new b(J,Q+1),X.substring(Q,Y)]}_prepareRender(J){let $="",X="";const[Q,Y]=this._getGraphemeAwarePosition();if(this._cursorStyle===j7.Line||this._cursorStyle===j7.LineThin){const V=J.visibleRangeForPosition(Q);if(!V||V.outsideRenderedLine)return null;let W;if(this._cursorStyle===j7.Line){if(W=sM(this._lineCursorWidth>0?this._lineCursorWidth:2),W>2)$=Y,X=this._getTokenClassName(Q)}else W=sM(1);let B=V.left,j=0;if(W>=2&&B>=1)j=1,B-=j;const K=J.getVerticalOffsetForLineNumber(Q.lineNumber)-J.bigNumbersDelta;return new B_(K,B,j,W,this._lineHeight,$,X)}const Z=J.linesVisibleRangesForRange(new L(Q.lineNumber,Q.column,Q.lineNumber,Q.column+Y.length),!1);if(!Z||Z.length===0)return null;const G=Z[0];if(G.outsideRenderedLine||G.ranges.length===0)return null;const q=G.ranges[0],U=Y==="\t"?this._typicalHalfwidthCharacterWidth:q.width<1?this._typicalHalfwidthCharacterWidth:q.width;if(this._cursorStyle===j7.Block)$=Y,X=this._getTokenClassName(Q);let H=J.getVerticalOffsetForLineNumber(Q.lineNumber)-J.bigNumbersDelta,z=this._lineHeight;if(this._cursorStyle===j7.Underline||this._cursorStyle===j7.UnderlineThin)H+=this._lineHeight-2,z=2;return new B_(H,q.left,0,U,z,$,X)}_getTokenClassName(J){const $=this._context.viewModel.getViewLineData(J.lineNumber),X=$.tokens.findTokenIndexAtOffset(J.column-1);return $.tokens.getClassName(X)}prepareRender(J){this._renderData=this._prepareRender(J)}render(J){if(!this._renderData)return this._domNode.setDisplay("none"),null;if(this._lastRenderedContent!==this._renderData.textContent)this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent;return this._domNode.setClassName(`cursor ${mX} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}}}var Im=N(()=>{y0();q7();l0();YJ();F6();W1();u0();kK()});class tq extends K8{constructor(J){super(J);const $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new aK(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=r0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new M6,this._cursorFlatBlinkInterval=new Y$,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(J){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(J){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(J){const $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(J);for(let X=0,Q=this._secondaryCursors.length;X<Q;X++)this._secondaryCursors[X].onConfigurationChanged(J);return!0}_onCursorPositionChanged(J,$,X){const Q=this._secondaryCursors.length!==$.length||this._cursorSmoothCaretAnimation==="explicit"&&X!==3;if(this._primaryCursor.onCursorPositionChanged(J,Q),this._updateBlinking(),this._secondaryCursors.length<$.length){const Y=$.length-this._secondaryCursors.length;for(let Z=0;Z<Y;Z++){const G=new aK(this._context);this._domNode.domNode.insertBefore(G.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(G)}}else if(this._secondaryCursors.length>$.length){const Y=this._secondaryCursors.length-$.length;for(let Z=0;Z<Y;Z++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Y=0;Y<$.length;Y++)this._secondaryCursors[Y].onCursorPositionChanged($[Y],Q)}onCursorStateChanged(J){const $=[];for(let Q=0,Y=J.selections.length;Q<Y;Q++)$[Q]=J.selections[Q].getPosition();this._onCursorPositionChanged($[0],$.slice(1),J.reason);const X=J.selections[0].isEmpty();if(this._selectionIsEmpty!==X)this._selectionIsEmpty=X,this._updateDomClassName();return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onFocusChanged(J){return this._editorHasFocus=J.isFocused,this._updateBlinking(),!1}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return!0}onTokensChanged(J){const $=(X)=>{for(let Q=0,Y=J.ranges.length;Q<Y;Q++)if(J.ranges[Q].fromLineNumber<=X.lineNumber&&X.lineNumber<=J.ranges[Q].toLineNumber)return!0;return!1};if($(this._primaryCursor.getPosition()))return!0;for(let X of this._secondaryCursors)if($(X.getPosition()))return!0;return!1}onZonesChanged(J){return!0}_getCursorBlinking(){if(this._isComposingInput)return 0;if(!this._editorHasFocus)return 0;if(this._readOnly)return 5;return this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const J=this._getCursorBlinking(),$=J===0,X=J===5;if($)this._hide();else this._show();if(this._blinkingEnabled=!1,this._updateDomClassName(),!$&&!X)if(J===1)this._cursorFlatBlinkInterval.cancelAndSet(()=>{if(this._isVisible)this._hide();else this._show()},tq.BLINK_INTERVAL);else this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},tq.BLINK_INTERVAL)}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let J="cursors-layer";if(!this._selectionIsEmpty)J+=" has-selection";switch(this._cursorStyle){case j7.Line:J+=" cursor-line-style";break;case j7.Block:J+=" cursor-block-style";break;case j7.Underline:J+=" cursor-underline-style";break;case j7.LineThin:J+=" cursor-line-thin-style";break;case j7.BlockOutline:J+=" cursor-block-outline-style";break;case j7.UnderlineThin:J+=" cursor-underline-thin-style";break;default:J+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:J+=" cursor-blink";break;case 2:J+=" cursor-smooth";break;case 3:J+=" cursor-phase";break;case 4:J+=" cursor-expand";break;case 5:J+=" cursor-solid";break;default:J+=" cursor-solid"}else J+=" cursor-solid";if(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")J+=" cursor-smooth-caret-animation";return J}_show(){this._primaryCursor.show();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].hide();this._isVisible=!1}prepareRender(J){this._primaryCursor.prepareRender(J);for(let $=0,X=this._secondaryCursors.length;$<X;$++)this._secondaryCursors[$].prepareRender(J)}render(J){const $=[];let X=0;const Q=this._primaryCursor.render(J);if(Q)$[X++]=Q;for(let Y=0,Z=this._secondaryCursors.length;Y<Z;Y++){const G=this._secondaryCursors[Y].render(J);if(G)$[X++]=G}this._renderData=$}getLastRenderData(){return this._renderData}}var km=N(()=>{Lm();q7();f1();h6();Im();F6();A4();X7();xX();tq.BLINK_INTERVAL=500;V9((J,$)=>{const X=J.getColor(OK);if(X){let Q=J.getColor(xg);if(!Q)Q=X.opposite();if($.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${X}; border-color: ${X}; color: ${Q}; }`),NJ(J.type))$.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${Q}; border-right: 1px solid ${Q}; }`)}})});class F_ extends K8{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._lineHeight=$.get(66),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,this.domNode=r0(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=r0(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const J=this._context.viewLayout.getWhitespaces(),$=new Map;for(let Q of J)$.set(Q.id,Q);let X=!1;return this._context.viewModel.changeWhitespace((Q)=>{const Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z],U=this._zones[q],H=this._computeWhitespaceProps(U.delegate);U.isInHiddenArea=H.isInHiddenArea;const z=$.get(q);if(z&&(z.afterLineNumber!==H.afterViewLineNumber||z.height!==H.heightInPx))Q.changeOneWhitespace(q,H.afterViewLineNumber,H.heightInPx),this._safeCallOnComputedHeight(U.delegate,H.heightInPx),X=!0}}),X}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);if(this._lineHeight=$.get(66),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,J.hasChanged(66))this._recomputeWhitespacesProps();return!0}onLineMappingChanged(J){return this._recomputeWhitespacesProps()}onLinesDeleted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}onLinesInserted(J){return!0}_getZoneOrdinal(J){var $,X;return(X=($=J.ordinal)!==null&&$!==void 0?$:J.afterColumn)!==null&&X!==void 0?X:1e4}_computeWhitespaceProps(J){if(J.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(J),minWidthInPx:this._minWidthInPixels(J)};let $;if(typeof J.afterColumn!=="undefined")$=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:J.afterColumn});else{const Z=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:1}).lineNumber;$=new b(Z,this._context.viewModel.model.getLineMaxColumn(Z))}let X;if($.column===this._context.viewModel.model.getLineMaxColumn($.lineNumber))X=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber+1,column:1});else X=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber,column:$.column+1});const Q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($,J.afterColumnAffinity,!0),Y=J.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(X);return{isInHiddenArea:!Y,afterViewLineNumber:Q.lineNumber,heightInPx:Y?this._heightInPixels(J):0,minWidthInPx:this._minWidthInPixels(J)}}changeViewZones(J){let $=!1;return this._context.viewModel.changeWhitespace((X)=>{const Q={addZone:(Y)=>{return $=!0,this._addZone(X,Y)},removeZone:(Y)=>{if(!Y)return;$=this._removeZone(X,Y)||$},layoutZone:(Y)=>{if(!Y)return;$=this._layoutZone(X,Y)||$}};P60(J,Q),Q.addZone=j_,Q.removeZone=j_,Q.layoutZone=j_}),$}_addZone(J,$){const X=this._computeWhitespaceProps($),Y={whitespaceId:J.insertWhitespace(X.afterViewLineNumber,this._getZoneOrdinal($),X.heightInPx,X.minWidthInPx),delegate:$,isInHiddenArea:X.isInHiddenArea,isVisible:!1,domNode:r0($.domNode),marginDomNode:$.marginDomNode?r0($.marginDomNode):null};if(this._safeCallOnComputedHeight(Y.delegate,X.heightInPx),Y.domNode.setPosition("absolute"),Y.domNode.domNode.style.width="100%",Y.domNode.setDisplay("none"),Y.domNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.domNode.appendChild(Y.domNode),Y.marginDomNode)Y.marginDomNode.setPosition("absolute"),Y.marginDomNode.domNode.style.width="100%",Y.marginDomNode.setDisplay("none"),Y.marginDomNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.marginDomNode.appendChild(Y.marginDomNode);return this._zones[Y.whitespaceId]=Y,this.setShouldRender(),Y.whitespaceId}_removeZone(J,$){if(this._zones.hasOwnProperty($)){const X=this._zones[$];if(delete this._zones[$],J.removeWhitespace(X.whitespaceId),X.domNode.removeAttribute("monaco-visible-view-zone"),X.domNode.removeAttribute("monaco-view-zone"),X.domNode.domNode.parentNode.removeChild(X.domNode.domNode),X.marginDomNode)X.marginDomNode.removeAttribute("monaco-visible-view-zone"),X.marginDomNode.removeAttribute("monaco-view-zone"),X.marginDomNode.domNode.parentNode.removeChild(X.marginDomNode.domNode);return this.setShouldRender(),!0}return!1}_layoutZone(J,$){if(this._zones.hasOwnProperty($)){const X=this._zones[$],Q=this._computeWhitespaceProps(X.delegate);return X.isInHiddenArea=Q.isInHiddenArea,J.changeOneWhitespace(X.whitespaceId,Q.afterViewLineNumber,Q.heightInPx),this._safeCallOnComputedHeight(X.delegate,Q.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(J){if(this._zones.hasOwnProperty(J)){const $=this._zones[J];return Boolean($.delegate.suppressMouseDown)}return!1}_heightInPixels(J){if(typeof J.heightInPx==="number")return J.heightInPx;if(typeof J.heightInLines==="number")return this._lineHeight*J.heightInLines;return this._lineHeight}_minWidthInPixels(J){if(typeof J.minWidthInPx==="number")return J.minWidthInPx;return 0}_safeCallOnComputedHeight(J,$){if(typeof J.onComputedHeight==="function")try{J.onComputedHeight($)}catch(X){a0(X)}}_safeCallOnDomNodeTop(J,$){if(typeof J.onDomNodeTop==="function")try{J.onDomNodeTop($)}catch(X){a0(X)}}prepareRender(J){}render(J){const $=J.viewportData.whitespaceViewportData,X={};let Q=!1;for(let Z of $){if(this._zones[Z.id].isInHiddenArea)continue;X[Z.id]=Z,Q=!0}const Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z],U=this._zones[q];let H=0,z=0,V="none";if(X.hasOwnProperty(q)){if(H=X[q].verticalOffset-J.bigNumbersDelta,z=X[q].height,V="block",!U.isVisible)U.domNode.setAttribute("monaco-visible-view-zone","true"),U.isVisible=!0;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(X[q].verticalOffset))}else{if(U.isVisible)U.domNode.removeAttribute("monaco-visible-view-zone"),U.isVisible=!1;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(-1e6))}if(U.domNode.setTop(H),U.domNode.setHeight(z),U.domNode.setDisplay(V),U.marginDomNode)U.marginDomNode.setTop(H),U.marginDomNode.setHeight(z),U.marginDomNode.setDisplay(V)}if(Q)this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft)}}var P60,j_;var Em=N(()=>{q7();A1();h6();W1();P60=function(J,$){try{return J($)}catch(X){a0(X)}},j_=()=>{throw new Error("Invalid change accessor")}});class K_{get type(){return this._theme.type}get value(){return this._theme}constructor(J){this._theme=J}update(J){this._theme=J}getColor(J){return this._theme.getColor(J)}}var ym=N(()=>{});class A_{constructor(J,$,X){this.configuration=J,this.theme=new K_($),this.viewModel=X,this.viewLayout=X.viewLayout}addEventHandler(J){this.viewModel.addViewEventHandler(J)}removeEventHandler(J){this.viewModel.removeViewEventHandler(J)}}var Sm=N(()=>{ym()});class P_{constructor(J,$,X,Q){this.selections=J,this.startLineNumber=$.startLineNumber|0,this.endLineNumber=$.endLineNumber|0,this.relativeVerticalOffset=$.relativeVerticalOffset,this.bigNumbersDelta=$.bigNumbersDelta|0,this.whitespaceViewportData=X,this._model=Q,this.visibleRange=new L($.startLineNumber,this._model.getLineMinColumn($.startLineNumber),$.endLineNumber,this._model.getLineMaxColumn($.endLineNumber))}getViewLineRenderingData(J){return this._model.getViewportViewLineRenderingData(this.visibleRange,J)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var Cm=N(()=>{u0()});var xm=N(()=>{j1();F0(".monaco-editor .blockDecorations-container{pointer-events:none;position:absolute;top:0}.monaco-editor .blockDecorations-block{box-sizing:border-box;position:absolute}")});class D_ extends K8{constructor(J){super(J);this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=r0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let J=!1;const X=this._context.configuration.options.get(143),Q=X.contentWidth-X.verticalScrollbarWidth;if(this.contentWidth!==Q)this.contentWidth=Q,J=!0;const Y=X.contentLeft;if(this.contentLeft!==Y)this.contentLeft=Y,J=!0;return J}dispose(){super.dispose()}onConfigurationChanged(J){return this.update()}onScrollChanged(J){return J.scrollTopChanged||J.scrollLeftChanged}onDecorationsChanged(J){return!0}onZonesChanged(J){return!0}prepareRender(J){}render(J){var $;let X=0;const Q=J.getDecorationsInViewport();for(let Y of Q){if(!Y.options.blockClassName)continue;let Z=this.blocks[X];if(!Z)Z=this.blocks[X]=r0(document.createElement("div")),this.domNode.appendChild(Z);let G,q;if(Y.options.blockIsAfterEnd)G=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!1),q=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);else G=J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!0),q=Y.range.isEmpty()&&!Y.options.blockDoesNotCollapse?J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!1):J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);const[U,H,z,V]=($=Y.options.blockPadding)!==null&&$!==void 0?$:[0,0,0,0];Z.setClassName("blockDecorations-block "+Y.options.blockClassName),Z.setLeft(this.contentLeft-V),Z.setWidth(this.contentWidth+V+H),Z.setTop(G-J.scrollTop-U),Z.setHeight(q-G+U+z),X++}for(let Y=X;Y<this.blocks.length;Y++)this.blocks[Y].domNode.remove();this.blocks.length=X}}var bm=N(()=>{q7();xm();h6()});var vm=N(()=>{j1();F0(".monaco-editor .mwh{position:absolute;color:var(--vscode-editorWhitespace-foreground)!important}")});class M_ extends g9{constructor(J){super();this._context=J,this._options=new R_(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=new R_(this._context.configuration);if(this._options.equals($))return J.hasChanged(143);return this._options=$,!0}onCursorStateChanged(J){if(this._selection=J.selections,this._options.renderWhitespace==="selection")return!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}prepareRender(J){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber-$+1,Y=new Array(Q);for(let G=0;G<Q;G++)Y[G]=!0;const Z=this._context.viewModel.getMinimapLinesRenderingData(J.viewportData.startLineNumber,J.viewportData.endLineNumber,Y);this._renderResult=[];for(let G=J.viewportData.startLineNumber;G<=J.viewportData.endLineNumber;G++){const q=G-J.viewportData.startLineNumber,U=Z.data[q];let H=null;if(this._options.renderWhitespace==="selection"){const z=this._selection;for(let V of z){if(V.endLineNumber<G||V.startLineNumber>G)continue;const W=V.startLineNumber===G?V.startColumn:U.minColumn,B=V.endLineNumber===G?V.endColumn:U.maxColumn;if(W<B){if(!H)H=[];H.push(new pH(W-1,B-1))}}}this._renderResult[q]=this._applyRenderWhitespace(J,G,H,U)}}_applyRenderWhitespace(J,$,X,Q){if(this._options.renderWhitespace==="selection"&&!X)return"";if(this._options.renderWhitespace==="trailing"&&Q.continuesWithWrappedLine)return"";const Y=this._context.theme.getColor(M$),Z=this._options.renderWithSVG,G=Q.content,q=this._options.stopRenderingLineAfter===-1?G.length:Math.min(this._options.stopRenderingLineAfter,G.length),U=Q.continuesWithWrappedLine,H=Q.minColumn-1,z=this._options.renderWhitespace==="boundary",V=this._options.renderWhitespace==="trailing",W=this._options.lineHeight,B=this._options.middotWidth,j=this._options.wsmiddotWidth,K=this._options.spaceWidth,D=Math.abs(j-K),A=Math.abs(B-K),P=D<A?11825:183,R=this._options.canUseHalfwidthRightwardsArrow;let M="",T=!1,_=k8(G),w;if(_===-1)T=!0,_=q,w=q;else w=o9(G);let x=0,C=X&&X[x],h=0;for(let p=H;p<q;p++){const r=G.charCodeAt(p);if(C&&p>=C.endOffset)x++,C=X&&X[x];if(r!==9&&r!==32)continue;if(V&&!T&&p<=w)continue;if(z&&p>=_&&p<=w&&r===32){const c=p-1>=0?G.charCodeAt(p-1):0,Q0=p+1<q?G.charCodeAt(p+1):0;if(c!==32&&Q0!==32)continue}if(z&&U&&p===q-1){const c=p-1>=0?G.charCodeAt(p-1):0;if(r===32&&(c!==32&&c!==9))continue}if(X&&(!C||C.startOffset>p||C.endOffset<=p))continue;const m=J.visibleRangeForPosition(new b($,p+1));if(!m)continue;if(Z)if(h=Math.max(h,m.left),r===9)M+=this._renderArrow(W,K,m.left);else M+=`<circle cx="${(m.left+K/2).toFixed(2)}" cy="${(W/2).toFixed(2)}" r="${(K/7).toFixed(2)}" />`;else if(r===9)M+=`<div class="mwh" style="left:${m.left}px;height:${W}px;">${R?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`;else M+=`<div class="mwh" style="left:${m.left}px;height:${W}px;">${String.fromCharCode(P)}</div>`}if(Z)return h=Math.round(h+K),`<svg style="position:absolute;width:${h}px;height:${W}px" viewBox="0 0 ${h} ${W}" xmlns="http://www.w3.org/2000/svg" fill="${Y}">`+M+"</svg>";return M}_renderArrow(J,$,X){const Q=$/7,Y=$,Z=J/2,G=X,q={x:0,y:Q/2},U={x:0.8*Y,y:q.y},H={x:U.x-0.2*U.x,y:U.y+0.2*U.x},z={x:H.x+0.1*U.x,y:H.y+0.1*U.x},V={x:z.x+0.35*U.x,y:z.y-0.35*U.x},W={x:V.x,y:-V.y},B={x:z.x,y:-z.y},j={x:H.x,y:-H.y},K={x:U.x,y:-U.y},D={x:q.x,y:-q.y};return`<path d="M ${[q,U,H,z,V,W,B,j,K,D].map((R)=>`${(G+R.x).toFixed(2)} ${(Z+R.y).toFixed(2)}`).join(" L ")}" />`}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}class R_{constructor(J){const $=J.options,X=$.get(50),Q=$.get(38);if(Q==="off")this.renderWhitespace="none",this.renderWithSVG=!1;else if(Q==="svg")this.renderWhitespace=$.get(98),this.renderWithSVG=!0;else this.renderWhitespace=$.get(98),this.renderWithSVG=!1;this.spaceWidth=X.spaceWidth,this.middotWidth=X.middotWidth,this.wsmiddotWidth=X.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=X.canUseHalfwidthRightwardsArrow,this.lineHeight=$.get(66),this.stopRenderingLineAfter=$.get(116)}equals(J){return this.renderWhitespace===J.renderWhitespace&&this.renderWithSVG===J.renderWithSVG&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter}}var fm=N(()=>{vm();VY();l0();Kq();W1();A4()});var M60,D60,R60,rK;var hm=N(()=>{y0();f7();u0();q7();A1();kg();Kp();yp();yT();Cp();h6();bp();fp();gp();pp();up();BT();rp();Xm();jT();Ym();Bm();Fm();Am();Pm();Rm();Om();wm();km();Em();W1();fq();Sm();Cm();bq();X7();rN();bm();QT();fm();cK();PJ();e0();M60=function(J){try{return J()}catch($){a0($)}},D60=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},R60=function(J,$){return function(X,Q){$(X,Q,J)}},rK=class J extends F4{constructor($,X,Q,Y,Z,G,q){super();this._instantiationService=q,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new b0(1,1,1,1)],this._renderAnimationFrame=null;const U=new ET(X,Y,Z,$);this._context=new A_(X,Q,Y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(EK,this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=r0(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=r0(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=r0(document.createElement("div")),O6.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new uT(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Bz(this._context,this._linesContent),this._viewZones=new F_(this._context),this._viewParts.push(this._viewZones);const H=new G_(this._context);this._viewParts.push(H);const z=new W_(this._context);this._viewParts.push(z);const V=new CT(this._context);this._viewParts.push(V),V.addDynamicOverlay(new gT(this._context)),V.addDynamicOverlay(new S8(this._context)),V.addDynamicOverlay(new aT(this._context)),V.addDynamicOverlay(new mT(this._context)),V.addDynamicOverlay(new M_(this._context));const W=new xT(this._context);this._viewParts.push(W),W.addDynamicOverlay(new pT(this._context)),W.addDynamicOverlay(new nT(this._context)),W.addDynamicOverlay(new iT(this._context)),W.addDynamicOverlay(new NG(this._context)),this._glyphMarginWidgets=new rT(this._context),this._viewParts.push(this._glyphMarginWidgets);const B=new pX(this._context);B.getDomNode().appendChild(this._viewZones.marginDomNode),B.getDomNode().appendChild(W.getDomNode()),B.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(B),this._contentWidgets=new fT(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new tq(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Z_(this._context),this._viewParts.push(this._overlayWidgets);const j=new V_(this._context);this._viewParts.push(j);const K=new D_(this._context);this._viewParts.push(K);const D=new Y_(this._context);if(this._viewParts.push(D),H){const A=this._scrollbar.getOverviewRulerLayoutInfo();A.parent.insertBefore(H.getDomNode(),A.insertBefore)}if(this._linesContent.appendChild(V.getDomNode()),this._linesContent.appendChild(j.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(B.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(D.getDomNode()),this._overflowGuardContainer.appendChild(K.domNode),this.domNode.appendChild(this._overflowGuardContainer),G)G.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode);else this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode);this._applyLayout(),this._pointerHandler=this._register(new UT(this._context,U,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){if(this._shouldRecomputeGlyphMarginLanes)this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount());R$.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const $=this._context.viewModel.model;let X=[];X=X.concat($.getAllMarginDecorations().map((Z)=>{var G,q;const U=(q=(G=Z.options.glyphMargin)===null||G===void 0?void 0:G.position)!==null&&q!==void 0?q:lQ.Left;return{range:Z.range,lane:U}})),X=X.concat(this._glyphMarginWidgets.getWidgets().map((Z)=>{return{range:$.validateRange(Z.preference.range),lane:Z.preference.lane}})),X.sort((Z,G)=>L.compareRangesUsingStarts(Z.range,G.range));let Q=null,Y=null;for(let Z of X){if(Z.lane===lQ.Left&&(!Q||L.compareRangesUsingEnds(Q,Z.range)<0))Q=Z.range;if(Z.lane===lQ.Right&&(!Y||L.compareRangesUsingEnds(Y,Z.range)<0))Y=Z.range;if(Q&&Y){if(Q.endLineNumber<Y.startLineNumber){Q=null;continue}if(Y.endLineNumber<Q.startLineNumber){Y=null;continue}return 2}}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:($)=>{this._textAreaHandler.textArea.domNode.dispatchEvent($)},getLastRenderData:()=>{const $=this._viewCursors.getLastRenderData()||[],X=this._textAreaHandler.getLastRenderData();return new sN($,X)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:($)=>{return this._viewZones.shouldSuppressMouseDownOnViewZone($)},shouldSuppressMouseDownOnWidget:($)=>{return this._contentWidgets.shouldSuppressMouseDownOnWidget($)},getPositionFromDOMInfo:($,X)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo($,X)},visibleRangeForPosition:($,X)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new b($,X))},getLineWidth:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth($)}}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition($)}}}_applyLayout(){const X=this._context.configuration.options.get(143);this.domNode.setWidth(X.width),this.domNode.setHeight(X.height),this._overflowGuardContainer.setWidth(X.width),this._overflowGuardContainer.setHeight(X.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const $=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+Gz(this._context.theme.type)+$}handleEvents($){super.handleEvents($),this._scheduleRender()}onConfigurationChanged($){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged($){return this._selections=$.selections,!1}onDecorationsChanged($){if($.affectsGlyphMargin)this._shouldRecomputeGlyphMarginLanes=!0;return!1}onFocusChanged($){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged($){return this._context.theme.update($.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){if(this._renderAnimationFrame!==null)this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null;this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let $ of this._viewParts)$.dispose();super.dispose()}_scheduleRender(){if(this._renderAnimationFrame===null)this._renderAnimationFrame=Jq(this._onRenderScheduled.bind(this),100)}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){M60(()=>this._actualRender())}_getViewPartsToRender(){const $=[];let X=0;for(let Q of this._viewParts)if(Q.shouldRender())$[X++]=Q;return $}_actualRender(){if(!XF(this.domNode.domNode))return;let $=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&$.length===0)return;const X=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(X.startLineNumber,X.endLineNumber,X.centeredLineNumber);const Q=new P_(this._selections,X,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);if(this._contentWidgets.shouldRender())this._contentWidgets.onBeforeRender(Q);if(this._viewLines.shouldRender())this._viewLines.renderText(Q),this._viewLines.onDidRender(),$=this._getViewPartsToRender();const Y=new hN(this._context.viewLayout,Q,this._viewLines);for(let Z of $)Z.prepareRender(Y);for(let Z of $)Z.render(Y),Z.onDidRender()}delegateVerticalScrollbarPointerDown($){this._scrollbar.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){this._scrollbar.delegateScrollFromMouseWheelEvent($)}restoreState($){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:$.scrollTop,scrollLeft:$.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn($,X){const Q=this._context.viewModel.model.validatePosition({lineNumber:$,column:X}),Y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);this._flushAccumulatedAndRenderNow();const Z=this._viewLines.visibleRangeForPosition(new b(Y.lineNumber,Y.column));if(!Z)return-1;return Z.left}getTargetAtClientPoint($,X){const Q=this._pointerHandler.getTargetAtClientPoint($,X);if(!Q)return null;return dq.convertViewToModelMouseTarget(Q,this._context.viewModel.coordinatesConverter)}createOverviewRuler($){return new z_(this._context,$)}change($){this._viewZones.changeViewZones($),this._scheduleRender()}render($,X){if(X){this._viewLines.forceShouldRender();for(let Q of this._viewParts)Q.forceShouldRender()}if($)this._flushAccumulatedAndRenderNow();else this._scheduleRender()}writeScreenReaderContent($){this._textAreaHandler.writeScreenReaderContent($)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions($){this._textAreaHandler.setAriaOptions($)}addContentWidget($){this._contentWidgets.addWidget($.widget),this.layoutContentWidget($),this._scheduleRender()}layoutContentWidget($){var X,Q,Y,Z,G,q,U,H;this._contentWidgets.setWidgetPosition($.widget,(Q=(X=$.position)===null||X===void 0?void 0:X.position)!==null&&Q!==void 0?Q:null,(Z=(Y=$.position)===null||Y===void 0?void 0:Y.secondaryPosition)!==null&&Z!==void 0?Z:null,(q=(G=$.position)===null||G===void 0?void 0:G.preference)!==null&&q!==void 0?q:null,(H=(U=$.position)===null||U===void 0?void 0:U.positionAffinity)!==null&&H!==void 0?H:null),this._scheduleRender()}removeContentWidget($){this._contentWidgets.removeWidget($.widget),this._scheduleRender()}addOverlayWidget($){this._overlayWidgets.addWidget($.widget),this.layoutOverlayWidget($),this._scheduleRender()}layoutOverlayWidget($){const X=$.position?$.position.preference:null;if(this._overlayWidgets.setWidgetPosition($.widget,X))this._scheduleRender()}removeOverlayWidget($){this._overlayWidgets.removeWidget($.widget),this._scheduleRender()}addGlyphMarginWidget($){this._glyphMarginWidgets.addWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget($){const X=$.position;if(this._glyphMarginWidgets.setWidgetPosition($.widget,X))this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}removeGlyphMarginWidget($){this._glyphMarginWidgets.removeWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};rK=D60([R60(6,G1)],rK)});class Dz{constructor(J,$,X,Q,Y,Z){this.id=J,this.label=$,this.alias=X,this._precondition=Q,this._run=Y,this._contextKeyService=Z}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(J){if(!this.isSupported())return Promise.resolve(void 0);return this._run(J)}}var O_=N(()=>{});function g5(J){let $=0,X=0,Q=0,Y=0;for(let Z=0,G=J.length;Z<G;Z++){const q=J.charCodeAt(Z);if(q===13){if($===0)X=Z;if($++,Z+1<G&&J.charCodeAt(Z+1)===10)Y|=2,Z++;else Y|=3;Q=Z+1}else if(q===10){if(Y|=1,$===0)X=Z;$++,Q=Z+1}}if($===0)X=J.length;return[$,X,J.length-Q,Y]}var IG=N(()=>{});class iK{constructor(J,$,X,Q){this.range=J,this.nestingLevel=$,this.nestingLevelOfEqualBracketType=X,this.isInvalid=Q}}class gm{constructor(J,$,X,Q,Y,Z){this.range=J,this.openingBracketRange=$,this.closingBracketRange=X,this.nestingLevel=Q,this.nestingLevelOfEqualBracketType=Y,this.bracketPairNode=Z}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class N_ extends gm{constructor(J,$,X,Q,Y,Z,G){super(J,$,X,Q,Y,Z);this.minVisibleColumnIndentation=G}}var pm=N(()=>{});function mm(J,$,X,Q){return J!==X?A8(X-J,Q):A8(0,Q-$)}function eq(J){return J===0}function A8(J,$){return J*G5+$}function $9(J){const $=J,X=Math.floor($/G5),Q=$-X*G5;return new kG(X,Q)}function um(J){return Math.floor(J/G5)}function T_(J){return J}function P8(J,$){let X=J+$;if($>=G5)X=X-J%G5;return X}function cm(J,$){return J.reduce((X,Q)=>P8(X,$(Q)),r7)}function __(J,$){return J===$}function EG(J,$){const X=J,Q=$;if(Q-X<=0)return r7;const Z=Math.floor(X/G5),G=Math.floor(Q/G5),q=Q-G*G5;if(Z===G){const U=X-Z*G5;return A8(0,q-U)}else return A8(G-Z,q)}function dX(J,$){return J<$}function AY(J,$){return J<=$}function JU(J,$){return J>=$}function PY(J){return A8(J.lineNumber-1,J.column-1)}function DY(J,$){const X=J,Q=Math.floor(X/G5),Y=X-Q*G5,Z=$,G=Math.floor(Z/G5),q=Z-G*G5;return new L(Q+1,Y+1,G+1,q+1)}function lm(J){const $=n9(J);return A8($.length-1,$[$.length-1].length)}class kG{constructor(J,$){this.lineCount=J,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}var r7,G5;var T$=N(()=>{l0();u0();kG.zero=new kG(0,0);r7=0,G5=Math.pow(2,26)});class LJ{static fromModelContentChanges(J){return J.map((X)=>{const Q=L.lift(X.range);return new LJ(PY(Q.getStartPosition()),PY(Q.getEndPosition()),lm(X.text))}).reverse()}constructor(J,$,X){this.startOffset=J,this.endOffset=$,this.newLength=X}toString(){return`[${$9(this.startOffset)}...${$9(this.endOffset)}) -> ${$9(this.newLength)}`}}class w_{constructor(J){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=J.map(($)=>L_.from($))}getOffsetBeforeChange(J){return this.adjustNextEdit(J),this.translateCurToOld(J)}getDistanceToNextChange(J){this.adjustNextEdit(J);const $=this.edits[this.nextEditIdx],X=$?this.translateOldToCur($.offsetObj):null;if(X===null)return null;return EG(J,X)}translateOldToCur(J){if(J.lineCount===this.deltaLineIdxInOld)return A8(J.lineCount+this.deltaOldToNewLineCount,J.columnCount+this.deltaOldToNewColumnCount);else return A8(J.lineCount+this.deltaOldToNewLineCount,J.columnCount)}translateCurToOld(J){const $=$9(J);if($.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld)return A8($.lineCount-this.deltaOldToNewLineCount,$.columnCount-this.deltaOldToNewColumnCount);else return A8($.lineCount-this.deltaOldToNewLineCount,$.columnCount)}adjustNextEdit(J){while(this.nextEditIdx<this.edits.length){const $=this.edits[this.nextEditIdx],X=this.translateOldToCur($.endOffsetAfterObj);if(AY(X,J)){this.nextEditIdx++;const Q=$9(X),Y=$9(this.translateOldToCur($.endOffsetBeforeObj)),Z=Q.lineCount-Y.lineCount;this.deltaOldToNewLineCount+=Z;const G=this.deltaLineIdxInOld===$.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,q=Q.columnCount-Y.columnCount;this.deltaOldToNewColumnCount=G+q,this.deltaLineIdxInOld=$.endOffsetBeforeObj.lineCount}else break}}}class L_{static from(J){return new L_(J.startOffset,J.endOffset,J.newLength)}constructor(J,$,X){this.endOffsetBeforeObj=$9($),this.endOffsetAfterObj=$9(P8(J,X)),this.offsetObj=$9(J)}}var Rz=N(()=>{u0();T$()});class C8{static create(J,$){if(J<=128&&$.length===0){let X=C8.cache[J];if(!X)X=new C8(J,$),C8.cache[J]=X;return X}return new C8(J,$)}static getEmpty(){return this.empty}constructor(J,$){this.items=J,this.additionalItems=$}add(J,$){const X=$.getKey(J);let Q=X>>5;if(Q===0){const Z=1<<X|this.items;if(Z===this.items)return this;return C8.create(Z,this.additionalItems)}Q--;const Y=this.additionalItems.slice(0);while(Y.length<Q)Y.push(0);return Y[Q]|=1<<(X&31),C8.create(this.items,Y)}merge(J){const $=this.items|J.items;if(this.additionalItems===nK&&J.additionalItems===nK){if($===this.items)return this;if($===J.items)return J;return C8.create($,nK)}const X=[];for(let Q=0;Q<Math.max(this.additionalItems.length,J.additionalItems.length);Q++){const Y=this.additionalItems[Q]||0,Z=J.additionalItems[Q]||0;X.push(Y|Z)}return C8.create($,X)}intersects(J){if((this.items&J.items)!==0)return!0;for(let $=0;$<Math.min(this.additionalItems.length,J.additionalItems.length);$++)if((this.additionalItems[$]&J.additionalItems[$])!==0)return!0;return!1}}class k_{constructor(){this.items=new Map}getKey(J){let $=this.items.get(J);if($===void 0)$=this.items.size,this.items.set(J,$);return $}}var nK,I_;var $U=N(()=>{nK=[];C8.cache=new Array(129);C8.empty=C8.create(0,nK);I_={getKey(J){return J}}});class tK{get length(){return this._length}constructor(J){this._length=J}}class XU extends tK{static create(J,$,X){let Q=J.length;if($)Q=P8(Q,$.length);if(X)Q=P8(Q,X.length);return new XU(Q,J,$,X,$?$.missingOpeningBracketIds:C8.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(J){switch(J){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const J=[];if(J.push(this.openingBracket),this.child)J.push(this.child);if(this.closingBracket)J.push(this.closingBracket);return J}constructor(J,$,X,Q,Y){super(J);this.openingBracket=$,this.child=X,this.closingBracket=Q,this.missingOpeningBracketIds=Y}canBeReused(J){if(this.closingBracket===null)return!1;if(J.intersects(this.missingOpeningBracketIds))return!1;return!0}deepClone(){return new XU(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(J,$){return this.child?this.child.computeMinIndentation(P8(J,this.openingBracket.length),$):Number.MAX_SAFE_INTEGER}}class p5 extends tK{static create23(J,$,X,Q=!1){let{length:Y,missingOpeningBracketIds:Z}=J;if(J.listHeight!==$.listHeight)throw new Error("Invalid list heights");if(Y=P8(Y,$.length),Z=Z.merge($.missingOpeningBracketIds),X){if(J.listHeight!==X.listHeight)throw new Error("Invalid list heights");Y=P8(Y,X.length),Z=Z.merge(X.missingOpeningBracketIds)}return Q?new dm(Y,J.listHeight+1,J,$,X,Z):new Mz(Y,J.listHeight+1,J,$,X,Z)}static getEmpty(){return new sm(r7,0,[],C8.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(J,$,X){super(J);this.listHeight=$,this._missingOpeningBracketIds=X,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const J=this.childrenLength;if(J===0)return;const $=this.getChild(J-1),X=$.kind===4?$.toMutable():$;if($!==X)this.setChild(J-1,X);return X}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const $=this.getChild(0),X=$.kind===4?$.toMutable():$;if($!==X)this.setChild(0,X);return X}canBeReused(J){if(J.intersects(this.missingOpeningBracketIds))return!1;if(this.childrenLength===0)return!1;let $=this;while($.kind===4){const X=$.childrenLength;if(X===0)throw new n1;$=$.getChild(X-1)}return $.canBeReused(J)}handleChildrenChanged(){this.throwIfImmutable();const J=this.childrenLength;let $=this.getChild(0).length,X=this.getChild(0).missingOpeningBracketIds;for(let Q=1;Q<J;Q++){const Y=this.getChild(Q);$=P8($,Y.length),X=X.merge(Y.missingOpeningBracketIds)}this._length=$,this._missingOpeningBracketIds=X,this.cachedMinIndentation=-1}computeMinIndentation(J,$){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let X=Number.MAX_SAFE_INTEGER,Q=J;for(let Y=0;Y<this.childrenLength;Y++){const Z=this.getChild(Y);if(Z)X=Math.min(X,Z.computeMinIndentation(Q,$)),Q=P8(Q,Z.length)}return this.cachedMinIndentation=X,X}}class Mz extends p5{get childrenLength(){return this._item3!==null?3:2}getChild(J){switch(J){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(J,$){switch(J){case 0:this._item1=$;return;case 1:this._item2=$;return;case 2:this._item3=$;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(J,$,X,Q,Y,Z){super(J,$,Z);this._item1=X,this._item2=Q,this._item3=Y}deepClone(){return new Mz(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=J,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const J=this._item3;return this._item3=null,this.handleChildrenChanged(),J}prependChildOfSameHeight(J){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=J,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const J=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),J}toMutable(){return this}}class dm extends Mz{toMutable(){return new Mz(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class oK extends p5{get childrenLength(){return this._children.length}getChild(J){return this._children[J]}setChild(J,$){this._children[J]=$}get children(){return this._children}constructor(J,$,X,Q){super(J,$,Q);this._children=X}deepClone(){const J=new Array(this._children.length);for(let $=0;$<this._children.length;$++)J[$]=this._children[$].deepClone();return new oK(this.length,this.listHeight,J,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){this.throwIfImmutable(),this._children.push(J),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const J=this._children.pop();return this.handleChildrenChanged(),J}prependChildOfSameHeight(J){this.throwIfImmutable(),this._children.unshift(J),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const J=this._children.shift();return this.handleChildrenChanged(),J}toMutable(){return this}}class sm extends oK{toMutable(){return new oK(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class eK extends tK{get listHeight(){return 0}get childrenLength(){return 0}getChild(J){return null}get children(){return O60}deepClone(){return this}}class _$ extends eK{get kind(){return 0}get missingOpeningBracketIds(){return C8.getEmpty()}canBeReused(J){return!0}computeMinIndentation(J,$){const X=$9(J),Q=(X.columnCount===0?X.lineCount:X.lineCount+1)+1,Y=um(P8(J,this.length))+1;let Z=Number.MAX_SAFE_INTEGER;for(let G=Q;G<=Y;G++){const q=$.getLineFirstNonWhitespaceColumn(G),U=$.getLineContent(G);if(q===0)continue;const H=t1.visibleColumnFromColumn(U,q,$.getOptions().tabSize);Z=Math.min(Z,H)}return Z}}class Oz extends eK{static create(J,$,X){return new Oz(J,$,X)}get kind(){return 1}get missingOpeningBracketIds(){return C8.getEmpty()}constructor(J,$,X){super(J);this.bracketInfo=$,this.bracketIds=X}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(J){return!1}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}class E_ extends eK{get kind(){return 3}constructor(J,$){super($);this.missingOpeningBracketIds=J}canBeReused(J){return!J.intersects(this.missingOpeningBracketIds)}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}var O60;var Nz=N(()=>{A1();_J();T$();$U();O60=[]});class w${constructor(J,$,X,Q,Y){this.length=J,this.kind=$,this.bracketId=X,this.bracketIds=Q,this.astNode=Y}}class y_{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.reader=new am(this.textModel,this.bracketTokens),this._offset=r7,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return A8(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(J){this.didPeek=!1,this._offset=P8(this._offset,J);const $=$9(this._offset);this.reader.setPosition($.lineCount,$.columnCount)}read(){let J;if(this.peeked)this.didPeek=!1,J=this.peeked;else J=this.reader.read();if(J)this._offset=P8(this._offset,J.length);return J}peek(){if(!this.didPeek)this.peeked=this.reader.read(),this.didPeek=!0;return this.peeked}}class am{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}setPosition(J,$){if(J===this.lineIdx){if(this.lineCharOffset=$,this.line!==null)this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}else this.lineIdx=J,this.lineCharOffset=$,this.line=null;this.peekedToken=null}read(){if(this.peekedToken){const Y=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=T_(Y.length),Y}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;if(this.line===null)this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset);const J=this.lineIdx,$=this.lineCharOffset;let X=0;while(!0){const Y=this.lineTokens,Z=Y.getCount();let G=null;if(this.lineTokenOffset<Z){const q=Y.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<Z&&q===Y.getMetadata(this.lineTokenOffset+1))this.lineTokenOffset++;const U=l7.getTokenType(q)===0,H=l7.containsBalancedBrackets(q),z=Y.getEndOffset(this.lineTokenOffset);if(H&&U&&this.lineCharOffset<z){const V=Y.getLanguageId(this.lineTokenOffset),W=this.line.substring(this.lineCharOffset,z),B=this.bracketTokens.getSingleLanguageBracketTokens(V),j=B.regExpGlobal;if(j){j.lastIndex=0;const K=j.exec(W);if(K){if(G=B.getToken(K[0]),G)this.lineCharOffset+=K.index}}}if(X+=z-this.lineCharOffset,G)if(J!==this.lineIdx||$!==this.lineCharOffset){this.peekedToken=G;break}else return this.lineCharOffset+=T_(G.length),G;else this.lineTokenOffset++,this.lineCharOffset=z}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,X+=33,X>1000)break}if(X>1500)break}const Q=mm(J,$,this.lineIdx,this.lineCharOffset);return new w$(Q,0,-1,C8.getEmpty(),new _$(Q))}}class S_{constructor(J,$){this.text=J,this._offset=r7,this.idx=0;const X=$.getRegExpStr(),Q=X?new RegExp(X+"|\n","gi"):null,Y=[];let Z,G=0,q=0,U=0,H=0;const z=[];for(let B=0;B<60;B++)z.push(new w$(A8(0,B),0,-1,C8.getEmpty(),new _$(A8(0,B))));const V=[];for(let B=0;B<60;B++)V.push(new w$(A8(1,B),0,-1,C8.getEmpty(),new _$(A8(1,B))));if(Q){Q.lastIndex=0;while((Z=Q.exec(J))!==null){const B=Z.index,j=Z[0];if(j==="\n")G++,q=B+1;else{if(U!==B){let K;if(H===G){const D=B-U;if(D<z.length)K=z[D];else{const A=A8(0,D);K=new w$(A,0,-1,C8.getEmpty(),new _$(A))}}else{const D=G-H,A=B-q;if(D===1&&A<V.length)K=V[A];else{const P=A8(D,A);K=new w$(P,0,-1,C8.getEmpty(),new _$(P))}}Y.push(K)}Y.push($.getToken(j)),U=B+j.length,H=G}}}const W=J.length;if(U!==W){const B=H===G?A8(0,W-U):A8(G-H,W-q);Y.push(new w$(B,0,-1,C8.getEmpty(),new _$(B)))}this.length=A8(G,W-q),this.tokens=Y}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(J){throw new dR}}var C_=N(()=>{A1();jq();Nz();T$();$U()});class x_{static createFromLanguage(J,$){function X(Y){return $.getKey(`${Y.languageId}:::${Y.bracketText}`)}const Q=new Map;for(let Y of J.bracketsNew.openingBrackets){const Z=A8(0,Y.bracketText.length),G=X(Y),q=C8.getEmpty().add(G,I_);Q.set(Y.bracketText,new w$(Z,1,G,q,Oz.create(Z,Y,q)))}for(let Y of J.bracketsNew.closingBrackets){const Z=A8(0,Y.bracketText.length);let G=C8.getEmpty();const q=Y.getOpeningBrackets();for(let U of q)G=G.add(X(U),I_);Q.set(Y.bracketText,new w$(Z,2,X(q[0]),G,Oz.create(Z,Y,G)))}return new x_(Q)}constructor(J){this.map=J,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;else{const J=[...this.map.keys()];return J.sort(),J.reverse(),J.map(($)=>N60($)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const J=this.getRegExpStr();this._regExpGlobal=J?new RegExp(J,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(J){return this.map.get(J.toLowerCase())}findClosingTokenText(J){for(let[$,X]of this.map)if(X.kind===2&&X.bracketIds.intersects(J))return $;return}get isEmpty(){return this.map.size===0}}class b_{constructor(J,$){this.denseKeyProvider=J,this.getLanguageConfiguration=$,this.languageIdToBracketTokens=new Map}didLanguageChange(J){return this.languageIdToBracketTokens.has(J)}getSingleLanguageBracketTokens(J){let $=this.languageIdToBracketTokens.get(J);if(!$)$=x_.createFromLanguage(this.getLanguageConfiguration(J),this.denseKeyProvider),this.languageIdToBracketTokens.set(J,$);return $}}var N60;var rm=N(()=>{l0();Nz();T$();$U();C_();N60=function(J){let $=r6(J);if(/^[\w ]+/.test(J))$=`\\b${$}`;if(/[\w ]+$/.test(J))$=`${$}\\b`;return $}});function nm(J){if(J.length===0)return null;if(J.length===1)return J[0];let $=0;function X(){if($>=J.length)return null;const G=$,q=J[G].listHeight;$++;while($<J.length&&J[$].listHeight===q)$++;if($-G>=2)return f_(G===0&&$===J.length?J:J.slice(G,$),!1);else return J[G]}let Q=X(),Y=X();if(!Y)return Q;for(let G=X();G;G=X())if(im(Q,Y)<=im(Y,G))Q=v_(Q,Y),Y=G;else Y=v_(Y,G);return v_(Q,Y)}function f_(J,$=!1){if(J.length===0)return null;if(J.length===1)return J[0];let X=J.length;while(X>3){const Q=X>>1;for(let Y=0;Y<Q;Y++){const Z=Y<<1;J[Y]=p5.create23(J[Z],J[Z+1],Z+3===X?J[Z+2]:null,$)}X=Q}return p5.create23(J[0],J[1],X>=3?J[2]:null,$)}var im,v_,T60,_60;var om=N(()=>{Nz();im=function(J,$){return Math.abs(J.listHeight-$.listHeight)},v_=function(J,$){if(J.listHeight===$.listHeight)return p5.create23(J,$,null,!1);else if(J.listHeight>$.listHeight)return T60(J,$);else return _60($,J)},T60=function(J,$){J=J.toMutable();let X=J;const Q=[];let Y;while(!0){if($.listHeight===X.listHeight){Y=$;break}if(X.kind!==4)throw new Error("unexpected");Q.push(X),X=X.makeLastElementMutable()}for(let Z=Q.length-1;Z>=0;Z--){const G=Q[Z];if(Y)if(G.childrenLength>=3)Y=p5.create23(G.unappendChild(),Y,null,!1);else G.appendChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return p5.create23(J,Y,null,!1);else return J},_60=function(J,$){J=J.toMutable();let X=J;const Q=[];while($.listHeight!==X.listHeight){if(X.kind!==4)throw new Error("unexpected");Q.push(X),X=X.makeFirstElementMutable()}let Y=$;for(let Z=Q.length-1;Z>=0;Z--){const G=Q[Z];if(Y)if(G.childrenLength>=3)Y=p5.create23(Y,G.unprependChild(),null,!1);else G.prependChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return p5.create23(Y,J,null,!1);else return J}});class g_{constructor(J){this.lastOffset=r7,this.nextNodes=[J],this.offsets=[r7],this.idxs=[]}readLongestNodeAt(J,$){if(dX(J,this.lastOffset))throw new Error("Invalid offset");this.lastOffset=J;while(!0){const X=Tz(this.nextNodes);if(!X)return;const Q=Tz(this.offsets);if(dX(J,Q))return;if(dX(Q,J))if(P8(Q,X.length)<=J)this.nextNodeAfterCurrent();else{const Y=h_(X);if(Y!==-1)this.nextNodes.push(X.getChild(Y)),this.offsets.push(Q),this.idxs.push(Y);else this.nextNodeAfterCurrent()}else if($(X))return this.nextNodeAfterCurrent(),X;else{const Y=h_(X);if(Y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(X.getChild(Y)),this.offsets.push(Q),this.idxs.push(Y)}}}nextNodeAfterCurrent(){while(!0){const J=Tz(this.offsets),$=Tz(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const X=Tz(this.nextNodes),Q=h_(X,this.idxs[this.idxs.length-1]);if(Q!==-1){this.nextNodes.push(X.getChild(Q)),this.offsets.push(P8(J,$.length)),this.idxs[this.idxs.length-1]=Q;break}else this.idxs.pop()}}}var h_,Tz;var tm=N(()=>{T$();h_=function(J,$=-1){while(!0){if($++,$>=J.childrenLength)return-1;if(J.getChild($))return $}},Tz=function(J){return J.length>0?J[J.length-1]:void 0}});function p_(J,$,X,Q){return new em(J,$,X,Q).parseDocument()}class em{constructor(J,$,X,Q){if(this.tokenizer=J,this.createImmutableLists=Q,this._itemsConstructed=0,this._itemsFromCache=0,X&&Q)throw new Error("Not supported");this.oldNodeReader=X?new g_(X):void 0,this.positionMapper=new w_($)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let J=this.parseList(C8.getEmpty(),0);if(!J)J=p5.getEmpty();return J}parseList(J,$){const X=[];while(!0){let Y=this.tryReadChildFromCache(J);if(!Y){const Z=this.tokenizer.peek();if(!Z||Z.kind===2&&Z.bracketIds.intersects(J))break;Y=this.parseChild(J,$+1)}if(Y.kind===4&&Y.childrenLength===0)continue;X.push(Y)}return this.oldNodeReader?nm(X):f_(X,this.createImmutableLists)}tryReadChildFromCache(J){if(this.oldNodeReader){const $=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if($===null||!eq($)){const X=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(Q)=>{if($!==null&&!dX(Q.length,$))return!1;return Q.canBeReused(J)});if(X)return this._itemsFromCache++,this.tokenizer.skip(X.length),X}}return}parseChild(J,$){this._itemsConstructed++;const X=this.tokenizer.read();switch(X.kind){case 2:return new E_(X.bracketIds,X.length);case 0:return X.astNode;case 1:{if($>300)return new _$(X.length);const Q=J.merge(X.bracketIds),Y=this.parseList(Q,$+1),Z=this.tokenizer.peek();if(Z&&Z.kind===2&&(Z.bracketId===X.bracketId||Z.bracketIds.intersects(X.bracketIds)))return this.tokenizer.read(),XU.create(X.astNode,Y,Z.astNode);else return XU.create(X.astNode,Y,null)}default:throw new Error("unexpected")}}}var Ju=N(()=>{Nz();Rz();$U();T$();om();tm()});function QU(J,$){if(J.length===0)return $;if($.length===0)return J;const X=new d6($u(J)),Q=$u($);Q.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let Y=X.dequeue();function Z(H){if(H===void 0){const V=X.takeWhile((W)=>!0)||[];if(Y)V.unshift(Y);return V}const z=[];while(Y&&!eq(H)){const[V,W]=Y.splitAt(H);z.push(V),H=EG(V.lengthAfter,H),Y=W!==null&&W!==void 0?W:X.dequeue()}if(!eq(H))z.push(new RY(!1,H,H));return z}const G=[];function q(H,z,V){if(G.length>0&&__(G[G.length-1].endOffset,H)){const W=G[G.length-1];G[G.length-1]=new LJ(W.startOffset,z,P8(W.newLength,V))}else G.push({startOffset:H,endOffset:z,newLength:V})}let U=r7;for(let H of Q){const z=Z(H.lengthBefore);if(H.modified){const V=cm(z,(B)=>B.lengthBefore),W=P8(U,V);q(U,W,H.lengthAfter),U=W}else for(let V of z){const W=U;if(U=P8(U,V.lengthBefore),V.modified)q(W,U,V.lengthAfter)}}return G}class RY{constructor(J,$,X){this.modified=J,this.lengthBefore=$,this.lengthAfter=X}splitAt(J){const $=EG(J,this.lengthAfter);if(__($,r7))return[this,void 0];else if(this.modified)return[new RY(this.modified,this.lengthBefore,J),new RY(this.modified,r7,$)];else return[new RY(this.modified,J,J),new RY(this.modified,$,$)]}toString(){return`${this.modified?"M":"U"}:${$9(this.lengthBefore)} -> ${$9(this.lengthAfter)}`}}var $u;var m_=N(()=>{V1();Rz();T$();$u=function(J){const $=[];let X=r7;for(let Q of J){const Y=EG(X,Q.startOffset);if(!eq(Y))$.push(new RY(!1,Y,Y));const Z=EG(Q.startOffset,Q.endOffset);$.push(new RY(!0,Z,Q.newLength)),X=Q.endOffset}return $}});class l_ extends f{didLanguageChange(J){return this.brackets.didLanguageChange(J)}constructor(J,$){super();if(this.textModel=J,this.getLanguageConfiguration=$,this.didChangeEmitter=new E,this.denseKeyProvider=new k_,this.brackets=new b_(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],!J.tokenization.hasTokens){const X=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Q=new S_(this.textModel.getValue(),X);this.initialAstWithoutTokens=p_(Q,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else if(J.tokenization.backgroundTokenizationState===2)this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1);else this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const J=this.initialAstWithoutTokens===void 0;if(this.initialAstWithoutTokens=void 0,!J)this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:J}){const $=J.map((X)=>new LJ(A8(X.fromLineNumber-1,0),A8(X.toLineNumber,0),A8(X.toLineNumber-X.fromLineNumber+1,0)));if(this.handleEdits($,!0),!this.initialAstWithoutTokens)this.didChangeEmitter.fire()}handleContentChanged(J){const $=LJ.fromModelContentChanges(J.changes);this.handleEdits($,!1)}handleEdits(J,$){const X=QU(this.queuedTextEdits,J);if(this.queuedTextEdits=X,this.initialAstWithoutTokens&&!$)this.queuedTextEditsForInitialAstWithoutTokens=QU(this.queuedTextEditsForInitialAstWithoutTokens,J)}flushQueue(){if(this.queuedTextEdits.length>0)this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[];if(this.queuedTextEditsForInitialAstWithoutTokens.length>0){if(this.initialAstWithoutTokens)this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1);this.queuedTextEditsForInitialAstWithoutTokens=[]}}parseDocumentFromTextBuffer(J,$,X){const Y=$,Z=new y_(this.textModel,this.brackets);return p_(Z,J,Y,X)}getBracketsInRange(J,$){this.flushQueue();const X=A8(J.startLineNumber-1,J.startColumn-1),Q=A8(J.endLineNumber-1,J.endColumn-1);return new n5((Y)=>{const Z=this.initialAstWithoutTokens||this.astWithTokens;u_(Z,r7,Z.length,X,Q,Y,0,0,new Map,$)})}getBracketPairsInRange(J,$){this.flushQueue();const X=PY(J.getStartPosition()),Q=PY(J.getEndPosition());return new n5((Y)=>{const Z=this.initialAstWithoutTokens||this.astWithTokens,G=new Yu(Y,$,this.textModel);c_(Z,r7,Z.length,X,Q,G,0,new Map)})}getFirstBracketAfter(J){this.flushQueue();const $=this.initialAstWithoutTokens||this.astWithTokens;return Qu($,r7,$.length,PY(J))}getFirstBracketBefore(J){this.flushQueue();const $=this.initialAstWithoutTokens||this.astWithTokens;return Xu($,r7,$.length,PY(J))}}class Yu{constructor(J,$,X){this.push=J,this.includeMinIndentation=$,this.textModel=X}}var Xu,Qu,u_,c_;var Zu=N(()=>{A0();$0();pm();Rz();rm();T$();Ju();$U();C_();V1();m_();Xu=function(J,$,X,Q){if(J.kind===4||J.kind===2){const Y=[];for(let Z of J.children)X=P8($,Z.length),Y.push({nodeOffsetStart:$,nodeOffsetEnd:X}),$=X;for(let Z=Y.length-1;Z>=0;Z--){const{nodeOffsetStart:G,nodeOffsetEnd:q}=Y[Z];if(dX(G,Q)){const U=Xu(J.children[Z],G,q,Q);if(U)return U}}return null}else if(J.kind===3)return null;else if(J.kind===1){const Y=DY($,X);return{bracketInfo:J.bracketInfo,range:Y}}return null},Qu=function(J,$,X,Q){if(J.kind===4||J.kind===2){for(let Y of J.children){if(X=P8($,Y.length),dX(Q,X)){const Z=Qu(Y,$,X,Q);if(Z)return Z}$=X}return null}else if(J.kind===3)return null;else if(J.kind===1){const Y=DY($,X);return{bracketInfo:J.bracketInfo,range:Y}}return null},u_=function(J,$,X,Q,Y,Z,G,q,U,H,z=!1){if(G>200)return!0;J:while(!0)switch(J.kind){case 4:{const V=J.childrenLength;for(let W=0;W<V;W++){const B=J.getChild(W);if(!B)continue;if(X=P8($,B.length),AY($,Y)&&JU(X,Q)){if(JU(X,Y)){J=B;continue J}if(!u_(B,$,X,Q,Y,Z,G,0,U,H))return!1}$=X}return!0}case 2:{const V=!H||!J.closingBracket||J.closingBracket.bracketInfo.closesColorized(J.openingBracket.bracketInfo);let W=0;if(U){let j=U.get(J.openingBracket.text);if(j===void 0)j=0;if(W=j,V)j++,U.set(J.openingBracket.text,j)}const B=J.childrenLength;for(let j=0;j<B;j++){const K=J.getChild(j);if(!K)continue;if(X=P8($,K.length),AY($,Y)&&JU(X,Q)){if(JU(X,Y)&&K.kind!==1){if(J=K,V)G++,q=W+1;else q=W;continue J}if(V||K.kind!==1||!J.closingBracket){if(!u_(K,$,X,Q,Y,Z,V?G+1:G,V?W+1:W,U,H,!J.closingBracket))return!1}}$=X}return U===null||U===void 0||U.set(J.openingBracket.text,W),!0}case 3:{const V=DY($,X);return Z(new iK(V,G-1,0,!0))}case 1:{const V=DY($,X);return Z(new iK(V,G-1,q-1,z))}case 0:return!0}},c_=function(J,$,X,Q,Y,Z,G,q){var U;if(G>200)return!0;let H=!0;if(J.kind===2){let z=0;if(q){let B=q.get(J.openingBracket.text);if(B===void 0)B=0;z=B,B++,q.set(J.openingBracket.text,B)}const V=P8($,J.openingBracket.length);let W=-1;if(Z.includeMinIndentation)W=J.computeMinIndentation($,Z.textModel);if(H=Z.push(new N_(DY($,X),DY($,V),J.closingBracket?DY(P8(V,((U=J.child)===null||U===void 0?void 0:U.length)||r7),X):void 0,G,z,J,W)),$=V,H&&J.child){const B=J.child;if(X=P8($,B.length),AY($,Y)&&JU(X,Q)){if(H=c_(B,$,X,Q,Y,Z,G+1,q),!H)return!1}}q===null||q===void 0||q.set(J.openingBracket.text,z)}else{let z=$;for(let V of J.children){const W=z;if(z=P8(z,V.length),AY(W,Y)&&AY(Q,z)){if(H=c_(V,W,z,Q,Y,Z,G,q),!H)return!1}}}return H}});class s_ extends f{get canBuildAST(){return this.textModel.getValueLength()<=5000000}constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$,this.bracketPairsTree=this._register(new K6),this.onDidChangeEmitter=new E,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((X)=>{var Q;if(!X.languageId||((Q=this.bracketPairsTree.value)===null||Q===void 0?void 0:Q.object.didLanguageChange(X.languageId)))this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))}handleDidChangeOptions(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleContentChanged(J)}handleDidChangeBackgroundTokenizationState(){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleDidChangeTokens(J)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const J=new e;this.bracketPairsTree.value=w60(J.add(new l_(this.textModel,($)=>{return this.languageConfigurationService.getLanguageConfiguration($)})),J),J.add(this.bracketPairsTree.value.object.onDidChange(($)=>this.onDidChangeEmitter.fire($))),this.onDidChangeEmitter.fire()}}else if(this.bracketPairsTree.value)this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire()}getBracketPairsInRange(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!1))||n5.empty}getBracketPairsInRangeWithMinIndentation(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!0))||n5.empty}getBracketsInRange(J,$=!1){var X;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((X=this.bracketPairsTree.value)===null||X===void 0?void 0:X.object.getBracketsInRange(J,$))||n5.empty}findMatchingBracketUp(J,$,X){const Q=this.textModel.validatePosition($),Y=this.textModel.getLanguageIdAtPosition(Q.lineNumber,Q.column);if(this.canBuildAST){const Z=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew.getClosingBracketInfo(J);if(!Z)return null;const G=this.getBracketPairsInRange(L.fromPositions($,$)).findLast((q)=>Z.closes(q.openingBracketInfo));if(G)return G.openingBracketRange;return null}else{const Z=J.toLowerCase(),G=this.languageConfigurationService.getLanguageConfiguration(Y).brackets;if(!G)return null;const q=G.textIsBracket[Z];if(!q)return null;return JA(this._findMatchingBracketUp(q,Q,d_(X)))}}matchBracket(J,$){if(this.canBuildAST){const X=this.getBracketPairsInRange(L.fromPositions(J,J)).filter((Q)=>Q.closingBracketRange!==void 0&&(Q.openingBracketRange.containsPosition(J)||Q.closingBracketRange.containsPosition(J))).findLastMaxBy(l6((Q)=>Q.openingBracketRange.containsPosition(J)?Q.openingBracketRange:Q.closingBracketRange,L.compareRangesUsingStarts));if(X)return[X.openingBracketRange,X.closingBracketRange];return null}else{const X=d_($);return this._matchBracket(this.textModel.validatePosition(J),X)}}_establishBracketSearchOffsets(J,$,X,Q){const Y=$.getCount(),Z=$.getLanguageId(Q);let G=Math.max(0,J.column-1-X.maxBracketLength);for(let U=Q-1;U>=0;U--){const H=$.getEndOffset(U);if(H<=G)break;if(jJ($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){G=H;break}}let q=Math.min($.getLineContent().length,J.column-1+X.maxBracketLength);for(let U=Q+1;U<Y;U++){const H=$.getStartOffset(U);if(H>=q)break;if(jJ($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){q=H;break}}return{searchStartOffset:G,searchEndOffset:q}}_matchBracket(J,$){const X=J.lineNumber,Q=this.textModel.tokenization.getLineTokens(X),Y=this.textModel.getLineContent(X),Z=Q.findTokenIndexAtOffset(J.column-1);if(Z<0)return null;const G=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId(Z)).brackets;if(G&&!jJ(Q.getStandardTokenType(Z))){let{searchStartOffset:q,searchEndOffset:U}=this._establishBracketSearchOffsets(J,Q,G,Z),H=null;while(!0){const z=E9.findNextBracketInRange(G.forwardRegex,X,Y,q,U);if(!z)break;if(z.startColumn<=J.column&&J.column<=z.endColumn){const V=Y.substring(z.startColumn-1,z.endColumn-1).toLowerCase(),W=this._matchFoundBracket(z,G.textIsBracket[V],G.textIsOpenBracket[V],$);if(W){if(W instanceof L$)return null;H=W}}q=z.endColumn-1}if(H)return H}if(Z>0&&Q.getStartOffset(Z)===J.column-1){const q=Z-1,U=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId(q)).brackets;if(U&&!jJ(Q.getStandardTokenType(q))){const{searchStartOffset:H,searchEndOffset:z}=this._establishBracketSearchOffsets(J,Q,U,q),V=E9.findPrevBracketInRange(U.reversedRegex,X,Y,H,z);if(V&&V.startColumn<=J.column&&J.column<=V.endColumn){const W=Y.substring(V.startColumn-1,V.endColumn-1).toLowerCase(),B=this._matchFoundBracket(V,U.textIsBracket[W],U.textIsOpenBracket[W],$);if(B){if(B instanceof L$)return null;return B}}}}return null}_matchFoundBracket(J,$,X,Q){if(!$)return null;const Y=X?this._findMatchingBracketDown($,J.getEndPosition(),Q):this._findMatchingBracketUp($,J.getStartPosition(),Q);if(!Y)return null;if(Y instanceof L$)return Y;return[J,Y]}_findMatchingBracketUp(J,$,X){const{languageId:Q,reversedRegex:Y}=J;let Z=-1,G=0;const q=(U,H,z,V)=>{while(!0){if(X&&++G%100===0&&!X())return L$.INSTANCE;const W=E9.findPrevBracketInRange(Y,U,H,z,V);if(!W)break;const B=H.substring(W.startColumn-1,W.endColumn-1).toLowerCase();if(J.isOpen(B))Z++;else if(J.isClose(B))Z--;if(Z===0)return W;V=W.startColumn-1}return null};for(let U=$.lineNumber;U>=1;U--){const H=this.textModel.tokenization.getLineTokens(U),z=H.getCount(),V=this.textModel.getLineContent(U);let W=z-1,B=V.length,j=V.length;if(U===$.lineNumber)W=H.findTokenIndexAtOffset($.column-1),B=$.column-1,j=$.column-1;let K=!0;for(;W>=0;W--){const D=H.getLanguageId(W)===Q&&!jJ(H.getStandardTokenType(W));if(D)if(K)B=H.getStartOffset(W);else B=H.getStartOffset(W),j=H.getEndOffset(W);else if(K&&B!==j){const A=q(U,V,B,j);if(A)return A}K=D}if(K&&B!==j){const D=q(U,V,B,j);if(D)return D}}return null}_findMatchingBracketDown(J,$,X){const{languageId:Q,forwardRegex:Y}=J;let Z=1,G=0;const q=(H,z,V,W)=>{while(!0){if(X&&++G%100===0&&!X())return L$.INSTANCE;const B=E9.findNextBracketInRange(Y,H,z,V,W);if(!B)break;const j=z.substring(B.startColumn-1,B.endColumn-1).toLowerCase();if(J.isOpen(j))Z++;else if(J.isClose(j))Z--;if(Z===0)return B;V=B.endColumn-1}return null},U=this.textModel.getLineCount();for(let H=$.lineNumber;H<=U;H++){const z=this.textModel.tokenization.getLineTokens(H),V=z.getCount(),W=this.textModel.getLineContent(H);let B=0,j=0,K=0;if(H===$.lineNumber)B=z.findTokenIndexAtOffset($.column-1),j=$.column-1,K=$.column-1;let D=!0;for(;B<V;B++){const A=z.getLanguageId(B)===Q&&!jJ(z.getStandardTokenType(B));if(A)if(D)K=z.getEndOffset(B);else j=z.getStartOffset(B),K=z.getEndOffset(B);else if(D&&j!==K){const P=q(H,W,j,K);if(P)return P}D=A}if(D&&j!==K){const A=q(H,W,j,K);if(A)return A}}return null}findPrevBracket(J){var $;const X=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketBefore(X))||null;let Q=null,Y=null,Z=null;for(let G=X.lineNumber;G>=1;G--){const q=this.textModel.tokenization.getLineTokens(G),U=q.getCount(),H=this.textModel.getLineContent(G);let z=U-1,V=H.length,W=H.length;if(G===X.lineNumber){z=q.findTokenIndexAtOffset(X.column-1),V=X.column-1,W=X.column-1;const j=q.getLanguageId(z);if(Q!==j)Q=j,Y=this.languageConfigurationService.getLanguageConfiguration(Q).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(Q).bracketsNew}let B=!0;for(;z>=0;z--){const j=q.getLanguageId(z);if(Q!==j){if(Y&&Z&&B&&V!==W){const D=E9.findPrevBracketInRange(Y.reversedRegex,G,H,V,W);if(D)return this._toFoundBracket(Z,D);B=!1}Q=j,Y=this.languageConfigurationService.getLanguageConfiguration(Q).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(Q).bracketsNew}const K=!!Y&&!jJ(q.getStandardTokenType(z));if(K)if(B)V=q.getStartOffset(z);else V=q.getStartOffset(z),W=q.getEndOffset(z);else if(Z&&Y&&B&&V!==W){const D=E9.findPrevBracketInRange(Y.reversedRegex,G,H,V,W);if(D)return this._toFoundBracket(Z,D)}B=K}if(Z&&Y&&B&&V!==W){const j=E9.findPrevBracketInRange(Y.reversedRegex,G,H,V,W);if(j)return this._toFoundBracket(Z,j)}}return null}findNextBracket(J){var $;const X=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketAfter(X))||null;const Q=this.textModel.getLineCount();let Y=null,Z=null,G=null;for(let q=X.lineNumber;q<=Q;q++){const U=this.textModel.tokenization.getLineTokens(q),H=U.getCount(),z=this.textModel.getLineContent(q);let V=0,W=0,B=0;if(q===X.lineNumber){V=U.findTokenIndexAtOffset(X.column-1),W=X.column-1,B=X.column-1;const K=U.getLanguageId(V);if(Y!==K)Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let j=!0;for(;V<H;V++){const K=U.getLanguageId(V);if(Y!==K){if(G&&Z&&j&&W!==B){const A=E9.findNextBracketInRange(Z.forwardRegex,q,z,W,B);if(A)return this._toFoundBracket(G,A);j=!1}Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}const D=!!Z&&!jJ(U.getStandardTokenType(V));if(D)if(j)B=U.getEndOffset(V);else W=U.getStartOffset(V),B=U.getEndOffset(V);else if(G&&Z&&j&&W!==B){const A=E9.findNextBracketInRange(Z.forwardRegex,q,z,W,B);if(A)return this._toFoundBracket(G,A)}j=D}if(G&&Z&&j&&W!==B){const K=E9.findNextBracketInRange(Z.forwardRegex,q,z,W,B);if(K)return this._toFoundBracket(G,K)}}return null}findEnclosingBrackets(J,$){const X=this.textModel.validatePosition(J);if(this.canBuildAST){const W=L.fromPositions(X),B=this.getBracketPairsInRange(L.fromPositions(X,X)).findLast((j)=>j.closingBracketRange!==void 0&&j.range.strictContainsRange(W));if(B)return[B.openingBracketRange,B.closingBracketRange];return null}const Q=d_($),Y=this.textModel.getLineCount(),Z=new Map;let G=[];const q=(W,B)=>{if(!Z.has(W)){const j=[];for(let K=0,D=B?B.brackets.length:0;K<D;K++)j[K]=0;Z.set(W,j)}G=Z.get(W)};let U=0;const H=(W,B,j,K,D)=>{while(!0){if(Q&&++U%100===0&&!Q())return L$.INSTANCE;const A=E9.findNextBracketInRange(W.forwardRegex,B,j,K,D);if(!A)break;const P=j.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),R=W.textIsBracket[P];if(R){if(R.isOpen(P))G[R.index]++;else if(R.isClose(P))G[R.index]--;if(G[R.index]===-1)return this._matchFoundBracket(A,R,!1,Q)}K=A.endColumn-1}return null};let z=null,V=null;for(let W=X.lineNumber;W<=Y;W++){const B=this.textModel.tokenization.getLineTokens(W),j=B.getCount(),K=this.textModel.getLineContent(W);let D=0,A=0,P=0;if(W===X.lineNumber){D=B.findTokenIndexAtOffset(X.column-1),A=X.column-1,P=X.column-1;const M=B.getLanguageId(D);if(z!==M)z=M,V=this.languageConfigurationService.getLanguageConfiguration(z).brackets,q(z,V)}let R=!0;for(;D<j;D++){const M=B.getLanguageId(D);if(z!==M){if(V&&R&&A!==P){const _=H(V,W,K,A,P);if(_)return JA(_);R=!1}z=M,V=this.languageConfigurationService.getLanguageConfiguration(z).brackets,q(z,V)}const T=!!V&&!jJ(B.getStandardTokenType(D));if(T)if(R)P=B.getEndOffset(D);else A=B.getStartOffset(D),P=B.getEndOffset(D);else if(V&&R&&A!==P){const _=H(V,W,K,A,P);if(_)return JA(_)}R=T}if(V&&R&&A!==P){const M=H(V,W,K,A,P);if(M)return JA(M)}}return null}_toFoundBracket(J,$){if(!$)return null;let X=this.textModel.getValueInRange($);X=X.toLowerCase();const Q=J.getBracketInfo(X);if(!Q)return null;return{range:$,bracketInfo:Q}}}class L${constructor(){this._searchCanceledBrand=void 0}}var w60,d_,JA;var Gu=N(()=>{V1();A0();$0();u0();cZ();KF();Zu();w60=function(J,$){return{object:J,dispose:()=>$===null||$===void 0?void 0:$.dispose()}},d_=function(J){if(typeof J==="undefined")return()=>!0;else{const $=Date.now();return()=>{return Date.now()-$<=J}}},JA=function(J){if(J instanceof L$)return null;return J};L$.INSTANCE=new L$});class a_ extends f{constructor(J){super();this.textModel=J,this.colorProvider=new r_,this.onDidChangeEmitter=new E,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=J.getOptions().bracketPairColorizationOptions,this._register(J.bracketPairs.onDidChange(($)=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(J){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(J,$,X,Q){if(Q)return[];if($===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(J,!0).map((Z)=>({id:`bracket${Z.range.toString()}-${Z.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Z,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Z.range})).toArray()}getAllDecorations(J,$){if(J===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.getDecorationsInRange(new L(1,1,this.textModel.getLineCount(),1),J,$)}}class r_{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(J,$){if(J.isInvalid)return this.unexpectedClosingBracketClassName;return this.getInlineClassNameOfLevel($?J.nestingLevelOfEqualBracketType:J.nestingLevel)}getInlineClassNameOfLevel(J){return`bracket-highlighting-${J%30}`}}var qu=N(()=>{A0();$0();u0();A4();X7();V9((J,$)=>{const X=[NK,TK,_K,wK,LK,IK],Q=new r_;$.addRule(`.monaco-editor .${Q.unexpectedClosingBracketClassName} { color: ${J.getColor(eg)}; }`);const Y=X.map((Z)=>J.getColor(Z)).filter((Z)=>!!Z).filter((Z)=>!Z.isTransparent());for(let Z=0;Z<30;Z++){const G=Y[Z%Y.length];$.addRule(`.monaco-editor .${Q.getInlineClassNameOfLevel(Z)} { color: ${G}; }`)}})});function Uu(J,$){if(J===null||J.length===0)return $;return new I$(J,$).compress()}class S7{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(J,$,X,Q){this.oldPosition=J,this.oldText=$,this.newPosition=X,this.newText=Q}toString(){if(this.oldText.length===0)return`(insert@${this.oldPosition} "${$A(this.newText)}")`;if(this.newText.length===0)return`(delete@${this.oldPosition} "${$A(this.oldText)}")`;return`(replace@${this.oldPosition} "${$A(this.oldText)}" with "${$A(this.newText)}")`}static _writeStringSize(J){return 4+2*J.length}static _writeString(J,$,X){const Q=$.length;k5(J,Q,X),X+=4;for(let Y=0;Y<Q;Y++)jb(J,$.charCodeAt(Y),X),X+=2;return X}static _readString(J,$){const X=I5(J,$);return $+=4,Kb(J,$,X)}writeSize(){return 8+S7._writeStringSize(this.oldText)+S7._writeStringSize(this.newText)}write(J,$){return k5(J,this.oldPosition,$),$+=4,k5(J,this.newPosition,$),$+=4,$=S7._writeString(J,this.oldText,$),$=S7._writeString(J,this.newText,$),$}static read(J,$,X){const Q=I5(J,$);$+=4;const Y=I5(J,$);$+=4;const Z=S7._readString(J,$);$+=S7._writeStringSize(Z);const G=S7._readString(J,$);return $+=S7._writeStringSize(G),X.push(new S7(Q,Z,Y,G)),$}}class I${constructor(J,$){this._prevEdits=J,this._currEdits=$,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let J=0,$=0,X=this._getPrev(J),Q=this._getCurr($);while(J<this._prevLen||$<this._currLen){if(X===null){this._acceptCurr(Q),Q=this._getCurr(++$);continue}if(Q===null){this._acceptPrev(X),X=this._getPrev(++J);continue}if(Q.oldEnd<=X.newPosition){this._acceptCurr(Q),Q=this._getCurr(++$);continue}if(X.newEnd<=Q.oldPosition){this._acceptPrev(X),X=this._getPrev(++J);continue}if(Q.oldPosition<X.newPosition){const[U,H]=I$._splitCurr(Q,X.newPosition-Q.oldPosition);this._acceptCurr(U),Q=H;continue}if(X.newPosition<Q.oldPosition){const[U,H]=I$._splitPrev(X,Q.oldPosition-X.newPosition);this._acceptPrev(U),X=H;continue}let G,q;if(Q.oldEnd===X.newEnd)G=X,q=Q,X=this._getPrev(++J),Q=this._getCurr(++$);else if(Q.oldEnd<X.newEnd){const[U,H]=I$._splitPrev(X,Q.oldLength);G=U,q=Q,X=H,Q=this._getCurr(++$)}else{const[U,H]=I$._splitCurr(Q,X.newLength);G=X,q=U,X=this._getPrev(++J),Q=H}this._result[this._resultLen++]=new S7(G.oldPosition,G.oldText,q.newPosition,q.newText),this._prevDeltaOffset+=G.newLength-G.oldLength,this._currDeltaOffset+=q.newLength-q.oldLength}const Y=I$._merge(this._result);return I$._removeNoOps(Y)}_acceptCurr(J){this._result[this._resultLen++]=I$._rebaseCurr(this._prevDeltaOffset,J),this._currDeltaOffset+=J.newLength-J.oldLength}_getCurr(J){return J<this._currLen?this._currEdits[J]:null}_acceptPrev(J){this._result[this._resultLen++]=I$._rebasePrev(this._currDeltaOffset,J),this._prevDeltaOffset+=J.newLength-J.oldLength}_getPrev(J){return J<this._prevLen?this._prevEdits[J]:null}static _rebaseCurr(J,$){return new S7($.oldPosition-J,$.oldText,$.newPosition,$.newText)}static _rebasePrev(J,$){return new S7($.oldPosition,$.oldText,$.newPosition+J,$.newText)}static _splitPrev(J,$){const X=J.newText.substr(0,$),Q=J.newText.substr($);return[new S7(J.oldPosition,J.oldText,J.newPosition,X),new S7(J.oldEnd,"",J.newPosition+$,Q)]}static _splitCurr(J,$){const X=J.oldText.substr(0,$),Q=J.oldText.substr($);return[new S7(J.oldPosition,X,J.newPosition,J.newText),new S7(J.oldPosition+$,Q,J.newEnd,"")]}static _merge(J){if(J.length===0)return J;const $=[];let X=0,Q=J[0];for(let Y=1;Y<J.length;Y++){const Z=J[Y];if(Q.oldEnd===Z.oldPosition)Q=new S7(Q.oldPosition,Q.oldText+Z.oldText,Q.newPosition,Q.newText+Z.newText);else $[X++]=Q,Q=Z}return $[X++]=Q,$}static _removeNoOps(J){if(J.length===0)return J;const $=[];let X=0;for(let Q=0;Q<J.length;Q++){const Y=J[Q];if(Y.oldText===Y.newText)continue;$[X++]=Y}return $}}var $A;var i_=N(()=>{BH();dZ();$A=function(J){return J.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}});function MY(J){return J===47||J===92}function n_(J){return J.replace(/[\\/]/g,M8.sep)}function Hu(J){if(J.indexOf("/")===-1)J=n_(J);if(/^[a-zA-Z]:(\/|$)/.test(J))J="/"+J;return J}function o_(J,$=M8.sep){if(!J)return"";const X=J.length,Q=J.charCodeAt(0);if(MY(Q)){if(MY(J.charCodeAt(1))){if(!MY(J.charCodeAt(2))){let Z=3;const G=Z;for(;Z<X;Z++)if(MY(J.charCodeAt(Z)))break;if(G!==Z&&!MY(J.charCodeAt(Z+1))){Z+=1;for(;Z<X;Z++)if(MY(J.charCodeAt(Z)))return J.slice(0,Z+1).replace(/[\\/]/g,$)}}}return $}else if(zu(Q)){if(J.charCodeAt(1)===58)if(MY(J.charCodeAt(2)))return J.slice(0,2)+$;else return J.slice(0,2)}let Y=J.indexOf("://");if(Y!==-1){Y+=3;for(;Y<X;Y++)if(MY(J.charCodeAt(Y)))return J.slice(0,Y+1)}return""}function _z(J,$,X,Q=iJ){if(J===$)return!0;if(!J||!$)return!1;if($.length>J.length)return!1;if(X){if(!m2(J,$))return!1;if($.length===J.length)return!0;let Z=$.length;if($.charAt($.length-1)===Q)Z--;return J.charAt(Z)===Q}if($.charAt($.length-1)!==Q)$+=Q;return J.indexOf($)===0}function zu(J){return J>=65&&J<=90||J>=97&&J<=122}function Vu(J,$=F8){if($)return zu(J.charCodeAt(0))&&J.charCodeAt(1)===58;return!1}var XA=N(()=>{$X();O1();l0()});function sX(J){return f3(J,!0)}class QA{constructor(J){this._ignorePathCasing=J}compare(J,$,X=!1){if(J===$)return 0;return h3(this.getComparisonKey(J,X),this.getComparisonKey($,X))}isEqual(J,$,X=!1){if(J===$)return!0;if(!J||!$)return!1;return this.getComparisonKey(J,X)===this.getComparisonKey($,X)}getComparisonKey(J,$=!1){return J.with({path:this._ignorePathCasing(J)?J.path.toLowerCase():void 0,fragment:$?null:void 0}).toString()}isEqualOrParent(J,$,X=!1){if(J.scheme===$.scheme){if(J.scheme===o0.file)return _z(sX(J),sX($),this._ignorePathCasing(J))&&J.query===$.query&&(X||J.fragment===$.fragment);if(Wu(J.authority,$.authority))return _z(J.path,$.path,this._ignorePathCasing(J),"/")&&J.query===$.query&&(X||J.fragment===$.fragment)}return!1}joinPath(J,...$){return I0.joinPath(J,...$)}basenameOrAuthority(J){return yG(J)||J.authority}basename(J){return M8.basename(J.path)}extname(J){return M8.extname(J.path)}dirname(J){if(J.path.length===0)return J;let $;if(J.scheme===o0.file)$=I0.file(TB(sX(J))).path;else if($=M8.dirname(J.path),J.authority&&$.length&&$.charCodeAt(0)!==47)console.error(`dirname("${J.toString})) resulted in a relative path`),$="/";return J.with({path:$})}normalizePath(J){if(!J.path.length)return J;let $;if(J.scheme===o0.file)$=I0.file(NB(sX(J))).path;else $=M8.normalize(J.path);return J.with({path:$})}relativePath(J,$){if(J.scheme!==$.scheme||!Wu(J.authority,$.authority))return;if(J.scheme===o0.file){const Y=xC(sX(J),sX($));return F8?n_(Y):Y}let X=J.path||"/";const Q=$.path||"/";if(this._ignorePathCasing(J)){let Y=0;for(let Z=Math.min(X.length,Q.length);Y<Z;Y++)if(X.charCodeAt(Y)!==Q.charCodeAt(Y)){if(X.charAt(Y).toLowerCase()!==Q.charAt(Y).toLowerCase())break}X=Q.substr(0,Y)+X.substr(Y)}return M8.relative(X,Q)}resolvePath(J,$){if(J.scheme===o0.file){const X=I0.file(CC(sX(J),$));return J.with({authority:X.authority,path:X.path})}return $=Hu($),J.with({path:M8.resolve(J.path,$)})}isAbsolutePath(J){return!!J.path&&J.path[0]==="/"}isEqualAuthority(J,$){return J===$||J!==void 0&&$!==void 0&&QX(J,$)}hasTrailingPathSeparator(J,$=iJ){if(J.scheme===o0.file){const X=sX(J);return X.length>o_(X).length&&X[X.length-1]===$}else{const X=J.path;return X.length>1&&X.charCodeAt(X.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(J.fsPath)}}removeTrailingPathSeparator(J,$=iJ){if(Bu(J,$))return J.with({path:J.path.substr(0,J.path.length-1)});return J}addTrailingPathSeparator(J,$=iJ){let X=!1;if(J.scheme===o0.file){const Q=sX(J);X=Q!==void 0&&Q.length===o_(Q).length&&Q[Q.length-1]===$}else{$="/";const Q=J.path;X=Q.length===1&&Q.charCodeAt(Q.length-1)===47}if(!X&&!Bu(J,$))return J.with({path:J.path+"/"});return J}}var B8,k_0,E_0,ju,y_0,S_0,C_0,yG,Fu,YA,x_0,Ku,b_0,t_,v_0,Wu,Bu,f_0,h_0,k$;var E$=N(()=>{XA();T5();$X();O1();l0();l8();B8=new QA(()=>!1),k_0=new QA((J)=>{return J.scheme===o0.file?!q8:!0}),E_0=new QA((J)=>!0),ju=B8.isEqual.bind(B8),y_0=B8.isEqualOrParent.bind(B8),S_0=B8.getComparisonKey.bind(B8),C_0=B8.basenameOrAuthority.bind(B8),yG=B8.basename.bind(B8),Fu=B8.extname.bind(B8),YA=B8.dirname.bind(B8),x_0=B8.joinPath.bind(B8),Ku=B8.normalizePath.bind(B8),b_0=B8.relativePath.bind(B8),t_=B8.resolvePath.bind(B8),v_0=B8.isAbsolutePath.bind(B8),Wu=B8.isEqualAuthority.bind(B8),Bu=B8.hasTrailingPathSeparator.bind(B8),f_0=B8.removeTrailingPathSeparator.bind(B8),h_0=B8.addTrailingPathSeparator.bind(B8);(function(J){J.META_DATA_LABEL="label",J.META_DATA_DESCRIPTION="description",J.META_DATA_SIZE="size",J.META_DATA_MIME="mime";function $(X){const Q=new Map;X.path.substring(X.path.indexOf(";")+1,X.path.lastIndexOf(";")).split(";").forEach((G)=>{const[q,U]=G.split(":");if(q&&U)Q.set(q,U)});const Z=X.path.substring(0,X.path.indexOf(";"));if(Z)Q.set(J.META_DATA_MIME,Z);return Q}J.parseMetaData=$})(k$||(k$={}))});function y$(J){if(!J)return!1;return J instanceof Jw||J instanceof Au}class C7{static create(J,$){const X=J.getAlternativeVersionId(),Q=e_(J);return new C7(X,X,Q,Q,$,$,[])}constructor(J,$,X,Q,Y,Z,G){this.beforeVersionId=J,this.afterVersionId=$,this.beforeEOL=X,this.afterEOL=Q,this.beforeCursorState=Y,this.afterCursorState=Z,this.changes=G}append(J,$,X,Q,Y){if($.length>0)this.changes=Uu(this.changes,$);this.afterEOL=X,this.afterVersionId=Q,this.afterCursorState=Y}static _writeSelectionsSize(J){return 4+16*(J?J.length:0)}static _writeSelections(J,$,X){if(k5(J,$?$.length:0,X),X+=4,$)for(let Q of $)k5(J,Q.selectionStartLineNumber,X),X+=4,k5(J,Q.selectionStartColumn,X),X+=4,k5(J,Q.positionLineNumber,X),X+=4,k5(J,Q.positionColumn,X),X+=4;return X}static _readSelections(J,$,X){const Q=I5(J,$);$+=4;for(let Y=0;Y<Q;Y++){const Z=I5(J,$);$+=4;const G=I5(J,$);$+=4;const q=I5(J,$);$+=4;const U=I5(J,$);$+=4,X.push(new b0(Z,G,q,U))}return $}serialize(){let J=10+C7._writeSelectionsSize(this.beforeCursorState)+C7._writeSelectionsSize(this.afterCursorState)+4;for(let Q of this.changes)J+=Q.writeSize();const $=new Uint8Array(J);let X=0;k5($,this.beforeVersionId,X),X+=4,k5($,this.afterVersionId,X),X+=4,UO($,this.beforeEOL,X),X+=1,UO($,this.afterEOL,X),X+=1,X=C7._writeSelections($,this.beforeCursorState,X),X=C7._writeSelections($,this.afterCursorState,X),k5($,this.changes.length,X),X+=4;for(let Q of this.changes)X=Q.write($,X);return $.buffer}static deserialize(J){const $=new Uint8Array(J);let X=0;const Q=I5($,X);X+=4;const Y=I5($,X);X+=4;const Z=qO($,X);X+=1;const G=qO($,X);X+=1;const q=[];X=C7._readSelections($,X,q);const U=[];X=C7._readSelections($,X,U);const H=I5($,X);X+=4;const z=[];for(let V=0;V<H;V++)X=S7.read($,X,z);return new C7(Q,Y,Z,G,q,U,z)}}class Jw{get type(){return 0}get resource(){if(I0.isUri(this.model))return this.model;return this.model.uri}constructor(J,$,X,Q){this.label=J,this.code=$,this.model=X,this._data=C7.create(X,Q)}toString(){return(this._data instanceof C7?this._data:C7.deserialize(this._data)).changes.map(($)=>$.toString()).join(", ")}matchesResource(J){return(I0.isUri(this.model)?this.model:this.model.uri).toString()===J.toString()}setModel(J){this.model=J}canAppend(J){return this.model===J&&this._data instanceof C7}append(J,$,X,Q,Y){if(this._data instanceof C7)this._data.append(J,$,X,Q,Y)}close(){if(this._data instanceof C7)this._data=this._data.serialize()}open(){if(!(this._data instanceof C7))this._data=C7.deserialize(this._data)}undo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof C7)this._data=this._data.serialize();const J=C7.deserialize(this._data);this.model._applyUndo(J.changes,J.beforeEOL,J.beforeVersionId,J.beforeCursorState)}redo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof C7)this._data=this._data.serialize();const J=C7.deserialize(this._data);this.model._applyRedo(J.changes,J.afterEOL,J.afterVersionId,J.afterCursorState)}heapSize(){if(this._data instanceof C7)this._data=this._data.serialize();return this._data.byteLength+168}}class Au{get resources(){return this._editStackElementsArr.map((J)=>J.resource)}constructor(J,$,X){this.label=J,this.code=$,this.type=1,this._isOpen=!0,this._editStackElementsArr=X.slice(0),this._editStackElementsMap=new Map;for(let Q of this._editStackElementsArr){const Y=YU(Q.resource);this._editStackElementsMap.set(Y,Q)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(J){const $=YU(J);return this._editStackElementsMap.has($)}setModel(J){const $=YU(I0.isUri(J)?J:J.uri);if(this._editStackElementsMap.has($))this._editStackElementsMap.get($).setModel(J)}canAppend(J){if(!this._isOpen)return!1;const $=YU(J.uri);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).canAppend(J);return!1}append(J,$,X,Q,Y){const Z=YU(J.uri);this._editStackElementsMap.get(Z).append(J,$,X,Q,Y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let J of this._editStackElementsArr)J.undo()}redo(){for(let J of this._editStackElementsArr)J.redo()}heapSize(J){const $=YU(J);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).heapSize();return 0}split(){return this._editStackElementsArr}toString(){const J=[];for(let $ of this._editStackElementsArr)J.push(`${yG($.resource)}: ${$}`);return`{${J.join(", ")}}`}}class ZA{constructor(J,$){this._model=J,this._undoRedoService=$}pushStackElement(){const J=this._undoRedoService.getLastElement(this._model.uri);if(y$(J))J.close()}popStackElement(){const J=this._undoRedoService.getLastElement(this._model.uri);if(y$(J))J.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(J,$){const X=this._undoRedoService.getLastElement(this._model.uri);if(y$(X)&&X.canAppend(this._model))return X;const Q=new Jw(F("edit","Typing"),"undoredo.textBufferEdit",this._model,J);return this._undoRedoService.pushElement(Q,$),Q}pushEOL(J){const $=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(J),$.append(this._model,[],e_(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(J,$,X,Q){const Y=this._getOrCreateEditStackElement(J,Q),Z=this._model.applyEdits($,!0),G=ZA._computeCursorState(X,Z),q=Z.map((U,H)=>({index:H,textChange:U.textChange}));return q.sort((U,H)=>{if(U.textChange.oldPosition===H.textChange.oldPosition)return U.index-H.index;return U.textChange.oldPosition-H.textChange.oldPosition}),Y.append(this._model,q.map((U)=>U.textChange),e_(this._model),this._model.getAlternativeVersionId(),G),G}static _computeCursorState(J,$){try{return J?J($):null}catch(X){return a0(X),null}}}var YU,e_;var $w=N(()=>{m0();A1();f7();l8();i_();BH();E$();YU=function(J){return J.toString()},e_=function(J){if(J.getEOL()==="\n")return 0;else return 1}});function Xw(J,$,X){const Q=Math.min(J.getLineCount(),1e4);let Y=0,Z=0,G="",q=0;const U=[2,4,6,8,3,5,7],H=8,z=[0,0,0,0,0,0,0,0,0],V=new Pu;for(let j=1;j<=Q;j++){const K=J.getLineLength(j),D=J.getLineContent(j),A=K<=65536;let P=!1,R=0,M=0,T=0;for(let w=0,x=K;w<x;w++){const C=A?D.charCodeAt(w):J.getLineCharCode(j,w);if(C===9)T++;else if(C===32)M++;else{P=!0,R=w;break}}if(!P)continue;if(T>0)Y++;else if(M>1)Z++;if(I60(G,q,D,R,V),V.looksLikeAlignment){if(!(X&&$===V.spacesDiff))continue}const _=V.spacesDiff;if(_<=H)z[_]++;G=D,q=R}let W=X;if(Y!==Z)W=Y<Z;let B=$;if(W){let j=W?0:0.1*Q;if(U.forEach((K)=>{const D=z[K];if(D>j)j=D,B=K}),B===4&&z[4]>0&&z[2]>0&&z[2]>=z[4]/2)B=2}return{insertSpaces:W,tabSize:B}}class Pu{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}var I60;var Du=N(()=>{I60=function(J,$,X,Q,Y){Y.spacesDiff=0,Y.looksLikeAlignment=!1;let Z;for(Z=0;Z<$&&Z<Q;Z++){const W=J.charCodeAt(Z),B=X.charCodeAt(Z);if(W!==B)break}let G=0,q=0;for(let W=Z;W<$;W++)if(J.charCodeAt(W)===32)G++;else q++;let U=0,H=0;for(let W=Z;W<Q;W++)if(X.charCodeAt(W)===32)U++;else H++;if(G>0&&q>0)return;if(U>0&&H>0)return;const z=Math.abs(q-H),V=Math.abs(G-U);if(z===0){if(Y.spacesDiff=V,V>0&&0<=U-1&&U-1<J.length&&U<X.length){if(X.charCodeAt(U)!==32&&J.charCodeAt(U-1)===32){if(J.charCodeAt(J.length-1)===44)Y.looksLikeAlignment=!0}}return}if(V%z===0){Y.spacesDiff=V/z;return}}});function W9(J){return(J.metadata&1)>>>0}function S60(J,$,X,Q,Y){const Z=k60(J),G=Z===0||Z===2,q=Z===1||Z===2,U=X-$,H=Q,z=Math.min(U,H),V=J.start;let W=!1;const B=J.end;let j=!1;if($<=V&&B<=X&&E60(J))J.start=$,W=!0,J.end=$,j=!0;{const D=Y?1:U>0?2:0;if(!W&&ZU(V,G,$,D))W=!0;if(!j&&ZU(B,q,$,D))j=!0}if(z>0&&!Y){const D=U>H?2:0;if(!W&&ZU(V,G,$+z,D))W=!0;if(!j&&ZU(B,q,$+z,D))j=!0}{const D=Y?1:0;if(!W&&ZU(V,G,X,D))J.start=$+H,W=!0;if(!j&&ZU(B,q,X,D))J.end=$+H,j=!0}const K=H-U;if(!W)J.start=Math.max(0,V+K);if(!j)J.end=Math.max(0,B+K);if(J.start>J.end)J.end=J.start}function aX(J){J.maxEnd=Iu(J)}function m60(J,$,X,Q){if(J===X)return $-Q;return J-X}class GA{constructor(J,$,X){this.metadata=0,this.parent=this,this.left=this,this.right=this,Z8(this,1),this.start=$,this.end=X,this.delta=0,this.maxEnd=X,this.id=J,this.ownerId=0,this.options=null,Ru(this,!1),Mu(this,!1),Ou(this,1),Nu(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=X,this.range=null,e1(this,!1)}reset(J,$,X,Q){this.start=$,this.end=X,this.maxEnd=X,this.cachedVersionId=J,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=X,this.range=Q}setOptions(J){this.options=J;const $=this.options.className;Ru(this,$==="squiggly-error"||$==="squiggly-warning"||$==="squiggly-info"),Mu(this,this.options.glyphMarginClassName!==null),Ou(this,this.options.stickiness),Nu(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(J,$,X){if(this.cachedVersionId!==X)this.range=null;this.cachedVersionId=X,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=$}detach(){this.parent=null,this.left=null,this.right=null}}class Iz{constructor(){this.root=H1,this.requestNormalizeDelta=!1}intervalSearch(J,$,X,Q,Y,Z){if(this.root===H1)return[];return h60(this,J,$,X,Q,Y,Z)}search(J,$,X,Q){if(this.root===H1)return[];return f60(this,J,$,X,Q)}collectNodesFromOwner(J){return b60(this,J)}collectNodesPostOrder(){return v60(this)}insert(J){Tu(this,J),this._normalizeDeltaIfNecessary()}delete(J){_u(this,J),this._normalizeDeltaIfNecessary()}resolveNode(J,$){const X=J;let Q=0;while(J!==this.root){if(J===J.parent.right)Q+=J.parent.delta;J=J.parent}const Y=X.start+Q,Z=X.end+Q;X.setCachedOffsets(Y,Z,$)}acceptReplace(J,$,X,Q){const Y=C60(this,J,J+$);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z];_u(this,q)}this._normalizeDeltaIfNecessary(),x60(this,J,J+$,X),this._normalizeDeltaIfNecessary();for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z];q.start=q.cachedAbsoluteStart,q.end=q.cachedAbsoluteEnd,S60(q,J,J+$,X,Q),q.maxEnd=q.end,Tu(this,q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){if(!this.requestNormalizeDelta)return;this.requestNormalizeDelta=!1,y60(this)}}var Z8,q6,e1,wu,Ru,Lu,Mu,k60,Ou,E60,Nu,y60,ZU,C60,x60,b60,v60,f60,h60,Tu,g60,_u,p60,Qw,wz,Lz,Iu,OY,H1;var ku=N(()=>{Z8=function(J,$){J.metadata=J.metadata&254|$<<0},q6=function(J){return(J.metadata&2)>>>1===1},e1=function(J,$){J.metadata=J.metadata&253|($?1:0)<<1},wu=function(J){return(J.metadata&4)>>>2===1},Ru=function(J,$){J.metadata=J.metadata&251|($?1:0)<<2},Lu=function(J){return(J.metadata&64)>>>6===1},Mu=function(J,$){J.metadata=J.metadata&191|($?1:0)<<6},k60=function(J){return(J.metadata&24)>>>3},Ou=function(J,$){J.metadata=J.metadata&231|$<<3},E60=function(J){return(J.metadata&32)>>>5===1},Nu=function(J,$){J.metadata=J.metadata&223|($?1:0)<<5},y60=function(J){let $=J.root,X=0;while($!==H1){if($.left!==H1&&!q6($.left)){$=$.left;continue}if($.right!==H1&&!q6($.right)){X+=$.delta,$=$.right;continue}if($.start=X+$.start,$.end=X+$.end,$.delta=0,aX($),e1($,!0),e1($.left,!1),e1($.right,!1),$===$.parent.right)X-=$.parent.delta;$=$.parent}e1(J.root,!1)},ZU=function(J,$,X,Q){if(J<X)return!0;if(J>X)return!1;if(Q===1)return!1;if(Q===2)return!0;return $};C60=function(J,$,X){let Q=J.root,Y=0,Z=0,G=0,q=0;const U=[];let H=0;while(Q!==H1){if(q6(Q)){if(e1(Q.left,!1),e1(Q.right,!1),Q===Q.parent.right)Y-=Q.parent.delta;Q=Q.parent;continue}if(!q6(Q.left)){if(Z=Y+Q.maxEnd,Z<$){e1(Q,!0);continue}if(Q.left!==H1){Q=Q.left;continue}}if(G=Y+Q.start,G>X){e1(Q,!0);continue}if(q=Y+Q.end,q>=$)Q.setCachedOffsets(G,q,0),U[H++]=Q;if(e1(Q,!0),Q.right!==H1&&!q6(Q.right)){Y+=Q.delta,Q=Q.right;continue}}return e1(J.root,!1),U},x60=function(J,$,X,Q){let Y=J.root,Z=0,G=0,q=0;const U=Q-(X-$);while(Y!==H1){if(q6(Y)){if(e1(Y.left,!1),e1(Y.right,!1),Y===Y.parent.right)Z-=Y.parent.delta;aX(Y),Y=Y.parent;continue}if(!q6(Y.left)){if(G=Z+Y.maxEnd,G<$){e1(Y,!0);continue}if(Y.left!==H1){Y=Y.left;continue}}if(q=Z+Y.start,q>X){if(Y.start+=U,Y.end+=U,Y.delta+=U,Y.delta<-1073741824||Y.delta>1073741824)J.requestNormalizeDelta=!0;e1(Y,!0);continue}if(e1(Y,!0),Y.right!==H1&&!q6(Y.right)){Z+=Y.delta,Y=Y.right;continue}}e1(J.root,!1)},b60=function(J,$){let X=J.root;const Q=[];let Y=0;while(X!==H1){if(q6(X)){e1(X.left,!1),e1(X.right,!1),X=X.parent;continue}if(X.left!==H1&&!q6(X.left)){X=X.left;continue}if(X.ownerId===$)Q[Y++]=X;if(e1(X,!0),X.right!==H1&&!q6(X.right)){X=X.right;continue}}return e1(J.root,!1),Q},v60=function(J){let $=J.root;const X=[];let Q=0;while($!==H1){if(q6($)){e1($.left,!1),e1($.right,!1),$=$.parent;continue}if($.left!==H1&&!q6($.left)){$=$.left;continue}if($.right!==H1&&!q6($.right)){$=$.right;continue}X[Q++]=$,e1($,!0)}return e1(J.root,!1),X},f60=function(J,$,X,Q,Y){let Z=J.root,G=0,q=0,U=0;const H=[];let z=0;while(Z!==H1){if(q6(Z)){if(e1(Z.left,!1),e1(Z.right,!1),Z===Z.parent.right)G-=Z.parent.delta;Z=Z.parent;continue}if(Z.left!==H1&&!q6(Z.left)){Z=Z.left;continue}q=G+Z.start,U=G+Z.end,Z.setCachedOffsets(q,U,Q);let V=!0;if($&&Z.ownerId&&Z.ownerId!==$)V=!1;if(X&&wu(Z))V=!1;if(Y&&!Lu(Z))V=!1;if(V)H[z++]=Z;if(e1(Z,!0),Z.right!==H1&&!q6(Z.right)){G+=Z.delta,Z=Z.right;continue}}return e1(J.root,!1),H},h60=function(J,$,X,Q,Y,Z,G){let q=J.root,U=0,H=0,z=0,V=0;const W=[];let B=0;while(q!==H1){if(q6(q)){if(e1(q.left,!1),e1(q.right,!1),q===q.parent.right)U-=q.parent.delta;q=q.parent;continue}if(!q6(q.left)){if(H=U+q.maxEnd,H<$){e1(q,!0);continue}if(q.left!==H1){q=q.left;continue}}if(z=U+q.start,z>X){e1(q,!0);continue}if(V=U+q.end,V>=$){q.setCachedOffsets(z,V,Z);let j=!0;if(Q&&q.ownerId&&q.ownerId!==Q)j=!1;if(Y&&wu(q))j=!1;if(G&&!Lu(q))j=!1;if(j)W[B++]=q}if(e1(q,!0),q.right!==H1&&!q6(q.right)){U+=q.delta,q=q.right;continue}}return e1(J.root,!1),W},Tu=function(J,$){if(J.root===H1)return $.parent=H1,$.left=H1,$.right=H1,Z8($,0),J.root=$,J.root;g60(J,$),OY($.parent);let X=$;while(X!==J.root&&W9(X.parent)===1)if(X.parent===X.parent.parent.left){const Q=X.parent.parent.right;if(W9(Q)===1)Z8(X.parent,0),Z8(Q,0),Z8(X.parent.parent,1),X=X.parent.parent;else{if(X===X.parent.right)X=X.parent,wz(J,X);Z8(X.parent,0),Z8(X.parent.parent,1),Lz(J,X.parent.parent)}}else{const Q=X.parent.parent.left;if(W9(Q)===1)Z8(X.parent,0),Z8(Q,0),Z8(X.parent.parent,1),X=X.parent.parent;else{if(X===X.parent.left)X=X.parent,Lz(J,X);Z8(X.parent,0),Z8(X.parent.parent,1),wz(J,X.parent.parent)}}return Z8(J.root,0),$},g60=function(J,$){let X=0,Q=J.root;const{start:Y,end:Z}=$;while(!0)if(m60(Y,Z,Q.start+X,Q.end+X)<0)if(Q.left===H1){$.start-=X,$.end-=X,$.maxEnd-=X,Q.left=$;break}else Q=Q.left;else if(Q.right===H1){$.start-=X+Q.delta,$.end-=X+Q.delta,$.maxEnd-=X+Q.delta,Q.right=$;break}else X+=Q.delta,Q=Q.right;$.parent=Q,$.left=H1,$.right=H1,Z8($,1)},_u=function(J,$){let X,Q;if($.left===H1){if(X=$.right,Q=$,X.delta+=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;X.start+=$.delta,X.end+=$.delta}else if($.right===H1)X=$.left,Q=$;else{if(Q=p60($.right),X=Q.right,X.start+=Q.delta,X.end+=Q.delta,X.delta+=Q.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;if(Q.start+=$.delta,Q.end+=$.delta,Q.delta=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0}if(Q===J.root){J.root=X,Z8(X,0),$.detach(),Qw(),aX(X),J.root.parent=H1;return}const Y=W9(Q)===1;if(Q===Q.parent.left)Q.parent.left=X;else Q.parent.right=X;if(Q===$)X.parent=Q.parent;else{if(Q.parent===$)X.parent=Q;else X.parent=Q.parent;if(Q.left=$.left,Q.right=$.right,Q.parent=$.parent,Z8(Q,W9($)),$===J.root)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;if(Q.left!==H1)Q.left.parent=Q;if(Q.right!==H1)Q.right.parent=Q}if($.detach(),Y){if(OY(X.parent),Q!==$)OY(Q),OY(Q.parent);Qw();return}if(OY(X),OY(X.parent),Q!==$)OY(Q),OY(Q.parent);let Z;while(X!==J.root&&W9(X)===0)if(X===X.parent.left){if(Z=X.parent.right,W9(Z)===1)Z8(Z,0),Z8(X.parent,1),wz(J,X.parent),Z=X.parent.right;if(W9(Z.left)===0&&W9(Z.right)===0)Z8(Z,1),X=X.parent;else{if(W9(Z.right)===0)Z8(Z.left,0),Z8(Z,1),Lz(J,Z),Z=X.parent.right;Z8(Z,W9(X.parent)),Z8(X.parent,0),Z8(Z.right,0),wz(J,X.parent),X=J.root}}else{if(Z=X.parent.left,W9(Z)===1)Z8(Z,0),Z8(X.parent,1),Lz(J,X.parent),Z=X.parent.left;if(W9(Z.left)===0&&W9(Z.right)===0)Z8(Z,1),X=X.parent;else{if(W9(Z.left)===0)Z8(Z.right,0),Z8(Z,1),wz(J,Z),Z=X.parent.left;Z8(Z,W9(X.parent)),Z8(X.parent,0),Z8(Z.left,0),Lz(J,X.parent),X=J.root}}Z8(X,0),Qw()},p60=function(J){while(J.left!==H1)J=J.left;return J},Qw=function(){H1.parent=H1,H1.delta=0,H1.start=0,H1.end=0},wz=function(J,$){const X=$.right;if(X.delta+=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;if(X.start+=$.delta,X.end+=$.delta,$.right=X.left,X.left!==H1)X.left.parent=$;if(X.parent=$.parent,$.parent===H1)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;X.left=$,$.parent=X,aX($),aX(X)},Lz=function(J,$){const X=$.left;if($.delta-=X.delta,$.delta<-1073741824||$.delta>1073741824)J.requestNormalizeDelta=!0;if($.start-=X.delta,$.end-=X.delta,$.left=X.right,X.right!==H1)X.right.parent=$;if(X.parent=$.parent,$.parent===H1)J.root=X;else if($===$.parent.right)$.parent.right=X;else $.parent.left=X;X.right=$,$.parent=X,aX($),aX(X)},Iu=function(J){let $=J.end;if(J.left!==H1){const X=J.left.maxEnd;if(X>$)$=X}if(J.right!==H1){const X=J.right.maxEnd+J.delta;if(X>$)$=X}return $};OY=function(J){while(J!==H1){const $=Iu(J);if(J.maxEnd===$)return;J.maxEnd=$,J=J.parent}};H1=new GA(null,0,0);H1.parent=H1;H1.left=H1;H1.right=H1;Z8(H1,0)});function qA(J){while(J.left!==d0)J=J.left;return J}function Zw(J){while(J.right!==d0)J=J.right;return J}function Ez(J,$){const X=$.right;if(X.size_left+=$.size_left+($.piece?$.piece.length:0),X.lf_left+=$.lf_left+($.piece?$.piece.lineFeedCnt:0),$.right=X.left,X.left!==d0)X.left.parent=$;if(X.parent=$.parent,$.parent===d0)J.root=X;else if($.parent.left===$)$.parent.left=X;else $.parent.right=X;X.left=$,$.parent=X}function yz(J,$){const X=$.left;if($.left=X.right,X.right!==d0)X.right.parent=$;if(X.parent=$.parent,$.size_left-=X.size_left+(X.piece?X.piece.length:0),$.lf_left-=X.lf_left+(X.piece?X.piece.lineFeedCnt:0),$.parent===d0)J.root=X;else if($===$.parent.right)$.parent.right=X;else $.parent.left=X;X.right=$,$.parent=X}function Cz(J,$){let X,Q;if($.left===d0)Q=$,X=Q.right;else if($.right===d0)Q=$,X=Q.left;else Q=qA($.right),X=Q.right;if(Q===J.root){J.root=X,X.color=0,$.detach(),Yw(),J.root.parent=d0;return}const Y=Q.color===1;if(Q===Q.parent.left)Q.parent.left=X;else Q.parent.right=X;if(Q===$)X.parent=Q.parent,kz(J,X);else{if(Q.parent===$)X.parent=Q;else X.parent=Q.parent;if(kz(J,X),Q.left=$.left,Q.right=$.right,Q.parent=$.parent,Q.color=$.color,$===J.root)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;if(Q.left!==d0)Q.left.parent=Q;if(Q.right!==d0)Q.right.parent=Q;Q.size_left=$.size_left,Q.lf_left=$.lf_left,kz(J,Q)}if($.detach(),X.parent.left===X){const G=Gw(X),q=qw(X);if(G!==X.parent.size_left||q!==X.parent.lf_left){const U=G-X.parent.size_left,H=q-X.parent.lf_left;X.parent.size_left=G,X.parent.lf_left=q,S$(J,X.parent,U,H)}}if(kz(J,X.parent),Y){Yw();return}let Z;while(X!==J.root&&X.color===0)if(X===X.parent.left){if(Z=X.parent.right,Z.color===1)Z.color=0,X.parent.color=1,Ez(J,X.parent),Z=X.parent.right;if(Z.left.color===0&&Z.right.color===0)Z.color=1,X=X.parent;else{if(Z.right.color===0)Z.left.color=0,Z.color=1,yz(J,Z),Z=X.parent.right;Z.color=X.parent.color,X.parent.color=0,Z.right.color=0,Ez(J,X.parent),X=J.root}}else{if(Z=X.parent.left,Z.color===1)Z.color=0,X.parent.color=1,yz(J,X.parent),Z=X.parent.left;if(Z.left.color===0&&Z.right.color===0)Z.color=1,X=X.parent;else{if(Z.left.color===0)Z.right.color=0,Z.color=1,Ez(J,Z),Z=X.parent.left;Z.color=X.parent.color,X.parent.color=0,Z.left.color=0,yz(J,X.parent),X=J.root}}X.color=0,Yw()}function Uw(J,$){kz(J,$);while($!==J.root&&$.parent.color===1)if($.parent===$.parent.parent.left){const X=$.parent.parent.right;if(X.color===1)$.parent.color=0,X.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.right)$=$.parent,Ez(J,$);$.parent.color=0,$.parent.parent.color=1,yz(J,$.parent.parent)}}else{const X=$.parent.parent.left;if(X.color===1)$.parent.color=0,X.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.left)$=$.parent,yz(J,$);$.parent.color=0,$.parent.parent.color=1,Ez(J,$.parent.parent)}}J.root.color=0}function S$(J,$,X,Q){while($!==J.root&&$!==d0){if($.parent.left===$)$.parent.size_left+=X,$.parent.lf_left+=Q;$=$.parent}}function kz(J,$){let X=0,Q=0;if($===J.root)return;while($!==J.root&&$===$.parent.right)$=$.parent;if($===J.root)return;$=$.parent,X=Gw($.left)-$.size_left,Q=qw($.left)-$.lf_left,$.size_left+=X,$.lf_left+=Q;while($!==J.root&&(X!==0||Q!==0)){if($.parent.left===$)$.parent.size_left+=X,$.parent.lf_left+=Q;$=$.parent}}class Sz{constructor(J,$){this.piece=J,this.color=$,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==d0)return qA(this.right);let J=this;while(J.parent!==d0){if(J.parent.left===J)break;J=J.parent}if(J.parent===d0)return d0;else return J.parent}prev(){if(this.left!==d0)return Zw(this.left);let J=this;while(J.parent!==d0){if(J.parent.right===J)break;J=J.parent}if(J.parent===d0)return d0;else return J.parent}detach(){this.parent=null,this.left=null,this.right=null}}var Gw,qw,Yw,d0;var Eu=N(()=>{Gw=function(J){if(J===d0)return 0;return J.size_left+J.piece.length+Gw(J.right)},qw=function(J){if(J===d0)return 0;return J.lf_left+J.piece.lineFeedCnt+qw(J.right)},Yw=function(){d0.parent=d0};d0=new Sz(null,0);d0.parent=d0;d0.left=d0;d0.right=d0;d0.color=0});function C$(J,$=!0){const X=[0];let Q=1;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J.charCodeAt(Y);if(G===13)if(Y+1<Z&&J.charCodeAt(Y+1)===10)X[Q++]=Y+2,Y++;else X[Q++]=Y+1;else if(G===10)X[Q++]=Y+1}if($)return yu(X);else return X}function Cu(J,$){J.length=0,J[0]=0;let X=1,Q=0,Y=0,Z=0,G=!0;for(let U=0,H=$.length;U<H;U++){const z=$.charCodeAt(U);if(z===13)if(U+1<H&&$.charCodeAt(U+1)===10)Z++,J[X++]=U+2,U++;else Q++,J[X++]=U+1;else if(z===10)Y++,J[X++]=U+1;else if(G){if(z!==9&&(z<32||z>126))G=!1}}const q=new Su(yu(J),Q,Y,Z,G);return J.length=0,q}class Su{constructor(J,$,X,Q,Y){this.lineStarts=J,this.cr=$,this.lf=X,this.crlf=Q,this.isBasicASCII=Y}}class B9{constructor(J,$,X,Q,Y){this.bufferIndex=J,this.start=$,this.end=X,this.lineFeedCnt=Q,this.length=Y}}class iX{constructor(J,$){this.buffer=J,this.lineStarts=$}}class xu{constructor(J,$){if(this._pieces=[],this._tree=J,this._BOM=$,this._index=0,J.root!==d0)J.iterate(J.root,(X)=>{if(X!==d0)this._pieces.push(X.piece);return!0})}read(){if(this._pieces.length===0)if(this._index===0)return this._index++,this._BOM;else return null;if(this._index>this._pieces.length-1)return null;if(this._index===0)return this._BOM+this._tree.getPieceContent(this._pieces[this._index++]);return this._tree.getPieceContent(this._pieces[this._index++])}}class bu{constructor(J){this._limit=J,this._cache=[]}get(J){for(let $=this._cache.length-1;$>=0;$--){const X=this._cache[$];if(X.nodeStartOffset<=J&&X.nodeStartOffset+X.node.piece.length>=J)return X}return null}get2(J){for(let $=this._cache.length-1;$>=0;$--){const X=this._cache[$];if(X.nodeStartLineNumber&&X.nodeStartLineNumber<J&&X.nodeStartLineNumber+X.node.piece.lineFeedCnt>=J)return X}return null}set(J){if(this._cache.length>=this._limit)this._cache.shift();this._cache.push(J)}validate(J){let $=!1;const X=this._cache;for(let Q=0;Q<X.length;Q++){const Y=X[Q];if(Y.node.parent===null||Y.nodeStartOffset>=J){X[Q]=null,$=!0;continue}}if($){const Q=[];for(let Y of X)if(Y!==null)Q.push(Y);this._cache=Q}}}class Hw{constructor(J,$,X){this.create(J,$,X)}create(J,$,X){this._buffers=[new iX("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=d0,this._lineCnt=1,this._length=0,this._EOL=$,this._EOLLength=$.length,this._EOLNormalized=X;let Q=null;for(let Y=0,Z=J.length;Y<Z;Y++)if(J[Y].buffer.length>0){if(!J[Y].lineStarts)J[Y].lineStarts=C$(J[Y].buffer);const G=new B9(Y+1,{line:0,column:0},{line:J[Y].lineStarts.length-1,column:J[Y].buffer.length-J[Y].lineStarts[J[Y].lineStarts.length-1]},J[Y].lineStarts.length-1,J[Y].buffer.length);this._buffers.push(J[Y]),Q=this.rbInsertRight(Q,G)}this._searchCache=new bu(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(J){const $=rX,X=$-Math.floor($/3),Q=X*2;let Y="",Z=0;const G=[];if(this.iterate(this.root,(q)=>{const U=this.getNodeContent(q),H=U.length;if(Z<=X||Z+H<Q)return Y+=U,Z+=H,!0;const z=Y.replace(/\r\n|\r|\n/g,J);return G.push(new iX(z,C$(z))),Y=U,Z=H,!0}),Z>0){const q=Y.replace(/\r\n|\r|\n/g,J);G.push(new iX(q,C$(q)))}this.create(G,J,!0)}getEOL(){return this._EOL}setEOL(J){this._EOL=J,this._EOLLength=this._EOL.length,this.normalizeEOL(J)}createSnapshot(J){return new xu(this,J)}getOffsetAt(J,$){let X=0,Q=this.root;while(Q!==d0)if(Q.left!==d0&&Q.lf_left+1>=J)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt+1>=J){X+=Q.size_left;const Y=this.getAccumulatedValue(Q,J-Q.lf_left-2);return X+=Y+$-1}else J-=Q.lf_left+Q.piece.lineFeedCnt,X+=Q.size_left+Q.piece.length,Q=Q.right;return X}getPositionAt(J){J=Math.floor(J),J=Math.max(0,J);let $=this.root,X=0;const Q=J;while($!==d0)if($.size_left!==0&&$.size_left>=J)$=$.left;else if($.size_left+$.piece.length>=J){const Y=this.getIndexOf($,J-$.size_left);if(X+=$.lf_left+Y.index,Y.index===0){const Z=this.getOffsetAt(X+1,1),G=Q-Z;return new b(X+1,G+1)}return new b(X+1,Y.remainder+1)}else if(J-=$.size_left+$.piece.length,X+=$.lf_left+$.piece.lineFeedCnt,$.right===d0){const Y=this.getOffsetAt(X+1,1),Z=Q-J-Y;return new b(X+1,Z+1)}else $=$.right;return new b(1,1)}getValueInRange(J,$){if(J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn)return"";const X=this.nodeAt2(J.startLineNumber,J.startColumn),Q=this.nodeAt2(J.endLineNumber,J.endColumn),Y=this.getValueInRange2(X,Q);if($){if($!==this._EOL||!this._EOLNormalized)return Y.replace(/\r\n|\r|\n/g,$);if($===this.getEOL()&&this._EOLNormalized)return Y;return Y.replace(/\r\n|\r|\n/g,$)}return Y}getValueInRange2(J,$){if(J.node===$.node){const G=J.node,q=this._buffers[G.piece.bufferIndex].buffer,U=this.offsetInBuffer(G.piece.bufferIndex,G.piece.start);return q.substring(U+J.remainder,U+$.remainder)}let X=J.node;const Q=this._buffers[X.piece.bufferIndex].buffer,Y=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);let Z=Q.substring(Y+J.remainder,Y+X.piece.length);X=X.next();while(X!==d0){const G=this._buffers[X.piece.bufferIndex].buffer,q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);if(X===$.node){Z+=G.substring(q,q+$.remainder);break}else Z+=G.substr(q,X.piece.length);X=X.next()}return Z}getLinesContent(){const J=[];let $=0,X="",Q=!1;if(this.iterate(this.root,(Y)=>{if(Y===d0)return!0;const Z=Y.piece;let G=Z.length;if(G===0)return!0;const q=this._buffers[Z.bufferIndex].buffer,U=this._buffers[Z.bufferIndex].lineStarts,H=Z.start.line,z=Z.end.line;let V=U[H]+Z.start.column;if(Q){if(q.charCodeAt(V)===10)V++,G--;if(J[$++]=X,X="",Q=!1,G===0)return!0}if(H===z){if(!this._EOLNormalized&&q.charCodeAt(V+G-1)===13)Q=!0,X+=q.substr(V,G-1);else X+=q.substr(V,G);return!0}X+=this._EOLNormalized?q.substring(V,Math.max(V,U[H+1]-this._EOLLength)):q.substring(V,U[H+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=X;for(let W=H+1;W<z;W++)X=this._EOLNormalized?q.substring(U[W],U[W+1]-this._EOLLength):q.substring(U[W],U[W+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=X;if(!this._EOLNormalized&&q.charCodeAt(U[z]+Z.end.column-1)===13)if(Q=!0,Z.end.column===0)$--;else X=q.substr(U[z],Z.end.column-1);else X=q.substr(U[z],Z.end.column);return!0}),Q)J[$++]=X,X="";return J[$++]=X,J}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(J){if(this._lastVisitedLine.lineNumber===J)return this._lastVisitedLine.value;if(this._lastVisitedLine.lineNumber=J,J===this._lineCnt)this._lastVisitedLine.value=this.getLineRawContent(J);else if(this._EOLNormalized)this._lastVisitedLine.value=this.getLineRawContent(J,this._EOLLength);else this._lastVisitedLine.value=this.getLineRawContent(J).replace(/(\r\n|\r|\n)$/,"");return this._lastVisitedLine.value}_getCharCode(J){if(J.remainder===J.node.piece.length){const $=J.node.next();if(!$)return 0;const X=this._buffers[$.piece.bufferIndex],Q=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return X.buffer.charCodeAt(Q)}else{const $=this._buffers[J.node.piece.bufferIndex],Q=this.offsetInBuffer(J.node.piece.bufferIndex,J.node.piece.start)+J.remainder;return $.buffer.charCodeAt(Q)}}getLineCharCode(J,$){const X=this.nodeAt2(J,$+1);return this._getCharCode(X)}getLineLength(J){if(J===this.getLineCount()){const $=this.getOffsetAt(J,1);return this.getLength()-$}return this.getOffsetAt(J+1,1)-this.getOffsetAt(J,1)-this._EOLLength}findMatchesInNode(J,$,X,Q,Y,Z,G,q,U,H,z){const V=this._buffers[J.piece.bufferIndex],W=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start),B=this.offsetInBuffer(J.piece.bufferIndex,Y),j=this.offsetInBuffer(J.piece.bufferIndex,Z);let K;const D={line:0,column:0};let A,P;if($._wordSeparators)A=V.buffer.substring(B,j),P=(R)=>R+B,$.reset(0);else A=V.buffer,P=(R)=>R,$.reset(B);do if(K=$.next(A),K){if(P(K.index)>=j)return H;this.positionInBuffer(J,P(K.index)-W,D);const R=this.getLineFeedCnt(J.piece.bufferIndex,Y,D),M=D.line===Y.line?D.column-Y.column+Q:D.column+1,T=M+K[0].length;if(z[H++]=dQ(new L(X+R,M,X+R,T),K,q),P(K.index)+K[0].length>=j)return H;if(H>=U)return H}while(K);return H}findMatchesLineByLine(J,$,X,Q){const Y=[];let Z=0;const G=new MX($.wordSeparators,$.regex);let q=this.nodeAt2(J.startLineNumber,J.startColumn);if(q===null)return[];const U=this.nodeAt2(J.endLineNumber,J.endColumn);if(U===null)return[];let H=this.positionInBuffer(q.node,q.remainder);const z=this.positionInBuffer(U.node,U.remainder);if(q.node===U.node)return this.findMatchesInNode(q.node,G,J.startLineNumber,J.startColumn,H,z,$,X,Q,Z,Y),Y;let V=J.startLineNumber,W=q.node;while(W!==U.node){const j=this.getLineFeedCnt(W.piece.bufferIndex,H,W.piece.end);if(j>=1){const D=this._buffers[W.piece.bufferIndex].lineStarts,A=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start),P=D[H.line+j],R=V===J.startLineNumber?J.startColumn:1;if(Z=this.findMatchesInNode(W,G,V,R,H,this.positionInBuffer(W,P-A),$,X,Q,Z,Y),Z>=Q)return Y;V+=j}const K=V===J.startLineNumber?J.startColumn-1:0;if(V===J.endLineNumber){const D=this.getLineContent(V).substring(K,J.endColumn-1);return Z=this._findMatchesInLine($,G,D,J.endLineNumber,K,Z,Y,X,Q),Y}if(Z=this._findMatchesInLine($,G,this.getLineContent(V).substr(K),V,K,Z,Y,X,Q),Z>=Q)return Y;V++,q=this.nodeAt2(V,1),W=q.node,H=this.positionInBuffer(q.node,q.remainder)}if(V===J.endLineNumber){const j=V===J.startLineNumber?J.startColumn-1:0,K=this.getLineContent(V).substring(j,J.endColumn-1);return Z=this._findMatchesInLine($,G,K,J.endLineNumber,j,Z,Y,X,Q),Y}const B=V===J.startLineNumber?J.startColumn:1;return Z=this.findMatchesInNode(U.node,G,V,B,H,z,$,X,Q,Z,Y),Y}_findMatchesInLine(J,$,X,Q,Y,Z,G,q,U){const H=J.wordSeparators;if(!q&&J.simpleSearch){const V=J.simpleSearch,W=V.length,B=X.length;let j=-W;while((j=X.indexOf(V,j+W))!==-1)if(!H||kF(H,X,B,j,W)){if(G[Z++]=new RX(new L(Q,j+1+Y,Q,j+1+W+Y),null),Z>=U)return Z}return Z}let z;$.reset(0);do if(z=$.next(X),z){if(G[Z++]=dQ(new L(Q,z.index+1+Y,Q,z.index+1+z[0].length+Y),z,q),Z>=U)return Z}while(z);return Z}insert(J,$,X=!1){if(this._EOLNormalized=this._EOLNormalized&&X,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==d0){const{node:Q,remainder:Y,nodeStartOffset:Z}=this.nodeAt(J),G=Q.piece,q=G.bufferIndex,U=this.positionInBuffer(Q,Y);if(Q.piece.bufferIndex===0&&G.end.line===this._lastChangeBufferPos.line&&G.end.column===this._lastChangeBufferPos.column&&Z+G.length===J&&$.length<rX){this.appendToNode(Q,$),this.computeBufferMetadata();return}if(Z===J)this.insertContentToNodeLeft($,Q),this._searchCache.validate(J);else if(Z+Q.piece.length>J){const H=[];let z=new B9(G.bufferIndex,U,G.end,this.getLineFeedCnt(G.bufferIndex,U,G.end),this.offsetInBuffer(q,G.end)-this.offsetInBuffer(q,U));if(this.shouldCheckCRLF()&&this.endWithCR($)){if(this.nodeCharCodeAt(Q,Y)===10){const j={line:z.start.line+1,column:0};z=new B9(z.bufferIndex,j,z.end,this.getLineFeedCnt(z.bufferIndex,j,z.end),z.length-1),$+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF($))if(this.nodeCharCodeAt(Q,Y-1)===13){const j=this.positionInBuffer(Q,Y-1);if(this.deleteNodeTail(Q,j),$="\r"+$,Q.piece.length===0)H.push(Q)}else this.deleteNodeTail(Q,U);else this.deleteNodeTail(Q,U);const V=this.createNewPieces($);if(z.length>0)this.rbInsertRight(Q,z);let W=Q;for(let B=0;B<V.length;B++)W=this.rbInsertRight(W,V[B]);this.deleteNodes(H)}else this.insertContentToNodeRight($,Q)}else{const Q=this.createNewPieces($);let Y=this.rbInsertLeft(null,Q[0]);for(let Z=1;Z<Q.length;Z++)Y=this.rbInsertRight(Y,Q[Z])}this.computeBufferMetadata()}delete(J,$){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",$<=0||this.root===d0)return;const X=this.nodeAt(J),Q=this.nodeAt(J+$),Y=X.node,Z=Q.node;if(Y===Z){const V=this.positionInBuffer(Y,X.remainder),W=this.positionInBuffer(Y,Q.remainder);if(X.nodeStartOffset===J){if($===Y.piece.length){const B=Y.next();Cz(this,Y),this.validateCRLFWithPrevNode(B),this.computeBufferMetadata();return}this.deleteNodeHead(Y,W),this._searchCache.validate(J),this.validateCRLFWithPrevNode(Y),this.computeBufferMetadata();return}if(X.nodeStartOffset+Y.piece.length===J+$){this.deleteNodeTail(Y,V),this.validateCRLFWithNextNode(Y),this.computeBufferMetadata();return}this.shrinkNode(Y,V,W),this.computeBufferMetadata();return}const G=[],q=this.positionInBuffer(Y,X.remainder);if(this.deleteNodeTail(Y,q),this._searchCache.validate(J),Y.piece.length===0)G.push(Y);const U=this.positionInBuffer(Z,Q.remainder);if(this.deleteNodeHead(Z,U),Z.piece.length===0)G.push(Z);const H=Y.next();for(let V=H;V!==d0&&V!==Z;V=V.next())G.push(V);const z=Y.piece.length===0?Y.prev():Y;this.deleteNodes(G),this.validateCRLFWithNextNode(z),this.computeBufferMetadata()}insertContentToNodeLeft(J,$){const X=[];if(this.shouldCheckCRLF()&&this.endWithCR(J)&&this.startWithLF($)){const Z=$.piece,G={line:Z.start.line+1,column:0},q=new B9(Z.bufferIndex,G,Z.end,this.getLineFeedCnt(Z.bufferIndex,G,Z.end),Z.length-1);if($.piece=q,J+="\n",S$(this,$,-1,-1),$.piece.length===0)X.push($)}const Q=this.createNewPieces(J);let Y=this.rbInsertLeft($,Q[Q.length-1]);for(let Z=Q.length-2;Z>=0;Z--)Y=this.rbInsertLeft(Y,Q[Z]);this.validateCRLFWithPrevNode(Y),this.deleteNodes(X)}insertContentToNodeRight(J,$){if(this.adjustCarriageReturnFromNext(J,$))J+="\n";const X=this.createNewPieces(J),Q=this.rbInsertRight($,X[0]);let Y=Q;for(let Z=1;Z<X.length;Z++)Y=this.rbInsertRight(Y,X[Z]);this.validateCRLFWithPrevNode(Q)}positionInBuffer(J,$,X){const Q=J.piece,Y=J.piece.bufferIndex,Z=this._buffers[Y].lineStarts,q=Z[Q.start.line]+Q.start.column+$;let U=Q.start.line,H=Q.end.line,z=0,V=0,W=0;while(U<=H){if(z=U+(H-U)/2|0,W=Z[z],z===H)break;if(V=Z[z+1],q<W)H=z-1;else if(q>=V)U=z+1;else break}if(X)return X.line=z,X.column=q-W,null;return{line:z,column:q-W}}getLineFeedCnt(J,$,X){if(X.column===0)return X.line-$.line;const Q=this._buffers[J].lineStarts;if(X.line===Q.length-1)return X.line-$.line;const Y=Q[X.line+1],Z=Q[X.line]+X.column;if(Y>Z+1)return X.line-$.line;const G=Z-1;if(this._buffers[J].buffer.charCodeAt(G)===13)return X.line-$.line+1;else return X.line-$.line}offsetInBuffer(J,$){return this._buffers[J].lineStarts[$.line]+$.column}deleteNodes(J){for(let $=0;$<J.length;$++)Cz(this,J[$])}createNewPieces(J){if(J.length>rX){const H=[];while(J.length>rX){const V=J.charCodeAt(rX-1);let W;if(V===13||V>=55296&&V<=56319)W=J.substring(0,rX-1),J=J.substring(rX-1);else W=J.substring(0,rX),J=J.substring(rX);const B=C$(W);H.push(new B9(this._buffers.length,{line:0,column:0},{line:B.length-1,column:W.length-B[B.length-1]},B.length-1,W.length)),this._buffers.push(new iX(W,B))}const z=C$(J);return H.push(new B9(this._buffers.length,{line:0,column:0},{line:z.length-1,column:J.length-z[z.length-1]},z.length-1,J.length)),this._buffers.push(new iX(J,z)),H}let $=this._buffers[0].buffer.length;const X=C$(J,!1);let Q=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===$&&$!==0&&this.startWithLF(J)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Q=this._lastChangeBufferPos;for(let H=0;H<X.length;H++)X[H]+=$+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(X.slice(1)),this._buffers[0].buffer+="_"+J,$+=1}else{if($!==0)for(let H=0;H<X.length;H++)X[H]+=$;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(X.slice(1)),this._buffers[0].buffer+=J}const Y=this._buffers[0].buffer.length,Z=this._buffers[0].lineStarts.length-1,G=Y-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=new B9(0,Q,q,this.getLineFeedCnt(0,Q,q),Y-$);return this._lastChangeBufferPos=q,[U]}getLineRawContent(J,$=0){let X=this.root,Q="";const Y=this._searchCache.get2(J);if(Y){X=Y.node;const Z=this.getAccumulatedValue(X,J-Y.nodeStartLineNumber-1),G=this._buffers[X.piece.bufferIndex].buffer,q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);if(Y.nodeStartLineNumber+X.piece.lineFeedCnt===J)Q=G.substring(q+Z,q+X.piece.length);else{const U=this.getAccumulatedValue(X,J-Y.nodeStartLineNumber);return G.substring(q+Z,q+U-$)}}else{let Z=0;const G=J;while(X!==d0)if(X.left!==d0&&X.lf_left>=J-1)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt>J-1){const q=this.getAccumulatedValue(X,J-X.lf_left-2),U=this.getAccumulatedValue(X,J-X.lf_left-1),H=this._buffers[X.piece.bufferIndex].buffer,z=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);return Z+=X.size_left,this._searchCache.set({node:X,nodeStartOffset:Z,nodeStartLineNumber:G-(J-1-X.lf_left)}),H.substring(z+q,z+U-$)}else if(X.lf_left+X.piece.lineFeedCnt===J-1){const q=this.getAccumulatedValue(X,J-X.lf_left-2),U=this._buffers[X.piece.bufferIndex].buffer,H=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);Q=U.substring(H+q,H+X.piece.length);break}else J-=X.lf_left+X.piece.lineFeedCnt,Z+=X.size_left+X.piece.length,X=X.right}X=X.next();while(X!==d0){const Z=this._buffers[X.piece.bufferIndex].buffer;if(X.piece.lineFeedCnt>0){const G=this.getAccumulatedValue(X,0),q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);return Q+=Z.substring(q,q+G-$),Q}else{const G=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);Q+=Z.substr(G,X.piece.length)}X=X.next()}return Q}computeBufferMetadata(){let J=this.root,$=1,X=0;while(J!==d0)$+=J.lf_left+J.piece.lineFeedCnt,X+=J.size_left+J.piece.length,J=J.right;this._lineCnt=$,this._length=X,this._searchCache.validate(this._length)}getIndexOf(J,$){const X=J.piece,Q=this.positionInBuffer(J,$),Y=Q.line-X.start.line;if(this.offsetInBuffer(X.bufferIndex,X.end)-this.offsetInBuffer(X.bufferIndex,X.start)===$){const Z=this.getLineFeedCnt(J.piece.bufferIndex,X.start,Q);if(Z!==Y)return{index:Z,remainder:0}}return{index:Y,remainder:Q.column}}getAccumulatedValue(J,$){if($<0)return 0;const X=J.piece,Q=this._buffers[X.bufferIndex].lineStarts,Y=X.start.line+$+1;if(Y>X.end.line)return Q[X.end.line]+X.end.column-Q[X.start.line]-X.start.column;else return Q[Y]-Q[X.start.line]-X.start.column}deleteNodeTail(J,$){const X=J.piece,Q=X.lineFeedCnt,Y=this.offsetInBuffer(X.bufferIndex,X.end),Z=$,G=this.offsetInBuffer(X.bufferIndex,Z),q=this.getLineFeedCnt(X.bufferIndex,X.start,Z),U=q-Q,H=G-Y,z=X.length+H;J.piece=new B9(X.bufferIndex,X.start,Z,q,z),S$(this,J,H,U)}deleteNodeHead(J,$){const X=J.piece,Q=X.lineFeedCnt,Y=this.offsetInBuffer(X.bufferIndex,X.start),Z=$,G=this.getLineFeedCnt(X.bufferIndex,Z,X.end),q=this.offsetInBuffer(X.bufferIndex,Z),U=G-Q,H=Y-q,z=X.length+H;J.piece=new B9(X.bufferIndex,Z,X.end,G,z),S$(this,J,H,U)}shrinkNode(J,$,X){const Q=J.piece,Y=Q.start,Z=Q.end,G=Q.length,q=Q.lineFeedCnt,U=$,H=this.getLineFeedCnt(Q.bufferIndex,Q.start,U),z=this.offsetInBuffer(Q.bufferIndex,$)-this.offsetInBuffer(Q.bufferIndex,Y);J.piece=new B9(Q.bufferIndex,Q.start,U,H,z),S$(this,J,z-G,H-q);const V=new B9(Q.bufferIndex,X,Z,this.getLineFeedCnt(Q.bufferIndex,X,Z),this.offsetInBuffer(Q.bufferIndex,Z)-this.offsetInBuffer(Q.bufferIndex,X)),W=this.rbInsertRight(J,V);this.validateCRLFWithPrevNode(W)}appendToNode(J,$){if(this.adjustCarriageReturnFromNext($,J))$+="\n";const X=this.shouldCheckCRLF()&&this.startWithLF($)&&this.endWithCR(J),Q=this._buffers[0].buffer.length;this._buffers[0].buffer+=$;const Y=C$($,!1);for(let W=0;W<Y.length;W++)Y[W]+=Q;if(X){const W=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Q-W}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Y.slice(1));const Z=this._buffers[0].lineStarts.length-1,G=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=J.piece.length+$.length,H=J.piece.lineFeedCnt,z=this.getLineFeedCnt(0,J.piece.start,q),V=z-H;J.piece=new B9(J.piece.bufferIndex,J.piece.start,q,z,U),this._lastChangeBufferPos=q,S$(this,J,$.length,V)}nodeAt(J){let $=this.root;const X=this._searchCache.get(J);if(X)return{node:X.node,nodeStartOffset:X.nodeStartOffset,remainder:J-X.nodeStartOffset};let Q=0;while($!==d0)if($.size_left>J)$=$.left;else if($.size_left+$.piece.length>=J){Q+=$.size_left;const Y={node:$,remainder:J-$.size_left,nodeStartOffset:Q};return this._searchCache.set(Y),Y}else J-=$.size_left+$.piece.length,Q+=$.size_left+$.piece.length,$=$.right;return null}nodeAt2(J,$){let X=this.root,Q=0;while(X!==d0)if(X.left!==d0&&X.lf_left>=J-1)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt>J-1){const Y=this.getAccumulatedValue(X,J-X.lf_left-2),Z=this.getAccumulatedValue(X,J-X.lf_left-1);return Q+=X.size_left,{node:X,remainder:Math.min(Y+$-1,Z),nodeStartOffset:Q}}else if(X.lf_left+X.piece.lineFeedCnt===J-1){const Y=this.getAccumulatedValue(X,J-X.lf_left-2);if(Y+$-1<=X.piece.length)return{node:X,remainder:Y+$-1,nodeStartOffset:Q};else{$-=X.piece.length-Y;break}}else J-=X.lf_left+X.piece.lineFeedCnt,Q+=X.size_left+X.piece.length,X=X.right;X=X.next();while(X!==d0){if(X.piece.lineFeedCnt>0){const Y=this.getAccumulatedValue(X,0),Z=this.offsetOfNode(X);return{node:X,remainder:Math.min($-1,Y),nodeStartOffset:Z}}else if(X.piece.length>=$-1){const Y=this.offsetOfNode(X);return{node:X,remainder:$-1,nodeStartOffset:Y}}else $-=X.piece.length;X=X.next()}return null}nodeCharCodeAt(J,$){if(J.piece.lineFeedCnt<1)return-1;const X=this._buffers[J.piece.bufferIndex],Q=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start)+$;return X.buffer.charCodeAt(Q)}offsetOfNode(J){if(!J)return 0;let $=J.size_left;while(J!==this.root){if(J.parent.right===J)$+=J.parent.size_left+J.parent.piece.length;J=J.parent}return $}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL==="\n")}startWithLF(J){if(typeof J==="string")return J.charCodeAt(0)===10;if(J===d0||J.piece.lineFeedCnt===0)return!1;const $=J.piece,X=this._buffers[$.bufferIndex].lineStarts,Q=$.start.line,Y=X[Q]+$.start.column;if(Q===X.length-1)return!1;if(X[Q+1]>Y+1)return!1;return this._buffers[$.bufferIndex].buffer.charCodeAt(Y)===10}endWithCR(J){if(typeof J==="string")return J.charCodeAt(J.length-1)===13;if(J===d0||J.piece.lineFeedCnt===0)return!1;return this.nodeCharCodeAt(J,J.piece.length-1)===13}validateCRLFWithPrevNode(J){if(this.shouldCheckCRLF()&&this.startWithLF(J)){const $=J.prev();if(this.endWithCR($))this.fixCRLF($,J)}}validateCRLFWithNextNode(J){if(this.shouldCheckCRLF()&&this.endWithCR(J)){const $=J.next();if(this.startWithLF($))this.fixCRLF(J,$)}}fixCRLF(J,$){const X=[],Q=this._buffers[J.piece.bufferIndex].lineStarts;let Y;if(J.piece.end.column===0)Y={line:J.piece.end.line-1,column:Q[J.piece.end.line]-Q[J.piece.end.line-1]-1};else Y={line:J.piece.end.line,column:J.piece.end.column-1};const Z=J.piece.length-1,G=J.piece.lineFeedCnt-1;if(J.piece=new B9(J.piece.bufferIndex,J.piece.start,Y,G,Z),S$(this,J,-1,-1),J.piece.length===0)X.push(J);const q={line:$.piece.start.line+1,column:0},U=$.piece.length-1,H=this.getLineFeedCnt($.piece.bufferIndex,q,$.piece.end);if($.piece=new B9($.piece.bufferIndex,q,$.piece.end,H,U),S$(this,$,-1,-1),$.piece.length===0)X.push($);const z=this.createNewPieces("\r\n");this.rbInsertRight(J,z[0]);for(let V=0;V<X.length;V++)Cz(this,X[V])}adjustCarriageReturnFromNext(J,$){if(this.shouldCheckCRLF()&&this.endWithCR(J)){const X=$.next();if(this.startWithLF(X)){if(J+="\n",X.piece.length===1)Cz(this,X);else{const Q=X.piece,Y={line:Q.start.line+1,column:0},Z=Q.length-1,G=this.getLineFeedCnt(Q.bufferIndex,Y,Q.end);X.piece=new B9(Q.bufferIndex,Y,Q.end,G,Z),S$(this,X,-1,-1)}return!0}}return!1}iterate(J,$){if(J===d0)return $(d0);const X=this.iterate(J.left,$);if(!X)return X;return $(J)&&this.iterate(J.right,$)}getNodeContent(J){if(J===d0)return"";const $=this._buffers[J.piece.bufferIndex],X=J.piece,Q=this.offsetInBuffer(X.bufferIndex,X.start),Y=this.offsetInBuffer(X.bufferIndex,X.end);return $.buffer.substring(Q,Y)}getPieceContent(J){const $=this._buffers[J.bufferIndex],X=this.offsetInBuffer(J.bufferIndex,J.start),Q=this.offsetInBuffer(J.bufferIndex,J.end);return $.buffer.substring(X,Q)}rbInsertRight(J,$){const X=new Sz($,1);if(X.left=d0,X.right=d0,X.parent=d0,X.size_left=0,X.lf_left=0,this.root===d0)this.root=X,X.color=0;else if(J.right===d0)J.right=X,X.parent=J;else{const Y=qA(J.right);Y.left=X,X.parent=Y}return Uw(this,X),X}rbInsertLeft(J,$){const X=new Sz($,1);if(X.left=d0,X.right=d0,X.parent=d0,X.size_left=0,X.lf_left=0,this.root===d0)this.root=X,X.color=0;else if(J.left===d0)J.left=X,X.parent=J;else{const Q=Zw(J.left);Q.right=X,X.parent=Q}return Uw(this,X),X}}var yu,rX;var zw=N(()=>{W1();u0();PJ();Eu();EF();yu=function(J){let $;if(J[J.length-1]<65536)$=new Uint16Array(J.length);else $=new Uint32Array(J.length);return $.set(J,0),$};rX=65535});class NY extends f{constructor(J,$,X,Q,Y,Z,G){super();this._onDidChangeContent=this._register(new E),this._BOM=$,this._mightContainNonBasicASCII=!Z,this._mightContainRTL=Q,this._mightContainUnusualLineTerminators=Y,this._pieceTree=new Hw(J,X,G)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(J){return this._pieceTree.createSnapshot(J?this._BOM:"")}getOffsetAt(J,$){return this._pieceTree.getOffsetAt(J,$)}getPositionAt(J){return this._pieceTree.getPositionAt(J)}getRangeAt(J,$){const X=J+$,Q=this.getPositionAt(J),Y=this.getPositionAt(X);return new L(Q.lineNumber,Q.column,Y.lineNumber,Y.column)}getValueInRange(J,$=0){if(J.isEmpty())return"";const X=this._getEndOfLine($);return this._pieceTree.getValueInRange(J,X)}getValueLengthInRange(J,$=0){if(J.isEmpty())return 0;if(J.startLineNumber===J.endLineNumber)return J.endColumn-J.startColumn;const X=this.getOffsetAt(J.startLineNumber,J.startColumn),Q=this.getOffsetAt(J.endLineNumber,J.endColumn);let Y=0;const Z=this._getEndOfLine($),G=this.getEOL();if(Z.length!==G.length){const q=Z.length-G.length,U=J.endLineNumber-J.startLineNumber;Y=q*U}return Q-X+Y}getCharacterCountInRange(J,$=0){if(this._mightContainNonBasicASCII){let X=0;const{startLineNumber:Q,endLineNumber:Y}=J;for(let Z=Q;Z<=Y;Z++){const G=this.getLineContent(Z),q=Z===Q?J.startColumn-1:0,U=Z===Y?J.endColumn-1:G.length;for(let H=q;H<U;H++)if(U8(G.charCodeAt(H)))X=X+1,H=H+1;else X=X+1}return X+=this._getEndOfLine($).length*(Y-Q),X}return this.getValueLengthInRange(J,$)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(J){return this._pieceTree.getLineContent(J)}getLineCharCode(J,$){return this._pieceTree.getLineCharCode(J,$)}getLineLength(J){return this._pieceTree.getLineLength(J)}getLineFirstNonWhitespaceColumn(J){const $=k8(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){const $=o9(this.getLineContent(J));if($===-1)return 0;return $+2}_getEndOfLine(J){switch(J){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(J){this._pieceTree.setEOL(J)}applyEdits(J,$,X){let Q=this._mightContainRTL,Y=this._mightContainUnusualLineTerminators,Z=this._mightContainNonBasicASCII,G=!0,q=[];for(let j=0;j<J.length;j++){const K=J[j];if(G&&K._isTracked)G=!1;const D=K.range;if(K.text){let T=!0;if(!Z)T=!l2(K.text),Z=T;if(!Q&&T)Q=YX(K.text);if(!Y&&T)Y=Mj(K.text)}let A="",P=0,R=0,M=0;if(K.text){let T;[P,R,M,T]=g5(K.text);const _=this.getEOL();if(T===0||T===(_==="\r\n"?2:1))A=K.text;else A=K.text.replace(/\r\n|\r|\n/g,_)}q[j]={sortIndex:j,identifier:K.identifier||null,range:D,rangeOffset:this.getOffsetAt(D.startLineNumber,D.startColumn),rangeLength:this.getValueLengthInRange(D),text:A,eolCount:P,firstLineLength:R,lastLineLength:M,forceMoveMarkers:Boolean(K.forceMoveMarkers),isAutoWhitespaceEdit:K.isAutoWhitespaceEdit||!1}}q.sort(NY._sortOpsAscending);let U=!1;for(let j=0,K=q.length-1;j<K;j++){const D=q[j].range.getEndPosition(),A=q[j+1].range.getStartPosition();if(A.isBeforeOrEqual(D)){if(A.isBefore(D))throw new Error("Overlapping ranges are not allowed!");U=!0}}if(G)q=this._reduceOperations(q);const H=X||$?NY._getInverseEditRanges(q):[],z=[];if($)for(let j=0;j<q.length;j++){const K=q[j],D=H[j];if(K.isAutoWhitespaceEdit&&K.range.isEmpty())for(let A=D.startLineNumber;A<=D.endLineNumber;A++){let P="";if(A===D.startLineNumber){if(P=this.getLineContent(K.range.startLineNumber),k8(P)!==-1)continue}z.push({lineNumber:A,oldContent:P})}}let V=null;if(X){let j=0;V=[];for(let K=0;K<q.length;K++){const D=q[K],A=H[K],P=this.getValueInRange(D.range),R=D.rangeOffset+j;j+=D.text.length-P.length,V[K]={sortIndex:D.sortIndex,identifier:D.identifier,range:A,text:P,textChange:new S7(D.rangeOffset,P,R,D.text)}}if(!U)V.sort((K,D)=>K.sortIndex-D.sortIndex)}this._mightContainRTL=Q,this._mightContainUnusualLineTerminators=Y,this._mightContainNonBasicASCII=Z;const W=this._doApplyEdits(q);let B=null;if($&&z.length>0){z.sort((j,K)=>K.lineNumber-j.lineNumber),B=[];for(let j=0,K=z.length;j<K;j++){const D=z[j].lineNumber;if(j>0&&z[j-1].lineNumber===D)continue;const A=z[j].oldContent,P=this.getLineContent(D);if(P.length===0||P===A||k8(P)!==-1)continue;B.push(D)}}return this._onDidChangeContent.fire(),new uO(V,W,B)}_reduceOperations(J){if(J.length<1000)return J;return[this._toSingleEditOperation(J)]}_toSingleEditOperation(J){let $=!1;const X=J[0].range,Q=J[J.length-1].range,Y=new L(X.startLineNumber,X.startColumn,Q.endLineNumber,Q.endColumn);let{startLineNumber:Z,startColumn:G}=X;const q=[];for(let W=0,B=J.length;W<B;W++){const j=J[W],K=j.range;if($=$||j.forceMoveMarkers,q.push(this.getValueInRange(new L(Z,G,K.startLineNumber,K.startColumn))),j.text.length>0)q.push(j.text);Z=K.endLineNumber,G=K.endColumn}const U=q.join(""),[H,z,V]=g5(U);return{sortIndex:0,identifier:J[0].identifier,range:Y,rangeOffset:this.getOffsetAt(Y.startLineNumber,Y.startColumn),rangeLength:this.getValueLengthInRange(Y,0),text:U,eolCount:H,firstLineLength:z,lastLineLength:V,forceMoveMarkers:$,isAutoWhitespaceEdit:!1}}_doApplyEdits(J){J.sort(NY._sortOpsDescending);const $=[];for(let X=0;X<J.length;X++){const Q=J[X],Y=Q.range.startLineNumber,Z=Q.range.startColumn,G=Q.range.endLineNumber,q=Q.range.endColumn;if(Y===G&&Z===q&&Q.text.length===0)continue;if(Q.text)this._pieceTree.delete(Q.rangeOffset,Q.rangeLength),this._pieceTree.insert(Q.rangeOffset,Q.text,!0);else this._pieceTree.delete(Q.rangeOffset,Q.rangeLength);const U=new L(Y,Z,G,q);$.push({range:U,rangeLength:Q.rangeLength,text:Q.text,rangeOffset:Q.rangeOffset,forceMoveMarkers:Q.forceMoveMarkers})}return $}findMatchesLineByLine(J,$,X,Q){return this._pieceTree.findMatchesLineByLine(J,$,X,Q)}static _getInverseEditRanges(J){const $=[];let X=0,Q=0,Y=null;for(let Z=0,G=J.length;Z<G;Z++){const q=J[Z];let U,H;if(Y)if(Y.range.endLineNumber===q.range.startLineNumber)U=X,H=Q+(q.range.startColumn-Y.range.endColumn);else U=X+(q.range.startLineNumber-Y.range.endLineNumber),H=q.range.startColumn;else U=q.range.startLineNumber,H=q.range.startColumn;let z;if(q.text.length>0){const V=q.eolCount+1;if(V===1)z=new L(U,H,U,H+q.firstLineLength);else z=new L(U,H,U+V-1,q.lastLineLength+1)}else z=new L(U,H,U,H);X=z.endLineNumber,Q=z.endColumn,$.push(z),Y=q}return $}static _sortOpsAscending(J,$){const X=L.compareRangesUsingEnds(J.range,$.range);if(X===0)return J.sortIndex-$.sortIndex;return X}static _sortOpsDescending(J,$){const X=L.compareRangesUsingEnds(J.range,$.range);if(X===0)return $.sortIndex-J.sortIndex;return-X}}var Vw=N(()=>{A0();l0();u0();PJ();zw();IG();i_();$0()});class vu{constructor(J,$,X,Q,Y,Z,G,q,U){this._chunks=J,this._bom=$,this._cr=X,this._lf=Q,this._crlf=Y,this._containsRTL=Z,this._containsUnusualLineTerminators=G,this._isBasicASCII=q,this._normalizeEOL=U}_getEOL(J){const $=this._cr+this._lf+this._crlf,X=this._cr+this._crlf;if($===0)return J===1?"\n":"\r\n";if(X>$/2)return"\r\n";return"\n"}create(J){const $=this._getEOL(J),X=this._chunks;if(this._normalizeEOL&&($==="\r\n"&&(this._cr>0||this._lf>0)||$==="\n"&&(this._cr>0||this._crlf>0)))for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].buffer.replace(/\r\n|\r|\n/g,$),q=C$(G);X[Y]=new iX(G,q)}const Q=new NY(X,this._bom,$,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Q,disposable:Q}}}class UA{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(J){if(J.length===0)return;if(this.chunks.length===0){if(d2(J))this.BOM=eC,J=J.substr(1)}const $=J.charCodeAt(J.length-1);if($===13||$>=55296&&$<=56319)this._acceptChunk1(J.substr(0,J.length-1),!1),this._hasPreviousChar=!0,this._previousChar=$;else this._acceptChunk1(J,!1),this._hasPreviousChar=!1,this._previousChar=$}_acceptChunk1(J,$){if(!$&&J.length===0)return;if(this._hasPreviousChar)this._acceptChunk2(String.fromCharCode(this._previousChar)+J);else this._acceptChunk2(J)}_acceptChunk2(J){const $=Cu(this._tmpLineStarts,J);if(this.chunks.push(new iX(J,$.lineStarts)),this.cr+=$.cr,this.lf+=$.lf,this.crlf+=$.crlf,!$.isBasicASCII){if(this.isBasicASCII=!1,!this.containsRTL)this.containsRTL=YX(J);if(!this.containsUnusualLineTerminators)this.containsUnusualLineTerminators=Mj(J)}}finish(J=!0){return this._finish(),new vu(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,J)}_finish(){if(this.chunks.length===0)this._acceptChunk1("",!0);if(this._hasPreviousChar){this._hasPreviousChar=!1;const J=this.chunks[this.chunks.length-1];J.buffer+=String.fromCharCode(this._previousChar);const $=C$(J.buffer);if(J.lineStarts=$,this._previousChar===13)this.cr++}}}var fu=N(()=>{l0();zw();Vw()});class Ww{constructor(J){this._default=J,this._store=[]}get(J){if(J<this._store.length)return this._store[J];return this._default}set(J,$){while(J>=this._store.length)this._store[this._store.length]=this._default;this._store[J]=$}replace(J,$,X){if(J>=this._store.length)return;if($===0){this.insert(J,X);return}else if(X===0){this.delete(J,$);return}const Q=this._store.slice(0,J),Y=this._store.slice(J+$),Z=u60(X,this._default);this._store=Q.concat(Z,Y)}delete(J,$){if($===0||J>=this._store.length)return;this._store.splice(J,$)}insert(J,$){if($===0||J>=this._store.length)return;const X=[];for(let Q=0;Q<$;Q++)X[Q]=this._default;this._store=RQ(this._store,J,X)}}var u60;var hu=N(()=>{V1();u60=function(J,$){const X=[];for(let Q=0;Q<J;Q++)X[Q]=$;return X}});class Bw{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(J,$){this._startLineNumber=J,this._tokens=$}getLineTokens(J){return this._tokens[J-this._startLineNumber]}appendLineTokens(J){this._tokens.push(J)}}var gu=N(()=>{});class GU{constructor(){this._tokens=[]}add(J,$){if(this._tokens.length>0){const X=this._tokens[this._tokens.length-1];if(X.endLineNumber+1===J){X.appendLineTokens($);return}}this._tokens.push(new Bw(J,[$]))}finalize(){return this._tokens}}var jw=N(()=>{gu()});class pu{constructor(J,$){this.tokenizationSupport=$,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new bz(J)}getStartState(J){return this.store.getStartState(J,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class Fw extends pu{constructor(J,$,X,Q){super(J,$);this._textModel=X,this._languageIdCodec=Q}updateTokensUntilLine(J,$){const X=this._textModel.getLanguageId();while(!0){const Q=this.getFirstInvalidLine();if(!Q||Q.lineNumber>$)break;const Y=this._textModel.getLineContent(Q.lineNumber),Z=xz(this._languageIdCodec,X,this.tokenizationSupport,Y,!0,Q.startState);J.add(Q.lineNumber,Z.tokens),this.store.setEndState(Q.lineNumber,Z.endState)}}getTokenTypeIfInsertingCharacter(J,$){const X=this.getStartState(J.lineNumber);if(!X)return 0;const Q=this._textModel.getLanguageId(),Y=this._textModel.getLineContent(J.lineNumber),Z=Y.substring(0,J.column-1)+$+Y.substring(J.column-1),G=xz(this._languageIdCodec,Q,this.tokenizationSupport,Z,!0,X),q=new T8(G.tokens,Z,this._languageIdCodec);if(q.getCount()===0)return 0;const U=q.findTokenIndexAtOffset(J.column-1);return q.getStandardTokenType(U)}tokenizeLineWithEdit(J,$,X){const{lineNumber:Q,column:Y}=J,Z=this.getStartState(Q);if(!Z)return null;const G=this._textModel.getLineContent(Q),q=G.substring(0,Y-1)+X+G.substring(Y-1+$),U=this._textModel.getLanguageIdAtPosition(Q,0),H=xz(this._languageIdCodec,U,this.tokenizationSupport,q,!0,Z);return new T8(H.tokens,q,this._languageIdCodec)}isCheapToTokenize(J){const $=this.store.getFirstInvalidEndStateLineNumberOrMax();if(J<$)return!0;if(J===$&&this._textModel.getLineLength(J)<2048)return!0;return!1}tokenizeHeuristically(J,$,X){if(X<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if($<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(J,X),{heuristicTokens:!1};let Q=this.guessStartState($);const Y=this._textModel.getLanguageId();for(let Z=$;Z<=X;Z++){const G=this._textModel.getLineContent(Z),q=xz(this._languageIdCodec,Y,this.tokenizationSupport,G,!0,Q);J.add(Z,q.tokens),Q=q.endState}return{heuristicTokens:!0}}guessStartState(J){let $=this._textModel.getLineFirstNonWhitespaceColumn(J);const X=[];let Q=null;for(let G=J-1;$>1&&G>=1;G--){const q=this._textModel.getLineFirstNonWhitespaceColumn(G);if(q===0)continue;if(q<$){if(X.push(this._textModel.getLineContent(G)),$=q,Q=this.getStartState(G),Q)break}}if(!Q)Q=this.tokenizationSupport.getInitialState();X.reverse();const Y=this._textModel.getLanguageId();let Z=Q;for(let G of X)Z=xz(this._languageIdCodec,Y,this.tokenizationSupport,G,!1,Z).endState;return Z}}class bz{constructor(J){this.lineCount=J,this._tokenizationStateStore=new mu,this._invalidEndStatesLineNumbers=new uu,this._invalidEndStatesLineNumbers.addRange(new i0(1,J+1))}getEndState(J){return this._tokenizationStateStore.getEndState(J)}setEndState(J,$){if(!$)throw new n1("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(J);const X=this._tokenizationStateStore.setEndState(J,$);if(X&&J<this.lineCount)this._invalidEndStatesLineNumbers.addRange(new i0(J+1,J+2));return X}acceptChange(J,$){this.lineCount+=$-J.length,this._tokenizationStateStore.acceptChange(J,$),this._invalidEndStatesLineNumbers.addRangeAndResize(new i0(J.startLineNumber,J.endLineNumberExclusive),$)}acceptChanges(J){for(let $ of J){const[X]=g5($.text);this.acceptChange(new v0($.range.startLineNumber,$.range.endLineNumber+1),X+1)}}invalidateEndStateRange(J){this._invalidEndStatesLineNumbers.addRange(new i0(J.startLineNumber,J.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(J,$){if(J===1)return $;return this.getEndState(J-1)}getFirstInvalidLine(J){const $=this.getFirstInvalidEndStateLineNumber();if($===null)return null;const X=this.getStartState($,J);if(!X)throw new n1("Start state must be defined");return{lineNumber:$,startState:X}}}class mu{constructor(){this._lineEndStates=new Ww(null)}getEndState(J){return this._lineEndStates.get(J)}setEndState(J,$){const X=this._lineEndStates.get(J);if(X&&X.equals($))return!1;return this._lineEndStates.set(J,$),!0}acceptChange(J,$){let X=J.length;if($>0&&X>0)X--,$--;this._lineEndStates.replace(J.startLineNumber,X,$)}}class uu{constructor(){this._ranges=[]}get min(){if(this._ranges.length===0)return null;return this._ranges[0].start}delete(J){const $=this._ranges.findIndex((X)=>X.contains(J));if($!==-1){const X=this._ranges[$];if(X.start===J)if(X.endExclusive===J+1)this._ranges.splice($,1);else this._ranges[$]=new i0(J+1,X.endExclusive);else if(X.endExclusive===J+1)this._ranges[$]=new i0(X.start,J);else this._ranges.splice($,1,new i0(X.start,J),new i0(J+1,X.endExclusive))}}addRange(J){i0.addRange(J,this._ranges)}addRangeAndResize(J,$){let X=0;while(!(X>=this._ranges.length||J.start<=this._ranges[X].endExclusive))X++;let Q=X;while(!(Q>=this._ranges.length||J.endExclusive<this._ranges[Q].start))Q++;const Y=$-J.length;for(let Z=Q;Z<this._ranges.length;Z++)this._ranges[Z]=this._ranges[Z].delta(Y);if(X===Q){const Z=new i0(J.start,J.start+$);if(!Z.isEmpty)this._ranges.splice(X,0,Z)}else{const Z=Math.min(J.start,this._ranges[X].start),G=Math.max(J.endExclusive,this._ranges[Q-1].endExclusive),q=new i0(Z,G+Y);if(!q.isEmpty)this._ranges.splice(X,Q-X,q);else this._ranges.splice(X,Q-X)}}toString(){return this._ranges.map((J)=>J.toString()).join(" + ")}}class Kw{constructor(J,$){this._tokenizerWithStateStore=J,this._backgroundTokenStore=$,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){if(this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;this._isScheduled=!0,Q$((J)=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(J)})}_backgroundTokenizeWithDeadline(J){const $=Date.now()+J.timeRemaining(),X=()=>{if(this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;if(this._backgroundTokenizeForAtLeast1ms(),Date.now()<$)zB(X);else this._beginBackgroundTokenization()};X()}_backgroundTokenizeForAtLeast1ms(){const J=this._tokenizerWithStateStore._textModel.getLineCount(),$=new GU,X=G7.create(!1);do{if(X.elapsed()>1)break;if(this._tokenizeOneInvalidLine($)>=J)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens($.finalize()),this.checkFinished()}_hasLinesToTokenize(){if(!this._tokenizerWithStateStore)return!1;return!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(J){var $;const X=($=this._tokenizerWithStateStore)===null||$===void 0?void 0:$.getFirstInvalidLine();if(!X)return this._tokenizerWithStateStore._textModel.getLineCount()+1;return this._tokenizerWithStateStore.updateTokensUntilLine(J,X.lineNumber),X.lineNumber}checkFinished(){if(this._isDisposed)return;if(this._tokenizerWithStateStore.store.allStatesValid())this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(J,$){this._tokenizerWithStateStore.store.invalidateEndStateRange(new v0(J,$))}}var xz;var cu=N(()=>{f1();A1();O1();r4();IG();Q5();DJ();gH();hu();jw();wX();xz=function(J,$,X,Q,Y,Z){let G=null;if(X)try{G=X.tokenizeEncoded(Q,Y,Z.clone())}catch(q){a0(q)}if(!G)G=Bq(J.encodeLanguageId($),Z);return T8.convertToEndOffset(G.tokens,Q.length),G}});function b$(J){if(J instanceof Uint32Array)return J;else return new Uint32Array(J)}class D4{static deleteBeginning(J,$){if(J===null||J===x$)return J;return D4.delete(J,0,$)}static deleteEnding(J,$){if(J===null||J===x$)return J;const X=b$(J),Q=X[X.length-2];return D4.delete(J,$,Q)}static delete(J,$,X){if(J===null||J===x$||$===X)return J;const Q=b$(J),Y=Q.length>>>1;if($===0&&Q[Q.length-2]===X)return x$;const Z=T8.findIndexInTokensArray(Q,$),G=Z>0?Q[Z-1<<1]:0,q=Q[Z<<1];if(X<q){const W=X-$;for(let B=Z;B<Y;B++)Q[B<<1]-=W;return J}let U,H;if(G!==$)Q[Z<<1]=$,U=Z+1<<1,H=$;else U=Z<<1,H=G;const z=X-$;for(let W=Z+1;W<Y;W++){const B=Q[W<<1]-z;if(B>H)Q[U++]=B,Q[U++]=Q[(W<<1)+1],H=B}if(U===Q.length)return J;const V=new Uint32Array(U);return V.set(Q.subarray(0,U),0),V.buffer}static append(J,$){if($===x$)return J;if(J===x$)return $;if(J===null)return J;if($===null)return null;const X=b$(J),Q=b$($),Y=Q.length>>>1,Z=new Uint32Array(X.length+Q.length);Z.set(X,0);let G=X.length;const q=X[X.length-2];for(let U=0;U<Y;U++)Z[G++]=Q[U<<1]+q,Z[G++]=Q[(U<<1)+1];return Z.buffer}static insert(J,$,X){if(J===null||J===x$)return J;const Q=b$(J),Y=Q.length>>>1;let Z=T8.findIndexInTokensArray(Q,$);if(Z>0){if(Q[Z-1<<1]===$)Z--}for(let G=Z;G<Y;G++)Q[G<<1]+=X;return J}}var x$;var lu=N(()=>{wX();x$=new Uint32Array(0).buffer});class qU{constructor(J){this._lineTokens=[],this._len=0,this._languageIdCodec=J}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(J,$,X){let Q=null;if($<this._len)Q=this._lineTokens[$];if(Q!==null&&Q!==x$)return new T8(b$(Q),X,this._languageIdCodec);const Y=new Uint32Array(2);return Y[0]=X.length,Y[1]=du(this._languageIdCodec.encodeLanguageId(J)),new T8(Y,X,this._languageIdCodec)}static _massageTokens(J,$,X){const Q=X?b$(X):null;if($===0){let Y=!1;if(Q&&Q.length>1)Y=l7.getLanguageId(Q[1])!==J;if(!Y)return x$}if(!Q||Q.length===0){const Y=new Uint32Array(2);return Y[0]=$,Y[1]=du(J),Y.buffer}if(Q[Q.length-2]=$,Q.byteOffset===0&&Q.byteLength===Q.buffer.byteLength)return Q.buffer;return Q}_ensureLine(J){while(J>=this._len)this._lineTokens[this._len]=null,this._len++}_deleteLines(J,$){if($===0)return;if(J+$>this._len)$=this._len-J;this._lineTokens.splice(J,$),this._len-=$}_insertLines(J,$){if($===0)return;const X=[];for(let Q=0;Q<$;Q++)X[Q]=null;this._lineTokens=RQ(this._lineTokens,J,X),this._len+=$}setTokens(J,$,X,Q,Y){const Z=qU._massageTokens(this._languageIdCodec.encodeLanguageId(J),X,Q);this._ensureLine($);const G=this._lineTokens[$];if(this._lineTokens[$]=Z,Y)return!qU._equals(G,Z);return!1}static _equals(J,$){if(!J||!$)return!J&&!$;const X=b$(J),Q=b$($);if(X.length!==Q.length)return!1;for(let Y=0,Z=X.length;Y<Z;Y++)if(X[Y]!==Q[Y])return!1;return!0}acceptEdit(J,$,X){this._acceptDeleteRange(J),this._acceptInsertText(new b(J.startLineNumber,J.startColumn),$,X)}_acceptDeleteRange(J){const $=J.startLineNumber-1;if($>=this._len)return;if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._lineTokens[$]=D4.delete(this._lineTokens[$],J.startColumn-1,J.endColumn-1);return}this._lineTokens[$]=D4.deleteEnding(this._lineTokens[$],J.startColumn-1);const X=J.endLineNumber-1;let Q=null;if(X<this._len)Q=D4.deleteBeginning(this._lineTokens[X],J.endColumn-1);this._lineTokens[$]=D4.append(this._lineTokens[$],Q),this._deleteLines(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$,X){if($===0&&X===0)return;const Q=J.lineNumber-1;if(Q>=this._len)return;if($===0){this._lineTokens[Q]=D4.insert(this._lineTokens[Q],J.column-1,X);return}this._lineTokens[Q]=D4.deleteEnding(this._lineTokens[Q],J.column-1),this._lineTokens[Q]=D4.insert(this._lineTokens[Q],J.column-1,X),this._insertLines(J.lineNumber,$)}setMultilineTokens(J,$){if(J.length===0)return{changes:[]};const X=[];for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];let G=0,q=0,U=!1;for(let H=Z.startLineNumber;H<=Z.endLineNumber;H++)if(U)this.setTokens($.getLanguageId(),H-1,$.getLineLength(H),Z.getLineTokens(H),!1),q=H;else if(this.setTokens($.getLanguageId(),H-1,$.getLineLength(H),Z.getLineTokens(H),!0))U=!0,G=H,q=H;if(U)X.push({fromLineNumber:G,toLineNumber:q})}return{changes:X}}}var du;var su=N(()=>{V1();W1();lu();wX();jq();du=function(J){return(J<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}});class HA{constructor(J){this._pieces=[],this._isComplete=!1,this._languageIdCodec=J}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(J,$){this._pieces=J||[],this._isComplete=$}setPartial(J,$){let X=J;if($.length>0){const Y=$[0].getRange(),Z=$[$.length-1].getRange();if(!Y||!Z)return J;X=J.plusRange(Y).plusRange(Z)}let Q=null;for(let Y=0,Z=this._pieces.length;Y<Z;Y++){const G=this._pieces[Y];if(G.endLineNumber<X.startLineNumber)continue;if(G.startLineNumber>X.endLineNumber){Q=Q||{index:Y};break}if(G.removeTokens(X),G.isEmpty()){this._pieces.splice(Y,1),Y--,Z--;continue}if(G.endLineNumber<X.startLineNumber)continue;if(G.startLineNumber>X.endLineNumber){Q=Q||{index:Y};continue}const[q,U]=G.split(X);if(q.isEmpty()){Q=Q||{index:Y};continue}if(U.isEmpty())continue;this._pieces.splice(Y,1,q,U),Y++,Z++,Q=Q||{index:Y}}if(Q=Q||{index:this._pieces.length},$.length>0)this._pieces=RQ(this._pieces,Q.index,$);return X}isComplete(){return this._isComplete}addSparseTokens(J,$){if($.getLineContent().length===0)return $;const X=this._pieces;if(X.length===0)return $;const Q=HA._findFirstPieceWithLine(X,J),Y=X[Q].getLineTokens(J);if(!Y)return $;const Z=$.getCount(),G=Y.getCount();let q=0;const U=[];let H=0,z=0;const V=(W,B)=>{if(W===z)return;z=W,U[H++]=W,U[H++]=B};for(let W=0;W<G;W++){const B=Y.getStartCharacter(W),j=Y.getEndCharacter(W),K=Y.getMetadata(W),D=((K&1?2048:0)|(K&2?4096:0)|(K&4?8192:0)|(K&8?16384:0)|(K&16?16744448:0)|(K&32?4278190080:0))>>>0,A=~D>>>0;while(q<Z&&$.getEndOffset(q)<=B)V($.getEndOffset(q),$.getMetadata(q)),q++;if(q<Z&&$.getStartOffset(q)<B)V(B,$.getMetadata(q));while(q<Z&&$.getEndOffset(q)<j)V($.getEndOffset(q),$.getMetadata(q)&A|K&D),q++;if(q<Z){if(V(j,$.getMetadata(q)&A|K&D),$.getEndOffset(q)===j)q++}else{const P=Math.min(Math.max(0,q-1),Z-1);V(j,$.getMetadata(P)&A|K&D)}}while(q<Z)V($.getEndOffset(q),$.getMetadata(q)),q++;return new T8(new Uint32Array(U),$.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(J,$){let X=0,Q=J.length-1;while(X<Q){let Y=X+Math.floor((Q-X)/2);if(J[Y].endLineNumber<$)X=Y+1;else if(J[Y].startLineNumber>$)Q=Y-1;else{while(Y>X&&J[Y-1].startLineNumber<=$&&$<=J[Y-1].endLineNumber)Y--;return Y}}return X}acceptEdit(J,$,X,Q,Y){for(let Z of this._pieces)Z.acceptEdit(J,$,X,Q,Y)}}var au=N(()=>{V1();wX()});class vz extends zz{constructor(J,$,X,Q,Y,Z){super();this._languageService=J,this._languageConfigurationService=$,this._textModel=X,this._bracketPairsTextModelPart=Q,this._languageId=Y,this._attachedViews=Z,this._semanticTokens=new HA(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new E),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new E),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new E),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new ru(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((G)=>{if(G.affects(this._languageId))this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens((G)=>{this._emitModelTokensChangedEvent(G)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((G)=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(J){if(J.isFlush)this._semanticTokens.flush();else if(!J.isEolChange)for(let $ of J.changes){const[X,Q,Y]=g5($.text);this._semanticTokens.acceptEdit($.range,X,Q,Y,$.text.length>0?$.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(J)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(J){this.validateLineNumber(J);const $=this.grammarTokens.getLineTokens(J);return this._semanticTokens.addSparseTokens(J,$)}_emitModelTokensChangedEvent(J){if(!this._textModel._isDisposing())this._bracketPairsTextModelPart.handleDidChangeTokens(J),this._onDidChangeTokens.fire(J)}validateLineNumber(J){if(J<1||J>this._textModel.getLineCount())throw new n1("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(J){this.validateLineNumber(J),this.grammarTokens.forceTokenization(J)}isCheapToTokenize(J){return this.validateLineNumber(J),this.grammarTokens.isCheapToTokenize(J)}tokenizeIfCheap(J){this.validateLineNumber(J),this.grammarTokens.tokenizeIfCheap(J)}getTokenTypeIfInsertingCharacter(J,$,X){return this.grammarTokens.getTokenTypeIfInsertingCharacter(J,$,X)}tokenizeLineWithEdit(J,$,X){return this.grammarTokens.tokenizeLineWithEdit(J,$,X)}setSemanticTokens(J,$){this._semanticTokens.set(J,$),this._emitModelTokensChangedEvent({semanticTokensApplied:J!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(J,$){if(this.hasCompleteSemanticTokens())return;const X=this._textModel.validateRange(this._semanticTokens.setPartial(J,$));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:X.startLineNumber,toLineNumber:X.endLineNumber}]})}getWordAtPosition(J){this.assertNotDisposed();const $=this._textModel.validatePosition(J),X=this._textModel.getLineContent($.lineNumber),Q=this.getLineTokens($.lineNumber),Y=Q.findTokenIndexAtOffset($.column-1),[Z,G]=vz._findLanguageBoundaries(Q,Y),q=NQ($.column,this.getLanguageConfiguration(Q.getLanguageId(Y)).getWordDefinition(),X.substring(Z,G),Z);if(q&&q.startColumn<=J.column&&J.column<=q.endColumn)return q;if(Y>0&&Z===$.column-1){const[U,H]=vz._findLanguageBoundaries(Q,Y-1),z=NQ($.column,this.getLanguageConfiguration(Q.getLanguageId(Y-1)).getWordDefinition(),X.substring(U,H),U);if(z&&z.startColumn<=J.column&&J.column<=z.endColumn)return z}return null}getLanguageConfiguration(J){return this._languageConfigurationService.getLanguageConfiguration(J)}static _findLanguageBoundaries(J,$){const X=J.getLanguageId($);let Q=0;for(let Z=$;Z>=0&&J.getLanguageId(Z)===X;Z--)Q=J.getStartOffset(Z);let Y=J.getLineContent().length;for(let Z=$,G=J.getCount();Z<G&&J.getLanguageId(Z)===X;Z++)Y=J.getEndOffset(Z);return[Q,Y]}getWordUntilPosition(J){const $=this.getWordAtPosition(J);if(!$)return{word:"",startColumn:J.column,endColumn:J.column};return{word:$.word.substr(0,J.column-$.startColumn),startColumn:$.startColumn,endColumn:J.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(J,$){const X=this._textModel.validatePosition(new b(J,$)),Q=this.getLineTokens(X.lineNumber);return Q.getLanguageId(Q.findTokenIndexAtOffset(X.column-1))}setLanguageId(J,$="api"){if(this._languageId===J)return;const X={oldLanguage:this._languageId,newLanguage:J,source:$};this._languageId=J,this._bracketPairsTextModelPart.handleDidChangeLanguage(X),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(X),this._onDidChangeLanguageConfiguration.fire({})}}class ru extends f{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(J,$,X,Q){super();this._languageIdCodec=J,this._textModel=$,this.getLanguageId=X,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new K6),this._tokens=new qU(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new K6),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new E),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new E),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new OZ),this._register(g1.onDidChange((Y)=>{const Z=this.getLanguageId();if(Y.changedLanguages.indexOf(Z)===-1)return;this.resetTokenization()})),this.resetTokenization(),this._register(Q.onDidChangeVisibleRanges(({view:Y,state:Z})=>{if(Z){let G=this._attachedViewStates.get(Y);if(!G)G=new iu(()=>this.refreshRanges(G.lineRanges)),this._attachedViewStates.set(Y,G);G.handleStateChange(Z)}else this._attachedViewStates.deleteAndDispose(Y)}))}resetTokenization(J=!0){var $;if(this._tokens.flush(),($=this._debugBackgroundTokens)===null||$===void 0||$.flush(),this._debugBackgroundStates)this._debugBackgroundStates=new bz(this._textModel.getLineCount());if(J)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const X=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Z=g1.get(this.getLanguageId());if(!Z)return[null,null];let G;try{G=Z.getInitialState()}catch(q){return a0(q),[null,null]}return[Z,G]},[Q,Y]=X();if(Q&&Y)this._tokenizer=new Fw(this._textModel.getLineCount(),Q,this._textModel,this._languageIdCodec);else this._tokenizer=null;if(this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Z={setTokens:(G)=>{this.setTokens(G)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const G=2;this._backgroundTokenizationState=G,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(G,q)=>{var U;if(!this._tokenizer)return;const H=this._tokenizer.store.getFirstInvalidEndStateLineNumber();if(H!==null&&G>=H)(U=this._tokenizer)===null||U===void 0||U.store.setEndState(G,q)}};if(Q&&Q.createBackgroundTokenizer&&!Q.backgroundTokenizerShouldOnlyVerifyTokens)this._backgroundTokenizer.value=Q.createBackgroundTokenizer(this._textModel,Z);if(!this._backgroundTokenizer.value)this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Kw(this._tokenizer,Z),this._defaultBackgroundTokenizer.handleChanges();if((Q===null||Q===void 0?void 0:Q.backgroundTokenizerShouldOnlyVerifyTokens)&&Q.createBackgroundTokenizer)this._debugBackgroundTokens=new qU(this._languageIdCodec),this._debugBackgroundStates=new bz(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Q.createBackgroundTokenizer(this._textModel,{setTokens:(G)=>{var q;(q=this._debugBackgroundTokens)===null||q===void 0||q.setMultilineTokens(G,this._textModel)},backgroundTokenizationFinished(){},setEndState:(G,q)=>{var U;(U=this._debugBackgroundStates)===null||U===void 0||U.setEndState(G,q)}});else this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var J;(J=this._defaultBackgroundTokenizer)===null||J===void 0||J.handleChanges()}handleDidChangeContent(J){var $,X,Q;if(J.isFlush)this.resetTokenization(!1);else if(!J.isEolChange){for(let Y of J.changes){const[Z,G]=g5(Y.text);this._tokens.acceptEdit(Y.range,Z,G),($=this._debugBackgroundTokens)===null||$===void 0||$.acceptEdit(Y.range,Z,G)}if((X=this._debugBackgroundStates)===null||X===void 0||X.acceptChanges(J.changes),this._tokenizer)this._tokenizer.store.acceptChanges(J.changes);(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.handleChanges()}}setTokens(J){const{changes:$}=this._tokens.setMultilineTokens(J,this._textModel);if($.length>0)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:$});return{changes:$}}refreshAllVisibleLineTokens(){const J=v0.joinMany([...this._attachedViewStates].map(([$,X])=>X.lineRanges));this.refreshRanges(J)}refreshRanges(J){for(let $ of J)this.refreshRange($.startLineNumber,$.endLineNumberExclusive-1)}refreshRange(J,$){var X,Q;if(!this._tokenizer)return;J=Math.max(1,Math.min(this._textModel.getLineCount(),J)),$=Math.min(this._textModel.getLineCount(),$);const Y=new GU,{heuristicTokens:Z}=this._tokenizer.tokenizeHeuristically(Y,J,$),G=this.setTokens(Y.finalize());if(Z)for(let q of G.changes)(X=this._backgroundTokenizer.value)===null||X===void 0||X.requestTokens(q.fromLineNumber,q.toLineNumber+1);(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.checkFinished()}forceTokenization(J){var $,X;const Q=new GU;($=this._tokenizer)===null||$===void 0||$.updateTokensUntilLine(Q,J),this.setTokens(Q.finalize()),(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.checkFinished()}isCheapToTokenize(J){if(!this._tokenizer)return!0;return this._tokenizer.isCheapToTokenize(J)}tokenizeIfCheap(J){if(this.isCheapToTokenize(J))this.forceTokenization(J)}getLineTokens(J){var $;const X=this._textModel.getLineContent(J),Q=this._tokens.getTokens(this._textModel.getLanguageId(),J-1,X);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer){if(this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>J&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>J){const Y=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),J-1,X);if(!Q.equals(Y)&&(($=this._debugBackgroundTokenizer.value)===null||$===void 0?void 0:$.reportMismatchingTokens))this._debugBackgroundTokenizer.value.reportMismatchingTokens(J)}}return Q}getTokenTypeIfInsertingCharacter(J,$,X){if(!this._tokenizer)return 0;const Q=this._textModel.validatePosition(new b(J,$));return this.forceTokenization(Q.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Q,X)}tokenizeLineWithEdit(J,$,X){if(!this._tokenizer)return null;const Q=this._textModel.validatePosition(J);return this.forceTokenization(Q.lineNumber),this._tokenizer.tokenizeLineWithEdit(Q,$,X)}get hasTokens(){return this._tokens.hasTokens}}class iu extends f{get lineRanges(){return this._lineRanges}constructor(J){super();this._refreshTokens=J,this.runner=this._register(new Q8(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){if($8(this._computedLineRanges,this._lineRanges,(J,$)=>J.equals($)))return;this._computedLineRanges=this._lineRanges,this._refreshTokens()}handleStateChange(J){if(this._lineRanges=J.visibleLineRanges,J.stabilized)this.runner.cancel(),this.update();else this.runner.schedule()}}var nu=N(()=>{V1();f1();A1();A0();$0();IG();Q5();W1();k2();P6();cT();cu();jw();su();au()});class Aw{constructor(){this.changeType=1}}class j9{static applyInjectedText(J,$){if(!$||$.length===0)return J;let X="",Q=0;for(let Y of $)X+=J.substring(Q,Y.column-1),Q=Y.column-1,X+=Y.options.content;return X+=J.substring(Q),X}static fromDecorations(J){const $=[];for(let X of J){if(X.options.before&&X.options.before.content.length>0)$.push(new j9(X.ownerId,X.range.startLineNumber,X.range.startColumn,X.options.before,0));if(X.options.after&&X.options.after.content.length>0)$.push(new j9(X.ownerId,X.range.endLineNumber,X.range.endColumn,X.options.after,1))}return $.sort((X,Q)=>{if(X.lineNumber===Q.lineNumber){if(X.column===Q.column)return X.order-Q.order;return X.column-Q.column}return X.lineNumber-Q.lineNumber}),$}constructor(J,$,X,Q,Y){this.ownerId=J,this.lineNumber=$,this.column=X,this.options=Q,this.order=Y}}class zA{constructor(J,$,X){this.changeType=2,this.lineNumber=J,this.detail=$,this.injectedText=X}}class Pw{constructor(J,$){this.changeType=3,this.fromLineNumber=J,this.toLineNumber=$}}class Dw{constructor(J,$,X,Q){this.changeType=4,this.injectedTexts=Q,this.fromLineNumber=J,this.toLineNumber=$,this.detail=X}}class Rw{constructor(){this.changeType=5}}class SG{constructor(J,$,X,Q){this.changes=J,this.versionId=$,this.isUndoing=X,this.isRedoing=Q,this.resultingSelection=null}containsEvent(J){for(let $=0,X=this.changes.length;$<X;$++)if(this.changes[$].changeType===J)return!0;return!1}static merge(J,$){const X=[].concat(J.changes).concat($.changes),Q=$.versionId,Y=J.isUndoing||$.isUndoing,Z=J.isRedoing||$.isRedoing;return new SG(X,Q,Y,Z)}}class fz{constructor(J){this.changes=J}}class nX{constructor(J,$){this.rawContentChangedEvent=J,this.contentChangedEvent=$}merge(J){const $=SG.merge(this.rawContentChangedEvent,J.rawContentChangedEvent),X=nX._mergeChangeEvents(this.contentChangedEvent,J.contentChangedEvent);return new nX($,X)}static _mergeChangeEvents(J,$){const X=[].concat(J.changes).concat($.changes),Q=$.eol,Y=$.versionId,Z=J.isUndoing||$.isUndoing,G=J.isRedoing||$.isRedoing,q=J.isFlush||$.isFlush,U=J.isEolChange&&$.isEolChange;return{changes:X,eol:Q,isEolChange:U,versionId:Y,isUndoing:Z,isRedoing:G,isFlush:q}}}var TY=N(()=>{});class VA{constructor(J,$){this.resource=J,this.elements=$}}class CG{constructor(){this.id=CG._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}class R4{constructor(){this.id=R4._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}var UU;var WA=N(()=>{e0();UU=O0("undoRedoService");CG._ID=0;CG.None=new CG;R4._ID=0;R4.None=new R4});function d60(J){const $=new UA;return $.acceptChunk(J),$.finish()}function s60(J){const $=new UA;let X;while(typeof(X=J.read())==="string")$.acceptChunk(X);return $.finish()}function ou(J,$){let X;if(typeof J==="string")X=d60(J);else if(ob(J))X=s60(J);else X=J;return X.create($)}class Jc{constructor(J){this._source=J,this._eos=!1}read(){if(this._eos)return null;const J=[];let $=0,X=0;do{const Q=this._source.read();if(Q===null)if(this._eos=!0,$===0)return null;else return J.join("");if(Q.length>0)J[$++]=Q,X+=Q.length;if(X>=65536)return J.join("")}while(!0)}}class Tw{constructor(){this._decorationsTree0=new Iz,this._decorationsTree1=new Iz,this._injectedTextDecorationsTree=new Iz}ensureAllNodesHaveRanges(J){this.getAll(J,0,!1,!1,!1)}_ensureNodesHaveRanges(J,$){for(let X of $)if(X.range===null)X.range=J.getRangeAt(X.cachedAbsoluteStart,X.cachedAbsoluteEnd);return $}getAllInInterval(J,$,X,Q,Y,Z){const G=J.getVersionId(),q=this._intervalSearch($,X,Q,Y,G,Z);return this._ensureNodesHaveRanges(J,q)}_intervalSearch(J,$,X,Q,Y,Z){const G=this._decorationsTree0.intervalSearch(J,$,X,Q,Y,Z),q=this._decorationsTree1.intervalSearch(J,$,X,Q,Y,Z),U=this._injectedTextDecorationsTree.intervalSearch(J,$,X,Q,Y,Z);return G.concat(q).concat(U)}getInjectedTextInInterval(J,$,X,Q){const Y=J.getVersionId(),Z=this._injectedTextDecorationsTree.intervalSearch($,X,Q,!1,Y,!1);return this._ensureNodesHaveRanges(J,Z).filter((G)=>G.options.showIfCollapsed||!G.range.isEmpty())}getAllInjectedText(J,$){const X=J.getVersionId(),Q=this._injectedTextDecorationsTree.search($,!1,X,!1);return this._ensureNodesHaveRanges(J,Q).filter((Y)=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(J,$,X,Q,Y){const Z=J.getVersionId(),G=this._search($,X,Q,Z,Y);return this._ensureNodesHaveRanges(J,G)}_search(J,$,X,Q,Y){if(X)return this._decorationsTree1.search(J,$,Q,Y);else{const Z=this._decorationsTree0.search(J,$,Q,Y),G=this._decorationsTree1.search(J,$,Q,Y),q=this._injectedTextDecorationsTree.search(J,$,Q,Y);return Z.concat(G).concat(q)}}collectNodesFromOwner(J){const $=this._decorationsTree0.collectNodesFromOwner(J),X=this._decorationsTree1.collectNodesFromOwner(J),Q=this._injectedTextDecorationsTree.collectNodesFromOwner(J);return $.concat(X).concat(Q)}collectNodesPostOrder(){const J=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),X=this._injectedTextDecorationsTree.collectNodesPostOrder();return J.concat($).concat(X)}insert(J){if(Nw(J))this._injectedTextDecorationsTree.insert(J);else if(Ow(J))this._decorationsTree1.insert(J);else this._decorationsTree0.insert(J)}delete(J){if(Nw(J))this._injectedTextDecorationsTree.delete(J);else if(Ow(J))this._decorationsTree1.delete(J);else this._decorationsTree0.delete(J)}getNodeRange(J,$){const X=J.getVersionId();if($.cachedVersionId!==X)this._resolveNode($,X);if($.range===null)$.range=J.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd);return $.range}_resolveNode(J,$){if(Nw(J))this._injectedTextDecorationsTree.resolveNode(J,$);else if(Ow(J))this._decorationsTree1.resolveNode(J,$);else this._decorationsTree0.resolveNode(J,$)}acceptReplace(J,$,X,Q){this._decorationsTree0.acceptReplace(J,$,X,Q),this._decorationsTree1.acceptReplace(J,$,X,Q),this._injectedTextDecorationsTree.acceptReplace(J,$,X,Q)}}class _w{constructor(J){this.color=J.color||"",this.darkColor=J.darkColor||""}}class $c extends _w{constructor(J){super(J);this._resolvedColor=null,this.position=typeof J.position==="number"?J.position:Gq.Center}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(J,$){if(typeof J==="string")return J;const X=J?$.getColor(J.id):null;if(!X)return"";return X.toString()}}class Xc{constructor(J){var $;this.position=($=J===null||J===void 0?void 0:J.position)!==null&&$!==void 0?$:lQ.Left}}class Qc extends _w{constructor(J){super(J);this.position=J.position}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(J,$){if(typeof J==="string")return u.fromHex(J);return $.getColor(J.id)}}class gz{static from(J){if(J instanceof gz)return J;return new gz(J)}constructor(J){this.content=J.content||"",this.inlineClassName=J.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=J.attachedData||null,this.cursorStops=J.cursorStops||null}}class I1{static register(J){return new I1(J)}static createDynamic(J){return new I1(J)}constructor(J){var $,X,Q,Y,Z,G;this.description=J.description,this.blockClassName=J.blockClassName?oX(J.blockClassName):null,this.blockDoesNotCollapse=($=J.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(X=J.blockIsAfterEnd)!==null&&X!==void 0?X:null,this.blockPadding=(Q=J.blockPadding)!==null&&Q!==void 0?Q:null,this.stickiness=J.stickiness||0,this.zIndex=J.zIndex||0,this.className=J.className?oX(J.className):null,this.shouldFillLineOnLineBreak=(Y=J.shouldFillLineOnLineBreak)!==null&&Y!==void 0?Y:null,this.hoverMessage=J.hoverMessage||null,this.glyphMarginHoverMessage=J.glyphMarginHoverMessage||null,this.isWholeLine=J.isWholeLine||!1,this.showIfCollapsed=J.showIfCollapsed||!1,this.collapseOnReplaceEdit=J.collapseOnReplaceEdit||!1,this.overviewRuler=J.overviewRuler?new $c(J.overviewRuler):null,this.minimap=J.minimap?new Qc(J.minimap):null,this.glyphMargin=J.glyphMarginClassName?new Xc(J.glyphMargin):null,this.glyphMarginClassName=J.glyphMarginClassName?oX(J.glyphMarginClassName):null,this.linesDecorationsClassName=J.linesDecorationsClassName?oX(J.linesDecorationsClassName):null,this.firstLineDecorationClassName=J.firstLineDecorationClassName?oX(J.firstLineDecorationClassName):null,this.marginClassName=J.marginClassName?oX(J.marginClassName):null,this.inlineClassName=J.inlineClassName?oX(J.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=J.beforeContentClassName?oX(J.beforeContentClassName):null,this.afterContentClassName=J.afterContentClassName?oX(J.afterContentClassName):null,this.after=J.after?gz.from(J.after):null,this.before=J.before?gz.from(J.before):null,this.hideInCommentTokens=(Z=J.hideInCommentTokens)!==null&&Z!==void 0?Z:!1,this.hideInStringTokens=(G=J.hideInStringTokens)!==null&&G!==void 0?G:!1}}class Yc extends f{constructor(J){super();this.handleBeforeFire=J,this._actual=this._register(new E),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var J;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFireDeferred)this.doFire();(J=this._affectedInjectedTextLines)===null||J===void 0||J.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(J){if(!this._affectedInjectedTextLines)this._affectedInjectedTextLines=new Set;this._affectedInjectedTextLines.add(J)}checkAffectedAndFire(J){if(!this._affectsMinimap)this._affectsMinimap=J.minimap&&J.minimap.position?!0:!1;if(!this._affectsOverviewRuler)this._affectsOverviewRuler=J.overviewRuler&&J.overviewRuler.color?!0:!1;if(!this._affectsGlyphMargin)this._affectsGlyphMargin=J.glyphMarginClassName?!0:!1;this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){if(this._deferredCnt===0)this.doFire();else this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const J={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(J)}}class Zc extends f{constructor(){super();this._fastEmitter=this._register(new E),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new E),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(J=null){if(this._deferredCnt--,this._deferredCnt===0){if(this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=J;const $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}}fire(J){if(this._deferredCnt>0){if(this._deferredEvent)this._deferredEvent=this._deferredEvent.merge(J);else this._deferredEvent=J;return}this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}class Gc{constructor(){this._onDidChangeVisibleRanges=new E,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const J=new qc(($)=>{this._onDidChangeVisibleRanges.fire({view:J,state:$})});return this._views.add(J),J}detachView(J){this._views.delete(J),this._onDidChangeVisibleRanges.fire({view:J,state:void 0})}}class qc{constructor(J){this.handleStateChange=J}setVisibleLines(J,$){const X=J.map((Q)=>new v0(Q.startLineNumber,Q.endLineNumber+1));this.handleStateChange({visibleLineRanges:X,stabilized:$})}}var i60,Ow,Nw,oX,eu,l60,Mw,xG,BA,a60,r60,hz,tX,tu;var bG=N(()=>{V1();S9();A1();A0();$0();l0();l8();IG();AT();Q5();W1();u0();f7();I3();E5();b6();PJ();Gu();qu();$w();sT();Du();ku();Vw();fu();EF();nu();TY();WA();i60=function(J){let $=0;for(let X of J)if(X===" "||X==="\t")$++;else break;return $},Ow=function(J){return J.options.overviewRuler&&J.options.overviewRuler.color?!0:!1},Nw=function(J){return!!J.options.after||!!J.options.before},oX=function(J){return J.replace(/[^a-z0-9\-_]/gi," ")},eu=function(J){if(J instanceof I1)return J;return I1.createDynamic(J)},l60=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Mw=function(J,$){return function(X,Q){$(X,Q,J)}},BA=0,a60=999,r60=1e4;hz=()=>{throw new Error("Invalid change accessor")},tX=xG=class J extends f{static resolveOptions($,X){if(X.detectIndentation){const Q=Xw($,X.tabSize,X.insertSpaces);return new $G({tabSize:Q.tabSize,indentSize:"tabSize",insertSpaces:Q.insertSpaces,trimAutoWhitespace:X.trimAutoWhitespace,defaultEOL:X.defaultEOL,bracketPairColorizationOptions:X.bracketPairColorizationOptions})}return new $G(X)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent($){return this._eventEmitter.slowEvent((X)=>$(X.contentChangedEvent))}onDidChangeContentOrInjectedText($){return E6(this._eventEmitter.fastEvent((X)=>$(X)),this._onDidChangeInjectedText.event((X)=>$(X)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor($,X,Q,Y=null,Z,G,q){super();if(this._undoRedoService=Z,this._languageService=G,this._languageConfigurationService=q,this._onWillDispose=this._register(new E),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Yc((B)=>this.handleBeforeFireDecorationsChangedEvent(B))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new E),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new E),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new E),this._eventEmitter=this._register(new Zc),this._languageSelectionListener=this._register(new K6),this._deltaDecorationCallCnt=0,this._attachedViews=new Gc,BA++,this.id="$model"+BA,this.isForSimpleWidget=Q.isForSimpleWidget,typeof Y==="undefined"||Y===null)this._associatedResource=I0.parse("inmemory://model/"+BA);else this._associatedResource=Y;this._attachedEditorCount=0;const{textBuffer:U,disposable:H}=ou($,Q.defaultEOL);this._buffer=U,this._bufferDisposable=H,this._options=xG.resolveOptions(this._buffer,Q);const z=typeof X==="string"?X:X.languageId;if(typeof X!=="string")this._languageSelectionListener.value=X.onDidChange(()=>this._setLanguage(X.languageId));this._bracketPairs=this._register(new s_(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new dT(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a_(this)),this._tokenizationTextModelPart=new vz(this._languageService,this._languageConfigurationService,this,this._bracketPairs,z,this._attachedViews);const V=this._buffer.getLineCount(),W=this._buffer.getValueLengthInRange(new L(1,1,V,this._buffer.getLineLength(V)+1),0);if(Q.largeFileOptimizations)this._isTooLargeForTokenization=W>xG.LARGE_FILE_SIZE_THRESHOLD||V>xG.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=W>xG.LARGE_FILE_HEAP_OPERATION_THRESHOLD;else this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1;this._isTooLargeForSyncing=W>xG._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=Oj(BA),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Tw,this._commandManager=new ZA(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(z)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const $=new NY([],"","\n",!1,!1,!0,!0);$.dispose(),this._buffer=$,this._bufferDisposable=f.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent($,X){if(this.__isDisposing)return;this._tokenizationTextModelPart.handleDidChangeContent(X),this._bracketPairs.handleDidChangeContent(X),this._eventEmitter.fire(new nX($,X))}setValue($){if(this._assertNotDisposed(),$===null||$===void 0)throw rJ();const{textBuffer:X,disposable:Q}=ou($,this._options.defaultEOL);this._setValueFromTextBuffer(X,Q)}_createContentChanged2($,X,Q,Y,Z,G,q,U){return{changes:[{range:$,rangeOffset:X,rangeLength:Q,text:Y}],eol:this._buffer.getEOL(),isEolChange:U,versionId:this.getVersionId(),isUndoing:Z,isRedoing:G,isFlush:q}}_setValueFromTextBuffer($,X){this._assertNotDisposed();const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=X,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Tw,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new SG([new Aw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!0,!1))}setEOL($){this._assertNotDisposed();const X=$===1?"\r\n":"\n";if(this._buffer.getEOL()===X)return;const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._onBeforeEOLChange(),this._buffer.setEOL(X),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new SG([new Rw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const $=this.getVersionId(),X=this._decorationsTree.collectNodesPostOrder();for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q],G=Z.range,q=Z.cachedAbsoluteStart-Z.start,U=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),H=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);Z.cachedAbsoluteStart=U,Z.cachedAbsoluteEnd=H,Z.cachedVersionId=$,Z.start=U-q,Z.end=H-q,aX(Z)}}onBeforeAttached(){if(this._attachedEditorCount++,this._attachedEditorCount===1)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);return this._attachedViews.attachView()}onBeforeDetached($){if(this._attachedEditorCount--,this._attachedEditorCount===0)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);this._attachedViews.detachView($)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,X=0;const Q=this._buffer.getLineCount();for(let Y=1;Y<=Q;Y++){const Z=this._buffer.getLineLength(Y);if(Z>=r60)X+=Z;else $+=Z}return X>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();const X=typeof $.tabSize!=="undefined"?$.tabSize:this._options.tabSize,Q=typeof $.indentSize!=="undefined"?$.indentSize:this._options.originalIndentSize,Y=typeof $.insertSpaces!=="undefined"?$.insertSpaces:this._options.insertSpaces,Z=typeof $.trimAutoWhitespace!=="undefined"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,G=typeof $.bracketColorizationOptions!=="undefined"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,q=new $G({tabSize:X,indentSize:Q,insertSpaces:Y,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Z,bracketPairColorizationOptions:G});if(this._options.equals(q))return;const U=this._options.createChangeEvent(q);this._options=q,this._bracketPairs.handleDidChangeOptions(U),this._decorationProvider.handleDidChangeOptions(U),this._onDidChangeOptions.fire(U)}detectIndentation($,X){this._assertNotDisposed();const Q=Xw(this._buffer,X,$);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}normalizeIndentation($){return this._assertNotDisposed(),yK($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){const X=this.findMatches(KM.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,X.map((Q)=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();const X=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(X.lineNumber,X.column)}getPositionAt($){this._assertNotDisposed();const X=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(X)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,X=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new n1("Operation would exceed heap memory limits");const Q=this.getFullModelRange(),Y=this.getValueInRange(Q,$);if(X)return this._buffer.getBOM()+Y;return Y}createSnapshot($=!1){return new Jc(this._buffer.createSnapshot($))}getValueLength($,X=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q,$);if(X)return this._buffer.getBOM().length+Y;return Y}getValueInRange($,X=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),X)}getValueLengthInRange($,X=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),X)}getCharacterCountInRange($,X=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),X)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new n1("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new n1("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new n1("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()==="\n"?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new n1("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new n1("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new n1("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){const X=this._buffer.getLineCount(),Q=$.startLineNumber,Y=$.startColumn;let Z=Math.floor(typeof Q==="number"&&!isNaN(Q)?Q:1),G=Math.floor(typeof Y==="number"&&!isNaN(Y)?Y:1);if(Z<1)Z=1,G=1;else if(Z>X)Z=X,G=this.getLineMaxColumn(Z);else if(G<=1)G=1;else{const V=this.getLineMaxColumn(Z);if(G>=V)G=V}const{endLineNumber:q,endColumn:U}=$;let H=Math.floor(typeof q==="number"&&!isNaN(q)?q:1),z=Math.floor(typeof U==="number"&&!isNaN(U)?U:1);if(H<1)H=1,z=1;else if(H>X)H=X,z=this.getLineMaxColumn(H);else if(z<=1)z=1;else{const V=this.getLineMaxColumn(H);if(z>=V)z=V}if(Q===Z&&Y===G&&q===H&&U===z&&$ instanceof L&&!($ instanceof b0))return $;return new L(Z,G,H,z)}_isValidPosition($,X,Q){if(typeof $!=="number"||typeof X!=="number")return!1;if(isNaN($)||isNaN(X))return!1;if($<1||X<1)return!1;if(($|0)!==$||(X|0)!==X)return!1;const Y=this._buffer.getLineCount();if($>Y)return!1;if(X===1)return!0;const Z=this.getLineMaxColumn($);if(X>Z)return!1;if(Q===1){const G=this._buffer.getLineCharCode($,X-2);if(U8(G))return!1}return!0}_validatePosition($,X,Q){const Y=Math.floor(typeof $==="number"&&!isNaN($)?$:1),Z=Math.floor(typeof X==="number"&&!isNaN(X)?X:1),G=this._buffer.getLineCount();if(Y<1)return new b(1,1);if(Y>G)return new b(G,this.getLineMaxColumn(G));if(Z<=1)return new b(Y,1);const q=this.getLineMaxColumn(Y);if(Z>=q)return new b(Y,q);if(Q===1){const U=this._buffer.getLineCharCode(Y,Z-2);if(U8(U))return new b(Y,Z-1)}return new b(Y,Z)}validatePosition($){if(this._assertNotDisposed(),$ instanceof b){if(this._isValidPosition($.lineNumber,$.column,1))return $}return this._validatePosition($.lineNumber,$.column,1)}_isValidRange($,X){const{startLineNumber:Q,startColumn:Y,endLineNumber:Z,endColumn:G}=$;if(!this._isValidPosition(Q,Y,0))return!1;if(!this._isValidPosition(Z,G,0))return!1;if(X===1){const q=Y>1?this._buffer.getLineCharCode(Q,Y-2):0,U=G>1&&G<=this._buffer.getLineLength(Z)?this._buffer.getLineCharCode(Z,G-2):0,H=U8(q),z=U8(U);if(!H&&!z)return!0;return!1}return!0}validateRange($){if(this._assertNotDisposed(),$ instanceof L&&!($ instanceof b0)){if(this._isValidRange($,1))return $}const Q=this._validatePosition($.startLineNumber,$.startColumn,0),Y=this._validatePosition($.endLineNumber,$.endColumn,0),Z=Q.lineNumber,G=Q.column,q=Y.lineNumber,U=Y.column;{const H=G>1?this._buffer.getLineCharCode(Z,G-2):0,z=U>1&&U<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,U-2):0,V=U8(H),W=U8(z);if(!V&&!W)return new L(Z,G,q,U);if(Z===q&&G===U)return new L(Z,G-1,q,U-1);if(V&&W)return new L(Z,G-1,q,U+1);if(V)return new L(Z,G-1,q,U);return new L(Z,G,q,U+1)}return new L(Z,G,q,U)}modifyPosition($,X){this._assertNotDisposed();const Q=this.getOffsetAt($)+X;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const $=this.getLineCount();return new L(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,X,Q,Y){return this._buffer.findMatchesLineByLine($,X,Q,Y)}findMatches($,X,Q,Y,Z,G,q=a60){this._assertNotDisposed();let U=null;if(X!==null){if(!Array.isArray(X))X=[X];if(X.every((V)=>L.isIRange(V)))U=X.map((V)=>this.validateRange(V))}if(U===null)U=[this.getFullModelRange()];U=U.sort((V,W)=>V.startLineNumber-W.startLineNumber||V.startColumn-W.startColumn);const H=[];H.push(U.reduce((V,W)=>{if(L.areIntersecting(V,W))return V.plusRange(W);return H.push(V),W}));let z;if(!Q&&$.indexOf("\n")<0){const W=new sQ($,Q,Y,Z).parseSearchRequest();if(!W)return[];z=(B)=>this.findMatchesLineByLine(B,W,G,q)}else z=(V)=>qq.findMatches(this,new sQ($,Q,Y,Z),V,G,q);return H.map(z).reduce((V,W)=>V.concat(W),[])}findNextMatch($,X,Q,Y,Z,G){this._assertNotDisposed();const q=this.validatePosition(X);if(!Q&&$.indexOf("\n")<0){const H=new sQ($,Q,Y,Z).parseSearchRequest();if(!H)return null;const z=this.getLineCount();let V=new L(q.lineNumber,q.column,z,this.getLineMaxColumn(z)),W=this.findMatchesLineByLine(V,H,G,1);if(qq.findNextMatch(this,new sQ($,Q,Y,Z),q,G),W.length>0)return W[0];if(V=new L(1,1,q.lineNumber,this.getLineMaxColumn(q.lineNumber)),W=this.findMatchesLineByLine(V,H,G,1),W.length>0)return W[0];return null}return qq.findNextMatch(this,new sQ($,Q,Y,Z),q,G)}findPreviousMatch($,X,Q,Y,Z,G){this._assertNotDisposed();const q=this.validatePosition(X);return qq.findPreviousMatch(this,new sQ($,Q,Y,Z),q,G)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()==="\n"?0:1)===$)return;try{if(this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){if($ instanceof _H)return $;return new _H($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++)X[Q]=this._validateEditOperation($[Q]);return X}pushEditOperations($,X,Q,Y){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(X),Q,Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,X,Q,Y){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Z=X.map((q)=>{return{range:this.validateRange(q.range),text:q.text}});let G=!0;if($)for(let q=0,U=$.length;q<U;q++){const H=$[q];let z=!1;for(let V=0,W=Z.length;V<W;V++){const B=Z[V].range,j=B.startLineNumber>H.endLineNumber,K=H.startLineNumber>B.endLineNumber;if(!j&&!K){z=!0;break}}if(!z){G=!1;break}}if(G)for(let q=0,U=this._trimAutoWhitespaceLines.length;q<U;q++){const H=this._trimAutoWhitespaceLines[q],z=this.getLineMaxColumn(H);let V=!0;for(let W=0,B=Z.length;W<B;W++){const j=Z[W].range,K=Z[W].text;if(H<j.startLineNumber||H>j.endLineNumber)continue;if(H===j.startLineNumber&&j.startColumn===z&&j.isEmpty()&&K&&K.length>0&&K.charAt(0)==="\n")continue;if(H===j.startLineNumber&&j.startColumn===1&&j.isEmpty()&&K&&K.length>0&&K.charAt(K.length-1)==="\n")continue;V=!1;break}if(V){const W=new L(H,1,H,z);X.push(new _H(null,W,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}if(this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);return this._commandManager.pushEditOperation($,X,Q,Y)}_applyUndo($,X,Q,Y){const Z=$.map((G)=>{const q=this.getPositionAt(G.newPosition),U=this.getPositionAt(G.newEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.oldText}});this._applyUndoRedoEdits(Z,X,!0,!1,Q,Y)}_applyRedo($,X,Q,Y){const Z=$.map((G)=>{const q=this.getPositionAt(G.oldPosition),U=this.getPositionAt(G.oldEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.newText}});this._applyUndoRedoEdits(Z,X,!1,!0,Q,Y)}_applyUndoRedoEdits($,X,Q,Y,Z,G){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=Y,this.applyEdits($,!1),this.setEOL(X),this._overwriteAlternativeVersionId(Z)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(G),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,X=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations($);return this._doApplyEdits(Q,X)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,X){const Q=this._buffer.getLineCount(),Y=this._buffer.applyEdits($,this._options.trimAutoWhitespace,X),Z=this._buffer.getLineCount(),G=Y.changes;if(this._trimAutoWhitespaceLines=Y.trimAutoWhitespaceLineNumbers,G.length!==0){for(let H=0,z=G.length;H<z;H++){const V=G[H];this._decorationsTree.acceptReplace(V.rangeOffset,V.rangeLength,V.text.length,V.forceMoveMarkers)}const q=[];this._increaseVersionId();let U=Q;for(let H=0,z=G.length;H<z;H++){const V=G[H],[W]=g5(V.text);this._onDidChangeDecorations.fire();const B=V.range.startLineNumber,j=V.range.endLineNumber,K=j-B,D=W,A=Math.min(K,D),P=D-K,R=Z-U-P+B,M=R,T=R+D,_=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new b(M,1)),this.getOffsetAt(new b(T,this.getLineMaxColumn(T))),0),w=j9.fromDecorations(_),x=new d6(w);for(let C=A;C>=0;C--){const h=B+C,p=R+C;x.takeFromEndWhile((m)=>m.lineNumber>p);const r=x.takeFromEndWhile((m)=>m.lineNumber===p);q.push(new zA(h,this.getLineContent(p),r))}if(A<K){const C=B+A;q.push(new Pw(C+1,j))}if(A<D){const C=new d6(w),h=B+A,p=D-A,r=Z-U-p+h+1,m=[],c=[];for(let Q0=0;Q0<p;Q0++){const K0=r+Q0;c[Q0]=this.getLineContent(K0),C.takeWhile((B0)=>B0.lineNumber<K0),m[Q0]=C.takeWhile((B0)=>B0.lineNumber===K0)}q.push(new Dw(h+1,B+D,c,m))}U+=P}this._emitContentChangedEvent(new SG(q,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:G,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Y.reverseEdits===null?void 0:Y.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;const Q=Array.from($).map((Y)=>new zA(Y,this.getLineContent(Y),this._getInjectedTextInLine(Y)));this._onDidChangeInjectedText.fire(new fz(Q))}changeDecorations($,X=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(X,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,X){const Q={addDecoration:(Z,G)=>{return this._deltaDecorationsImpl($,[],[{range:Z,options:G}])[0]},changeDecoration:(Z,G)=>{this._changeDecorationImpl(Z,G)},changeDecorationOptions:(Z,G)=>{this._changeDecorationOptionsImpl(Z,eu(G))},removeDecoration:(Z)=>{this._deltaDecorationsImpl($,[Z],[])},deltaDecorations:(Z,G)=>{if(Z.length===0&&G.length===0)return[];return this._deltaDecorationsImpl($,Z,G)}};let Y=null;try{Y=X(Q)}catch(Z){a0(Z)}return Q.addDecoration=hz,Q.changeDecoration=hz,Q.changeDecorationOptions=hz,Q.removeDecoration=hz,Q.deltaDecorations=hz,Y}deltaDecorations($,X,Q=0){if(this._assertNotDisposed(),!$)$=[];if($.length===0&&X.length===0)return[];try{if(this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1)console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),a0(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."));return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,$,X)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,X,Q){const Y=$?this._decorations[$]:null;if(!Y){if(!X)return null;return this._deltaDecorationsImpl(0,[],[{range:X,options:tu[Q]}],!0)[0]}if(!X)return this._decorationsTree.delete(Y),delete this._decorations[Y.id],null;const Z=this._validateRangeRelaxedNoAllocations(X),G=this._buffer.getOffsetAt(Z.startLineNumber,Z.startColumn),q=this._buffer.getOffsetAt(Z.endLineNumber,Z.endColumn);return this._decorationsTree.delete(Y),Y.reset(this.getVersionId(),G,q,Z),Y.setOptions(tu[Q]),this._decorationsTree.insert(Y),Y.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;const X=this._decorationsTree.collectNodesFromOwner($);for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q];this._decorationsTree.delete(Z),delete this._decorations[Z.id]}}getDecorationOptions($){const X=this._decorations[$];if(!X)return null;return X.options}getDecorationRange($){const X=this._decorations[$];if(!X)return null;return this._decorationsTree.getNodeRange(this,X)}getLineDecorations($,X=0,Q=!1){if($<1||$>this.getLineCount())return[];return this.getLinesDecorations($,$,X,Q)}getLinesDecorations($,X,Q=0,Y=!1,Z=!1){const G=this.getLineCount(),q=Math.min(G,Math.max(1,$)),U=Math.min(G,Math.max(1,X)),H=this.getLineMaxColumn(U),z=new L(q,1,U,H),V=this._getDecorationsInRange(z,Q,Y,Z);return N3(V,this._decorationProvider.getDecorationsInRange(z,Q,Y)),V}getDecorationsInRange($,X=0,Q=!1,Y=!1,Z=!1){const G=this.validateRange($),q=this._getDecorationsInRange(G,X,Q,Z);return N3(q,this._decorationProvider.getDecorationsInRange(G,X,Q,Y)),q}getOverviewRulerDecorations($=0,X=!1){return this._decorationsTree.getAll(this,$,X,!0,!1)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){const X=this._buffer.getOffsetAt($,1),Q=X+this._buffer.getLineLength($),Y=this._decorationsTree.getInjectedTextInInterval(this,X,Q,0);return j9.fromDecorations(Y).filter((Z)=>Z.lineNumber===$)}getAllDecorations($=0,X=!1){let Q=this._decorationsTree.getAll(this,$,X,!1,!1);return Q=Q.concat(this._decorationProvider.getAllDecorations($,X)),Q}getAllMarginDecorations($=0){return this._decorationsTree.getAll(this,$,!1,!1,!0)}_getDecorationsInRange($,X,Q,Y){const Z=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),G=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,Z,G,X,Q,Y)}getRangeAt($,X){return this._buffer.getRangeAt($,X-$)}_changeDecorationImpl($,X){const Q=this._decorations[$];if(!Q)return;if(Q.options.after){const q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.endLineNumber)}if(Q.options.before){const q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.startLineNumber)}const Y=this._validateRangeRelaxedNoAllocations(X),Z=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),G=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);if(this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),Z,G,Y),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.endLineNumber);if(Q.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.startLineNumber)}_changeDecorationOptionsImpl($,X){const Q=this._decorations[$];if(!Q)return;const Y=Q.options.overviewRuler&&Q.options.overviewRuler.color?!0:!1,Z=X.overviewRuler&&X.overviewRuler.color?!0:!1;if(this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(X),Q.options.after||X.after){const G=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(G.endLineNumber)}if(Q.options.before||X.before){const G=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(G.startLineNumber)}if(Y!==Z)this._decorationsTree.delete(Q),Q.setOptions(X),this._decorationsTree.insert(Q);else Q.setOptions(X)}_deltaDecorationsImpl($,X,Q,Y=!1){const Z=this.getVersionId(),G=X.length;let q=0;const U=Q.length;let H=0;this._onDidChangeDecorations.beginDeferredEmit();try{const z=new Array(U);while(q<G||H<U){let V=null;if(q<G){do V=this._decorations[X[q++]];while(!V&&q<G);if(V){if(V.options.after){const W=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.endLineNumber)}if(V.options.before){const W=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.startLineNumber)}if(this._decorationsTree.delete(V),!Y)this._onDidChangeDecorations.checkAffectedAndFire(V.options)}}if(H<U){if(!V){const A=++this._lastDecorationId,P=`${this._instanceId};${A}`;V=new GA(P,0,0),this._decorations[P]=V}const W=Q[H],B=this._validateRangeRelaxedNoAllocations(W.range),j=eu(W.options),K=this._buffer.getOffsetAt(B.startLineNumber,B.startColumn),D=this._buffer.getOffsetAt(B.endLineNumber,B.endColumn);if(V.ownerId=$,V.reset(Z,K,D,B),V.setOptions(j),V.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.endLineNumber);if(V.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.startLineNumber);if(!Y)this._onDidChangeDecorations.checkAffectedAndFire(j);this._decorationsTree.insert(V),z[H]=V.id,H++}else if(V)delete this._decorations[V.id]}return z}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage($,X){if(typeof $==="string")this._languageSelectionListener.clear(),this._setLanguage($,X);else this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId,X)),this._setLanguage($.languageId,X)}_setLanguage($,X){this.tokenization.setLanguageId($,X),this._languageService.requestRichLanguageFeatures($)}getLanguageIdAtPosition($,X){return this.tokenization.getLanguageIdAtPosition($,X)}getWordAtPosition($){return this._tokenizationTextModelPart.getWordAtPosition($)}getWordUntilPosition($){return this._tokenizationTextModelPart.getWordUntilPosition($)}normalizePosition($,X){return $}getLineIndentColumn($){return i60(this.getLineContent($))+1}};tX._MODEL_SYNC_LIMIT=52428800;tX.LARGE_FILE_SIZE_THRESHOLD=20971520;tX.LARGE_FILE_LINE_COUNT_THRESHOLD=300000;tX.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456;tX.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:B7.tabSize,indentSize:B7.indentSize,insertSpaces:B7.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:B7.trimAutoWhitespace,largeFileOptimizations:B7.largeFileOptimizations,bracketPairColorizationOptions:B7.bracketPairColorizationOptions};tX=xG=l60([Mw(4,UU),Mw(5,o1),Mw(6,N8)],tX);I1.EMPTY=I1.register({description:"empty"});tu=[I1.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),I1.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),I1.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),I1.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})]});class pz{constructor(J){this._selTrackedRange=null,this._trackSelection=!0,this._setState(J,new Q7(new L(1,1,1,1),0,0,new b(1,1),0),new Q7(new L(1,1,1,1),0,0,new b(1,1),0))}dispose(J){this._removeTrackedRange(J)}startTrackingSelection(J){this._trackSelection=!0,this._updateTrackedRange(J)}stopTrackingSelection(J){this._trackSelection=!1,this._removeTrackedRange(J)}_updateTrackedRange(J){if(!this._trackSelection)return;this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0)}_removeTrackedRange(J){this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new B1(this.modelState,this.viewState)}readSelectionFromMarkers(J){const $=J.model._getTrackedRange(this._selTrackedRange);if(this.modelState.selection.isEmpty()&&!$.isEmpty())return b0.fromRange($.collapseToEnd(),this.modelState.selection.getDirection());return b0.fromRange($,this.modelState.selection.getDirection())}ensureValidState(J){this._setState(J,this.modelState,this.viewState)}setState(J,$,X){this._setState(J,$,X)}static _validatePositionWithCache(J,$,X,Q){if($.equals(X))return Q;return J.normalizePosition($,2)}static _validateViewState(J,$){const X=$.position,Q=$.selectionStart.getStartPosition(),Y=$.selectionStart.getEndPosition(),Z=J.normalizePosition(X,2),G=this._validatePositionWithCache(J,Q,X,Z),q=this._validatePositionWithCache(J,Y,Q,G);if(X.equals(Z)&&Q.equals(G)&&Y.equals(q))return $;return new Q7(L.fromPositions(G,q),$.selectionStartKind,$.selectionStartLeftoverVisibleColumns+Q.column-G.column,Z,$.leftoverVisibleColumns+X.column-Z.column)}_setState(J,$,X){if(X)X=pz._validateViewState(J.viewModel,X);if(!$){if(!X)return;const Q=J.model.validateRange(J.coordinatesConverter.convertViewRangeToModelRange(X.selectionStart)),Y=J.model.validatePosition(J.coordinatesConverter.convertViewPositionToModelPosition(X.position));$=new Q7(Q,X.selectionStartKind,X.selectionStartLeftoverVisibleColumns,Y,X.leftoverVisibleColumns)}else{const Q=J.model.validateRange($.selectionStart),Y=$.selectionStart.equalsRange(Q)?$.selectionStartLeftoverVisibleColumns:0,Z=J.model.validatePosition($.position),G=$.position.equals(Z)?$.leftoverVisibleColumns:0;$=new Q7(Q,$.selectionStartKind,Y,Z,G)}if(!X){const Q=J.coordinatesConverter.convertModelPositionToViewPosition(new b($.selectionStart.startLineNumber,$.selectionStart.startColumn)),Y=J.coordinatesConverter.convertModelPositionToViewPosition(new b($.selectionStart.endLineNumber,$.selectionStart.endColumn)),Z=new L(Q.lineNumber,Q.column,Y.lineNumber,Y.column),G=J.coordinatesConverter.convertModelPositionToViewPosition($.position);X=new Q7(Z,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,G,$.leftoverVisibleColumns)}else{const Q=J.coordinatesConverter.validateViewRange(X.selectionStart,$.selectionStart),Y=J.coordinatesConverter.validateViewPosition(X.position,$.position);X=new Q7(Q,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,Y,$.leftoverVisibleColumns)}this.modelState=$,this.viewState=X,this._updateTrackedRange(J)}}var Uc=N(()=>{wJ();W1();u0();f7()});class jA{constructor(J){this.context=J,this.cursors=[new pz(J)],this.lastAddedCursorIndex=0}dispose(){for(let J of this.cursors)J.dispose(this.context)}startTrackingSelections(){for(let J of this.cursors)J.startTrackingSelection(this.context)}stopTrackingSelections(){for(let J of this.cursors)J.stopTrackingSelection(this.context)}updateContext(J){this.context=J}ensureValidState(){for(let J of this.cursors)J.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((J)=>J.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map((J)=>J.asCursorState())}getViewPositions(){return this.cursors.map((J)=>J.viewState.position)}getTopMostViewPosition(){return Qv(this.cursors,l6((J)=>J.viewState.position,b.compare)).viewState.position}getBottomMostViewPosition(){return Xv(this.cursors,l6((J)=>J.viewState.position,b.compare)).viewState.position}getSelections(){return this.cursors.map((J)=>J.modelState.selection)}getViewSelections(){return this.cursors.map((J)=>J.viewState.selection)}setSelections(J){this.setStates(B1.fromModelSelections(J))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(J){if(J===null)return;this.cursors[0].setState(this.context,J[0].modelState,J[0].viewState),this._setSecondaryStates(J.slice(1))}_setSecondaryStates(J){const $=this.cursors.length-1,X=J.length;if($<X){const Q=X-$;for(let Y=0;Y<Q;Y++)this._addSecondaryCursor()}else if($>X){const Q=$-X;for(let Y=0;Y<Q;Y++)this._removeSecondaryCursor(this.cursors.length-2)}for(let Q=0;Q<X;Q++)this.cursors[Q+1].setState(this.context,J[Q].modelState,J[Q].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new pz(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){if(this.cursors.length===1||this.lastAddedCursorIndex===0)return 0;return this.lastAddedCursorIndex}_removeSecondaryCursor(J){if(this.lastAddedCursorIndex>=J+1)this.lastAddedCursorIndex--;this.cursors[J+1].dispose(this.context),this.cursors.splice(J+1,1)}normalize(){if(this.cursors.length===1)return;const J=this.cursors.slice(0),$=[];for(let X=0,Q=J.length;X<Q;X++)$.push({index:X,selection:J[X].modelState.selection});$.sort(l6((X)=>X.selection,L.compareRangesUsingStarts));for(let X=0;X<$.length-1;X++){const Q=$[X],Y=$[X+1],Z=Q.selection,G=Y.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let q;if(G.isEmpty()||Z.isEmpty())q=G.getStartPosition().isBeforeOrEqual(Z.getEndPosition());else q=G.getStartPosition().isBefore(Z.getEndPosition());if(q){const U=Q.index<Y.index?X:X+1,H=Q.index<Y.index?X+1:X,z=$[H].index,V=$[U].index,W=$[H].selection,B=$[U].selection;if(!W.equalsSelection(B)){const j=W.plusRange(B),K=W.selectionStartLineNumber===W.startLineNumber&&W.selectionStartColumn===W.startColumn,D=B.selectionStartLineNumber===B.startLineNumber&&B.selectionStartColumn===B.startColumn;let A;if(z===this.lastAddedCursorIndex)A=K,this.lastAddedCursorIndex=V;else A=D;let P;if(A)P=new b0(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);else P=new b0(j.endLineNumber,j.endColumn,j.startLineNumber,j.startColumn);$[U].selection=P;const R=B1.fromModelSelection(P);J[V].setState(this.context,R.modelState,R.viewState)}for(let j of $)if(j.index>z)j.index--;J.splice(z,1),$.splice(H,1),this._removeSecondaryCursor(z-1),X--}}}}var Hc=N(()=>{V1();OX();wJ();Uc();W1();u0();f7()});class FA{constructor(J,$,X,Q){this._cursorContextBrand=void 0,this.model=J,this.viewModel=$,this.coordinatesConverter=X,this.cursorConfig=Q}}var zc=N(()=>{});class ww{constructor(){this.type=0}}class Lw{constructor(){this.type=1}}class Iw{constructor(J){this.type=2,this._source=J}hasChanged(J){return this._source.hasChanged(J)}}class kw{constructor(J,$,X){this.selections=J,this.modelSelections=$,this.reason=X,this.type=3}}class _Y{constructor(J){if(this.type=4,J)this.affectsMinimap=J.affectsMinimap,this.affectsOverviewRuler=J.affectsOverviewRuler,this.affectsGlyphMargin=J.affectsGlyphMargin;else this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0}}class HU{constructor(){this.type=5}}class Ew{constructor(J){this.type=6,this.isFocused=J}}class yw{constructor(){this.type=7}}class zU{constructor(){this.type=8}}class KA{constructor(J,$){this.fromLineNumber=J,this.count=$,this.type=9}}class mz{constructor(J,$){this.type=10,this.fromLineNumber=J,this.toLineNumber=$}}class uz{constructor(J,$){this.type=11,this.fromLineNumber=J,this.toLineNumber=$}}class vG{constructor(J,$,X,Q,Y,Z,G){this.source=J,this.minimalReveal=$,this.range=X,this.selections=Q,this.verticalType=Y,this.revealHorizontal=Z,this.scrollType=G,this.type=12}}class Sw{constructor(J){this.type=13,this.scrollWidth=J.scrollWidth,this.scrollLeft=J.scrollLeft,this.scrollHeight=J.scrollHeight,this.scrollTop=J.scrollTop,this.scrollWidthChanged=J.scrollWidthChanged,this.scrollLeftChanged=J.scrollLeftChanged,this.scrollHeightChanged=J.scrollHeightChanged,this.scrollTopChanged=J.scrollTopChanged}}class Cw{constructor(J){this.theme=J,this.type=14}}class xw{constructor(J){this.type=15,this.ranges=J}}class bw{constructor(){this.type=16}}class vw{constructor(){this.type=17}}var AA=N(()=>{});class fw extends f{constructor(){super();this._onEvent=this._register(new E),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(J){this._addOutgoingEvent(J),this._emitOutgoingEvents()}_addOutgoingEvent(J){for(let $=0,X=this._outgoingEvents.length;$<X;$++){const Q=this._outgoingEvents[$].kind===J.kind?this._outgoingEvents[$].attemptToMerge(J):null;if(Q){this._outgoingEvents[$]=Q;return}}this._outgoingEvents.push(J)}_emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;const J=this._outgoingEvents.shift();if(J.isNoOp())continue;this._onEvent.fire(J)}}addViewEventHandler(J){for(let $=0,X=this._eventHandlers.length;$<X;$++)if(this._eventHandlers[$]===J)console.warn("Detected duplicate listener in ViewEventDispatcher",J);this._eventHandlers.push(J)}removeViewEventHandler(J){for(let $=0;$<this._eventHandlers.length;$++)if(this._eventHandlers[$]===J){this._eventHandlers.splice($,1);break}}beginEmitViewEvents(){if(this._collectorCnt++,this._collectorCnt===1)this._collector=new Wc;return this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const J=this._collector.outgoingEvents,$=this._collector.viewEvents;this._collector=null;for(let X of J)this._addOutgoingEvent(X);if($.length>0)this._emitMany($)}this._emitOutgoingEvents()}emitSingleViewEvent(J){try{this.beginEmitViewEvents().emitViewEvent(J)}finally{this.endEmitViewEvents()}}_emitMany(J){if(this._viewEventQueue)this._viewEventQueue=this._viewEventQueue.concat(J);else this._viewEventQueue=J;if(!this._isConsumingViewEventQueue)this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){const J=this._viewEventQueue;this._viewEventQueue=null;const $=this._eventHandlers.slice(0);for(let X of $)X.handleEvents(J)}}}class Wc{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(J){this.viewEvents.push(J)}emitOutgoingEvent(J){this.outgoingEvents.push(J)}}class PA{constructor(J,$,X,Q){this.kind=0,this._oldContentWidth=J,this._oldContentHeight=$,this.contentWidth=X,this.contentHeight=Q,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new PA(this._oldContentWidth,this._oldContentHeight,J.contentWidth,J.contentHeight)}}class DA{constructor(J,$){this.kind=1,this.oldHasFocus=J,this.hasFocus=$}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(J){if(J.kind!==this.kind)return null;return new DA(this.oldHasFocus,J.hasFocus)}}class RA{constructor(J,$,X,Q,Y,Z,G,q){this.kind=2,this._oldScrollWidth=J,this._oldScrollLeft=$,this._oldScrollHeight=X,this._oldScrollTop=Q,this.scrollWidth=Y,this.scrollLeft=Z,this.scrollHeight=G,this.scrollTop=q,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new RA(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,J.scrollWidth,J.scrollLeft,J.scrollHeight,J.scrollTop)}}class hw{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class gw{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class cz{constructor(J,$,X,Q,Y,Z,G){this.kind=6,this.oldSelections=J,this.selections=$,this.oldModelVersionId=X,this.modelVersionId=Q,this.source=Y,this.reason=Z,this.reachedMaxCursorCount=G}static _selectionsAreEqual(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;const X=J.length,Q=$.length;if(X!==Q)return!1;for(let Y=0;Y<X;Y++)if(!J[Y].equalsSelection($[Y]))return!1;return!0}isNoOp(){return cz._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(J){if(J.kind!==this.kind)return null;return new cz(this.oldSelections,J.selections,this.oldModelVersionId,J.modelVersionId,J.source,J.reason,this.reachedMaxCursorCount||J.reachedMaxCursorCount)}}class pw{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class mw{constructor(J){this.event=J,this.kind=7}isNoOp(){return!1}attemptToMerge(J){return null}}class uw{constructor(J){this.event=J,this.kind=8}isNoOp(){return!1}attemptToMerge(J){return null}}class cw{constructor(J){this.event=J,this.kind=9}isNoOp(){return!1}attemptToMerge(J){return null}}class lw{constructor(J){this.event=J,this.kind=10}isNoOp(){return!1}attemptToMerge(J){return null}}class dw{constructor(J){this.event=J,this.kind=11}isNoOp(){return!1}attemptToMerge(J){return null}}class sw{constructor(J){this.event=J,this.kind=12}isNoOp(){return!1}attemptToMerge(J){return null}}var MA=N(()=>{A0();$0()});class rw extends f{constructor(J,$,X,Q){super();this._model=J,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=$,this._coordinatesConverter=X,this.context=new FA(this._model,this._viewModel,this._coordinatesConverter,Q),this._cursors=new jA(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=w1(this._autoClosedActions),super.dispose()}updateConfiguration(J){this.context=new FA(this._model,this._viewModel,this._coordinatesConverter,J),this._cursors.updateContext(this.context)}onLineMappingChanged(J){if(this._knownModelVersionId!==this._model.getVersionId())return;this.setStates(J,"viewModel",0,this.getCursorStates())}setHasFocus(J){this._hasFocus=J}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const J=this._cursors.getSelections();for(let $=0;$<this._autoClosedActions.length;$++){const X=this._autoClosedActions[$];if(!X.isValid(J))X.dispose(),this._autoClosedActions.splice($,1),$--}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(J,$,X,Q){let Y=!1;const Z=this.context.cursorConfig.multiCursorLimit;if(Q!==null&&Q.length>Z)Q=Q.slice(0,Z),Y=!0;const G=lz.from(this._model,this);return this._cursors.setStates(Q),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,$,X,G,Y)}setCursorColumnSelectData(J){this._columnSelectData=J}revealPrimary(J,$,X,Q,Y,Z){const G=this._cursors.getViewPositions();let q=null,U=null;if(G.length>1)U=this._cursors.getViewSelections();else q=L.fromPositions(G[0],G[0]);J.emitViewEvent(new vG($,X,q,U,Q,Y,Z))}saveState(){const J=[],$=this._cursors.getSelections();for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];J.push({inSelectionMode:!Y.isEmpty(),selectionStart:{lineNumber:Y.selectionStartLineNumber,column:Y.selectionStartColumn},position:{lineNumber:Y.positionLineNumber,column:Y.positionColumn}})}return J}restoreState(J,$){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++){const Z=$[Q];let G=1,q=1;if(Z.position&&Z.position.lineNumber)G=Z.position.lineNumber;if(Z.position&&Z.position.column)q=Z.position.column;let U=G,H=q;if(Z.selectionStart&&Z.selectionStart.lineNumber)U=Z.selectionStart.lineNumber;if(Z.selectionStart&&Z.selectionStart.column)H=Z.selectionStart.column;X.push({selectionStartLineNumber:U,selectionStartColumn:H,positionLineNumber:G,positionColumn:q})}this.setStates(J,"restoreState",0,B1.fromModelSelections(X)),this.revealPrimary(J,"restoreState",!1,0,!0,1)}onModelContentChanged(J,$){if($ instanceof fz){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(J,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const X=$.rawContentChangedEvent;if(this._knownModelVersionId=X.versionId,this._isHandling)return;const Q=X.containsEvent(1);if(this._prevEditOperationType=0,Q)this._cursors.dispose(),this._cursors=new jA(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,"model",1,null,!1);else if(this._hasFocus&&X.resultingSelection&&X.resultingSelection.length>0){const Y=B1.fromModelSelections(X.resultingSelection);if(this.setStates(J,"modelChange",X.isUndoing?5:X.isRedoing?6:2,Y))this.revealPrimary(J,"modelChange",!1,0,!0,0)}else{const Y=this._cursors.readSelectionFromMarkers();this.setStates(J,"modelChange",2,B1.fromModelSelections(Y))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const J=this._cursors.getPrimaryCursor(),$=J.viewState.selectionStart.getStartPosition(),X=J.viewState.position;return{isReal:!1,fromViewLineNumber:$.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,$),toViewLineNumber:X.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,X)}}getSelections(){return this._cursors.getSelections()}setSelections(J,$,X,Q){this.setStates(J,$,Q,B1.fromModelSelections(X))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(J){this._prevEditOperationType=J}_pushAutoClosedAction(J,$){const X=[],Q=[];for(let G=0,q=J.length;G<q;G++)X.push({range:J[G],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),Q.push({range:$[G],options:{description:"auto-closed-enclosing",stickiness:1}});const Y=this._model.deltaDecorations([],X),Z=this._model.deltaDecorations([],Q);this._autoClosedActions.push(new aw(this._model,Y,Z))}_executeEditOperation(J){if(!J)return;if(J.shouldPushStackElementBefore)this._model.pushStackElement();const $=Bc.executeCommands(this._model,this._cursors.getSelections(),J.commands);if($){this._interpretCommandResult($);const X=[],Q=[];for(let Y=0;Y<J.commands.length;Y++){const Z=J.commands[Y];if(Z instanceof fK&&Z.enclosingRange&&Z.closeCharacterRange)X.push(Z.closeCharacterRange),Q.push(Z.enclosingRange)}if(X.length>0)this._pushAutoClosedAction(X,Q);this._prevEditOperationType=J.type}if(J.shouldPushStackElementAfter)this._model.pushStackElement()}_interpretCommandResult(J){if(!J||J.length===0)J=this._cursors.readSelectionFromMarkers();this._columnSelectData=null,this._cursors.setSelections(J),this._cursors.normalize()}_emitStateChangedIfNecessary(J,$,X,Q,Y){const Z=lz.from(this._model,this);if(Z.equals(Q))return!1;const G=this._cursors.getSelections(),q=this._cursors.getViewSelections();if(J.emitViewEvent(new kw(q,G,X)),!Q||Q.cursorState.length!==Z.cursorState.length||Z.cursorState.some((U,H)=>!U.modelState.equals(Q.cursorState[H].modelState))){const U=Q?Q.cursorState.map((z)=>z.modelState.selection):null,H=Q?Q.modelVersionId:0;J.emitOutgoingEvent(new cz(U,G,H,Z.modelVersionId,$||"keyboard",X,Y))}return!0}_findAutoClosingPairs(J){if(!J.length)return null;const $=[];for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y.text||Y.text.indexOf("\n")>=0)return null;const Z=Y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;const G=Z[1],q=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(G);if(!q||q.length!==1)return null;const U=q[0].open,H=Y.text.length-Z[2].length-1,z=Y.text.lastIndexOf(U,H-1);if(z===-1)return null;$.push([z,H])}return $}executeEdits(J,$,X,Q){let Y=null;if($==="snippet")Y=this._findAutoClosingPairs(X);if(Y)X[0]._isTracked=!0;const Z=[],G=[],q=this._model.pushEditOperations(this.getSelections(),X,(U)=>{if(Y)for(let z=0,V=Y.length;z<V;z++){const[W,B]=Y[z],j=U[z],K=j.range.startLineNumber,D=j.range.startColumn-1+W,A=j.range.startColumn-1+B;Z.push(new L(K,A+1,K,A+2)),G.push(new L(K,D+1,K,A+2))}const H=Q(U);if(H)this._isHandling=!0;return H});if(q)this._isHandling=!1,this.setSelections(J,$,q,0);if(Z.length>0)this._pushAutoClosedAction(Z,G)}_executeEdit(J,$,X,Q=0){if(this.context.cursorConfig.readOnly)return;const Y=lz.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),J()}catch(Z){a0(Z)}if(this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary($,X,Q,Y,!1))this.revealPrimary($,X,!1,0,!0,0)}getAutoClosedCharacters(){return aw.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(J){this._compositionState=new dz(this._model,this.getSelections())}endComposition(J,$){const X=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{if($==="keyboard")this._executeEditOperation(_8.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,X,this.getSelections(),this.getAutoClosedCharacters()))},J,$)}type(J,$,X){this._executeEdit(()=>{if(X==="keyboard"){const Q=$.length;let Y=0;while(Y<Q){const Z=u3($,Y),G=$.substr(Y,Z);this._executeEditOperation(_8.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),G)),Y+=Z}}else this._executeEditOperation(_8.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$))},J,X)}compositionType(J,$,X,Q,Y,Z){if($.length===0&&X===0&&Q===0){if(Y!==0){const G=this.getSelections().map((q)=>{const U=q.getPosition();return new b0(U.lineNumber,U.column+Y,U.lineNumber,U.column+Y)});this.setSelections(J,Z,G,0)}return}this._executeEdit(()=>{this._executeEditOperation(_8.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$,X,Q,Y))},J,Z)}paste(J,$,X,Q,Y){this._executeEdit(()=>{this._executeEditOperation(_8.paste(this.context.cursorConfig,this._model,this.getSelections(),$,X,Q||[]))},J,Y,4)}cut(J,$){this._executeEdit(()=>{this._executeEditOperation(N$.cut(this.context.cursorConfig,this._model,this.getSelections()))},J,$)}executeCommand(J,$,X){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Y6(0,[$],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,X)}executeCommands(J,$,X){this._executeEdit(()=>{this._executeEditOperation(new Y6(0,$,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,X)}}class lz{static from(J,$){return new lz(J.getVersionId(),$.getCursorStates())}constructor(J,$){this.modelVersionId=J,this.cursorState=$}equals(J){if(!J)return!1;if(this.modelVersionId!==J.modelVersionId)return!1;if(this.cursorState.length!==J.cursorState.length)return!1;for(let $=0,X=this.cursorState.length;$<X;$++)if(!this.cursorState[$].equals(J.cursorState[$]))return!1;return!0}}class aw{static getAllAutoClosedCharacters(J){let $=[];for(let X of J)$=$.concat(X.getAutoClosedCharactersRanges());return $}constructor(J,$,X){this._model=J,this._autoClosedCharactersDecorations=$,this._autoClosedEnclosingDecorations=X}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const J=[];for(let $=0;$<this._autoClosedCharactersDecorations.length;$++){const X=this._model.getDecorationRange(this._autoClosedCharactersDecorations[$]);if(X)J.push(X)}return J}isValid(J){const $=[];for(let X=0;X<this._autoClosedEnclosingDecorations.length;X++){const Q=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[X]);if(Q){if($.push(Q),Q.startLineNumber!==Q.endLineNumber)return!1}}$.sort(L.compareRangesUsingStarts),J.sort(L.compareRangesUsingStarts);for(let X=0;X<J.length;X++){if(X>=$.length)return!1;if(!$[X].strictContainsRange(J[X]))return!1}return!0}}class Bc{static executeCommands(J,$,X){const Q={model:J,selectionsBefore:$,trackedRanges:[],trackedRangesDirection:[]},Y=this._innerExecuteCommands(Q,X);for(let Z=0,G=Q.trackedRanges.length;Z<G;Z++)Q.model._setTrackedRange(Q.trackedRanges[Z],null,0);return Y}static _innerExecuteCommands(J,$){if(this._arrayIsEmpty($))return null;const X=this._getEditOperations(J,$);if(X.operations.length===0)return null;const Q=X.operations,Y=this._getLoserCursorMap(Q);if(Y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Z=[];for(let U=0,H=Q.length;U<H;U++)if(!Y.hasOwnProperty(Q[U].identifier.major.toString()))Z.push(Q[U]);if(X.hadTrackedEditOperation&&Z.length>0)Z[0]._isTracked=!0;let G=J.model.pushEditOperations(J.selectionsBefore,Z,(U)=>{const H=[];for(let W=0;W<J.selectionsBefore.length;W++)H[W]=[];for(let W of U){if(!W.identifier)continue;H[W.identifier.major].push(W)}const z=(W,B)=>{return W.identifier.minor-B.identifier.minor},V=[];for(let W=0;W<J.selectionsBefore.length;W++)if(H[W].length>0)H[W].sort(z),V[W]=$[W].computeCursorState(J.model,{getInverseEditOperations:()=>{return H[W]},getTrackedSelection:(B)=>{const j=parseInt(B,10),K=J.model._getTrackedRange(J.trackedRanges[j]);if(J.trackedRangesDirection[j]===0)return new b0(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn);return new b0(K.endLineNumber,K.endColumn,K.startLineNumber,K.startColumn)}});else V[W]=J.selectionsBefore[W];return V});if(!G)G=J.selectionsBefore;const q=[];for(let U in Y)if(Y.hasOwnProperty(U))q.push(parseInt(U,10));q.sort((U,H)=>{return H-U});for(let U of q)G.splice(U,1);return G}static _arrayIsEmpty(J){for(let $=0,X=J.length;$<X;$++)if(J[$])return!1;return!0}static _getEditOperations(J,$){let X=[],Q=!1;for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];if(G){const q=this._getEditOperationsFromCommand(J,Y,G);X=X.concat(q.operations),Q=Q||q.hadTrackedEditOperation}}return{operations:X,hadTrackedEditOperation:Q}}static _getEditOperationsFromCommand(J,$,X){const Q=[];let Y=0;const Z=(z,V,W=!1)=>{if(L.isEmpty(z)&&V==="")return;Q.push({identifier:{major:$,minor:Y++},range:z,text:V,forceMoveMarkers:W,isAutoWhitespaceEdit:X.insertsAutoWhitespace})};let G=!1;const H={addEditOperation:Z,addTrackedEditOperation:(z,V,W)=>{G=!0,Z(z,V,W)},trackSelection:(z,V)=>{const W=b0.liftSelection(z);let B;if(W.isEmpty())if(typeof V==="boolean")if(V)B=2;else B=3;else{const D=J.model.getLineMaxColumn(W.startLineNumber);if(W.startColumn===D)B=2;else B=3}else B=1;const j=J.trackedRanges.length,K=J.model._setTrackedRange(null,W,B);return J.trackedRanges[j]=K,J.trackedRangesDirection[j]=W.getDirection(),j.toString()}};try{X.getEditOperations(J.model,H)}catch(z){return a0(z),{operations:[],hadTrackedEditOperation:!1}}return{operations:Q,hadTrackedEditOperation:G}}static _getLoserCursorMap(J){J=J.slice(0),J.sort((X,Q)=>{return-L.compareRangesUsingEnds(X.range,Q.range)});const $={};for(let X=1;X<J.length;X++){const Q=J[X-1],Y=J[X];if(L.getStartPosition(Q.range).isBefore(L.getEndPosition(Y.range))){let Z;if(Q.identifier.major>Y.identifier.major)Z=Q.identifier.major;else Z=Y.identifier.major;$[Z.toString()]=!0;for(let G=0;G<J.length;G++)if(J[G].identifier.major===Z){if(J.splice(G,1),G<X)X--;G--}if(X>0)X--}}return $}}class jc{constructor(J,$,X){this.text=J,this.startSelection=$,this.endSelection=X}}class dz{static _capture(J,$){const X=[];for(let Q of $){if(Q.startLineNumber!==Q.endLineNumber)return null;X.push(new jc(J.getLineContent(Q.startLineNumber),Q.startColumn-1,Q.endColumn-1))}return X}constructor(J,$){this._original=dz._capture(J,$)}deduceOutcome(J,$){if(!this._original)return null;const X=dz._capture(J,$);if(!X)return null;if(this._original.length!==X.length)return null;const Q=[];for(let Y=0,Z=this._original.length;Y<Z;Y++)Q.push(dz._deduceOutcome(this._original[Y],X[Y]));return Q}static _deduceOutcome(J,$){const X=Math.min(J.startSelection,$.startSelection,EZ(J.text,$.text)),Q=Math.min(J.text.length-J.endSelection,$.text.length-$.endSelection,m3(J.text,$.text)),Y=J.text.substring(X,J.text.length-Q),Z=$.text.substring(X,$.text.length-Q);return new LT(Y,J.startSelection-X,J.endSelection-X,Z,$.startSelection-X,$.endSelection-X)}}var Fc=N(()=>{A1();l0();Hc();wJ();zc();CK();IT();u0();f7();TY();AA();$0();MA()});function Pc(J,$,X){return n60(this,void 0,void 0,function*(){if(!X)return Ac($,J.languageIdCodec,Kc);const Q=yield g1.getOrCreate(X);return Ac($,J.languageIdCodec,Q||Kc)})}function Dc(J,$,X,Q,Y,Z,G){let q="<div>",U=Q,H=0,z=!0;for(let V=0,W=$.getCount();V<W;V++){const B=$.getEndOffset(V);if(B<=Q)continue;let j="";for(;U<B&&U<Y;U++){const K=J.charCodeAt(U);switch(K){case 9:{let D=Z-(U+H)%Z;H+=D-1;while(D>0){if(G&&z)j+="&#160;",z=!1;else j+=" ",z=!0;D--}break}case 60:j+="&lt;",z=!1;break;case 62:j+="&gt;",z=!1;break;case 38:j+="&amp;",z=!1;break;case 0:j+="&#00;",z=!1;break;case 65279:case 8232:case 8233:case 133:j+="\uFFFD",z=!1;break;case 13:j+="&#8203",z=!1;break;case 32:if(G&&z)j+="&#160;",z=!1;else j+=" ",z=!0;break;default:j+=String.fromCharCode(K),z=!1}}if(q+=`<span style="${$.getInlineStyle(V,X)}">${j}</span>`,B>Y||U>=Y)break}return q+="</div>",q}function Ac(J,$,X){let Q='<div class="monaco-tokenized-source">';const Y=n9(J);let Z=X.getInitialState();for(let G=0,q=Y.length;G<q;G++){const U=Y[G];if(G>0)Q+="<br/>";const H=X.tokenizeEncoded(U,!0,Z);T8.convertToEndOffset(H.tokens,U.length);const V=new T8(H.tokens,U,$).inflate();let W=0;for(let B=0,j=V.getCount();B<j;B++){const K=V.getClassName(B),D=V.getEndOffset(B);Q+=`<span class="${K}">${kZ(U.substring(W,D))}</span>`,W=D}Z=H.endState}return Q+="</div>",Q}var n60,Kc;var iw=N(()=>{l0();wX();P6();gH();n60=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},Kc={getInitialState:()=>tQ,tokenizeEncoded:(J,$,X)=>Bq(0,X)}});class Rc{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(J){this._hasPending=!0,this._inserts.push(J)}change(J){this._hasPending=!0,this._changes.push(J)}remove(J){this._hasPending=!0,this._removes.push(J)}mustCommit(){return this._hasPending}commit(J){if(!this._hasPending)return;const $=this._inserts,X=this._changes,Q=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],J._commitPendingChanges($,X,Q)}}class Mc{constructor(J,$,X,Q,Y){this.id=J,this.afterLineNumber=$,this.ordinal=X,this.height=Q,this.minWidth=Y,this.prefixSum=0}}class VU{constructor(J,$,X,Q){this._instanceId=Oj(++VU.INSTANCE_COUNT),this._pendingChanges=new Rc,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=J,this._lineHeight=$,this._paddingTop=X,this._paddingBottom=Q}static findInsertionIndex(J,$,X){let Q=0,Y=J.length;while(Q<Y){const Z=Q+Y>>>1;if($===J[Z].afterLineNumber)if(X<J[Z].ordinal)Y=Z;else Q=Z+1;else if($<J[Z].afterLineNumber)Y=Z;else Q=Z+1}return Q}setLineHeight(J){this._checkPendingChanges(),this._lineHeight=J}setPadding(J,$){this._paddingTop=J,this._paddingBottom=$}onFlushed(J){this._checkPendingChanges(),this._lineCount=J}changeWhitespace(J){let $=!1;try{J({insertWhitespace:(Q,Y,Z,G)=>{$=!0,Q=Q|0,Y=Y|0,Z=Z|0,G=G|0;const q=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Mc(q,Q,Y,Z,G)),q},changeOneWhitespace:(Q,Y,Z)=>{$=!0,Y=Y|0,Z=Z|0,this._pendingChanges.change({id:Q,newAfterLineNumber:Y,newHeight:Z})},removeWhitespace:(Q)=>{$=!0,this._pendingChanges.remove({id:Q})}})}finally{this._pendingChanges.commit(this)}return $}_commitPendingChanges(J,$,X){if(J.length>0||X.length>0)this._minWidth=-1;if(J.length+$.length+X.length<=1){for(let q of J)this._insertWhitespace(q);for(let q of $)this._changeOneWhitespace(q.id,q.newAfterLineNumber,q.newHeight);for(let q of X){const U=this._findWhitespaceIndex(q.id);if(U===-1)continue;this._removeWhitespace(U)}return}const Q=new Set;for(let q of X)Q.add(q.id);const Y=new Map;for(let q of $)Y.set(q.id,q);const Z=(q)=>{const U=[];for(let H of q){if(Q.has(H.id))continue;if(Y.has(H.id)){const z=Y.get(H.id);H.afterLineNumber=z.newAfterLineNumber,H.height=z.newHeight}U.push(H)}return U},G=Z(this._arr).concat(Z(J));G.sort((q,U)=>{if(q.afterLineNumber===U.afterLineNumber)return q.ordinal-U.ordinal;return q.afterLineNumber-U.afterLineNumber}),this._arr=G,this._prefixSumValidIndex=-1}_checkPendingChanges(){if(this._pendingChanges.mustCommit())this._pendingChanges.commit(this)}_insertWhitespace(J){const $=VU.findInsertionIndex(this._arr,J.afterLineNumber,J.ordinal);this._arr.splice($,0,J),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,$-1)}_findWhitespaceIndex(J){const $=this._arr;for(let X=0,Q=$.length;X<Q;X++)if($[X].id===J)return X;return-1}_changeOneWhitespace(J,$,X){const Q=this._findWhitespaceIndex(J);if(Q===-1)return;if(this._arr[Q].height!==X)this._arr[Q].height=X,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,Q-1);if(this._arr[Q].afterLineNumber!==$){const Y=this._arr[Q];this._removeWhitespace(Q),Y.afterLineNumber=$,this._insertWhitespace(Y)}}_removeWhitespace(J){this._arr.splice(J,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,J-1)}onLinesDeleted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount-=$-J+1;for(let X=0,Q=this._arr.length;X<Q;X++){const Y=this._arr[X].afterLineNumber;if(J<=Y&&Y<=$)this._arr[X].afterLineNumber=J-1;else if(Y>$)this._arr[X].afterLineNumber-=$-J+1}}onLinesInserted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount+=$-J+1;for(let X=0,Q=this._arr.length;X<Q;X++){const Y=this._arr[X].afterLineNumber;if(J<=Y)this._arr[X].afterLineNumber+=$-J+1}}getWhitespacesTotalHeight(){if(this._checkPendingChanges(),this._arr.length===0)return 0;return this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(J){this._checkPendingChanges(),J=J|0;let $=Math.max(0,this._prefixSumValidIndex+1);if($===0)this._arr[0].prefixSum=this._arr[0].height,$++;for(let X=$;X<=J;X++)this._arr[X].prefixSum=this._arr[X-1].prefixSum+this._arr[X].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,J),this._arr[J].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const J=this._lineHeight*this._lineCount,$=this.getWhitespacesTotalHeight();return J+$+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(J){this._checkPendingChanges(),J=J|0;const $=this._findLastWhitespaceBeforeLineNumber(J);if($===-1)return 0;return this.getWhitespacesAccumulatedHeight($)}_findLastWhitespaceBeforeLineNumber(J){J=J|0;const $=this._arr;let X=0,Q=$.length-1;while(X<=Q){const Z=(Q-X|0)/2|0,G=X+Z|0;if($[G].afterLineNumber<J)if(G+1>=$.length||$[G+1].afterLineNumber>=J)return G;else X=G+1|0;else Q=G-1|0}return-1}_findFirstWhitespaceAfterLineNumber(J){J=J|0;const X=this._findLastWhitespaceBeforeLineNumber(J)+1;if(X<this._arr.length)return X;return-1}getFirstWhitespaceIndexAfterLineNumber(J){return this._checkPendingChanges(),J=J|0,this._findFirstWhitespaceAfterLineNumber(J)}getVerticalOffsetForLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let X;if(J>1)X=this._lineHeight*(J-1);else X=0;const Q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J-($?1:0));return X+Q+this._paddingTop}getVerticalOffsetAfterLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;const X=this._lineHeight*J,Q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J+($?1:0));return X+Q+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let J=0;for(let $=0,X=this._arr.length;$<X;$++)J=Math.max(J,this._arr[$].minWidth);this._minWidth=J}return this._minWidth}isAfterLines(J){this._checkPendingChanges();const $=this.getLinesTotalHeight();return J>$}isInTopPadding(J){if(this._paddingTop===0)return!1;return this._checkPendingChanges(),J<this._paddingTop}isInBottomPadding(J){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const $=this.getLinesTotalHeight();return J>=$-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(J){if(this._checkPendingChanges(),J=J|0,J<0)return 1;const $=this._lineCount|0,X=this._lineHeight;let Q=1,Y=$;while(Q<Y){const Z=(Q+Y)/2|0,G=this.getVerticalOffsetForLineNumber(Z)|0;if(J>=G+X)Q=Z+1;else if(J>=G)return Z;else Y=Z}if(Q>$)return $;return Q}getLinesViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;const X=this._lineHeight,Q=this.getLineNumberAtOrAfterVerticalOffset(J)|0,Y=this.getVerticalOffsetForLineNumber(Q)|0;let Z=this._lineCount|0,G=this.getFirstWhitespaceIndexAfterLineNumber(Q)|0;const q=this.getWhitespacesCount()|0;let U,H;if(G===-1)G=q,H=Z+1,U=0;else H=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;let z=Y,V=z;const W=500000;let B=0;if(Y>=W)B=Math.floor(Y/W)*W,B=Math.floor(B/X)*X,V-=B;const j=[],K=J+($-J)/2;let D=-1;for(let M=Q;M<=Z;M++){if(D===-1){const T=z,_=z+X;if(T<=K&&K<_||T>K)D=M}z+=X,j[M-Q]=V,V+=X;while(H===M)if(V+=U,z+=U,G++,G>=q)H=Z+1;else H=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;if(z>=$){Z=M;break}}if(D===-1)D=Z;const A=this.getVerticalOffsetForLineNumber(Z)|0;let P=Q,R=Z;if(P<R){if(Y<J)P++}if(P<R){if(A+X>$)R--}return{bigNumbersDelta:B,startLineNumber:Q,endLineNumber:Z,relativeVerticalOffset:j,centeredLineNumber:D,completelyVisibleStartLineNumber:P,completelyVisibleEndLineNumber:R}}getVerticalOffsetForWhitespaceIndex(J){this._checkPendingChanges(),J=J|0;const $=this.getAfterLineNumberForWhitespaceIndex(J);let X;if($>=1)X=this._lineHeight*$;else X=0;let Q;if(J>0)Q=this.getWhitespacesAccumulatedHeight(J-1);else Q=0;return X+Q+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(J){this._checkPendingChanges(),J=J|0;let $=0,X=this.getWhitespacesCount()-1;if(X<0)return-1;const Q=this.getVerticalOffsetForWhitespaceIndex(X),Y=this.getHeightForWhitespaceIndex(X);if(J>=Q+Y)return-1;while($<X){const Z=Math.floor(($+X)/2),G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(J>=G+q)$=Z+1;else if(J>=G)return Z;else X=Z}return $}getWhitespaceAtVerticalOffset(J){this._checkPendingChanges(),J=J|0;const $=this.getWhitespaceIndexAtOrAfterVerticallOffset(J);if($<0)return null;if($>=this.getWhitespacesCount())return null;const X=this.getVerticalOffsetForWhitespaceIndex($);if(X>J)return null;const Q=this.getHeightForWhitespaceIndex($),Y=this.getIdForWhitespaceIndex($),Z=this.getAfterLineNumberForWhitespaceIndex($);return{id:Y,afterLineNumber:Z,verticalOffset:X,height:Q}}getWhitespaceViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;const X=this.getWhitespaceIndexAtOrAfterVerticallOffset(J),Q=this.getWhitespacesCount()-1;if(X<0)return[];const Y=[];for(let Z=X;Z<=Q;Z++){const G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(G>=$)break;Y.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:G,height:q})}return Y}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].id}getAfterLineNumberForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].afterLineNumber}getHeightForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].height}}var Oc=N(()=>{l0();VU.INSTANCE_COUNT=0});class WU{constructor(J,$,X,Q){if(J=J|0,$=$|0,X=X|0,Q=Q|0,J<0)J=0;if($<0)$=0;if(X<0)X=0;if(Q<0)Q=0;this.width=J,this.contentWidth=$,this.scrollWidth=Math.max(J,$),this.height=X,this.contentHeight=Q,this.scrollHeight=Math.max(X,Q)}equals(J){return this.width===J.width&&this.contentWidth===J.contentWidth&&this.height===J.height&&this.contentHeight===J.contentHeight}}class Nc extends f{constructor(J,$){super();this._onDidContentSizeChange=this._register(new E),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new WU(0,0,0,0),this._scrollable=this._register(new D$({forceIntegerValues:!0,smoothScrollDuration:J,scheduleAtNextAnimationFrame:$})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(J){this._scrollable.setSmoothScrollDuration(J)}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}getScrollDimensions(){return this._dimensions}setScrollDimensions(J){if(this._dimensions.equals(J))return;const $=this._dimensions;this._dimensions=J,this._scrollable.setScrollDimensions({width:J.width,scrollWidth:J.scrollWidth,height:J.height,scrollHeight:J.scrollHeight},!0);const X=$.contentWidth!==J.contentWidth,Q=$.contentHeight!==J.contentHeight;if(X||Q)this._onDidContentSizeChange.fire(new PA($.contentWidth,$.contentHeight,J.contentWidth,J.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(J){this._scrollable.setScrollPositionNow(J)}setScrollPositionSmooth(J){this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class nw extends f{constructor(J,$,X){super();this._configuration=J;const Q=this._configuration.options,Y=Q.get(143),Z=Q.get(83);this._linesLayout=new VU($,Q.get(66),Z.top,Z.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Nc(0,X)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new WU(Y.contentWidth,0,Y.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?o60:0)}onConfigurationChanged(J){const $=this._configuration.options;if(J.hasChanged(66))this._linesLayout.setLineHeight($.get(66));if(J.hasChanged(83)){const X=$.get(83);this._linesLayout.setPadding(X.top,X.bottom)}if(J.hasChanged(143)){const X=$.get(143),Q=X.contentWidth,Y=X.height,Z=this._scrollable.getScrollDimensions(),G=Z.contentWidth;this._scrollable.setScrollDimensions(new WU(Q,Z.contentWidth,Y,this._getContentHeight(Q,Y,G)))}else this._updateHeight();if(J.hasChanged(113))this._configureSmoothScrollDuration()}onFlushed(J){this._linesLayout.onFlushed(J)}onLinesDeleted(J,$){this._linesLayout.onLinesDeleted(J,$)}onLinesInserted(J,$){this._linesLayout.onLinesInserted(J,$)}_getHorizontalScrollbarHeight(J,$){const Q=this._configuration.options.get(102);if(Q.horizontal===2)return 0;if(J>=$)return 0;return Q.horizontalScrollbarSize}_getContentHeight(J,$,X){const Q=this._configuration.options;let Y=this._linesLayout.getLinesTotalHeight();if(Q.get(104))Y+=Math.max(0,$-Q.get(66)-Q.get(83).bottom);else Y+=this._getHorizontalScrollbarHeight(J,X);return Y}_updateHeight(){const J=this._scrollable.getScrollDimensions(),$=J.width,X=J.height,Q=J.contentWidth;this._scrollable.setScrollDimensions(new WU($,J.contentWidth,X,this._getContentHeight($,X,Q)))}getCurrentViewport(){const J=this._scrollable.getScrollDimensions(),$=this._scrollable.getCurrentScrollPosition();return new aF($.scrollTop,$.scrollLeft,J.width,J.height)}getFutureViewport(){const J=this._scrollable.getScrollDimensions(),$=this._scrollable.getFutureScrollPosition();return new aF($.scrollTop,$.scrollLeft,J.width,J.height)}_computeContentWidth(){const J=this._configuration.options,$=this._maxLineWidth,X=J.get(144),Q=J.get(50),Y=J.get(143);if(X.isViewportWrapping){const Z=J.get(72);if($>Y.contentWidth+Q.typicalHalfwidthCharacterWidth){if(Z.enabled&&Z.side==="right")return $+Y.verticalScrollbarWidth}return $}else{const Z=J.get(103)*Q.typicalHalfwidthCharacterWidth,G=this._linesLayout.getWhitespaceMinWidth();return Math.max($+Z+Y.verticalScrollbarWidth,G,this._overlayWidgetsMinWidth)}}setMaxLineWidth(J){this._maxLineWidth=J,this._updateContentWidth()}setOverlayWidgetsMinWidth(J){this._overlayWidgetsMinWidth=J,this._updateContentWidth()}_updateContentWidth(){const J=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new WU(J.width,this._computeContentWidth(),J.height,J.contentHeight)),this._updateHeight()}saveState(){const J=this._scrollable.getFutureScrollPosition(),$=J.scrollTop,X=this._linesLayout.getLineNumberAtOrAfterVerticalOffset($),Q=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(X);return{scrollTop:$,scrollTopWithoutViewZones:$-Q,scrollLeft:J.scrollLeft}}changeWhitespace(J){const $=this._linesLayout.changeWhitespace(J);if($)this.onHeightMaybeChanged();return $}getVerticalOffsetForLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(J,$)}isAfterLines(J){return this._linesLayout.isAfterLines(J)}isInTopPadding(J){return this._linesLayout.isInTopPadding(J)}isInBottomPadding(J){return this._linesLayout.isInBottomPadding(J)}getLineNumberAtVerticalOffset(J){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(J)}getWhitespaceAtVerticalOffset(J){return this._linesLayout.getWhitespaceAtVerticalOffset(J)}getLinesViewportData(){const J=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(J.top,J.top+J.height)}getLinesViewportDataAtScrollTop(J){const $=this._scrollable.getScrollDimensions();if(J+$.height>$.scrollHeight)J=$.scrollHeight-$.height;if(J<0)J=0;return this._linesLayout.getLinesViewportData(J,J+$.height)}getWhitespaceViewportData(){const J=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(J.top,J.top+J.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}setScrollPosition(J,$){if($===1)this._scrollable.setScrollPositionNow(J);else this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(J,$){const X=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:X.scrollLeft+J,scrollTop:X.scrollTop+$})}}var o60;var Tc=N(()=>{A0();$0();Xz();Oc();MJ();MA();o60=125});function t60(J,$){if($.options.hideInCommentTokens&&e60(J,$))return!1;if($.options.hideInStringTokens&&J90(J,$))return!1;return!0}function e60(J,$){return _c(J,$.range,(X)=>X===1)}function J90(J,$){return _c(J,$.range,(X)=>X===2)}class ow{constructor(J,$,X,Q,Y){this.editorId=J,this.model=$,this.configuration=X,this._linesCollection=Q,this._coordinatesConverter=Y,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(J){const $=J.id;let X=this._decorationsCache[$];if(!X){const{range:Q,options:Y}=J;let Z;if(Y.isWholeLine){const G=this._coordinatesConverter.convertModelPositionToViewPosition(new b(Q.startLineNumber,1),0,!1,!0),q=this._coordinatesConverter.convertModelPositionToViewPosition(new b(Q.endLineNumber,this.model.getLineMaxColumn(Q.endLineNumber)),1);Z=new L(G.lineNumber,G.column,q.lineNumber,q.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(Q,1);X=new uH(Z,Y),this._decorationsCache[$]=X}return X}getMinimapDecorationsInRange(J){return this._getDecorationsInRange(J,!0,!1).decorations}getDecorationsViewportData(J){let $=this._cachedModelDecorationsResolver!==null;if($=$&&J.equalsRange(this._cachedModelDecorationsResolverViewRange),!$)this._cachedModelDecorationsResolver=this._getDecorationsInRange(J,!1,!1),this._cachedModelDecorationsResolverViewRange=J;return this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(J,$=!1,X=!1){const Q=new L(J,this._linesCollection.getViewLineMinColumn(J),J,this._linesCollection.getViewLineMaxColumn(J));return this._getDecorationsInRange(Q,$,X).inlineDecorations[0]}_getDecorationsInRange(J,$,X){const Q=this._linesCollection.getDecorationsInRange(J,this.editorId,PZ(this.configuration.options),$,X),Y=J.startLineNumber,Z=J.endLineNumber,G=[];let q=0;const U=[];for(let H=Y;H<=Z;H++)U[H-Y]=[];for(let H=0,z=Q.length;H<z;H++){const V=Q[H],W=V.options;if(!t60(this.model,V))continue;const B=this._getOrCreateViewModelDecoration(V),j=B.range;if(G[q++]=B,W.inlineClassName){const K=new eQ(j,W.inlineClassName,W.inlineClassNameAffectsLetterSpacing?3:0),D=Math.max(Y,j.startLineNumber),A=Math.min(Z,j.endLineNumber);for(let P=D;P<=A;P++)U[P-Y].push(K)}if(W.beforeContentClassName){if(Y<=j.startLineNumber&&j.startLineNumber<=Z){const K=new eQ(new L(j.startLineNumber,j.startColumn,j.startLineNumber,j.startColumn),W.beforeContentClassName,1);U[j.startLineNumber-Y].push(K)}}if(W.afterContentClassName){if(Y<=j.endLineNumber&&j.endLineNumber<=Z){const K=new eQ(new L(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn),W.afterContentClassName,2);U[j.endLineNumber-Y].push(K)}}}return{decorations:G,inlineDecorations:U}}}var _c;var wc=N(()=>{W1();u0();MJ();F6();_c=function(J,$,X){for(let Q=$.startLineNumber;Q<=$.endLineNumber;Q++){const Y=J.tokenization.getLineTokens(Q),Z=Q===$.startLineNumber,G=Q===$.endLineNumber;let q=Z?Y.findTokenIndexAtOffset($.startColumn-1):0;while(q<Y.getCount()){if(G){if(Y.getStartOffset(q)>$.endColumn-1)break}if(!X(Y.getStandardTokenType(q)))return!1;q++}}return!0}});function OA(J,$){if(J===null){if($)return sz.INSTANCE;return az.INSTANCE}else return new Ic(J,$)}class Ic{constructor(J,$){this._projectionData=J,this._isVisible=$}isVisible(){return this._isVisible}setVisible(J){return this._isVisible=J,this}getProjectionData(){return this._projectionData}getViewLineCount(){if(!this._isVisible)return 0;return this._projectionData.getOutputLineCount()}getViewLineContent(J,$,X){this._assertVisible();const Q=X>0?this._projectionData.breakOffsets[X-1]:0,Y=this._projectionData.breakOffsets[X];let Z;if(this._projectionData.injectionOffsets!==null){const G=this._projectionData.injectionOffsets.map((U,H)=>new j9(0,0,U+1,this._projectionData.injectionOptions[H],0));Z=j9.applyInjectedText(J.getLineContent($),G).substring(Q,Y)}else Z=J.getValueInRange({startLineNumber:$,startColumn:Q+1,endLineNumber:$,endColumn:Y+1});if(X>0)Z=Lc(this._projectionData.wrappedTextIndentLength)+Z;return Z}getViewLineLength(J,$,X){return this._assertVisible(),this._projectionData.getLineLength(X)}getViewLineMinColumn(J,$,X){return this._assertVisible(),this._projectionData.getMinOutputOffset(X)+1}getViewLineMaxColumn(J,$,X){return this._assertVisible(),this._projectionData.getMaxOutputOffset(X)+1}getViewLineData(J,$,X){const Q=new Array;return this.getViewLinesData(J,$,X,1,0,[!0],Q),Q[0]}getViewLinesData(J,$,X,Q,Y,Z,G){this._assertVisible();const q=this._projectionData,U=q.injectionOffsets,H=q.injectionOptions;let z=null;if(U){z=[];let W=0,B=0;for(let j=0;j<q.getOutputLineCount();j++){const K=new Array;z[j]=K;const D=j>0?q.breakOffsets[j-1]:0,A=q.breakOffsets[j];while(B<U.length){const P=H[B].content.length,R=U[B]+W,M=R+P;if(R>A)break;if(D<M){const T=H[B];if(T.inlineClassName){const _=j>0?q.wrappedTextIndentLength:0,w=_+Math.max(R-D,0),x=_+Math.min(M-D,A-D);if(w!==x)K.push(new BN(w,x,T.inlineClassName,T.inlineClassNameAffectsLetterSpacing))}}if(M<=A)W+=P,B++;else break}}}let V;if(U)V=J.tokenization.getLineTokens($).withInserted(U.map((W,B)=>({offset:W,text:H[B].content,tokenMetadata:T8.defaultTokenMetadata})));else V=J.tokenization.getLineTokens($);for(let W=X;W<X+Q;W++){const B=Y+W-X;if(!Z[B]){G[B]=null;continue}G[B]=this._getViewLineData(V,z?z[W]:null,W)}}_getViewLineData(J,$,X){this._assertVisible();const Q=this._projectionData,Y=X>0?Q.wrappedTextIndentLength:0,Z=X>0?Q.breakOffsets[X-1]:0,G=Q.breakOffsets[X],q=J.sliceAndInflate(Z,G,Y);let U=q.getLineContent();if(X>0)U=Lc(Q.wrappedTextIndentLength)+U;const H=this._projectionData.getMinOutputOffset(X)+1,z=U.length+1,V=X+1<this.getViewLineCount(),W=X===0?0:Q.breakOffsetsVisibleColumn[X-1];return new Aq(U,V,H,z,W,q,$)}getModelColumnOfViewPosition(J,$){return this._assertVisible(),this._projectionData.translateToInputOffset(J,$-1)+1}getViewPositionOfModelPosition(J,$,X=2){return this._assertVisible(),this._projectionData.translateToOutputPosition($-1,X).toPosition(J)}getViewLineNumberOfModelPosition(J,$){this._assertVisible();const X=this._projectionData.translateToOutputPosition($-1);return J+X.outputLineIndex}normalizePosition(J,$,X){const Q=$.lineNumber-J;return this._projectionData.normalizeOutputPosition(J,$.column-1,X).toPosition(Q)}getInjectedTextAt(J,$){return this._projectionData.getInjectedText(J,$-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class sz{constructor(){}isVisible(){return!0}setVisible(J){if(J)return this;return az.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(J,$,X){return J.getLineContent($)}getViewLineLength(J,$,X){return J.getLineLength($)}getViewLineMinColumn(J,$,X){return J.getLineMinColumn($)}getViewLineMaxColumn(J,$,X){return J.getLineMaxColumn($)}getViewLineData(J,$,X){const Q=J.tokenization.getLineTokens($),Y=Q.getLineContent();return new Aq(Y,!1,1,Y.length+1,0,Q.inflate(),null)}getViewLinesData(J,$,X,Q,Y,Z,G){if(!Z[Y]){G[Y]=null;return}G[Y]=this.getViewLineData(J,$,0)}getModelColumnOfViewPosition(J,$){return $}getViewPositionOfModelPosition(J,$){return new b(J,$)}getViewLineNumberOfModelPosition(J,$){return J}normalizePosition(J,$,X){return $}getInjectedTextAt(J,$){return null}}class az{constructor(){}isVisible(){return!1}setVisible(J){if(!J)return this;return sz.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(J,$,X){throw new Error("Not supported")}getViewLineLength(J,$,X){throw new Error("Not supported")}getViewLineMinColumn(J,$,X){throw new Error("Not supported")}getViewLineMaxColumn(J,$,X){throw new Error("Not supported")}getViewLineData(J,$,X){throw new Error("Not supported")}getViewLinesData(J,$,X,Q,Y,Z,G){throw new Error("Not supported")}getModelColumnOfViewPosition(J,$){throw new Error("Not supported")}getViewPositionOfModelPosition(J,$){throw new Error("Not supported")}getViewLineNumberOfModelPosition(J,$){throw new Error("Not supported")}normalizePosition(J,$,X){throw new Error("Not supported")}getInjectedTextAt(J,$){throw new Error("Not supported")}}var Lc,$90,tw;var kc=N(()=>{wX();W1();TY();MJ();Lc=function(J){if(J>=tw.length)for(let $=1;$<=J;$++)tw[$]=$90($);return tw[J]},$90=function(J){return new Array(J+1).join(" ")};sz.INSTANCE=new sz;az.INSTANCE=new az;tw=[""]});class $L{constructor(J,$,X,Q,Y,Z,G,q,U,H){this._editorId=J,this.model=$,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=X,this._monospaceLineBreaksComputerFactory=Q,this.fontInfo=Y,this.tabSize=Z,this.wrappingStrategy=G,this.wrappingColumn=q,this.wrappingIndent=U,this.wordBreak=H,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Ec(this)}_constructLines(J,$){if(this.modelLineProjections=[],J)this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);const X=this.model.getLinesContent(),Q=this.model.getInjectedTextDecorations(this._editorId),Y=X.length,Z=this.createLineBreaksComputer(),G=new d6(j9.fromDecorations(Q));for(let j=0;j<Y;j++){const K=G.takeWhile((D)=>D.lineNumber===j+1);Z.addRequest(X[j],K,$?$[j]:null)}const q=Z.finalize(),U=[],H=this.hiddenAreasDecorationIds.map((j)=>this.model.getDecorationRange(j)).sort(L.compareRangesUsingStarts);let z=1,V=0,W=-1,B=W+1<H.length?V+1:Y+2;for(let j=0;j<Y;j++){const K=j+1;if(K===B)W++,z=H[W].startLineNumber,V=H[W].endLineNumber,B=W+1<H.length?V+1:Y+2;const D=K>=z&&K<=V,A=OA(q[j],!D);U[j]=A.getViewLineCount(),this.modelLineProjections[j]=A}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new vO(U)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((J)=>this.model.getDecorationRange(J))}setHiddenAreas(J){const $=J.map((V)=>this.model.validateRange(V)),X=X90($),Q=this.hiddenAreasDecorationIds.map((V)=>this.model.getDecorationRange(V)).sort(L.compareRangesUsingStarts);if(X.length===Q.length){let V=!1;for(let W=0;W<X.length;W++)if(!X[W].equalsRange(Q[W])){V=!0;break}if(!V)return!1}const Y=X.map((V)=>({range:V,options:I1.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Y);const Z=X;let G=1,q=0,U=-1,H=U+1<Z.length?q+1:this.modelLineProjections.length+2,z=!1;for(let V=0;V<this.modelLineProjections.length;V++){const W=V+1;if(W===H)U++,G=Z[U].startLineNumber,q=Z[U].endLineNumber,H=U+1<Z.length?q+1:this.modelLineProjections.length+2;let B=!1;if(W>=G&&W<=q){if(this.modelLineProjections[V].isVisible())this.modelLineProjections[V]=this.modelLineProjections[V].setVisible(!1),B=!0}else if(z=!0,!this.modelLineProjections[V].isVisible())this.modelLineProjections[V]=this.modelLineProjections[V].setVisible(!0),B=!0;if(B){const j=this.modelLineProjections[V].getViewLineCount();this.projectedModelLineLineCounts.setValue(V,j)}}if(!z)this.setHiddenAreas([]);return!0}modelPositionIsVisible(J,$){if(J<1||J>this.modelLineProjections.length)return!1;return this.modelLineProjections[J-1].isVisible()}getModelLineViewLineCount(J){if(J<1||J>this.modelLineProjections.length)return 1;return this.modelLineProjections[J-1].getViewLineCount()}setTabSize(J){if(this.tabSize===J)return!1;return this.tabSize=J,this._constructLines(!1,null),!0}setWrappingSettings(J,$,X,Q,Y){const Z=this.fontInfo.equals(J),G=this.wrappingStrategy===$,q=this.wrappingColumn===X,U=this.wrappingIndent===Q,H=this.wordBreak===Y;if(Z&&G&&q&&U&&H)return!1;const z=Z&&G&&!q&&U&&H;this.fontInfo=J,this.wrappingStrategy=$,this.wrappingColumn=X,this.wrappingIndent=Q,this.wordBreak=Y;let V=null;if(z){V=[];for(let W=0,B=this.modelLineProjections.length;W<B;W++)V[W]=this.modelLineProjections[W].getProjectionData()}return this._constructLines(!1,V),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(J,$,X){if(!J||J<=this._validModelVersionId)return null;const Q=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,Y=this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections.splice($-1,X-$+1),this.projectedModelLineLineCounts.removeValues($-1,X-$+1),new mz(Q,Y)}onModelLinesInserted(J,$,X,Q){if(!J||J<=this._validModelVersionId)return null;const Y=$>2&&!this.modelLineProjections[$-2].isVisible(),Z=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1;let G=0;const q=[],U=[];for(let H=0,z=Q.length;H<z;H++){const V=OA(Q[H],!Y);q.push(V);const W=V.getViewLineCount();G+=W,U[H]=W}return this.modelLineProjections=this.modelLineProjections.slice(0,$-1).concat(q).concat(this.modelLineProjections.slice($-1)),this.projectedModelLineLineCounts.insertValues($-1,U),new uz(Z,Z+G-1)}onModelLineChanged(J,$,X){if(J!==null&&J<=this._validModelVersionId)return[!1,null,null,null];const Q=$-1,Y=this.modelLineProjections[Q].getViewLineCount(),Z=this.modelLineProjections[Q].isVisible(),G=OA(X,Z);this.modelLineProjections[Q]=G;const q=this.modelLineProjections[Q].getViewLineCount();let U=!1,H=0,z=-1,V=0,W=-1,B=0,j=-1;if(Y>q)H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+q-1,B=z+1,j=B+(Y-q)-1,U=!0;else if(Y<q)H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+Y-1,V=z+1,W=V+(q-Y)-1,U=!0;else H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+q-1;this.projectedModelLineLineCounts.setValue(Q,q);const K=H<=z?new KA(H,z-H+1):null,D=V<=W?new uz(V,W):null,A=B<=j?new mz(B,j):null;return[U,K,D,A]}acceptVersionId(J){if(this._validModelVersionId=J,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible())this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(J){if(J<1)return 1;const $=this.getViewLineCount();if(J>$)return $;return J|0}getActiveIndentGuide(J,$,X){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($),X=this._toValidViewLineNumber(X);const Q=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Y=this.convertViewPositionToModelPosition($,this.getViewLineMinColumn($)),Z=this.convertViewPositionToModelPosition(X,this.getViewLineMinColumn(X)),G=this.model.guides.getActiveIndentGuide(Q.lineNumber,Y.lineNumber,Z.lineNumber),q=this.convertModelPositionToViewPosition(G.startLineNumber,1),U=this.convertModelPositionToViewPosition(G.endLineNumber,this.model.getLineMaxColumn(G.endLineNumber));return{startLineNumber:q.lineNumber,endLineNumber:U.lineNumber,indent:G.indent}}getViewLineInfo(J){J=this._toValidViewLineNumber(J);const $=this.projectedModelLineLineCounts.getIndexOf(J-1),X=$.index,Q=$.remainder;return new ew(X+1,Q)}getMinColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(J){const $=this.modelLineProjections[J.modelLineNumber-1],X=$.getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),Q=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,X);return new b(J.modelLineNumber,Q)}getModelEndPositionOfViewLine(J){const $=this.modelLineProjections[J.modelLineNumber-1],X=$.getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),Q=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,X);return new b(J.modelLineNumber,Q)}getViewLineInfosGroupedByModelRanges(J,$){const X=this.getViewLineInfo(J),Q=this.getViewLineInfo($),Y=new Array;let Z=this.getModelStartPositionOfViewLine(X),G=new Array;for(let q=X.modelLineNumber;q<=Q.modelLineNumber;q++){const U=this.modelLineProjections[q-1];if(U.isVisible()){const H=q===X.modelLineNumber?X.modelLineWrappedLineIdx:0,z=q===Q.modelLineNumber?Q.modelLineWrappedLineIdx+1:U.getViewLineCount();for(let V=H;V<z;V++)G.push(new ew(q,V))}if(!U.isVisible()&&Z){const H=new b(q-1,this.model.getLineMaxColumn(q-1)+1),z=L.fromPositions(Z,H);Y.push(new JL(z,G)),G=[],Z=null}else if(U.isVisible()&&!Z)Z=new b(q,1)}if(Z){const q=L.fromPositions(Z,this.getModelEndPositionOfViewLine(Q));Y.push(new JL(q,G))}return Y}getViewLinesBracketGuides(J,$,X,Q){const Y=X?this.convertViewPositionToModelPosition(X.lineNumber,X.column):null,Z=[];for(let G of this.getViewLineInfosGroupedByModelRanges(J,$)){const q=G.modelRange.startLineNumber,U=this.model.guides.getLinesBracketGuides(q,G.modelRange.endLineNumber,Y,Q);for(let H of G.viewLines){const V=U[H.modelLineNumber-q].map((W)=>{if(W.forWrappedLinesAfterColumn!==-1){if(this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,W.forWrappedLinesAfterColumn).lineNumber>=H.modelLineWrappedLineIdx)return}if(W.forWrappedLinesBeforeOrAtColumn!==-1){if(this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,W.forWrappedLinesBeforeOrAtColumn).lineNumber<H.modelLineWrappedLineIdx)return}if(!W.horizontalLine)return W;let B=-1;if(W.column!==-1){const D=this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,W.column);if(D.lineNumber===H.modelLineWrappedLineIdx)B=D.column;else if(D.lineNumber<H.modelLineWrappedLineIdx)B=this.getMinColumnOfViewLine(H);else if(D.lineNumber>H.modelLineWrappedLineIdx)return}const j=this.convertModelPositionToViewPosition(H.modelLineNumber,W.horizontalLine.endColumn),K=this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,W.horizontalLine.endColumn);if(K.lineNumber===H.modelLineWrappedLineIdx)return new P4(W.visibleColumn,B,W.className,new KY(W.horizontalLine.top,j.column),-1,-1);else if(K.lineNumber<H.modelLineWrappedLineIdx)return;else{if(W.visibleColumn!==-1)return;return new P4(W.visibleColumn,B,W.className,new KY(W.horizontalLine.top,this.getMaxColumnOfViewLine(H)),-1,-1)}});Z.push(V.filter((W)=>!!W))}}return Z}getViewLinesIndentGuides(J,$){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);const X=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Q=this.convertViewPositionToModelPosition($,this.getViewLineMaxColumn($));let Y=[];const Z=[],G=[],q=X.lineNumber-1,U=Q.lineNumber-1;let H=null;for(let B=q;B<=U;B++){const j=this.modelLineProjections[B];if(j.isVisible()){const K=j.getViewLineNumberOfModelPosition(0,B===q?X.column:1),D=j.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(B+1)),A=D-K+1;let P=0;if(A>1&&j.getViewLineMinColumn(this.model,B+1,D)===1)P=K===0?1:2;if(Z.push(A),G.push(P),H===null)H=new b(B+1,0)}else if(H!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(H.lineNumber,B)),H=null}if(H!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(H.lineNumber,Q.lineNumber)),H=null;const z=$-J+1,V=new Array(z);let W=0;for(let B=0,j=Y.length;B<j;B++){let K=Y[B];const D=Math.min(z-W,Z[B]),A=G[B];let P;if(A===2)P=0;else if(A===1)P=1;else P=D;for(let R=0;R<D;R++){if(R===P)K=0;V[W++]=K}}return V}getViewLineContent(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineContent(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineLength(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineLength(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMinColumn(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMinColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMaxColumn(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMaxColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineData(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineData(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLinesData(J,$,X){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);const Q=this.projectedModelLineLineCounts.getIndexOf(J-1);let Y=J;const{index:Z,remainder:G}=Q,q=[];for(let U=Z,H=this.model.getLineCount();U<H;U++){const z=this.modelLineProjections[U];if(!z.isVisible())continue;const V=U===Z?G:0;let W=z.getViewLineCount()-V,B=!1;if(Y+W>$)B=!0,W=$-Y+1;if(z.getViewLinesData(this.model,U+1,V,W,Y-J,X,q),Y+=W,B)break}return q}validateViewPosition(J,$,X){J=this._toValidViewLineNumber(J);const Q=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=Q.index,Z=Q.remainder,G=this.modelLineProjections[Y],q=G.getViewLineMinColumn(this.model,Y+1,Z),U=G.getViewLineMaxColumn(this.model,Y+1,Z);if($<q)$=q;if($>U)$=U;const H=G.getModelColumnOfViewPosition(Z,$);if(this.model.validatePosition(new b(Y+1,H)).equals(X))return new b(J,$);return this.convertModelPositionToViewPosition(X.lineNumber,X.column)}validateViewRange(J,$){const X=this.validateViewPosition(J.startLineNumber,J.startColumn,$.getStartPosition()),Q=this.validateViewPosition(J.endLineNumber,J.endColumn,$.getEndPosition());return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}convertViewPositionToModelPosition(J,$){const X=this.getViewLineInfo(J),Q=this.modelLineProjections[X.modelLineNumber-1].getModelColumnOfViewPosition(X.modelLineWrappedLineIdx,$);return this.model.validatePosition(new b(X.modelLineNumber,Q))}convertViewRangeToModelRange(J){const $=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),X=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);return new L($.lineNumber,$.column,X.lineNumber,X.column)}convertModelPositionToViewPosition(J,$,X=2,Q=!1,Y=!1){const Z=this.model.validatePosition(new b(J,$)),G=Z.lineNumber,q=Z.column;let U=G-1,H=!1;if(Y)while(U<this.modelLineProjections.length&&!this.modelLineProjections[U].isVisible())U++,H=!0;else while(U>0&&!this.modelLineProjections[U].isVisible())U--,H=!0;if(U===0&&!this.modelLineProjections[U].isVisible())return new b(Q?0:1,1);const z=1+this.projectedModelLineLineCounts.getPrefixSum(U);let V;if(H)if(Y)V=this.modelLineProjections[U].getViewPositionOfModelPosition(z,1,X);else V=this.modelLineProjections[U].getViewPositionOfModelPosition(z,this.model.getLineMaxColumn(U+1),X);else V=this.modelLineProjections[G-1].getViewPositionOfModelPosition(z,q,X);return V}convertModelRangeToViewRange(J,$=0){if(J.isEmpty()){const X=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,$);return L.fromPositions(X)}else{const X=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,1),Q=this.convertModelPositionToViewPosition(J.endLineNumber,J.endColumn,0);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}}getViewLineNumberOfModelPosition(J,$){let X=J-1;if(this.modelLineProjections[X].isVisible()){const Y=1+this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections[X].getViewLineNumberOfModelPosition(Y,$)}while(X>0&&!this.modelLineProjections[X].isVisible())X--;if(X===0&&!this.modelLineProjections[X].isVisible())return 1;const Q=1+this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections[X].getViewLineNumberOfModelPosition(Q,this.model.getLineMaxColumn(X+1))}getDecorationsInRange(J,$,X,Q,Y){const Z=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),G=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);if(G.lineNumber-Z.lineNumber<=J.endLineNumber-J.startLineNumber)return this.model.getDecorationsInRange(new L(Z.lineNumber,1,G.lineNumber,G.column),$,X,Q,Y);let q=[];const U=Z.lineNumber-1,H=G.lineNumber-1;let z=null;for(let j=U;j<=H;j++)if(this.modelLineProjections[j].isVisible()){if(z===null)z=new b(j+1,j===U?Z.column:1)}else if(z!==null){const D=this.model.getLineMaxColumn(j);q=q.concat(this.model.getDecorationsInRange(new L(z.lineNumber,z.column,j,D),$,X,Q)),z=null}if(z!==null)q=q.concat(this.model.getDecorationsInRange(new L(z.lineNumber,z.column,G.lineNumber,G.column),$,X,Q)),z=null;q.sort((j,K)=>{const D=L.compareRangesUsingStarts(j.range,K.range);if(D===0){if(j.id<K.id)return-1;if(j.id>K.id)return 1;return 0}return D});const V=[];let W=0,B=null;for(let j of q){const K=j.id;if(B===K)continue;B=K,V[W++]=j}return V}getInjectedTextAt(J){const $=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[$.modelLineNumber-1].getInjectedTextAt($.modelLineWrappedLineIdx,J.column)}normalizePosition(J,$){const X=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[X.modelLineNumber-1].normalizePosition(X.modelLineWrappedLineIdx,J,$)}getLineIndentColumn(J){const $=this.getViewLineInfo(J);if($.modelLineWrappedLineIdx===0)return this.model.getLineIndentColumn($.modelLineNumber);return 0}}class ew{constructor(J,$){this.modelLineNumber=J,this.modelLineWrappedLineIdx=$}}class JL{constructor(J,$){this.modelRange=J,this.viewLines=$}}class Ec{constructor(J){this._lines=J}convertViewPositionToModelPosition(J){return this._lines.convertViewPositionToModelPosition(J.lineNumber,J.column)}convertViewRangeToModelRange(J){return this._lines.convertViewRangeToModelRange(J)}validateViewPosition(J,$){return this._lines.validateViewPosition(J.lineNumber,J.column,$)}validateViewRange(J,$){return this._lines.validateViewRange(J,$)}convertModelPositionToViewPosition(J,$,X,Q){return this._lines.convertModelPositionToViewPosition(J.lineNumber,J.column,$,X,Q)}convertModelRangeToViewRange(J,$){return this._lines.convertModelRangeToViewRange(J,$)}modelPositionIsVisible(J){return this._lines.modelPositionIsVisible(J.lineNumber,J.column)}getModelLineViewLineCount(J){return this._lines.getModelLineViewLineCount(J)}getViewLineNumberOfModelPosition(J,$){return this._lines.getViewLineNumberOfModelPosition(J,$)}}class XL{constructor(J){this.model=J}dispose(){}createCoordinatesConverter(){return new yc(this)}getHiddenAreas(){return[]}setHiddenAreas(J){return!1}setTabSize(J){return!1}setWrappingSettings(J,$,X,Q){return!1}createLineBreaksComputer(){const J=[];return{addRequest:($,X,Q)=>{J.push(null)},finalize:()=>{return J}}}onModelFlushed(){}onModelLinesDeleted(J,$,X){return new mz($,X)}onModelLinesInserted(J,$,X,Q){return new uz($,X)}onModelLineChanged(J,$,X){return[!1,new KA($,1),null,null]}acceptVersionId(J){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(J,$,X){return{startLineNumber:J,endLineNumber:J,indent:0}}getViewLinesBracketGuides(J,$,X){return new Array($-J+1).fill([])}getViewLinesIndentGuides(J,$){const X=$-J+1,Q=new Array(X);for(let Y=0;Y<X;Y++)Q[Y]=0;return Q}getViewLineContent(J){return this.model.getLineContent(J)}getViewLineLength(J){return this.model.getLineLength(J)}getViewLineMinColumn(J){return this.model.getLineMinColumn(J)}getViewLineMaxColumn(J){return this.model.getLineMaxColumn(J)}getViewLineData(J){const $=this.model.tokenization.getLineTokens(J),X=$.getLineContent();return new Aq(X,!1,1,X.length+1,0,$.inflate(),null)}getViewLinesData(J,$,X){const Q=this.model.getLineCount();J=Math.min(Math.max(1,J),Q),$=Math.min(Math.max(1,$),Q);const Y=[];for(let Z=J;Z<=$;Z++){const G=Z-J;Y[G]=X[G]?this.getViewLineData(Z):null}return Y}getDecorationsInRange(J,$,X,Q,Y){return this.model.getDecorationsInRange(J,$,X,Q,Y)}normalizePosition(J,$){return this.model.normalizePosition(J,$)}getLineIndentColumn(J){return this.model.getLineIndentColumn(J)}getInjectedTextAt(J){return null}}class yc{constructor(J){this._lines=J}_validPosition(J){return this._lines.model.validatePosition(J)}_validRange(J){return this._lines.model.validateRange(J)}convertViewPositionToModelPosition(J){return this._validPosition(J)}convertViewRangeToModelRange(J){return this._validRange(J)}validateViewPosition(J,$){return this._validPosition($)}validateViewRange(J,$){return this._validRange($)}convertModelPositionToViewPosition(J){return this._validPosition(J)}convertModelRangeToViewRange(J){return this._validRange(J)}modelPositionIsVisible(J){const $=this._lines.model.getLineCount();if(J.lineNumber<1||J.lineNumber>$)return!1;return!0}getModelLineViewLineCount(J){return 1}getViewLineNumberOfModelPosition(J,$){return J}}var X90;var Sc=N(()=>{V1();W1();u0();mK();bG();TY();AA();kc();hO();MJ();X90=function(J){if(J.length===0)return[];const $=J.slice();$.sort(L.compareRangesUsingStarts);const X=[];let Q=$[0].startLineNumber,Y=$[0].endLineNumber;for(let Z=1,G=$.length;Z<G;Z++){const q=$[Z];if(q.startLineNumber>Y+1)X.push(new L(Q,1,Y,1)),Q=q.startLineNumber,Y=q.endLineNumber;else if(q.endLineNumber>Y)Y=q.endLineNumber}return X.push(new L(Q,1,Y,1)),X}});class YL extends f{constructor(J,$,X,Q,Y,Z,G,q,U){super();if(this.languageConfigurationService=G,this._themeService=q,this._attachedView=U,this.hiddenAreasModel=new bc,this.previousHiddenAreas=[],this._editorId=J,this._configuration=$,this.model=X,this._eventDispatcher=new fw,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new WY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Q8(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=ZL.create(this.model),Q90&&this.model.isTooLargeForTokenization())this._lines=new XL(this.model);else{const H=this._configuration.options,z=H.get(50),V=H.get(137),W=H.get(144),B=H.get(136),j=H.get(128);this._lines=new $L(this._editorId,this.model,Q,Y,z,this.model.getOptions().tabSize,V,W.wrappingColumn,B,j)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new rw(X,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new nw(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll((H)=>{if(H.scrollTopChanged)this._handleVisibleLinesChanged();if(H.scrollTopChanged)this._viewportStart.invalidate();this._eventDispatcher.emitSingleViewEvent(new Sw(H)),this._eventDispatcher.emitOutgoingEvent(new RA(H.oldScrollWidth,H.oldScrollLeft,H.oldScrollHeight,H.oldScrollTop,H.scrollWidth,H.scrollLeft,H.scrollHeight,H.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange((H)=>{this._eventDispatcher.emitOutgoingEvent(H)})),this._decorations=new ow(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((H)=>{try{const z=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(z,H)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(LG.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new bw)})),this._register(this._themeService.onDidColorThemeChange((H)=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Cw(H))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(J){this._eventDispatcher.addViewEventHandler(J)}removeViewEventHandler(J){this._eventDispatcher.removeViewEventHandler(J)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const J=this.viewLayout.getLinesViewportData(),$=new L(J.startLineNumber,this.getLineMinColumn(J.startLineNumber),J.endLineNumber,this.getLineMaxColumn(J.endLineNumber));return this._toModelVisibleRanges($)}visibleLinesStabilized(){const J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!0)}_handleVisibleLinesChanged(){const J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!1)}setHasFocus(J){this._hasFocus=J,this._cursor.setHasFocus(J),this._eventDispatcher.emitSingleViewEvent(new Ew(J)),this._eventDispatcher.emitOutgoingEvent(new DA(!J,J))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new ww)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Lw)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const J=new b(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),$=this.coordinatesConverter.convertViewPositionToModelPosition(J);return new QL($,this._viewportStart.startLineDelta)}return new QL(null,0)}_onConfigurationChanged(J,$){const X=this._captureStableViewport(),Q=this._configuration.options,Y=Q.get(50),Z=Q.get(137),G=Q.get(144),q=Q.get(136),U=Q.get(128);if(this._lines.setWrappingSettings(Y,Z,G.wrappingColumn,q,U))J.emitViewEvent(new HU),J.emitViewEvent(new zU),J.emitViewEvent(new _Y(null)),this._cursor.onLineMappingChanged(J),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule();if($.hasChanged(90))this._decorations.reset(),J.emitViewEvent(new _Y(null));if(J.emitViewEvent(new Iw($)),this.viewLayout.onConfigurationChanged($),X.recoverViewportStart(this.coordinatesConverter,this.viewLayout),WY.shouldRecreate($))this.cursorConfig=new WY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((J)=>{try{const X=this._eventDispatcher.beginEmitViewEvents();let Q=!1,Y=!1;const Z=J instanceof nX?J.rawContentChangedEvent.changes:J.changes,G=J instanceof nX?J.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(let z of Z)switch(z.changeType){case 4:{for(let V=0;V<z.detail.length;V++){const W=z.detail[V];let B=z.injectedTexts[V];if(B)B=B.filter((j)=>!j.ownerId||j.ownerId===this._editorId);q.addRequest(W,B,null)}break}case 2:{let V=null;if(z.injectedText)V=z.injectedText.filter((W)=>!W.ownerId||W.ownerId===this._editorId);q.addRequest(z.detail,V,null);break}}const U=q.finalize(),H=new d6(U);for(let z of Z)switch(z.changeType){case 1:{this._lines.onModelFlushed(),X.emitViewEvent(new HU),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),Q=!0;break}case 3:{const V=this._lines.onModelLinesDeleted(G,z.fromLineNumber,z.toLineNumber);if(V!==null)X.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber);Q=!0;break}case 4:{const V=H.takeCount(z.detail.length),W=this._lines.onModelLinesInserted(G,z.fromLineNumber,z.toLineNumber,V);if(W!==null)X.emitViewEvent(W),this.viewLayout.onLinesInserted(W.fromLineNumber,W.toLineNumber);Q=!0;break}case 2:{const V=H.dequeue(),[W,B,j,K]=this._lines.onModelLineChanged(G,z.lineNumber,V);if(Y=W,B)X.emitViewEvent(B);if(j)X.emitViewEvent(j),this.viewLayout.onLinesInserted(j.fromLineNumber,j.toLineNumber);if(K)X.emitViewEvent(K),this.viewLayout.onLinesDeleted(K.fromLineNumber,K.toLineNumber);break}case 5:break}if(G!==null)this._lines.acceptVersionId(G);if(this.viewLayout.onHeightMaybeChanged(),!Q&&Y)X.emitViewEvent(new zU),X.emitViewEvent(new _Y(null)),this._cursor.onLineMappingChanged(X),this._decorations.onLineMappingChanged()}finally{this._eventDispatcher.endEmitViewEvents()}const $=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&$){const X=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(X){const Q=this.coordinatesConverter.convertModelPositionToViewPosition(X.getStartPosition()),Y=this.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Y+this._viewportStart.startLineDelta},1)}}try{const X=this._eventDispatcher.beginEmitViewEvents();if(J instanceof nX)X.emitOutgoingEvent(new lw(J.contentChangedEvent));this._cursor.onModelContentChanged(X,J)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens((J)=>{const $=[];for(let X=0,Q=J.ranges.length;X<Q;X++){const Y=J.ranges[X],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new b(Y.fromLineNumber,1)).lineNumber,G=this.coordinatesConverter.convertModelPositionToViewPosition(new b(Y.toLineNumber,this.model.getLineMaxColumn(Y.toLineNumber))).lineNumber;$[X]={fromLineNumber:Z,toLineNumber:G}}this._eventDispatcher.emitSingleViewEvent(new xw($)),this._eventDispatcher.emitOutgoingEvent(new sw(J))})),this._register(this.model.onDidChangeLanguageConfiguration((J)=>{this._eventDispatcher.emitSingleViewEvent(new yw),this.cursorConfig=new WY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new cw(J))})),this._register(this.model.onDidChangeLanguage((J)=>{this.cursorConfig=new WY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new uw(J))})),this._register(this.model.onDidChangeOptions((J)=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const $=this._eventDispatcher.beginEmitViewEvents();$.emitViewEvent(new HU),$.emitViewEvent(new zU),$.emitViewEvent(new _Y(null)),this._cursor.onLineMappingChanged($),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new WY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new dw(J))})),this._register(this.model.onDidChangeDecorations((J)=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new _Y(J)),this._eventDispatcher.emitOutgoingEvent(new mw(J))}))}setHiddenAreas(J,$){this.hiddenAreasModel.setHiddenAreas($,J);const X=this.hiddenAreasModel.getMergedRanges();if(X===this.previousHiddenAreas)return;this.previousHiddenAreas=X;const Q=this._captureStableViewport();let Y=!1;try{const Z=this._eventDispatcher.beginEmitViewEvents();if(Y=this._lines.setHiddenAreas(X),Y)Z.emitViewEvent(new HU),Z.emitViewEvent(new zU),Z.emitViewEvent(new _Y(null)),this._cursor.onLineMappingChanged(Z),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged();Q.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}if(this._updateConfigurationViewLineCount.schedule(),Y)this._eventDispatcher.emitOutgoingEvent(new gw)}getVisibleRangesPlusViewportAboveBelow(){const J=this._configuration.options.get(143),$=this._configuration.options.get(66),X=Math.max(20,Math.round(J.height/$)),Q=this.viewLayout.getLinesViewportData(),Y=Math.max(1,Q.completelyVisibleStartLineNumber-X),Z=Math.min(this.getLineCount(),Q.completelyVisibleEndLineNumber+X);return this._toModelVisibleRanges(new L(Y,this.getLineMinColumn(Y),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){const J=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(J)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(J){const $=this.coordinatesConverter.convertViewRangeToModelRange(J),X=this._lines.getHiddenAreas();if(X.length===0)return[$];const Q=[];let Y=0,Z=$.startLineNumber,G=$.startColumn;const{endLineNumber:q,endColumn:U}=$;for(let H=0,z=X.length;H<z;H++){const V=X[H].startLineNumber,W=X[H].endLineNumber;if(W<Z)continue;if(V>q)continue;if(Z<V)Q[Y++]=new L(Z,G,V-1,this.model.getLineMaxColumn(V-1));Z=W+1,G=1}if(Z<q||Z===q&&G<U)Q[Y++]=new L(Z,G,q,U);return Q}getCompletelyVisibleViewRange(){const J=this.viewLayout.getLinesViewportData(),$=J.completelyVisibleStartLineNumber,X=J.completelyVisibleEndLineNumber;return new L($,this.getLineMinColumn($),X,this.getLineMaxColumn(X))}getCompletelyVisibleViewRangeAtScrollTop(J){const $=this.viewLayout.getLinesViewportDataAtScrollTop(J),X=$.completelyVisibleStartLineNumber,Q=$.completelyVisibleEndLineNumber;return new L(X,this.getLineMinColumn(X),Q,this.getLineMaxColumn(Q))}saveState(){const J=this.viewLayout.saveState(),$=J.scrollTop,X=this.viewLayout.getLineNumberAtVerticalOffset($),Q=this.coordinatesConverter.convertViewPositionToModelPosition(new b(X,this.getLineMinColumn(X))),Y=this.viewLayout.getVerticalOffsetForLineNumber(X)-$;return{scrollLeft:J.scrollLeft,firstPosition:Q,firstPositionDeltaTop:Y}}reduceRestoreState(J){if(typeof J.firstPosition==="undefined")return this._reduceRestoreStateCompatibility(J);const $=this.model.validatePosition(J.firstPosition),X=this.coordinatesConverter.convertModelPositionToViewPosition($),Q=this.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber)-J.firstPositionDeltaTop;return{scrollLeft:J.scrollLeft,scrollTop:Q}}_reduceRestoreStateCompatibility(J){return{scrollLeft:J.scrollLeft,scrollTop:J.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(J,$,X){this._viewportStart.update(this,J)}getActiveIndentGuide(J,$,X){return this._lines.getActiveIndentGuide(J,$,X)}getLinesIndentGuides(J,$){return this._lines.getViewLinesIndentGuides(J,$)}getBracketGuidesInRangeByLine(J,$,X,Q){return this._lines.getViewLinesBracketGuides(J,$,X,Q)}getLineContent(J){return this._lines.getViewLineContent(J)}getLineLength(J){return this._lines.getViewLineLength(J)}getLineMinColumn(J){return this._lines.getViewLineMinColumn(J)}getLineMaxColumn(J){return this._lines.getViewLineMaxColumn(J)}getLineFirstNonWhitespaceColumn(J){const $=k8(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){const $=o9(this.getLineContent(J));if($===-1)return 0;return $+2}getMinimapDecorationsInRange(J){return this._decorations.getMinimapDecorationsInRange(J)}getDecorationsInViewport(J){return this._decorations.getDecorationsViewportData(J).decorations}getInjectedTextAt(J){return this._lines.getInjectedTextAt(J)}getViewportViewLineRenderingData(J,$){const Q=this._decorations.getDecorationsViewportData(J).inlineDecorations[$-J.startLineNumber];return this._getViewLineRenderingData($,Q)}getViewLineRenderingData(J){const $=this._decorations.getInlineDecorationsOnLine(J);return this._getViewLineRenderingData(J,$)}_getViewLineRenderingData(J,$){const X=this.model.mightContainRTL(),Q=this.model.mightContainNonBasicASCII(),Y=this.getTabSize(),Z=this._lines.getViewLineData(J);if(Z.inlineDecorations)$=[...$,...Z.inlineDecorations.map((G)=>G.toInlineDecoration(J))];return new f6(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,X,Q,Z.tokens,$,Y,Z.startVisibleColumn)}getViewLineData(J){return this._lines.getViewLineData(J)}getMinimapLinesRenderingData(J,$,X){const Q=this._lines.getViewLinesData(J,$,X);return new WN(this.getTabSize(),Q)}getAllOverviewRulerDecorations(J){const $=this.model.getOverviewRulerDecorations(this._editorId,PZ(this._configuration.options)),X=new xc;for(let Q of $){const Y=Q.options,Z=Y.overviewRuler;if(!Z)continue;const G=Z.position;if(G===0)continue;const q=Z.getColor(J.value),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(Q.range.startLineNumber,Q.range.startColumn),H=this.coordinatesConverter.getViewLineNumberOfModelPosition(Q.range.endLineNumber,Q.range.endColumn);X.accept(q,Y.zIndex,U,H,G)}return X.asArray}_invalidateDecorationsColorCache(){const J=this.model.getOverviewRulerDecorations();for(let $ of J){const X=$.options.overviewRuler;X===null||X===void 0||X.invalidateCachedColor();const Q=$.options.minimap;Q===null||Q===void 0||Q.invalidateCachedColor()}}getValueInRange(J,$){const X=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueInRange(X,$)}getValueLengthInRange(J,$){const X=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueLengthInRange(X,$)}modifyPosition(J,$){const X=this.coordinatesConverter.convertViewPositionToModelPosition(J);return this.model.modifyPosition(X,$)}deduceModelPositionRelativeToViewPosition(J,$,X){const Q=this.coordinatesConverter.convertViewPositionToModelPosition(J);if(this.model.getEOL().length===2)if($<0)$-=X;else $+=X;const Z=this.model.getOffsetAt(Q)+$;return this.model.getPositionAt(Z)}getPlainTextToCopy(J,$,X){const Q=X?"\r\n":this.model.getEOL();J=J.slice(0),J.sort(L.compareRangesUsingStarts);let Y=!1,Z=!1;for(let q of J)if(q.isEmpty())Y=!0;else Z=!0;if(!Z){if(!$)return"";const q=J.map((H)=>H.startLineNumber);let U="";for(let H=0;H<q.length;H++){if(H>0&&q[H-1]===q[H])continue;U+=this.model.getLineContent(q[H])+Q}return U}if(Y&&$){const q=[];let U=0;for(let H of J){const z=H.startLineNumber;if(H.isEmpty()){if(z!==U)q.push(this.model.getLineContent(z))}else q.push(this.model.getValueInRange(H,X?2:0));U=z}return q.length===1?q[0]:q}const G=[];for(let q of J)if(!q.isEmpty())G.push(this.model.getValueInRange(q,X?2:0));return G.length===1?G[0]:G}getRichTextToCopy(J,$){const X=this.model.getLanguageId();if(X===P7)return null;if(J.length!==1)return null;let Q=J[0];if(Q.isEmpty()){if(!$)return null;const H=Q.startLineNumber;Q=new L(H,this.model.getLineMinColumn(H),H,this.model.getLineMaxColumn(H))}const Y=this._configuration.options.get(50),Z=this._getColorMap(),q=/[:;\\\/<>]/.test(Y.fontFamily)||Y.fontFamily===M9.fontFamily;let U;if(q)U=M9.fontFamily;else{if(U=Y.fontFamily,U=U.replace(/"/g,"\'"),!/[,']/.test(U)){if(/[+ ]/.test(U))U=`'${U}'`}U=`${U}, ${M9.fontFamily}`}return{mode:X,html:'<div style="'+`color: ${Z[1]};`+`background-color: ${Z[2]};`+`font-family: ${U};`+`font-weight: ${Y.fontWeight};`+`font-size: ${Y.fontSize}px;`+`line-height: ${Y.lineHeight}px;`+'white-space: pre;">'+this._getHTMLToCopy(Q,Z)+"</div>"}}_getHTMLToCopy(J,$){const{startLineNumber:X,startColumn:Q,endLineNumber:Y,endColumn:Z}=J,G=this.getTabSize();let q="";for(let U=X;U<=Y;U++){const H=this.model.tokenization.getLineTokens(U),z=H.getLineContent(),V=U===X?Q-1:0,W=U===Y?Z-1:z.length;if(z==="")q+="<br>";else q+=Dc(z,H.inflate(),$,V,W,G,F8)}return q}_getColorMap(){const J=g1.getColorMap(),$=["#000000"];if(J)for(let X=1,Q=J.length;X<Q;X++)$[X]=u.Format.CSS.formatHex(J[X]);return $}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(J,$,X){return this._withViewEventsCollector((Q)=>this._cursor.setStates(Q,J,$,X))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(J){this._cursor.setCursorColumnSelectData(J)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(J){this._cursor.setPrevEditOperationType(J)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(J,$,X=0){this._withViewEventsCollector((Q)=>this._cursor.setSelections(Q,J,$,X))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(J){this._withViewEventsCollector(($)=>this._cursor.restoreState($,J))}_executeCursorEdit(J){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new pw);return}this._withViewEventsCollector(J)}executeEdits(J,$,X){this._executeCursorEdit((Q)=>this._cursor.executeEdits(Q,J,$,X))}startComposition(){this._executeCursorEdit((J)=>this._cursor.startComposition(J))}endComposition(J){this._executeCursorEdit(($)=>this._cursor.endComposition($,J))}type(J,$){this._executeCursorEdit((X)=>this._cursor.type(X,J,$))}compositionType(J,$,X,Q,Y){this._executeCursorEdit((Z)=>this._cursor.compositionType(Z,J,$,X,Q,Y))}paste(J,$,X,Q){this._executeCursorEdit((Y)=>this._cursor.paste(Y,J,$,X,Q))}cut(J){this._executeCursorEdit(($)=>this._cursor.cut($,J))}executeCommand(J,$){this._executeCursorEdit((X)=>this._cursor.executeCommand(X,J,$))}executeCommands(J,$){this._executeCursorEdit((X)=>this._cursor.executeCommands(X,J,$))}revealPrimaryCursor(J,$,X=!1){this._withViewEventsCollector((Q)=>this._cursor.revealPrimary(Q,J,X,0,$,0))}revealTopMostCursor(J){const $=this._cursor.getTopMostViewPosition(),X=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((Q)=>Q.emitViewEvent(new vG(J,!1,X,null,0,!0,0)))}revealBottomMostCursor(J){const $=this._cursor.getBottomMostViewPosition(),X=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((Q)=>Q.emitViewEvent(new vG(J,!1,X,null,0,!0,0)))}revealRange(J,$,X,Q,Y){this._withViewEventsCollector((Z)=>Z.emitViewEvent(new vG(J,!1,X,null,Q,$,Y)))}changeWhitespace(J){if(this.viewLayout.changeWhitespace(J))this._eventDispatcher.emitSingleViewEvent(new vw),this._eventDispatcher.emitOutgoingEvent(new hw)}_withViewEventsCollector(J){try{const $=this._eventDispatcher.beginEmitViewEvents();return J($)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(J,$){return this._lines.normalizePosition(J,$)}getLineIndentColumn(J){return this._lines.getLineIndentColumn(J)}}class ZL{static create(J){const $=J._setTrackedRange(null,new L(1,1,1,1),1);return new ZL(J,1,!1,$,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(J,$,X,Q,Y){this._model=J,this._viewLineNumber=$,this._isValid=X,this._modelTrackedRange=Q,this._startLineDelta=Y}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(J,$){const X=J.coordinatesConverter.convertViewPositionToModelPosition(new b($,J.getLineMinColumn($))),Q=J.model._setTrackedRange(this._modelTrackedRange,new L(X.lineNumber,X.column,X.lineNumber,X.column),1),Y=J.viewLayout.getVerticalOffsetForLineNumber($),Z=J.viewLayout.getCurrentScrollTop();this._viewLineNumber=$,this._isValid=!0,this._modelTrackedRange=Q,this._startLineDelta=Z-Y}invalidate(){this._isValid=!1}}class xc{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(J,$,X,Q,Y){const Z=this._asMap[J];if(Z){const G=Z.data,q=G[G.length-3],U=G[G.length-1];if(q===Y&&U+1>=X){if(Q>U)G[G.length-1]=Q;return}G.push(Y,X,Q)}else{const G=new qG(J,$,[Y,X,Q]);this._asMap[J]=G,this.asArray.push(G)}}}class bc{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(J,$){const X=this.hiddenAreas.get(J);if(X&&Cc(X,$))return;this.hiddenAreas.set(J,$),this.shouldRecompute=!0}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const J=Array.from(this.hiddenAreas.values()).reduce(($,X)=>Y90($,X),[]);if(Cc(this.ranges,J))return this.ranges;return this.ranges=J,this.ranges}}class QL{constructor(J,$){this.viewportStartModelPosition=J,this.startLineDelta=$}recoverViewportStart(J,$){if(!this.viewportStartModelPosition)return;const X=J.convertModelPositionToViewPosition(this.viewportStartModelPosition),Q=$.getVerticalOffsetForLineNumber(X.lineNumber);$.setScrollPosition({scrollTop:Q+this.startLineDelta},1)}}var Y90,Cc,Q90;var vc=N(()=>{V1();f1();S9();$0();O1();l0();F6();Fc();wJ();W1();u0();TY();P6();KJ();iw();AA();Tc();tT();MJ();wc();MA();Sc();Y90=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length&&Y<$.length){const Z=J[Q],G=$[Y];if(Z.endLineNumber<G.startLineNumber-1)X.push(J[Q++]);else if(G.endLineNumber<Z.startLineNumber-1)X.push($[Y++]);else{const q=Math.min(Z.startLineNumber,G.startLineNumber),U=Math.max(Z.endLineNumber,G.endLineNumber);X.push(new L(q,1,U,1)),Q++,Y++}}while(Q<J.length)X.push(J[Q++]);while(Y<$.length)X.push($[Y++]);return X},Cc=function(J,$){if(J.length!==$.length)return!1;for(let X=0;X<J.length;X++)if(!J[X].equalsRange($[X]))return!1;return!0},Q90=!0});class eX{constructor(...J){this._entries=new Map;for(let[$,X]of J)this.set($,X)}set(J,$){const X=this._entries.get(J);return this._entries.set(J,$),X}get(J){return this._entries.get(J)}}var rz=N(()=>{});var iz,D8;var wY=N(()=>{l0();(function(J){J[J.Ignore=0]="Ignore",J[J.Info=1]="Info",J[J.Warning=2]="Warning",J[J.Error=3]="Error"})(iz||(iz={}));(function(J){function G(U){if(!U)return J.Ignore;if(QX("error",U))return J.Error;if(QX("warning",U)||QX("warn",U))return J.Warning;if(QX("info",U))return J.Info;return J.Ignore}J.fromValue=G;function q(U){switch(U){case J.Error:return"error";case J.Warning:return"warning";case J.Info:return"info";default:return"ignore"}}J.toString=q})(iz||(iz={}));D8=iz});class GL{}var fc,i7;var JQ=N(()=>{wY();e0();fc=D8,i7=O0("notificationService")});class LY{constructor(J,$,X,Q,Y){this.injectionOffsets=J,this.injectionOptions=$,this.breakOffsets=X,this.breakOffsetsVisibleColumn=Q,this.wrappedTextIndentLength=Y}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(J){if(J>0)return this.wrappedTextIndentLength;return 0}getLineLength(J){const $=J>0?this.breakOffsets[J-1]:0;let Q=this.breakOffsets[J]-$;if(J>0)Q+=this.wrappedTextIndentLength;return Q}getMaxOutputOffset(J){return this.getLineLength(J)}translateToInputOffset(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);let Q=J===0?$:this.breakOffsets[J-1]+$;if(this.injectionOffsets!==null)for(let Y=0;Y<this.injectionOffsets.length;Y++)if(Q>this.injectionOffsets[Y])if(Q<this.injectionOffsets[Y]+this.injectionOptions[Y].content.length)Q=this.injectionOffsets[Y];else Q-=this.injectionOptions[Y].content.length;else break;return Q}translateToOutputPosition(J,$=2){let X=J;if(this.injectionOffsets!==null)for(let Q=0;Q<this.injectionOffsets.length;Q++){if(J<this.injectionOffsets[Q])break;if($!==1&&J===this.injectionOffsets[Q])break;X+=this.injectionOptions[Q].content.length}return this.offsetInInputWithInjectionsToOutputPosition(X,$)}offsetInInputWithInjectionsToOutputPosition(J,$=2){let X=0,Q=this.breakOffsets.length-1,Y=0,Z=0;while(X<=Q){Y=X+(Q-X)/2|0;const q=this.breakOffsets[Y];if(Z=Y>0?this.breakOffsets[Y-1]:0,$===0)if(J<=Z)Q=Y-1;else if(J>q)X=Y+1;else break;else if(J<Z)Q=Y-1;else if(J>=q)X=Y+1;else break}let G=J-Z;if(Y>0)G+=this.wrappedTextIndentLength;return new nz(Y,G)}normalizeOutputPosition(J,$,X){if(this.injectionOffsets!==null){const Q=this.outputPositionToOffsetInInputWithInjections(J,$),Y=this.normalizeOffsetInInputWithInjectionsAroundInjections(Q,X);if(Y!==Q)return this.offsetInInputWithInjectionsToOutputPosition(Y,X)}if(X===0){if(J>0&&$===this.getMinOutputOffset(J))return new nz(J-1,this.getMaxOutputOffset(J-1))}else if(X===1){const Q=this.getOutputLineCount()-1;if(J<Q&&$===this.getMaxOutputOffset(J))return new nz(J+1,this.getMinOutputOffset(J+1))}return new nz(J,$)}outputPositionToOffsetInInputWithInjections(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);return(J>0?this.breakOffsets[J-1]:0)+$}normalizeOffsetInInputWithInjectionsAroundInjections(J,$){const X=this.getInjectedTextAtOffset(J);if(!X)return J;if($===2)if(J===X.offsetInInputWithInjections+X.length&&hc(this.injectionOptions[X.injectedTextIndex].cursorStops))return X.offsetInInputWithInjections+X.length;else{let Q=X.offsetInInputWithInjections;if(gc(this.injectionOptions[X.injectedTextIndex].cursorStops))return Q;let Y=X.injectedTextIndex-1;while(Y>=0&&this.injectionOffsets[Y]===this.injectionOffsets[X.injectedTextIndex]){if(hc(this.injectionOptions[Y].cursorStops))break;if(Q-=this.injectionOptions[Y].content.length,gc(this.injectionOptions[Y].cursorStops))break;Y--}return Q}else if($===1||$===4){let Q=X.offsetInInputWithInjections+X.length,Y=X.injectedTextIndex;while(Y+1<this.injectionOffsets.length&&this.injectionOffsets[Y+1]===this.injectionOffsets[Y])Q+=this.injectionOptions[Y+1].content.length,Y++;return Q}else if($===0||$===3){let{offsetInInputWithInjections:Q,injectedTextIndex:Y}=X;while(Y-1>=0&&this.injectionOffsets[Y-1]===this.injectionOffsets[Y])Q-=this.injectionOptions[Y-1].content.length,Y--;return Q}n2($)}getInjectedText(J,$){const X=this.outputPositionToOffsetInInputWithInjections(J,$),Q=this.getInjectedTextAtOffset(X);if(!Q)return null;return{options:this.injectionOptions[Q.injectedTextIndex]}}getInjectedTextAtOffset(J){const $=this.injectionOffsets,X=this.injectionOptions;if($!==null){let Q=0;for(let Y=0;Y<$.length;Y++){const Z=X[Y].content.length,G=$[Y]+Q,q=$[Y]+Q+Z;if(G>J)break;if(J<=q)return{injectedTextIndex:Y,offsetInInputWithInjections:G,length:Z};Q+=Z}}return}}class nz{constructor(J,$){this.outputLineIndex=J,this.outputOffset=$}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(J){return new b(J+this.outputLineIndex,this.outputOffset+1)}}var hc,gc;var qL=N(()=>{bQ();W1();PJ();hc=function(J){if(J===null||J===void 0)return!0;return J===JG.Right||J===JG.Both},gc=function(J){if(J===null||J===void 0)return!0;return J===JG.Left||J===JG.Both}});class NA{static create(J){return new NA(J.get(132),J.get(131))}constructor(J,$){this.classifier=new mc(J,$)}createLineBreaksComputer(J,$,X,Q,Y){const Z=[],G=[],q=[];return{addRequest:(U,H,z)=>{Z.push(U),G.push(H),q.push(z)},finalize:()=>{const U=J.typicalFullwidthCharacterWidth/J.typicalHalfwidthCharacterWidth,H=[];for(let z=0,V=Z.length;z<V;z++){const W=G[z],B=q[z];if(B&&!B.injectionOptions&&!W)H[z]=Z90(this.classifier,B,Z[z],$,X,U,Q,Y);else H[z]=G90(this.classifier,Z[z],W,$,X,U,Q,Y)}return UL.length=0,HL.length=0,H}}}}class mc extends DX{constructor(J,$){super(0);for(let X=0;X<J.length;X++)this.set(J.charCodeAt(X),1);for(let X=0;X<$.length;X++)this.set($.charCodeAt(X),2)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else{if(J>=12352&&J<=12543||J>=13312&&J<=19903||J>=19968&&J<=40959)return 3;return this._map.get(J)||this._defaultValue}}}var Z90,G90,oz,pc,zL,uc,UL,HL;var cc=N(()=>{l0();Zq();TY();qL();Z90=function(J,$,X,Q,Y,Z,G,q){if(Y===-1)return null;const U=X.length;if(U<=1)return null;const H=q==="keepAll",z=$.breakOffsets,V=$.breakOffsetsVisibleColumn,W=uc(X,Q,Y,Z,G),B=Y-W,j=UL,K=HL;let D=0,A=0,P=0,R=Y;const M=z.length;let T=0;if(T>=0){let _=Math.abs(V[T]-R);while(T+1<M){const w=Math.abs(V[T+1]-R);if(w>=_)break;_=w,T++}}while(T<M){let _=T<0?0:z[T],w=T<0?0:V[T];if(A>_)_=A,w=P;let x=0,C=0,h=0,p=0;if(w<=R){let m=w,c=_===0?0:X.charCodeAt(_-1),Q0=_===0?0:J.get(c),K0=!0;for(let B0=_;B0<U;B0++){const P0=B0,H0=X.charCodeAt(B0);let s0,k0;if(U8(H0))B0++,s0=0,k0=2;else s0=J.get(H0),k0=oz(H0,m,Q,Z);if(P0>A&&zL(c,Q0,H0,s0,H))x=P0,C=m;if(m+=k0,m>R){if(P0>A)h=P0,p=m-k0;else h=B0+1,p=m;if(m-C>B)x=0;K0=!1;break}c=H0,Q0=s0}if(K0){if(D>0)j[D]=z[z.length-1],K[D]=V[z.length-1],D++;break}}if(x===0){let m=w,c=X.charCodeAt(_),Q0=J.get(c),K0=!1;for(let B0=_-1;B0>=A;B0--){const P0=B0+1,H0=X.charCodeAt(B0);if(H0===9){K0=!0;break}let s0,k0;if(o4(H0))B0--,s0=0,k0=2;else s0=J.get(H0),k0=D5(H0)?Z:1;if(m<=R){if(h===0)h=P0,p=m;if(m<=R-B)break;if(zL(H0,s0,c,Q0,H)){x=P0,C=m;break}}m-=k0,c=H0,Q0=s0}if(x!==0){const B0=B-(p-C);if(B0<=Q){const P0=X.charCodeAt(h);let H0;if(U8(P0))H0=2;else H0=oz(P0,p,Q,Z);if(B0-H0<0)x=0}}if(K0){T--;continue}}if(x===0)x=h,C=p;if(x<=A){const m=X.charCodeAt(A);if(U8(m))x=A+2,C=P+2;else x=A+1,C=P+oz(m,P,Q,Z)}A=x,j[D]=x,P=C,K[D]=C,D++,R=C+B;while(T<0||T<M&&V[T]<C)T++;let r=Math.abs(V[T]-R);while(T+1<M){const m=Math.abs(V[T+1]-R);if(m>=r)break;r=m,T++}}if(D===0)return null;return j.length=D,K.length=D,UL=$.breakOffsets,HL=$.breakOffsetsVisibleColumn,$.breakOffsets=j,$.breakOffsetsVisibleColumn=K,$.wrappedTextIndentLength=W,$},G90=function(J,$,X,Q,Y,Z,G,q){const U=j9.applyInjectedText($,X);let H,z;if(X&&X.length>0)H=X.map((C)=>C.options),z=X.map((C)=>C.column-1);else H=null,z=null;if(Y===-1){if(!H)return null;return new LY(z,H,[U.length],[],0)}const V=U.length;if(V<=1){if(!H)return null;return new LY(z,H,[U.length],[],0)}const W=q==="keepAll",B=uc(U,Q,Y,Z,G),j=Y-B,K=[],D=[];let A=0,P=0,R=0,M=Y,T=U.charCodeAt(0),_=J.get(T),w=oz(T,0,Q,Z),x=1;if(U8(T))w+=1,T=U.charCodeAt(1),_=J.get(T),x++;for(let C=x;C<V;C++){const h=C,p=U.charCodeAt(C);let r,m;if(U8(p))C++,r=0,m=2;else r=J.get(p),m=oz(p,w,Q,Z);if(zL(T,_,p,r,W))P=h,R=w;if(w+=m,w>M){if(P===0||w-R>j)P=h,R=w-m;K[A]=P,D[A]=R,A++,M=R+j,P=0}T=p,_=r}if(A===0&&(!X||X.length===0))return null;return K[A]=V,D[A]=w,new LY(z,H,K,D,B)},oz=function(J,$,X,Q){if(J===9)return X-$%X;if(D5(J))return Q;if(J<32)return Q;return 1},pc=function(J,$){return $-J%$},zL=function(J,$,X,Q,Y){return X!==32&&($===2&&Q!==2||$!==1&&Q===1||!Y&&$===3&&Q!==2||!Y&&Q===3&&$!==1)},uc=function(J,$,X,Q,Y){let Z=0;if(Y!==0){const G=k8(J);if(G!==-1){for(let U=0;U<G;U++){const H=J.charCodeAt(U)===9?pc(Z,$):1;Z+=H}const q=Y===3?2:Y===2?1:0;for(let U=0;U<q;U++){const H=pc(Z,$);Z+=H}if(Z+Q>X)Z=0}}return Z};UL=[],HL=[]});class TA{static create(){return new TA}constructor(){}createLineBreaksComputer(J,$,X,Q,Y){const Z=[],G=[];return{addRequest:(q,U,H)=>{Z.push(q),G.push(U)},finalize:()=>{return q90(Z,J,$,X,Q,Y,G)}}}}var q90,U90,H90,BL,WL,VL;var lc=N(()=>{pQ();l0();YJ();dZ();qL();TY();q90=function(J,$,X,Q,Y,Z,G){var q;function U(C){const h=G[C];if(h){const p=j9.applyInjectedText(J[C],h),r=h.map((c)=>c.options),m=h.map((c)=>c.column-1);return new LY(m,r,[p.length],[],0)}else return null}if(Q===-1){const C=[];for(let h=0,p=J.length;h<p;h++)C[h]=U(h);return C}const H=Math.round(Q*$.typicalHalfwidthCharacterWidth),V=Math.round(X*(Y===3?2:Y===2?1:0)),W=Math.ceil($.spaceWidth*V),B=document.createElement("div");O8(B,$);const j=new KX(1e4),K=[],D=[],A=[],P=[],R=[];for(let C=0;C<J.length;C++){const h=j9.applyInjectedText(J[C],G[C]);let p=0,r=0,m=H;if(Y!==0)if(p=k8(h),p===-1)p=0;else{for(let B0=0;B0<p;B0++){const P0=h.charCodeAt(B0)===9?X-r%X:1;r+=P0}const K0=Math.ceil($.spaceWidth*r);if(K0+$.typicalFullwidthCharacterWidth>H)p=0,r=0;else m=H-K0}const c=h.substr(p),Q0=U90(c,r,X,m,j,W);K[C]=p,D[C]=r,A[C]=c,P[C]=Q0[0],R[C]=Q0[1]}const M=j.build(),T=(q=VL===null||VL===void 0?void 0:VL.createHTML(M))!==null&&q!==void 0?q:M;if(B.innerHTML=T,B.style.position="absolute",B.style.top="10000",Z==="keepAll")B.style.wordBreak="keep-all",B.style.overflowWrap="anywhere";else B.style.wordBreak="inherit",B.style.overflowWrap="break-word";document.body.appendChild(B);const _=document.createRange(),w=Array.prototype.slice.call(B.children,0),x=[];for(let C=0;C<J.length;C++){const h=w[C],p=H90(_,h,A[C],P[C]);if(p===null){x[C]=U(C);continue}const r=K[C],m=D[C]+V,c=R[C],Q0=[];for(let H0=0,s0=p.length;H0<s0;H0++)Q0[H0]=c[p[H0]];if(r!==0)for(let H0=0,s0=p.length;H0<s0;H0++)p[H0]+=r;let K0,B0;const P0=G[C];if(P0)K0=P0.map((H0)=>H0.options),B0=P0.map((H0)=>H0.column-1);else K0=null,B0=null;x[C]=new LY(B0,K0,p,Q0,m)}return document.body.removeChild(B),x},U90=function(J,$,X,Q,Y,Z){if(Z!==0){const W=String(Z);Y.appendString('<div style="text-indent: -'),Y.appendString(W),Y.appendString("px; padding-left: "),Y.appendString(W),Y.appendString("px; box-sizing: border-box; width:")}else Y.appendString('<div style="width:');Y.appendString(String(Q)),Y.appendString('px;">');const G=J.length;let q=$,U=0;const H=[],z=[];let V=0<G?J.charCodeAt(0):0;Y.appendString("<span>");for(let W=0;W<G;W++){if(W!==0&&W%16384===0)Y.appendString("</span><span>");H[W]=U,z[W]=q;const B=V;V=W+1<G?J.charCodeAt(W+1):0;let j=1,K=1;switch(B){case 9:j=X-q%X,K=j;for(let D=1;D<=j;D++)if(D<j)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 32:if(V===32)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 60:Y.appendString("&lt;");break;case 62:Y.appendString("&gt;");break;case 38:Y.appendString("&amp;");break;case 0:Y.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:Y.appendCharCode(65533);break;default:if(D5(B))K++;if(B<32)Y.appendCharCode(9216+B);else Y.appendCharCode(B)}U+=j,q+=K}return Y.appendString("</span>"),H[J.length]=U,z[J.length]=q,Y.appendString("</div>"),[H,z]},H90=function(J,$,X,Q){if(X.length<=1)return null;const Y=Array.prototype.slice.call($.children,0),Z=[];try{BL(J,Y,Q,0,null,X.length-1,null,Z)}catch(G){return console.log(G),null}if(Z.length===0)return null;return Z.push(X.length),Z},BL=function(J,$,X,Q,Y,Z,G,q){if(Q===Z)return;if(Y=Y||WL(J,$,X[Q],X[Q+1]),G=G||WL(J,$,X[Z],X[Z+1]),Math.abs(Y[0].top-G[0].top)<=0.1)return;if(Q+1===Z){q.push(Z);return}const U=Q+(Z-Q)/2|0,H=WL(J,$,X[U],X[U+1]);BL(J,$,X,Q,Y,U,H,q),BL(J,$,X,U,H,Z,G,q)},WL=function(J,$,X,Q){return J.setStart($[X/16384|0].firstChild,X%16384),J.setEnd($[Q/16384|0].firstChild,Q%16384),J.getClientRects()},VL=$5("domLineBreaksComputer",{createHTML:(J)=>J})});class jL extends f{constructor(){super();this._editor=null,this._instantiationService=null,this._instances=this._register(new OZ),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(J,$,X){this._editor=J,this._instantiationService=X;for(let Q of $){if(this._pending.has(Q.id)){a0(new Error(`Cannot have two contributions with the same id ${Q.id}`));continue}this._pending.set(Q.id,Q)}this._instantiateSome(0),this._register(Q$(()=>{this._instantiateSome(1)})),this._register(Q$(()=>{this._instantiateSome(2)})),this._register(Q$(()=>{this._instantiateSome(3)},5000))}saveViewState(){const J={};for(let[$,X]of this._instances)if(typeof X.saveViewState==="function")J[$]=X.saveViewState();return J}restoreViewState(J){for(let[$,X]of this._instances)if(typeof X.restoreViewState==="function")X.restoreViewState(J[$])}get(J){return this._instantiateById(J),this._instances.get(J)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register(Q$(()=>{this._instantiateSome(1)},50))}_instantiateSome(J){if(this._finishedInstantiation[J])return;this._finishedInstantiation[J]=!0;const $=this._findPendingContributionsByInstantiation(J);for(let X of $)this._instantiateById(X.id)}_findPendingContributionsByInstantiation(J){const $=[];for(let[,X]of this._pending)if(X.instantiation===J)$.push(X);return $}_instantiateById(J){const $=this._pending.get(J);if(!$)return;if(this._pending.delete(J),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const X=this._instantiationService.createInstance($.ctor,this._editor);if(this._instances.set($.id,X),typeof X.restoreViewState==="function"&&$.instantiation!==0)console.warn(`Editor contribution '${$.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(X){a0(X)}}}var dc=N(()=>{f1();A1();$0()});class sc{constructor(J,$,X,Q,Y,Z){this.model=J,this.viewModel=$,this.view=X,this.hasRealView=Q,this.listenersToRemove=Y,this.attachedView=Z}dispose(){if(w1(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView)this.view.dispose();this.viewModel.dispose()}}class KL extends f{constructor(J){super();this._emitterOptions=J,this._onDidChangeToTrue=this._register(new E(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){const $=J?2:1;if(this._value===$)return;if(this._value=$,this._value===2)this._onDidChangeToTrue.fire();else if(this._value===1)this._onDidChangeToFalse.fire()}}class N6 extends E{constructor(J,$){super({deliveryQueue:$});this._contributions=J}fire(J){this._contributions.onBeforeInteractionEvent(),super.fire(J)}}class ac extends f{constructor(J,$){super();this._editor=J,$.createKey("editorId",J.getId()),this._editorSimpleInput=t.editorSimpleInput.bindTo($),this._editorFocus=t.focus.bindTo($),this._textInputFocus=t.textInputFocus.bindTo($),this._editorTextFocus=t.editorTextFocus.bindTo($),this._tabMovesFocus=t.tabMovesFocus.bindTo($),this._editorReadonly=t.readOnly.bindTo($),this._inDiffEditor=t.inDiffEditor.bindTo($),this._editorColumnSelection=t.columnSelection.bindTo($),this._hasMultipleSelections=t.hasMultipleSelections.bindTo($),this._hasNonEmptySelection=t.hasNonEmptySelection.bindTo($),this._canUndo=t.canUndo.bindTo($),this._canRedo=t.canRedo.bindTo($),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(Mq.onDidChangeTabFocus((X)=>this._tabMovesFocus.set(X))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const J=this._editor.getOptions();this._tabMovesFocus.set(Mq.getTabFocusMode()),this._editorReadonly.set(J.get(90)),this._inDiffEditor.set(J.get(61)),this._editorColumnSelection.set(J.get(22))}_updateFromSelection(){const J=this._editor.getSelections();if(!J)this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset();else this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(($)=>!$.isEmpty()))}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}}class rc extends f{constructor(J,$,X){super();this._editor=J,this._contextKeyService=$,this._languageFeaturesService=X,this._langId=t.languageId.bindTo($),this._hasCompletionItemProvider=t.hasCompletionItemProvider.bindTo($),this._hasCodeActionsProvider=t.hasCodeActionsProvider.bindTo($),this._hasCodeLensProvider=t.hasCodeLensProvider.bindTo($),this._hasDefinitionProvider=t.hasDefinitionProvider.bindTo($),this._hasDeclarationProvider=t.hasDeclarationProvider.bindTo($),this._hasImplementationProvider=t.hasImplementationProvider.bindTo($),this._hasTypeDefinitionProvider=t.hasTypeDefinitionProvider.bindTo($),this._hasHoverProvider=t.hasHoverProvider.bindTo($),this._hasDocumentHighlightProvider=t.hasDocumentHighlightProvider.bindTo($),this._hasDocumentSymbolProvider=t.hasDocumentSymbolProvider.bindTo($),this._hasReferenceProvider=t.hasReferenceProvider.bindTo($),this._hasRenameProvider=t.hasRenameProvider.bindTo($),this._hasSignatureHelpProvider=t.hasSignatureHelpProvider.bindTo($),this._hasInlayHintsProvider=t.hasInlayHintsProvider.bindTo($),this._hasDocumentFormattingProvider=t.hasDocumentFormattingProvider.bindTo($),this._hasDocumentSelectionFormattingProvider=t.hasDocumentSelectionFormattingProvider.bindTo($),this._hasMultipleDocumentFormattingProvider=t.hasMultipleDocumentFormattingProvider.bindTo($),this._hasMultipleDocumentSelectionFormattingProvider=t.hasMultipleDocumentSelectionFormattingProvider.bindTo($),this._isInWalkThrough=t.isInWalkThroughSnippet.bindTo($);const Q=()=>this._update();this._register(J.onDidChangeModel(Q)),this._register(J.onDidChangeModelLanguage(Q)),this._register(X.completionProvider.onDidChange(Q)),this._register(X.codeActionProvider.onDidChange(Q)),this._register(X.codeLensProvider.onDidChange(Q)),this._register(X.definitionProvider.onDidChange(Q)),this._register(X.declarationProvider.onDidChange(Q)),this._register(X.implementationProvider.onDidChange(Q)),this._register(X.typeDefinitionProvider.onDidChange(Q)),this._register(X.hoverProvider.onDidChange(Q)),this._register(X.documentHighlightProvider.onDidChange(Q)),this._register(X.documentSymbolProvider.onDidChange(Q)),this._register(X.referenceProvider.onDidChange(Q)),this._register(X.renameProvider.onDidChange(Q)),this._register(X.documentFormattingEditProvider.onDidChange(Q)),this._register(X.documentRangeFormattingEditProvider.onDidChange(Q)),this._register(X.signatureHelpProvider.onDidChange(Q)),this._register(X.inlayHintsProvider.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(J)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(J)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(J)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(J)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(J)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(J)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(J)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(J)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(J)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(J)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(J)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(J)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(J)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(J)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(J)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(J).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===o0.walkThroughSnippet)})}}class ic extends f{constructor(J){super();this._onChange=this._register(new E),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(fQ(J)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class nc{get length(){return this._decorationIds.length}constructor(J,$){if(this._editor=J,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray($)&&$.length>0)this.set($)}onDidChange(J,$,X){return this._editor.onDidChangeModelDecorations((Q)=>{if(this._isChangingDecorations)return;J.call($,Q)},X)}getRange(J){if(!this._editor.hasModel())return null;if(J>=this._decorationIds.length)return null;return this._editor.getModel().getDecorationRange(this._decorationIds[J])}getRanges(){if(!this._editor.hasModel())return[];const J=this._editor.getModel(),$=[];for(let X of this._decorationIds){const Q=J.getDecorationRange(X);if(Q)$.push(Q)}return $}has(J){return this._decorationIds.includes(J.id)}clear(){if(this._decorationIds.length===0)return;this.set([])}set(J){try{this._isChangingDecorations=!0,this._editor.changeDecorations(($)=>{this._decorationIds=$.deltaDecorations(this._decorationIds,J)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}var FL,A90,z90,$Q,V90,fG,W90,XQ,B90,j90,F90,K90;var _A=N(()=>{Hf();zf();m0();y0();A1();A0();$0();T5();Pf();L5();t9();hm();yT();F6();_J();W1();u0();f7();O_();hH();FY();bG();A4();e6();vc();n6();s1();e0();rz();JQ();X7();YY();cc();lc();MT();b6();YJ();Y5();dc();_N();FL=function(J){return B90+encodeURIComponent(J.toString())+j90},A90=function(J){return F90+encodeURIComponent(J.toString())+K90},z90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},$Q=function(J,$){return function(X,Q){$(X,Q,J)}},V90=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},W90=0;XQ=fG=class J extends f{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,X,Q,Y,Z,G,q,U,H,z,V,W){var B;super();this.languageConfigurationService=V,this._deliveryQueue=kC(),this._contributions=this._register(new jL),this._onDidDispose=this._register(new E),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new KL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new KL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new N6(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new N6(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new N6(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new N6(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new N6(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new N6(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();const j=Object.assign({},X);this._domElement=$,this._overflowWidgetsDomNode=j.overflowWidgetsDomNode,delete j.overflowWidgetsDomNode,this._id=++W90,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=Q.telemetryData,this._configuration=this._register(this._createConfiguration(Q.isSimpleWidget||!1,j,z)),this._register(this._configuration.onDidChange((A)=>{this._onDidChangeConfiguration.fire(A);const P=this._configuration.options;if(A.hasChanged(143)){const R=P.get(143);this._onDidLayoutChange.fire(R)}})),this._contextKeyService=this._register(q.createScoped(this._domElement)),this._notificationService=H,this._codeEditorService=Z,this._commandService=G,this._themeService=U,this._register(new ac(this,this._contextKeyService)),this._register(new rc(this,this._contextKeyService,W)),this._instantiationService=Y.createChild(new eX([p0,this._contextKeyService])),this._modelData=null,this._focusTracker=new ic($),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let K;if(Array.isArray(Q.contributions))K=Q.contributions;else K=hQ.getEditorContributions();this._contributions.initialize(this,K,this._instantiationService);for(let A of hQ.getEditorActions()){if(this._actions.has(A.id)){a0(new Error(`Cannot have two actions with the same id ${A.id}`));continue}const P=new Dz(A.id,A.label,A.alias,(B=A.precondition)!==null&&B!==void 0?B:void 0,()=>{return this._instantiationService.invokeFunction((R)=>{return Promise.resolve(A.runEditorCommand(R,this,null))})},this._contextKeyService);this._actions.set(P.id,P)}const D=()=>{return!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled};this._register(new rM(this._domElement,{onDragEnter:()=>{return},onDragOver:(A)=>{if(!D())return;const P=this.getTargetAtClientPoint(A.clientX,A.clientY);if(P===null||P===void 0?void 0:P.position)this.showDropIndicatorAt(P.position)},onDrop:(A)=>V90(this,void 0,void 0,function*(){if(!D())return;if(this.removeDropIndicator(),!A.dataTransfer)return;const P=this.getTargetAtClientPoint(A.clientX,A.clientY);if(P===null||P===void 0?void 0:P.position)this._onDropIntoEditor.fire({position:P.position,event:A})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var X;(X=this._modelData)===null||X===void 0||X.view.writeScreenReaderContent($)}_createConfiguration($,X,Q){return new eF($,X,this._domElement,Q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return oQ.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){if(!this._modelData)return null;return y8.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),$)}getValue($=null){if(!this._modelData)return"";const X=$&&$.preserveBOM?!0:!1;let Q=0;if($&&$.lineEnding&&$.lineEnding==="\n")Q=1;else if($&&$.lineEnding&&$.lineEnding==="\r\n")Q=2;return this._modelData.model.getValue(Q,X)}setValue($){if(!this._modelData)return;this._modelData.model.setValue($)}getModel(){if(!this._modelData)return null;return this._modelData.model}setModel($=null){const X=$;if(this._modelData===null&&X===null)return;if(this._modelData&&this._modelData.model===X)return;const Q=this.hasTextFocus(),Y=this._detachModel();if(this._attachModel(X),Q&&this.hasModel())this.focus();const Z={oldModelUrl:Y?Y.uri:null,newModelUrl:X?X.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Z),this._postDetachModelCleanup(Y),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let $ in this._decorationTypeSubtypes){const X=this._decorationTypeSubtypes[$];for(let Q in X)this._removeDecorationType($+"-"+Q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRanges()}getVisibleRangesPlusViewportAboveBelow(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow()}getWhitespaces(){if(!this._modelData)return[];return this._modelData.viewModel.viewLayout.getWhitespaces()}static _getVerticalOffsetAfterPosition($,X,Q,Y){const Z=$.model.validatePosition({lineNumber:X,column:Q}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(G.lineNumber,Y)}getTopForLineNumber($,X=!1){if(!this._modelData)return-1;return fG._getVerticalOffsetForPosition(this._modelData,$,1,X)}getTopForPosition($,X){if(!this._modelData)return-1;return fG._getVerticalOffsetForPosition(this._modelData,$,X,!1)}static _getVerticalOffsetForPosition($,X,Q,Y=!1){const Z=$.model.validatePosition({lineNumber:X,column:Q}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(G.lineNumber,Y)}getBottomForLineNumber($,X=!1){if(!this._modelData)return-1;return fG._getVerticalOffsetAfterPosition(this._modelData,$,1,X)}setHiddenAreas($,X){var Q;(Q=this._modelData)===null||Q===void 0||Q.viewModel.setHiddenAreas($.map((Y)=>L.lift(Y)),X)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;const X=this._modelData.model.validatePosition($),Q=this._modelData.model.getOptions().tabSize;return t1.visibleColumnFromColumn(this._modelData.model.getLineContent(X.lineNumber),X.column,Q)+1}getPosition(){if(!this._modelData)return null;return this._modelData.viewModel.getPosition()}setPosition($,X="api"){if(!this._modelData)return;if(!b.isIPosition($))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}_sendRevealRange($,X,Q,Y){if(!this._modelData)return;if(!L.isIRange($))throw new Error("Invalid arguments");const Z=this._modelData.model.validateRange($),G=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",Q,G,X,Y)}revealLine($,X=0){this._revealLine($,0,X)}revealLineInCenter($,X=0){this._revealLine($,1,X)}revealLineInCenterIfOutsideViewport($,X=0){this._revealLine($,2,X)}revealLineNearTop($,X=0){this._revealLine($,5,X)}_revealLine($,X,Q){if(typeof $!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,$,1),X,!1,Q)}revealPosition($,X=0){this._revealPosition($,0,!0,X)}revealPositionInCenter($,X=0){this._revealPosition($,1,!0,X)}revealPositionInCenterIfOutsideViewport($,X=0){this._revealPosition($,2,!0,X)}revealPositionNearTop($,X=0){this._revealPosition($,5,!0,X)}_revealPosition($,X,Q,Y){if(!b.isIPosition($))throw new Error("Invalid arguments");this._sendRevealRange(new L($.lineNumber,$.column,$.lineNumber,$.column),X,Q,Y)}getSelection(){if(!this._modelData)return null;return this._modelData.viewModel.getSelection()}getSelections(){if(!this._modelData)return null;return this._modelData.viewModel.getSelections()}setSelection($,X="api"){const Q=b0.isISelection($),Y=L.isIRange($);if(!Q&&!Y)throw new Error("Invalid arguments");if(Q)this._setSelectionImpl($,X);else if(Y){const Z={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(Z,X)}}_setSelectionImpl($,X){if(!this._modelData)return;const Q=new b0($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(X,[Q])}revealLines($,X,Q=0){this._revealLines($,X,0,Q)}revealLinesInCenter($,X,Q=0){this._revealLines($,X,1,Q)}revealLinesInCenterIfOutsideViewport($,X,Q=0){this._revealLines($,X,2,Q)}revealLinesNearTop($,X,Q=0){this._revealLines($,X,5,Q)}_revealLines($,X,Q,Y){if(typeof $!=="number"||typeof X!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,X,1),Q,!1,Y)}revealRange($,X=0,Q=!1,Y=!0){this._revealRange($,Q?1:0,Y,X)}revealRangeInCenter($,X=0){this._revealRange($,1,!0,X)}revealRangeInCenterIfOutsideViewport($,X=0){this._revealRange($,2,!0,X)}revealRangeNearTop($,X=0){this._revealRange($,5,!0,X)}revealRangeNearTopIfOutsideViewport($,X=0){this._revealRange($,6,!0,X)}revealRangeAtTop($,X=0){this._revealRange($,3,!0,X)}_revealRange($,X,Q,Y){if(!L.isIRange($))throw new Error("Invalid arguments");this._sendRevealRange(L.lift($),X,Q,Y)}setSelections($,X="api",Q=0){if(!this._modelData)return;if(!$||$.length===0)throw new Error("Invalid arguments");for(let Y=0,Z=$.length;Y<Z;Y++)if(!b0.isISelection($[Y]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,$,Q)}getContentWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentWidth()}getScrollWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollWidth()}getScrollLeft(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollLeft()}getContentHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentHeight()}getScrollHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollHeight()}getScrollTop(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollTop()}setScrollLeft($,X=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},X)}setScrollTop($,X=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},X)}setScrollPosition($,X=1){if(!this._modelData)return;this._modelData.viewModel.viewLayout.setScrollPosition($,X)}hasPendingScrollAnimation(){if(!this._modelData)return!1;return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const $=this._contributions.saveViewState(),X=this._modelData.viewModel.saveCursorState(),Q=this._modelData.viewModel.saveState();return{cursorState:X,viewState:Q,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;const X=$;if(X&&X.cursorState&&X.viewState){const Q=X.cursorState;if(Array.isArray(Q)){if(Q.length>0)this._modelData.viewModel.restoreCursorState(Q)}else this._modelData.viewModel.restoreCursorState([Q]);this._contributions.restoreViewState(X.contributionsState||{});const Y=this._modelData.viewModel.reduceRestoreState(X.viewState);this._modelData.view.restoreState(Y)}}handleInitialized(){var $;($=this._getViewModel())===null||$===void 0||$.visibleLinesStabilized()}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter((X)=>X.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,X,Q){switch(Q=Q||{},X){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{const Z=Q;this._type($,Z.text||"");return}case"replacePreviousChar":{const Z=Q;this._compositionType($,Z.text||"",Z.replaceCharCnt||0,0,0);return}case"compositionType":{const Z=Q;this._compositionType($,Z.text||"",Z.replacePrevCharCnt||0,Z.replaceNextCharCnt||0,Z.positionDelta||0);return}case"paste":{const Z=Q;this._paste($,Z.text||"",Z.pasteOnNewLine||!1,Z.multicursorText||null,Z.mode||null);return}case"cut":this._cut($);return}const Y=this.getAction(X);if(Y){Promise.resolve(Y.run(Q)).then(void 0,a0);return}if(!this._modelData)return;if(this._triggerEditorCommand($,X,Q))return;this._triggerCommand(X,Q)}_triggerCommand($,X){this._commandService.executeCommand($,X)}_startComposition(){if(!this._modelData)return;this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire()}_endComposition($){if(!this._modelData)return;this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire()}_type($,X){if(!this._modelData||X.length===0)return;if($==="keyboard")this._onWillType.fire(X);if(this._modelData.viewModel.type(X,$),$==="keyboard")this._onDidType.fire(X)}_compositionType($,X,Q,Y,Z){if(!this._modelData)return;this._modelData.viewModel.compositionType(X,Q,Y,Z,$)}_paste($,X,Q,Y,Z){if(!this._modelData||X.length===0)return;const G=this._modelData.viewModel,q=G.getSelection().getStartPosition();G.paste(X,Q,Y,$);const U=G.getSelection().getStartPosition();if($==="keyboard")this._onDidPaste.fire({range:new L(q.lineNumber,q.column,U.lineNumber,U.column),languageId:Z})}_cut($){if(!this._modelData)return;this._modelData.viewModel.cut($)}_triggerEditorCommand($,X,Q){const Y=hQ.getEditorCommand(X);if(Y)return Q=Q||{},Q.source=$,this._instantiationService.invokeFunction((Z)=>{Promise.resolve(Y.runEditorCommand(Z,this,Q)).then(void 0,a0)}),!0;return!1}_getViewModel(){if(!this._modelData)return null;return this._modelData.viewModel}pushUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.pushStackElement(),!0}popUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.popStackElement(),!0}executeEdits($,X,Q){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let Y;if(!Q)Y=()=>null;else if(Array.isArray(Q))Y=()=>Q;else Y=Q;return this._modelData.viewModel.executeEdits($,X,Y),!0}executeCommand($,X){if(!this._modelData)return;this._modelData.viewModel.executeCommand(X,$)}executeCommands($,X){if(!this._modelData)return;this._modelData.viewModel.executeCommands(X,$)}createDecorationsCollection($){return new nc(this,$)}changeDecorations($){if(!this._modelData)return null;return this._modelData.model.changeDecorations($,this._id)}getLineDecorations($){if(!this._modelData)return null;return this._modelData.model.getLineDecorations($,this._id,PZ(this._configuration.options))}getDecorationsInRange($){if(!this._modelData)return null;return this._modelData.model.getDecorationsInRange($,this._id,PZ(this._configuration.options))}deltaDecorations($,X){if(!this._modelData)return[];if($.length===0&&X.length===0)return $;return this._modelData.model.deltaDecorations($,X,this._id)}removeDecorations($){if(!this._modelData||$.length===0)return;this._modelData.model.changeDecorations((X)=>{X.deltaDecorations($,[])})}removeDecorationsByType($){const X=this._decorationTypeKeysToIds[$];if(X)this.deltaDecorations(X,[]);if(this._decorationTypeKeysToIds.hasOwnProperty($))delete this._decorationTypeKeysToIds[$];if(this._decorationTypeSubtypes.hasOwnProperty($))delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler($){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($){this._configuration.observeContainer($),this.render()}focus(){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.focus()}hasTextFocus(){if(!this._modelData||!this._modelData.hasRealView)return!1;return this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){const X={widget:$,position:$.getPosition()};if(this._contentWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a content widget with the same id.");if(this._contentWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addContentWidget(X)}layoutContentWidget($){const X=$.getId();if(this._contentWidgets.hasOwnProperty(X)){const Q=this._contentWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutContentWidget(Q)}}removeContentWidget($){const X=$.getId();if(this._contentWidgets.hasOwnProperty(X)){const Q=this._contentWidgets[X];if(delete this._contentWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeContentWidget(Q)}}addOverlayWidget($){const X={widget:$,position:$.getPosition()};if(this._overlayWidgets.hasOwnProperty($.getId()))console.warn("Overwriting an overlay widget with the same id.");if(this._overlayWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addOverlayWidget(X)}layoutOverlayWidget($){const X=$.getId();if(this._overlayWidgets.hasOwnProperty(X)){const Q=this._overlayWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutOverlayWidget(Q)}}removeOverlayWidget($){const X=$.getId();if(this._overlayWidgets.hasOwnProperty(X)){const Q=this._overlayWidgets[X];if(delete this._overlayWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeOverlayWidget(Q)}}addGlyphMarginWidget($){const X={widget:$,position:$.getPosition()};if(this._glyphMarginWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a glyph margin widget with the same id.");if(this._glyphMarginWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addGlyphMarginWidget(X)}layoutGlyphMarginWidget($){const X=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(X)){const Q=this._glyphMarginWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutGlyphMarginWidget(Q)}}removeGlyphMarginWidget($){const X=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(X)){const Q=this._glyphMarginWidgets[X];if(delete this._glyphMarginWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeGlyphMarginWidget(Q)}}changeViewZones($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.change($)}getTargetAtClientPoint($,X){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.getTargetAtClientPoint($,X)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;const X=this._modelData.model.validatePosition($),Q=this._configuration.options,Y=Q.get(143),Z=fG._getVerticalOffsetForPosition(this._modelData,X.lineNumber,X.column)-this.getScrollTop(),G=this._modelData.view.getOffsetForColumn(X.lineNumber,X.column)+Y.glyphMarginWidth+Y.lineNumbersWidth+Y.decorationsWidth-this.getScrollLeft();return{top:Z,left:G,height:Q.get(66)}}getOffsetForColumn($,X){if(!this._modelData||!this._modelData.hasRealView)return-1;return this._modelData.view.getOffsetForColumn($,X)}render($=!1){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.render(!0,$)}setAriaOptions($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.setAriaOptions($)}applyFontInfo($){O8($,this._configuration.options.get(50))}setBanner($,X){if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);if(this._bannerDomNode=$,this._configuration.setReservedHeight($?X:0),this._bannerDomNode)this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}const X=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());const Q=$.onBeforeAttached(),Y=new YL(this._id,this._configuration,$,TA.create(),NA.create(this._configuration.options),(q)=>R6(q),this.languageConfigurationService,this._themeService,Q);X.push($.onWillDispose(()=>this.setModel(null))),X.push(Y.onEvent((q)=>{switch(q.kind){case 0:this._onDidContentSizeChange.fire(q);break;case 1:this._editorTextFocus.setValue(q.hasFocus);break;case 2:this._onDidScrollChange.fire(q);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(q.reachedMaxCursorCount){const V=this.getOption(79),W=F("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",V);this._notificationService.prompt(fc.Warning,W,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:F("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const U=[];for(let V=0,W=q.selections.length;V<W;V++)U[V]=q.selections[V].getPosition();const H={position:U[0],secondaryPositions:U.slice(1),reason:q.reason,source:q.source};this._onDidChangeCursorPosition.fire(H);const z={selection:q.selections[0],secondarySelections:q.selections.slice(1),modelVersionId:q.modelVersionId,oldSelections:q.oldSelections,oldModelVersionId:q.oldModelVersionId,source:q.source,reason:q.reason};this._onDidChangeCursorSelection.fire(z);break}case 7:this._onDidChangeModelDecorations.fire(q.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(q.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(q.event);break;case 10:this._onDidChangeModelContent.fire(q.event);break;case 11:this._onDidChangeModelOptions.fire(q.event);break;case 12:this._onDidChangeModelTokens.fire(q.event);break}}));const[Z,G]=this._createView(Y);if(G){this._domElement.appendChild(Z.domNode.domNode);let q=Object.keys(this._contentWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addContentWidget(this._contentWidgets[z])}q=Object.keys(this._overlayWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addOverlayWidget(this._overlayWidgets[z])}q=Object.keys(this._glyphMarginWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addGlyphMarginWidget(this._glyphMarginWidgets[z])}Z.render(!1,!0),Z.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new sc($,Y,Z,G,X,Q)}_createView($){let X;if(this.isSimpleWidget)X={paste:(Z,G,q,U)=>{this._paste("keyboard",Z,G,q,U)},type:(Z)=>{this._type("keyboard",Z)},compositionType:(Z,G,q,U)=>{this._compositionType("keyboard",Z,G,q,U)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}};else X={paste:(Z,G,q,U)=>{const H={text:Z,pasteOnNewLine:G,multicursorText:q,mode:U};this._commandService.executeCommand("paste",H)},type:(Z)=>{const G={text:Z};this._commandService.executeCommand("type",G)},compositionType:(Z,G,q,U)=>{if(q||U){const H={text:Z,replacePrevCharCnt:G,replaceNextCharCnt:q,positionDelta:U};this._commandService.executeCommand("compositionType",H)}else{const H={text:Z,replaceCharCnt:G};this._commandService.executeCommand("replacePreviousChar",H)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Q=new dq($.coordinatesConverter);return Q.onKeyDown=(Z)=>this._onKeyDown.fire(Z),Q.onKeyUp=(Z)=>this._onKeyUp.fire(Z),Q.onContextMenu=(Z)=>this._onContextMenu.fire(Z),Q.onMouseMove=(Z)=>this._onMouseMove.fire(Z),Q.onMouseLeave=(Z)=>this._onMouseLeave.fire(Z),Q.onMouseDown=(Z)=>this._onMouseDown.fire(Z),Q.onMouseUp=(Z)=>this._onMouseUp.fire(Z),Q.onMouseDrag=(Z)=>this._onMouseDrag.fire(Z),Q.onMouseDrop=(Z)=>this._onMouseDrop.fire(Z),Q.onMouseDropCanceled=(Z)=>this._onMouseDropCanceled.fire(Z),Q.onMouseWheel=(Z)=>this._onMouseWheel.fire(Z),[new rK(X,this._configuration,this._themeService.getColorTheme(),$,Q,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup($){$===null||$===void 0||$.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const $=this._modelData.model,X=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;if(this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),X&&this._domElement.contains(X))this._domElement.removeChild(X);if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);return $}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){const X=[{range:new L($.lineNumber,$.column,$.lineNumber,$.column),options:fG.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(X),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue($,X){this._contextKeyService.createKey($,X)}};XQ.dropIntoEditorDecorationOptions=I1.register({description:"workbench-dnd-target",className:"dnd-target"});XQ=fG=z90([$Q(3,G1),$Q(4,p1),$Q(5,H7),$Q(6,p0),$Q(7,d8),$Q(8,i7),$Q(9,f5),$Q(10,N8),$Q(11,q1)],XQ);B90=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),j90=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>"),F90=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),K90=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');V9((J,$)=>{const X=J.getColor(W$);if(X)$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${FL(X)}") repeat-x bottom left; }`);const Q=J.getColor(x9);if(Q)$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${FL(Q)}") repeat-x bottom left; }`);const Y=J.getColor(b9);if(Y)$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${FL(Y)}") repeat-x bottom left; }`);const Z=J.getColor(Qh);if(Z)$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${A90(Z)}") no-repeat bottom left; }`);const G=J.getColor(ig);if(G)$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${G.rgba.a}; }`)})});var P90,D90,R90,wA;var oc=N(()=>{A0();$0();P5();X7();P90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},D90=function(J,$){return function(X,Q){$(X,Q,J)}},R90=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},wA=class J extends f{constructor($){super();this._themeService=$,this._onWillCreateCodeEditor=this._register(new E),this._onCodeEditorAdd=this._register(new E),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new E),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new E),this._onDiffEditorAdd=this._register(new E),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new E),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new I8,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor($){this._codeEditors[$.getId()]=$,this._onCodeEditorAdd.fire($)}removeCodeEditor($){if(delete this._codeEditors[$.getId()])this._onCodeEditorRemove.fire($)}listCodeEditors(){return Object.keys(this._codeEditors).map(($)=>this._codeEditors[$])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor($){this._diffEditors[$.getId()]=$,this._onDiffEditorAdd.fire($)}listDiffEditors(){return Object.keys(this._diffEditors).map(($)=>this._diffEditors[$])}getFocusedCodeEditor(){let $=null;const X=this.listCodeEditors();for(let Q of X){if(Q.hasTextFocus())return Q;if(Q.hasWidgetFocus())$=Q}return $}removeDecorationType($){const X=this._decorationOptionProviders.get($);if(X){if(X.refCount--,X.refCount<=0)this._decorationOptionProviders.delete($),X.dispose(),this.listCodeEditors().forEach((Q)=>Q.removeDecorationsByType($))}}setModelProperty($,X,Q){const Y=$.toString();let Z;if(this._modelProperties.has(Y))Z=this._modelProperties.get(Y);else Z=new Map,this._modelProperties.set(Y,Z);Z.set(X,Q)}getModelProperty($,X){const Q=$.toString();if(this._modelProperties.has(Q))return this._modelProperties.get(Q).get(X);return}openCodeEditor($,X,Q){return R90(this,void 0,void 0,function*(){for(let Y of this._codeEditorOpenHandlers){const Z=yield Y($,X,Q);if(Z!==null)return Z}return null})}registerCodeEditorOpenHandler($){const X=this._codeEditorOpenHandlers.unshift($);return N0(X)}};wA=P90([D90(0,d8)],wA)});var M90,tc,O90,tz;var AL=N(()=>{y0();T5();oc();t9();s1();FJ();X7();M90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},tc=function(J,$){return function(X,Q){$(X,Q,J)}},O90=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},tz=class J extends wA{constructor($,X){super(X);this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=$.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((Q,Y,Z)=>O90(this,void 0,void 0,function*(){if(!Y)return null;return this.doOpenEditor(Y,Q)})))}_checkContextKey(){let $=!1;for(let X of this.listCodeEditors())if(!X.isSimpleWidget){$=!0;break}this._editorIsOpen.set($)}setActiveCodeEditor($){this._activeCodeEditor=$}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor($,X){if(!this.findModel($,X.resource)){if(X.resource){const Z=X.resource.scheme;if(Z===o0.http||Z===o0.https)return GF(X.resource.toString()),$}return null}const Y=X.options?X.options.selection:null;if(Y)if(typeof Y.endLineNumber==="number"&&typeof Y.endColumn==="number")$.setSelection(Y),$.revealRangeInCenter(Y,1);else{const Z={lineNumber:Y.startLineNumber,column:Y.startColumn};$.setPosition(Z),$.revealPositionInCenter(Z,1)}return $}findModel($,X){const Q=$.getModel();if(Q&&Q.uri.toString()!==X.toString())return null;return Q}};tz=M90([tc(0,p0),tc(1,d8)],tz);F1(p1,tz,0)});var IJ;var hG=N(()=>{e0();IJ=O0("layoutService")});var ec,Jl,LA,IA;var PL=N(()=>{y0();A0();hG();t9();FJ();ec=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Jl=function(J,$){return function(X,Q){$(X,Q,J)}},LA=class J{get dimension(){if(!this._dimension)this._dimension=vQ(window.document.body);return this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var $;($=this._codeEditorService.getFocusedCodeEditor())===null||$===void 0||$.focus()}constructor($){this._codeEditorService=$,this.onDidLayout=Y0.None,this.offset={top:0,quickPickTop:0}}};LA=ec([Jl(0,p1)],LA);IA=class J extends LA{get hasContainer(){return!1}get container(){return this._container}constructor($,X){super(X);this._container=$}};IA=ec([Jl(1,p1)],IA);F1(IJ,LA,1)});var kA;var DL=N(()=>{e0();kA=O0("dialogService")});class ez{constructor(J,$,X,Q,Y,Z,G){this.id=++Xl,this.type=0,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabel=$,this.strResource=X,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Q,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.isValid=!0}setValid(J){this.isValid=J}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class RL{constructor(J,$){this.resourceLabel=J,this.reason=$}}class ML{constructor(){this.elements=new Map}createMessage(){const J=[],$=[];for(let[,Q]of this.elements)(Q.reason===0?J:$).push(Q.resourceLabel);const X=[];if(J.length>0)X.push(F({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",J.join(", ")));if($.length>0)X.push(F({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",$.join(", ")));return X.join("\n")}get size(){return this.elements.size}has(J){return this.elements.has(J)}set(J,$){this.elements.set(J,$)}delete(J){return this.elements.delete(J)}}class Ql{constructor(J,$,X,Q,Y,Z,G){this.id=++Xl,this.type=1,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabels=$,this.strResources=X,this.groupId=Q,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split==="function"}removeResource(J,$,X){if(!this.removedResources)this.removedResources=new ML;if(!this.removedResources.has($))this.removedResources.set($,new RL(J,X))}setValid(J,$,X){if(X){if(this.invalidatedResources){if(this.invalidatedResources.delete($),this.invalidatedResources.size===0)this.invalidatedResources=null}}else{if(!this.invalidatedResources)this.invalidatedResources=new ML;if(!this.invalidatedResources.has($))this.invalidatedResources.set($,new RL(J,0))}}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class NL{constructor(J,$){this.resourceLabel=J,this.strResource=$,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let J of this._past)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);for(let J of this._future)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const J=[];J.push(`* ${this.strResource}:`);for(let $=0;$<this._past.length;$++)J.push(`   * [UNDO] ${this._past[$]}`);for(let $=this._future.length-1;$>=0;$--)J.push(`   * [REDO] ${this._future[$]}`);return J.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(J,$){if(J.type===1)J.setValid(this.resourceLabel,this.strResource,$);else J.setValid($)}setElementsValidFlag(J,$){for(let X of this._past)if($(X.actual))this._setElementValidFlag(X,J);for(let X of this._future)if($(X.actual))this._setElementValidFlag(X,J)}pushElement(J){for(let $ of this._future)if($.type===1)$.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(J),this.versionId++}createSnapshot(J){const $=[];for(let X=0,Q=this._past.length;X<Q;X++)$.push(this._past[X].id);for(let X=this._future.length-1;X>=0;X--)$.push(this._future[X].id);return new VA(J,$)}restoreSnapshot(J){const $=J.elements.length;let X=!0,Q=0,Y=-1;for(let G=0,q=this._past.length;G<q;G++,Q++){const U=this._past[G];if(X&&(Q>=$||U.id!==J.elements[Q]))X=!1,Y=0;if(!X&&U.type===1)U.removeResource(this.resourceLabel,this.strResource,0)}let Z=-1;for(let G=this._future.length-1;G>=0;G--,Q++){const q=this._future[G];if(X&&(Q>=$||q.id!==J.elements[Q]))X=!1,Z=G;if(!X&&q.type===1)q.removeResource(this.resourceLabel,this.strResource,0)}if(Y!==-1)this._past=this._past.slice(0,Y);if(Z!==-1)this._future=this._future.slice(Z+1);this.versionId++}getElements(){const J=[],$=[];for(let X of this._past)J.push(X.actual);for(let X of this._future)$.push(X.actual);return{past:J,future:$}}getClosestPastElement(){if(this._past.length===0)return null;return this._past[this._past.length-1]}getSecondClosestPastElement(){if(this._past.length<2)return null;return this._past[this._past.length-2]}getClosestFutureElement(){if(this._future.length===0)return null;return this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(J,$){for(let X=this._past.length-1;X>=0;X--)if(this._past[X]===J){if($.has(this.strResource))this._past[X]=$.get(this.strResource);else this._past.splice(X,1);break}this.versionId++}splitFutureWorkspaceElement(J,$){for(let X=this._future.length-1;X>=0;X--)if(this._future[X]===J){if($.has(this.strResource))this._future[X]=$.get(this.strResource);else this._future.splice(X,1);break}this.versionId++}moveBackward(J){this._past.pop(),this._future.push(J),this.versionId++}moveForward(J){this._future.pop(),this._past.push(J),this.versionId++}}class SA{constructor(J){this.editStacks=J,this._versionIds=[];for(let $=0,X=this.editStacks.length;$<X;$++)this._versionIds[$]=this.editStacks[$].versionId}isValid(){for(let J=0,$=this.editStacks.length;J<$;J++)if(this._versionIds[J]!==this.editStacks[J].versionId)return!1;return!0}}class JV{constructor(J){this.returnValue=J}}var yA,N90,$l,EA,BU,Xl,Yl,OL;var Zl=N(()=>{A1();$0();T5();wY();m0();DL();FJ();JQ();WA();yA=function(J){return J.scheme===o0.file?J.fsPath:J.path},N90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},$l=function(J,$){return function(X,Q){$(X,Q,J)}},EA=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},BU=!1,Xl=0;Yl=new NL("","");Yl.locked=!0;OL=class J{constructor($,X){this._dialogService=$,this._notificationService=X,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey($){for(let X of this._uriComparisonKeyComputers)if(X[0]===$.scheme)return X[1].getComparisonKey($);return $.toString()}_print($){console.log("------------------------------------"),console.log(`AFTER ${$}: `);const X=[];for(let Q of this._editStacks)X.push(Q[1].toString());console.log(X.join("\n"))}pushElement($,X=CG.None,Q=R4.None){if($.type===0){const Y=yA($.resource),Z=this.getUriComparisonKey($.resource);this._pushElement(new ez($,Y,Z,X.id,X.nextOrder(),Q.id,Q.nextOrder()))}else{const Y=new Set,Z=[],G=[];for(let q of $.resources){const U=yA(q),H=this.getUriComparisonKey(q);if(Y.has(H))continue;Y.add(H),Z.push(U),G.push(H)}if(Z.length===1)this._pushElement(new ez($,Z[0],G[0],X.id,X.nextOrder(),Q.id,Q.nextOrder()));else this._pushElement(new Ql($,Z,G,X.id,X.nextOrder(),Q.id,Q.nextOrder()))}if(BU)this._print("pushElement")}_pushElement($){for(let X=0,Q=$.strResources.length;X<Q;X++){const Y=$.resourceLabels[X],Z=$.strResources[X];let G;if(this._editStacks.has(Z))G=this._editStacks.get(Z);else G=new NL(Y,Z),this._editStacks.set(Z,G);G.pushElement($)}}getLastElement($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X)){const Q=this._editStacks.get(X);if(Q.hasFutureElements())return null;const Y=Q.getClosestPastElement();return Y?Y.actual:null}return null}_splitPastWorkspaceElement($,X){const Q=$.actual.split(),Y=new Map;for(let Z of Q){const G=yA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new ez(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(X&&X.has(Z))continue;this._editStacks.get(Z).splitPastWorkspaceElement($,Y)}}_splitFutureWorkspaceElement($,X){const Q=$.actual.split(),Y=new Map;for(let Z of Q){const G=yA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new ez(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(X&&X.has(Z))continue;this._editStacks.get(Z).splitFutureWorkspaceElement($,Y)}}removeElements($){const X=typeof $==="string"?$:this.getUriComparisonKey($);if(this._editStacks.has(X))this._editStacks.get(X).dispose(),this._editStacks.delete(X);if(BU)this._print("removeElements")}setElementsValidFlag($,X,Q){const Y=this.getUriComparisonKey($);if(this._editStacks.has(Y))this._editStacks.get(Y).setElementsValidFlag(X,Q);if(BU)this._print("setElementsValidFlag")}createSnapshot($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).createSnapshot($);return new VA($,[])}restoreSnapshot($){const X=this.getUriComparisonKey($.resource);if(this._editStacks.has(X)){const Q=this._editStacks.get(X);if(Q.restoreSnapshot($),!Q.hasPastElements()&&!Q.hasFutureElements())Q.dispose(),this._editStacks.delete(X)}if(BU)this._print("restoreSnapshot")}getElements($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).getElements();return{past:[],future:[]}}_findClosestUndoElementWithSource($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestPastElement();if(!G)continue;if(G.sourceId===$){if(!X||G.sourceOrder>X.sourceOrder)X=G,Q=Y}}return[X,Q]}canUndo($){if($ instanceof R4){const[,Q]=this._findClosestUndoElementWithSource($.id);return Q?!0:!1}const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).hasPastElements();return!1}_onError($,X){a0($);for(let Q of X.strResources)this.removeElements(Q);this._notificationService.error($)}_acquireLocks($){for(let X of $.editStacks)if(X.locked)throw new Error("Cannot acquire edit stack lock");for(let X of $.editStacks)X.locked=!0;return()=>{for(let X of $.editStacks)X.locked=!1}}_safeInvokeWithLocks($,X,Q,Y,Z){const G=this._acquireLocks(Q);let q;try{q=X()}catch(U){return G(),Y.dispose(),this._onError(U,$)}if(q)return q.then(()=>{return G(),Y.dispose(),Z()},(U)=>{return G(),Y.dispose(),this._onError(U,$)});else return G(),Y.dispose(),Z()}_invokeWorkspacePrepare($){return EA(this,void 0,void 0,function*(){if(typeof $.actual.prepareUndoRedo==="undefined")return f.None;const X=$.actual.prepareUndoRedo();if(typeof X==="undefined")return f.None;return X})}_invokeResourcePrepare($,X){if($.actual.type!==1||typeof $.actual.prepareUndoRedo==="undefined")return X(f.None);const Q=$.actual.prepareUndoRedo();if(!Q)return X(f.None);if(KB(Q))return X(Q);return Q.then((Y)=>{return X(Y)})}_getAffectedEditStacks($){const X=[];for(let Q of $.strResources)X.push(this._editStacks.get(Q)||Yl);return new SA(X)}_tryToSplitAndUndo($,X,Q,Y){if(X.canSplit())return this._splitPastWorkspaceElement(X,Q),this._notificationService.warn(Y),new JV(this._undo($,0,!0));else{for(let Z of X.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new JV}}_checkWorkspaceUndo($,X,Q,Y){if(X.removedResources)return this._tryToSplitAndUndo($,X,X.removedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",X.label,X.removedResources.createMessage()));if(Y&&X.invalidatedResources)return this._tryToSplitAndUndo($,X,X.invalidatedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",X.label,X.invalidatedResources.createMessage()));const Z=[];for(let q of Q.editStacks)if(q.getClosestPastElement()!==X)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",X.label,Z.join(", ")));const G=[];for(let q of Q.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",X.label,G.join(", ")));if(!Q.isValid())return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",X.label));return null}_workspaceUndo($,X,Q){const Y=this._getAffectedEditStacks(X),Z=this._checkWorkspaceUndo($,X,Y,!1);if(Z)return Z.returnValue;return this._confirmAndExecuteWorkspaceUndo($,X,Y,Q)}_isPartOfUndoGroup($){if(!$.groupId)return!1;for(let[,X]of this._editStacks){const Q=X.getClosestPastElement();if(!Q)continue;if(Q===$){const Y=X.getSecondClosestPastElement();if(Y&&Y.groupId===$.groupId)return!0}if(Q.groupId===$.groupId)return!0}return!1}_confirmAndExecuteWorkspaceUndo($,X,Q,Y){return EA(this,void 0,void 0,function*(){if(X.canSplit()&&!this._isPartOfUndoGroup(X)){let q;(function(z){z[z.All=0]="All",z[z.This=1]="This",z[z.Cancel=2]="Cancel"})(q||(q={}));const{result:U}=yield this._dialogService.prompt({type:D8.Info,message:F("confirmWorkspace","Would you like to undo '{0}' across all files?",X.label),buttons:[{label:F({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",Q.editStacks.length),run:()=>q.All},{label:F({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>q.This}],cancelButton:{run:()=>q.Cancel}});if(U===q.Cancel)return;if(U===q.This)return this._splitPastWorkspaceElement(X,null),this._undo($,0,!0);const H=this._checkWorkspaceUndo($,X,Q,!1);if(H)return H.returnValue;Y=!0}let Z;try{Z=yield this._invokeWorkspacePrepare(X)}catch(q){return this._onError(q,X)}const G=this._checkWorkspaceUndo($,X,Q,!0);if(G)return Z.dispose(),G.returnValue;for(let q of Q.editStacks)q.moveBackward(X);return this._safeInvokeWithLocks(X,()=>X.actual.undo(),Q,Z,()=>this._continueUndoInGroup(X.groupId,Y))})}_resourceUndo($,X,Q){if(!X.isValid){$.flushAllElements();return}if($.locked){const Y=F({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",X.label);this._notificationService.warn(Y);return}return this._invokeResourcePrepare(X,(Y)=>{return $.moveBackward(X),this._safeInvokeWithLocks(X,()=>X.actual.undo(),new SA([$]),Y,()=>this._continueUndoInGroup(X.groupId,Q))})}_findClosestUndoElementInGroup($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestPastElement();if(!G)continue;if(G.groupId===$){if(!X||G.groupOrder>X.groupOrder)X=G,Q=Y}}return[X,Q]}_continueUndoInGroup($,X){if(!$)return;const[,Q]=this._findClosestUndoElementInGroup($);if(Q)return this._undo(Q,0,X)}undo($){if($ instanceof R4){const[,X]=this._findClosestUndoElementWithSource($.id);return X?this._undo(X,$.id,!1):void 0}if(typeof $==="string")return this._undo($,0,!1);return this._undo(this.getUriComparisonKey($),0,!1)}_undo($,X=0,Q){if(!this._editStacks.has($))return;const Y=this._editStacks.get($),Z=Y.getClosestPastElement();if(!Z)return;if(Z.groupId){const[q,U]=this._findClosestUndoElementInGroup(Z.groupId);if(Z!==q&&U)return this._undo(U,X,Q)}if((Z.sourceId!==X||Z.confirmBeforeUndo)&&!Q)return this._confirmAndContinueUndo($,X,Z);try{if(Z.type===1)return this._workspaceUndo($,Z,Q);else return this._resourceUndo(Y,Z,Q)}finally{if(BU)this._print("undo")}}_confirmAndContinueUndo($,X,Q){return EA(this,void 0,void 0,function*(){if(!(yield this._dialogService.confirm({message:F("confirmDifferentSource","Would you like to undo '{0}'?",Q.label),primaryButton:F({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:F("confirmDifferentSource.no","No")})).confirmed)return;return this._undo($,X,!0)})}_findClosestRedoElementWithSource($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestFutureElement();if(!G)continue;if(G.sourceId===$){if(!X||G.sourceOrder<X.sourceOrder)X=G,Q=Y}}return[X,Q]}canRedo($){if($ instanceof R4){const[,Q]=this._findClosestRedoElementWithSource($.id);return Q?!0:!1}const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).hasFutureElements();return!1}_tryToSplitAndRedo($,X,Q,Y){if(X.canSplit())return this._splitFutureWorkspaceElement(X,Q),this._notificationService.warn(Y),new JV(this._redo($));else{for(let Z of X.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new JV}}_checkWorkspaceRedo($,X,Q,Y){if(X.removedResources)return this._tryToSplitAndRedo($,X,X.removedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",X.label,X.removedResources.createMessage()));if(Y&&X.invalidatedResources)return this._tryToSplitAndRedo($,X,X.invalidatedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",X.label,X.invalidatedResources.createMessage()));const Z=[];for(let q of Q.editStacks)if(q.getClosestFutureElement()!==X)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",X.label,Z.join(", ")));const G=[];for(let q of Q.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",X.label,G.join(", ")));if(!Q.isValid())return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",X.label));return null}_workspaceRedo($,X){const Q=this._getAffectedEditStacks(X),Y=this._checkWorkspaceRedo($,X,Q,!1);if(Y)return Y.returnValue;return this._executeWorkspaceRedo($,X,Q)}_executeWorkspaceRedo($,X,Q){return EA(this,void 0,void 0,function*(){let Y;try{Y=yield this._invokeWorkspacePrepare(X)}catch(G){return this._onError(G,X)}const Z=this._checkWorkspaceRedo($,X,Q,!0);if(Z)return Y.dispose(),Z.returnValue;for(let G of Q.editStacks)G.moveForward(X);return this._safeInvokeWithLocks(X,()=>X.actual.redo(),Q,Y,()=>this._continueRedoInGroup(X.groupId))})}_resourceRedo($,X){if(!X.isValid){$.flushAllElements();return}if($.locked){const Q=F({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",X.label);this._notificationService.warn(Q);return}return this._invokeResourcePrepare(X,(Q)=>{return $.moveForward(X),this._safeInvokeWithLocks(X,()=>X.actual.redo(),new SA([$]),Q,()=>this._continueRedoInGroup(X.groupId))})}_findClosestRedoElementInGroup($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestFutureElement();if(!G)continue;if(G.groupId===$){if(!X||G.groupOrder<X.groupOrder)X=G,Q=Y}}return[X,Q]}_continueRedoInGroup($){if(!$)return;const[,X]=this._findClosestRedoElementInGroup($);if(X)return this._redo(X)}redo($){if($ instanceof R4){const[,X]=this._findClosestRedoElementWithSource($.id);return X?this._redo(X):void 0}if(typeof $==="string")return this._redo($);return this._redo(this.getUriComparisonKey($))}_redo($){if(!this._editStacks.has($))return;const X=this._editStacks.get($),Q=X.getClosestFutureElement();if(!Q)return;if(Q.groupId){const[Y,Z]=this._findClosestRedoElementInGroup(Q.groupId);if(Q!==Y&&Z)return this._redo(Z)}try{if(Q.type===1)return this._workspaceRedo($,Q);else return this._resourceRedo(X,Q)}finally{if(BU)this._print("redo")}}};OL=N90([$l(0,kA),$l(1,i7)],OL);F1(UU,OL,1)});function U6(J,$,X){return Math.min(Math.max(J,$),X)}class CA{constructor(){this._n=1,this._val=0}update(J){return this._val=this._val+(J-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class TL{constructor(J){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(J),this._values.fill(0,0,J)}update(J){const $=this._values[this._index];if(this._values[this._index]=J,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=J,this._n<this._values.length)this._n+=1;return this._val=this._sum/this._n,this._val}get value(){return this._val}}var jU=N(()=>{});var FU;var xA=N(()=>{e0();FU=O0("environmentService")});function $V(J,$){if(I0.isUri(J))return QX(J.scheme,$);else return m2(J,$+":")}function _L(J,...$){return $.some((X)=>$V(J,X))}function Gl(J){let $=void 0;const X=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(J.fragment);if(X)$={startLineNumber:parseInt(X[1]),startColumn:X[2]?parseInt(X[2]):1,endLineNumber:X[4]?parseInt(X[4]):void 0,endColumn:X[4]?X[5]?parseInt(X[5]):1:void 0},J=J.with({fragment:""});return{selection:$,uri:J}}var IY;var gG=N(()=>{l0();l8();e0();IY=O0("openerService")});class Ul{constructor(J){this._default=J}get(J){return this._default}update(J,$){return this._default}default(){return this._default}}class Hl{constructor(J,$,X,Q,Y,Z){this._logService=J,this._name=$,this._registry=X,this._default=Q,this._min=Y,this._max=Z,this._cache=new TX(50,0.7)}_key(J){return J.id+this._registry.all(J).reduce(($,X)=>PH(bA.of(X),$),0)}get(J){const $=this._key(J),X=this._cache.get($);return X?U6(X.value,this._min,this._max):this.default()}update(J,$){const X=this._key(J);let Q=this._cache.get(X);if(!Q)Q=new TL(6),this._cache.set(X,Q);const Y=U6(Q.update($),this._min,this._max);if(!$V(J.uri,"output"))this._logService.trace(`[DEBOUNCE: ${this._name}] for ${J.uri.toString()} is ${Y}ms`);return Y}_overall(){const J=new CA;for(let[,$]of this._cache)J.update($.value);return J.value}default(){const J=this._overall()|0||this._default;return U6(J,this._min,this._max)}}var T90,ql,LL,bA,wL;var IL=N(()=>{Yq();G4();jU();xA();FJ();e0();M5();gG();T90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},ql=function(J,$){return function(X,Q){$(X,Q,J)}},LL=O0("ILanguageFeatureDebounceService");(function(J){const $=new WeakMap;let X=0;function Q(Y){let Z=$.get(Y);if(Z===void 0)Z=++X,$.set(Y,Z);return Z}J.of=Q})(bA||(bA={}));wL=class J{constructor($,X){this._logService=$,this._data=new Map,this._isDev=X.isExtensionDevelopment||!X.isBuilt}for($,X,Q){var Y,Z,G;const q=(Y=Q===null||Q===void 0?void 0:Q.min)!==null&&Y!==void 0?Y:50,U=(Z=Q===null||Q===void 0?void 0:Q.max)!==null&&Z!==void 0?Z:Math.pow(q,2),H=(G=Q===null||Q===void 0?void 0:Q.key)!==null&&G!==void 0?G:void 0,z=`${bA.of($)},${q}${H?","+H:""}`;let V=this._data.get(z);if(!V){if(!this._isDev)this._logService.debug(`[DEBOUNCE: ${X}] is disabled in developed mode`),V=new Ul(q*1.5);else V=new Hl(this._logService,X,$,this._overallAverage()|0||q*1.5,q,U);this._data.set(z,V)}return V}_overallAverage(){const $=new CA;for(let X of this._data.values())$.update(X.default());return $.value}};wL=T90([ql(0,F7),ql(1,FU)],wL);F1(LL,wL,1)});var zl=N(()=>{W1();u0();IG()});class Vl{constructor(J,$,X,Q){this.tokenTypeIndex=J,this.tokenModifierSet=$,this.languageId=X,this.metadata=Q,this.next=null}}class QQ{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=QQ._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<QQ._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],QQ._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(J,$){for(let X=0;X<$;X++)J[X]=null}_hash2(J,$){return(J<<5)-J+$|0}_hashFunc(J,$,X){return this._hash2(this._hash2(J,$),X)%this._currentLength}get(J,$,X){const Q=this._hashFunc(J,$,X);let Y=this._elements[Q];while(Y){if(Y.tokenTypeIndex===J&&Y.tokenModifierSet===$&&Y.languageId===X)return Y;Y=Y.next}return null}add(J,$,X,Q){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const Y=this._elements;this._currentLengthIndex++,this._currentLength=QQ._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<QQ._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],QQ._nullOutEntries(this._elements,this._currentLength);for(let Z of Y){let G=Z;while(G){const q=G.next;G.next=null,this._add(G),G=q}}}this._add(new Vl(J,$,X,Q))}_add(J){const $=this._hashFunc(J.tokenTypeIndex,J.tokenModifierSet,J.languageId);J.next=this._elements[$],this._elements[$]=J}}var _90,kL,vA;var Wl=N(()=>{jq();X7();M5();zl();E5();_90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},kL=function(J,$){return function(X,Q){$(X,Q,J)}},vA=class J{constructor($,X,Q,Y){this._legend=$,this._themeService=X,this._languageService=Q,this._logService=Y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new QQ}getMetadata($,X,Q){const Y=this._languageService.languageIdCodec.encodeLanguageId(Q),Z=this._hashTable.get($,X,Y);let G;if(Z){if(G=Z.metadata,this._logService.getLevel()===m7.Trace)this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${$} / ${X}: foreground ${l7.getForeground(G)}, fontStyle ${l7.getFontStyle(G).toString(2)}`)}else{let q=this._legend.tokenTypes[$];const U=[];if(q){let H=X;for(let V=0;H>0&&V<this._legend.tokenModifiers.length;V++){if(H&1)U.push(this._legend.tokenModifiers[V]);H=H>>1}if(H>0&&this._logService.getLevel()===m7.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${X.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),U.push("not-in-legend");const z=this._themeService.getColorTheme().getTokenStyleMetadata(q,U,Q);if(typeof z==="undefined")G=2147483647;else{if(G=0,typeof z.italic!=="undefined"){const V=(z.italic?1:0)<<11;G|=V|1}if(typeof z.bold!=="undefined"){const V=(z.bold?2:0)<<11;G|=V|2}if(typeof z.underline!=="undefined"){const V=(z.underline?4:0)<<11;G|=V|4}if(typeof z.strikethrough!=="undefined"){const V=(z.strikethrough?8:0)<<11;G|=V|8}if(z.foreground){const V=z.foreground<<15;G|=V|16}if(G===0)G=2147483647}}else{if(this._logService.getLevel()===m7.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${$} for legend: ${JSON.stringify(this._legend.tokenTypes)}`);G=2147483647,q="not-in-legend"}if(this._hashTable.add($,X,Y,G),this._logService.getLevel()===m7.Trace)this._logService.trace(`SemanticTokensProviderStyling ${$} (${q}) / ${X} (${U.join(" ")}): foreground ${l7.getForeground(G)}, fontStyle ${l7.getFontStyle(G).toString(2)}`)}return G}warnOverlappingSemanticTokens($,X){if(!this._hasWarnedOverlappingTokens)this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${$}, column ${X}`)}warnInvalidLengthSemanticTokens($,X){if(!this._hasWarnedInvalidLengthTokens)this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${$}, column ${X}`)}warnInvalidEditStart($,X,Q,Y,Z){if(!this._hasWarnedInvalidEditStart)this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${$}, resultId: ${X}) at edit #${Q}: The provided start offset ${Y} is outside the previous data (length ${Z}).`)}};vA=_90([kL(1,d8),kL(2,o1),kL(3,F7)],vA);QQ._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});var Bl;var jl=N(()=>{e0();Bl=O0("semanticTokensStylingService")});var w90,EL,yL;var Fl=N(()=>{$0();E5();X7();M5();Wl();jl();FJ();w90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},EL=function(J,$){return function(X,Q){$(X,Q,J)}},yL=class J extends f{constructor($,X,Q){super();this._themeService=$,this._logService=X,this._languageService=Q,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling($){if(!this._caches.has($))this._caches.set($,new vA($.getLegend(),this._themeService,this._languageService,this._logService));return this._caches.get($)}};yL=w90([EL(0,d8),EL(1,F7),EL(2,o1)],yL);F1(Bl,yL,1)});function Dl(J,$){if(!J)return[];const X=[];let Q=!1,Y=!1,Z="";for(let G of J){switch(G){case $:if(!Q&&!Y){X.push(Z),Z="";continue}break;case"{":Q=!0;break;case"}":Q=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Z+=G}if(Z)X.push(Z);return X}function _l(J,$,X){if(!J||typeof $!=="string")return!1;return xL(J)($,void 0,X)}function xL(J,$={}){if(!J)return Ml;if(typeof J==="string"||h90(J)){const X=CL(J,$);if(X===v$)return Ml;const Q=function(Y,Z){return!!X(Y,Z)};if(X.allBasenames)Q.allBasenames=X.allBasenames;if(X.allPaths)Q.allPaths=X.allPaths;return Q}return g90(J,$)}function h90(J){const $=J;if(!$)return!1;return typeof $.base==="string"&&typeof $.pattern==="string"}var Pl,Tl,CL,Ol,SL,x90,b90,v90,Nl,f90,g90,p90,wl,Kl,fA,Al,hA,gA,L90,I90,k90,E90,y90,S90,C90,Rl,Ml,v$;var bL=N(()=>{f1();XA();G4();$X();O1();l0();Pl=function(J,$){switch(J){case 0:return"";case 1:return`${gA}*?`;default:return`(?:${hA}|${gA}+${hA}${$?`|${hA}${gA}+`:""})*?`}};Tl=function(J){if(!J)return"";let $="";const X=Dl(J,Al);if(X.every((Q)=>Q===fA))$=".*";else{let Q=!1;X.forEach((Y,Z)=>{if(Y===fA){if(Q)return;$+=Pl(2,Z===X.length-1)}else{let G=!1,q="",U=!1,H="";for(let z of Y){if(z!=="}"&&G){q+=z;continue}if(U&&(z!=="]"||!H)){let V;if(z==="-")V=z;else if((z==="^"||z==="!")&&!H)V="^";else if(z===Al)V="";else V=r6(z);H+=V;continue}switch(z){case"{":G=!0;continue;case"[":U=!0;continue;case"}":{const W=`(?:${Dl(q,",").map((B)=>Tl(B)).join("|")})`;$+=W,G=!1,q="";break}case"]":{$+="["+H+"]",U=!1,H="";break}case"?":$+=gA;continue;case"*":$+=Pl(1);continue;default:$+=r6(z)}}if(Z<X.length-1&&(X[Z+1]!==fA||Z+2<X.length))$+=hA}Q=Y===fA})}return $},CL=function(J,$){if(!J)return v$;let X;if(typeof J!=="string")X=J.pattern;else X=J;X=X.trim();const Q=`${X}_${!!$.trimForExclusions}`;let Y=Rl.get(Q);if(Y)return Ol(Y,J);let Z;if(I90.test(X))Y=x90(X.substr(4),X);else if(Z=k90.exec(SL(X,$)))Y=b90(Z[1],X);else if(($.trimForExclusions?y90:E90).test(X))Y=v90(X,$);else if(Z=S90.exec(SL(X,$)))Y=Nl(Z[1].substr(1),X,!0);else if(Z=C90.exec(SL(X,$)))Y=Nl(Z[1],X,!1);else Y=f90(X);return Rl.set(Q,Y),Ol(Y,J)},Ol=function(J,$){if(typeof $==="string")return J;const X=function(Q,Y){if(!_z(Q,$.base,!q8))return null;return J(CQ(Q.substr($.base.length),iJ),Y)};return X.allBasenames=J.allBasenames,X.allPaths=J.allPaths,X.basenames=J.basenames,X.patterns=J.patterns,X},SL=function(J,$){return $.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J},x90=function(J,$){return function(X,Q){return typeof X==="string"&&X.endsWith(J)?$:null}},b90=function(J,$){const X=`/${J}`,Q=`\\${J}`,Y=function(G,q){if(typeof G!=="string")return null;if(q)return q===J?$:null;return G===J||G.endsWith(X)||G.endsWith(Q)?$:null},Z=[J];return Y.basenames=Z,Y.patterns=[$],Y.allBasenames=Z,Y},v90=function(J,$){const X=wl(J.slice(1,-1).split(",").map((q)=>CL(q,$)).filter((q)=>q!==v$),J),Q=X.length;if(!Q)return v$;if(Q===1)return X[0];const Y=function(q,U){for(let H=0,z=X.length;H<z;H++)if(X[H](q,U))return J;return null},Z=X.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;const G=X.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y},Nl=function(J,$,X){const Q=iJ===M8.sep,Y=Q?J:J.replace(L90,iJ),Z=iJ+Y,G=M8.sep+J;let q;if(X)q=function(U,H){return typeof U==="string"&&(U===Y||U.endsWith(Z)||!Q&&(U===J||U.endsWith(G)))?$:null};else q=function(U,H){return typeof U==="string"&&(U===Y||!Q&&U===J)?$:null};return q.allPaths=[(X?"*/":"./")+J],q},f90=function(J){try{const $=new RegExp(`^${Tl(J)}\$`);return function(X){return $.lastIndex=0,typeof X==="string"&&$.test(X)?J:null}}catch($){return v$}};g90=function(J,$){const X=wl(Object.getOwnPropertyNames(J).map((q)=>p90(q,J[q],$)).filter((q)=>q!==v$)),Q=X.length;if(!Q)return v$;if(!X.some((q)=>!!q.requiresSiblings)){if(Q===1)return X[0];const q=function(z,V){let W=void 0;for(let B=0,j=X.length;B<j;B++){const K=X[B](z,V);if(typeof K==="string")return K;if(VF(K)){if(!W)W=[];W.push(K)}}if(W)return(()=>Kl(this,void 0,void 0,function*(){for(let B of W){const j=yield B;if(typeof j==="string")return j}return null}))();return null},U=X.find((z)=>!!z.allBasenames);if(U)q.allBasenames=U.allBasenames;const H=X.reduce((z,V)=>V.allPaths?z.concat(V.allPaths):z,[]);if(H.length)q.allPaths=H;return q}const Y=function(q,U,H){let z=void 0,V=void 0;for(let W=0,B=X.length;W<B;W++){const j=X[W];if(j.requiresSiblings&&H){if(!U)U=QJ(q);if(!z)z=U.substr(0,U.length-bC(q).length)}const K=j(q,U,z,H);if(typeof K==="string")return K;if(VF(K)){if(!V)V=[];V.push(K)}}if(V)return(()=>Kl(this,void 0,void 0,function*(){for(let W of V){const B=yield W;if(typeof B==="string")return B}return null}))();return null},Z=X.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;const G=X.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y},p90=function(J,$,X){if($===!1)return v$;const Q=CL(J,X);if(Q===v$)return v$;if(typeof $==="boolean")return Q;if($){const Y=$.when;if(typeof Y==="string"){const Z=(G,q,U,H)=>{if(!H||!Q(G,q))return null;const z=Y.replace("$(basename)",()=>U),V=H(z);return VF(V)?V.then((W)=>W?J:null):V?J:null};return Z.requiresSiblings=!0,Z}}return Q},wl=function(J,$){const X=J.filter((q)=>!!q.basenames);if(X.length<2)return J;const Q=X.reduce((q,U)=>{const H=U.basenames;return H?q.concat(H):q},[]);let Y;if($){Y=[];for(let q=0,U=Q.length;q<U;q++)Y.push($)}else Y=X.reduce((q,U)=>{const H=U.patterns;return H?q.concat(H):q},[]);const Z=function(q,U){if(typeof q!=="string")return null;if(!U){let z;for(z=q.length;z>0;z--){const V=q.charCodeAt(z-1);if(V===47||V===92)break}U=q.substr(z)}const H=Q.indexOf(U);return H!==-1?Y[H]:null};Z.basenames=Q,Z.patterns=Y,Z.allBasenames=Q;const G=J.filter((q)=>!q.basenames);return G.push(Z),G},Kl=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},fA="**",Al="/",hA="[/\\\\]",gA="[^/\\\\]",L90=/\//g,I90=/^\*\*\/\*\.[\w\.-]+$/,k90=/^\*\*\/([\w\.-]+)\/?$/,E90=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,y90=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,S90=/^\*\*((\/[\w\.-]+)+)\/?$/,C90=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Rl=new TX(1e4),Ml=function(){return!1},v$=function(){return null}});function vL(J,$,X,Q,Y,Z){if(Array.isArray(J)){let G=0;for(let q of J){const U=vL(q,$,X,Q,Y,Z);if(U===10)return U;if(U>G)G=U}return G}else if(typeof J==="string"){if(!Q)return 0;if(J==="*")return 5;else if(J===X)return 10;else return 0}else if(J){const{language:G,pattern:q,scheme:U,hasAccessToAllModels:H,notebookType:z}=J;if(!Q&&!H)return 0;if(z&&Y)$=Y;let V=0;if(U)if(U===$.scheme)V=10;else if(U==="*")V=5;else return 0;if(G)if(G===X)V=10;else if(G==="*")V=Math.max(V,5);else return 0;if(z)if(z===Z)V=10;else if(z==="*"&&Z!==void 0)V=Math.max(V,5);else return 0;if(q){let W;if(typeof q==="string")W=q;else W=Object.assign(Object.assign({},q),{base:NB(q.base)});if(W===$.fsPath||_l(W,$.fsPath))V=10;else return 0}return V}else return 0}var Ll=N(()=>{bL();$X()});class fL{constructor(J,$,X,Q){this.uri=J,this.languageId=$,this.notebookUri=X,this.notebookType=Q}equals(J){var $,X;return this.notebookType===J.notebookType&&this.languageId===J.languageId&&this.uri.toString()===J.uri.toString()&&(($=this.notebookUri)===null||$===void 0?void 0:$.toString())===((X=J.notebookUri)===null||X===void 0?void 0:X.toString())}}class L8{constructor(J){this._notebookInfoResolver=J,this._clock=0,this._entries=[],this._onDidChange=new E,this.onDidChange=this._onDidChange.event}register(J,$){let X={selector:J,provider:$,_score:-1,_time:this._clock++};return this._entries.push(X),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),N0(()=>{if(X){const Q=this._entries.indexOf(X);if(Q>=0)this._entries.splice(Q,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),X=void 0}})}has(J){return this.all(J).length>0}all(J){if(!J)return[];this._updateScores(J);const $=[];for(let X of this._entries)if(X._score>0)$.push(X.provider);return $}ordered(J){const $=[];return this._orderedForEach(J,(X)=>$.push(X.provider)),$}orderedGroups(J){const $=[];let X,Q;return this._orderedForEach(J,(Y)=>{if(X&&Q===Y._score)X.push(Y.provider);else Q=Y._score,X=[Y.provider],$.push(X)}),$}_orderedForEach(J,$){this._updateScores(J);for(let X of this._entries)if(X._score>0)$(X)}_updateScores(J){var $,X;const Q=($=this._notebookInfoResolver)===null||$===void 0?void 0:$.call(this,J.uri),Y=Q?new fL(J.uri,J.getLanguageId(),Q.uri,Q.type):new fL(J.uri,J.getLanguageId(),void 0,void 0);if((X=this._lastCandidate)===null||X===void 0?void 0:X.equals(Y))return;this._lastCandidate=Y;for(let Z of this._entries)if(Z._score=vL(Z.selector,Y.uri,Y.languageId,tb(J),Y.notebookUri,Y.notebookType),Il(Z.selector)&&Z._score>0){for(let G of this._entries)G._score=0;Z._score=1000;break}this._entries.sort(L8._compareByScoreAndTime)}static _compareByScoreAndTime(J,$){if(J._score<$._score)return 1;else if(J._score>$._score)return-1;if(XV(J.selector)&&!XV($.selector))return 1;else if(!XV(J.selector)&&XV($.selector))return-1;if(J._time<$._time)return 1;else if(J._time>$._time)return-1;else return 0}}var Il,XV;var kl=N(()=>{A0();$0();PJ();Ll();Il=function(J){if(typeof J==="string")return!1;else if(Array.isArray(J))return J.every(Il);else return!!J.exclusive},XV=function(J){if(typeof J==="string")return!1;if(Array.isArray(J))return J.some(XV);return Boolean(J.isBuiltin)}});class El{constructor(){this.referenceProvider=new L8(this._score.bind(this)),this.renameProvider=new L8(this._score.bind(this)),this.codeActionProvider=new L8(this._score.bind(this)),this.definitionProvider=new L8(this._score.bind(this)),this.typeDefinitionProvider=new L8(this._score.bind(this)),this.declarationProvider=new L8(this._score.bind(this)),this.implementationProvider=new L8(this._score.bind(this)),this.documentSymbolProvider=new L8(this._score.bind(this)),this.inlayHintsProvider=new L8(this._score.bind(this)),this.colorProvider=new L8(this._score.bind(this)),this.codeLensProvider=new L8(this._score.bind(this)),this.documentFormattingEditProvider=new L8(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L8(this._score.bind(this)),this.onTypeFormattingEditProvider=new L8(this._score.bind(this)),this.signatureHelpProvider=new L8(this._score.bind(this)),this.hoverProvider=new L8(this._score.bind(this)),this.documentHighlightProvider=new L8(this._score.bind(this)),this.selectionRangeProvider=new L8(this._score.bind(this)),this.foldingRangeProvider=new L8(this._score.bind(this)),this.linkProvider=new L8(this._score.bind(this)),this.inlineCompletionsProvider=new L8(this._score.bind(this)),this.completionProvider=new L8(this._score.bind(this)),this.linkedEditingRangeProvider=new L8(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L8(this._score.bind(this)),this.documentSemanticTokensProvider=new L8(this._score.bind(this)),this.documentOnDropEditProvider=new L8(this._score.bind(this)),this.documentPasteEditProvider=new L8(this._score.bind(this))}_score(J){var $;return($=this._notebookTypeResolver)===null||$===void 0?void 0:$.call(this,J)}}var yl=N(()=>{kl();Y5();FJ();F1(q1,El,1)});class QV{constructor(J){this.metadata=J}static convert(J){return J.edits.map(($)=>{if(kY.is($))return kY.lift($);if(KU.is($))return KU.lift($);throw new Error("Unsupported edit")})}}class kY extends QV{static is(J){if(J instanceof kY)return!0;return r8(J)&&I0.isUri(J.resource)&&r8(J.textEdit)}static lift(J){if(J instanceof kY)return J;else return new kY(J.resource,J.textEdit,J.versionId,J.metadata)}constructor(J,$,X=void 0,Q){super(Q);this.resource=J,this.textEdit=$,this.versionId=X}}class KU extends QV{static is(J){if(J instanceof KU)return!0;else return r8(J)&&(Boolean(J.newResource)||Boolean(J.oldResource))}static lift(J){if(J instanceof KU)return J;else return new KU(J.oldResource,J.newResource,J.options,J.metadata)}constructor(J,$,X={},Q){super(Q);this.oldResource=J,this.newResource=$,this.options=X}}var Sl;var Cl=N(()=>{e0();l8();j8();Sl=O0("IWorkspaceEditService")});var H6;var hL=N(()=>{H6={enableSplitViewResizing:!0,splitViewDefaultRatio:0.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5000,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}});function bl(J){return xl()[`editor.${J}`]||!1}function vl(J){return xl()[`diffEditor.${J}`]||!1}var u90,xl,m90,mA,pA,c90;var fl=N(()=>{hL();F6();I3();m0();iZ();t6();u90=function(J){return typeof J.type!=="undefined"||typeof J.anyOf!=="undefined"},xl=function(){if(pA===null)pA=Object.create(null),Object.keys(mA.properties).forEach((J)=>{pA[J]=!0});return pA};m90=Object.freeze({id:"editor",order:5,type:"object",title:F("editorConfigurationTitle","Editor"),scope:5}),mA=Object.assign(Object.assign({},m90),{properties:{"editor.tabSize":{type:"number",default:B7.tabSize,minimum:1,markdownDescription:F("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:F("indentSize","The number of spaces used for indentation or `\"tabSize\"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:B7.insertSpaces,markdownDescription:F("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:B7.detectIndentation,markdownDescription:F("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:B7.trimAutoWhitespace,description:F("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:B7.largeFileOptimizations,description:F("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:F("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[F("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),F("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),F("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:F("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[F("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),F("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),F("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme\'s `semanticHighlighting` setting.")],default:"configuredByTheme",description:F("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:F("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:20000,description:F("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:F("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:F("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:H6.maxComputationTime,description:F("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:H6.maxFileSize,description:F("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:H6.renderSideBySide,description:F("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:H6.renderSideBySideInlineBreakpoint,description:F("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:H6.useInlineViewWhenSpaceIsLimited,description:F("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:H6.renderMarginRevertIcon,description:F("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:H6.ignoreTrimWhitespace,description:F("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:H6.renderIndicators,description:F("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:H6.diffCodeLens,description:F("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:H6.diffWordWrap,markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:H6.diffAlgorithm,markdownEnumDescriptions:[F("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),F("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:H6.hideUnchangedRegions.enabled,markdownDescription:F("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:H6.hideUnchangedRegions.revealLineCount,markdownDescription:F("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:H6.hideUnchangedRegions.minimumLineCount,markdownDescription:F("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:H6.hideUnchangedRegions.contextLineCount,markdownDescription:F("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:H6.experimental.showMoves,markdownDescription:F("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:H6.experimental.showEmptyDecorations,description:F("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});for(let J of _Q){const $=J.schema;if(typeof $!=="undefined"){if(u90($))mA.properties[`editor.${J.name}`]=$;else for(let X in $)if(Object.hasOwnProperty.call($,X))mA.properties[X]=$[X]}}pA=null,c90=a1.as(S5.Configuration);c90.registerConfiguration(mA)});class m5{static insert(J,$){return{range:new L(J.lineNumber,J.column,J.lineNumber,J.column),text:$,forceMoveMarkers:!0}}static delete(J){return{range:J,text:null}}static replace(J,$){return{range:J,text:$}}static replaceMove(J,$){return{range:J,text:$,forceMoveMarkers:!0}}}var YV=N(()=>{u0()});class n7{constructor(J={},$=[],X=[],Q){this._contents=J,this._keys=$,this._overrides=X,this.raw=Q,this.overrideConfigurations=new Map}get rawConfiguration(){var J;if(!this._rawConfiguration)if((J=this.raw)===null||J===void 0?void 0:J.length){const $=this.raw.map((X)=>{if(X instanceof n7)return X;const Q=new hl("");return Q.parseRaw(X),Q.configurationModel});this._rawConfiguration=$.reduce((X,Q)=>Q===X?Q:X.merge(Q),$[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(J){return J?DO(this.contents,J):this.contents}inspect(J,$){const X=this.rawConfiguration.getValue(J),Q=$?this.rawConfiguration.getOverrideValue(J,$):void 0,Y=$?this.rawConfiguration.override($).getValue(J):X;return{value:X,override:Q,merged:Y}}getOverrideValue(J,$){const X=this.getContentsForOverrideIdentifer($);return X?J?DO(X,J):X:void 0}override(J){let $=this.overrideConfigurations.get(J);if(!$)$=this.createOverrideConfigurationModel(J),this.overrideConfigurations.set(J,$);return $}merge(...J){var $,X;const Q=u4(this.contents),Y=u4(this.overrides),Z=[...this.keys],G=(($=this.raw)===null||$===void 0?void 0:$.length)?[...this.raw]:[this];for(let q of J){if(G.push(...((X=q.raw)===null||X===void 0?void 0:X.length)?q.raw:[q]),q.isEmpty())continue;this.mergeContents(Q,q.contents);for(let U of q.overrides){const[H]=Y.filter((z)=>$8(z.identifiers,U.identifiers));if(H)this.mergeContents(H.contents,U.contents),H.keys.push(...U.keys),H.keys=o5(H.keys);else Y.push(u4(U))}for(let U of q.keys)if(Z.indexOf(U)===-1)Z.push(U)}return new n7(Q,Z,Y,G.every((q)=>q instanceof n7)?void 0:G)}createOverrideConfigurationModel(J){const $=this.getContentsForOverrideIdentifer(J);if(!$||typeof $!=="object"||!Object.keys($).length)return this;const X={};for(let Q of o5([...Object.keys(this.contents),...Object.keys($)])){let Y=this.contents[Q];const Z=$[Q];if(Z)if(typeof Y==="object"&&typeof Z==="object")Y=u4(Y),this.mergeContents(Y,Z);else Y=Z;X[Q]=Y}return new n7(X,this.keys,this.overrides)}mergeContents(J,$){for(let X of Object.keys($)){if(X in J){if(r8(J[X])&&r8($[X])){this.mergeContents(J[X],$[X]);continue}}J[X]=u4($[X])}}getContentsForOverrideIdentifer(J){let $=null,X=null;const Q=(Y)=>{if(Y)if(X)this.mergeContents(X,Y);else X=u4(Y)};for(let Y of this.overrides)if(Y.identifiers.length===1&&Y.identifiers[0]===J)$=Y.contents;else if(Y.identifiers.includes(J))Q(Y.contents);return Q($),X}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(J,$){this.updateValue(J,$,!0)}setValue(J,$){this.updateValue(J,$,!1)}removeValue(J){const $=this.keys.indexOf(J);if($===-1)return;if(this.keys.splice($,1),Ob(this.contents,J),AX.test(J))this.overrides.splice(this.overrides.findIndex((X)=>$8(X.identifiers,KH(J))),1)}updateValue(J,$,X){if(PO(this.contents,J,$,(Q)=>console.error(Q)),X=X||this.keys.indexOf(J)===-1,X)this.keys.push(J);if(AX.test(J))this.overrides.push({identifiers:KH(J),keys:Object.keys(this.contents[J]),contents:PF(this.contents[J],(Q)=>console.error(Q))})}}class hl{constructor(J){this._name=J,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new n7}parseRaw(J,$){this._raw=J;const{contents:X,keys:Q,overrides:Y,restricted:Z,hasExcludedProperties:G}=this.doParseRaw(J,$);this._configurationModel=new n7(X,Q,Y,G?[J]:void 0),this._restrictedConfigurations=Z||[]}doParseRaw(J,$){const X=a1.as(S5.Configuration).getConfigurationProperties(),Q=this.filter(J,X,!0,$);J=Q.raw;const Y=PF(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`)),Z=Object.keys(J),G=this.toOverrides(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`));return{contents:Y,keys:Z,overrides:G,restricted:Q.restricted,hasExcludedProperties:Q.hasExcludedProperties}}filter(J,$,X,Q){var Y,Z,G;let q=!1;if(!(Q===null||Q===void 0?void 0:Q.scopes)&&!(Q===null||Q===void 0?void 0:Q.skipRestricted)&&!((Y=Q===null||Q===void 0?void 0:Q.exclude)===null||Y===void 0?void 0:Y.length))return{raw:J,restricted:[],hasExcludedProperties:q};const U={},H=[];for(let z in J)if(AX.test(z)&&X){const V=this.filter(J[z],$,!1,Q);U[z]=V.raw,q=q||V.hasExcludedProperties,H.push(...V.restricted)}else{const V=$[z],W=V?typeof V.scope!=="undefined"?V.scope:3:void 0;if(V===null||V===void 0?void 0:V.restricted)H.push(z);if(!((Z=Q.exclude)===null||Z===void 0?void 0:Z.includes(z))&&(((G=Q.include)===null||G===void 0?void 0:G.includes(z))||(W===void 0||Q.scopes===void 0||Q.scopes.includes(W))&&!(Q.skipRestricted&&(V===null||V===void 0?void 0:V.restricted))))U[z]=J[z];else q=!0}return{raw:U,restricted:H,hasExcludedProperties:q}}toOverrides(J,$){const X=[];for(let Q of Object.keys(J))if(AX.test(Q)){const Y={};for(let Z in J[Q])Y[Z]=J[Q][Z];X.push({identifiers:KH(Q),keys:Object.keys(Y),contents:PF(Y,$)})}return X}}class gl{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,W){this.key=J,this.overrides=$,this._value=X,this.overrideIdentifiers=Q,this.defaultConfiguration=Y,this.policyConfiguration=Z,this.applicationConfiguration=G,this.userConfiguration=q,this.localUserConfiguration=U,this.remoteUserConfiguration=H,this.workspaceConfiguration=z,this.folderConfigurationModel=V,this.memoryConfigurationModel=W}inspect(J,$,X){const Q=J.inspect($,X);return{get value(){return gL(Q.value)},get override(){return gL(Q.override)},get merged(){return gL(Q.merged)}}}get userInspectValue(){if(!this._userInspectValue)this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier);return this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class ZV{constructor(J,$,X,Q,Y=new n7,Z=new n7,G=new y7,q=new n7,U=new y7){this._defaultConfiguration=J,this._policyConfiguration=$,this._applicationConfiguration=X,this._localUserConfiguration=Q,this._remoteUserConfiguration=Y,this._workspaceConfiguration=Z,this._folderConfigurations=G,this._memoryConfiguration=q,this._memoryConfigurationByResource=U,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new y7,this._userConfiguration=null}getValue(J,$,X){return this.getConsolidatedConfigurationModel(J,$,X).getValue(J)}updateValue(J,$,X={}){let Q;if(X.resource){if(Q=this._memoryConfigurationByResource.get(X.resource),!Q)Q=new n7,this._memoryConfigurationByResource.set(X.resource,Q)}else Q=this._memoryConfiguration;if($===void 0)Q.removeValue(J);else Q.setValue(J,$);if(!X.resource)this._workspaceConsolidatedConfiguration=null}inspect(J,$,X){const Q=this.getConsolidatedConfigurationModel(J,$,X),Y=this.getFolderConfigurationModelForResource($.resource,X),Z=$.resource?this._memoryConfigurationByResource.get($.resource)||this._memoryConfiguration:this._memoryConfiguration,G=new Set;for(let q of Q.overrides)for(let U of q.identifiers)if(Q.getOverrideValue(J,U)!==void 0)G.add(U);return new gl(J,$,Q.getValue(J),G.size?[...G]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,X?this._workspaceConfiguration:void 0,Y?Y:void 0,Z)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){if(!this._userConfiguration)this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration);return this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(J,$,X){let Q=this.getConsolidatedConfigurationModelForResource($,X);if($.overrideIdentifier)Q=Q.override($.overrideIdentifier);if(!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(J)!==void 0)Q=Q.merge(this._policyConfiguration);return Q}getConsolidatedConfigurationModelForResource({resource:J},$){let X=this.getWorkspaceConsolidatedConfiguration();if($&&J){const Q=$.getFolder(J);if(Q)X=this.getFolderConsolidatedConfiguration(Q.uri)||X;const Y=this._memoryConfigurationByResource.get(J);if(Y)X=X.merge(Y)}return X}getWorkspaceConsolidatedConfiguration(){if(!this._workspaceConsolidatedConfiguration)this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration);return this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(J){let $=this._foldersConsolidatedConfigurations.get(J);if(!$){const X=this.getWorkspaceConsolidatedConfiguration(),Q=this._folderConfigurations.get(J);if(Q)$=X.merge(Q),this._foldersConsolidatedConfigurations.set(J,$);else $=X}return $}getFolderConfigurationModelForResource(J,$){if($&&J){const X=$.getFolder(J);if(X)return this._folderConfigurations.get(X.uri)}return}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((J,$)=>{const{contents:X,overrides:Q,keys:Y}=this._folderConfigurations.get($);return J.push([$,{contents:X,overrides:Q,keys:Y}]),J},[])}}static parse(J){const $=this.parseConfigurationModel(J.defaults),X=this.parseConfigurationModel(J.policy),Q=this.parseConfigurationModel(J.application),Y=this.parseConfigurationModel(J.user),Z=this.parseConfigurationModel(J.workspace),G=J.folders.reduce((q,U)=>{return q.set(I0.revive(U[0]),this.parseConfigurationModel(U[1])),q},new y7);return new ZV($,X,Q,Y,new n7,Z,G,new n7,new y7)}static parseConfigurationModel(J){return new n7(J.contents,J.keys,J.overrides)}}class pL{constructor(J,$,X,Q){this.change=J,this.previous=$,this.currentConfiguraiton=X,this.currentWorkspace=Q,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(let Y of J.keys)this.affectedKeys.add(Y);for(let[,Y]of J.overrides)for(let Z of Y)this.affectedKeys.add(Z);this._affectsConfigStr=this._marker;for(let Y of this.affectedKeys)this._affectsConfigStr+=Y+this._marker}get previousConfiguration(){if(!this._previousConfiguration&&this.previous)this._previousConfiguration=ZV.parse(this.previous.data);return this._previousConfiguration}affectsConfiguration(J,$){var X;const Q=this._marker+J,Y=this._affectsConfigStr.indexOf(Q);if(Y<0)return!1;const Z=Y+Q.length;if(Z>=this._affectsConfigStr.length)return!1;const G=this._affectsConfigStr.charCodeAt(Z);if(G!==this._markerCode1&&G!==this._markerCode2)return!1;if($){const q=this.previousConfiguration?this.previousConfiguration.getValue(J,$,(X=this.previous)===null||X===void 0?void 0:X.workspace):void 0,U=this.currentConfiguraiton.getValue(J,$,this.currentWorkspace);return!L7(q,U)}return!0}}var gL;var mL=N(()=>{V1();G4();U9();j8();l8();y9();iZ();t6();gL=function(J){return Object.isFrozen(J)?J:TS(J)}});class AU{constructor(J,$,X){var Q;this._log=X,this._defaultKeybindings=J,this._defaultBoundCommands=new Map;for(let Y of J){const Z=Y.command;if(Z&&Z.charAt(0)!=="-")this._defaultBoundCommands.set(Z,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=AU.handleRemovals([].concat(J).concat($));for(let Y=0,Z=this._keybindings.length;Y<Z;Y++){const G=this._keybindings[Y];if(G.chords.length===0)continue;const q=(Q=G.when)===null||Q===void 0?void 0:Q.substituteConstants();if(q&&q.type===0)continue;this._addKeyPress(G.chords[0],G)}}static _isTargetedForRemoval(J,$,X){if($){for(let Q=0;Q<$.length;Q++)if($[Q]!==J.chords[Q])return!1}if(X&&X.type!==1){if(!J.when)return!1;if(!jx(X,J.when))return!1}return!0}static handleRemovals(J){const $=new Map;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.command&&Z.command.charAt(0)==="-"){const G=Z.command.substring(1);if(!$.has(G))$.set(G,[Z]);else $.get(G).push(Z)}}if($.size===0)return J;const X=[];for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(!Z.command||Z.command.length===0){X.push(Z);continue}if(Z.command.charAt(0)==="-")continue;const G=$.get(Z.command);if(!G||!Z.isDefault){X.push(Z);continue}let q=!1;for(let U of G){const H=U.when;if(this._isTargetedForRemoval(Z,U.chords,H)){q=!0;break}}if(!q){X.push(Z);continue}}return X}_addKeyPress(J,$){const X=this._map.get(J);if(typeof X==="undefined"){this._map.set(J,[$]),this._addToLookupMap($);return}for(let Q=X.length-1;Q>=0;Q--){const Y=X[Q];if(Y.command===$.command)continue;let Z=!0;for(let G=1;G<Y.chords.length&&G<$.chords.length;G++)if(Y.chords[G]!==$.chords[G]){Z=!1;break}if(!Z)continue;if(AU.whenIsEntirelyIncluded(Y.when,$.when))this._removeFromLookupMap(Y)}X.push($),this._addToLookupMap($)}_addToLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $==="undefined")$=[J],this._lookupMap.set(J.command,$);else $.push(J)}_removeFromLookupMap(J){if(!J.command)return;const $=this._lookupMap.get(J.command);if(typeof $==="undefined")return;for(let X=0,Q=$.length;X<Q;X++)if($[X]===J){$.splice(X,1);return}}static whenIsEntirelyIncluded(J,$){if(!$||$.type===1)return!0;if(!J||J.type===1)return!1;return kj(J,$)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(J,$){const X=this._lookupMap.get(J);if(typeof X==="undefined"||X.length===0)return null;if(X.length===1)return X[0];for(let Q=X.length-1;Q>=0;Q--){const Y=X[Q];if($.contextMatchesRules(Y.when))return Y}return X[X.length-1]}resolve(J,$,X){const Q=[...$,X];this._log(`| Resolving ${Q}`);const Y=this._map.get(Q[0]);if(Y===void 0)return this._log("\\ No keybinding entries."),GV;let Z=null;if(Q.length<2)Z=Y;else{Z=[];for(let q=0,U=Y.length;q<U;q++){const H=Y[q];if(Q.length>H.chords.length)continue;let z=!0;for(let V=1;V<Q.length;V++)if(H.chords[V]!==Q[V]){z=!1;break}if(z)Z.push(H)}}const G=this._findCommand(J,Z);if(!G)return this._log(`\\ From ${Z.length} keybinding entries, no when clauses matched the context.`),GV;if(Q.length<G.chords.length)return this._log(`\\ From ${Z.length} keybinding entries, awaiting ${G.chords.length-Q.length} more chord(s), when: ${pl(G.when)}, source: ${ml(G)}.`),l90;return this._log(`\\ From ${Z.length} keybinding entries, matched ${G.command}, when: ${pl(G.when)}, source: ${ml(G)}.`),d90(G.command,G.commandArgs,G.bubble)}_findCommand(J,$){for(let X=$.length-1;X>=0;X--){const Q=$[X];if(!AU._contextMatchesRules(J,Q.when))continue;return Q}return null}static _contextMatchesRules(J,$){if(!$)return!0;return $.evaluate(J)}}var d90,pl,ml,GV,l90;var uL=N(()=>{s1();d90=function(J,$,X){return{kind:2,commandId:J,commandArgs:$,isBubble:X}},pl=function(J){if(!J)return"no when condition";return`${J.serialize()}`},ml=function(J){return J.extensionId?J.isBuiltinExtension?`built-in extension ${J.extensionId}`:`user extension ${J.extensionId}`:J.isDefault?"built-in":"user"},GV={kind:0},l90={kind:1}});class cL extends f{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Y0.None}get inChordMode(){return this._currentChords.length>0}constructor(J,$,X,Q,Y){super();this._contextKeyService=J,this._commandService=$,this._telemetryService=X,this._notificationService=Q,this._logService=Y,this._onDidUpdateKeybindings=this._register(new E),this._currentChords=[],this._currentChordChecker=new Y$,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=pG.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new M6,this._logging=!1}dispose(){super.dispose()}_log(J){if(this._logging)this._logService.info(`[KeybindingService]: ${J}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(J,$){const X=this._getResolver().lookupPrimaryKeybinding(J,$||this._contextKeyService);if(!X)return;return X.resolvedKeybinding}dispatchEvent(J,$){return this._dispatch(J,$)}softDispatch(J,$){this._log("/ Soft dispatching keyboard event");const X=this.resolveKeyboardEvent(J);if(X.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),GV;const[Q]=X.getDispatchChords();if(Q===null)return this._log("\\ Keyboard event cannot be dispatched"),GV;const Y=this._contextKeyService.getContext($),Z=this._currentChords.map(({keypress:G})=>G);return this._getResolver().resolve(Y,Z,Q)}_scheduleLeaveChordMode(){const J=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}if(Date.now()-J>5000)this._leaveChordMode()},500)}_expectAnotherChord(J,$){switch(this._currentChords.push({keypress:J,label:$}),this._currentChords.length){case 0:throw C2("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(F("first.chord","({0}) was pressed. Waiting for second key of chord...",$));break;default:{const X=this._currentChords.map(({label:Q})=>Q).join(", ");this._currentChordStatusMessage=this._notificationService.status(F("next.chord","({0}) was pressed. Waiting for next key of chord...",X))}}if(this._scheduleLeaveChordMode(),TG.enabled)TG.disable()}_leaveChordMode(){if(this._currentChordStatusMessage)this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null;this._currentChordChecker.cancel(),this._currentChords=[],TG.enable()}_dispatch(J,$){return this._doDispatch(this.resolveKeyboardEvent(J),$,!1)}_singleModifierDispatch(J,$){const X=this.resolveKeyboardEvent(J),[Q]=X.getSingleModifierDispatchChords();if(Q){if(this._ignoreSingleModifiers.has(Q))return this._log(`+ Ignoring single modifier ${Q} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=pG.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1;if(this._ignoreSingleModifiers=pG.EMPTY,this._currentSingleModifier===null)return this._log(`+ Storing single modifier for possible chord ${Q}.`),this._currentSingleModifier=Q,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1;if(Q===this._currentSingleModifier)return this._log(`/ Dispatching single modifier chord ${Q} ${Q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(X,$,!0);return this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${Q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}const[Y]=X.getChords();if(this._ignoreSingleModifiers=new pG(Y),this._currentSingleModifier!==null)this._log("+ Clearing single modifier due to other key up.");return this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(J,$,X=!1){var Q;let Y=!1;if(J.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Z=null,G=null;if(X){const[z]=J.getSingleModifierDispatchChords();Z=z,G=z?[z]:[]}else[Z]=J.getDispatchChords(),G=this._currentChords.map(({keypress:z})=>z);if(Z===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Y;const q=this._contextKeyService.getContext($),U=J.getLabel(),H=this._getResolver().resolve(q,G,Z);switch(H.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",U,"[ No matching keybinding ]"),this.inChordMode){const z=this._currentChords.map(({label:V})=>V).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${z}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",z,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}return Y}case 1:return this._logService.trace("KeybindingService#dispatch",U,"[ Several keybindings match - more chords needed ]"),Y=!0,this._expectAnotherChord(Z,U),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),Y;case 2:{if(this._logService.trace("KeybindingService#dispatch",U,`[ Will dispatch command ${H.commandId} ]`),H.commandId===null||H.commandId===""){if(this.inChordMode){const z=this._currentChords.map(({label:V})=>V).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${z}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",z,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}}else{if(this.inChordMode)this._leaveChordMode();if(!H.isBubble)Y=!0;if(this._log(`+ Invoking command ${H.commandId}.`),typeof H.commandArgs==="undefined")this._commandService.executeCommand(H.commandId).then(void 0,(z)=>this._notificationService.warn(z));else this._commandService.executeCommand(H.commandId,H.commandArgs).then(void 0,(z)=>this._notificationService.warn(z));if(!s90.test(H.commandId))this._telemetryService.publicLog2("workbenchActionExecuted",{id:H.commandId,from:"keybinding",detail:(Q=J.getUserSettingsLabel())!==null&&Q!==void 0?Q:void 0})}return Y}}}mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey)return!1;if(J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30)return!0;return!1}}class pG{constructor(J){this._ctrlKey=J?J.ctrlKey:!1,this._shiftKey=J?J.shiftKey:!1,this._altKey=J?J.altKey:!1,this._metaKey=J?J.metaKey:!1}has(J){switch(J){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}var s90;var ul=N(()=>{f1();A1();A0();FT();$0();m0();uL();s90=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;pG.EMPTY=new pG(null)});function uA(J){const $=[];for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y)return[];$.push(Y)}return $}class cA{constructor(J,$,X,Q,Y,Z,G){if(this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=J,this.chords=J?uA(J.getDispatchChords()):[],J&&this.chords.length===0)this.chords=uA(J.getSingleModifierDispatchChords());this.bubble=$?$.charCodeAt(0)===94:!1,this.command=this.bubble?$.substr(1):$,this.commandArgs=X,this.when=Q,this.isDefault=Y,this.extensionId=Z,this.isBuiltinExtension=G}}var lL=N(()=>{});class qV{constructor(J,$,X=$){this.modifierLabels=[null],this.modifierLabels[2]=J,this.modifierLabels[1]=$,this.modifierLabels[3]=X}toLabel(J,$,X){if($.length===0)return null;const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=X(G);if(q===null)return null;Q[Y]=a90(G,q,this.modifierLabels[J])}return Q.join(" ")}}var a90,PU,cl,ll,dl;var lA=N(()=>{m0();a90=function(J,$,X){if($===null)return"";const Q=[];if(J.ctrlKey)Q.push(X.ctrlKey);if(J.shiftKey)Q.push(X.shiftKey);if(J.altKey)Q.push(X.altKey);if(J.metaKey)Q.push(X.metaKey);if($!=="")Q.push($);return Q.join(X.separator)};PU=new qV({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),cl=new qV({ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:F({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),ll=new qV({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),dl=new qV({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})});class dL extends kM{constructor(J,$){super();if($.length===0)throw rJ("chords");this._os=J,this._chords=$}getLabel(){return PU.toLabel(this._os,this._chords,(J)=>this._getLabel(J))}getAriaLabel(){return cl.toLabel(this._os,this._chords,(J)=>this._getAriaLabel(J))}getElectronAccelerator(){if(this._chords.length>1)return null;if(this._chords[0].isDuplicateModifierCase())return null;return ll.toLabel(this._os,this._chords,(J)=>this._getElectronAccelerator(J))}getUserSettingsLabel(){return dl.toLabel(this._os,this._chords,(J)=>this._getUserSettingsLabel(J))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((J)=>this._getChord(J))}_getChord(J){return new IM(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,this._getLabel(J),this._getAriaLabel(J))}getDispatchChords(){return this._chords.map((J)=>this._getChordDispatch(J))}getSingleModifierDispatchChords(){return this._chords.map((J)=>this._getSingleModifierChordDispatch(J))}}var sl=N(()=>{A1();lA();fZ()});class DU extends dL{constructor(J,$){super($,J)}_keyCodeToUILabel(J){if(this._os===2)switch(J){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return XJ.toString(J)}_getLabel(J){if(J.isDuplicateModifierCase())return"";return this._keyCodeToUILabel(J.keyCode)}_getAriaLabel(J){if(J.isDuplicateModifierCase())return"";return XJ.toString(J.keyCode)}_getElectronAccelerator(J){return XJ.toElectronAccelerator(J.keyCode)}_getUserSettingsLabel(J){if(J.isDuplicateModifierCase())return"";const $=XJ.toUserSettingsUS(J.keyCode);return $?$.toLowerCase():$}_getChordDispatch(J){return DU.getDispatchStr(J)}static getDispatchStr(J){if(J.isModifierKey())return null;let $="";if(J.ctrlKey)$+="ctrl+";if(J.shiftKey)$+="shift+";if(J.altKey)$+="alt+";if(J.metaKey)$+="meta+";return $+=XJ.toString(J.keyCode),$}_getSingleModifierChordDispatch(J){if(J.keyCode===5&&!J.shiftKey&&!J.altKey&&!J.metaKey)return"ctrl";if(J.keyCode===4&&!J.ctrlKey&&!J.altKey&&!J.metaKey)return"shift";if(J.keyCode===6&&!J.ctrlKey&&!J.shiftKey&&!J.metaKey)return"alt";if(J.keyCode===57&&!J.ctrlKey&&!J.shiftKey&&!J.altKey)return"meta";return null}static _scanCodeToKeyCode(J){const $=RB[J];if($!==-1)return $;switch(J){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(J){if(!J)return null;if(J instanceof R5)return J;const $=this._scanCodeToKeyCode(J.scanCode);if($===0)return null;return new R5(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,$)}static resolveKeybinding(J,$){const X=uA(J.chords.map((Q)=>this._toKeyCodeChord(Q)));if(X.length>0)return[new DU(X,$)];return[]}}var al=N(()=>{TZ();fZ();sl();lL()});var UV;var sL=N(()=>{e0();UV=O0("labelService")});class RU{constructor(J,$){this.callback=J,this.report=($===null||$===void 0?void 0:$.async)?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(J){this._value=J,this.callback(this._value)}_reportAsync(J){Promise.resolve(this._lastTask).finally(()=>{this._value=J;const $=this.callback(this._value);this._lastTask=Promise.resolve($).finally(()=>this._lastTask=void 0)})}}var rl,ES0,YQ;var HV=N(()=>{e0();rl=O0("progressService"),ES0=Object.freeze({total(){},worked(){},done(){}});RU.None=Object.freeze({report(){}});YQ=O0("editorProgressService")});class il{constructor(){this._value="",this._pos=0}reset(J){return this._value=J,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(J){const $=J.charCodeAt(0),X=this._value.charCodeAt(this._pos);return $-X}value(){return this._value[this._pos]}}class nl{constructor(J=!0){this._caseSensitive=J}reset(J){return this._value=J,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let J=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(J)this._from++;else break;else J=!1;return this}cmp(J){return this._caseSensitive?Pj(J,this._value,0,J.length,this._from,this._to):p2(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ol{constructor(J=!0,$=!0){this._splitOnBackslash=J,this._caseSensitive=$}reset(J){this._from=0,this._to=0,this._value=J,this._valueLen=J.length;for(let $=J.length-1;$>=0;$--,this._valueLen--){const X=this._value.charCodeAt($);if(!(X===47||this._splitOnBackslash&&X===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let J=!0;for(;this._to<this._valueLen;this._to++){const $=this._value.charCodeAt(this._to);if($===47||this._splitOnBackslash&&$===92)if(J)this._from++;else break;else J=!1}return this}cmp(J){return this._caseSensitive?Pj(J,this._value,0,J.length,this._from,this._to):p2(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class tl{constructor(J,$){this._ignorePathCasing=J,this._ignoreQueryAndFragment=$,this._states=[],this._stateIdx=0}reset(J){if(this._value=J,this._states=[],this._value.scheme)this._states.push(1);if(this._value.authority)this._states.push(2);if(this._value.path){if(this._pathIterator=new ol(!1,!this._ignorePathCasing(J)),this._pathIterator.reset(J.path),this._pathIterator.value())this._states.push(3)}if(!this._ignoreQueryAndFragment(J)){if(this._value.query)this._states.push(4);if(this._value.fragment)this._states.push(5)}return this._stateIdx=0,this}next(){if(this._states[this._stateIdx]===3&&this._pathIterator.hasNext())this._pathIterator.next();else this._stateIdx+=1;return this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(J){if(this._states[this._stateIdx]===1)return g3(J,this._value.scheme);else if(this._states[this._stateIdx]===2)return g3(J,this._value.authority);else if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(J);else if(this._states[this._stateIdx]===4)return h3(J,this._value.query);else if(this._states[this._stateIdx]===5)return h3(J,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;else if(this._states[this._stateIdx]===2)return this._value.authority;else if(this._states[this._stateIdx]===3)return this._pathIterator.value();else if(this._states[this._stateIdx]===4)return this._value.query;else if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class zV{constructor(){this.height=1}rotateLeft(){const J=this.right;return this.right=J.left,J.left=this,this.updateHeight(),J.updateHeight(),J}rotateRight(){const J=this.left;return this.left=J.right,J.right=this,this.updateHeight(),J.updateHeight(),J}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var J,$;return($=(J=this.left)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}get heightRight(){var J,$;return($=(J=this.right)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}}class ZQ{static forUris(J=()=>!1,$=()=>!1){return new ZQ(new tl(J,$))}static forStrings(){return new ZQ(new il)}static forConfigKeys(){return new ZQ(new nl)}constructor(J){this._iter=J}clear(){this._root=void 0}set(J,$){const X=this._iter.reset(J);let Q;if(!this._root)this._root=new zV,this._root.segment=X.value();const Y=[];Q=this._root;while(!0){const G=X.cmp(Q.segment);if(G>0){if(!Q.left)Q.left=new zV,Q.left.segment=X.value();Y.push([-1,Q]),Q=Q.left}else if(G<0){if(!Q.right)Q.right=new zV,Q.right.segment=X.value();Y.push([1,Q]),Q=Q.right}else if(X.hasNext()){if(X.next(),!Q.mid)Q.mid=new zV,Q.mid.segment=X.value();Y.push([0,Q]),Q=Q.mid}else break}const Z=Q.value;Q.value=$,Q.key=J;for(let G=Y.length-1;G>=0;G--){const q=Y[G][1];q.updateHeight();const U=q.balanceFactor();if(U<-1||U>1){const H=Y[G][0],z=Y[G+1][0];if(H===1&&z===1)Y[G][1]=q.rotateLeft();else if(H===-1&&z===-1)Y[G][1]=q.rotateRight();else if(H===1&&z===-1)q.right=Y[G+1][1]=Y[G+1][1].rotateRight(),Y[G][1]=q.rotateLeft();else if(H===-1&&z===1)q.left=Y[G+1][1]=Y[G+1][1].rotateLeft(),Y[G][1]=q.rotateRight();else throw new Error;if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}return Z}get(J){var $;return($=this._getNode(J))===null||$===void 0?void 0:$.value}_getNode(J){const $=this._iter.reset(J);let X=this._root;while(X){const Q=$.cmp(X.segment);if(Q>0)X=X.left;else if(Q<0)X=X.right;else if($.hasNext())$.next(),X=X.mid;else break}return X}has(J){const $=this._getNode(J);return!(($===null||$===void 0?void 0:$.value)===void 0&&($===null||$===void 0?void 0:$.mid)===void 0)}delete(J){return this._delete(J,!1)}deleteSuperstr(J){return this._delete(J,!0)}_delete(J,$){var X;const Q=this._iter.reset(J),Y=[];let Z=this._root;while(Z){const G=Q.cmp(Z.segment);if(G>0)Y.push([-1,Z]),Z=Z.left;else if(G<0)Y.push([1,Z]),Z=Z.right;else if(Q.hasNext())Q.next(),Y.push([0,Z]),Z=Z.mid;else break}if(!Z)return;if($)Z.left=void 0,Z.mid=void 0,Z.right=void 0,Z.height=1;else Z.key=void 0,Z.value=void 0;if(!Z.mid&&!Z.value)if(Z.left&&Z.right){const G=this._min(Z.right);if(G.key){const{key:q,value:U,segment:H}=G;this._delete(G.key,!1),Z.key=q,Z.value=U,Z.segment=H}}else{const G=(X=Z.left)!==null&&X!==void 0?X:Z.right;if(Y.length>0){const[q,U]=Y[Y.length-1];switch(q){case-1:U.left=G;break;case 0:U.mid=G;break;case 1:U.right=G;break}}else this._root=G}for(let G=Y.length-1;G>=0;G--){const q=Y[G][1];q.updateHeight();const U=q.balanceFactor();if(U>1)if(q.right.balanceFactor()>=0)Y[G][1]=q.rotateLeft();else q.right=q.right.rotateRight(),Y[G][1]=q.rotateLeft();else if(U<-1)if(q.left.balanceFactor()<=0)Y[G][1]=q.rotateRight();else q.left=q.left.rotateLeft(),Y[G][1]=q.rotateRight();if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}_min(J){while(J.left)J=J.left;return J}findSubstr(J){const $=this._iter.reset(J);let X=this._root,Q=void 0;while(X){const Y=$.cmp(X.segment);if(Y>0)X=X.left;else if(Y<0)X=X.right;else if($.hasNext())$.next(),Q=X.value||Q,X=X.mid;else break}return X&&X.value||Q}findSuperstr(J){return this._findSuperstrOrElement(J,!1)}_findSuperstrOrElement(J,$){const X=this._iter.reset(J);let Q=this._root;while(Q){const Y=X.cmp(Q.segment);if(Y>0)Q=Q.left;else if(Y<0)Q=Q.right;else if(X.hasNext())X.next(),Q=Q.mid;else if(!Q.mid)if($)return Q.value;else return;else return this._entries(Q.mid)}return}forEach(J){for(let[$,X]of this)J(X,$)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(J){const $=[];return this._dfsEntries(J,$),$[Symbol.iterator]()}_dfsEntries(J,$){if(!J)return;if(J.left)this._dfsEntries(J.left,$);if(J.value)$.push([J.key,J.value]);if(J.mid)this._dfsEntries(J.mid,$);if(J.right)this._dfsEntries(J.right,$)}}var dA=N(()=>{l0()});function sA(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.uri)}function el(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&!sA(J)&&!n90(J)}function Jd(J,$){if(typeof J==="string"||typeof J==="undefined"){if(typeof J==="string")return{id:QJ(J)};if($)return r90;return i90}const X=J;if(X.configuration)return{id:X.id,configPath:X.configuration};if(X.folders.length===1)return{id:X.id,uri:X.folders[0].uri};return{id:X.id}}function n90(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.configPath)}class aL{constructor(J,$){this.raw=$,this.uri=J.uri,this.index=J.index,this.name=J.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var VV,r90,i90,aA,gS0,$d;var rA=N(()=>{m0();$X();dA();l8();e0();VV=O0("contextService"),r90={id:"ext-dev"},i90={id:"empty-window"};aA="code-workspace",gS0=[{name:F("codeWorkspace","Code Workspace"),extensions:[aA]}],$d="4064f6ec-cb38-4ad0-af64-ee6467e63c82"});var Xd,Qd,Yd,Zd,Gd,WV,qd,iA;var rL=N(()=>{m0();(function(J){J.inspectTokensAction=F("inspectTokens","Developer: Inspect Tokens")})(Xd||(Xd={}));(function(J){J.gotoLineActionLabel=F("gotoLineActionLabel","Go to Line/Column...")})(Qd||(Qd={}));(function(J){J.helpQuickAccessActionLabel=F("helpQuickAccess","Show all Quick Access Providers")})(Yd||(Yd={}));(function(J){J.quickCommandActionLabel=F("quickCommandActionLabel","Command Palette"),J.quickCommandHelp=F("quickCommandActionHelp","Show And Run Commands")})(Zd||(Zd={}));(function(J){J.quickOutlineActionLabel=F("quickOutlineActionLabel","Go to Symbol..."),J.quickOutlineByCategoryActionLabel=F("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Gd||(Gd={}));(function(J){J.editorViewAccessibleLabel=F("editorViewAccessibleLabel","Editor content"),J.accessibilityHelpMessage=F("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(WV||(WV={}));(function(J){J.toggleHighContrast=F("toggleHighContrast","Toggle High Contrast Theme")})(qd||(qd={}));(function(J){J.bulkEditServiceSummary=F("bulkEditServiceSummary","Made {0} edits in {1} files")})(iA||(iA={}))});var Ud;var Hd=N(()=>{e0();Ud=O0("workspaceTrustManagementService")});var GQ,f$;var mG=N(()=>{e0();GQ=O0("contextViewService"),f$=O0("contextMenuService")});var M7;var BV=N(()=>{(function(J){function $(Z,G){if(Z.start>=G.end||G.start>=Z.end)return{start:0,end:0};const q=Math.max(Z.start,G.start),U=Math.min(Z.end,G.end);if(U-q<=0)return{start:0,end:0};return{start:q,end:U}}J.intersect=$;function X(Z){return Z.end-Z.start<=0}J.isEmpty=X;function Q(Z,G){return!X($(Z,G))}J.intersects=Q;function Y(Z,G){const q=[],U={start:Z.start,end:Math.min(G.start,Z.end)},H={start:Math.max(G.end,Z.start),end:Z.end};if(!X(U))q.push(U);if(!X(H))q.push(H);return q}J.relativeComplement=Y})(M7||(M7={}))});var zd=N(()=>{j1();F0(".context-view{position:absolute}.context-view.fixed{all:initial;color:inherit;font-family:inherit;font-size:13px;position:fixed}")});function o90(J){const $=J;return!!$&&typeof $.x==="number"&&typeof $.y==="number"}function uG(J,$,X){const Q=X.mode===EY.ALIGN?X.offset:X.offset+X.size,Y=X.mode===EY.ALIGN?X.offset+X.size:X.offset;if(X.position===0){if($<=J-Q)return Q;if($<=Y)return Y-$;return Math.max(J-$,0)}else{if($<=Y)return Y-$;if($<=J-Q)return Q;return 0}}class cG extends f{constructor(J,$){super();this.container=null,this.delegate=null,this.toDisposeOnClean=f.None,this.toDisposeOnSetContainer=f.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=U0(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,I9(this.view),this.setContainer(J,$),this._register(N0(()=>this.setContainer(null,1)))}setContainer(J,$){var X;if(this.container){if(this.toDisposeOnSetContainer.dispose(),this.shadowRoot)this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(X=this.shadowRootHostElement)===null||X===void 0||X.remove(),this.shadowRootHostElement=null;else this.container.removeChild(this.view);this.container=null}if(J){if(this.container=J,this.useFixedPosition=$!==1,this.useShadowDOM=$===3,this.useShadowDOM){this.shadowRootHostElement=U0(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Y=document.createElement("style");Y.textContent=t90,this.shadowRoot.appendChild(Y),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(U0("slot"))}else this.container.appendChild(this.view);const Q=new e;cG.BUBBLE_UP_EVENTS.forEach((Y)=>{Q.add(X8(this.container,Y,(Z)=>{this.onDOMEvent(Z,!1)}))}),cG.BUBBLE_DOWN_EVENTS.forEach((Y)=>{Q.add(X8(this.container,Y,(Z)=>{this.onDOMEvent(Z,!0)},!0))}),this.toDisposeOnSetContainer=Q}}show(J){var $,X;if(this.isVisible())this.hide();E7(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",L9(this.view),this.toDisposeOnClean=J.render(this.view)||f.None,this.delegate=J,this.doLayout(),(X=($=this.delegate).focus)===null||X===void 0||X.call($)}getViewElement(){return this.view}layout(){if(!this.isVisible())return;if(this.delegate.canRelayout===!1&&!(K5&&t3.pointerEvents)){this.hide();return}if(this.delegate.layout)this.delegate.layout();this.doLayout()}doLayout(){if(!this.isVisible())return;const J=this.delegate.getAnchor();let $;if(ZH(J)){const z=u7(J),V=mx(J);$={top:z.top*V,left:z.left*V,width:z.width*V,height:z.height*V}}else if(o90(J))$={top:J.y,left:J.x,width:J.width||1,height:J.height||2};else $={top:J.posy,left:J.posx,width:2,height:2};const X=$q(this.view),Q=YH(this.view),Y=this.delegate.anchorPosition||0,Z=this.delegate.anchorAlignment||0,G=this.delegate.anchorAxisAlignment||0;let q,U;if(G===0){const z={offset:$.top-window.pageYOffset,size:$.height,position:Y===0?0:1},V={offset:$.left,size:$.width,position:Z===0?0:1,mode:EY.ALIGN};if(q=uG(window.innerHeight,Q,z)+window.pageYOffset,M7.intersects({start:q,end:q+Q},{start:z.offset,end:z.offset+z.size}))V.mode=EY.AVOID;U=uG(window.innerWidth,X,V)}else{const z={offset:$.left,size:$.width,position:Z===0?0:1},V={offset:$.top,size:$.height,position:Y===0?0:1,mode:EY.ALIGN};if(U=uG(window.innerWidth,X,z),M7.intersects({start:U,end:U+X},{start:z.offset,end:z.offset+z.size}))V.mode=EY.AVOID;q=uG(window.innerHeight,Q,V)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(Y===0?"bottom":"top"),this.view.classList.add(Z===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const H=u7(this.container);this.view.style.top=`${q-(this.useFixedPosition?u7(this.view).top:H.top)}px`,this.view.style.left=`${U-(this.useFixedPosition?u7(this.view).left:H.left)}px`,this.view.style.width="initial"}hide(J){const $=this.delegate;if(this.delegate=null,$===null||$===void 0?void 0:$.onHide)$.onHide(J);this.toDisposeOnClean.dispose(),I9(this.view)}isVisible(){return!!this.delegate}onDOMEvent(J,$){if(this.delegate){if(this.delegate.onDOMEvent)this.delegate.onDOMEvent(J,document.activeElement);else if($&&!t8(J.target,this.container))this.hide()}}dispose(){this.hide(),super.dispose()}}var EY,t90;var iL=N(()=>{dj();y0();$0();O1();BV();zd();(function(J){J[J.AVOID=0]="AVOID",J[J.ALIGN=1]="ALIGN"})(EY||(EY={}));cG.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];cG.BUBBLE_DOWN_EVENTS=["click"];t90=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`});var e90,J50,nA;var Vd=N(()=>{iL();$0();hG();e90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},J50=function(J,$){return function(X,Q){$(X,Q,J)}},nA=class J extends f{constructor($){super();this.layoutService=$,this.currentViewDisposable=f.None,this.container=$.hasContainer?$.container:null,this.contextView=this._register(new cG(this.container,1)),this.layout(),this._register($.onDidLayout(()=>this.layout()))}setContainer($,X){this.contextView.setContainer($,X||1)}showContextView($,X,Q){if(X){if(X!==this.container||this.shadowRoot!==Q)this.container=X,this.setContainer(X,Q?3:2)}else if(this.layoutService.hasContainer&&this.container!==this.layoutService.container)this.container=this.layoutService.container,this.setContainer(this.container,1);this.shadowRoot=Q,this.contextView.show($);const Y=N0(()=>{if(this.currentViewDisposable===Y)this.hideContextView()});return this.currentViewDisposable=Y,Y}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView($){this.contextView.hide($)}};nA=e90([J50(0,IJ)],nA)});function jV(J,$=!1){$50(J,!1,$)}function jd(){MU=MU.filter((J)=>J.userConfigured),nL=[]}function Fd(J,$){return Q50(J,$).map((X)=>X.id)}var $50,X50,Q50,Wd,Y50,MU,nL,Bd;var Kd=N(()=>{bL();jH();T5();$X();E$();l0();KJ();$50=function(J,$,X){const Q=X50(J,$);if(MU.push(Q),!Q.userConfigured)nL.push(Q);else Bd.push(Q);if(X&&!Q.userConfigured)MU.forEach((Y)=>{if(Y.mime===Q.mime||Y.userConfigured)return;if(Q.extension&&Y.extension===Q.extension)console.warn(`Overwriting extension <<${Q.extension}>> to now point to mime <<${Q.mime}>>`);if(Q.filename&&Y.filename===Q.filename)console.warn(`Overwriting filename <<${Q.filename}>> to now point to mime <<${Q.mime}>>`);if(Q.filepattern&&Y.filepattern===Q.filepattern)console.warn(`Overwriting filepattern <<${Q.filepattern}>> to now point to mime <<${Q.mime}>>`);if(Q.firstline&&Y.firstline===Q.firstline)console.warn(`Overwriting firstline <<${Q.firstline}>> to now point to mime <<${Q.mime}>>`)})},X50=function(J,$){return{id:J.id,mime:J.mime,filename:J.filename,extension:J.extension,filepattern:J.filepattern,firstline:J.firstline,userConfigured:$,filenameLowercase:J.filename?J.filename.toLowerCase():void 0,extensionLowercase:J.extension?J.extension.toLowerCase():void 0,filepatternLowercase:J.filepattern?xL(J.filepattern.toLowerCase()):void 0,filepatternOnPath:J.filepattern?J.filepattern.indexOf(M8.sep)>=0:!1}};Q50=function(J,$){let X;if(J)switch(J.scheme){case o0.file:X=J.fsPath;break;case o0.data:{X=k$.parseMetaData(J).get(k$.META_DATA_LABEL);break}case o0.vscodeNotebookCell:X=void 0;break;default:X=J.path}if(!X)return[{id:"unknown",mime:y5.unknown}];X=X.toLowerCase();const Q=QJ(X),Y=Wd(X,Q,Bd);if(Y)return[Y,{id:P7,mime:y5.text}];const Z=Wd(X,Q,nL);if(Z)return[Z,{id:P7,mime:y5.text}];if($){const G=Y50($);if(G)return[G,{id:P7,mime:y5.text}]}return[{id:"unknown",mime:y5.unknown}]},Wd=function(J,$,X){var Q;let Y=void 0,Z=void 0,G=void 0;for(let q=X.length-1;q>=0;q--){const U=X[q];if($===U.filenameLowercase){Y=U;break}if(U.filepattern){if(!Z||U.filepattern.length>Z.filepattern.length){const H=U.filepatternOnPath?J:$;if((Q=U.filepatternLowercase)===null||Q===void 0?void 0:Q.call(U,H))Z=U}}if(U.extension){if(!G||U.extension.length>G.extension.length){if($.endsWith(U.extensionLowercase))G=U}}}if(Y)return Y;if(Z)return Z;if(G)return G;return},Y50=function(J){if(d2(J))J=J.substr(1);if(J.length>0)for(let $=MU.length-1;$>=0;$--){const X=MU[$];if(!X.firstline)continue;const Q=J.match(X.firstline);if(Q&&Q.length>0)return X}return},MU=[],nL=[],Bd=[]});class Pd{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ad,0),this._register(P7,1),this._nextLanguageId=2}_register(J,$){this._languageIdToLanguage[$]=J,this._languageToLanguageId.set(J,$)}register(J){if(this._languageToLanguageId.has(J))return;const $=this._nextLanguageId++;this._register(J,$)}encodeLanguageId(J){return this._languageToLanguageId.get(J)||0}decodeLanguageId(J){return this._languageIdToLanguage[J]||Ad}}class OU extends f{constructor(J=!0,$=!1){super();if(this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,OU.instanceCount++,this._warnOnOverwrite=$,this.languageIdCodec=new Pd,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},J)this._initializeFromRegistry(),this._register(uQ.onDidChangeLanguages((X)=>{this._initializeFromRegistry()}))}dispose(){OU.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},jd();const J=[].concat(uQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(J)}_registerLanguages(J){for(let $ of J)this._registerLanguage($);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(($)=>{const X=this._languages[$];if(X.name)this._nameMap[X.name]=X.identifier;X.aliases.forEach((Q)=>{this._lowercaseNameMap[Q.toLowerCase()]=X.identifier}),X.mimetypes.forEach((Q)=>{this._mimeTypesMap[Q]=X.identifier})}),a1.as(S5.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(J){const $=J.id;let X;if(oA.call(this._languages,$))X=this._languages[$];else this.languageIdCodec.register($),X={identifier:$,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[$]=X;this._mergeLanguage(X,J)}_mergeLanguage(J,$){const X=$.id;let Q=null;if(Array.isArray($.mimetypes)&&$.mimetypes.length>0)J.mimetypes.push(...$.mimetypes),Q=$.mimetypes[0];if(!Q)Q=`text/x-${X}`,J.mimetypes.push(Q);if(Array.isArray($.extensions)){if($.configuration)J.extensions=$.extensions.concat(J.extensions);else J.extensions=J.extensions.concat($.extensions);for(let G of $.extensions)jV({id:X,mime:Q,extension:G},this._warnOnOverwrite)}if(Array.isArray($.filenames))for(let G of $.filenames)jV({id:X,mime:Q,filename:G},this._warnOnOverwrite),J.filenames.push(G);if(Array.isArray($.filenamePatterns))for(let G of $.filenamePatterns)jV({id:X,mime:Q,filepattern:G},this._warnOnOverwrite);if(typeof $.firstLine==="string"&&$.firstLine.length>0){let G=$.firstLine;if(G.charAt(0)!=="^")G="^"+G;try{const q=new RegExp(G);if(!oC(q))jV({id:X,mime:Q,firstline:q},this._warnOnOverwrite)}catch(q){console.warn(`[${$.id}]: Invalid regular expression \`${G}\`: `,q)}}J.aliases.push(X);let Y=null;if(typeof $.aliases!=="undefined"&&Array.isArray($.aliases))if($.aliases.length===0)Y=[null];else Y=$.aliases;if(Y!==null)for(let G of Y){if(!G||G.length===0)continue;J.aliases.push(G)}const Z=Y!==null&&Y.length>0;if(Z&&Y[0]===null);else{const G=(Z?Y[0]:null)||X;if(Z||!J.name)J.name=G}if($.configuration)J.configurationFiles.push($.configuration);if($.icon)J.icons.push($.icon)}isRegisteredLanguageId(J){if(!J)return!1;return oA.call(this._languages,J)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(J){const $=J.toLowerCase();if(!oA.call(this._lowercaseNameMap,$))return null;return this._lowercaseNameMap[$]}getLanguageIdByMimeType(J){if(!J)return null;if(oA.call(this._mimeTypesMap,J))return this._mimeTypesMap[J];return null}guessLanguageIdByFilepathOrFirstLine(J,$){if(!J&&!$)return[];return Fd(J,$)}}var oA,Ad;var Dd=N(()=>{A0();$0();l0();Kd();KJ();iZ();t6();oA=Object.prototype.hasOwnProperty,Ad="vs.editor.nullLanguage";OU.instanceCount=0});class NU extends f{constructor(J=!1){super();this._onDidRequestBasicLanguageFeatures=this._register(new E),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new E),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new E({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,NU.instanceCount++,this._registry=this._register(new OU(!0,J)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){NU.instanceCount--,super.dispose()}isRegisteredLanguageId(J){return this._registry.isRegisteredLanguageId(J)}getLanguageIdByLanguageName(J){return this._registry.getLanguageIdByLanguageName(J)}getLanguageIdByMimeType(J){return this._registry.getLanguageIdByMimeType(J)}guessLanguageIdByFilepathOrFirstLine(J,$){const X=this._registry.guessLanguageIdByFilepathOrFirstLine(J,$);return YB(X,null)}createById(J){return new oL(this.onDidChange,()=>{return this._createAndGetLanguageIdentifier(J)})}createByFilepathOrFirstLine(J,$){return new oL(this.onDidChange,()=>{const X=this.guessLanguageIdByFilepathOrFirstLine(J,$);return this._createAndGetLanguageIdentifier(X)})}_createAndGetLanguageIdentifier(J){if(!J||!this.isRegisteredLanguageId(J))J=P7;return J}requestBasicLanguageFeatures(J){if(!this._requestedBasicLanguages.has(J))this._requestedBasicLanguages.add(J),this._onDidRequestBasicLanguageFeatures.fire(J)}requestRichLanguageFeatures(J){if(!this._requestedRichLanguages.has(J))this._requestedRichLanguages.add(J),this.requestBasicLanguageFeatures(J),g1.getOrCreate(J),this._onDidRequestRichLanguageFeatures.fire(J)}}class oL{constructor(J,$){this._onDidChangeLanguages=J,this._selector=$,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){if(this._listener)this._listener.dispose(),this._listener=null;if(this._emitter)this._emitter.dispose(),this._emitter=null}get onDidChange(){if(!this._listener)this._listener=this._onDidChangeLanguages(()=>this._evaluate());if(!this._emitter)this._emitter=new E({onDidRemoveLastListener:()=>{this._dispose()}});return this._emitter.event}_evaluate(){var J;const $=this._selector();if($===this.languageId)return;this.languageId=$,(J=this._emitter)===null||J===void 0||J.fire(this.languageId)}}var Rd=N(()=>{A0();$0();Dd();V1();P6();KJ();NU.instanceCount=0});var tA;var tL=N(()=>{jH();tA={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:y5.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}});function Nd(...J){return function($,X){for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q]($,X);if(Z)return Z}return null}}function Z50(J,$){const X=$.toLowerCase().indexOf(J.toLowerCase());if(X===-1)return null;return[{start:X,end:X+J.length}]}function G50(J,$){return JI(J.toLowerCase(),$.toLowerCase(),0,0)}function $P(J){return 65<=J&&J<=90}function Id(J,$){if(!$)return null;if($=$.trim(),$.length===0)return null;if(!W50(J))return null;if($.length>60)return null;const X=H50($);if(!V50(X)){if(!z50(X))return null;$=$.toLowerCase()}let Q=null,Y=0;J=J.toLowerCase();while(Y<$.length&&(Q=$I(J,$,0,Y))===null)Y=Ld($,Y+1);return Q}function ZI(J,$,X=!1){if(typeof J!=="string"||typeof $!=="string")return null;let Q=Md.get(J);if(!Q)Q=new RegExp(nC(J),"i"),Md.set(J,Q);const Y=Q.exec($);if(Y)return[{start:Y.index,end:Y.index+Y[0].length}];return X?j50(J,$):B50(J,$)}function kd(J,$){const X=CY(J,J.toLowerCase(),0,$,$.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return X?GI(X):null}function Ed(J,$,X,Q,Y,Z){const G=Math.min(13,J.length);for(;X<G;X++){const q=CY(J,$,X,Q,Y,Z,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return q}return[0,Z]}function GI(J){if(typeof J==="undefined")return[];const $=[],X=J[1];for(let Q=J.length-1;Q>1;Q--){const Y=J[Q]+X,Z=$[$.length-1];if(Z&&Z.end===Y)Z.end=Y+1;else $.push({start:Y,end:Y+1})}return $}function A50(J,$,X,Q,Y,Z,G=!1){while($<X&&Y<Z){if(J[$]===Q[Y]){if(G)Sd[$]=Y;$+=1}Y+=1}return $===X}function CY(J,$,X,Q,Y,Z,G=lG.default){const q=J.length>SY?SY:J.length,U=Q.length>SY?SY:Q.length;if(X>=q||Z>=U||q-X>U-Z)return;if(!A50($,X,q,Y,Z,U,!0))return;P50(q,U,X,Z,$,Y);let H=1,z=1,V=X,W=Z;const B=[!1];for(H=1,V=X;V<q;H++,V++){const P=Sd[V],R=XI[V],M=V+1<q?XI[V+1]:U;for(z=P-Z+1,W=P;W<M;z++,W++){let T=Number.MIN_SAFE_INTEGER,_=!1;if(W<=R)T=D50(J,$,V,X,Q,Y,W,U,Z,h$[H-1][z-1]===0,B);let w=0;if(T!==Number.MAX_SAFE_INTEGER)_=!0,w=T+yY[H-1][z-1];const x=W>P,C=x?yY[H][z-1]+(h$[H][z-1]>0?-5:0):0,h=W>P+1&&h$[H][z-1]>0,p=h?yY[H][z-2]+(h$[H][z-2]>0?-5:0):0;if(h&&(!x||p>=C)&&(!_||p>=w))yY[H][z]=p,FV[H][z]=3,h$[H][z]=0;else if(x&&(!_||C>=w))yY[H][z]=C,FV[H][z]=2,h$[H][z]=0;else if(_)yY[H][z]=w,FV[H][z]=1,h$[H][z]=h$[H-1][z-1]+1;else throw new Error("not possible")}}if(F50)K50(J,X,Q,Z);if(!B[0]&&!G.firstMatchCanBeWeak)return;H--,z--;const j=[yY[H][z],Z];let K=0,D=0;while(H>=1){let P=z;do{const R=FV[H][P];if(R===3)P=P-2;else if(R===2)P=P-1;else break}while(P>=1);if(K>1&&$[X+H-1]===Y[Z+z-1]&&!JP(P+Z-1,Q,Y)&&K+1>h$[H][P])P=z;if(P===z)K++;else K=1;if(!D)D=P;H--,z=P-1,j.push(z)}if(U===q&&G.boostFullMatch)j[0]+=2;const A=D-q;return j[0]-=A,j}function Cd(J,$,X,Q,Y,Z,G){return R50(J,$,X,Q,Y,Z,!0,G)}class lG{constructor(J,$){this.firstMatchCanBeWeak=J,this.boostFullMatch=$}}var Td,JI,QI,YI,q50,_d,wd,Ld,$I,H50,z50,V50,W50,qI,yd,eL,K50,eA,Od,JP,P50,D50,R50,M50,kC0,KV,U50,B50,j50,Md,SY,Sd,XI,h$,yY,FV,F50,kJ;var xY=N(()=>{G4();l0();Td=function(J,$,X){if(!X||X.length<$.length)return null;let Q;if(J)Q=m2(X,$);else Q=X.indexOf($)===0;if(!Q)return null;return $.length>0?[{start:0,end:$.length}]:[]};JI=function(J,$,X,Q){if(X===J.length)return[];else if(Q===$.length)return null;else{if(J[X]===$[Q]){let Y=null;if(Y=JI(J,$,X+1,Q+1))return wd({start:Q,end:Q+1},Y);return null}return JI(J,$,X,Q+1)}},QI=function(J){return 97<=J&&J<=122};YI=function(J){return 48<=J&&J<=57},q50=function(J){return J===32||J===9||J===10||J===13},_d=function(J){return QI(J)||$P(J)||YI(J)},wd=function(J,$){if($.length===0)$=[J];else if(J.end===$[0].start)$[0].start=J.start;else $.unshift(J);return $},Ld=function(J,$){for(let X=$;X<J.length;X++){const Q=J.charCodeAt(X);if($P(Q)||YI(Q)||X>0&&!_d(J.charCodeAt(X-1)))return X}return J.length},$I=function(J,$,X,Q){if(X===J.length)return[];else if(Q===$.length)return null;else if(J[X]!==$[Q].toLowerCase())return null;else{let Y=null,Z=Q+1;Y=$I(J,$,X+1,Q+1);while(!Y&&(Z=Ld($,Z))<$.length)Y=$I(J,$,X+1,Z),Z++;return Y===null?null:wd({start:Q,end:Q+1},Y)}},H50=function(J){let $=0,X=0,Q=0,Y=0,Z=0;for(let z=0;z<J.length;z++){if(Z=J.charCodeAt(z),$P(Z))$++;if(QI(Z))X++;if(_d(Z))Q++;if(YI(Z))Y++}const G=$/J.length,q=X/J.length,U=Q/J.length,H=Y/J.length;return{upperPercent:G,lowerPercent:q,alphaPercent:U,numericPercent:H}},z50=function(J){const{upperPercent:$,lowerPercent:X}=J;return X===0&&$>0.6},V50=function(J){const{upperPercent:$,lowerPercent:X,alphaPercent:Q,numericPercent:Y}=J;return X>0.2&&$<0.8&&Q>0.6&&Y<0.2},W50=function(J){let $=0,X=0,Q=0,Y=0;for(let Z=0;Z<J.length;Z++){if(Q=J.charCodeAt(Z),$P(Q))$++;if(QI(Q))X++;if(q50(Q))Y++}if(($===0||X===0)&&Y===0)return J.length<=30;else return $<=5};qI=function(){const J=[],$=[];for(let X=0;X<=SY;X++)$[X]=0;for(let X=0;X<=SY;X++)J.push($.slice(0));return J},yd=function(J){const $=[];for(let X=0;X<=J;X++)$[X]=0;return $},eL=function(J,$,X,Q,Y){function Z(q,U,H=" "){while(q.length<U)q=H+q;return q}let G=` |   |${Q.split("").map((q)=>Z(q,3)).join("|")}\n`;for(let q=0;q<=X;q++){if(q===0)G+=" |";else G+=`${$[q-1]}|`;G+=J[q].slice(0,Y+1).map((U)=>Z(U.toString(),3)).join("|")+"\n"}return G},K50=function(J,$,X,Q){J=J.substr($),X=X.substr(Q),console.log(eL(yY,J,J.length,X,X.length)),console.log(eL(FV,J,J.length,X,X.length)),console.log(eL(h$,J,J.length,X,X.length))},eA=function(J,$){if($<0||$>=J.length)return!1;const X=J.codePointAt($);switch(X){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:if(c3(X))return!0;return!1}},Od=function(J,$){if($<0||$>=J.length)return!1;switch(J.charCodeAt($)){case 32:case 9:return!0;default:return!1}},JP=function(J,$,X){return $[J]!==X[J]};P50=function(J,$,X,Q,Y,Z){let G=J-1,q=$-1;while(G>=X&&q>=Q){if(Y[G]===Z[q])XI[G]=q,G--;q--}},D50=function(J,$,X,Q,Y,Z,G,q,U,H,z){if($[X]!==Z[G])return Number.MIN_SAFE_INTEGER;let V=1,W=!1;if(G===X-Q)V=J[X]===Y[G]?7:5;else if(JP(G,Y,Z)&&(G===0||!JP(G-1,Y,Z)))V=J[X]===Y[G]?7:5,W=!0;else if(eA(Z,G)&&(G===0||!eA(Z,G-1)))V=5;else if(eA(Z,G-1)||Od(Z,G-1))V=5,W=!0;if(V>1&&X===Q)z[0]=!0;if(!W)W=JP(G,Y,Z)||eA(Z,G-1)||Od(Z,G-1);if(X===Q){if(G>U)V-=W?3:5}else if(H)V+=W?2:0;else V+=W?0:1;if(G+1===q)V-=W?3:5;return V};R50=function(J,$,X,Q,Y,Z,G,q){let U=CY(J,$,X,Q,Y,Z,q);if(U&&!G)return U;if(J.length>=3){const H=Math.min(7,J.length-1);for(let z=X+1;z<H;z++){const V=M50(J,z);if(V){const W=CY(V,V.toLowerCase(),X,Q,Y,Z,q);if(W){if(W[0]-=3,!U||W[0]>U[0])U=W}}}}return U},M50=function(J,$){if($+1>=J.length)return;const X=J[$],Q=J[$+1];if(X===Q)return;return J.slice(0,$)+Q+X+J.slice($+2)},kC0=Td.bind(void 0,!1),KV=Td.bind(void 0,!0),U50=new Set;'()[]{}<>`\'"-/;:,.?!'.split("").forEach((J)=>U50.add(J.charCodeAt(0)));B50=Nd(KV,Id,Z50),j50=Nd(KV,Id,G50),Md=new TX(1e4),SY=128,Sd=yd(2*SY),XI=yd(2*SY),h$=qI(),yY=qI(),FV=qI(),F50=!1;(function(J){J.Default=[-100,0];function $(X){return!X||X.length===2&&X[0]===-100&&X[1]===0}J.isDefault=$})(kJ||(kJ={}));lG.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}});function xd(J){return J.replace(N50,($,X)=>X?$:`\\${$}`)}function bd(J){return J.replace(T50,($)=>`\\${$}`)}function XP(J){if(J.indexOf(O50)===-1)return J;return J.replace(_50,($,X,Q,Y)=>Q?$:X||Y||"")}function vd(J){if(!J)return"";return J.replace(/\$\((.*?)\)/g,($,X)=>` ${X} `).trim()}function TU(J){UI.lastIndex=0;let $="";const X=[];let Q=0;while(!0){const Y=UI.lastIndex,Z=UI.exec(J),G=J.substring(Y,Z===null||Z===void 0?void 0:Z.index);if(G.length>0){$+=G;for(let q=0;q<G.length;q++)X.push(Q)}if(!Z)break;Q+=Z[0].length}return{text:$,iconOffsets:X}}function QP(J,$,X=!1){const{text:Q,iconOffsets:Y}=$;if(!Y||Y.length===0)return ZI(J,Q,X);const Z=CQ(Q," "),G=Q.length-Z.length,q=ZI(J,Z,X);if(q)for(let U of q){const H=Y[U.start+G]+G;U.start+=H,U.end+=H}return q}var O50,HI,N50,T50,_50,UI;var _U=N(()=>{xY();l0();k7();O50="$(",HI=new RegExp(`\\\$\\(${C0.iconNameExpression}(?:${C0.iconModifierExpression})?\\)`,"g"),N50=new RegExp(`(\\\\)?${HI.source}`,"g"),T50=new RegExp(`\\\\${HI.source}`,"g"),_50=new RegExp(`(\\s)?(\\\\)?${HI.source}(\\s)?`,"g"),UI=new RegExp(`\\\$\\(${C0.iconNameCharacter}+\\)`,"g")});function wU(J){if(J instanceof bY)return!0;else if(J&&typeof J==="object")return typeof J.value==="string"&&(typeof J.isTrusted==="boolean"||typeof J.isTrusted==="object"||J.isTrusted===void 0)&&(typeof J.supportThemeIcons==="boolean"||J.supportThemeIcons===void 0);return!1}function fd(J,$){if(J===$)return!0;else if(!J||!$)return!1;else return J.value===$.value&&J.isTrusted===$.isTrusted&&J.supportThemeIcons===$.supportThemeIcons&&J.supportHtml===$.supportHtml&&(J.baseUri===$.baseUri||!!J.baseUri&&!!$.baseUri&&ju(I0.from(J.baseUri),I0.from($.baseUri)))}function w50(J){return J.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function AV(J){return J.replace(/"/g,"&quot;")}function YP(J){if(!J)return J;return J.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function hd(J){const $=[],X=J.split("|").map((Y)=>Y.trim());J=X[0];const Q=X[1];if(Q){const Y=/height=(\d+)/.exec(Q),Z=/width=(\d+)/.exec(Q),G=Y?Y[1]:"",q=Z?Z[1]:"",U=isFinite(parseInt(q)),H=isFinite(parseInt(G));if(U)$.push(`width="${q}"`);if(H)$.push(`height="${G}"`)}return{href:J,dimensions:$}}class bY{constructor(J="",$=!1){var X,Q,Y;if(this.value=J,typeof this.value!=="string")throw rJ("value");if(typeof $==="boolean")this.isTrusted=$,this.supportThemeIcons=!1,this.supportHtml=!1;else this.isTrusted=(X=$.isTrusted)!==null&&X!==void 0?X:void 0,this.supportThemeIcons=(Q=$.supportThemeIcons)!==null&&Q!==void 0?Q:!1,this.supportHtml=(Y=$.supportHtml)!==null&&Y!==void 0?Y:!1}appendText(J,$=0){return this.value+=w50(this.supportThemeIcons?xd(J):J).replace(/([ \t]+)/g,(X,Q)=>"&nbsp;".repeat(Q.length)).replace(/\>/gm,"\\>").replace(/\n/g,$===1?"\\\n":"\n\n"),this}appendMarkdown(J){return this.value+=J,this}appendCodeblock(J,$){return this.value+="\n```",this.value+=J,this.value+="\n",this.value+=$,this.value+="\n```\n",this}appendLink(J,$,X){if(this.value+="[",this.value+=this._escape($,"]"),this.value+="](",this.value+=this._escape(String(J),")"),X)this.value+=` "${this._escape(this._escape(X,'"'),")")}"`;return this.value+=")",this}_escape(J,$){const X=new RegExp(r6($),"g");return J.replace(X,(Q,Y)=>{if(J.charAt(Y-1)!=="\\")return`\\${Q}`;else return Q})}}var dG=N(()=>{A1();_U();E$();l0();l8()});function gd(J,$){if(Z7($))J.title=XP($);else if($===null||$===void 0?void 0:$.markdownNotSupportedFallback)J.title=$.markdownNotSupportedFallback;else J.removeAttribute("title")}function ZP(J,$,X,Q){let Y,Z;const G=(V,W)=>{var B;const j=Z!==void 0;if(V)Z===null||Z===void 0||Z.dispose(),Z=void 0;if(W)Y===null||Y===void 0||Y.dispose(),Y=void 0;if(j)(B=J.onDidHideHover)===null||B===void 0||B.call(J)},q=(V,W,B)=>{return new M6(()=>zI(this,void 0,void 0,function*(){if(!Z||Z.isDisposed)Z=new pd(J,B||$,V>0),yield Z.update(X,W,Q)}),V)},U=()=>{if(Y)return;const V=new e,W=(K)=>G(!1,K.fromElement===$);V.add(l($,G0.MOUSE_LEAVE,W,!0));const B=()=>G(!0,!0);V.add(l($,G0.MOUSE_DOWN,B,!0));const j={targetElements:[$],dispose:()=>{}};if(J.placement===void 0||J.placement==="mouse"){const K=(D)=>{if(j.x=D.x+10,D.target instanceof HTMLElement&&D.target.classList.contains("action-label"))G(!0,!0)};V.add(l($,G0.MOUSE_MOVE,K,!0))}V.add(q(J.delay,!1,j)),Y=V},H=l($,G0.MOUSE_OVER,U,!0);return{show:(V)=>{G(!1,!0),q(0,V)},hide:()=>{G(!0,!0)},update:(V,W)=>zI(this,void 0,void 0,function*(){X=V,yield Z===null||Z===void 0?void 0:Z.update(X,void 0,W)}),dispose:()=>{H.dispose(),G(!0,!0)}}}class pd{constructor(J,$,X){this.hoverDelegate=J,this.target=$,this.fadeInAnimation=X}update(J,$,X){var Q;return zI(this,void 0,void 0,function*(){if(this._cancellationTokenSource)this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0;if(this.isDisposed)return;let Y;if(J===void 0||Z7(J)||J instanceof HTMLElement)Y=J;else if(!L2(J.markdown))Y=(Q=J.markdown)!==null&&Q!==void 0?Q:J.markdownNotSupportedFallback;else{if(!this._hoverWidget)this.show(F("iconLabel.loading","Loading..."),$);this._cancellationTokenSource=new u8;const Z=this._cancellationTokenSource.token;if(Y=yield J.markdown(Z),Y===void 0)Y=J.markdownNotSupportedFallback;if(this.isDisposed||Z.isCancellationRequested)return}this.show(Y,$,X)})}show(J,$,X){const Q=this._hoverWidget;if(this.hasContent(J)){const Y=Object.assign({content:J,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!Q},X);this._hoverWidget=this.hoverDelegate.showHover(Y,$)}Q===null||Q===void 0||Q.dispose()}hasContent(J){if(!J)return!1;if(wU(J))return!!J.value;return!0}get isDisposed(){var J;return(J=this._hoverWidget)===null||J===void 0?void 0:J.isDisposed}dispose(){var J,$;(J=this._hoverWidget)===null||J===void 0||J.dispose(),($=this._cancellationTokenSource)===null||$===void 0||$.dispose(!0),this._cancellationTokenSource=void 0}}var zI;var VI=N(()=>{y0();f1();v7();dG();_U();$0();j8();m0();zI=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});function md(J,$={}){const X=GP($);return X.textContent=J,X}function ud(J,$={}){const X=GP($);return ld(X,L50(J,!!$.renderCodeSegments),$.actionHandler,$.renderCodeSegments),X}function GP(J){const $=J.inline?"span":"div",X=document.createElement($);if(J.className)X.className=J.className;return X}class cd{constructor(J){this.source=J,this.index=0}eos(){return this.index>=this.source.length}next(){const J=this.peek();return this.advance(),J}peek(){return this.source[this.index]}advance(){this.index++}}var ld,L50,I50,WI;var BI=N(()=>{y0();ld=function(J,$,X,Q){let Y;if($.type===2)Y=document.createTextNode($.content||"");else if($.type===3)Y=document.createElement("b");else if($.type===4)Y=document.createElement("i");else if($.type===7&&Q)Y=document.createElement("code");else if($.type===5&&X){const Z=document.createElement("a");X.disposables.add(X8(Z,"click",(G)=>{X.callback(String($.index),G)})),Y=Z}else if($.type===8)Y=document.createElement("br");else if($.type===1)Y=J;if(Y&&J!==Y)J.appendChild(Y);if(Y&&Array.isArray($.children))$.children.forEach((Z)=>{ld(Y,Z,X,Q)})},L50=function(J,$){const X={type:1,children:[]};let Q=0,Y=X;const Z=[],G=new cd(J);while(!G.eos()){let q=G.next();const U=q==="\\"&&WI(G.peek(),$)!==0;if(U)q=G.next();if(!U&&I50(q,$)&&q===G.peek()){if(G.advance(),Y.type===2)Y=Z.pop();const H=WI(q,$);if(Y.type===H||Y.type===5&&H===6)Y=Z.pop();else{const z={type:H,children:[]};if(H===5)z.index=Q,Q++;Y.children.push(z),Z.push(Y),Y=z}}else if(q==="\n"){if(Y.type===2)Y=Z.pop();Y.children.push({type:8})}else if(Y.type!==2){const H={type:2,content:q};Y.children.push(H),Z.push(Y),Y=H}else Y.content+=q}if(Y.type===2)Y=Z.pop();if(Z.length);return X},I50=function(J,$){return WI(J,$)!==0},WI=function(J,$){switch(J){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return $?7:0;default:return 0}}});function EJ(J){const $=new Array;let X,Q=0,Y=0;while((X=k50.exec(J))!==null){if(Y=X.index||0,Q<Y)$.push(J.substring(Q,Y));Q=(X.index||0)+X[0].length;const[,Z,G]=X;$.push(Z?`\$(${G})`:qP({id:G}))}if(Q<J.length)$.push(J.substring(Q));return $}function qP(J){const $=U0("span");return $.classList.add(...C0.asClassNameArray(J)),$}var k50;var LU=N(()=>{y0();k7();k50=new RegExp(`(\\\\)?\\\$\\((${C0.iconNameExpression}(?:${C0.iconModifierExpression})?)\\)`,"g")});class UP{constructor(J){this._prefix=J,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}var jI;var FI=N(()=>{jI=new UP("id#")});var KI={};m4(KI,{walkTokens:()=>{{return l50}},use:()=>{{return c50}},setOptions:()=>{{return u50}},parser:()=>{{return m50}},parseInline:()=>{{return p50}},parse:()=>{{return g50}},options:()=>{{return h50}},marked:()=>{{return yJ}},lexer:()=>{{return f50}},getDefaults:()=>{{return v50}},Tokenizer:()=>{{return b50}},TextRenderer:()=>{{return x50}},Slugger:()=>{{return C50}},Renderer:()=>{{return S50}},Parser:()=>{{return y50}},Lexer:()=>{{return E50}}});var dd=N(()=>{var X9={};(function(){function J($,X){X(X9)}J.amd=!0,function($,X){typeof J==="function"&&J.amd?J(["exports"],X):typeof KI==="object"&&typeof d50!=="undefined"?X(KI):($=typeof globalThis!=="undefined"?globalThis:$||self,X($.marked={}))}(this,function($){function X(i,s){for(var d=0;d<s.length;d++){var I=s[d];if(I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I)I.writable=!0;Object.defineProperty(i,I.key,I)}}function Q(i,s,d){if(s)X(i.prototype,s);if(d)X(i,d);return Object.defineProperty(i,"prototype",{writable:!1}),i}function Y(i,s){if(!i)return;if(typeof i==="string")return Z(i,s);var d=Object.prototype.toString.call(i).slice(8,-1);if(d==="Object"&&i.constructor)d=i.constructor.name;if(d==="Map"||d==="Set")return Array.from(i);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Z(i,s)}function Z(i,s){if(s==null||s>i.length)s=i.length;for(var d=0,I=new Array(s);d<s;d++)I[d]=i[d];return I}function G(i,s){var d=typeof Symbol!=="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(d)return(d=d.call(i)).next.bind(d);if(Array.isArray(i)||(d=Y(i))||s&&i&&typeof i.length==="number"){if(d)i=d;var I=0;return function(){if(I>=i.length)return{done:!0};return{done:!1,value:i[I++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=q();function U(i){$.defaults=i}var H=/[&<>"']/,z=/[&<>"']/g,V=/[<>"']|&(?!#?\w+;)/,W=/[<>"']|&(?!#?\w+;)/g,B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j=function i(s){return B[s]};function K(i,s){if(s){if(H.test(i))return i.replace(z,j)}else if(V.test(i))return i.replace(W,j);return i}var D=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function A(i){return i.replace(D,function(s,d){if(d=d.toLowerCase(),d==="colon")return":";if(d.charAt(0)==="#")return d.charAt(1)==="x"?String.fromCharCode(parseInt(d.substring(2),16)):String.fromCharCode(+d.substring(1));return""})}var P=/(^|[^\[])\^/g;function R(i,s){i=typeof i==="string"?i:i.source,s=s||"";var d={replace:function I(y,g){return g=g.source||g,g=g.replace(P,"$1"),i=i.replace(y,g),d},getRegex:function I(){return new RegExp(i,s)}};return d}var M=/[^\w:]/g,T=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(i,s,d){if(i){var I;try{I=decodeURIComponent(A(d)).replace(M,"").toLowerCase()}catch(y){return null}if(I.indexOf("javascript:")===0||I.indexOf("vbscript:")===0||I.indexOf("data:")===0)return null}if(s&&!T.test(d))d=p(s,d);try{d=encodeURI(d).replace(/%25/g,"%")}catch(y){return null}return d}var w={},x=/^[^:]+:\/*[^/]*$/,C=/^([^:]+:)[\s\S]*$/,h=/^([^:]+:\/*[^/]*)[\s\S]*$/;function p(i,s){if(!w[" "+i])if(x.test(i))w[" "+i]=i+"/";else w[" "+i]=Q0(i,"/",!0);i=w[" "+i];var d=i.indexOf(":")===-1;if(s.substring(0,2)==="//"){if(d)return s;return i.replace(C,"$1")+s}else if(s.charAt(0)==="/"){if(d)return s;return i.replace(h,"$1")+s}else return i+s}var r={exec:function i(){}};function m(i){var s=1,d,I;for(;s<arguments.length;s++){d=arguments[s];for(I in d)if(Object.prototype.hasOwnProperty.call(d,I))i[I]=d[I]}return i}function c(i,s){var d=i.replace(/\|/g,function(g,v,n){var j0=!1,L0=v;while(--L0>=0&&n[L0]==="\\")j0=!j0;if(j0)return"|";else return" |"}),I=d.split(/ \|/),y=0;if(!I[0].trim())I.shift();if(I.length>0&&!I[I.length-1].trim())I.pop();if(I.length>s)I.splice(s);else while(I.length<s)I.push("");for(;y<I.length;y++)I[y]=I[y].trim().replace(/\\\|/g,"|");return I}function Q0(i,s,d){var I=i.length;if(I===0)return"";var y=0;while(y<I){var g=i.charAt(I-y-1);if(g===s&&!d)y++;else if(g!==s&&d)y++;else break}return i.slice(0,I-y)}function K0(i,s){if(i.indexOf(s[1])===-1)return-1;var d=i.length,I=0,y=0;for(;y<d;y++)if(i[y]==="\\")y++;else if(i[y]===s[0])I++;else if(i[y]===s[1]){if(I--,I<0)return y}return-1}function B0(i){if(i&&i.sanitize&&!i.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P0(i,s){if(s<1)return"";var d="";while(s>1){if(s&1)d+=i;s>>=1,i+=i}return d+i}function H0(i,s,d,I){var y=s.href,g=s.title?K(s.title):null,v=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){I.state.inLink=!0;var n={type:"link",raw:d,href:y,title:g,text:v,tokens:I.inlineTokens(v)};return I.state.inLink=!1,n}return{type:"image",raw:d,href:y,title:g,text:K(v)}}function s0(i,s){var d=i.match(/^(\s+)(?:```)/);if(d===null)return s;var I=d[1];return s.split("\n").map(function(y){var g=y.match(/^\s+/);if(g===null)return y;var v=g[0];if(v.length>=I.length)return y.slice(I.length);return y}).join("\n")}var k0=function(){function i(d){this.options=d||$.defaults}var s=i.prototype;return s.space=function d(I){var y=this.rules.block.newline.exec(I);if(y&&y[0].length>0)return{type:"space",raw:y[0]}},s.code=function d(I){var y=this.rules.block.code.exec(I);if(y){var g=y[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:y[0],codeBlockStyle:"indented",text:!this.options.pedantic?Q0(g,"\n"):g}}},s.fences=function d(I){var y=this.rules.block.fences.exec(I);if(y){var g=y[0],v=s0(g,y[3]||"");return{type:"code",raw:g,lang:y[2]?y[2].trim():y[2],text:v}}},s.heading=function d(I){var y=this.rules.block.heading.exec(I);if(y){var g=y[2].trim();if(/#$/.test(g)){var v=Q0(g,"#");if(this.options.pedantic)g=v.trim();else if(!v||/ $/.test(v))g=v.trim()}return{type:"heading",raw:y[0],depth:y[1].length,text:g,tokens:this.lexer.inline(g)}}},s.hr=function d(I){var y=this.rules.block.hr.exec(I);if(y)return{type:"hr",raw:y[0]}},s.blockquote=function d(I){var y=this.rules.block.blockquote.exec(I);if(y){var g=y[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:y[0],tokens:this.lexer.blockTokens(g,[]),text:g}}},s.list=function d(I){var y=this.rules.block.list.exec(I);if(y){var g,v,n,j0,L0,E0,Y1,$1,i1,l1,c0,x8,b8=y[1].trim(),r5=b8.length>1,S1={type:"list",raw:"",ordered:r5,start:r5?+b8.slice(0,-1):"",loose:!1,items:[]};if(b8=r5?"\\d{1,9}\\"+b8.slice(-1):"\\"+b8,this.options.pedantic)b8=r5?b8:"[*+-]";var Y7=new RegExp("^( {0,3}"+b8+")((?:[\t ][^\\n]*)?(?:\\n|$))");while(I){if(x8=!1,!(y=Y7.exec(I)))break;if(this.rules.block.hr.test(I))break;if(g=y[0],I=I.substring(g.length),$1=y[2].split("\n",1)[0],i1=I.split("\n",1)[0],this.options.pedantic)j0=2,c0=$1.trimLeft();else j0=y[2].search(/[^ ]/),j0=j0>4?1:j0,c0=$1.slice(j0),j0+=y[1].length;if(E0=!1,!$1&&/^ *$/.test(i1))g+=i1+"\n",I=I.substring(i1.length+1),x8=!0;if(!x8){var HZ=new RegExp("^ {0,"+Math.min(3,j0-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),zZ=new RegExp("^ {0,"+Math.min(3,j0-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),uJ=new RegExp("^ {0,"+Math.min(3,j0-1)+"}(?:```|~~~)"),DQ=new RegExp("^ {0,"+Math.min(3,j0-1)+"}#");while(I){if(l1=I.split("\n",1)[0],$1=l1,this.options.pedantic)$1=$1.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(uJ.test($1))break;if(DQ.test($1))break;if(HZ.test($1))break;if(zZ.test(I))break;if($1.search(/[^ ]/)>=j0||!$1.trim())c0+="\n"+$1.slice(j0);else if(!E0)c0+="\n"+$1;else break;if(!E0&&!$1.trim())E0=!0;g+=l1+"\n",I=I.substring(l1.length+1)}}if(!S1.loose){if(Y1)S1.loose=!0;else if(/\n *\n *$/.test(g))Y1=!0}if(this.options.gfm){if(v=/^\[[ xX]\] /.exec(c0),v)n=v[0]!=="[ ] ",c0=c0.replace(/^\[[ xX]\] +/,"")}S1.items.push({type:"list_item",raw:g,task:!!v,checked:n,loose:!1,text:c0}),S1.raw+=g}S1.items[S1.items.length-1].raw=g.trimRight(),S1.items[S1.items.length-1].text=c0.trimRight(),S1.raw=S1.raw.trimRight();var VZ=S1.items.length;for(L0=0;L0<VZ;L0++){this.lexer.state.top=!1,S1.items[L0].tokens=this.lexer.blockTokens(S1.items[L0].text,[]);var WZ=S1.items[L0].tokens.filter(function(BZ){return BZ.type==="space"}),_2=WZ.every(function(BZ){var ER=BZ.raw.split(""),g4=0;for(var D3=G(ER),R3;!(R3=D3()).done;){var oW=R3.value;if(oW==="\n")g4+=1;if(g4>1)return!0}return!1});if(!S1.loose&&WZ.length&&_2)S1.loose=!0,S1.items[L0].loose=!0}return S1}},s.html=function d(I){var y=this.rules.block.html.exec(I);if(y){var g={type:"html",raw:y[0],pre:!this.options.sanitizer&&(y[1]==="pre"||y[1]==="script"||y[1]==="style"),text:y[0]};if(this.options.sanitize){var v=this.options.sanitizer?this.options.sanitizer(y[0]):K(y[0]);g.type="paragraph",g.text=v,g.tokens=this.lexer.inline(v)}return g}},s.def=function d(I){var y=this.rules.block.def.exec(I);if(y){if(y[3])y[3]=y[3].substring(1,y[3].length-1);var g=y[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:g,raw:y[0],href:y[2],title:y[3]}}},s.table=function d(I){var y=this.rules.block.table.exec(I);if(y){var g={type:"table",header:c(y[1]).map(function(Y1){return{text:Y1}}),align:y[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:y[3]&&y[3].trim()?y[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(g.header.length===g.align.length){g.raw=y[0];var v=g.align.length,n,j0,L0,E0;for(n=0;n<v;n++)if(/^ *-+: *$/.test(g.align[n]))g.align[n]="right";else if(/^ *:-+: *$/.test(g.align[n]))g.align[n]="center";else if(/^ *:-+ *$/.test(g.align[n]))g.align[n]="left";else g.align[n]=null;v=g.rows.length;for(n=0;n<v;n++)g.rows[n]=c(g.rows[n],g.header.length).map(function(Y1){return{text:Y1}});v=g.header.length;for(j0=0;j0<v;j0++)g.header[j0].tokens=this.lexer.inline(g.header[j0].text);v=g.rows.length;for(j0=0;j0<v;j0++){E0=g.rows[j0];for(L0=0;L0<E0.length;L0++)E0[L0].tokens=this.lexer.inline(E0[L0].text)}return g}}},s.lheading=function d(I){var y=this.rules.block.lheading.exec(I);if(y)return{type:"heading",raw:y[0],depth:y[2].charAt(0)==="="?1:2,text:y[1],tokens:this.lexer.inline(y[1])}},s.paragraph=function d(I){var y=this.rules.block.paragraph.exec(I);if(y){var g=y[1].charAt(y[1].length-1)==="\n"?y[1].slice(0,-1):y[1];return{type:"paragraph",raw:y[0],text:g,tokens:this.lexer.inline(g)}}},s.text=function d(I){var y=this.rules.block.text.exec(I);if(y)return{type:"text",raw:y[0],text:y[0],tokens:this.lexer.inline(y[0])}},s.escape=function d(I){var y=this.rules.inline.escape.exec(I);if(y)return{type:"escape",raw:y[0],text:K(y[1])}},s.tag=function d(I){var y=this.rules.inline.tag.exec(I);if(y){if(!this.lexer.state.inLink&&/^<a /i.test(y[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(y[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(y[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(y[0]))this.lexer.state.inRawBlock=!1;return{type:this.options.sanitize?"text":"html",raw:y[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(y[0]):K(y[0]):y[0]}}},s.link=function d(I){var y=this.rules.inline.link.exec(I);if(y){var g=y[2].trim();if(!this.options.pedantic&&/^</.test(g)){if(!/>$/.test(g))return;var v=Q0(g.slice(0,-1),"\\");if((g.length-v.length)%2===0)return}else{var n=K0(y[2],"()");if(n>-1){var j0=y[0].indexOf("!")===0?5:4,L0=j0+y[1].length+n;y[2]=y[2].substring(0,n),y[0]=y[0].substring(0,L0).trim(),y[3]=""}}var E0=y[2],Y1="";if(this.options.pedantic){var $1=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(E0);if($1)E0=$1[1],Y1=$1[3]}else Y1=y[3]?y[3].slice(1,-1):"";if(E0=E0.trim(),/^</.test(E0))if(this.options.pedantic&&!/>$/.test(g))E0=E0.slice(1);else E0=E0.slice(1,-1);return H0(y,{href:E0?E0.replace(this.rules.inline._escapes,"$1"):E0,title:Y1?Y1.replace(this.rules.inline._escapes,"$1"):Y1},y[0],this.lexer)}},s.reflink=function d(I,y){var g;if((g=this.rules.inline.reflink.exec(I))||(g=this.rules.inline.nolink.exec(I))){var v=(g[2]||g[1]).replace(/\s+/g," ");if(v=y[v.toLowerCase()],!v||!v.href){var n=g[0].charAt(0);return{type:"text",raw:n,text:n}}return H0(g,v,g[0],this.lexer)}},s.emStrong=function d(I,y,g){if(g===void 0)g="";var v=this.rules.inline.emStrong.lDelim.exec(I);if(!v)return;if(v[3]&&g.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))return;var n=v[1]||v[2]||"";if(!n||n&&(g===""||this.rules.inline.punctuation.exec(g))){var j0=v[0].length-1,L0,E0,Y1=j0,$1=0,i1=v[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;i1.lastIndex=0,y=y.slice(-1*I.length+j0);while((v=i1.exec(y))!=null){if(L0=v[1]||v[2]||v[3]||v[4]||v[5]||v[6],!L0)continue;if(E0=L0.length,v[3]||v[4]){Y1+=E0;continue}else if(v[5]||v[6]){if(j0%3&&!((j0+E0)%3)){$1+=E0;continue}}if(Y1-=E0,Y1>0)continue;if(E0=Math.min(E0,E0+Y1+$1),Math.min(j0,E0)%2){var l1=I.slice(1,j0+v.index+E0);return{type:"em",raw:I.slice(0,j0+v.index+E0+1),text:l1,tokens:this.lexer.inlineTokens(l1)}}var c0=I.slice(2,j0+v.index+E0-1);return{type:"strong",raw:I.slice(0,j0+v.index+E0+1),text:c0,tokens:this.lexer.inlineTokens(c0)}}}},s.codespan=function d(I){var y=this.rules.inline.code.exec(I);if(y){var g=y[2].replace(/\n/g," "),v=/[^ ]/.test(g),n=/^ /.test(g)&&/ $/.test(g);if(v&&n)g=g.substring(1,g.length-1);return g=K(g,!0),{type:"codespan",raw:y[0],text:g}}},s.br=function d(I){var y=this.rules.inline.br.exec(I);if(y)return{type:"br",raw:y[0]}},s.del=function d(I){var y=this.rules.inline.del.exec(I);if(y)return{type:"del",raw:y[0],text:y[2],tokens:this.lexer.inlineTokens(y[2])}},s.autolink=function d(I,y){var g=this.rules.inline.autolink.exec(I);if(g){var v,n;if(g[2]==="@")v=K(this.options.mangle?y(g[1]):g[1]),n="mailto:"+v;else v=K(g[1]),n=v;return{type:"link",raw:g[0],text:v,href:n,tokens:[{type:"text",raw:v,text:v}]}}},s.url=function d(I,y){var g;if(g=this.rules.inline.url.exec(I)){var v,n;if(g[2]==="@")v=K(this.options.mangle?y(g[0]):g[0]),n="mailto:"+v;else{var j0;do j0=g[0],g[0]=this.rules.inline._backpedal.exec(g[0])[0];while(j0!==g[0]);if(v=K(g[0]),g[1]==="www.")n="http://"+v;else n=v}return{type:"link",raw:g[0],text:v,href:n,tokens:[{type:"text",raw:v,text:v}]}}},s.inlineText=function d(I,y){var g=this.rules.inline.text.exec(I);if(g){var v;if(this.lexer.state.inRawBlock)v=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(g[0]):K(g[0]):g[0];else v=K(this.options.smartypants?y(g[0]):g[0]);return{type:"text",raw:g[0],text:v}}},i}(),w0={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:r,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};w0._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,w0._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,w0.def=R(w0.def).replace("label",w0._label).replace("title",w0._title).getRegex(),w0.bullet=/(?:[*+-]|\d{1,9}[.)])/,w0.listItemStart=R(/^( *)(bull) */).replace("bull",w0.bullet).getRegex(),w0.list=R(w0.list).replace(/bull/g,w0.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+w0.def.source+")").getRegex(),w0._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w0._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,w0.html=R(w0.html,"i").replace("comment",w0._comment).replace("tag",w0._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w0.paragraph=R(w0._paragraph).replace("hr",w0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w0._tag).getRegex(),w0.blockquote=R(w0.blockquote).replace("paragraph",w0.paragraph).getRegex(),w0.normal=m({},w0),w0.gfm=m({},w0.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),w0.gfm.table=R(w0.gfm.table).replace("hr",w0.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w0._tag).getRegex(),w0.gfm.paragraph=R(w0._paragraph).replace("hr",w0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",w0.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",w0._tag).getRegex(),w0.pedantic=m({},w0.normal,{html:R('^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace("comment",w0._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:r,paragraph:R(w0.normal._paragraph).replace("hr",w0.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",w0.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q0={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};q0._punctuation='!"#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~',q0.punctuation=R(q0.punctuation).replace(/punctuation/g,q0._punctuation).getRegex(),q0.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,q0.escapedEmSt=/\\\*|\\_/g,q0._comment=R(w0._comment).replace("(?:-->|$)","-->").getRegex(),q0.emStrong.lDelim=R(q0.emStrong.lDelim).replace(/punct/g,q0._punctuation).getRegex(),q0.emStrong.rDelimAst=R(q0.emStrong.rDelimAst,"g").replace(/punct/g,q0._punctuation).getRegex(),q0.emStrong.rDelimUnd=R(q0.emStrong.rDelimUnd,"g").replace(/punct/g,q0._punctuation).getRegex(),q0._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q0._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q0._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q0.autolink=R(q0.autolink).replace("scheme",q0._scheme).replace("email",q0._email).getRegex(),q0._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q0.tag=R(q0.tag).replace("comment",q0._comment).replace("attribute",q0._attribute).getRegex(),q0._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q0._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,q0._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q0.link=R(q0.link).replace("label",q0._label).replace("href",q0._href).replace("title",q0._title).getRegex(),q0.reflink=R(q0.reflink).replace("label",q0._label).replace("ref",w0._label).getRegex(),q0.nolink=R(q0.nolink).replace("ref",w0._label).getRegex(),q0.reflinkSearch=R(q0.reflinkSearch,"g").replace("reflink",q0.reflink).replace("nolink",q0.nolink).getRegex(),q0.normal=m({},q0),q0.pedantic=m({},q0.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",q0._label).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q0._label).getRegex()}),q0.gfm=m({},q0.normal,{escape:R(q0.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),q0.gfm.url=R(q0.gfm.url,"i").replace("email",q0.gfm._extended_email).getRegex(),q0.breaks=m({},q0.gfm,{br:R(q0.br).replace("{2,}","*").getRegex(),text:R(q0.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function a8(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function B6(i){var s="",d,I,y=i.length;for(d=0;d<y;d++){if(I=i.charCodeAt(d),Math.random()>0.5)I="x"+I.toString(16);s+="&#"+I+";"}return s}var N7=function(){function i(d){this.tokens=[],this.tokens.links=Object.create(null),this.options=d||$.defaults,this.options.tokenizer=this.options.tokenizer||new k0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var I={block:w0.normal,inline:q0.normal};if(this.options.pedantic)I.block=w0.pedantic,I.inline=q0.pedantic;else if(this.options.gfm)if(I.block=w0.gfm,this.options.breaks)I.inline=q0.breaks;else I.inline=q0.gfm;this.tokenizer.rules=I}i.lex=function d(I,y){var g=new i(y);return g.lex(I)},i.lexInline=function d(I,y){var g=new i(y);return g.inlineTokens(I)};var s=i.prototype;return s.lex=function d(I){I=I.replace(/\r\n|\r/g,"\n"),this.blockTokens(I,this.tokens);var y;while(y=this.inlineQueue.shift())this.inlineTokens(y.src,y.tokens);return this.tokens},s.blockTokens=function d(I,y){var g=this;if(y===void 0)y=[];if(this.options.pedantic)I=I.replace(/\t/g,"    ").replace(/^ +$/gm,"");else I=I.replace(/^( *)(\t+)/gm,function(Y1,$1,i1){return $1+"    ".repeat(i1.length)});var v,n,j0,L0;while(I){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Y1){if(v=Y1.call({lexer:g},I,y))return I=I.substring(v.raw.length),y.push(v),!0;return!1}))continue;if(v=this.tokenizer.space(I)){if(I=I.substring(v.raw.length),v.raw.length===1&&y.length>0)y[y.length-1].raw+="\n";else y.push(v);continue}if(v=this.tokenizer.code(I)){if(I=I.substring(v.raw.length),n=y[y.length-1],n&&(n.type==="paragraph"||n.type==="text"))n.raw+="\n"+v.raw,n.text+="\n"+v.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text;else y.push(v);continue}if(v=this.tokenizer.fences(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.heading(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.hr(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.blockquote(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.list(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.html(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.def(I)){if(I=I.substring(v.raw.length),n=y[y.length-1],n&&(n.type==="paragraph"||n.type==="text"))n.raw+="\n"+v.raw,n.text+="\n"+v.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text;else if(!this.tokens.links[v.tag])this.tokens.links[v.tag]={href:v.href,title:v.title};continue}if(v=this.tokenizer.table(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.lheading(I)){I=I.substring(v.raw.length),y.push(v);continue}if(j0=I,this.options.extensions&&this.options.extensions.startBlock)(function(){var Y1=Infinity,$1=I.slice(1),i1=void 0;if(g.options.extensions.startBlock.forEach(function(l1){if(i1=l1.call({lexer:this},$1),typeof i1==="number"&&i1>=0)Y1=Math.min(Y1,i1)}),Y1<Infinity&&Y1>=0)j0=I.substring(0,Y1+1)})();if(this.state.top&&(v=this.tokenizer.paragraph(j0))){if(n=y[y.length-1],L0&&n.type==="paragraph")n.raw+="\n"+v.raw,n.text+="\n"+v.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text;else y.push(v);L0=j0.length!==I.length,I=I.substring(v.raw.length);continue}if(v=this.tokenizer.text(I)){if(I=I.substring(v.raw.length),n=y[y.length-1],n&&n.type==="text")n.raw+="\n"+v.raw,n.text+="\n"+v.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text;else y.push(v);continue}if(I){var E0="Infinite loop on byte: "+I.charCodeAt(0);if(this.options.silent){console.error(E0);break}else throw new Error(E0)}}return this.state.top=!0,y},s.inline=function d(I,y){if(y===void 0)y=[];return this.inlineQueue.push({src:I,tokens:y}),y},s.inlineTokens=function d(I,y){var g=this;if(y===void 0)y=[];var v,n,j0,L0=I,E0,Y1,$1;if(this.tokens.links){var i1=Object.keys(this.tokens.links);if(i1.length>0){while((E0=this.tokenizer.rules.inline.reflinkSearch.exec(L0))!=null)if(i1.includes(E0[0].slice(E0[0].lastIndexOf("[")+1,-1)))L0=L0.slice(0,E0.index)+"["+P0("a",E0[0].length-2)+"]"+L0.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((E0=this.tokenizer.rules.inline.blockSkip.exec(L0))!=null)L0=L0.slice(0,E0.index)+"["+P0("a",E0[0].length-2)+"]"+L0.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((E0=this.tokenizer.rules.inline.escapedEmSt.exec(L0))!=null)L0=L0.slice(0,E0.index)+"++"+L0.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);while(I){if(!Y1)$1="";if(Y1=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(c0){if(v=c0.call({lexer:g},I,y))return I=I.substring(v.raw.length),y.push(v),!0;return!1}))continue;if(v=this.tokenizer.escape(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.tag(I)){if(I=I.substring(v.raw.length),n=y[y.length-1],n&&v.type==="text"&&n.type==="text")n.raw+=v.raw,n.text+=v.text;else y.push(v);continue}if(v=this.tokenizer.link(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.reflink(I,this.tokens.links)){if(I=I.substring(v.raw.length),n=y[y.length-1],n&&v.type==="text"&&n.type==="text")n.raw+=v.raw,n.text+=v.text;else y.push(v);continue}if(v=this.tokenizer.emStrong(I,L0,$1)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.codespan(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.br(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.del(I)){I=I.substring(v.raw.length),y.push(v);continue}if(v=this.tokenizer.autolink(I,B6)){I=I.substring(v.raw.length),y.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(I,B6))){I=I.substring(v.raw.length),y.push(v);continue}if(j0=I,this.options.extensions&&this.options.extensions.startInline)(function(){var c0=Infinity,x8=I.slice(1),b8=void 0;if(g.options.extensions.startInline.forEach(function(r5){if(b8=r5.call({lexer:this},x8),typeof b8==="number"&&b8>=0)c0=Math.min(c0,b8)}),c0<Infinity&&c0>=0)j0=I.substring(0,c0+1)})();if(v=this.tokenizer.inlineText(j0,a8)){if(I=I.substring(v.raw.length),v.raw.slice(-1)!=="_")$1=v.raw.slice(-1);if(Y1=!0,n=y[y.length-1],n&&n.type==="text")n.raw+=v.raw,n.text+=v.text;else y.push(v);continue}if(I){var l1="Infinite loop on byte: "+I.charCodeAt(0);if(this.options.silent){console.error(l1);break}else throw new Error(l1)}}return y},Q(i,null,[{key:"rules",get:function d(){return{block:w0,inline:q0}}}]),i}(),E1=function(){function i(d){this.options=d||$.defaults}var s=i.prototype;return s.code=function d(I,y,g){var v=(y||"").match(/\S*/)[0];if(this.options.highlight){var n=this.options.highlight(I,v);if(n!=null&&n!==I)g=!0,I=n}if(I=I.replace(/\n$/,"")+"\n",!v)return"<pre><code>"+(g?I:K(I,!0))+"</code></pre>\n";return'<pre><code class="'+this.options.langPrefix+K(v,!0)+'">'+(g?I:K(I,!0))+"</code></pre>\n"},s.blockquote=function d(I){return"<blockquote>\n"+I+"</blockquote>\n"},s.html=function d(I){return I},s.heading=function d(I,y,g,v){if(this.options.headerIds){var n=this.options.headerPrefix+v.slug(g);return"<h"+y+" id=\""+n+"\">"+I+"</h"+y+">\n"}return"<h"+y+">"+I+"</h"+y+">\n"},s.hr=function d(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.list=function d(I,y,g){var v=y?"ol":"ul",n=y&&g!==1?' start="'+g+'"':"";return"<"+v+n+">\n"+I+"</"+v+">\n"},s.listitem=function d(I){return"<li>"+I+"</li>\n"},s.checkbox=function d(I){return"<input "+(I?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.paragraph=function d(I){return"<p>"+I+"</p>\n"},s.table=function d(I,y){if(y)y="<tbody>"+y+"</tbody>";return"<table>\n<thead>\n"+I+"</thead>\n"+y+"</table>\n"},s.tablerow=function d(I){return"<tr>\n"+I+"</tr>\n"},s.tablecell=function d(I,y){var g=y.header?"th":"td",v=y.align?"<"+g+" align=\""+y.align+"\">":"<"+g+">";return v+I+("</"+g+">\n")},s.strong=function d(I){return"<strong>"+I+"</strong>"},s.em=function d(I){return"<em>"+I+"</em>"},s.codespan=function d(I){return"<code>"+I+"</code>"},s.br=function d(){return this.options.xhtml?"<br/>":"<br>"},s.del=function d(I){return"<del>"+I+"</del>"},s.link=function d(I,y,g){if(I=_(this.options.sanitize,this.options.baseUrl,I),I===null)return g;var v='<a href="'+K(I)+'"';if(y)v+=' title="'+y+'"';return v+=">"+g+"</a>",v},s.image=function d(I,y,g){if(I=_(this.options.sanitize,this.options.baseUrl,I),I===null)return g;var v="<img src=\""+I+"\" alt=\""+g+"\"";if(y)v+=" title=\""+y+"\"";return v+=this.options.xhtml?"/>":">",v},s.text=function d(I){return I},i}(),V7=function(){function i(){}var s=i.prototype;return s.strong=function d(I){return I},s.em=function d(I){return I},s.codespan=function d(I){return I},s.del=function d(I){return I},s.html=function d(I){return I},s.text=function d(I){return I},s.link=function d(I,y,g){return""+g},s.image=function d(I,y,g){return""+g},s.br=function d(){return""},i}(),s5=function(){function i(){this.seen={}}var s=i.prototype;return s.serialize=function d(I){return I.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},s.getNextSafeSlug=function d(I,y){var g=I,v=0;if(this.seen.hasOwnProperty(g)){v=this.seen[I];do v++,g=I+"-"+v;while(this.seen.hasOwnProperty(g))}if(!y)this.seen[I]=v,this.seen[g]=0;return g},s.slug=function d(I,y){if(y===void 0)y={};var g=this.serialize(I);return this.getNextSafeSlug(g,y.dryrun)},i}(),J6=function(){function i(d){this.options=d||$.defaults,this.options.renderer=this.options.renderer||new E1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new V7,this.slugger=new s5}i.parse=function d(I,y){var g=new i(y);return g.parse(I)},i.parseInline=function d(I,y){var g=new i(y);return g.parseInline(I)};var s=i.prototype;return s.parse=function d(I,y){if(y===void 0)y=!0;var g="",v,n,j0,L0,E0,Y1,$1,i1,l1,c0,x8,b8,r5,S1,Y7,HZ,zZ,uJ,DQ,VZ=I.length;for(v=0;v<VZ;v++){if(c0=I[v],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c0.type]){if(DQ=this.options.extensions.renderers[c0.type].call({parser:this},c0),DQ!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c0.type)){g+=DQ||"";continue}}switch(c0.type){case"space":continue;case"hr":{g+=this.renderer.hr();continue}case"heading":{g+=this.renderer.heading(this.parseInline(c0.tokens),c0.depth,A(this.parseInline(c0.tokens,this.textRenderer)),this.slugger);continue}case"code":{g+=this.renderer.code(c0.text,c0.lang,c0.escaped);continue}case"table":{i1="",$1="",L0=c0.header.length;for(n=0;n<L0;n++)$1+=this.renderer.tablecell(this.parseInline(c0.header[n].tokens),{header:!0,align:c0.align[n]});i1+=this.renderer.tablerow($1),l1="",L0=c0.rows.length;for(n=0;n<L0;n++){Y1=c0.rows[n],$1="",E0=Y1.length;for(j0=0;j0<E0;j0++)$1+=this.renderer.tablecell(this.parseInline(Y1[j0].tokens),{header:!1,align:c0.align[j0]});l1+=this.renderer.tablerow($1)}g+=this.renderer.table(i1,l1);continue}case"blockquote":{l1=this.parse(c0.tokens),g+=this.renderer.blockquote(l1);continue}case"list":{x8=c0.ordered,b8=c0.start,r5=c0.loose,L0=c0.items.length,l1="";for(n=0;n<L0;n++){if(Y7=c0.items[n],HZ=Y7.checked,zZ=Y7.task,S1="",Y7.task)if(uJ=this.renderer.checkbox(HZ),r5)if(Y7.tokens.length>0&&Y7.tokens[0].type==="paragraph"){if(Y7.tokens[0].text=uJ+" "+Y7.tokens[0].text,Y7.tokens[0].tokens&&Y7.tokens[0].tokens.length>0&&Y7.tokens[0].tokens[0].type==="text")Y7.tokens[0].tokens[0].text=uJ+" "+Y7.tokens[0].tokens[0].text}else Y7.tokens.unshift({type:"text",text:uJ});else S1+=uJ;S1+=this.parse(Y7.tokens,r5),l1+=this.renderer.listitem(S1,zZ,HZ)}g+=this.renderer.list(l1,x8,b8);continue}case"html":{g+=this.renderer.html(c0.text);continue}case"paragraph":{g+=this.renderer.paragraph(this.parseInline(c0.tokens));continue}case"text":{l1=c0.tokens?this.parseInline(c0.tokens):c0.text;while(v+1<VZ&&I[v+1].type==="text")c0=I[++v],l1+="\n"+(c0.tokens?this.parseInline(c0.tokens):c0.text);g+=y?this.renderer.paragraph(l1):l1;continue}default:{var WZ='Token with "'+c0.type+'" type was not found.';if(this.options.silent){console.error(WZ);return}else throw new Error(WZ)}}}return g},s.parseInline=function d(I,y){y=y||this.renderer;var g="",v,n,j0,L0=I.length;for(v=0;v<L0;v++){if(n=I[v],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]){if(j0=this.options.extensions.renderers[n.type].call({parser:this},n),j0!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type)){g+=j0||"";continue}}switch(n.type){case"escape":{g+=y.text(n.text);break}case"html":{g+=y.html(n.text);break}case"link":{g+=y.link(n.href,n.title,this.parseInline(n.tokens,y));break}case"image":{g+=y.image(n.href,n.title,n.text);break}case"strong":{g+=y.strong(this.parseInline(n.tokens,y));break}case"em":{g+=y.em(this.parseInline(n.tokens,y));break}case"codespan":{g+=y.codespan(n.text);break}case"br":{g+=y.br();break}case"del":{g+=y.del(this.parseInline(n.tokens,y));break}case"text":{g+=y.text(n.text);break}default:{var E0='Token with "'+n.type+'" type was not found.';if(this.options.silent){console.error(E0);return}else throw new Error(E0)}}}return g},i}();function t0(i,s,d){if(typeof i==="undefined"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof s==="function")d=s,s=null;if(s=m({},t0.defaults,s||{}),B0(s),d){var I=s.highlight,y;try{y=N7.lex(i,s)}catch(L0){return d(L0)}var g=function L0(E0){var Y1;if(!E0)try{if(s.walkTokens)t0.walkTokens(y,s.walkTokens);Y1=J6.parse(y,s)}catch($1){E0=$1}return s.highlight=I,E0?d(E0):d(null,Y1)};if(!I||I.length<3)return g();if(delete s.highlight,!y.length)return g();var v=0;if(t0.walkTokens(y,function(L0){if(L0.type==="code")v++,setTimeout(function(){I(L0.text,L0.lang,function(E0,Y1){if(E0)return g(E0);if(Y1!=null&&Y1!==L0.text)L0.text=Y1,L0.escaped=!0;if(v--,v===0)g()})},0)}),v===0)g();return}function n(L0){if(L0.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+K(L0.message+"",!0)+"</pre>";throw L0}try{var j0=N7.lex(i,s);if(s.walkTokens){if(s.async)return Promise.all(t0.walkTokens(j0,s.walkTokens)).then(function(){return J6.parse(j0,s)}).catch(n);t0.walkTokens(j0,s.walkTokens)}return J6.parse(j0,s)}catch(L0){n(L0)}}t0.options=t0.setOptions=function(i){return m(t0.defaults,i),U(t0.defaults),t0},t0.getDefaults=q,t0.defaults=$.defaults,t0.use=function(){for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];var I=m.apply(void 0,[{}].concat(s)),y=t0.defaults.extensions||{renderers:{},childTokens:{}},g;s.forEach(function(v){if(v.extensions)g=!0,v.extensions.forEach(function(j0){if(!j0.name)throw new Error("extension name required");if(j0.renderer){var L0=y.renderers?y.renderers[j0.name]:null;if(L0)y.renderers[j0.name]=function(){for(var E0=arguments.length,Y1=new Array(E0),$1=0;$1<E0;$1++)Y1[$1]=arguments[$1];var i1=j0.renderer.apply(this,Y1);if(i1===!1)i1=L0.apply(this,Y1);return i1};else y.renderers[j0.name]=j0.renderer}if(j0.tokenizer){if(!j0.level||j0.level!=="block"&&j0.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");if(y[j0.level])y[j0.level].unshift(j0.tokenizer);else y[j0.level]=[j0.tokenizer];if(j0.start){if(j0.level==="block")if(y.startBlock)y.startBlock.push(j0.start);else y.startBlock=[j0.start];else if(j0.level==="inline")if(y.startInline)y.startInline.push(j0.start);else y.startInline=[j0.start]}}if(j0.childTokens)y.childTokens[j0.name]=j0.childTokens});if(v.renderer)(function(){var j0=t0.defaults.renderer||new E1,L0=function Y1($1){var i1=j0[$1];j0[$1]=function(){for(var l1=arguments.length,c0=new Array(l1),x8=0;x8<l1;x8++)c0[x8]=arguments[x8];var b8=v.renderer[$1].apply(j0,c0);if(b8===!1)b8=i1.apply(j0,c0);return b8}};for(var E0 in v.renderer)L0(E0);I.renderer=j0})();if(v.tokenizer)(function(){var j0=t0.defaults.tokenizer||new k0,L0=function Y1($1){var i1=j0[$1];j0[$1]=function(){for(var l1=arguments.length,c0=new Array(l1),x8=0;x8<l1;x8++)c0[x8]=arguments[x8];var b8=v.tokenizer[$1].apply(j0,c0);if(b8===!1)b8=i1.apply(j0,c0);return b8}};for(var E0 in v.tokenizer)L0(E0);I.tokenizer=j0})();if(v.walkTokens){var n=t0.defaults.walkTokens;I.walkTokens=function(j0){var L0=[];if(L0.push(v.walkTokens.call(this,j0)),n)L0=L0.concat(n.call(this,j0));return L0}}if(g)I.extensions=y;t0.setOptions(I)})},t0.walkTokens=function(i,s){var d=[],I=function v(){var n=g.value;switch(d=d.concat(s.call(t0,n)),n.type){case"table":{for(var j0=G(n.header),L0;!(L0=j0()).done;){var E0=L0.value;d=d.concat(t0.walkTokens(E0.tokens,s))}for(var Y1=G(n.rows),$1;!($1=Y1()).done;){var i1=$1.value;for(var l1=G(i1),c0;!(c0=l1()).done;){var x8=c0.value;d=d.concat(t0.walkTokens(x8.tokens,s))}}break}case"list":{d=d.concat(t0.walkTokens(n.items,s));break}default:if(t0.defaults.extensions&&t0.defaults.extensions.childTokens&&t0.defaults.extensions.childTokens[n.type])t0.defaults.extensions.childTokens[n.type].forEach(function(b8){d=d.concat(t0.walkTokens(n[b8],s))});else if(n.tokens)d=d.concat(t0.walkTokens(n.tokens,s))}};for(var y=G(i),g;!(g=y()).done;)I();return d},t0.parseInline=function(i,s){if(typeof i==="undefined"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");s=m({},t0.defaults,s||{}),B0(s);try{var d=N7.lexInline(i,s);if(s.walkTokens)t0.walkTokens(d,s.walkTokens);return J6.parseInline(d,s)}catch(I){if(I.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+K(I.message+"",!0)+"</pre>";throw I}},t0.Parser=J6,t0.parser=J6.parse,t0.Renderer=E1,t0.TextRenderer=V7,t0.Lexer=N7,t0.lexer=N7.lex,t0.Tokenizer=k0,t0.Slugger=s5,t0.parse=t0;var{options:a5,setOptions:pJ,use:mJ,walkTokens:T7,parseInline:j5}=t0,iW=t0,nW=J6.parse,kR=N7.lex;$.Lexer=N7,$.Parser=J6,$.Renderer=E1,$.Slugger=s5,$.TextRenderer=V7,$.Tokenizer=k0,$.getDefaults=q,$.lexer=kR,$.marked=t0,$.options=a5,$.parse=iW,$.parseInline=j5,$.parser=nW,$.setOptions=pJ,$.use=mJ,$.walkTokens=T7,Object.defineProperty($,"__esModule",{value:!0})})})();var E50=X9.Lexer||KI.Lexer,y50=X9.Parser||KI.Parser,S50=X9.Renderer||KI.Renderer,C50=X9.Slugger||KI.Slugger,x50=X9.TextRenderer||KI.TextRenderer,b50=X9.Tokenizer||KI.Tokenizer,v50=X9.getDefaults||KI.getDefaults,f50=X9.lexer||KI.lexer,yJ=X9.marked||KI.marked,h50=X9.options||KI.options,g50=X9.parse||KI.parse,p50=X9.parseInline||KI.parseInline,m50=X9.parser||KI.parser,u50=X9.setOptions||KI.setOptions,c50=X9.use||KI.use,l50=X9.walkTokens||KI.walkTokens});function sd(J){return JSON.stringify(J,s50)}function PV(J){let $=JSON.parse(J);return $=AI($),$}function AI(J,$=0){if(!J||$>200)return J;if(typeof J==="object"){switch(J.$mid){case 1:return I0.revive(J);case 2:return new RegExp(J.source,J.flags);case 17:return new Date(J.source)}if(J instanceof WF||J instanceof Uint8Array)return J;if(Array.isArray(J))for(let X=0;X<J.length;++X)J[X]=AI(J[X],$+1);else for(let X in J)if(Object.hasOwnProperty.call(J,X))J[X]=AI(J[X],$+1)}return J}var s50;var HP=N(()=>{BH();l8();s50=function(J,$){if($ instanceof RegExp)return{$mid:2,source:$.source,flags:$.flags};return $}});function IU(J,$={},X={}){var Q,Y;const Z=new e;let G=!1;const q=GP($),U=function(A){let P;try{P=PV(decodeURIComponent(A))}catch(R){}if(!P)return A;return P=UB(P,(R)=>{if(J.uris&&J.uris[R])return I0.revive(J.uris[R]);else return}),encodeURIComponent(JSON.stringify(P))},H=function(A,P){const R=J.uris&&J.uris[A];let M=I0.revive(R);if(P){if(A.startsWith(o0.data+":"))return A;if(!M)M=I0.parse(A);return ej.uriToBrowserUri(M).toString(!0)}if(!M)return A;if(I0.parse(A).toString()===M.toString())return A;if(M.query)M=M.with({query:U(M.query)});return M.toString()},z=new yJ.Renderer;z.image=PI.image,z.link=PI.link,z.paragraph=PI.paragraph;const V=[],W=[];if($.codeBlockRendererSync)z.code=(A,P)=>{const R=jI.nextId(),M=$.codeBlockRendererSync(ad(P),A);return W.push([R,M]),`<div class="code" data-code="${R}">${kZ(A)}</div>`};else if($.codeBlockRenderer)z.code=(A,P)=>{const R=jI.nextId(),M=$.codeBlockRenderer(ad(P),A);return V.push(M.then((T)=>[R,T])),`<div class="code" data-code="${R}">${kZ(A)}</div>`};if($.actionHandler){const A=function(M){let T=M.target;if(T.tagName!=="A"){if(T=T.parentElement,!T||T.tagName!=="A")return}try{let _=T.dataset.href;if(_){if(J.baseUri)_=DI(I0.from(J.baseUri),_);$.actionHandler.callback(_,M)}}catch(_){a0(_)}finally{M.preventDefault()}},P=$.actionHandler.disposables.add(new X1(q,"click")),R=$.actionHandler.disposables.add(new X1(q,"auxclick"));$.actionHandler.disposables.add(Y0.any(P.event,R.event)((M)=>{const T=new X6(M);if(!T.leftButton&&!T.middleButton)return;A(T)})),$.actionHandler.disposables.add(l(q,"keydown",(M)=>{const T=new D1(M);if(!T.equals(10)&&!T.equals(3))return;A(T)}))}if(!J.supportHtml)X.sanitizer=(A)=>{return(J.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:""},X.sanitize=!0,X.silent=!0;X.renderer=z;let B=(Q=J.value)!==null&&Q!==void 0?Q:"";if(B.length>1e5)B=`${B.substr(0,1e5)}\u2026`;if(J.supportThemeIcons)B=bd(B);let j;if($.fillInIncompleteTokens){const A=Object.assign(Object.assign({},yJ.defaults),X),P=yJ.lexer(B,A),R=e50(P);j=yJ.parser(R,A)}else j=yJ.parse(B,X);if(J.supportThemeIcons)j=EJ(j).map((P)=>typeof P==="string"?P:P.outerHTML).join("");const D=new DOMParser().parseFromString(RI(J,j),"text/html");if(D.body.querySelectorAll("img").forEach((A)=>{const P=A.getAttribute("src");if(P){let R=P;try{if(J.baseUri)R=DI(I0.from(J.baseUri),R)}catch(M){}A.src=H(R,!0)}}),D.body.querySelectorAll("a").forEach((A)=>{const P=A.getAttribute("href");if(A.setAttribute("href",""),!P||/^data:|javascript:/i.test(P)||/^command:/i.test(P)&&!J.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(P))A.replaceWith(...A.childNodes);else{let R=H(P,!1);if(J.baseUri)R=DI(I0.from(J.baseUri),P);A.dataset.href=R}}),q.innerHTML=RI(J,D.body.innerHTML),V.length>0)Promise.all(V).then((A)=>{var P,R;if(G)return;const M=new Map(A),T=q.querySelectorAll("div[data-code]");for(let _ of T){const w=M.get((P=_.dataset.code)!==null&&P!==void 0?P:"");if(w)e8(_,w)}(R=$.asyncRenderCallback)===null||R===void 0||R.call($)});else if(W.length>0){const A=new Map(W),P=q.querySelectorAll("div[data-code]");for(let R of P){const M=A.get((Y=R.dataset.code)!==null&&Y!==void 0?Y:"");if(M)e8(R,M)}}if($.asyncRenderCallback)for(let A of q.getElementsByTagName("img")){const P=Z.add(l(A,"load",()=>{P.dispose(),$.asyncRenderCallback()}))}return{element:q,dispose:()=>{G=!0,Z.dispose()}}}function rd(J){return typeof J==="string"?J:i50(J)}function i50(J){var $;let X=($=J.value)!==null&&$!==void 0?$:"";if(X.length>1e5)X=`${X.substr(0,1e5)}\u2026`;const Q=yJ.parse(X,{renderer:o50.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(Y)=>{var Z;return(Z=n50.get(Y))!==null&&Z!==void 0?Z:Y});return RI({isTrusted:!1},Q).toString()}function e50(J){let $,X;for($=0;$<J.length;$++){const Q=J[$];if(Q.type==="paragraph"&&Q.raw.match(/(\n|^)```/)){X=JJ0(J.slice($));break}if(Q.type==="paragraph"&&Q.raw.match(/(\n|^)\|/)){X=UJ0(J.slice($));break}if($===J.length-1&&Q.type==="paragraph"){const Y=t50(Q);if(Y){X=[Y];break}}}if(X){const Q=[...J.slice(0,$),...X];return Q.links=J.links,Q}return J}var ad,DI,RI,r50,MI,t50,JJ0,$J0,XJ0,QJ0,YJ0,ZJ0,GJ0,qJ0,sG,UJ0,PI,a50,n50,o50;var zP=N(()=>{y0();tj();K4();BI();x6();O5();LU();A1();A0();dG();_U();FI();h2();$0();dd();HP();T5();U9();E$();l0();l8();ad=function(J){if(!J)return"";const $=J.split(/[\s+|:|,|\{|\?]/,1);if($.length)return $[0];return J},DI=function(J,$){if(/^\w[\w\d+.-]*:/.test($))return $;if(J.path.endsWith("/"))return t_(J,$).toString();else return t_(YA(J),$).toString()},RI=function(J,$){const{config:X,allowedSchemes:Q}=r50(J);nj("uponSanitizeAttribute",(Z,G)=>{if(G.attrName==="style"||G.attrName==="class"){if(Z.tagName==="SPAN"){if(G.attrName==="style"){G.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(G.attrValue);return}else if(G.attrName==="class"){G.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(G.attrValue);return}}G.keepAttr=!1;return}});const Y=ix(Q);try{return ij($,Object.assign(Object.assign({},X),{RETURN_TRUSTED_TYPE:!0}))}finally{oj("uponSanitizeAttribute"),Y.dispose()}},r50=function(J){const $=[o0.http,o0.https,o0.mailto,o0.data,o0.file,o0.vscodeFileResource,o0.vscodeRemote,o0.vscodeRemoteResource];if(J.isTrusted)$.push(o0.command);return{config:{ALLOWED_TAGS:[...nx],ALLOWED_ATTR:a50,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:$}};MI=function(J){let $="";return J.forEach((X)=>{$+=X.raw}),$},t50=function(J){for(let $ of J.tokens)if($.type==="text"){const X=$.raw.split("\n"),Q=X[X.length-1];if(Q.includes("`"))return $J0(J);else if(Q.includes("**"))return GJ0(J);else if(Q.match(/\*\w/))return XJ0(J);else if(Q.match(/(^|\s)__\w/))return qJ0(J);else if(Q.match(/(^|\s)_\w/))return QJ0(J);else if(Q.match(/(^|\s)\[.*\]\(\w*/))return YJ0(J);else if(Q.match(/(^|\s)\[\w/))return ZJ0(J)}return};JJ0=function(J){const $=MI(J);return yJ.lexer($+"\n```")},$J0=function(J){return sG(J,"`")},XJ0=function(J){return sG(J,"*")},QJ0=function(J){return sG(J,"_")},YJ0=function(J){return sG(J,")")},ZJ0=function(J){return sG(J,"](about:blank)")},GJ0=function(J){return sG(J,"**")},qJ0=function(J){return sG(J,"__")},sG=function(J,$){const X=MI(Array.isArray(J)?J:[J]);return yJ.lexer(X+$)[0]},UJ0=function(J){const $=MI(J),X=$.split("\n");let Q,Y=!1;for(let Z=0;Z<X.length;Z++){const G=X[Z].trim();if(typeof Q==="undefined"&&G.match(/^\s*\|/)){const q=G.match(/(\|[^\|]+)(?=\||$)/g);if(q)Q=q.length}else if(typeof Q==="number")if(G.match(/^\s*\|/)){if(Z!==X.length-1)return;Y=!0}else return}if(typeof Q==="number"&&Q>0){const Z=Y?X.slice(0,-1).join("\n"):$,G=!!Z.match(/\|\s*$/),q=Z+(G?"":"|")+`\n|${" --- |".repeat(Q)}`;return yJ.lexer(q)}return},PI=Object.freeze({image:(J,$,X)=>{let Q=[],Y=[];if(J)({href:J,dimensions:Q}=hd(J)),Y.push(`src="${AV(J)}"`);if(X)Y.push(`alt="${AV(X)}"`);if($)Y.push(`title="${AV($)}"`);if(Q.length)Y=Y.concat(Q);return"<img "+Y.join(" ")+">"},paragraph:(J)=>{return`<p>${J}</p>`},link:(J,$,X)=>{if(typeof J!=="string")return"";if(J===X)X=YP(X);return $=typeof $==="string"?AV(YP($)):"",J=YP(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${$||J}">${X}</a>`}}),a50=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"],n50=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","\'"],["&lt;","<"],["&gt;",">"]]),o50=new i9(()=>{const J=new yJ.Renderer;return J.code=($)=>{return $},J.blockquote=($)=>{return $},J.html=($)=>{return""},J.heading=($,X,Q)=>{return $+"\n"},J.hr=()=>{return""},J.list=($,X)=>{return $},J.listitem=($)=>{return $+"\n"},J.paragraph=($)=>{return $+"\n"},J.table=($,X)=>{return $+X+"\n"},J.tablerow=($)=>{return $},J.tablecell=($,X)=>{return $+" "},J.strong=($)=>{return $},J.em=($)=>{return $},J.codespan=($)=>{return $},J.br=()=>{return"\n"},J.del=($)=>{return $},J.image=($,X,Q)=>{return""},J.text=($)=>{return $},J.link=($,X,Q)=>{return Q},J})});class OI{constructor(J){this.spliceables=J}splice(J,$,X){this.spliceables.forEach((Q)=>Q.splice(J,$,X))}}var id=N(()=>{});var NI=N(()=>{j1();F0(".monaco-list{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-list.mouse-support{-webkit-user-select:none;user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{width:100%;height:100%;position:relative}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{box-sizing:border-box;width:100%;position:absolute;overflow:hidden}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-single,.monaco-list.selection-multiple{outline:0!important}.monaco-drag-image{z-index:1000;border-radius:10px;padding:1px 7px;font-size:12px;display:inline-block;position:absolute}.monaco-list-type-filter-message{box-sizing:border-box;text-align:center;white-space:normal;opacity:.7;pointer-events:none;width:100%;height:100%;padding:40px 1em 1em;position:absolute;top:0;left:0}.monaco-list-type-filter-message:empty{display:none}")});class vY extends Error{constructor(J,$){super(`ListError [${J}] ${$}`)}}var nd=N(()=>{});function od(J,$){const X=[];for(let Q of $){if(J.start>=Q.range.end)continue;if(J.end<Q.range.start)break;const Y=M7.intersect(J,Q.range);if(M7.isEmpty(Y))continue;X.push({range:Y,size:Q.size})}return X}function VP({start:J,end:$},X){return{start:J+X,end:$+X}}function HJ0(J){const $=[];let X=null;for(let Q of J){const Y=Q.range.start,Z=Q.range.end,G=Q.size;if(X&&G===X.size){X.range.end=Z;continue}X={range:{start:Y,end:Z},size:G},$.push(X)}return $}class WP{get paddingTop(){return this._paddingTop}set paddingTop(J){this._size=this._size+J-this._paddingTop,this._paddingTop=J}constructor(J){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=J!==null&&J!==void 0?J:0,this._size=this._paddingTop}splice(J,$,X=[]){const Q=X.length-$,Y=od({start:0,end:J},this.groups),Z=od({start:J+$,end:Number.POSITIVE_INFINITY},this.groups).map((q)=>({range:VP(q.range,Q),size:q.size})),G=X.map((q,U)=>({range:{start:J+U,end:J+U+1},size:q.size}));this.groups=zJ0(Y,G,Z),this._size=this._paddingTop+this.groups.reduce((q,U)=>q+U.size*(U.range.end-U.range.start),0)}get count(){const J=this.groups.length;if(!J)return 0;return this.groups[J-1].range.end}get size(){return this._size}indexAt(J){if(J<0)return-1;if(J<this._paddingTop)return 0;let $=0,X=this._paddingTop;for(let Q of this.groups){const Y=Q.range.end-Q.range.start,Z=X+Y*Q.size;if(J<Z)return $+Math.floor((J-X)/Q.size);$+=Y,X=Z}return $}indexAfter(J){return Math.min(this.indexAt(J)+1,this.count)}positionAt(J){if(J<0)return-1;let $=0,X=0;for(let Q of this.groups){const Y=Q.range.end-Q.range.start,Z=X+Y;if(J<Z)return this._paddingTop+$+(J-X)*Q.size;$+=Y*Q.size,X=Z}return-1}}var zJ0;var td=N(()=>{BV();zJ0=function(...J){return HJ0(J.reduce(($,X)=>$.concat(X),[]))}});class TI{constructor(J){this.renderers=J,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(J){let $=this.getTemplateCache(J).pop(),X=!1;if($){if(X=this.transactionNodesPendingRemoval.has($.domNode),X)this.transactionNodesPendingRemoval.delete($.domNode)}else{const Q=U0(".monaco-list-row"),Z=this.getRenderer(J).renderTemplate(Q);$={domNode:Q,templateId:J,templateData:Z}}return{row:$,isReusingConnectedDomNode:X}}release(J){if(!J)return;this.releaseRow(J)}transact(J){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{J()}finally{for(let $ of this.transactionNodesPendingRemoval)this.doRemoveNode($);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(J){const{domNode:$,templateId:X}=J;if($)if(this.inTransaction)this.transactionNodesPendingRemoval.add($);else this.doRemoveNode($);this.getTemplateCache(X).push(J)}doRemoveNode(J){J.classList.remove("scrolling"),VJ0(J)}getTemplateCache(J){let $=this.cache.get(J);if(!$)$=[],this.cache.set(J,$);return $}dispose(){this.cache.forEach((J,$)=>{for(let X of J)this.getRenderer($).disposeTemplate(X.templateData),X.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(J){const $=this.renderers.get(J);if(!$)throw new Error(`No renderer found for ${J}`);return $}}var VJ0;var ed=N(()=>{y0();VJ0=function(J){var $;try{($=J.parentElement)===null||$===void 0||$.removeChild(J)}catch(X){}}});class fY{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class Js{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class $s{constructor(){this.types=[],this.files=[]}update(J){if(J.types)this.types.splice(0,this.types.length,...J.types);if(J.files){this.files.splice(0,this.files.length);for(let $=0;$<J.files.length;$++){const X=J.files.item($);if(X&&(X.size||X.type))this.files.push(X)}}}getData(){return{types:this.types,files:this.files}}}class Xs{constructor(J){if(J===null||J===void 0?void 0:J.getSetSize)this.getSetSize=J.getSetSize.bind(J);else this.getSetSize=($,X,Q)=>Q;if(J===null||J===void 0?void 0:J.getPosInSet)this.getPosInSet=J.getPosInSet.bind(J);else this.getPosInSet=($,X)=>X+1;if(J===null||J===void 0?void 0:J.getRole)this.getRole=J.getRole.bind(J);else this.getRole=($)=>"listitem";if(J===null||J===void 0?void 0:J.isChecked)this.isChecked=J.isChecked.bind(J);else this.isChecked=($)=>{return}}}class q5{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(J){if(J===this._horizontalScrolling)return;if(J&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=J,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:QF(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}constructor(J,$,X,Q=g$){var Y,Z,G,q,U,H,z,V,W,B,j,K,D;if(this.virtualDelegate=$,this.domId=`list_id_${++q5.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new BJ(50),this.splicing=!1,this.dragOverAnimationStopDisposable=f.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=f.None,this.onDragLeaveTimeout=f.None,this.disposables=new e,this._onDidChangeContentHeight=new E,this._onDidChangeContentWidth=new E,this._horizontalScrolling=!1,Q.horizontalScrolling&&Q.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new WP((Y=Q.paddingTop)!==null&&Y!==void 0?Y:0);for(let P of X)this.renderers.set(P.templateId,P);if(this.cache=this.disposables.add(new TI(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof Q.mouseSupport==="boolean"?Q.mouseSupport:!0),this._horizontalScrolling=(Z=Q.horizontalScrolling)!==null&&Z!==void 0?Z:g$.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof Q.paddingBottom==="undefined"?0:Q.paddingBottom,this.accessibilityProvider=new Xs(Q.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(G=Q.transformOptimization)!==null&&G!==void 0?G:g$.transformOptimization)this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict";this.disposables.add(N1.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new D$({forceIntegerValues:!0,smoothScrollDuration:((q=Q.smoothScrolling)!==null&&q!==void 0?q:!1)?125:0,scheduleAtNextAnimationFrame:(P)=>R6(P)})),this.scrollableElement=this.disposables.add(new PG(this.rowsContainer,{alwaysConsumeMouseWheel:(U=Q.alwaysConsumeMouseWheel)!==null&&U!==void 0?U:g$.alwaysConsumeMouseWheel,horizontal:1,vertical:(H=Q.verticalScrollMode)!==null&&H!==void 0?H:g$.verticalScrollMode,useShadows:(z=Q.useShadows)!==null&&z!==void 0?z:g$.useShadows,mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity,fastScrollSensitivity:Q.fastScrollSensitivity,scrollByPage:Q.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),J.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(l(this.rowsContainer,L1.Change,(P)=>this.onTouchChange(P))),this.disposables.add(l(this.scrollableElement.getDomNode(),"scroll",(P)=>P.target.scrollTop=0)),this.disposables.add(l(this.domNode,"dragover",(P)=>this.onDragOver(this.toDragEvent(P)))),this.disposables.add(l(this.domNode,"drop",(P)=>this.onDrop(this.toDragEvent(P)))),this.disposables.add(l(this.domNode,"dragleave",(P)=>this.onDragLeave(this.toDragEvent(P)))),this.disposables.add(l(this.domNode,"dragend",(P)=>this.onDragEnd(P))),this.setRowLineHeight=(V=Q.setRowLineHeight)!==null&&V!==void 0?V:g$.setRowLineHeight,this.setRowHeight=(W=Q.setRowHeight)!==null&&W!==void 0?W:g$.setRowHeight,this.supportDynamicHeights=(B=Q.supportDynamicHeights)!==null&&B!==void 0?B:g$.supportDynamicHeights,this.dnd=(j=Q.dnd)!==null&&j!==void 0?j:this.disposables.add(g$.dnd),this.layout((K=Q.initialSize)===null||K===void 0?void 0:K.height,(D=Q.initialSize)===null||D===void 0?void 0:D.width)}updateOptions(J){if(J.paddingBottom!==void 0)this.paddingBottom=J.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});if(J.smoothScrolling!==void 0)this.scrollable.setSmoothScrollDuration(J.smoothScrolling?125:0);if(J.horizontalScrolling!==void 0)this.horizontalScrolling=J.horizontalScrolling;let $;if(J.scrollByPage!==void 0)$=Object.assign(Object.assign({},$!==null&&$!==void 0?$:{}),{scrollByPage:J.scrollByPage});if(J.mouseWheelScrollSensitivity!==void 0)$=Object.assign(Object.assign({},$!==null&&$!==void 0?$:{}),{mouseWheelScrollSensitivity:J.mouseWheelScrollSensitivity});if(J.fastScrollSensitivity!==void 0)$=Object.assign(Object.assign({},$!==null&&$!==void 0?$:{}),{fastScrollSensitivity:J.fastScrollSensitivity});if($)this.scrollableElement.updateOptions($);if(J.paddingTop!==void 0&&J.paddingTop!==this.rangeMap.paddingTop){const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Q=J.paddingTop-this.rangeMap.paddingTop;if(this.rangeMap.paddingTop=J.paddingTop,this.render(X,Math.max(0,this.lastRenderTop+Q),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(J,$,X=[]){if(this.splicing)throw new Error("Can\'t run recursive splices.");this.splicing=!0;try{return this._splice(J,$,X)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(J,$,X=[]){const Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Y={start:J,end:J+$},Z=M7.intersect(Q,Y),G=new Map;for(let T=Z.end-1;T>=Z.start;T--){const _=this.items[T];if(_.dragStartDisposable.dispose(),_.checkedDisposable.dispose(),_.row){let w=G.get(_.templateId);if(!w)w=[],G.set(_.templateId,w);const x=this.renderers.get(_.templateId);if(x&&x.disposeElement)x.disposeElement(_.element,T,_.row.templateData,_.size);w.push(_.row)}_.row=null}const q={start:J+$,end:this.items.length},U=M7.intersect(q,Q),H=M7.relativeComplement(q,Q),z=X.map((T)=>({id:String(this.itemId++),element:T,templateId:this.virtualDelegate.getTemplateId(T),size:this.virtualDelegate.getHeight(T),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(T),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:f.None,checkedDisposable:f.None}));let V;if(J===0&&$>=this.items.length)this.rangeMap=new WP(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,z),V=this.items,this.items=z;else this.rangeMap.splice(J,$,z),V=this.items.splice(J,$,...z);const W=X.length-$,B=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=VP(U,W),K=M7.intersect(B,j);for(let T=K.start;T<K.end;T++)this.updateItemInDOM(this.items[T],T);const D=M7.relativeComplement(j,B);for(let T of D)for(let _=T.start;_<T.end;_++)this.removeItemFromDOM(_);const A=H.map((T)=>VP(T,W)),R=[{start:J,end:J+X.length},...A].map((T)=>M7.intersect(B,T)),M=this.getNextToLastElement(R);for(let T of R)for(let _=T.start;_<T.end;_++){const w=this.items[_],x=G.get(w.templateId),C=x===null||x===void 0?void 0:x.pop();this.insertItemInDOM(_,M,C)}for(let T of G.values())for(let _ of T)this.cache.release(_);if(this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight);return V.map((T)=>T.element)}eventuallyUpdateScrollDimensions(){if(this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,!this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable=R6(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let J=0;for(let $ of this.items)if(typeof $.width!=="undefined")J=Math.max(J,$.width);this.scrollWidth=J,this.scrollableElement.setScrollDimensions({scrollWidth:J===0?0:J+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(!this.supportDynamicHeights)return;for(let J of this.items)J.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const J=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),$=this.rangeMap.positionAt(J.start),X=this.rangeMap.positionAt(J.start+1);if(X!==-1){if((X-$)/2+$<this.scrollTop)return J.start+1}return J.start}element(J){return this.items[J].element}domElement(J){const $=this.items[J].row;return $&&$.domNode}elementHeight(J){return this.items[J].size}elementTop(J){return this.rangeMap.positionAt(J)}indexAt(J){return this.rangeMap.indexAt(J)}indexAfter(J){return this.rangeMap.indexAfter(J)}layout(J,$){const X={height:typeof J==="number"?J:ux(this.domNode)};if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,X.scrollHeight=this.scrollHeight;if(this.scrollableElement.setScrollDimensions(X),typeof $!=="undefined"){if(this.renderWidth=$,this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight)}if(this.horizontalScrolling)this.scrollableElement.setScrollDimensions({width:typeof $==="number"?$:QF(this.domNode)})}render(J,$,X,Q,Y,Z=!1){const G=this.getRenderRange($,X),q=M7.relativeComplement(G,J),U=M7.relativeComplement(J,G),H=this.getNextToLastElement(q);if(Z){const z=M7.intersect(J,G);for(let V=z.start;V<z.end;V++)this.updateItemInDOM(this.items[V],V)}if(this.cache.transact(()=>{for(let z of U)for(let V=z.start;V<z.end;V++)this.removeItemFromDOM(V);for(let z of q)for(let V=z.start;V<z.end;V++)this.insertItemInDOM(V,H)}),Q!==void 0)this.rowsContainer.style.left=`-${Q}px`;if(this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&Y!==void 0)this.rowsContainer.style.width=`${Math.max(Y,this.renderWidth)}px`;this.lastRenderTop=$,this.lastRenderHeight=X}insertItemInDOM(J,$,X){const Q=this.items[J];let Y=!1;if(!Q.row)if(X)Q.row=X;else{const H=this.cache.alloc(Q.templateId);Q.row=H.row,Y=H.isReusingConnectedDomNode}const Z=this.accessibilityProvider.getRole(Q.element)||"listitem";Q.row.domNode.setAttribute("role",Z);const G=this.accessibilityProvider.isChecked(Q.element);if(typeof G==="boolean")Q.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){const H=(z)=>Q.row.domNode.setAttribute("aria-checked",String(!!z));H(G.value),Q.checkedDisposable=G.onDidChange(H)}if(Y||!Q.row.domNode.parentElement)if($)this.rowsContainer.insertBefore(Q.row.domNode,$);else this.rowsContainer.appendChild(Q.row.domNode);this.updateItemInDOM(Q,J);const q=this.renderers.get(Q.templateId);if(!q)throw new Error(`No renderer found for template id ${Q.templateId}`);q===null||q===void 0||q.renderElement(Q.element,J,Q.row.templateData,Q.size);const U=this.dnd.getDragURI(Q.element);if(Q.dragStartDisposable.dispose(),Q.row.domNode.draggable=!!U,U)Q.dragStartDisposable=l(Q.row.domNode,"dragstart",(H)=>this.onDragStart(Q.element,U,H));if(this.horizontalScrolling)this.measureItemWidth(Q),this.eventuallyUpdateScrollWidth()}measureItemWidth(J){if(!J.row||!J.row.domNode)return;J.row.domNode.style.width="fit-content",J.width=QF(J.row.domNode);const $=window.getComputedStyle(J.row.domNode);if($.paddingLeft)J.width+=parseFloat($.paddingLeft);if($.paddingRight)J.width+=parseFloat($.paddingRight);J.row.domNode.style.width=""}updateItemInDOM(J,$){if(J.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight)J.row.domNode.style.height=`${J.size}px`;if(this.setRowLineHeight)J.row.domNode.style.lineHeight=`${J.size}px`;J.row.domNode.setAttribute("data-index",`${$}`),J.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),J.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),J.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(J.element,$,this.length))),J.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(J.element,$))),J.row.domNode.setAttribute("id",this.getElementDomId($)),J.row.domNode.classList.toggle("drop-target",J.dropTarget)}removeItemFromDOM(J){const $=this.items[J];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){const X=this.renderers.get($.templateId);if(X&&X.disposeElement)X.disposeElement($.element,J,$.row.templateData,$.size);this.cache.release($.row),$.row=null}if(this.horizontalScrolling)this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(J,$){if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});this.scrollableElement.setScrollPosition({scrollTop:J,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(J){this.setScrollTop(J)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return Y0.map(this.disposables.add(new X1(this.domNode,"click")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseDblClick(){return Y0.map(this.disposables.add(new X1(this.domNode,"dblclick")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseMiddleClick(){return Y0.filter(Y0.map(this.disposables.add(new X1(this.domNode,"auxclick")).event,(J)=>this.toMouseEvent(J),this.disposables),(J)=>J.browserEvent.button===1,this.disposables)}get onMouseDown(){return Y0.map(this.disposables.add(new X1(this.domNode,"mousedown")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOver(){return Y0.map(this.disposables.add(new X1(this.domNode,"mouseover")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOut(){return Y0.map(this.disposables.add(new X1(this.domNode,"mouseout")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onContextMenu(){return Y0.any(Y0.map(this.disposables.add(new X1(this.domNode,"contextmenu")).event,(J)=>this.toMouseEvent(J),this.disposables),Y0.map(this.disposables.add(new X1(this.domNode,L1.Contextmenu)).event,(J)=>this.toGestureEvent(J),this.disposables))}get onTouchStart(){return Y0.map(this.disposables.add(new X1(this.domNode,"touchstart")).event,(J)=>this.toTouchEvent(J),this.disposables)}get onTap(){return Y0.map(this.disposables.add(new X1(this.rowsContainer,L1.Tap)).event,(J)=>this.toGestureEvent(J),this.disposables)}toMouseEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toTouchEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toGestureEvent(J){const $=this.getItemIndexFromEventTarget(J.initialTarget||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toDragEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}onScroll(J){try{const $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);if(this.render($,J.scrollTop,J.height,J.scrollLeft,J.scrollWidth),this.supportDynamicHeights)this._rerender(J.scrollTop,J.height,J.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",J),$}}onTouchChange(J){J.preventDefault(),J.stopPropagation(),this.scrollTop-=J.translationY}onDragStart(J,$,X){var Q,Y;if(!X.dataTransfer)return;const Z=this.dnd.getDragElements(J);if(X.dataTransfer.effectAllowed="copyMove",X.dataTransfer.setData(tA.TEXT,$),X.dataTransfer.setDragImage){let G;if(this.dnd.getDragLabel)G=this.dnd.getDragLabel(Z,X);if(typeof G==="undefined")G=String(Z.length);const q=U0(".monaco-drag-image");q.textContent=G;const H=((z)=>{while(z&&!z.classList.contains("monaco-workbench"))z=z.parentElement;return z||document.body})(this.domNode);H.appendChild(q),X.dataTransfer.setDragImage(q,-10,-10),setTimeout(()=>H.removeChild(q),0)}this.domNode.classList.add("dragging"),this.currentDragData=new fY(Z),aG.CurrentDragAndDropData=new Js(Z),(Y=(Q=this.dnd).onDragStart)===null||Y===void 0||Y.call(Q,this.currentDragData,X)}onDragOver(J){var $;if(J.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),aG.CurrentDragAndDropData&&aG.CurrentDragAndDropData.getData()==="vscode-ui")return!1;if(this.setupDragAndDropScrollTopAnimation(J.browserEvent),!J.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(aG.CurrentDragAndDropData)this.currentDragData=aG.CurrentDragAndDropData;else{if(!J.browserEvent.dataTransfer.types)return!1;this.currentDragData=new $s}const X=this.dnd.onDragOver(this.currentDragData,J.element,J.index,J.browserEvent);if(this.canDrop=typeof X==="boolean"?X:X.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;J.browserEvent.dataTransfer.dropEffect=typeof X!=="boolean"&&X.effect===0?"copy":"move";let Q;if(typeof X!=="boolean"&&X.feedback)Q=X.feedback;else if(typeof J.index==="undefined")Q=[-1];else Q=[J.index];if(Q=o5(Q).filter((Y)=>Y>=-1&&Y<this.length).sort((Y,Z)=>Y-Z),Q=Q[0]===-1?[-1]:Q,WJ0(this.currentDragFeedback,Q))return!0;if(this.currentDragFeedback=Q,this.currentDragFeedbackDisposable.dispose(),Q[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=N0(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(let Y of Q){const Z=this.items[Y];Z.dropTarget=!0,($=Z.row)===null||$===void 0||$.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=N0(()=>{var Y;for(let Z of Q){const G=this.items[Z];G.dropTarget=!1,(Y=G.row)===null||Y===void 0||Y.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(J){var $,X;if(this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=gQ(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData)(X=($=this.dnd).onDragLeave)===null||X===void 0||X.call($,this.currentDragData,J.element,J.index,J.browserEvent)}onDrop(J){if(!this.canDrop)return;const $=this.currentDragData;if(this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,aG.CurrentDragAndDropData=void 0,!$||!J.browserEvent.dataTransfer)return;J.browserEvent.preventDefault(),$.update(J.browserEvent.dataTransfer),this.dnd.drop($,J.element,J.index,J.browserEvent)}onDragEnd(J){var $,X;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,aG.CurrentDragAndDropData=void 0,(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=f.None}setupDragAndDropScrollTopAnimation(J){if(!this.dragOverAnimationDisposable){const $=gx(this.domNode).top;this.dragOverAnimationDisposable=rx(this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=gQ(()=>{if(this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0},1000,this.disposables),this.dragOverMouseY=J.pageY}animateDragAndDropScrollTop(J){if(this.dragOverMouseY===void 0)return;const $=this.dragOverMouseY-J,X=this.renderHeight-35;if($<35)this.scrollTop+=Math.max(-14,Math.floor(0.3*($-35)));else if($>X)this.scrollTop+=Math.min(14,Math.floor(0.3*($-X)))}teardownDragAndDropScrollTopAnimation(){if(this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0}getItemIndexFromEventTarget(J){const $=this.scrollableElement.getDomNode();let X=J;while(X instanceof HTMLElement&&X!==this.rowsContainer&&$.contains(X)){const Q=X.getAttribute("data-index");if(Q){const Y=Number(Q);if(!isNaN(Y))return Y}X=X.parentElement}return}getRenderRange(J,$){return{start:this.rangeMap.indexAt(J),end:this.rangeMap.indexAfter(J+$-1)}}_rerender(J,$,X){const Q=this.getRenderRange(J,$);let Y,Z;if(J===this.elementTop(Q.start))Y=Q.start,Z=0;else if(Q.end-Q.start>1)Y=Q.start+1,Z=this.elementTop(Y)-J;let G=0;while(!0){const q=this.getRenderRange(J,$);let U=!1;for(let H=q.start;H<q.end;H++){const z=this.probeDynamicHeight(H);if(z!==0)this.rangeMap.splice(H,1,[this.items[H]]);G+=z,U=U||z!==0}if(!U){if(G!==0)this.eventuallyUpdateScrollDimensions();const H=M7.relativeComplement(Q,q);for(let V of H)for(let W=V.start;W<V.end;W++)if(this.items[W].row)this.removeItemFromDOM(W);const z=M7.relativeComplement(q,Q);for(let V of z)for(let W=V.start;W<V.end;W++){const B=W+1,j=B<this.items.length?this.items[B].row:null,K=j?j.domNode:null;this.insertItemInDOM(W,K)}for(let V=q.start;V<q.end;V++)if(this.items[V].row)this.updateItemInDOM(this.items[V],V);if(typeof Y==="number"){const V=this.scrollable.getFutureScrollPosition().scrollTop-J,W=this.elementTop(Y)-Z+V;this.setScrollTop(W,X)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(J){var $,X,Q;const Y=this.items[J];if(this.virtualDelegate.getDynamicHeight){const U=this.virtualDelegate.getDynamicHeight(Y.element);if(U!==null){const H=Y.size;return Y.size=U,Y.lastDynamicHeightWidth=this.renderWidth,U-H}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth)return 0;if(!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;const Z=Y.size;if(Y.row)return Y.row.domNode.style.height="",Y.size=Y.row.domNode.offsetHeight,Y.lastDynamicHeightWidth=this.renderWidth,Y.size-Z;const{row:G}=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const q=this.renderers.get(Y.templateId);if(!q)throw new n1("Missing renderer for templateId: "+Y.templateId);return q.renderElement(Y.element,J,G.templateData,void 0),Y.size=G.domNode.offsetHeight,($=q.disposeElement)===null||$===void 0||$.call(q,Y.element,J,G.templateData,void 0),(Q=(X=this.virtualDelegate).setDynamicHeight)===null||Q===void 0||Q.call(X,Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-Z}getNextToLastElement(J){const $=J[J.length-1];if(!$)return null;const X=this.items[$.end];if(!X)return null;if(!X.row)return null;return X.row.domNode}getElementDomId(J){return`${this.domId}_${J}`}dispose(){var J,$;for(let X of this.items)if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){const Q=this.renderers.get(X.row.templateId);if(Q)(J=Q.disposeElement)===null||J===void 0||J.call(Q,X.element,-1,X.row.templateData,void 0),Q.disposeTemplate(X.row.templateData)}if(this.items=[],this.domNode&&this.domNode.parentNode)this.domNode.parentNode.removeChild(this.domNode);($=this.dragOverAnimationDisposable)===null||$===void 0||$.dispose(),this.disposables.dispose()}}var WJ0,qQ,aG,g$;var BP=N(()=>{tL();y0();K4();h5();hX();V1();f1();GY();A0();$0();BV();Xz();td();ed();A1();WJ0=function(J,$){if(Array.isArray(J)&&Array.isArray($))return $8(J,$);return J===$},qQ=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},aG={CurrentDragAndDropData:void 0},g$={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(J){return[J]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};q5.InstanceCount=0;qQ([Y8],q5.prototype,"onMouseClick",null);qQ([Y8],q5.prototype,"onMouseDblClick",null);qQ([Y8],q5.prototype,"onMouseMiddleClick",null);qQ([Y8],q5.prototype,"onMouseDown",null);qQ([Y8],q5.prototype,"onMouseOver",null);qQ([Y8],q5.prototype,"onMouseOut",null);qQ([Y8],q5.prototype,"onContextMenu",null);qQ([Y8],q5.prototype,"onTouchStart",null);qQ([Y8],q5.prototype,"onTap",null)});function UQ(J){return J.tagName==="INPUT"||J.tagName==="TEXTAREA"}function rG(J){if(J.classList.contains("monaco-editor"))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return rG(J.parentElement)}function wI(J){if(J.tagName==="A"&&J.classList.contains("monaco-button")||J.tagName==="DIV"&&J.classList.contains("monaco-button-dropdown"))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return wI(J.parentElement)}function II(J){return n0?J.browserEvent.metaKey:J.browserEvent.ctrlKey}function kI(J){return J.browserEvent.shiftKey}class Gs{constructor(J){this.trait=J,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(J){return J}renderElement(J,$,X){const Q=this.renderedElements.findIndex((Y)=>Y.templateData===X);if(Q>=0){const Y=this.renderedElements[Q];this.trait.unrender(X),Y.index=$}else{const Y={index:$,templateData:X};this.renderedElements.push(Y)}this.trait.renderIndex($,X)}splice(J,$,X){const Q=[];for(let Y of this.renderedElements)if(Y.index<J)Q.push(Y);else if(Y.index>=J+$)Q.push({index:Y.index+X-$,templateData:Y.templateData});this.renderedElements=Q}renderIndexes(J){for(let{index:$,templateData:X}of this.renderedElements)if(J.indexOf($)>-1)this.trait.renderIndex($,X)}disposeTemplate(J){const $=this.renderedElements.findIndex((X)=>X.templateData===J);if($<0)return;this.renderedElements.splice($,1)}}class DV{get name(){return this._trait}get renderer(){return new Gs(this)}constructor(J){this._trait=J,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new E,this.onChange=this._onChange.event}splice(J,$,X){var Q;$=Math.max(0,Math.min($,this.length-J));const Y=X.length-$,Z=J+$,G=[];let q=0;while(q<this.sortedIndexes.length&&this.sortedIndexes[q]<J)G.push(this.sortedIndexes[q++]);for(let H=0;H<X.length;H++)if(X[H])G.push(H+J);while(q<this.sortedIndexes.length&&this.sortedIndexes[q]>=Z)G.push(this.sortedIndexes[q++]+Y);const U=this.length+Y;if(this.sortedIndexes.length>0&&G.length===0&&U>0){const H=(Q=this.sortedIndexes.find((z)=>z>=J))!==null&&Q!==void 0?Q:U-1;G.push(Math.min(H,U-1))}this.renderer.splice(J,$,X.length),this._set(G,G),this.length=U}renderIndex(J,$){$.classList.toggle(this._trait,this.contains(J))}unrender(J){J.classList.remove(this._trait)}set(J,$){return this._set(J,[...J].sort(Zs),$)}_set(J,$,X){const Q=this.indexes,Y=this.sortedIndexes;this.indexes=J,this.sortedIndexes=$;const Z=_I(Y,J);return this.renderer.renderIndexes(Z),this._onChange.fire({indexes:J,browserEvent:X}),Q}get(){return this.indexes}contains(J){return JB(this.sortedIndexes,J,Zs)>=0}dispose(){w1(this._onChange)}}class qs extends DV{constructor(J){super("selected");this.setAriaSelected=J}renderIndex(J,$){if(super.renderIndex(J,$),this.setAriaSelected)if(this.contains(J))$.setAttribute("aria-selected","true");else $.setAttribute("aria-selected","false")}}class jP{constructor(J,$,X){this.trait=J,this.view=$,this.identityProvider=X}splice(J,$,X){if(!this.identityProvider)return this.trait.splice(J,$,new Array(X.length).fill(!1));const Q=this.trait.get().map((G)=>this.identityProvider.getId(this.view.element(G)).toString());if(Q.length===0)return this.trait.splice(J,$,new Array(X.length).fill(!1));const Y=new Set(Q),Z=X.map((G)=>Y.has(this.identityProvider.getId(G).toString()));this.trait.splice(J,$,Z)}}class LI{get onKeyDown(){return Y0.chain(this.disposables.add(new X1(this.view.domNode,"keydown")).event,(J)=>J.filter(($)=>!UQ($.target)).map(($)=>new D1($)))}constructor(J,$,X){this.list=J,this.view=$,this.disposables=new e,this.multipleSelectionDisposables=new e,this.multipleSelectionSupport=X.multipleSelectionSupport,this.disposables.add(this.onKeyDown((Q)=>{switch(Q.keyCode){case 3:return this.onEnter(Q);case 16:return this.onUpArrow(Q);case 18:return this.onDownArrow(Q);case 11:return this.onPageUpArrow(Q);case 12:return this.onPageDownArrow(Q);case 9:return this.onEscape(Q);case 31:if(this.multipleSelectionSupport&&(n0?Q.metaKey:Q.ctrlKey))this.onCtrlA(Q)}}))}updateOptions(J){if(J.multipleSelectionSupport!==void 0)this.multipleSelectionSupport=J.multipleSelectionSupport}onEnter(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(this.list.getFocus(),J.browserEvent)}onUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPrevious(1,!1,J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNext(1,!1,J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPreviousPage(J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNextPage(J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(_7(this.list.length),J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(J){if(this.list.getSelection().length)J.preventDefault(),J.stopPropagation(),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}class Us{constructor(J,$,X,Q,Y){this.list=J,this.view=$,this.keyboardNavigationLabelProvider=X,this.keyboardNavigationEventFilter=Q,this.delegate=Y,this.enabled=!1,this.state=kU.Idle,this.mode=M4.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new e,this.disposables=new e,this.updateOptions(J.options)}updateOptions(J){var $,X;if(($=J.typeNavigationEnabled)!==null&&$!==void 0?$:!0)this.enable();else this.disable();this.mode=(X=J.typeNavigationMode)!==null&&X!==void 0?X:M4.Automatic}enable(){if(this.enabled)return;let J=!1;const $=Y0.chain(this.enabledDisposables.add(new X1(this.view.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!UQ(Z.target)).filter(()=>this.mode===M4.Automatic||this.triggered).map((Z)=>new D1(Z)).filter((Z)=>J||this.keyboardNavigationEventFilter(Z)).filter((Z)=>this.delegate.mightProducePrintableCharacter(Z)).forEach((Z)=>g0.stop(Z,!0)).map((Z)=>Z.browserEvent.key)),X=Y0.debounce($,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);Y0.reduce(Y0.any($,X),(Y,Z)=>Z===null?null:(Y||"")+Z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),X(this.onClear,this,this.enabledDisposables),$(()=>J=!0,void 0,this.enabledDisposables),X(()=>J=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){if(!this.enabled)return;this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1}onClear(){var J;const $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){const X=(J=this.list.options.accessibilityProvider)===null||J===void 0?void 0:J.getAriaLabel(this.list.element($[0]));if(X)U4(X)}this.previouslyFocused=-1}onInput(J){if(!J){this.state=kU.Idle,this.triggered=!1;return}const $=this.list.getFocus(),X=$.length>0?$[0]:0,Q=this.state===kU.Idle?1:0;this.state=kU.Typing;for(let Y=0;Y<this.list.length;Y++){const Z=(X+Y+Q)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Z)),q=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof q!=="undefined"){if(KV(J,q)){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}const U=kd(J,q);if(U){if(U[0].end-U[0].start>1&&U.length===1){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}}}}else if(typeof q==="undefined"||KV(J,q)){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Hs{constructor(J,$){this.list=J,this.view=$,this.disposables=new e;const X=Y0.chain(this.disposables.add(new X1($.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!UQ(Z.target)).map((Z)=>new D1(Z)));Y0.chain(X,(Y)=>Y.filter((Z)=>Z.keyCode===2&&!Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey))(this.onTab,this,this.disposables)}onTab(J){if(J.target!==this.view.domNode)return;const $=this.list.getFocus();if($.length===0)return;const X=this.view.domElement($[0]);if(!X)return;const Q=X.querySelector("[tabIndex]");if(!Q||!(Q instanceof HTMLElement)||Q.tabIndex===-1)return;const Y=window.getComputedStyle(Q);if(Y.visibility==="hidden"||Y.display==="none")return;J.preventDefault(),J.stopPropagation(),Q.focus()}dispose(){this.disposables.dispose()}}class FP{constructor(J){if(this.list=J,this.disposables=new e,this._onPointer=new E,this.onPointer=this._onPointer.event,J.options.multipleSelectionSupport!==!1)this.multipleSelectionController=this.list.options.multipleSelectionController||Ys;if(this.mouseSupport=typeof J.options.mouseSupport==="undefined"||!!J.options.mouseSupport,this.mouseSupport)J.onMouseDown(this.onMouseDown,this,this.disposables),J.onContextMenu(this.onContextMenu,this,this.disposables),J.onMouseDblClick(this.onDoubleClick,this,this.disposables),J.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(N1.addTarget(J.getHTMLElement()));Y0.any(J.onMouseClick,J.onMouseMiddleClick,J.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(J){if(J.multipleSelectionSupport!==void 0){if(this.multipleSelectionController=void 0,J.multipleSelectionSupport)this.multipleSelectionController=this.list.options.multipleSelectionController||Ys}}isSelectionSingleChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionSingleChangeEvent(J)}isSelectionRangeChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionRangeChangeEvent(J)}isSelectionChangeEvent(J){return this.isSelectionSingleChangeEvent(J)||this.isSelectionRangeChangeEvent(J)}onMouseDown(J){if(rG(J.browserEvent.target))return;if(document.activeElement!==J.browserEvent.target)this.list.domFocus()}onContextMenu(J){if(UQ(J.browserEvent.target)||rG(J.browserEvent.target))return;const $=typeof J.index==="undefined"?[]:[J.index];this.list.setFocus($,J.browserEvent)}onViewPointer(J){if(!this.mouseSupport)return;if(UQ(J.browserEvent.target)||rG(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;const $=J.index;if(typeof $==="undefined"){this.list.setFocus([],J.browserEvent),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(J))return this.changeSelection(J);if(this.list.setFocus([$],J.browserEvent),this.list.setAnchor($),!jJ0(J.browserEvent))this.list.setSelection([$],J.browserEvent);this._onPointer.fire(J)}onDoubleClick(J){if(UQ(J.browserEvent.target)||rG(J.browserEvent.target))return;if(this.isSelectionChangeEvent(J))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;const $=this.list.getFocus();this.list.setSelection($,J.browserEvent)}changeSelection(J){const $=J.index;let X=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(J)){if(typeof X==="undefined"){const H=this.list.getFocus()[0];X=H!==null&&H!==void 0?H:$,this.list.setAnchor(X)}const Q=Math.min(X,$),Y=Math.max(X,$),Z=_7(Q,Y+1),G=this.list.getSelection(),q=KJ0(_I(G,[X]),X);if(q.length===0)return;const U=_I(Z,AJ0(G,q));this.list.setSelection(U,J.browserEvent),this.list.setFocus([$],J.browserEvent)}else if(this.isSelectionSingleChangeEvent(J)){const Q=this.list.getSelection(),Y=Q.filter((Z)=>Z!==$);if(this.list.setFocus([$]),this.list.setAnchor($),Q.length===Y.length)this.list.setSelection([...Y,$],J.browserEvent);else this.list.setSelection(Y,J.browserEvent)}}dispose(){this.disposables.dispose()}}class KP{constructor(J,$){this.styleElement=J,this.selectorSuffix=$}style(J){var $,X;const Q=this.selectorSuffix&&`.${this.selectorSuffix}`,Y=[];if(J.listBackground)Y.push(`.monaco-list${Q} .monaco-list-rows { background: ${J.listBackground}; }`);if(J.listFocusBackground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused { background-color: ${J.listFocusBackground}; }`),Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused:hover { background-color: ${J.listFocusBackground}; }`);if(J.listFocusForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`);if(J.listActiveSelectionBackground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected { background-color: ${J.listActiveSelectionBackground}; }`),Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected:hover { background-color: ${J.listActiveSelectionBackground}; }`);if(J.listActiveSelectionForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected { color: ${J.listActiveSelectionForeground}; }`);if(J.listActiveSelectionIconForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected .codicon { color: ${J.listActiveSelectionIconForeground}; }`);if(J.listFocusAndSelectionBackground)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { background-color: ${J.listFocusAndSelectionBackground}; }
			`);if(J.listFocusAndSelectionForeground)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { color: ${J.listFocusAndSelectionForeground}; }
			`);if(J.listInactiveFocusForeground)Y.push(`.monaco-list${Q} .monaco-list-row.focused { color:  ${J.listInactiveFocusForeground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.focused:hover { color:  ${J.listInactiveFocusForeground}; }`);if(J.listInactiveSelectionIconForeground)Y.push(`.monaco-list${Q} .monaco-list-row.focused .codicon { color:  ${J.listInactiveSelectionIconForeground}; }`);if(J.listInactiveFocusBackground)Y.push(`.monaco-list${Q} .monaco-list-row.focused { background-color:  ${J.listInactiveFocusBackground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.focused:hover { background-color:  ${J.listInactiveFocusBackground}; }`);if(J.listInactiveSelectionBackground)Y.push(`.monaco-list${Q} .monaco-list-row.selected { background-color:  ${J.listInactiveSelectionBackground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.selected:hover { background-color:  ${J.listInactiveSelectionBackground}; }`);if(J.listInactiveSelectionForeground)Y.push(`.monaco-list${Q} .monaco-list-row.selected { color: ${J.listInactiveSelectionForeground}; }`);if(J.listHoverBackground)Y.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${J.listHoverBackground}; }`);if(J.listHoverForeground)Y.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${J.listHoverForeground}; }`);const Z=X$(J.listFocusAndSelectionOutline,X$(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Z)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Z}; outline-offset: -1px;}`);if(J.listFocusOutline)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
			`);const G=X$(J.listSelectionOutline,(X=J.listInactiveFocusOutline)!==null&&X!==void 0?X:"");if(G)Y.push(`.monaco-list${Q} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`);if(J.listSelectionOutline)Y.push(`.monaco-list${Q} .monaco-list-row.selected { outline: 1px dotted ${J.listSelectionOutline}; outline-offset: -1px; }`);if(J.listInactiveFocusOutline)Y.push(`.monaco-list${Q} .monaco-list-row.focused { outline: 1px dotted ${J.listInactiveFocusOutline}; outline-offset: -1px; }`);if(J.listHoverOutline)Y.push(`.monaco-list${Q} .monaco-list-row:hover { outline: 1px dashed ${J.listHoverOutline}; outline-offset: -1px; }`);if(J.listDropBackground)Y.push(`
				.monaco-list${Q}.drop-target,
				.monaco-list${Q} .monaco-list-rows.drop-target,
				.monaco-list${Q} .monaco-list-row.drop-target { background-color: ${J.listDropBackground} !important; color: inherit !important; }
			`);if(J.tableColumnsBorder)Y.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${J.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`);if(J.tableOddRowsBackgroundColor)Y.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${J.tableOddRowsBackgroundColor};
				}
			`);this.styleElement.textContent=Y.join("\n")}}class Vs{constructor(J,$){this._templateId=J,this.renderers=$}get templateId(){return this._templateId}renderTemplate(J){return this.renderers.map(($)=>$.renderTemplate(J))}renderElement(J,$,X,Q){let Y=0;for(let Z of this.renderers)Z.renderElement(J,$,X[Y++],Q)}disposeElement(J,$,X,Q){var Y;let Z=0;for(let G of this.renderers)(Y=G.disposeElement)===null||Y===void 0||Y.call(G,J,$,X[Z],Q),Z+=1}disposeTemplate(J){let $=0;for(let X of this.renderers)X.disposeTemplate(J[$++])}}class Ws{constructor(J){this.accessibilityProvider=J,this.templateId="a18n"}renderTemplate(J){return J}renderElement(J,$,X){const Q=this.accessibilityProvider.getAriaLabel(J);if(Q)X.setAttribute("aria-label",Q);else X.removeAttribute("aria-label");const Y=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(J);if(typeof Y==="number")X.setAttribute("aria-level",`${Y}`);else X.removeAttribute("aria-level")}disposeTemplate(J){}}class Bs{constructor(J,$){this.list=J,this.dnd=$}getDragElements(J){const $=this.list.getSelectedElements();return $.indexOf(J)>-1?$:[J]}getDragURI(J){return this.dnd.getDragURI(J)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J,$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,J,$)}onDragOver(J,$,X,Q){return this.dnd.onDragOver(J,$,X,Q)}onDragLeave(J,$,X,Q){var Y,Z;(Z=(Y=this.dnd).onDragLeave)===null||Z===void 0||Z.call(Y,J,$,X,Q)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}drop(J,$,X,Q){this.dnd.drop(J,$,X,Q)}dispose(){this.dnd.dispose()}}class p6{get onDidChangeFocus(){return Y0.map(this.eventBufferer.wrapEvent(this.focus.onChange),(J)=>this.toListEvent(J),this.disposables)}get onDidChangeSelection(){return Y0.map(this.eventBufferer.wrapEvent(this.selection.onChange),(J)=>this.toListEvent(J),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let J=!1;const $=Y0.chain(this.disposables.add(new X1(this.view.domNode,"keydown")).event,(Y)=>Y.map((Z)=>new D1(Z)).filter((Z)=>J=Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>g0.stop(Z,!0)).filter(()=>!1)),X=Y0.chain(this.disposables.add(new X1(this.view.domNode,"keyup")).event,(Y)=>Y.forEach(()=>J=!1).map((Z)=>new D1(Z)).filter((Z)=>Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>g0.stop(Z,!0)).map(({browserEvent:Z})=>{const G=this.getFocus(),q=G.length?G[0]:void 0,U=typeof q!=="undefined"?this.view.element(q):void 0,H=typeof q!=="undefined"?this.view.domElement(q):this.view.domNode;return{index:q,element:U,anchor:H,browserEvent:Z}})),Q=Y0.chain(this.view.onContextMenu,(Y)=>Y.filter((Z)=>!J).map(({element:Z,index:G,browserEvent:q})=>({element:Z,index:G,anchor:new X6(q),browserEvent:q})));return Y0.any($,X,Q)}get onKeyDown(){return this.disposables.add(new X1(this.view.domNode,"keydown")).event}get onDidFocus(){return Y0.signal(this.disposables.add(new X1(this.view.domNode,"focus",!0)).event)}constructor(J,$,X,Q,Y=FJ0){var Z,G,q,U;this.user=J,this._options=Y,this.focus=new DV("focused"),this.anchor=new DV("anchor"),this.eventBufferer=new NZ,this._ariaLabel="",this.disposables=new e,this._onDidDispose=new E,this.onDidDispose=this._onDidDispose.event;const H=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Z=this._options.accessibilityProvider)===null||Z===void 0?void 0:Z.getWidgetRole():"list";this.selection=new qs(H!=="listbox");const z=[this.focus.renderer,this.selection.renderer];if(this.accessibilityProvider=Y.accessibilityProvider,this.accessibilityProvider)z.push(new Ws(this.accessibilityProvider)),(q=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||q===void 0||q.call(G,this.onDidChangeActiveDescendant,this,this.disposables);Q=Q.map((W)=>new Vs(W.templateId,[...z,W]));const V=Object.assign(Object.assign({},Y),{dnd:Y.dnd&&new Bs(this,Y.dnd)});if(this.view=this.createListView($,X,Q,V),this.view.domNode.setAttribute("role",H),Y.styleController)this.styleController=Y.styleController(this.view.domId);else{const W=K7(this.view.domNode);this.styleController=new KP(W,this.view.domId)}if(this.spliceable=new OI([new jP(this.focus,this.view,Y.identityProvider),new jP(this.selection,this.view,Y.identityProvider),new jP(this.anchor,this.view,Y.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Hs(this,this.view)),typeof Y.keyboardSupport!=="boolean"||Y.keyboardSupport)this.keyboardController=new LI(this,this.view,Y),this.disposables.add(this.keyboardController);if(Y.keyboardNavigationLabelProvider){const W=Y.keyboardNavigationDelegate||BJ0;this.typeNavigationController=new Us(this,this.view,Y.keyboardNavigationLabelProvider,(U=Y.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,W),this.disposables.add(this.typeNavigationController)}if(this.mouseController=this.createMouseController(Y),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider)this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel();if(this._options.multipleSelectionSupport!==!1)this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(J,$,X,Q){return new q5(J,$,X,Q)}createMouseController(J){return new FP(this)}updateOptions(J={}){var $,X;if(this._options=Object.assign(Object.assign({},this._options),J),($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0)if(this._options.multipleSelectionSupport)this.view.domNode.setAttribute("aria-multiselectable","true");else this.view.domNode.removeAttribute("aria-multiselectable");this.mouseController.updateOptions(J),(X=this.keyboardController)===null||X===void 0||X.updateOptions(J),this.view.updateOptions(J)}get options(){return this._options}splice(J,$,X=[]){if(J<0||J>this.view.length)throw new vY(this.user,`Invalid start index: ${J}`);if($<0)throw new vY(this.user,`Invalid delete count: ${$}`);if($===0&&X.length===0)return;this.eventBufferer.bufferEvents(()=>this.spliceable.splice(J,$,X))}rerender(){this.view.rerender()}element(J){return this.view.element(J)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(J){this.view.setScrollTop(J)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(J){this._ariaLabel=J,this.view.domNode.setAttribute("aria-label",J)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(J,$){this.view.layout(J,$)}setSelection(J,$){for(let X of J)if(X<0||X>=this.length)throw new vY(this.user,`Invalid index ${X}`);this.selection.set(J,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((J)=>this.view.element(J))}setAnchor(J){if(typeof J==="undefined"){this.anchor.set([]);return}if(J<0||J>=this.length)throw new vY(this.user,`Invalid index ${J}`);this.anchor.set([J])}getAnchor(){return YB(this.anchor.get(),void 0)}getAnchorElement(){const J=this.getAnchor();return typeof J==="undefined"?void 0:this.element(J)}setFocus(J,$){for(let X of J)if(X<0||X>=this.length)throw new vY(this.user,`Invalid index ${X}`);this.focus.set(J,$)}focusNext(J=1,$=!1,X,Q){if(this.length===0)return;const Y=this.focus.get(),Z=this.findNextIndex(Y.length>0?Y[0]+J:0,$,Q);if(Z>-1)this.setFocus([Z],X)}focusPrevious(J=1,$=!1,X,Q){if(this.length===0)return;const Y=this.focus.get(),Z=this.findPreviousIndex(Y.length>0?Y[0]-J:0,$,Q);if(Z>-1)this.setFocus([Z],X)}focusNextPage(J,$){return Qs(this,void 0,void 0,function*(){let X=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);X=X===0?0:X-1;const Q=this.getFocus()[0];if(Q!==X&&(Q===void 0||X>Q)){const Y=this.findPreviousIndex(X,!1,$);if(Y>-1&&Q!==Y)this.setFocus([Y],J);else this.setFocus([X],J)}else{const Y=this.view.getScrollTop();let Z=Y+this.view.renderHeight;if(X>Q)Z-=this.view.elementHeight(X);if(this.view.setScrollTop(Z),this.view.getScrollTop()!==Y)this.setFocus([]),yield FX(0),yield this.focusNextPage(J,$)}})}focusPreviousPage(J,$){return Qs(this,void 0,void 0,function*(){let X;const Q=this.view.getScrollTop();if(Q===0)X=this.view.indexAt(Q);else X=this.view.indexAfter(Q-1);const Y=this.getFocus()[0];if(Y!==X&&(Y===void 0||Y>=X)){const Z=this.findNextIndex(X,!1,$);if(Z>-1&&Y!==Z)this.setFocus([Z],J);else this.setFocus([X],J)}else{const Z=Q;if(this.view.setScrollTop(Q-this.view.renderHeight),this.view.getScrollTop()!==Z)this.setFocus([]),yield FX(0),yield this.focusPreviousPage(J,$)}})}focusLast(J,$){if(this.length===0)return;const X=this.findPreviousIndex(this.length-1,!1,$);if(X>-1)this.setFocus([X],J)}focusFirst(J,$){this.focusNth(0,J,$)}focusNth(J,$,X){if(this.length===0)return;const Q=this.findNextIndex(J,!1,X);if(Q>-1)this.setFocus([Q],$)}findNextIndex(J,$=!1,X){for(let Q=0;Q<this.length;Q++){if(J>=this.length&&!$)return-1;if(J=J%this.length,!X||X(this.element(J)))return J;J++}return-1}findPreviousIndex(J,$=!1,X){for(let Q=0;Q<this.length;Q++){if(J<0&&!$)return-1;if(J=(this.length+J%this.length)%this.length,!X||X(this.element(J)))return J;J--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((J)=>this.view.element(J))}reveal(J,$){if(J<0||J>=this.length)throw new vY(this.user,`Invalid index ${J}`);const X=this.view.getScrollTop(),Q=this.view.elementTop(J),Y=this.view.elementHeight(J);if(s9($)){const Z=Y-this.view.renderHeight;this.view.setScrollTop(Z*U6($,0,1)+Q)}else{const Z=Q+Y,G=X+this.view.renderHeight;if(Q<X&&Z>=G);else if(Q<X||Z>=G&&Y>=this.view.renderHeight)this.view.setScrollTop(Q);else if(Z>=G)this.view.setScrollTop(Z-this.view.renderHeight)}}getHTMLElement(){return this.view.domNode}getElementID(J){return this.view.getElementDomId(J)}style(J){this.styleController.style(J)}toListEvent({indexes:J,browserEvent:$}){return{indexes:J,elements:J.map((X)=>this.view.element(X)),browserEvent:$}}_onFocusChange(){const J=this.focus.get();this.view.domNode.classList.toggle("element-focused",J.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var J;const $=this.focus.get();if($.length>0){let X;if((J=this.accessibilityProvider)===null||J===void 0?void 0:J.getActiveDescendantId)X=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]));this.view.domNode.setAttribute("aria-activedescendant",X||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const J=this.selection.get();this.view.domNode.classList.toggle("selection-none",J.length===0),this.view.domNode.classList.toggle("selection-single",J.length===1),this.view.domNode.classList.toggle("selection-multiple",J.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}var jJ0,KJ0,_I,AJ0,iG,Qs,M4,kU,BJ0,Ys,zs,FJ0,Zs;var nG=N(()=>{y0();K4();x6();h5();$Y();id();V1();f1();S9();GY();A0();xY();$0();jU();O1();j8();NI();nd();BP();O5();jJ0=function(J){return J instanceof MouseEvent&&J.button===2},KJ0=function(J,$){const X=J.indexOf($);if(X===-1)return[];const Q=[];let Y=X-1;while(Y>=0&&J[Y]===$-(X-Y))Q.push(J[Y--]);Q.reverse(),Y=X;while(Y<J.length&&J[Y]===$+(Y-X))Q.push(J[Y++]);return Q},_I=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length||Y<$.length)if(Q>=J.length)X.push($[Y++]);else if(Y>=$.length)X.push(J[Q++]);else if(J[Q]===$[Y]){X.push(J[Q]),Q++,Y++;continue}else if(J[Q]<$[Y])X.push(J[Q++]);else X.push($[Y++]);return X},AJ0=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length||Y<$.length)if(Q>=J.length)X.push($[Y++]);else if(Y>=$.length)X.push(J[Q++]);else if(J[Q]===$[Y]){Q++,Y++;continue}else if(J[Q]<$[Y])X.push(J[Q++]);else Y++;return X},iG=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Qs=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};iG([Y8],DV.prototype,"renderer",null);iG([Y8],LI.prototype,"onKeyDown",null);(function(J){J[J.Automatic=0]="Automatic",J[J.Trigger=1]="Trigger"})(M4||(M4={}));(function(J){J[J.Idle=0]="Idle",J[J.Typing=1]="Typing"})(kU||(kU={}));BJ0=new class{mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey||J.altKey)return!1;return J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30||J.keyCode>=98&&J.keyCode<=107||J.keyCode>=85&&J.keyCode<=95}};Ys={isSelectionSingleChangeEvent:II,isSelectionRangeChangeEvent:kI};zs={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:u.fromHex("#a9a9a9").transparent(0.4).toString(),tableColumnsBorder:u.fromHex("#cccccc").transparent(0.2).toString(),tableOddRowsBackgroundColor:u.fromHex("#cccccc").transparent(0.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},FJ0={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}},Zs=(J,$)=>J-$;iG([Y8],p6.prototype,"onDidChangeFocus",null);iG([Y8],p6.prototype,"onDidChangeSelection",null);iG([Y8],p6.prototype,"onContextMenu",null);iG([Y8],p6.prototype,"onKeyDown",null);iG([Y8],p6.prototype,"onDidFocus",null)});var js=N(()=>{j1();F0(".monaco-select-box-dropdown-padding{--dropdown-padding-top:1px;--dropdown-padding-bottom:1px}.hc-black .monaco-select-box-dropdown-padding,.hc-light .monaco-select-box-dropdown-padding{--dropdown-padding-top:3px;--dropdown-padding-bottom:4px}.monaco-select-box-dropdown-container{box-sizing:border-box;display:none}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown *{margin:0}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{line-height:15px;font-family:var(--monaco-monospace-font)}.monaco-select-box-dropdown-container.visible{text-align:left;border-bottom-right-radius:3px;border-bottom-left-radius:3px;flex-direction:column;width:1px;display:flex;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom);box-sizing:border-box;flex:none;align-self:flex-start;width:100%;padding-left:1px;padding-right:1px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-details-pane{padding:5px}.hc-black .monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom)}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row{cursor:pointer}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-text{text-overflow:ellipsis;white-space:nowrap;float:left;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-detail{text-overflow:ellipsis;white-space:nowrap;float:left;opacity:.7;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-decorator-right{text-overflow:ellipsis;white-space:nowrap;float:right;padding-right:10px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.visually-hidden{width:1px;height:1px;position:absolute;top:auto;left:-10000px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control{opacity:0;flex:auto;align-self:flex-start}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div{max-height:0;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div>.option-text-width-control{white-space:nowrap;padding-left:4px;padding-right:8px}")});class Ks{get templateId(){return Fs}renderTemplate(J){const $=Object.create(null);return $.root=J,$.text=Z0(J,oG(".option-text")),$.detail=Z0(J,oG(".option-detail")),$.decoratorRight=Z0(J,oG(".option-decorator-right")),$}renderElement(J,$,X){const Q=X,Y=J.text,Z=J.detail,G=J.decoratorRight,q=J.isDisabled;if(Q.text.textContent=Y,Q.detail.textContent=Z?Z:"",Q.decoratorRight.innerText=G?G:"",q)Q.root.classList.add("option-disabled");else Q.root.classList.remove("option-disabled")}disposeTemplate(J){}}class O4 extends f{constructor(J,$,X,Q,Y){super();if(this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=Q,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!=="number")this.selectBoxOptions.minBottomMargin=O4.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;else if(this.selectBoxOptions.minBottomMargin<0)this.selectBoxOptions.minBottomMargin=0;if(this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);if(this._onDidSelect=new E,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(X),this.selected=$||0,J)this.setOptions(J,$);this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return Fs}constructSelectDropDown(J){this.contextViewProvider=J,this.selectDropDownContainer=U0(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Z0(this.selectDropDownContainer,oG(".select-box-details-pane"));const $=Z0(this.selectDropDownContainer,oG(".select-box-dropdown-container-width-control")),X=Z0($,oG(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Z0(X,this.widthControlElement),this._dropDownPosition=0,this.styleElement=K7(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(l(this.selectDropDownContainer,G0.DRAG_START,(Q)=>{g0.stop(Q,!0)}))}registerListeners(){this._register(X8(this.selectElement,"change",($)=>{if(this.selected=$.target.selectedIndex,this._onDidSelect.fire({index:$.target.selectedIndex,selected:$.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text})),this._register(l(this.selectElement,G0.CLICK,($)=>{if(g0.stop($),this._isVisible)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(l(this.selectElement,G0.MOUSE_DOWN,($)=>{g0.stop($)}));let J;this._register(l(this.selectElement,"touchstart",($)=>{J=this._isVisible})),this._register(l(this.selectElement,"touchend",($)=>{if(g0.stop($),J)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(l(this.selectElement,G0.KEY_DOWN,($)=>{const X=new D1($);let Q=!1;if(n0){if(X.keyCode===18||X.keyCode===16||X.keyCode===10||X.keyCode===3)Q=!0}else if(X.keyCode===18&&X.altKey||X.keyCode===16&&X.altKey||X.keyCode===10||X.keyCode===3)Q=!0;if(Q)this.showSelectDropDown(),g0.stop($,!0)}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!$8(this.options,J))this.options=J,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((X,Q)=>{if(this.selectElement.add(this.createOption(X.text,Q,X.isDisabled)),typeof X.description==="string")this._hasDetails=!0});if($!==void 0)this.select($),this._currentSelection=this.selected}setOptionsList(){var J;(J=this.selectList)===null||J===void 0||J.splice(0,this.selectList.length,this.options)}select(J){if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){this.container=J,J.classList.add("select-container"),J.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const J=[];if(this.styles.listFocusBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);if(this.styles.listFocusForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);if(this.styles.decoratorRightForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);if(this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground)J.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);else if(this.styles.selectListBorder)J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);if(this.styles.listHoverForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);if(this.styles.listHoverBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);if(this.styles.listFocusOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);if(this.styles.listHoverOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=J.join("\n")}styleSelectElement(){var J,$,X;const Q=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Y=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",Z=(X=this.styles.selectBorder)!==null&&X!==void 0?X:"";this.selectElement.style.backgroundColor=Q,this.selectElement.style.color=Y,this.selectElement.style.borderColor=Z}styleList(){var J,$;const X=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Q=X$(this.styles.selectListBackground,X);this.selectDropDownListContainer.style.backgroundColor=Q,this.selectionDetailsPane.style.backgroundColor=Q;const Y=($=this.styles.focusBorder)!==null&&$!==void 0?$:"";this.selectDropDownContainer.style.outlineColor=Y,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(J,$,X){const Q=document.createElement("option");return Q.value=J,Q.text=J,Q.disabled=!!X,Q}showSelectDropDown(){if(this.selectionDetailsPane.innerText="",!this.contextViewProvider||this._isVisible)return;this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true")}hideSelectDropDown(J){if(!this.contextViewProvider||!this._isVisible)return;if(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),J)this.selectElement.focus();this.contextViewProvider.hideContextView()}renderSelectDropDown(J,$){return J.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown($),{dispose:()=>{try{J.removeChild(this.selectDropDownContainer)}catch(X){}}}}measureMaxDetailsHeight(){let J=0;return this.options.forEach(($,X)=>{if(this.updateDetail(X),this.selectionDetailsPane.offsetHeight>J)J=this.selectionDetailsPane.offsetHeight}),J}layoutSelectDropDown(J){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const $=u7(this.selectElement),X=getComputedStyle(this.selectElement),Q=parseFloat(X.getPropertyValue("--dropdown-padding-top"))+parseFloat(X.getPropertyValue("--dropdown-padding-bottom")),Y=window.innerHeight-$.top-$.height-(this.selectBoxOptions.minBottomMargin||0),Z=$.top-O4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,G=this.selectElement.offsetWidth,q=this.setWidthControlElement(this.widthControlElement),U=Math.max(q,Math.round(G)).toString()+"px";this.selectDropDownContainer.style.width=U,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let H=this.selectList.contentHeight;if(this._hasDetails&&this._cachedMaxDetailsHeight===void 0)this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight();const z=this._hasDetails?this._cachedMaxDetailsHeight:0,V=H+Q+z,W=Math.floor((Y-Q-z)/this.getHeight()),B=Math.floor((Z-Q-z)/this.getHeight());if(J){if($.top+$.height>window.innerHeight-22||$.top<O4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||W<1&&B<1)return!1;if(W<O4.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&B>W&&this.options.length>W)this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom");else this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top");return!0}if($.top+$.height>window.innerHeight-22||$.top<O4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&W<1||this._dropDownPosition===1&&B<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&W+B<1)return this.hideSelectDropDown(!0),!1;if(V>Y)H=W*this.getHeight()}else if(V>Z)H=B*this.getHeight();if(this.selectList.layout(H),this.selectList.domFocus(),this.selectList.length>0)this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0);if(this._hasDetails)this.selectList.getHTMLElement().style.height=H+Q+"px",this.selectDropDownContainer.style.height="";else this.selectDropDownContainer.style.height=H+Q+"px";return this.updateDetail(this.selected),this.selectDropDownContainer.style.width=U,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(J){let $=0;if(J){let X=0,Q=0;this.options.forEach((Y,Z)=>{const G=Y.detail?Y.detail.length:0,q=Y.decoratorRight?Y.decoratorRight.length:0,U=Y.text.length+G+q;if(U>Q)X=Z,Q=U}),J.textContent=this.options[X].text+(this.options[X].decoratorRight?this.options[X].decoratorRight+" ":""),$=$q(J)}return $}createSelectList(J){if(this.selectList)return;if(this.selectDropDownListContainer=Z0(J,oG(".select-box-dropdown-list-container")),this.listRenderer=new Ks,this.selectList=new p6("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:(Q)=>{let Y=Q.text;if(Q.detail)Y+=`. ${Q.detail}`;if(Q.decoratorRight)Y+=`. ${Q.decoratorRight}`;if(Q.description)Y+=`. ${Q.description}`;return Y},getWidgetAriaLabel:()=>F({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>n0?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel)this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel;const $=this._register(new X1(this.selectDropDownListContainer,"keydown")),X=Y0.chain($.event,(Q)=>Q.filter(()=>this.selectList.length>0).map((Y)=>new D1(Y)));this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===3))(this.onEnter,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===2))(this.onEnter,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===9))(this.onEscape,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===16))(this.onUpArrow,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===18))(this.onDownArrow,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===12))(this.onPageDown,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===11))(this.onPageUp,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===14))(this.onHome,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===13))(this.onEnd,this)),this._register(Y0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode>=21&&Y.keyCode<=56||Y.keyCode>=85&&Y.keyCode<=113))(this.onCharacter,this)),this._register(l(this.selectList.getHTMLElement(),G0.POINTER_UP,(Q)=>this.onPointerUp(Q))),this._register(this.selectList.onMouseOver((Q)=>typeof Q.index!=="undefined"&&this.selectList.setFocus([Q.index]))),this._register(this.selectList.onDidChangeFocus((Q)=>this.onListFocus(Q))),this._register(l(this.selectDropDownContainer,G0.FOCUS_OUT,(Q)=>{if(!this._isVisible||t8(Q.relatedTarget,this.selectDropDownContainer))return;this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(J){if(!this.selectList.length)return;g0.stop(J);const $=J.target;if(!$)return;if($.classList.contains("slider"))return;const X=$.closest(".monaco-list-row");if(!X)return;const Q=Number(X.getAttribute("data-index")),Y=X.classList.contains("option-disabled");if(Q>=0&&Q<this.options.length&&!Y){if(this.selected=Q,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}}onListBlur(){if(this._sticky)return;if(this.selected!==this._currentSelection)this.select(this._currentSelection);this.hideSelectDropDown(!1)}renderDescriptionMarkdown(J,$){const X=(Y)=>{for(let Z=0;Z<Y.childNodes.length;Z++){const G=Y.childNodes.item(Z);if((G.tagName&&G.tagName.toLowerCase())==="img")Y.removeChild(G);else X(G)}},Q=IU({value:J,supportThemeIcons:!0},{actionHandler:$});return Q.element.classList.add("select-box-description-markdown"),X(Q.element),Q.element}onListFocus(J){if(!this._isVisible||!this._hasDetails)return;this.updateDetail(J.indexes[0])}updateDetail(J){var $,X;this.selectionDetailsPane.innerText="";const Q=this.options[J],Y=($=Q===null||Q===void 0?void 0:Q.description)!==null&&$!==void 0?$:"",Z=(X=Q===null||Q===void 0?void 0:Q.descriptionIsMarkdown)!==null&&X!==void 0?X:!1;if(Y){if(Z){const G=Q.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Y,G))}else this.selectionDetailsPane.innerText=Y;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(J){g0.stop(J),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(J){if(g0.stop(J),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}onDownArrow(J){if(this.selected<this.options.length-1){g0.stop(J,!0);const $=this.options[this.selected+1].isDisabled;if($&&this.options.length>this.selected+2)this.selected+=2;else if($)return;else this.selected++;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(J){if(this.selected>0){if(g0.stop(J,!0),this.options[this.selected-1].isDisabled&&this.selected>1)this.selected-=2;else this.selected--;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(J){g0.stop(J),this.selectList.focusPreviousPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1)this.selected++,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(J){g0.stop(J),this.selectList.focusNextPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0)this.selected--,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(J){if(g0.stop(J),this.options.length<2)return;if(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1)this.selected++;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onEnd(J){if(g0.stop(J),this.options.length<2)return;if(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1)this.selected--;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onCharacter(J){const $=XJ.toString(J.keyCode);let X=-1;for(let Q=0;Q<this.options.length-1;Q++)if(X=(Q+this.selected+1)%this.options.length,this.options[X].text.charAt(0).toUpperCase()===$&&!this.options[X].isDisabled){this.select(X),this.selectList.setFocus([X]),this.selectList.reveal(this.selectList.getFocus()[0]),g0.stop(J);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}var oG,Fs;var As=N(()=>{y0();K4();x6();zP();nG();V1();A0();TZ();$0();O1();js();m0();oG=U0,Fs="selectOption.entry.template";O4.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;O4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;O4.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3});class EI extends f{constructor(J,$,X,Q){super();if(this.selected=0,this.selectBoxOptions=Q||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);this._onDidSelect=this._register(new E),this.styles=X,this.registerListeners(),this.setOptions(J,$)}registerListeners(){this._register(N1.addTarget(this.selectElement)),[L1.Tap].forEach((J)=>{this._register(l(this.selectElement,J,($)=>{this.selectElement.focus()}))}),this._register(X8(this.selectElement,"click",(J)=>{g0.stop(J,!0)})),this._register(X8(this.selectElement,"change",(J)=>{this.selectElement.title=J.target.value,this._onDidSelect.fire({index:J.target.selectedIndex,selected:J.target.value})})),this._register(X8(this.selectElement,"keydown",(J)=>{let $=!1;if(n0){if(J.keyCode===18||J.keyCode===16||J.keyCode===10)$=!0}else if(J.keyCode===18&&J.altKey||J.keyCode===10||J.keyCode===3)$=!0;if($)J.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!this.options||!$8(this.options,J))this.options=J,this.selectElement.options.length=0,this.options.forEach((X,Q)=>{this.selectElement.add(this.createOption(X.text,Q,X.isDisabled))});if($!==void 0)this.select($)}select(J){if(this.options.length===0)this.selected=0;else if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text==="string")this.selectElement.title=this.options[this.selected].text;else this.selectElement.title=""}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){J.classList.add("select-container"),J.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var J,$,X;if(this.selectElement)this.selectElement.style.backgroundColor=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",this.selectElement.style.color=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",this.selectElement.style.borderColor=(X=this.styles.selectBorder)!==null&&X!==void 0?X:""}createOption(J,$,X){const Q=document.createElement("option");return Q.value=J,Q.text=J,Q.disabled=!!X,Q}}var Ps=N(()=>{y0();h5();V1();A0();$0();O1()});var Ds=N(()=>{j1();F0(".monaco-select-box{cursor:pointer;border-radius:2px;width:100%}.monaco-select-box-dropdown-container{text-transform:none;font-size:13px;font-weight:400}.monaco-action-bar .action-item.select-container{cursor:default}.monaco-action-bar .action-item .monaco-select-box{cursor:pointer;min-width:100px;min-height:18px;padding:2px 23px 2px 8px}.mac .monaco-action-bar .action-item .monaco-select-box{border-radius:5px;font-size:11px}")});class yI extends J9{constructor(J,$,X,Q,Y){super();if(n0&&!(Y===null||Y===void 0?void 0:Y.useCustomDrawn))this.selectBoxDelegate=new EI(J,$,Q,Y);else this.selectBoxDelegate=new O4(J,$,X,Q,Y);this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(J,$){this.selectBoxDelegate.setOptions(J,$)}select(J){this.selectBoxDelegate.select(J)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(J){this.selectBoxDelegate.setFocusable(J)}render(J){this.selectBoxDelegate.render(J)}}var Rs=N(()=>{As();Ps();vX();O1();Ds()});var SI=N(()=>{j1();F0(".monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{align-items:center;width:100%;height:100%;margin:0 auto;padding:0;display:flex}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{cursor:pointer;justify-content:center;align-items:center;display:block;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .icon,.monaco-action-bar .action-item .codicon{display:block}.monaco-action-bar .action-item .codicon{align-items:center;width:16px;height:16px;display:flex}.monaco-action-bar .action-label{border-radius:5px;padding:3px;font-size:11px;display:flex}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.6}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{border-bottom:1px solid #bbb;margin-left:.8em;margin-right:.8em;padding-top:1px;display:block}.monaco-action-bar .action-item .action-label.separator{cursor:default;background-color:#bbb;width:1px;min-width:1px;height:16px;padding:0;margin:5px 4px!important}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{flex:1;justify-content:center;align-items:center;min-width:60px;max-width:170px;margin-right:10px;display:flex;overflow:hidden}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator{cursor:default;align-items:center;display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator>div{width:1px}")});class F9 extends f{get action(){return this._action}constructor(J,$,X={}){super();if(this.options=X,this._context=J||this,this._action=$,$ instanceof i6)this._register($.onDidChange((Q)=>{if(!this.element)return;this.handleActionChangeEvent(Q)}))}handleActionChangeEvent(J){if(J.enabled!==void 0)this.updateEnabled();if(J.checked!==void 0)this.updateChecked();if(J.class!==void 0)this.updateClass();if(J.label!==void 0)this.updateLabel(),this.updateTooltip();if(J.tooltip!==void 0)this.updateTooltip()}get actionRunner(){if(!this._actionRunner)this._actionRunner=this._register(new qJ);return this._actionRunner}set actionRunner(J){this._actionRunner=J}isEnabled(){return this._action.enabled}setActionContext(J){this._context=J}render(J){const $=this.element=J;this._register(N1.addTarget(J));const X=this.options&&this.options.draggable;if(X){if(J.draggable=!0,g7)this._register(l(J,G0.DRAG_START,(Q)=>{var Y;return(Y=Q.dataTransfer)===null||Y===void 0?void 0:Y.setData(tA.TEXT,this._action.label)}))}if(this._register(l($,L1.Tap,(Q)=>this.onClick(Q,!0))),this._register(l($,G0.MOUSE_DOWN,(Q)=>{if(!X)g0.stop(Q,!0);if(this._action.enabled&&Q.button===0)$.classList.add("active")})),n0)this._register(l($,G0.CONTEXT_MENU,(Q)=>{if(Q.button===0&&Q.ctrlKey===!0)this.onClick(Q)}));this._register(l($,G0.CLICK,(Q)=>{if(g0.stop(Q,!0),!(this.options&&this.options.isMenu))this.onClick(Q)})),this._register(l($,G0.DBLCLICK,(Q)=>{g0.stop(Q,!0)})),[G0.MOUSE_UP,G0.MOUSE_OUT].forEach((Q)=>{this._register(l($,Q,(Y)=>{g0.stop(Y),$.classList.remove("active")}))})}onClick(J,$=!1){var X;g0.stop(J,!0);const Q=j6(this._context)?((X=this.options)===null||X===void 0?void 0:X.useEventAsContext)?J:{preserveFocus:$}:this._context;this.actionRunner.run(this._action,Q)}focus(){if(this.element)this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused")}blur(){if(this.element)this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused")}setFocusable(J){if(this.element)this.element.tabIndex=J?0:-1}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var J;if(!this.element)return;const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";if(this.updateAriaLabel(),!this.options.hoverDelegate)this.element.title=$;else if(this.element.title="",!this.customHover)this.customHover=ZP(this.options.hoverDelegate,this.element,$),this._store.add(this.customHover);else this.customHover.update($)}updateAriaLabel(){var J;if(this.element){const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.element.setAttribute("aria-label",$)}}updateClass(){}updateChecked(){}dispose(){if(this.element)this.element.remove(),this.element=void 0;this._context=void 0,super.dispose()}}class tG extends F9{constructor(J,$,X){super(J,$,X);this.options=X,this.options.icon=X.icon!==void 0?X.icon:!1,this.options.label=X.label!==void 0?X.label:!0,this.cssClass=""}render(J){if(super.render(J),this.element)this.label=Z0(this.element,U0("a.action-label"));if(this.label)this.label.setAttribute("role",this.getDefaultAriaRole());if(this.options.label&&this.options.keybinding&&this.element)Z0(this.element,U0("span.keybinding")).textContent=this.options.keybinding;this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){if(this._action.id===p7.ID)return"presentation";else if(this.options.isMenu)return"menuitem";else return"button"}focus(){if(this.label)this.label.tabIndex=0,this.label.focus()}blur(){if(this.label)this.label.tabIndex=-1}setFocusable(J){if(this.label)this.label.tabIndex=J?0:-1}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this.action.label}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(!this.options.label&&this.action.label&&this.options.icon){if(J=this.action.label,this.options.keybinding)J=F({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",J,this.options.keybinding)}return J!==null&&J!==void 0?J:void 0}updateClass(){var J;if(this.cssClass&&this.label)this.label.classList.remove(...this.cssClass.split(" "));if(this.options.icon){if(this.cssClass=this.action.class,this.label){if(this.label.classList.add("codicon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "))}this.updateEnabled()}else(J=this.label)===null||J===void 0||J.classList.remove("codicon")}updateEnabled(){var J,$;if(this.action.enabled){if(this.label)this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled");(J=this.element)===null||J===void 0||J.classList.remove("disabled")}else{if(this.label)this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled");($=this.element)===null||$===void 0||$.classList.add("disabled")}}updateAriaLabel(){var J;if(this.label){const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.label.setAttribute("aria-label",$)}}updateChecked(){if(this.label)if(this.action.checked!==void 0)this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox");else this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())}}class CI extends F9{constructor(J,$,X,Q,Y,Z,G){super(J,$);this.selectBox=new yI(X,Q,Y,Z,G),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(J){this.selectBox.select(J)}registerListeners(){this._register(this.selectBox.onDidSelect((J)=>this.runAction(J.selected,J.index)))}runAction(J,$){this.actionRunner.run(this._action,this.getActionContext(J,$))}getActionContext(J,$){return J}setFocusable(J){this.selectBox.setFocusable(J)}focus(){var J;(J=this.selectBox)===null||J===void 0||J.focus()}blur(){var J;(J=this.selectBox)===null||J===void 0||J.blur()}render(J){this.selectBox.render(J)}}var RV=N(()=>{z9();tL();y0();h5();VI();Rs();T9();$0();O1();j8();SI();m0()});var xI=N(()=>{j1();F0(".monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;justify-content:center;align-items:center;height:100%;display:flex}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});class Ms extends qJ{constructor(J,$){super();this._onDidChangeVisibility=this._register(new E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Z0(J,U0(".monaco-dropdown")),this._label=Z0(this._element,U0(".dropdown-label"));let X=$.labelRenderer;if(!X)X=(Y)=>{return Y.textContent=$.label||"",null};for(let Y of[G0.CLICK,G0.MOUSE_DOWN,L1.Tap])this._register(l(this.element,Y,(Z)=>g0.stop(Z,!0)));for(let Y of[G0.MOUSE_DOWN,L1.Tap])this._register(l(this._label,Y,(Z)=>{if(Z instanceof MouseEvent&&(Z.detail>1||Z.button!==0))return;if(this.visible)this.hide();else this.show()}));this._register(l(this._label,G0.KEY_UP,(Y)=>{const Z=new D1(Y);if(Z.equals(3)||Z.equals(10))if(g0.stop(Y,!0),this.visible)this.hide();else this.show()}));const Q=X(this._label);if(Q)this._register(Q);this._register(N1.addTarget(this._label))}get element(){return this._element}show(){if(!this.visible)this.visible=!0,this._onDidChangeVisibility.fire(!0)}hide(){if(this.visible)this.visible=!1,this._onDidChangeVisibility.fire(!1)}dispose(){if(super.dispose(),this.hide(),this.boxContainer)this.boxContainer.remove(),this.boxContainer=void 0;if(this.contents)this.contents.remove(),this.contents=void 0;if(this._label)this._label.remove(),this._label=void 0}}class bI extends Ms{constructor(J,$){super(J,$);this._options=$,this._actions=[],this.actions=$.actions||[]}set menuOptions(J){this._menuOptions=J}get menuOptions(){return this._menuOptions}get actions(){if(this._options.actionProvider)return this._options.actionProvider.getActions();return this._actions}set actions(J){this._actions=J}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(J,$)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(J,$):void 0,getKeyBinding:(J)=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(J):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var Os=N(()=>{y0();x6();h5();T9();A0();xI()});class AP extends F9{constructor(J,$,X,Q=Object.create(null)){super(null,J,Q);if(this.actionItem=null,this._onDidChangeVisibility=this._register(new E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=$,this.contextMenuProvider=X,this.options=Q,this.options.actionRunner)this.actionRunner=this.options.actionRunner}render(J){this.actionItem=J;const $=(Y)=>{this.element=Z0(Y,U0("a.action-label"));let Z=[];if(typeof this.options.classNames==="string")Z=this.options.classNames.split(/\s+/g).filter((G)=>!!G);else if(this.options.classNames)Z=this.options.classNames;if(!Z.find((G)=>G==="icon"))Z.push("codicon");return this.element.classList.add(...Z),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},X=Array.isArray(this.menuActionsOrProvider),Q={contextMenuProvider:this.contextMenuProvider,labelRenderer:$,menuAsChild:this.options.menuAsChild,actions:X?this.menuActionsOrProvider:void 0,actionProvider:X?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new bI(J,Q)),this._register(this.dropdownMenu.onDidChangeVisibility((Y)=>{var Z;(Z=this.element)===null||Z===void 0||Z.setAttribute("aria-expanded",`${Y}`),this._onDidChangeVisibility.fire(Y)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const Y=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return Y.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(this.action.label)J=this.action.label;return J!==null&&J!==void 0?J:void 0}setActionContext(J){if(super.setActionContext(J),this.dropdownMenu)if(this.dropdownMenu.menuOptions)this.dropdownMenu.menuOptions.context=J;else this.dropdownMenu.menuOptions={context:J}}show(){var J;(J=this.dropdownMenu)===null||J===void 0||J.show()}updateEnabled(){var J,$;const X=!this.action.enabled;(J=this.actionItem)===null||J===void 0||J.classList.toggle("disabled",X),($=this.element)===null||$===void 0||$.classList.toggle("disabled",X)}}var Ns=N(()=>{y0();RV();Os();A0();xI()});var Ts=N(()=>{j1();F0(".monaco-action-bar .action-item.menu-entry .action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});function _s(J){return J?J.condition!==void 0:!1}var ws=N(()=>{});class J2 extends f{constructor(J,$=Object.create(null)){super();this.database=J,this.options=$,this._onDidChangeStorage=this._register(new $J),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=EU.None,this.cache=new Map,this.flushDelayer=this._register(new qH(J2.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((J)=>this.onDidChangeItemsExternal(J)))}onDidChangeItemsExternal(J){var $,X;this._onDidChangeStorage.pause();try{($=J.changed)===null||$===void 0||$.forEach((Q,Y)=>this.acceptExternal(Y,Q)),(X=J.deleted)===null||X===void 0||X.forEach((Q)=>this.acceptExternal(Q,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(J,$){if(this.state===EU.Closed)return;let X=!1;if(j6($))X=this.cache.delete(J);else if(this.cache.get(J)!==$)this.cache.set(J,$),X=!0;if(X)this._onDidChangeStorage.fire({key:J,external:!0})}get(J,$){const X=this.cache.get(J);if(j6(X))return $;return X}getBoolean(J,$){const X=this.get(J);if(j6(X))return $;return X==="true"}getNumber(J,$){const X=this.get(J);if(j6(X))return $;return parseInt(X,10)}set(J,$,X=!1){return MV(this,void 0,void 0,function*(){if(this.state===EU.Closed)return;if(j6($))return this.delete(J,X);const Q=r8($)||Array.isArray($)?sd($):String($);if(this.cache.get(J)===Q)return;return this.cache.set(J,Q),this.pendingInserts.set(J,Q),this.pendingDeletes.delete(J),this._onDidChangeStorage.fire({key:J,external:X}),this.doFlush()})}delete(J,$=!1){return MV(this,void 0,void 0,function*(){if(this.state===EU.Closed)return;if(!this.cache.delete(J))return;if(!this.pendingDeletes.has(J))this.pendingDeletes.add(J);return this.pendingInserts.delete(J),this._onDidChangeStorage.fire({key:J,external:$}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return MV(this,void 0,void 0,function*(){if(!this.hasPending)return;const J={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(J).finally(()=>{var $;if(!this.hasPending)while(this.whenFlushedCallbacks.length)($=this.whenFlushedCallbacks.pop())===null||$===void 0||$()})})}doFlush(J){return MV(this,void 0,void 0,function*(){if(this.options.hint===eG.STORAGE_IN_MEMORY)return this.flushPending();return this.flushDelayer.trigger(()=>this.flushPending(),J)})}}class OV{constructor(){this.onDidChangeItemsExternal=Y0.None,this.items=new Map}updateItems(J){var $,X;return MV(this,void 0,void 0,function*(){($=J.insert)===null||$===void 0||$.forEach((Q,Y)=>this.items.set(Y,Q)),(X=J.delete)===null||X===void 0||X.forEach((Q)=>this.items.delete(Q))})}}var MV,eG,EU;var Ls=N(()=>{f1();A0();$0();HP();j8();MV=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};(function(J){J[J.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",J[J.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(eG||(eG={}));(function(J){J[J.None=0]="None",J[J.Initialized=1]="Initialized",J[J.Closed=2]="Closed"})(EU||(EU={}));J2.DEFAULT_FLUSH_DELAY=100});function PJ0(J){const $=J.get(PP);if($)try{return JSON.parse($)}catch(X){}return Object.create(null)}class RP extends f{constructor(J={flushInterval:RP.DEFAULT_FLUSH_INTERVAL}){super();this.options=J,this._onDidChangeValue=this._register(new $J),this._onDidChangeTarget=this._register(new $J),this._onWillSaveState=this._register(new E),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(J,$,X){return Y0.filter(this._onDidChangeValue.event,(Q)=>Q.scope===J&&($===void 0||Q.key===$),X)}emitDidChangeValue(J,$){const{key:X,external:Q}=$;if(X===PP){switch(J){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:J})}else this._onDidChangeValue.fire({scope:J,key:X,target:this.getKeyTargets(J)[X],external:Q})}get(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.get(J,X)}getBoolean(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.getBoolean(J,X)}getNumber(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.getNumber(J,X)}store(J,$,X,Q,Y=!1){if(j6($)){this.remove(J,X,Y);return}this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(J,X,Q),(Z=this.getStorage(X))===null||Z===void 0||Z.set(J,$,Y)})}remove(J,$,X=!1){this.withPausedEmitters(()=>{var Q;this.updateKeyTarget(J,$,void 0),(Q=this.getStorage($))===null||Q===void 0||Q.delete(J,X)})}withPausedEmitters(J){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{J()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(J,$,X,Q=!1){var Y,Z;const G=this.getKeyTargets($);if(typeof X==="number"){if(G[J]!==X)G[J]=X,(Y=this.getStorage($))===null||Y===void 0||Y.set(PP,JSON.stringify(G),Q)}else if(typeof G[J]==="number")delete G[J],(Z=this.getStorage($))===null||Z===void 0||Z.set(PP,JSON.stringify(G),Q)}get workspaceKeyTargets(){if(!this._workspaceKeyTargets)this._workspaceKeyTargets=this.loadKeyTargets(1);return this._workspaceKeyTargets}get profileKeyTargets(){if(!this._profileKeyTargets)this._profileKeyTargets=this.loadKeyTargets(0);return this._profileKeyTargets}get applicationKeyTargets(){if(!this._applicationKeyTargets)this._applicationKeyTargets=this.loadKeyTargets(-1);return this._applicationKeyTargets}getKeyTargets(J){switch(J){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(J){const $=this.getStorage(J);return $?PJ0($):Object.create(null)}}class vI extends RP{constructor(){super();this.applicationStorage=this._register(new J2(new OV,{hint:eG.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new J2(new OV,{hint:eG.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new J2(new OV,{hint:eG.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(1,J))),this._register(this.profileStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(0,J))),this._register(this.applicationStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(-1,J)))}getStorage(J){switch(J){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}var PP,N4,DP;var yU=N(()=>{A0();$0();j8();Ls();e0();PP="__$__targetStorageMarker",N4=O0("storageService");(function(J){J[J.NONE=0]="NONE",J[J.SHUTDOWN=1]="SHUTDOWN"})(DP||(DP={}));RP.DEFAULT_FLUSH_INTERVAL=60000});function HQ(J){return DJ0(J,$2)}var DJ0,Is,ks,Es,fI,gv0,pv0,hI,ys,Ss,mv0,$2,Cs,xs;var SU=N(()=>{e6();S9();DJ0=function(J,$){const X=Object.assign({},$);for(let Q in J){const Y=J[Q];X[Q]=Y!==void 0?W0(Y):void 0}return X};Is={keybindingLabelBackground:W0(qh),keybindingLabelForeground:W0(Uh),keybindingLabelBorder:W0(Hh),keybindingLabelBottomBorder:W0(zh),keybindingLabelShadow:W0(z$)},ks={buttonForeground:W0(Oq),buttonSeparator:W0(rf),buttonBackground:W0(Nq),buttonHoverBackground:W0(nf),buttonSecondaryForeground:W0(tf),buttonSecondaryBackground:W0($K),buttonSecondaryHoverBackground:W0(ef),buttonBorder:W0(of)},Es={progressBarBackground:W0(Xh)},fI={inputActiveOptionBorder:W0(bf),inputActiveOptionForeground:W0(ff),inputActiveOptionBackground:W0(vf)},gv0={checkboxBackground:W0(Ch),checkboxBorder:W0(bh),checkboxForeground:W0(xh)},pv0={dialogBackground:W0(E8),dialogForeground:W0(B$),dialogShadow:W0(z$),dialogBorder:W0(T1),errorIconForeground:W0(th),warningIconForeground:W0(eh),infoIconForeground:W0(Jg),textLinkForeground:W0(Ef)},hI={inputBackground:W0(Sf),inputForeground:W0(Cf),inputBorder:W0(xf),inputValidationInfoBorder:W0(pf),inputValidationInfoBackground:W0(hf),inputValidationInfoForeground:W0(gf),inputValidationWarningBorder:W0(cf),inputValidationWarningBackground:W0(mf),inputValidationWarningForeground:W0(uf),inputValidationErrorBorder:W0(sf),inputValidationErrorBackground:W0(lf),inputValidationErrorForeground:W0(df)},ys={listFilterWidgetBackground:W0(wh),listFilterWidgetOutline:W0(Lh),listFilterWidgetNoMatchesOutline:W0(Ih),listFilterWidgetShadow:W0(kh),inputBoxStyles:hI,toggleStyles:fI},Ss={badgeBackground:W0(iH),badgeForeground:W0(Jh),badgeBorder:W0(T1)},mv0={breadcrumbsBackground:W0(lh),breadcrumbsForeground:W0(ch),breadcrumbsHoverForeground:W0(SN),breadcrumbsFocusForeground:W0(SN),breadcrumbsFocusAndSelectionForeground:W0(dh)},$2={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:W0(Kh),listFocusForeground:W0(Ah),listFocusOutline:W0(Ph),listActiveSelectionBackground:W0(j$),listActiveSelectionForeground:W0(W4),listActiveSelectionIconForeground:W0(Iq),listFocusAndSelectionOutline:W0(Dh),listFocusAndSelectionBackground:W0(j$),listFocusAndSelectionForeground:W0(W4),listInactiveSelectionBackground:W0(Rh),listInactiveSelectionIconForeground:W0(Oh),listInactiveSelectionForeground:W0(Mh),listInactiveFocusBackground:W0(Nh),listInactiveFocusOutline:W0(Th),listHoverBackground:W0(EN),listHoverForeground:W0(yN),listDropBackground:W0(_h),listSelectionOutline:W0(W8),listHoverOutline:W0(W8),treeIndentGuidesStroke:W0(kq),treeInactiveIndentGuidesStroke:W0(Eh),tableColumnsBorder:W0(yh),tableOddRowsBackgroundColor:W0(Sh)},Cs={selectBackground:W0(z4),selectListBackground:W0(af),selectForeground:W0(V$),decoratorRightForeground:W0(GK),selectBorder:W0(qY),focusBorder:W0(Z5),listFocusBackground:W0(A$),listInactiveSelectionIconForeground:W0(CX),listFocusForeground:W0(K$),listFocusOutline:If(W8,u.transparent.toString()),listHoverBackground:W0(EN),listHoverForeground:W0(yN),listHoverOutline:W0(W8),selectListBorder:W0(V4),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},xs={shadowColor:W0(z$),borderColor:W0(vh),foregroundColor:W0(fh),backgroundColor:W0(hh),selectionForegroundColor:W0(gh),selectionBackgroundColor:W0(ph),selectionBorderColor:W0(mh),separatorColor:W0(uh),scrollbarShadow:W0($h),scrollbarSliderBackground:W0(Tq),scrollbarSliderHoverBackground:W0(_q),scrollbarSliderActiveBackground:W0(wq)}});function gs(J,$,X,Q){const Y=J.getActions($),Z=$$.getInstance(),G=Z.keyStatus.altKey||(F8||q8)&&Z.keyStatus.shiftKey;RJ0(Y,X,G,Q?(q)=>q===Q:(q)=>q==="navigation")}var RJ0,MP,K9,hs,CU,bs,vs,fs;var gI=N(()=>{y0();x6();RV();Ns();T9();lA();$0();O1();Ts();m0();e4();ws();s1();mG();e0();uX();JQ();yU();X7();k7();xX();j8();e6();SU();YY();RJ0=function(J,$,X,Q=(G)=>G==="navigation",Y=()=>!1,Z=!1){let G,q;if(Array.isArray($))G=$,q=$;else G=$.primary,q=$.secondary;const U=new Set;for(let[H,z]of J){let V;if(Q(H)){if(V=G,V.length>0&&Z)V.push(new p7)}else if(V=q,V.length>0)V.push(new p7);for(let W of z){if(X)W=W instanceof WX&&W.alt?W.alt:W;const B=V.push(W);if(W instanceof yZ)U.add({group:H,action:W,index:B-1})}}for(let{group:H,action:z,index:V}of U){const W=Q(H)?G:q,B=z.actions;if(Y(z,H,W.length))W.splice(V,1,...B)}},MP=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},K9=function(J,$){return function(X,Q){$(X,Q,J)}},hs=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},CU=class J extends tG{constructor($,X,Q,Y,Z,G,q,U){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:X===null||X===void 0?void 0:X.draggable,keybinding:X===null||X===void 0?void 0:X.keybinding,hoverDelegate:X===null||X===void 0?void 0:X.hoverDelegate});this._keybindingService=Q,this._notificationService=Y,this._contextKeyService=Z,this._themeService=G,this._contextMenuService=q,this._accessibilityService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new K6),this._altKey=$$.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick($){return hs(this,void 0,void 0,function*(){$.preventDefault(),$.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(X){this._notificationService.error(X)}})}render($){if(super.render($),$.classList.add("menu-entry"),this.options.icon)this._updateItemClass(this._menuItemAction.item);if(this._menuItemAction.alt){let X=!1;const Q=()=>{var Y;const Z=!!((Y=this._menuItemAction.alt)===null||Y===void 0?void 0:Y.enabled)&&(!this._accessibilityService.isMotionReduced()||X)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&X);if(Z!==this._wantsAltCommand)this._wantsAltCommand=Z,this.updateLabel(),this.updateTooltip(),this.updateClass()};this._register(this._altKey.event(Q)),this._register(l($,"mouseleave",(Y)=>{X=!1,Q()})),this._register(l($,"mouseenter",(Y)=>{X=!0,Q()})),Q()}}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this._commandAction.label}getTooltip(){var $;const X=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Q=X&&X.getLabel(),Y=this._commandAction.tooltip||this._commandAction.label;let Z=Q?F("titleAndKb","{0} ({1})",Y,Q):Y;if(!this._wantsAltCommand&&(($=this._menuItemAction.alt)===null||$===void 0?void 0:$.enabled)){const G=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),U=q&&q.getLabel(),H=U?F("titleAndKb","{0} ({1})",G,U):G;Z=F("titleAndKbAndAlt","{0}\n[{1}] {2}",Z,PU.modifierLabels[k6].altKey,H)}return Z}updateClass(){if(this.options.icon)if(this._commandAction!==this._menuItemAction){if(this._menuItemAction.alt)this._updateItemClass(this._menuItemAction.alt.item)}else this._updateItemClass(this._menuItemAction.item)}_updateItemClass($){this._itemClassDispose.value=void 0;const{element:X,label:Q}=this;if(!X||!Q)return;const Y=this._commandAction.checked&&_s($.toggled)&&$.toggled.icon?$.toggled.icon:$.icon;if(!Y)return;if(C0.isThemeIcon(Y)){const Z=C0.asClassNameArray(Y);Q.classList.add(...Z),this._itemClassDispose.value=N0(()=>{Q.classList.remove(...Z)})}else{const Z=BG(this._themeService.getColorTheme().type)?zJ(Y.dark):zJ(Y.light),G=U0("span");G.style.webkitMask=G.style.mask=`${Z} no-repeat 50% 50%`,G.style.background="var(--vscode-icon-foreground)",G.style.display="inline-block",G.style.width="100%",G.style.height="100%",Q.appendChild(G),Q.classList.add("icon"),this._itemClassDispose.value=E6(N0(()=>{Q.classList.remove("icon"),e8(Q)}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}}};CU=MP([K9(2,a7),K9(3,i7),K9(4,p0),K9(5,d8),K9(6,f$),K9(7,f5)],CU);bs=class J extends AP{constructor($,X,Q,Y,Z){var G,q,U;const H=Object.assign(Object.assign({},X),{menuAsChild:(G=X===null||X===void 0?void 0:X.menuAsChild)!==null&&G!==void 0?G:!1,classNames:(q=X===null||X===void 0?void 0:X.classNames)!==null&&q!==void 0?q:C0.isThemeIcon($.item.icon)?C0.asClassName($.item.icon):void 0,keybindingProvider:(U=X===null||X===void 0?void 0:X.keybindingProvider)!==null&&U!==void 0?U:(z)=>Q.lookupKeybinding(z.id)});super($,{getActions:()=>$.actions},Y,H);this._keybindingService=Q,this._contextMenuService=Y,this._themeService=Z}render($){super.render($),w7(this.element),$.classList.add("menu-entry");const X=this._action,{icon:Q}=X.item;if(Q&&!C0.isThemeIcon(Q)){this.element.classList.add("icon");const Y=()=>{if(this.element)this.element.style.backgroundImage=BG(this._themeService.getColorTheme().type)?zJ(Q.dark):zJ(Q.light)};Y(),this._register(this._themeService.onDidColorThemeChange(()=>{Y()}))}}};bs=MP([K9(2,a7),K9(3,f$),K9(4,d8)],bs);vs=class J extends F9{constructor($,X,Q,Y,Z,G,q,U){var H,z,V;super(null,$);this._keybindingService=Q,this._notificationService=Y,this._contextMenuService=Z,this._menuService=G,this._instaService=q,this._storageService=U,this._container=null,this._options=X,this._storageKey=`${$.item.submenu.id}_lastActionId`;let W;const B=(X===null||X===void 0?void 0:X.persistLastActionId)?U.get(this._storageKey,1):void 0;if(B)W=$.actions.find((K)=>B===K.id);if(!W)W=$.actions[0];this._defaultAction=this._instaService.createInstance(CU,W,{keybinding:this._getDefaultActionKeybindingLabel(W)});const j=Object.assign(Object.assign({keybindingProvider:(K)=>this._keybindingService.lookupKeybinding(K.id)},X),{menuAsChild:(H=X===null||X===void 0?void 0:X.menuAsChild)!==null&&H!==void 0?H:!0,classNames:(z=X===null||X===void 0?void 0:X.classNames)!==null&&z!==void 0?z:["codicon","codicon-chevron-down"],actionRunner:(V=X===null||X===void 0?void 0:X.actionRunner)!==null&&V!==void 0?V:new qJ});this._dropdown=new AP($,$.actions,this._contextMenuService,j),this._dropdown.actionRunner.onDidRun((K)=>{if(K.action instanceof WX)this.update(K.action)})}update($){var X;if((X=this._options)===null||X===void 0?void 0:X.persistLastActionId)this._storageService.store(this._storageKey,$.id,1,1);if(this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(CU,$,{keybinding:this._getDefaultActionKeybindingLabel($)}),this._defaultAction.actionRunner=new class extends qJ{runAction(Q,Y){return hs(this,void 0,void 0,function*(){yield Q.run(void 0)})}},this._container)this._defaultAction.render(ZF(this._container,U0(".action-container")))}_getDefaultActionKeybindingLabel($){var X;let Q;if((X=this._options)===null||X===void 0?void 0:X.renderKeybindingWithDefaultActionLabel){const Y=this._keybindingService.lookupKeybinding($.id);if(Y)Q=`(${Y.getLabel()})`}return Q}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const X=U0(".action-container");this._defaultAction.render(Z0(this._container,X)),this._register(l(X,G0.KEY_DOWN,(Y)=>{const Z=new D1(Y);if(Z.equals(17))this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Z.stopPropagation()}));const Q=U0(".dropdown-action-container");this._dropdown.render(Z0(this._container,Q)),this._register(l(Q,G0.KEY_DOWN,(Y)=>{var Z;const G=new D1(Y);if(G.equals(15))this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(Z=this._defaultAction.element)===null||Z===void 0||Z.focus(),G.stopPropagation()}))}focus($){if($)this._dropdown.focus();else this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus()}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){if($)this._defaultAction.element.tabIndex=0;else this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1)}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};vs=MP([K9(2,a7),K9(3,i7),K9(4,f$),K9(5,BX),K9(6,G1),K9(7,N4)],vs);fs=class J extends CI{constructor($,X){super(null,$,$.actions.map((Q)=>({text:Q.id===p7.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Q.label,isDisabled:!Q.enabled})),0,X,Cs,{ariaLabel:$.tooltip,optionsAsChildren:!0});this.select(Math.max(0,$.actions.findIndex((Q)=>Q.checked)))}render($){super.render($),$.style.borderColor=W0(qY)}runAction($,X){const Q=this.action.actions[X];if(Q)this.actionRunner.run(Q)}};fs=MP([K9(1,GQ)],fs)});class m6 extends f{constructor(J,$={}){var X,Q,Y,Z,G,q;super();if(this._actionRunnerDisposables=this._register(new e),this.viewItemDisposables=this._register(new OZ),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new E),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new E({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new E),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new E),this.onWillRun=this._onWillRun.event,this.options=$,this._context=(X=$.context)!==null&&X!==void 0?X:null,this._orientation=(Q=this.options.orientation)!==null&&Q!==void 0?Q:0,this._triggerKeys={keyDown:(Z=(Y=this.options.triggerKeys)===null||Y===void 0?void 0:Y.keyDown)!==null&&Z!==void 0?Z:!1,keys:(q=(G=this.options.triggerKeys)===null||G===void 0?void 0:G.keys)!==null&&q!==void 0?q:[3,10]},this.options.actionRunner)this._actionRunner=this.options.actionRunner;else this._actionRunner=new qJ,this._actionRunnerDisposables.add(this._actionRunner);if(this._actionRunnerDisposables.add(this._actionRunner.onDidRun((z)=>this._onDidRun.fire(z))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((z)=>this._onWillRun.fire(z))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",$.animated!==!1)this.domNode.classList.add("animated");let U,H;switch(this._orientation){case 0:U=[15],H=[17];break;case 1:U=[16],H=[18],this.domNode.className+=" vertical";break}if(this._register(l(this.domNode,G0.KEY_DOWN,(z)=>{const V=new D1(z);let W=!0;const B=typeof this.focusedItem==="number"?this.viewItems[this.focusedItem]:void 0;if(U&&(V.equals(U[0])||V.equals(U[1])))W=this.focusPrevious();else if(H&&(V.equals(H[0])||V.equals(H[1])))W=this.focusNext();else if(V.equals(9)&&this.cancelHasListener)this._onDidCancel.fire();else if(V.equals(14))W=this.focusFirst();else if(V.equals(13))W=this.focusLast();else if(V.equals(2)&&B instanceof F9&&B.trapsArrowNavigation)W=this.focusNext();else if(this.isTriggerKeyEvent(V))if(this._triggerKeys.keyDown)this.doTrigger(V);else this.triggerKeyDown=!0;else W=!1;if(W)V.preventDefault(),V.stopPropagation()})),this._register(l(this.domNode,G0.KEY_UP,(z)=>{const V=new D1(z);if(this.isTriggerKeyEvent(V)){if(!this._triggerKeys.keyDown&&this.triggerKeyDown)this.triggerKeyDown=!1,this.doTrigger(V);V.preventDefault(),V.stopPropagation()}else if(V.equals(2)||V.equals(1024|2))this.updateFocusedItem()})),this.focusTracker=this._register(fQ(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{if(w9()===this.domNode||!t8(w9(),this.domNode))this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems)this.actionsList.classList.add("highlight-toggled");if(this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel)this.actionsList.setAttribute("aria-label",this.options.ariaLabel);this.domNode.appendChild(this.actionsList),J.appendChild(this.domNode)}refreshRole(){if(this.length()>=2)this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar");else this.actionsList.setAttribute("role","presentation")}setFocusable(J){if(this.focusable=J,this.focusable){const $=this.viewItems.find((X)=>X instanceof F9&&X.isEnabled());if($ instanceof F9)$.setFocusable(!0)}else this.viewItems.forEach(($)=>{if($ instanceof F9)$.setFocusable(!1)})}isTriggerKeyEvent(J){let $=!1;return this._triggerKeys.keys.forEach((X)=>{$=$||J.equals(X)}),$}updateFocusedItem(){for(let J=0;J<this.actionsList.children.length;J++){const $=this.actionsList.children[J];if(t8(w9(),$)){this.focusedItem=J;break}}}get context(){return this._context}set context(J){this._context=J,this.viewItems.forEach(($)=>$.setActionContext(J))}get actionRunner(){return this._actionRunner}set actionRunner(J){this._actionRunner=J,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(($)=>this._onDidRun.fire($))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(($)=>this._onWillRun.fire($))),this.viewItems.forEach(($)=>$.actionRunner=J)}getContainer(){return this.domNode}getAction(J){var $;if(typeof J==="number")return($=this.viewItems[J])===null||$===void 0?void 0:$.action;if(J instanceof HTMLElement){while(J.parentElement!==this.actionsList){if(!J.parentElement)return;J=J.parentElement}for(let X=0;X<this.actionsList.childNodes.length;X++)if(this.actionsList.childNodes[X]===J)return this.viewItems[X].action}return}push(J,$={}){const X=Array.isArray(J)?J:[J];let Q=s9($.index)?$.index:null;if(X.forEach((Y)=>{const Z=document.createElement("li");Z.className="action-item",Z.setAttribute("role","presentation");let G;const q=Object.assign({hoverDelegate:this.options.hoverDelegate},$);if(this.options.actionViewItemProvider)G=this.options.actionViewItemProvider(Y,q);if(!G)G=new tG(this.context,Y,q);if(!this.options.allowContextMenu)this.viewItemDisposables.set(G,l(Z,G0.CONTEXT_MENU,(U)=>{g0.stop(U,!0)}));if(G.actionRunner=this._actionRunner,G.setActionContext(this.context),G.render(Z),this.focusable&&G instanceof F9&&this.viewItems.length===0)G.setFocusable(!0);if(Q===null||Q<0||Q>=this.actionsList.children.length)this.actionsList.appendChild(Z),this.viewItems.push(G);else this.actionsList.insertBefore(Z,this.actionsList.children[Q]),this.viewItems.splice(Q,0,G),Q++}),typeof this.focusedItem==="number")this.focus(this.focusedItem);this.refreshRole()}clear(){if(this.isEmpty())return;this.viewItems=w1(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),E7(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(J){let $=!1,X=void 0;if(J===void 0)$=!0;else if(typeof J==="number")X=J;else if(typeof J==="boolean")$=J;if($&&typeof this.focusedItem==="undefined"){const Q=this.viewItems.findIndex((Y)=>Y.isEnabled());this.focusedItem=Q===-1?void 0:Q,this.updateFocus(void 0,void 0,!0)}else{if(X!==void 0)this.focusedItem=X;this.updateFocus(void 0,void 0,!0)}}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(J){if(typeof this.focusedItem==="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const $=this.focusedItem;let X;do{if(!J&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=$,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,X=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!X.isEnabled()||X.action.id===p7.ID));return this.updateFocus(),!0}focusPrevious(J){if(typeof this.focusedItem==="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const $=this.focusedItem;let X;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!J&&this.options.preventLoopNavigation)return this.focusedItem=$,!1;this.focusedItem=this.viewItems.length-1}X=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!X.isEnabled()||X.action.id===p7.ID));return this.updateFocus(!0),!0}updateFocus(J,$,X=!1){var Q;if(typeof this.focusedItem==="undefined")this.actionsList.focus({preventScroll:$});if(this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem)(Q=this.viewItems[this.previouslyFocusedItem])===null||Q===void 0||Q.blur();const Y=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(Y){let Z=!0;if(!L2(Y.focus))Z=!1;if(this.options.focusOnlyEnabledItems&&L2(Y.isEnabled)&&!Y.isEnabled())Z=!1;if(Y.action.id===p7.ID)Z=!1;if(!Z)this.actionsList.focus({preventScroll:$}),this.previouslyFocusedItem=void 0;else if(X||this.previouslyFocusedItem!==this.focusedItem)Y.focus(J),this.previouslyFocusedItem=this.focusedItem}}doTrigger(J){if(typeof this.focusedItem==="undefined")return;const $=this.viewItems[this.focusedItem];if($ instanceof F9){const X=$._context===null||$._context===void 0?J:$._context;this.run($._action,X)}}run(J,$){return MJ0(this,void 0,void 0,function*(){yield this._actionRunner.run(J,$)})}dispose(){this._context=void 0,this.viewItems=w1(this.viewItems),this.getContainer().remove(),super.dispose()}}var MJ0;var zQ=N(()=>{y0();x6();RV();T9();A0();$0();j8();SI();MJ0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});function OJ0(J){const $=mI,X=$.exec(J);if(!X)return J;const Q=!X[1];return J.replace($,Q?"$2$3":"").trim()}function ps(J){const $=wB()[J.id];return`.codicon-${J.id}:before { content: '\\${$.toString(16)}'; }`}class X2 extends m6{constructor(J,$,X,Q){J.classList.add("monaco-menu-container"),J.setAttribute("role","presentation");const Y=document.createElement("div");Y.classList.add("monaco-menu"),Y.setAttribute("role","presentation");super(Y,{orientation:1,actionViewItemProvider:(q)=>this.doGetActionViewItem(q,X,Z),context:X.context,actionRunner:X.actionRunner,ariaLabel:X.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...n0||q8?[10]:[]],keyDown:!0}});if(this.menuStyles=Q,this.menuElement=Y,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new e),this.initializeOrUpdateStyleSheet(J,Q),this._register(N1.addTarget(Y)),l(Y,G0.KEY_DOWN,(q)=>{if(new D1(q).equals(2))q.preventDefault()}),X.enableMnemonics)this.menuDisposables.add(l(Y,G0.KEY_DOWN,(q)=>{const U=q.key.toLocaleLowerCase();if(this.mnemonics.has(U)){g0.stop(q,!0);const H=this.mnemonics.get(U);if(H.length===1){if(H[0]instanceof uI&&H[0].container)this.focusItemByElement(H[0].container);H[0].onClick(q)}if(H.length>1){const z=H.shift();if(z&&z.container)this.focusItemByElement(z.container),H.push(z);this.mnemonics.set(U,H)}}}));if(q8)this._register(l(Y,G0.KEY_DOWN,(q)=>{const U=new D1(q);if(U.equals(14)||U.equals(11))this.focusedItem=this.viewItems.length-1,this.focusNext(),g0.stop(q,!0);else if(U.equals(13)||U.equals(12))this.focusedItem=0,this.focusPrevious(),g0.stop(q,!0)}));this._register(l(this.domNode,G0.MOUSE_OUT,(q)=>{const U=q.relatedTarget;if(!t8(U,this.domNode))this.focusedItem=void 0,this.updateFocus(),q.stopPropagation()})),this._register(l(this.actionsList,G0.MOUSE_OVER,(q)=>{let U=q.target;if(!U||!t8(U,this.actionsList)||U===this.actionsList)return;while(U.parentElement!==this.actionsList&&U.parentElement!==null)U=U.parentElement;if(U.classList.contains("action-item")){const H=this.focusedItem;if(this.setFocusedItem(U),H!==this.focusedItem)this.updateFocus()}})),this._register(N1.addTarget(this.actionsList)),this._register(l(this.actionsList,L1.Tap,(q)=>{let U=q.initialTarget;if(!U||!t8(U,this.actionsList)||U===this.actionsList)return;while(U.parentElement!==this.actionsList&&U.parentElement!==null)U=U.parentElement;if(U.classList.contains("action-item")){const H=this.focusedItem;if(this.setFocusedItem(U),H!==this.focusedItem)this.updateFocus()}}));const Z={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new DG(Y,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const G=this.scrollableElement.getDomNode();G.style.position="",this.styleScrollElement(G,Q),this._register(l(Y,L1.Change,(q)=>{g0.stop(q,!0);const U=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:U-q.translationY})})),this._register(l(G,G0.MOUSE_UP,(q)=>{q.preventDefault()})),Y.style.maxHeight=`${Math.max(10,window.innerHeight-J.getBoundingClientRect().top-35)}px`,$=$.filter((q)=>{var U;if((U=X.submenuIds)===null||U===void 0?void 0:U.has(q.id))return console.warn(`Found submenu cycle: ${q.id}`),!1;return!0}),this.push($,{icon:!0,label:!0,isMenu:!0}),J.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((q)=>!(q instanceof cI)).forEach((q,U,H)=>{q.updatePositionInSet(U+1,H.length)})}initializeOrUpdateStyleSheet(J,$){if(!this.styleSheet)if(gZ(J))this.styleSheet=K7(J);else{if(!X2.globalStyleSheet)X2.globalStyleSheet=K7();this.styleSheet=X2.globalStyleSheet}this.styleSheet.textContent=NJ0($,gZ(J))}styleScrollElement(J,$){var X,Q;const Y=(X=$.foregroundColor)!==null&&X!==void 0?X:"",Z=(Q=$.backgroundColor)!==null&&Q!==void 0?Q:"",G=$.borderColor?`1px solid ${$.borderColor}`:"",q="5px",U=$.shadowColor?`0 2px 8px ${$.shadowColor}`:"";J.style.outline=G,J.style.borderRadius="5px",J.style.color=Y,J.style.backgroundColor=Z,J.style.boxShadow=U}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(J){const $=this.focusedItem;if(this.setFocusedItem(J),$!==this.focusedItem)this.updateFocus()}setFocusedItem(J){for(let $=0;$<this.actionsList.children.length;$++){const X=this.actionsList.children[$];if(J===X){this.focusedItem=$;break}}}updateFocus(J){if(super.updateFocus(J,!0,!0),typeof this.focusedItem!=="undefined")this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(J,$,X){if(J instanceof p7)return new cI($.context,J,{icon:!0},this.menuStyles);else if(J instanceof yZ){const Q=new uI(J,J.actions,X,Object.assign(Object.assign({},$),{submenuIds:new Set([...$.submenuIds||[],J.id])}),this.menuStyles);if($.enableMnemonics){const Y=Q.getMnemonic();if(Y&&Q.isEnabled()){let Z=[];if(this.mnemonics.has(Y))Z=this.mnemonics.get(Y);Z.push(Q),this.mnemonics.set(Y,Z)}}return Q}else{const Q={enableMnemonics:$.enableMnemonics,useEventAsContext:$.useEventAsContext};if($.getKeyBinding){const Z=$.getKeyBinding(J);if(Z){const G=Z.getLabel();if(G)Q.keybinding=G}}const Y=new lI($.context,J,Q,this.menuStyles);if($.enableMnemonics){const Z=Y.getMnemonic();if(Z&&Y.isEnabled()){let G=[];if(this.mnemonics.has(Z))G=this.mnemonics.get(Z);G.push(Y),this.mnemonics.set(Z,G)}}return Y}}}class lI extends F9{constructor(J,$,X,Q){X.isMenu=!0;super($,$,X);if(this.menuStyle=Q,this.options=X,this.options.icon=X.icon!==void 0?X.icon:!1,this.options.label=X.label!==void 0?X.label:!0,this.cssClass="",this.options.label&&X.enableMnemonics){const Y=this.action.label;if(Y){const Z=mI.exec(Y);if(Z)this.mnemonic=(Z[1]?Z[1]:Z[3]).toLocaleLowerCase()}}this.runOnceToEnableMouseUp=new Q8(()=>{if(!this.element)return;this._register(l(this.element,G0.MOUSE_UP,(Y)=>{if(g0.stop(Y,!0),g7){if(new X6(Y).rightButton)return;this.onClick(Y)}else setTimeout(()=>{this.onClick(Y)},0)})),this._register(l(this.element,G0.CONTEXT_MENU,(Y)=>{g0.stop(Y,!0)}))},100),this._register(this.runOnceToEnableMouseUp)}render(J){if(super.render(J),!this.element)return;if(this.container=J,this.item=Z0(this.element,U0("a.action-menu-item")),this._action.id===p7.ID)this.item.setAttribute("role","presentation");else if(this.item.setAttribute("role","menuitem"),this.mnemonic)this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`);if(this.check=Z0(this.item,U0("span.menu-item-check"+C0.asCSSSelector(z0.menuSelection))),this.check.setAttribute("role","none"),this.label=Z0(this.item,U0("span.action-label")),this.options.label&&this.options.keybinding)Z0(this.item,U0("span.keybinding")).textContent=this.options.keybinding;this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle()}blur(){super.blur(),this.applyStyle()}focus(){var J;super.focus(),(J=this.item)===null||J===void 0||J.focus(),this.applyStyle()}updatePositionInSet(J,$){if(this.item)this.item.setAttribute("aria-posinset",`${J}`),this.item.setAttribute("aria-setsize",`${$}`)}updateLabel(){var J;if(!this.label)return;if(this.options.label){E7(this.label);let $=XP(this.action.label);if($){const X=OJ0($);if(!this.options.enableMnemonics)$=X;this.label.setAttribute("aria-label",X.replace(/&&/g,"&"));const Q=mI.exec($);if(Q){$=kZ($),pI.lastIndex=0;let Y=pI.exec($);while(Y&&Y[1])Y=pI.exec($);const Z=(G)=>G.replace(/&amp;&amp;/g,"&amp;");if(Y)this.label.append(CQ(Z($.substr(0,Y.index))," "),U0("u",{"aria-hidden":"true"},Y[3]),iC(Z($.substr(Y.index+Y[0].length))," "));else this.label.innerText=Z($).trim();(J=this.item)===null||J===void 0||J.setAttribute("aria-keyshortcuts",(Q[1]?Q[1]:Q[3]).toLocaleLowerCase())}else this.label.innerText=$.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){if(this.cssClass&&this.item)this.item.classList.remove(...this.cssClass.split(" "));if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "));this.updateEnabled()}else if(this.label)this.label.classList.remove("icon")}updateEnabled(){if(this.action.enabled){if(this.element)this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled");if(this.item)this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0}else{if(this.element)this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true");if(this.item)this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")}}updateChecked(){if(!this.item)return;const J=this.action.checked;if(this.item.classList.toggle("checked",!!J),J!==void 0)this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",J?"true":"false");else this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","")}getMnemonic(){return this.mnemonic}applyStyle(){const J=this.element&&this.element.classList.contains("focused"),$=J&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,X=J&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Q=J&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Y=J&&this.menuStyle.selectionBorderColor?"-1px":"";if(this.item)this.item.style.color=$!==null&&$!==void 0?$:"",this.item.style.backgroundColor=X!==null&&X!==void 0?X:"",this.item.style.outline=Q,this.item.style.outlineOffset=Y;if(this.check)this.check.style.color=$!==null&&$!==void 0?$:""}}class uI extends lI{constructor(J,$,X,Q,Y){super(J,J,Q,Y);this.submenuActions=$,this.parentData=X,this.submenuOptions=Q,this.mysubmenu=null,this.submenuDisposables=this._register(new e),this.mouseOver=!1,this.expandDirection=Q&&Q.expandDirection!==void 0?Q.expandDirection:OP.Right,this.showScheduler=new Q8(()=>{if(this.mouseOver)this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},250),this.hideScheduler=new Q8(()=>{if(this.element&&(!t8(w9(),this.element)&&this.parentData.submenu===this.mysubmenu))this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)},750)}render(J){if(super.render(J),!this.element)return;if(this.item)this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Z0(this.item,U0("span.submenu-indicator"+C0.asCSSSelector(z0.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true");this._register(l(this.element,G0.KEY_UP,($)=>{const X=new D1($);if(X.equals(17)||X.equals(3))g0.stop($,!0),this.createSubmenu(!0)})),this._register(l(this.element,G0.KEY_DOWN,($)=>{const X=new D1($);if(w9()===this.item){if(X.equals(17)||X.equals(3))g0.stop($,!0)}})),this._register(l(this.element,G0.MOUSE_OVER,($)=>{if(!this.mouseOver)this.mouseOver=!0,this.showScheduler.schedule()})),this._register(l(this.element,G0.MOUSE_LEAVE,($)=>{this.mouseOver=!1})),this._register(l(this.element,G0.FOCUS_OUT,($)=>{if(this.element&&!t8(w9(),this.element))this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{if(this.parentData.submenu===this.mysubmenu)this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)}))}updateEnabled(){}onClick(J){g0.stop(J,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(J){if(this.parentData.submenu&&(J||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch($){}if(this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer)this.submenuDisposables.clear(),this.submenuContainer=void 0}}calculateSubmenuMenuLayout(J,$,X,Q){const Y={top:0,left:0};if(Y.left=uG(J.width,$.width,{position:Q===OP.Right?0:1,offset:X.left,size:X.width}),Y.left>=X.left&&Y.left<X.left+X.width){if(X.left+10+$.width<=J.width)Y.left=X.left+10;X.top+=10,X.height=0}if(Y.top=uG(J.height,$.height,{position:0,offset:X.top,size:0}),Y.top+$.height===X.top&&Y.top+X.height+$.height<=J.height)Y.top+=X.height;return Y}createSubmenu(J=!0){if(!this.element)return;if(!this.parentData.submenu){this.updateAriaExpanded("true"),this.submenuContainer=Z0(this.element,U0("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const $=getComputedStyle(this.parentData.parent.domNode),X=parseFloat($.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new X2(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new a3],this.submenuOptions,this.menuStyle);const Q=this.element.getBoundingClientRect(),Y={top:Q.top-X,left:Q.left,height:Q.height+2*X,width:Q.width},Z=this.submenuContainer.getBoundingClientRect(),{top:G,left:q}=this.calculateSubmenuMenuLayout(new m1(window.innerWidth,window.innerHeight),m1.lift(Z),Y,this.expandDirection);this.submenuContainer.style.left=`${q-Z.left}px`,this.submenuContainer.style.top=`${G-Z.top}px`,this.submenuDisposables.add(l(this.submenuContainer,G0.KEY_UP,(U)=>{if(new D1(U).equals(15))g0.stop(U,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.submenuDisposables.add(l(this.submenuContainer,G0.KEY_DOWN,(U)=>{if(new D1(U).equals(15))g0.stop(U,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(J),this.mysubmenu=this.parentData.submenu}else this.parentData.submenu.focus(!1)}updateAriaExpanded(J){var $;if(this.item)($=this.item)===null||$===void 0||$.setAttribute("aria-expanded",J)}applyStyle(){super.applyStyle();const $=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;if(this.submenuIndicator)this.submenuIndicator.style.color=$!==null&&$!==void 0?$:""}dispose(){if(super.dispose(),this.hideScheduler.dispose(),this.mysubmenu)this.mysubmenu.dispose(),this.mysubmenu=null;if(this.submenuContainer)this.submenuContainer=void 0}}class cI extends tG{constructor(J,$,X,Q){super(J,$,X);this.menuStyles=Q}render(J){if(super.render(J),this.label)this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:""}}var NJ0,mI,pI,OP;var ms=N(()=>{z9();h5();y0();x6();O5();zQ();RV();iL();hX();T9();f1();h7();k7();_U();$0();O1();l0();NJ0=function(J,$){let X=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${ps(z0.menuSelection)}
${ps(z0.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if($){X+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const Q=J.scrollbarShadow;if(Q)X+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${Q} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${Q} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${Q} 6px 6px 6px -6px inset;
				}
			`;const Y=J.scrollbarSliderBackground;if(Y)X+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${Y};
				}
			`;const Z=J.scrollbarSliderHoverBackground;if(Z)X+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${Z};
				}
			`;const G=J.scrollbarSliderActiveBackground;if(G)X+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${G};
				}
			`}return X},mI=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,pI=/(&amp;)?(&amp;)([^\s&])/g;(function(J){J[J.Right=0]="Right",J[J.Left=1]="Left"})(OP||(OP={}))});class dI{constructor(J,$,X,Q){this.contextViewService=J,this.telemetryService=$,this.notificationService=X,this.keybindingService=Q,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(J){this.options=J}showContextMenu(J){const $=J.getActions();if(!$.length)return;this.focusToReturn=document.activeElement;let X;const Q=ZH(J.domForShadowRoot)?J.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>J.getAnchor(),canRelayout:!1,anchorAlignment:J.anchorAlignment,anchorAxisAlignment:J.anchorAxisAlignment,render:(Y)=>{var Z;this.lastContainer=Y;const G=J.getMenuClassName?J.getMenuClassName():"";if(G)Y.className+=" "+G;if(this.options.blockMouse)this.block=Y.appendChild(U0(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Z=this.blockDisposable)===null||Z===void 0||Z.dispose(),this.blockDisposable=l(this.block,G0.MOUSE_DOWN,(H)=>H.stopPropagation());const q=new e,U=J.actionRunner||new qJ;return U.onWillRun((H)=>this.onActionRun(H,!J.skipTelemetry),this,q),U.onDidRun(this.onDidActionRun,this,q),X=new X2(Y,$,{actionViewItemProvider:J.getActionViewItem,context:J.getActionsContext?J.getActionsContext():null,actionRunner:U,getKeyBinding:J.getKeyBinding?J.getKeyBinding:(H)=>this.keybindingService.lookupKeybinding(H.id)},xs),X.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,q),X.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,q),q.add(l(window,G0.BLUR,()=>this.contextViewService.hideContextView(!0))),q.add(l(window,G0.MOUSE_DOWN,(H)=>{if(H.defaultPrevented)return;const z=new X6(H);let V=z.target;if(z.rightButton)return;while(V){if(V===Y)return;V=V.parentElement}this.contextViewService.hideContextView(!0)})),E6(q,X)},focus:()=>{X===null||X===void 0||X.focus(!!J.autoSelectFirstItem)},onHide:(Y)=>{var Z,G,q;if((Z=J.onHide)===null||Z===void 0||Z.call(J,!!Y),this.block)this.block.remove(),this.block=null;if((G=this.blockDisposable)===null||G===void 0||G.dispose(),this.blockDisposable=null,!!this.lastContainer&&(w9()===this.lastContainer||t8(w9(),this.lastContainer)))(q=this.focusToReturn)===null||q===void 0||q.focus();this.lastContainer=null}},Q,!!Q)}onActionRun(J,$){if($)this.telemetryService.publicLog2("workbenchActionExecuted",{id:J.action.id,from:"contextMenu"});this.contextViewService.hideContextView(!1)}onDidActionRun(J){if(J.error&&!s4(J.error))this.notificationService.error(J.error)}}var us=N(()=>{y0();O5();ms();T9();A1();$0();SU()});var TJ0,xU,NP,sI;var cs=N(()=>{y0();T9();A0();$0();gI();e4();s1();uX();JQ();hZ();us();mG();TJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},xU=function(J,$){return function(X,Q){$(X,Q,J)}},NP=class J extends f{get contextMenuHandler(){if(!this._contextMenuHandler)this._contextMenuHandler=new dI(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService);return this._contextMenuHandler}constructor($,X,Q,Y,Z,G){super();this.telemetryService=$,this.notificationService=X,this.contextViewService=Q,this.keybindingService=Y,this.menuService=Z,this.contextKeyService=G,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new E),this._onDidHideContextMenu=this._store.add(new E)}configure($){this.contextMenuHandler.configure($)}showContextMenu($){$=sI.transform($,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},$),{onHide:(X)=>{var Q;(Q=$.onHide)===null||Q===void 0||Q.call($,X),this._onDidHideContextMenu.fire()}})),$$.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};NP=TJ0([xU(0,e9),xU(1,i7),xU(2,GQ),xU(3,a7),xU(4,BX),xU(5,p0)],NP);(function(J){function $(Q){return Q&&Q.menuId instanceof S}function X(Q,Y,Z){if(!$(Q))return Q;const{menuId:G,menuActionOptions:q,contextKeyService:U}=Q;return Object.assign(Object.assign({},Q),{getActions:()=>{const H=[];if(G){const z=Y.createMenu(G,U!==null&&U!==void 0?U:Z);gs(z,q,H),z.dispose()}if(!Q.getActions)return H;else return p7.join(Q.getActions(),H)}})}J.transform=X})(sI||(sI={}))});var NV;var ls=N(()=>{(function(J){J[J.API=0]="API",J[J.USER=1]="USER"})(NV||(NV={}))});var iI,TP,Q2,aI,rI,_P;var ds=N(()=>{y0();v7();P5();G4();HP();T5();E$();l8();t9();n6();ls();gG();iI=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},TP=function(J,$){return function(X,Q){$(X,Q,J)}},Q2=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},aI=class J{constructor($){this._commandService=$}open($,X){return Q2(this,void 0,void 0,function*(){if(!$V($,o0.command))return!1;if(!(X===null||X===void 0?void 0:X.allowCommands))return!0;if(typeof $==="string")$=I0.parse($);if(Array.isArray(X.allowCommands)){if(!X.allowCommands.includes($.path))return!0}let Q=[];try{Q=PV(decodeURIComponent($.query))}catch(Y){try{Q=PV($.query)}catch(Z){}}if(!Array.isArray(Q))Q=[Q];return yield this._commandService.executeCommand($.path,...Q),!0})}};aI=iI([TP(0,H7)],aI);rI=class J{constructor($){this._editorService=$}open($,X){return Q2(this,void 0,void 0,function*(){if(typeof $==="string")$=I0.parse($);const{selection:Q,uri:Y}=Gl($);if($=Y,$.scheme===o0.file)$=Ku($);return yield this._editorService.openCodeEditor({resource:$,options:Object.assign({selection:Q,source:(X===null||X===void 0?void 0:X.fromUserGesture)?NV.USER:NV.API},X===null||X===void 0?void 0:X.editorOptions)},this._editorService.getFocusedCodeEditor(),X===null||X===void 0?void 0:X.openToSide),!0})}};rI=iI([TP(0,p1)],rI);_P=class J{constructor($,X){this._openers=new I8,this._validators=new I8,this._resolvers=new I8,this._resolvedUriTargets=new y7((Q)=>Q.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new I8,this._defaultExternalOpener={openExternal:(Q)=>Q2(this,void 0,void 0,function*(){if(_L(Q,o0.http,o0.https))GF(Q);else window.location.href=Q;return!0})},this._openers.push({open:(Q,Y)=>Q2(this,void 0,void 0,function*(){if((Y===null||Y===void 0?void 0:Y.openExternal)||_L(Q,o0.mailto,o0.http,o0.https,o0.vsls))return yield this._doOpenExternal(Q,Y),!0;return!1})}),this._openers.push(new aI(X)),this._openers.push(new rI($))}registerOpener($){return{dispose:this._openers.unshift($)}}open($,X){var Q;return Q2(this,void 0,void 0,function*(){const Y=typeof $==="string"?I0.parse($):$,Z=(Q=this._resolvedUriTargets.get(Y))!==null&&Q!==void 0?Q:$;for(let G of this._validators)if(!(yield G.shouldOpen(Z,X)))return!1;for(let G of this._openers)if(yield G.open($,X))return!0;return!1})}resolveExternalUri($,X){return Q2(this,void 0,void 0,function*(){for(let Q of this._resolvers)try{const Y=yield Q.resolveExternalUri($,X);if(Y){if(!this._resolvedUriTargets.has(Y.resolved))this._resolvedUriTargets.set(Y.resolved,$);return Y}}catch(Y){}throw new Error("Could not resolve external URI: "+$.toString())})}_doOpenExternal($,X){return Q2(this,void 0,void 0,function*(){const Q=typeof $==="string"?I0.parse($):$;let Y;try{Y=(yield this.resolveExternalUri(Q,X)).resolved}catch(G){Y=Q}let Z;if(typeof $==="string"&&Q.toString()===Y.toString())Z=$;else Z=encodeURI(Y.toString(!0));if(X===null||X===void 0?void 0:X.allowContributedOpeners){const G=typeof(X===null||X===void 0?void 0:X.allowContributedOpeners)==="string"?X===null||X===void 0?void 0:X.allowContributedOpeners:void 0;for(let q of this._externalOpeners)if(yield q.openExternal(Z,{sourceUri:Q,preferredOpenerId:G},n8.None))return!0}return this._defaultExternalOpener.openExternal(Z,{sourceUri:Q},n8.None)})}dispose(){this._validators.clear()}};_P=iI([TP(0,p1),TP(1,H7)],_P)});var U5;var bU=N(()=>{e0();U5=O0("editorWorkerService")});var m9,ss,T4;var vU=N(()=>{wY();m0();e0();(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(m9||(m9={}));(function(J){function $(G,q){return q-G}J.compare=$;const X=Object.create(null);X[J.Error]=F("sev.error","Error"),X[J.Warning]=F("sev.warning","Warning"),X[J.Info]=F("sev.info","Info");function Q(G){return X[G]||""}J.toString=Q;function Y(G){switch(G){case D8.Error:return J.Error;case D8.Warning:return J.Warning;case D8.Info:return J.Info;case D8.Ignore:return J.Hint}}J.fromSeverity=Y;function Z(G){switch(G){case J.Error:return D8.Error;case J.Warning:return D8.Warning;case J.Info:return D8.Info;case J.Hint:return D8.Ignore}}J.toSeverity=Z})(m9||(m9={}));(function(J){function X(Y){return Q(Y,!0)}J.makeKey=X;function Q(Y,Z){const G=[""];if(Y.source)G.push(Y.source.replace("\xA6","\\\xA6"));else G.push("");if(Y.code)if(typeof Y.code==="string")G.push(Y.code.replace("\xA6","\\\xA6"));else G.push(Y.code.value.replace("\xA6","\\\xA6"));else G.push("");if(Y.severity!==void 0&&Y.severity!==null)G.push(m9.toString(Y.severity));else G.push("");if(Y.message&&Z)G.push(Y.message.replace("\xA6","\\\xA6"));else G.push("");if(Y.startLineNumber!==void 0&&Y.startLineNumber!==null)G.push(Y.startLineNumber.toString());else G.push("");if(Y.startColumn!==void 0&&Y.startColumn!==null)G.push(Y.startColumn.toString());else G.push("");if(Y.endLineNumber!==void 0&&Y.endLineNumber!==null)G.push(Y.endLineNumber.toString());else G.push("");if(Y.endColumn!==void 0&&Y.endColumn!==null)G.push(Y.endColumn.toString());else G.push("");return G.push(""),G.join("\xA6")}J.makeKeyOptionalMessage=Q})(ss||(ss={}));T4=O0("markerService")});function as(J,$){const X=[],Q=[];for(let Y of J)if(!$.has(Y))X.push(Y);for(let Y of $)if(!J.has(Y))Q.push(Y);return{removed:X,added:Q}}var rs=N(()=>{});class ns extends f{constructor(J){super();this.model=J,this._map=new JN,this._register(N0(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(J){const{added:$,removed:X}=as(new Set(this._map.keys()),new Set(J));if($.length===0&&X.length===0)return!1;const Q=X.map((G)=>this._map.get(G)),Y=$.map((G)=>{return{range:this._createDecorationRange(this.model,G),options:this._createDecorationOption(G)}}),Z=this.model.deltaDecorations(Q,Y);for(let G of X)this._map.delete(G);for(let G=0;G<Z.length;G++)this._map.set($[G],Z[G]);return!0}getMarker(J){return this._map.getKey(J.id)}_createDecorationRange(J,$){let X=L.lift($);if($.severity===m9.Hint&&!this._hasMarkerTag($,1)&&!this._hasMarkerTag($,2))X=X.setEndPosition(X.startLineNumber,X.startColumn+2);if(X=J.validateRange(X),X.isEmpty()){const Q=J.getLineLastNonWhitespaceColumn(X.startLineNumber)||J.getLineMaxColumn(X.startLineNumber);if(Q===1||X.endColumn>=Q)return X;const Y=J.getWordAtPosition(X.getStartPosition());if(Y)X=new L(X.startLineNumber,Y.startColumn,X.endLineNumber,Y.endColumn)}else if($.endColumn===Number.MAX_VALUE&&$.startColumn===1&&X.startLineNumber===X.endLineNumber){const Q=J.getLineFirstNonWhitespaceColumn($.startLineNumber);if(Q<X.endColumn)X=new L(X.startLineNumber,Q,X.endLineNumber,X.endColumn),$.startColumn=Q}return X}_createDecorationOption(J){let $,X=void 0,Q,Y=void 0,Z;switch(J.severity){case m9.Hint:if(this._hasMarkerTag(J,2))$=void 0;else if(this._hasMarkerTag(J,1))$="squiggly-unnecessary";else $="squiggly-hint";Q=0;break;case m9.Info:$="squiggly-info",X=gX(tg),Q=10,Z={color:gX(ah),position:AJ.Inline};break;case m9.Warning:$="squiggly-warning",X=gX(og),Q=20,Z={color:gX(rh),position:AJ.Inline};break;case m9.Error:default:$="squiggly-error",X=gX(ng),Q=30,Z={color:gX(ih),position:AJ.Inline};break}if(J.tags){if(J.tags.indexOf(1)!==-1)Y="squiggly-inline-unnecessary";if(J.tags.indexOf(2)!==-1)Y="squiggly-inline-deprecated"}return{description:"marker-decoration",stickiness:1,className:$,showIfCollapsed:!0,overviewRuler:{color:X,position:Gq.Right},minimap:Z,zIndex:Q,inlineClassName:Y}}_hasMarkerTag(J,$){if(J.tags)return J.tags.indexOf($)>=0;return!1}}var _J0,is,wP;var os=N(()=>{vU();$0();PJ();X7();A4();UX();u0();T5();A0();e6();G4();rs();_J0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},is=function(J,$){return function(X,Q){$(X,Q,J)}},wP=class J extends f{constructor($,X){super();this._markerService=X,this._onDidChangeMarker=this._register(new E),this._markerDecorations=new y7,$.getModels().forEach((Q)=>this._onModelAdded(Q)),this._register($.onModelAdded(this._onModelAdded,this)),this._register($.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(($)=>$.dispose()),this._markerDecorations.clear()}getMarker($,X){const Q=this._markerDecorations.get($);return Q?Q.getMarker(X)||null:null}_handleMarkerChange($){$.forEach((X)=>{const Q=this._markerDecorations.get(X);if(Q)this._updateDecorations(Q)})}_onModelAdded($){const X=new ns($);this._markerDecorations.set($.uri,X),this._updateDecorations(X)}_onModelRemoved($){var X;const Q=this._markerDecorations.get($.uri);if(Q)Q.dispose(),this._markerDecorations.delete($.uri);if($.uri.scheme===o0.inMemory||$.uri.scheme===o0.internal||$.uri.scheme===o0.vscode)(X=this._markerService)===null||X===void 0||X.read({resource:$.uri}).map((Y)=>Y.owner).forEach((Y)=>this._markerService.remove(Y,[$.uri]))}_updateDecorations($){const X=this._markerService.read({resource:$.model.uri,take:500});if($.update(X))this._onDidChangeMarker.fire($.model)}};wP=_J0([is(0,U7),is(1,T4)],wP)});class ts{constructor(J,$,X){this.model=J,this._modelEventListeners=new e,this.model=J,this._modelEventListeners.add(J.onWillDispose(()=>$(J))),this._modelEventListeners.add(J.onDidChangeLanguage((Q)=>X(J,Q)))}dispose(){this._modelEventListeners.dispose()}}class es{constructor(J,$,X,Q,Y,Z,G,q){this.uri=J,this.initialUndoRedoSnapshot=$,this.time=X,this.sharesUndoRedoStack=Q,this.heapSize=Y,this.sha1=Z,this.versionId=G,this.alternativeVersionId=q}}class LP{canComputeSHA1(J){return J.getValueLength()<=LP.MAX_MODEL_SIZE}computeSHA1(J){const $=new DH,X=J.createSnapshot();let Q;while(Q=X.read())$.update(Q);return $.digest()}}var Y2,wJ0,TV,fU,LJ0,_V;var Ja=N(()=>{A0();$0();O1();bG();I3();KJ();E5();fF();y9();WA();Yq();$w();T5();U9();b6();Y2=function(J){return J.toString()},wJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},TV=function(J,$){return function(X,Q){$(X,Q,J)}};LJ0=q8||n0?1:2;_V=fU=class J extends f{constructor($,X,Q,Y,Z){super();this._configurationService=$,this._resourcePropertiesService=X,this._undoRedoService=Q,this._languageService=Y,this._languageConfigurationService=Z,this._onModelAdded=this._register(new E),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new E),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new E),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((G)=>this._updateModelOptions(G))),this._updateModelOptions(void 0)}static _readModelOptions($,X){var Q;let Y=B7.tabSize;if($.editor&&typeof $.editor.tabSize!=="undefined"){const B=parseInt($.editor.tabSize,10);if(!isNaN(B))Y=B;if(Y<1)Y=1}let Z="tabSize";if($.editor&&typeof $.editor.indentSize!=="undefined"&&$.editor.indentSize!=="tabSize"){const B=parseInt($.editor.indentSize,10);if(!isNaN(B))Z=Math.max(B,1)}let G=B7.insertSpaces;if($.editor&&typeof $.editor.insertSpaces!=="undefined")G=$.editor.insertSpaces==="false"?!1:Boolean($.editor.insertSpaces);let q=LJ0;const U=$.eol;if(U==="\r\n")q=2;else if(U==="\n")q=1;let H=B7.trimAutoWhitespace;if($.editor&&typeof $.editor.trimAutoWhitespace!=="undefined")H=$.editor.trimAutoWhitespace==="false"?!1:Boolean($.editor.trimAutoWhitespace);let z=B7.detectIndentation;if($.editor&&typeof $.editor.detectIndentation!=="undefined")z=$.editor.detectIndentation==="false"?!1:Boolean($.editor.detectIndentation);let V=B7.largeFileOptimizations;if($.editor&&typeof $.editor.largeFileOptimizations!=="undefined")V=$.editor.largeFileOptimizations==="false"?!1:Boolean($.editor.largeFileOptimizations);let W=B7.bracketPairColorizationOptions;if(((Q=$.editor)===null||Q===void 0?void 0:Q.bracketPairColorization)&&typeof $.editor.bracketPairColorization==="object")W={enabled:!!$.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!$.editor.bracketPairColorization.independentColorPoolPerBracketType};return{isForSimpleWidget:X,tabSize:Y,indentSize:Z,insertSpaces:G,detectIndentation:z,defaultEOL:q,trimAutoWhitespace:H,largeFileOptimizations:V,bracketPairColorizationOptions:W}}_getEOL($,X){if($)return this._resourcePropertiesService.getEOL($,X);const Q=this._configurationService.getValue("files.eol",{overrideIdentifier:X});if(Q&&typeof Q==="string"&&Q!=="auto")return Q;return k6===3||k6===2?"\n":"\r\n"}_shouldRestoreUndoStack(){const $=this._configurationService.getValue("files.restoreUndoStack");if(typeof $==="boolean")return $;return!0}getCreationOptions($,X,Q){const Y=typeof $==="string"?$:$.languageId;let Z=this._modelCreationOptionsByLanguageAndResource[Y+X];if(!Z){const G=this._configurationService.getValue("editor",{overrideIdentifier:Y,resource:X}),q=this._getEOL(X,Y);Z=fU._readModelOptions({editor:G,eol:q},Q),this._modelCreationOptionsByLanguageAndResource[Y+X]=Z}return Z}_updateModelOptions($){const X=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Q=Object.keys(this._models);for(let Y=0,Z=Q.length;Y<Z;Y++){const G=Q[Y],q=this._models[G],U=q.model.getLanguageId(),H=q.model.uri;if($&&!$.affectsConfiguration("editor",{overrideIdentifier:U,resource:H})&&!$.affectsConfiguration("files.eol",{overrideIdentifier:U,resource:H}))continue;const z=X[U+H],V=this.getCreationOptions(U,H,q.model.isForSimpleWidget);fU._setModelOptionsForModel(q.model,V,z)}}static _setModelOptionsForModel($,X,Q){if(Q&&Q.defaultEOL!==X.defaultEOL&&$.getLineCount()===1)$.setEOL(X.defaultEOL===1?0:1);if(Q&&Q.detectIndentation===X.detectIndentation&&Q.insertSpaces===X.insertSpaces&&Q.tabSize===X.tabSize&&Q.indentSize===X.indentSize&&Q.trimAutoWhitespace===X.trimAutoWhitespace&&L7(Q.bracketPairColorizationOptions,X.bracketPairColorizationOptions))return;if(X.detectIndentation)$.detectIndentation(X.insertSpaces,X.tabSize),$.updateOptions({trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions});else $.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.indentSize,trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions})}_insertDisposedModel($){this._disposedModels.set(Y2($.uri),$),this._disposedModelsHeapSize+=$.heapSize}_removeDisposedModel($){const X=this._disposedModels.get(Y2($));if(X)this._disposedModelsHeapSize-=X.heapSize;return this._disposedModels.delete(Y2($)),X}_ensureDisposedModelsHeapSize($){if(this._disposedModelsHeapSize>$){const X=[];this._disposedModels.forEach((Q)=>{if(!Q.sharesUndoRedoStack)X.push(Q)}),X.sort((Q,Y)=>Q.time-Y.time);while(X.length>0&&this._disposedModelsHeapSize>$){const Q=X.shift();if(this._removeDisposedModel(Q.uri),Q.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(Q.initialUndoRedoSnapshot)}}}_createModelData($,X,Q,Y){const Z=this.getCreationOptions(X,Q,Y),G=new tX($,X,Z,Q,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Q&&this._disposedModels.has(Y2(Q))){const H=this._removeDisposedModel(Q),z=this._undoRedoService.getElements(Q),V=this._getSHA1Computer(),W=V.canComputeSHA1(G)?V.computeSHA1(G)===H.sha1:!1;if(W||H.sharesUndoRedoStack){for(let B of z.past)if(y$(B)&&B.matchesResource(Q))B.setModel(G);for(let B of z.future)if(y$(B)&&B.matchesResource(Q))B.setModel(G);if(this._undoRedoService.setElementsValidFlag(Q,!0,(B)=>y$(B)&&B.matchesResource(Q)),W)G._overwriteVersionId(H.versionId),G._overwriteAlternativeVersionId(H.alternativeVersionId),G._overwriteInitialUndoRedoSnapshot(H.initialUndoRedoSnapshot)}else if(H.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(H.initialUndoRedoSnapshot)}const q=Y2(G.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const U=new ts(G,(H)=>this._onWillDispose(H),(H,z)=>this._onDidChangeLanguage(H,z));return this._models[q]=U,U}createModel($,X,Q,Y=!1){let Z;if(X)Z=this._createModelData($,X,Q,Y);else Z=this._createModelData($,P7,Q,Y);return this._onModelAdded.fire(Z.model),Z.model}getModels(){const $=[],X=Object.keys(this._models);for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q];$.push(this._models[Z].model)}return $}getModel($){const X=Y2($),Q=this._models[X];if(!Q)return null;return Q.model}_schemaShouldMaintainUndoRedoElements($){return $.scheme===o0.file||$.scheme===o0.vscodeRemote||$.scheme===o0.vscodeUserData||$.scheme===o0.vscodeNotebookCell||$.scheme==="fake-fs"}_onWillDispose($){const X=Y2($.uri),Q=this._models[X],Y=this._undoRedoService.getUriComparisonKey($.uri)!==$.uri.toString();let Z=!1,G=0;if(Y||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements($.uri)){const H=this._undoRedoService.getElements($.uri);if(H.past.length>0||H.future.length>0){for(let z of H.past)if(y$(z)&&z.matchesResource($.uri))Z=!0,G+=z.heapSize($.uri),z.setModel($.uri);for(let z of H.future)if(y$(z)&&z.matchesResource($.uri))Z=!0,G+=z.heapSize($.uri),z.setModel($.uri)}}const q=fU.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,U=this._getSHA1Computer();if(!Z){if(!Y){const H=Q.model.getInitialUndoRedoSnapshot();if(H!==null)this._undoRedoService.restoreSnapshot(H)}}else if(!Y&&(G>q||!U.canComputeSHA1($))){const H=Q.model.getInitialUndoRedoSnapshot();if(H!==null)this._undoRedoService.restoreSnapshot(H)}else this._ensureDisposedModelsHeapSize(q-G),this._undoRedoService.setElementsValidFlag($.uri,!1,(H)=>y$(H)&&H.matchesResource($.uri)),this._insertDisposedModel(new es($.uri,Q.model.getInitialUndoRedoSnapshot(),Date.now(),Y,G,U.computeSHA1($),$.getVersionId(),$.getAlternativeVersionId()));delete this._models[X],Q.dispose(),delete this._modelCreationOptionsByLanguageAndResource[$.getLanguageId()+$.uri],this._onModelRemoved.fire($)}_onDidChangeLanguage($,X){const Q=X.oldLanguage,Y=$.getLanguageId(),Z=this.getCreationOptions(Q,$.uri,$.isForSimpleWidget),G=this.getCreationOptions(Y,$.uri,$.isForSimpleWidget);fU._setModelOptionsForModel($,G,Z),this._onModelModeChanged.fire({model:$,oldLanguageId:Q})}_getSHA1Computer(){return new LP}};_V.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520;_V=fU=wJ0([TV(0,u1),TV(1,vF),TV(2,UU),TV(3,o1),TV(4,N8)],_V);LP.MAX_MODEL_SIZE=10485760});var $a=N(()=>{j1();F0(".quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight,.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight,.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.hc-light .quick-input-widget .monaco-highlighted-label .highlight,.hc-light .quick-input-widget .monaco-highlighted-label .highlight{color:#0f4a85}.monaco-keybinding>.monaco-keybinding-key{color:#555;background-color:#ddd6;border:1px solid #ccc6;border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6}.hc-black .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#fff;background-color:#0000;border:1px solid #6fc3df}.hc-light .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#292929;background-color:#0000;border:1px solid #0f4a85}.vs-dark .monaco-keybinding>.monaco-keybinding-key{color:#ccc;background-color:#8080802b;border:1px solid #3339;border-bottom-color:#4449;box-shadow:inset 0 -1px #4449}")});class Xa{get templateId(){return this.renderer.templateId}constructor(J,$){this.renderer=J,this.modelProvider=$}renderTemplate(J){return{data:this.renderer.renderTemplate(J),disposable:f.None}}renderElement(J,$,X,Q){var Y;if((Y=X.disposable)===null||Y===void 0||Y.dispose(),!X.data)return;const Z=this.modelProvider();if(Z.isResolved(J))return this.renderer.renderElement(Z.get(J),J,X.data,Q);const G=new u8,q=Z.resolve(J,G.token);X.disposable={dispose:()=>G.cancel()},this.renderer.renderPlaceholder(J,X.data),q.then((U)=>this.renderer.renderElement(U,J,X.data,Q))}disposeTemplate(J){if(J.disposable)J.disposable.dispose(),J.disposable=void 0;if(J.data)this.renderer.disposeTemplate(J.data),J.data=void 0}}class Qa{constructor(J,$){this.modelProvider=J,this.accessibilityProvider=$}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(J){const $=this.modelProvider();if(!$.isResolved(J))return null;return this.accessibilityProvider.getAriaLabel($.get(J))}}class nI{constructor(J,$,X,Q,Y={}){const Z=()=>this.model,G=Q.map((q)=>new Xa(q,Z));this.list=new p6(J,$,X,G,IJ0(Z,Y))}updateOptions(J){this.list.updateOptions(J)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Y0.map(this.list.onMouseDblClick,({element:J,index:$,browserEvent:X})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:X}))}get onPointer(){return Y0.map(this.list.onPointer,({element:J,index:$,browserEvent:X})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:X}))}get onDidChangeSelection(){return Y0.map(this.list.onDidChangeSelection,({elements:J,indexes:$,browserEvent:X})=>({elements:J.map((Q)=>this._model.get(Q)),indexes:$,browserEvent:X}))}get model(){return this._model}set model(J){this._model=J,this.list.splice(0,this.list.length,_7(J.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((J)=>this.model.get(J))}style(J){this.list.style(J)}dispose(){this.list.dispose()}}var IJ0;var Ya=N(()=>{V1();v7();A0();$0();NI();nG();IJ0=function(J,$){return Object.assign(Object.assign({},$),{accessibilityProvider:$.accessibilityProvider&&new Qa(J,$.accessibilityProvider)})}});var Za=N(()=>{j1();F0(":root{--vscode-sash-size:4px;--vscode-sash-hover-size:4px}.monaco-sash{z-index:35;touch-action:none;position:absolute}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;width:var(--vscode-sash-size);height:100%;top:0}.monaco-sash.horizontal{cursor:ns-resize;height:var(--vscode-sash-size);width:100%;left:0}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:\" \";height:calc(var(--vscode-sash-size)*2);width:calc(var(--vscode-sash-size)*2);z-index:100;cursor:all-scroll;display:block;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--vscode-sash-size)*-.5);top:calc(var(--vscode-sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--vscode-sash-size)*-.5);bottom:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--vscode-sash-size)*-.5);left:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--vscode-sash-size)*-.5);right:calc(var(--vscode-sash-size)*-1)}.monaco-sash:before{content:\"\";pointer-events:none;background:0 0;width:100%;height:100%;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-sash:before{transition:background-color .1s ease-out}.monaco-sash.hover:before,.monaco-sash.active:before{background:var(--vscode-sash-hoverBorder)}.monaco-sash.vertical:before{width:var(--vscode-sash-hover-size);left:calc(50% - (var(--vscode-sash-hover-size)/2))}.monaco-sash.horizontal:before{height:var(--vscode-sash-hover-size);top:calc(50% - (var(--vscode-sash-hover-size)/2))}.pointer-events-disabled{pointer-events:none!important}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:#0ff3}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}")});class IP{constructor(){this.disposables=new e}get onPointerMove(){return this.disposables.add(new X1(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new X1(window,"mouseup")).event}dispose(){this.disposables.dispose()}}class kP{get onPointerMove(){return this.disposables.add(new X1(this.el,L1.Change)).event}get onPointerUp(){return this.disposables.add(new X1(this.el,L1.End)).event}constructor(J){this.el=J,this.disposables=new e}dispose(){this.disposables.dispose()}}class LV{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(J){this.factory=J}dispose(){}}class z6 extends f{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(J){if(this._state===J)return;this.el.classList.toggle("disabled",J===0),this.el.classList.toggle("minimum",J===1),this.el.classList.toggle("maximum",J===2),this._state=J,this.onDidEnablementChange.fire(J)}set orthogonalStartSash(J){if(this._orthogonalStartSash===J)return;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),J){const $=(X)=>{if(this.orthogonalStartDragHandleDisposables.clear(),X!==0)this._orthogonalStartDragHandle=Z0(this.el,U0(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(N0(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new X1(this._orthogonalStartDragHandle,"mouseenter")).event(()=>z6.onMouseEnter(J),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new X1(this._orthogonalStartDragHandle,"mouseleave")).event(()=>z6.onMouseLeave(J),void 0,this.orthogonalStartDragHandleDisposables)};this.orthogonalStartSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalStartSash=J}set orthogonalEndSash(J){if(this._orthogonalEndSash===J)return;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),J){const $=(X)=>{if(this.orthogonalEndDragHandleDisposables.clear(),X!==0)this._orthogonalEndDragHandle=Z0(this.el,U0(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(N0(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new X1(this._orthogonalEndDragHandle,"mouseenter")).event(()=>z6.onMouseEnter(J),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new X1(this._orthogonalEndDragHandle,"mouseleave")).event(()=>z6.onMouseLeave(J),void 0,this.orthogonalEndDragHandleDisposables)};this.orthogonalEndSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalEndSash=J}constructor(J,$,X){super();if(this.hoverDelay=SJ0,this.hoverDelayer=this._register(new BJ(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new E),this._onDidStart=this._register(new E),this._onDidChange=this._register(new E),this._onDidReset=this._register(new E),this._onDidEnd=this._register(new E),this.orthogonalStartSashDisposables=this._register(new e),this.orthogonalStartDragHandleDisposables=this._register(new e),this.orthogonalEndSashDisposables=this._register(new e),this.orthogonalEndDragHandleDisposables=this._register(new e),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Z0(J,U0(".monaco-sash")),X.orthogonalEdge)this.el.classList.add(`orthogonal-edge-${X.orthogonalEdge}`);if(n0)this.el.classList.add("mac");const Q=this._register(new X1(this.el,"mousedown")).event;this._register(Q((z)=>this.onPointerStart(z,new IP),this));const Y=this._register(new X1(this.el,"dblclick")).event;this._register(Y(this.onPointerDoublePress,this));const Z=this._register(new X1(this.el,"mouseenter")).event;this._register(Z(()=>z6.onMouseEnter(this)));const G=this._register(new X1(this.el,"mouseleave")).event;this._register(G(()=>z6.onMouseLeave(this))),this._register(N1.addTarget(this.el));const q=this._register(new X1(this.el,L1.Start)).event;this._register(q((z)=>this.onPointerStart(z,new kP(this.el)),this));const U=this._register(new X1(this.el,L1.Tap)).event;let H=void 0;if(this._register(U((z)=>{if(H){clearTimeout(H),H=void 0,this.onPointerDoublePress(z);return}clearTimeout(H),H=setTimeout(()=>H=void 0,250)},this)),typeof X.size==="number")if(this.size=X.size,X.orientation===0)this.el.style.width=`${this.size}px`;else this.el.style.height=`${this.size}px`;else this.size=EJ0,this._register(yJ0.event((z)=>{this.size=z,this.layout()}));if(this._register(CJ0.event((z)=>this.hoverDelay=z)),this.layoutProvider=$,this.orthogonalStartSash=X.orthogonalStartSash,this.orthogonalEndSash=X.orthogonalEndSash,this.orientation=X.orientation||0,this.orientation===1)this.el.classList.add("horizontal"),this.el.classList.remove("vertical");else this.el.classList.remove("horizontal"),this.el.classList.add("vertical");this.el.classList.toggle("debug",kJ0),this.layout()}onPointerStart(J,$){g0.stop(J);let X=!1;if(!J.__orthogonalSashEvent){const B=this.getOrthogonalSash(J);if(B)X=!0,J.__orthogonalSashEvent=!0,B.onPointerStart(J,new LV($))}if(this.linkedSash&&!J.__linkedSashEvent)J.__linkedSashEvent=!0,this.linkedSash.onPointerStart(J,new LV($));if(!this.state)return;const Q=document.getElementsByTagName("iframe");for(let B of Q)B.classList.add(Ga);const{pageX:Y,pageY:Z,altKey:G}=J,q={startX:Y,currentX:Y,startY:Z,currentY:Z,altKey:G};this.el.classList.add("active"),this._onDidStart.fire(q);const U=K7(this.el),H=()=>{let B="";if(X)B="all-scroll";else if(this.orientation===1)if(this.state===1)B="s-resize";else if(this.state===2)B="n-resize";else B=n0?"row-resize":"ns-resize";else if(this.state===1)B="e-resize";else if(this.state===2)B="w-resize";else B=n0?"col-resize":"ew-resize";U.textContent=`* { cursor: ${B} !important; }`},z=new e;if(H(),!X)this.onDidEnablementChange.event(H,null,z);const V=(B)=>{g0.stop(B,!1);const j={startX:Y,currentX:B.pageX,startY:Z,currentY:B.pageY,altKey:G};this._onDidChange.fire(j)},W=(B)=>{g0.stop(B,!1),this.el.removeChild(U),this.el.classList.remove("active"),this._onDidEnd.fire(),z.dispose();for(let j of Q)j.classList.remove(Ga)};$.onPointerMove(V,null,z),$.onPointerUp(W,null,z),z.add($)}onPointerDoublePress(J){const $=this.getOrthogonalSash(J);if($)$._onDidReset.fire();if(this.linkedSash)this.linkedSash._onDidReset.fire();this._onDidReset.fire()}static onMouseEnter(J,$=!1){if(J.el.classList.contains("active"))J.hoverDelayer.cancel(),J.el.classList.add("hover");else J.hoverDelayer.trigger(()=>J.el.classList.add("hover"),J.hoverDelay).then(void 0,()=>{});if(!$&&J.linkedSash)z6.onMouseEnter(J.linkedSash,!0)}static onMouseLeave(J,$=!1){if(J.hoverDelayer.cancel(),J.el.classList.remove("hover"),!$&&J.linkedSash)z6.onMouseLeave(J.linkedSash,!0)}clearSashHoverState(){z6.onMouseLeave(this)}layout(){if(this.orientation===0){const J=this.layoutProvider;if(this.el.style.left=J.getVerticalSashLeft(this)-this.size/2+"px",J.getVerticalSashTop)this.el.style.top=J.getVerticalSashTop(this)+"px";if(J.getVerticalSashHeight)this.el.style.height=J.getVerticalSashHeight(this)+"px"}else{const J=this.layoutProvider;if(this.el.style.top=J.getHorizontalSashTop(this)-this.size/2+"px",J.getHorizontalSashLeft)this.el.style.left=J.getHorizontalSashLeft(this)+"px";if(J.getHorizontalSashWidth)this.el.style.width=J.getHorizontalSashWidth(this)+"px"}}getOrthogonalSash(J){var $;const X=($=J.initialTarget)!==null&&$!==void 0?$:J.target;if(!X||!(X instanceof HTMLElement))return;if(X.classList.contains("orthogonal-drag-handle"))return X.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash;return}dispose(){super.dispose(),this.el.remove()}}var hU,kJ0,wV,EJ0,yJ0,SJ0,CJ0,Ga;var EP=N(()=>{y0();K4();h5();f1();GY();A0();$0();O1();Za();hU=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},kJ0=!1;(function(J){J.North="north",J.South="south",J.East="east",J.West="west"})(wV||(wV={}));EJ0=4,yJ0=new E,SJ0=300,CJ0=new E;hU([Y8],IP.prototype,"onPointerMove",null);hU([Y8],IP.prototype,"onPointerUp",null);hU([Y8],kP.prototype,"onPointerMove",null);hU([Y8],kP.prototype,"onPointerUp",null);hU([Y8],LV.prototype,"onPointerMove",null);hU([Y8],LV.prototype,"onPointerUp",null);Ga="pointer-events-disabled"});var qa=N(()=>{j1();F0(".monaco-split-view2{width:100%;height:100%;position:relative}.monaco-split-view2>.sash-container{pointer-events:none;width:100%;height:100%;position:absolute}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:initial}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:initial;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:\" \";z-index:5;pointer-events:none;background-color:var(--separator-border);position:absolute;top:0;left:0}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:1px;height:100%}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:100%;height:1px}")});class oI{set size(J){this._size=J}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize==="undefined"}setVisible(J,$){var X,Q;if(J===this.visible)return;if(J)this.size=U6(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0;else this._cachedVisibleSize=typeof $==="number"?$:this.size,this.size=0;this.container.classList.toggle("visible",J),(Q=(X=this.view).setVisible)===null||Q===void 0||Q.call(X,J)}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var J;return(J=this.view.proportionalLayout)!==null&&J!==void 0?J:!0}get snap(){return!!this.view.snap}set enabled(J){this.container.style.pointerEvents=J?"":"none"}constructor(J,$,X,Q){if(this.container=J,this.view=$,this.disposable=Q,this._cachedVisibleSize=void 0,typeof X==="number")this._size=X,this._cachedVisibleSize=void 0,J.classList.add("visible");else this._size=0,this._cachedVisibleSize=X.cachedVisibleSize}layout(J,$){this.layoutContainer(J),this.view.layout(this.size,J,$)}dispose(){this.disposable.dispose()}}class Ha extends oI{layoutContainer(J){this.container.style.top=`${J}px`,this.container.style.height=`${this.size}px`}}class za extends oI{layoutContainer(J){this.container.style.left=`${J}px`,this.container.style.width=`${this.size}px`}}class tI extends f{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(J){for(let $ of this.sashItems)$.sash.orthogonalStartSash=J;this._orthogonalStartSash=J}set orthogonalEndSash(J){for(let $ of this.sashItems)$.sash.orthogonalEndSash=J;this._orthogonalEndSash=J}set startSnappingEnabled(J){if(this._startSnappingEnabled===J)return;this._startSnappingEnabled=J,this.updateSashEnablement()}set endSnappingEnabled(J){if(this._endSnappingEnabled===J)return;this._endSnappingEnabled=J,this.updateSashEnablement()}constructor(J,$={}){var X,Q,Y,Z,G;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=VQ.Idle,this._onDidSashChange=this._register(new E),this._onDidSashReset=this._register(new E),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(X=$.orientation)!==null&&X!==void 0?X:0,this.inverseAltBehavior=(Q=$.inverseAltBehavior)!==null&&Q!==void 0?Q:!1,this.proportionalLayout=(Y=$.proportionalLayout)!==null&&Y!==void 0?Y:!0,this.getSashOrthogonalSize=$.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),J.appendChild(this.el),this.sashContainer=Z0(this.el,U0(".sash-container")),this.viewContainer=U0(".split-view-container"),this.scrollable=this._register(new D$({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:R6})),this.scrollableElement=this._register(new PG(this.viewContainer,{vertical:this.orientation===0?(Z=$.scrollbarVisibility)!==null&&Z!==void 0?Z:1:2,horizontal:this.orientation===1?(G=$.scrollbarVisibility)!==null&&G!==void 0?G:1:2},this.scrollable));const q=this._register(new X1(this.viewContainer,"scroll")).event;if(this._register(q((U)=>{const H=this.scrollableElement.getScrollPosition(),z=Math.abs(this.viewContainer.scrollLeft-H.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,V=Math.abs(this.viewContainer.scrollTop-H.scrollTop)<=1?void 0:this.viewContainer.scrollTop;if(z!==void 0||V!==void 0)this.scrollableElement.setScrollPosition({scrollLeft:z,scrollTop:V})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((U)=>{if(U.scrollTopChanged)this.viewContainer.scrollTop=U.scrollTop;if(U.scrollLeftChanged)this.viewContainer.scrollLeft=U.scrollLeft})),Z0(this.el,this.scrollableElement.getDomNode()),this.style($.styles||xJ0),$.descriptor)this.size=$.descriptor.size,$.descriptor.views.forEach((U,H)=>{const z=$6(U.visible)||U.visible?U.size:{type:"invisible",cachedVisibleSize:U.size},V=U.view;this.doAddView(V,z,H,!0)}),this.contentSize=this.viewItems.reduce((U,H)=>U+H.size,0),this.saveProportions()}style(J){if(J.separatorBorder.isTransparent())this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border");else this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",J.separatorBorder.toString())}addView(J,$,X=this.viewItems.length,Q){this.doAddView(J,$,X,Q)}layout(J,$){const X=Math.max(this.size,this.contentSize);if(this.size=J,this.layoutContext=$,!this.proportions){const Q=_7(this.viewItems.length),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);this.resize(this.viewItems.length-1,J-X,void 0,Y,Z)}else{let Q=0;for(let Y=0;Y<this.viewItems.length;Y++){const Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number")Q+=G;else J-=Z.size}for(let Y=0;Y<this.viewItems.length;Y++){const Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number")Z.size=U6(Math.round(G*J/Q),Z.minimumSize,Z.maximumSize)}}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){if(this.proportionalLayout&&this.contentSize>0)this.proportions=this.viewItems.map((J)=>J.proportionalLayout?J.size/this.contentSize:void 0)}onSashStart({sash:J,start:$,alt:X}){for(let G of this.viewItems)G.enabled=!1;const Q=this.sashItems.findIndex((G)=>G.sash===J),Y=E6(l(document.body,"keydown",(G)=>Z(this.sashDragState.current,G.altKey)),l(document.body,"keyup",()=>Z(this.sashDragState.current,!1))),Z=(G,q)=>{const U=this.viewItems.map((B)=>B.size);let{NEGATIVE_INFINITY:H,POSITIVE_INFINITY:z}=Number;if(this.inverseAltBehavior)q=!q;if(q)if(Q===this.sashItems.length-1){const j=this.viewItems[Q];H=(j.minimumSize-j.size)/2,z=(j.maximumSize-j.size)/2}else{const j=this.viewItems[Q+1];H=(j.size-j.maximumSize)/2,z=(j.size-j.minimumSize)/2}let V,W;if(!q){const B=_7(Q,-1),j=_7(Q+1,this.viewItems.length),K=B.reduce((w,x)=>w+(this.viewItems[x].minimumSize-U[x]),0),D=B.reduce((w,x)=>w+(this.viewItems[x].viewMaximumSize-U[x]),0),A=j.length===0?Number.POSITIVE_INFINITY:j.reduce((w,x)=>w+(U[x]-this.viewItems[x].minimumSize),0),P=j.length===0?Number.NEGATIVE_INFINITY:j.reduce((w,x)=>w+(U[x]-this.viewItems[x].viewMaximumSize),0),R=Math.max(K,P),M=Math.min(A,D),T=this.findFirstSnapIndex(B),_=this.findFirstSnapIndex(j);if(typeof T==="number"){const w=this.viewItems[T],x=Math.floor(w.viewMinimumSize/2);V={index:T,limitDelta:w.visible?R-x:R+x,size:w.size}}if(typeof _==="number"){const w=this.viewItems[_],x=Math.floor(w.viewMinimumSize/2);W={index:_,limitDelta:w.visible?M+x:M-x,size:w.size}}}this.sashDragState={start:G,current:G,index:Q,sizes:U,minDelta:H,maxDelta:z,alt:q,snapBefore:V,snapAfter:W,disposable:Y}};Z($,X)}onSashChange({current:J}){const{index:$,start:X,sizes:Q,alt:Y,minDelta:Z,maxDelta:G,snapBefore:q,snapAfter:U}=this.sashDragState;this.sashDragState.current=J;const H=J-X,z=this.resize($,H,Q,void 0,void 0,Z,G,q,U);if(Y){const V=$===this.sashItems.length-1,W=this.viewItems.map((P)=>P.size),B=V?$:$+1,j=this.viewItems[B],K=j.size-j.maximumSize,D=j.size-j.minimumSize,A=V?$-1:$+1;this.resize(A,-z,W,void 0,void 0,K,D)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(J){this._onDidSashChange.fire(J),this.sashDragState.disposable.dispose(),this.saveProportions();for(let $ of this.viewItems)$.enabled=!0}onViewChange(J,$){const X=this.viewItems.indexOf(J);if(X<0||X>=this.viewItems.length)return;if($=typeof $==="number"?$:J.size,$=U6($,J.minimumSize,J.maximumSize),this.inverseAltBehavior&&X>0)this.resize(X-1,Math.floor((J.size-$)/2)),this.distributeEmptySpace(),this.layoutViews();else J.size=$,this.relayout([X],void 0)}resizeView(J,$){if(this.state!==VQ.Idle)throw new Error("Cant modify splitview");if(this.state=VQ.Busy,J<0||J>=this.viewItems.length)return;const X=_7(this.viewItems.length).filter((G)=>G!==J),Q=[...X.filter((G)=>this.viewItems[G].priority===1),J],Y=X.filter((G)=>this.viewItems[G].priority===2),Z=this.viewItems[J];$=Math.round($),$=U6($,Z.minimumSize,Math.min(Z.maximumSize,this.size)),Z.size=$,this.relayout(Q,Y),this.state=VQ.Idle}distributeViewSizes(){const J=[];let $=0;for(let G of this.viewItems)if(G.maximumSize-G.minimumSize>0)J.push(G),$+=G.size;const X=Math.floor($/J.length);for(let G of J)G.size=U6(X,G.minimumSize,G.maximumSize);const Q=_7(this.viewItems.length),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);this.relayout(Y,Z)}getViewSize(J){if(J<0||J>=this.viewItems.length)return-1;return this.viewItems[J].size}doAddView(J,$,X=this.viewItems.length,Q){if(this.state!==VQ.Idle)throw new Error("Cant modify splitview");this.state=VQ.Busy;const Y=U0(".split-view-view");if(X===this.viewItems.length)this.viewContainer.appendChild(Y);else this.viewContainer.insertBefore(Y,this.viewContainer.children.item(X));const Z=J.onDidChange((V)=>this.onViewChange(H,V)),G=N0(()=>this.viewContainer.removeChild(Y)),q=E6(Z,G);let U;if(typeof $==="number")U=$;else{if($.type==="auto")if(this.areViewsDistributed())$={type:"distribute"};else $={type:"split",index:$.index};if($.type==="split")U=this.getViewSize($.index)/2;else if($.type==="invisible")U={cachedVisibleSize:$.cachedVisibleSize};else U=J.minimumSize}const H=this.orientation===0?new Ha(Y,J,U,q):new za(Y,J,U,q);if(this.viewItems.splice(X,0,H),this.viewItems.length>1){const V={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},W=this.orientation===0?new z6(this.sashContainer,{getHorizontalSashTop:(w)=>this.getSashPosition(w),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},V),{orientation:1})):new z6(this.sashContainer,{getVerticalSashLeft:(w)=>this.getSashPosition(w),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},V),{orientation:0})),B=this.orientation===0?(w)=>({sash:W,start:w.startY,current:w.currentY,alt:w.altKey}):(w)=>({sash:W,start:w.startX,current:w.currentX,alt:w.altKey}),K=Y0.map(W.onDidStart,B)(this.onSashStart,this),A=Y0.map(W.onDidChange,B)(this.onSashChange,this),R=Y0.map(W.onDidEnd,()=>this.sashItems.findIndex((w)=>w.sash===W))(this.onSashEnd,this),M=W.onDidReset(()=>{const w=this.sashItems.findIndex((r)=>r.sash===W),x=_7(w,-1),C=_7(w+1,this.viewItems.length),h=this.findFirstSnapIndex(x),p=this.findFirstSnapIndex(C);if(typeof h==="number"&&!this.viewItems[h].visible)return;if(typeof p==="number"&&!this.viewItems[p].visible)return;this._onDidSashReset.fire(w)}),T=E6(K,A,R,M,W),_={sash:W,disposable:T};this.sashItems.splice(X-1,0,_)}Y.appendChild(J.element);let z;if(typeof $!=="number"&&$.type==="split")z=[$.index];if(!Q)this.relayout([X],z);if(this.state=VQ.Idle,!Q&&typeof $!=="number"&&$.type==="distribute")this.distributeViewSizes()}relayout(J,$){const X=this.viewItems.reduce((Q,Y)=>Q+Y.size,0);this.resize(this.viewItems.length-1,this.size-X,void 0,J,$),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(J,$,X=this.viewItems.map((H)=>H.size),Q,Y,Z=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,q,U){if(J<0||J>=this.viewItems.length)return 0;const H=_7(J,-1),z=_7(J+1,this.viewItems.length);if(Y)for(let _ of Y)ZB(H,_),ZB(z,_);if(Q)for(let _ of Q)O3(H,_),O3(z,_);const V=H.map((_)=>this.viewItems[_]),W=H.map((_)=>X[_]),B=z.map((_)=>this.viewItems[_]),j=z.map((_)=>X[_]),K=H.reduce((_,w)=>_+(this.viewItems[w].minimumSize-X[w]),0),D=H.reduce((_,w)=>_+(this.viewItems[w].maximumSize-X[w]),0),A=z.length===0?Number.POSITIVE_INFINITY:z.reduce((_,w)=>_+(X[w]-this.viewItems[w].minimumSize),0),P=z.length===0?Number.NEGATIVE_INFINITY:z.reduce((_,w)=>_+(X[w]-this.viewItems[w].maximumSize),0),R=Math.max(K,P,Z),M=Math.min(A,D,G);let T=!1;if(q){const _=this.viewItems[q.index],w=$>=q.limitDelta;T=w!==_.visible,_.setVisible(w,q.size)}if(!T&&U){const _=this.viewItems[U.index],w=$<U.limitDelta;T=w!==_.visible,_.setVisible(w,U.size)}if(T)return this.resize(J,$,X,Q,Y,Z,G);$=U6($,R,M);for(let _=0,w=$;_<V.length;_++){const x=V[_],C=U6(W[_]+w,x.minimumSize,x.maximumSize),h=C-W[_];w-=h,x.size=C}for(let _=0,w=$;_<B.length;_++){const x=B[_],C=U6(j[_]-w,x.minimumSize,x.maximumSize),h=C-j[_];w+=h,x.size=C}return $}distributeEmptySpace(J){const $=this.viewItems.reduce((G,q)=>G+q.size,0);let X=this.size-$;const Q=_7(this.viewItems.length-1,-1),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);for(let G of Z)ZB(Q,G);for(let G of Y)O3(Q,G);if(typeof J==="number")O3(Q,J);for(let G=0;X!==0&&G<Q.length;G++){const q=this.viewItems[Q[G]],U=U6(q.size+X,q.minimumSize,q.maximumSize),H=U-q.size;X-=H,q.size=U}}layoutViews(){this.contentSize=this.viewItems.reduce(($,X)=>$+X.size,0);let J=0;for(let $ of this.viewItems)$.layout(J,this.layoutContext),J+=$.size;this.sashItems.forEach(($)=>$.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){if(this.orientation===0)this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize});else this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let J=!1;const $=this.viewItems.map((q)=>J=q.size-q.minimumSize>0||J);J=!1;const X=this.viewItems.map((q)=>J=q.maximumSize-q.size>0||J),Q=[...this.viewItems].reverse();J=!1;const Y=Q.map((q)=>J=q.size-q.minimumSize>0||J).reverse();J=!1;const Z=Q.map((q)=>J=q.maximumSize-q.size>0||J).reverse();let G=0;for(let q=0;q<this.sashItems.length;q++){const{sash:U}=this.sashItems[q],H=this.viewItems[q];G+=H.size;const z=!($[q]&&Z[q+1]),V=!(X[q]&&Y[q+1]);if(z&&V){const W=_7(q,-1),B=_7(q+1,this.viewItems.length),j=this.findFirstSnapIndex(W),K=this.findFirstSnapIndex(B),D=typeof j==="number"&&!this.viewItems[j].visible,A=typeof K==="number"&&!this.viewItems[K].visible;if(D&&Y[q]&&(G>0||this.startSnappingEnabled))U.state=1;else if(A&&$[q]&&(G<this.contentSize||this.endSnappingEnabled))U.state=2;else U.state=0}else if(z&&!V)U.state=1;else if(!z&&V)U.state=2;else U.state=3}}getSashPosition(J){let $=0;for(let X=0;X<this.sashItems.length;X++)if($+=this.viewItems[X].size,this.sashItems[X].sash===J)return $;return 0}findFirstSnapIndex(J){for(let $ of J){const X=this.viewItems[$];if(!X.visible)continue;if(X.snap)return $}for(let $ of J){const X=this.viewItems[$];if(X.visible&&X.maximumSize-X.minimumSize>0)return;if(!X.visible&&X.snap)return $}return}areViewsDistributed(){let J=void 0,$=void 0;for(let X of this.viewItems)if(J=J===void 0?X.size:Math.min(J,X.size),$=$===void 0?X.size:Math.max($,X.size),$-J>2)return!1;return!0}dispose(){var J;(J=this.sashDragState)===null||J===void 0||J.disposable.dispose(),w1(this.viewItems),this.viewItems=[],this.sashItems.forEach(($)=>$.disposable.dispose()),this.sashItems=[],super.dispose()}}var xJ0,VQ,Ua;var Va=N(()=>{y0();K4();EP();hX();V1();S9();A0();$0();jU();Xz();j8();qa();xJ0={separatorBorder:u.transparent};(function(J){J[J.Idle=0]="Idle",J[J.Busy=1]="Busy"})(VQ||(VQ={}));(function(J){J.Distribute={type:"distribute"};function $(Y){return{type:"split",index:Y}}J.Split=$;function X(Y){return{type:"auto",index:Y}}J.Auto=X;function Q(Y){return{type:"invisible",cachedVisibleSize:Y}}J.Invisible=Q})(Ua||(Ua={}))});var Wa=N(()=>{j1();F0(".monaco-table{white-space:nowrap;flex-direction:column;width:100%;height:100%;display:flex;position:relative;overflow:hidden}.monaco-table>.monaco-split-view2{border-bottom:1px solid #0000}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{height:100%;display:flex}.monaco-table-th{text-overflow:ellipsis;width:100%;height:100%;font-weight:700;overflow:hidden}.monaco-table-th,.monaco-table-td{box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;flex-shrink:0;overflow:hidden}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:\"\";left:calc(var(--vscode-sash-size)/2);border-left:1px solid #0000;width:0;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2,.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}")});class IV{constructor(J,$,X){this.columns=J,this.getColumnSize=X,this.templateId=IV.TemplateId,this.renderedTemplates=new Set;const Q=new Map($.map((Y)=>[Y.templateId,Y]));this.renderers=[];for(let Y of J){const Z=Q.get(Y.templateId);if(!Z)throw new Error(`Table cell renderer for template id ${Y.templateId} not found.`);this.renderers.push(Z)}}renderTemplate(J){const $=Z0(J,U0(".monaco-table-tr")),X=[],Q=[];for(let Z=0;Z<this.columns.length;Z++){const G=this.renderers[Z],q=Z0($,U0(".monaco-table-td",{"data-col-index":Z}));q.style.width=`${this.getColumnSize(Z)}px`,X.push(q),Q.push(G.renderTemplate(q))}const Y={container:J,cellContainers:X,cellTemplateData:Q};return this.renderedTemplates.add(Y),Y}renderElement(J,$,X,Q){for(let Y=0;Y<this.columns.length;Y++){const G=this.columns[Y].project(J);this.renderers[Y].renderElement(G,$,X.cellTemplateData[Y],Q)}}disposeElement(J,$,X,Q){for(let Y=0;Y<this.columns.length;Y++){const Z=this.renderers[Y];if(Z.disposeElement){const q=this.columns[Y].project(J);Z.disposeElement(q,$,X.cellTemplateData[Y],Q)}}}disposeTemplate(J){for(let $=0;$<this.columns.length;$++)this.renderers[$].disposeTemplate(J.cellTemplateData[$]);E7(J.container),this.renderedTemplates.delete(J)}layoutColumn(J,$){for(let{cellContainers:X}of this.renderedTemplates)X[J].style.width=`${$}px`}}class Ba{get minimumSize(){var J;return(J=this.column.minimumWidth)!==null&&J!==void 0?J:120}get maximumSize(){var J;return(J=this.column.maximumWidth)!==null&&J!==void 0?J:Number.POSITIVE_INFINITY}get onDidChange(){var J;return(J=this.column.onDidChangeWidthConstraints)!==null&&J!==void 0?J:Y0.None}constructor(J,$){this.column=J,this.index=$,this._onDidLayout=new E,this.onDidLayout=this._onDidLayout.event,this.element=U0(".monaco-table-th",{"data-col-index":$,title:J.tooltip},J.label)}layout(J){this._onDidLayout.fire([this.index,J])}}class kV{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(J,$,X,Q,Y,Z){this.virtualDelegate=X,this.domId=`table_id_${++kV.InstanceCount}`,this.disposables=new e,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Z0($,U0(`.monaco-table.${this.domId}`));const G=Q.map((H,z)=>new Ba(H,z)),q={size:G.reduce((H,z)=>H+z.column.weight,0),views:G.map((H)=>({size:H.column.weight,view:H}))};this.splitview=this.disposables.add(new tI(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:q})),this.splitview.el.style.height=`${X.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${X.headerRowHeight}px`;const U=new IV(Q,Y,(H)=>this.splitview.getViewSize(H));this.list=this.disposables.add(new p6(J,this.domNode,bJ0(X),[U],Z)),Y0.any(...G.map((H)=>H.onDidLayout))(([H,z])=>U.layoutColumn(H,z),null,this.disposables),this.splitview.onDidSashReset((H)=>{const z=Q.reduce((W,B)=>W+B.weight,0),V=Q[H].weight/z*this.cachedWidth;this.splitview.resizeView(H,V)},null,this.disposables),this.styleElement=K7(this.domNode),this.style(zs)}updateOptions(J){this.list.updateOptions(J)}splice(J,$,X=[]){this.list.splice(J,$,X)}getHTMLElement(){return this.domNode}style(J){const $=[];$.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=$.join("\n"),this.list.style(J)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}var bJ0;var ja=N(()=>{y0();nG();Va();A0();$0();Wa();bJ0=function(J){return{getHeight($){return J.getHeight($)},getTemplateId(){return IV.TemplateId}}};IV.TemplateId="row";kV.InstanceCount=0});var Fa=N(()=>{j1();F0(".monaco-custom-toggle{float:left;cursor:pointer;box-sizing:border-box;-webkit-user-select:none;user-select:none;border:1px solid #0000;border-radius:3px;width:20px;height:20px;margin-left:2px;padding:1px;overflow:hidden}.monaco-custom-toggle:hover{background-color:var(--vscode-inputOption-hoverBackground)}.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{border:1px dashed var(--vscode-focusBorder)}.hc-black .monaco-custom-toggle,.hc-light .monaco-custom-toggle,.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{background:0 0}.monaco-custom-toggle.monaco-checkbox{opacity:1;border:1px solid #0000;border-radius:3px;width:18px;height:18px;margin-left:0;margin-right:9px;padding:0;background-size:16px!important}.monaco-custom-toggle.monaco-checkbox:not(.checked):before{visibility:hidden}")});class p$ extends J9{constructor(J){super();this._onChange=this._register(new E),this.onChange=this._onChange.event,this._onKeyDown=this._register(new E),this.onKeyDown=this._onKeyDown.event,this._opts=J,this._checked=this._opts.isChecked;const $=["monaco-custom-toggle"];if(this._opts.icon)this._icon=this._opts.icon,$.push(...C0.asClassNameArray(this._icon));if(this._opts.actionClassName)$.push(...this._opts.actionClassName.split(" "));if(this._checked)$.push("checked");if(this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...$),!this._opts.notFocusable)this.domNode.tabIndex=0;this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(X)=>{if(this.enabled)this.checked=!this._checked,this._onChange.fire(!1),X.preventDefault()}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(X)=>{if(X.keyCode===10||X.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),X.preventDefault(),X.stopPropagation();return}this._onKeyDown.fire(X)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(J){this._checked=J,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){if(this.domNode)this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||""}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var EV=N(()=>{vX();k7();A0();Fa()});class eI extends p${constructor(J){super({icon:z0.caseSensitive,title:vJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class Jk extends p${constructor(J){super({icon:z0.wholeWord,title:fJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class $k extends p${constructor(J){super({icon:z0.regex,title:hJ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}var vJ0,fJ0,hJ0;var Ka=N(()=>{EV();h7();m0();vJ0=F("caseDescription","Match Case"),fJ0=F("wordsDescription","Match Whole Word"),hJ0=F("regexDescription","Use Regular Expression")});class Xk{constructor(J,$=0,X=J.length,Q=$-1){this.items=J,this.start=$,this.end=X,this.index=Q}current(){if(this.index===this.start-1||this.index===this.end)return null;return this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}var Aa=N(()=>{});class Qk{constructor(J=[],$=10){this._initialize(J),this._limit=$,this._onChange()}getHistory(){return this._elements}add(J){this._history.delete(J),this._history.add(J),this._onChange()}next(){return this._navigator.next()}previous(){if(this._currentPosition()!==0)return this._navigator.previous();return null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(J){return this._history.has(J)}_onChange(){this._reduceToLimit();const J=this._elements;this._navigator=new Xk(J,0,J.length,J.length)}_reduceToLimit(){const J=this._elements;if(J.length>this._limit)this._initialize(J.slice(J.length-this._limit))}_currentPosition(){const J=this._navigator.current();if(!J)return-1;return this._elements.indexOf(J)}_initialize(J){this._history=new Set;for(let $ of J)this._history.add($)}get _elements(){const J=[];return this._history.forEach(($)=>J.push($)),J}}var Pa=N(()=>{Aa()});var Da=N(()=>{j1();F0(".monaco-inputbox{box-sizing:border-box;font-size:inherit;border-radius:2px;padding:0;display:block;position:relative}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px 6px}.monaco-inputbox>.ibwrapper{width:100%;height:100%;position:relative}.monaco-inputbox>.ibwrapper>.input{box-sizing:border-box;line-height:inherit;font-family:inherit;font-size:inherit;resize:none;color:inherit;border:none;width:100%;height:100%;display:inline-block}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{scrollbar-width:none;outline:none;display:block}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word;width:100%;display:inline-block;position:absolute;top:0;left:0}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{text-align:left;box-sizing:border-box;word-wrap:break-word;width:100%;margin-top:-1px;padding:.4em;font-size:12px;line-height:17px;display:inline-block;overflow:hidden}.monaco-inputbox .monaco-action-bar{position:absolute;top:4px;right:2px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}")});class Ra extends J9{constructor(J,$,X){var Q;super();if(this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new E),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new E),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=$,this.options=X,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(Q=this.options.tooltip)!==null&&Q!==void 0?Q:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions)this.validation=this.options.validationOptions.validation;this.element=Z0(J,yV(".monaco-inputbox.idle"));const Y=this.options.flexibleHeight?"textarea":"input",Z=Z0(this.element,yV(".ibwrapper"));if(this.input=Z0(Z,yV(Y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){if(this.maxHeight=typeof this.options.flexibleMaxHeight==="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Z0(Z,yV("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new XT(this.element,{vertical:1}),this.options.flexibleWidth)this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial";Z0(J,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((U)=>this.input.scrollTop=U.scrollTop));const G=this._register(new X1(document,"selectionchange")),q=Y0.filter(G.event,()=>{const U=document.getSelection();return(U===null||U===void 0?void 0:U.anchorNode)===Z});this._register(q(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");if(this.ariaLabel)this.input.setAttribute("aria-label",this.ariaLabel);if(this.placeholder&&!this.options.showPlaceholderOnFocus)this.setPlaceHolder(this.placeholder);if(this.tooltip)this.setTooltip(this.tooltip);if(this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions)this.actionbar=this._register(new m6(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1});this.applyStyles()}onBlur(){if(this._hideMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder","")}onFocus(){if(this._showMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(J){this.placeholder=J,this.input.setAttribute("placeholder",J)}setTooltip(J){this.tooltip=J,this.input.title=J}get inputElement(){return this.input}get value(){return this.input.value}set value(J){if(this.input.value!==J)this.input.value=J,this.onValueChange()}get height(){return typeof this.cachedHeight==="number"?this.cachedHeight:YH(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(J=null){if(this.input.select(),J){if(this.input.setSelectionRange(J.start,J.end),J.end===this.input.value.length)this.input.scrollLeft=this.input.scrollWidth}}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(J){if(this.input.style.width=`calc(100% - ${J}px)`,this.mirror)this.mirror.style.paddingRight=J+"px"}updateScrollDimensions(){if(typeof this.cachedContentHeight!=="number"||typeof this.cachedHeight!=="number"||!this.scrollableElement)return;const J=this.cachedContentHeight,$=this.cachedHeight,X=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:J,height:$}),this.scrollableElement.setScrollPosition({scrollTop:X})}showMessage(J,$){if(this.state==="open"&&L7(this.message,J))return;this.message=J,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(J.type));const X=this.stylesForType(this.message.type);if(this.element.style.border=`1px solid ${X$(X.border,"transparent")}`,this.message.content&&(this.hasFocus()||$))this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let J=null;if(this.validation){if(J=this.validation(this.value),J)this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(J);else if(this.inputElement.hasAttribute("aria-invalid"))this.inputElement.removeAttribute("aria-invalid"),this.hideMessage()}return J===null||J===void 0?void 0:J.type}stylesForType(J){const $=this.options.inputBoxStyles;switch(J){case 1:return{border:$.inputValidationInfoBorder,background:$.inputValidationInfoBackground,foreground:$.inputValidationInfoForeground};case 2:return{border:$.inputValidationWarningBorder,background:$.inputValidationWarningBackground,foreground:$.inputValidationWarningForeground};default:return{border:$.inputValidationErrorBorder,background:$.inputValidationErrorBackground,foreground:$.inputValidationErrorForeground}}}classForType(J){switch(J){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let J;const $=()=>J.style.width=$q(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:(Q)=>{var Y,Z;if(!this.message)return null;J=Z0(Q,yV(".monaco-inputbox-container")),$();const G={inline:!0,className:"monaco-inputbox-message"},q=this.message.formatContent?ud(this.message.content,G):md(this.message.content,G);q.classList.add(this.classForType(this.message.type));const U=this.stylesForType(this.message.type);return q.style.backgroundColor=(Y=U.background)!==null&&Y!==void 0?Y:"",q.style.color=(Z=U.foreground)!==null&&Z!==void 0?Z:"",q.style.border=U.border?`1px solid ${U.border}`:"",Z0(J,q),null},onHide:()=>{this.state="closed"},layout:$});let X;if(this.message.type===3)X=F("alertErrorMessage","Error: {0}",this.message.content);else if(this.message.type===2)X=F("alertWarningMessage","Warning: {0}",this.message.content);else X=F("alertInfoMessage","Info: {0}",this.message.content);U4(X),this.state="open"}_hideMessage(){if(!this.contextViewProvider)return;if(this.state==="open")this.contextViewProvider.hideContextView();this.state="idle"}onValueChange(){if(this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider)this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const J=this.value,X=J.charCodeAt(J.length-1)===10?" ":"";if((J+X).replace(/\u000c/g,""))this.mirror.textContent=J+X;else this.mirror.innerText="\xA0";this.layout()}applyStyles(){var J,$,X;const Q=this.options.inputBoxStyles,Y=(J=Q.inputBackground)!==null&&J!==void 0?J:"",Z=($=Q.inputForeground)!==null&&$!==void 0?$:"",G=(X=Q.inputBorder)!==null&&X!==void 0?X:"";this.element.style.backgroundColor=Y,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.border=`1px solid ${X$(G,"transparent")}`}layout(){if(!this.mirror)return;const J=this.cachedContentHeight;if(this.cachedContentHeight=YH(this.mirror),J!==this.cachedContentHeight)this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight)}insertAtCursor(J){const $=this.inputElement,X=$.selectionStart,Q=$.selectionEnd,Y=$.value;if(X!==null&&Q!==null)this.value=Y.substr(0,X)+J+Y.substr(Q),$.setSelectionRange(X+1,X+1),this.layout()}dispose(){var J;this._hideMessage(),this.message=null,(J=this.actionbar)===null||J===void 0||J.dispose(),super.dispose()}}class SV extends Ra{constructor(J,$,X){const Q=F({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),Y=` or \u21C5 ${Q}`,Z=` (\u21C5 ${Q})`;super(J,$,X);this._onDidFocus=this._register(new E),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E),this.onDidBlur=this._onDidBlur.event,this.history=new Qk(X.history,100);const G=()=>{if(X.showHistoryHint&&X.showHistoryHint()&&!this.placeholder.endsWith(Y)&&!this.placeholder.endsWith(Z)&&this.history.getHistory().length){const q=this.placeholder.endsWith(")")?Y:Z,U=this.placeholder+q;if(X.showPlaceholderOnFocus&&document.activeElement!==this.input)this.placeholder=U;else this.setPlaceHolder(U)}};this.observer=new MutationObserver((q,U)=>{q.forEach((H)=>{if(!H.target.textContent)G()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>G()),this.onblur(this.input,()=>{const q=(U)=>{if(!this.placeholder.endsWith(U))return!1;else{const H=this.placeholder.slice(0,this.placeholder.length-U.length);if(X.showPlaceholderOnFocus)this.placeholder=H;else this.setPlaceHolder(H);return!0}};if(!q(Z))q(Y)})}dispose(){if(super.dispose(),this.observer)this.observer.disconnect(),this.observer=void 0}addToHistory(J){if(this.value&&(J||this.value!==this.getCurrentValue()))this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getNextValue();if(J)J=J===this.value?this.getNextValue():J;this.value=J!==null&&J!==void 0?J:"",JY(this.value?this.value:F("clearedInput","Cleared Input"))}showPreviousValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getPreviousValue();if(J)J=J===this.value?this.getPreviousValue():J;if(J)this.value=J,JY(this.value)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let J=this.history.current();if(!J)J=this.history.last(),this.history.next();return J}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}var yV;var yP=N(()=>{y0();K4();BI();zQ();$Y();hX();vX();A0();Pa();U9();Da();m0();yV=U0});var Yk=N(()=>{j1();F0(".monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{width:100%;font-size:13px}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls,.hc-light .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-0}.monaco-findInput.highlight-1 .controls,.hc-light .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-1}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-dark-0}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-dark-1}@keyframes monaco-findInput-highlight-0{0%{background:#fdff00cc}to{background:0 0}}@keyframes monaco-findInput-highlight-1{0%{background:#fdff00cc}99%{background:0 0}}@keyframes monaco-findInput-highlight-dark-0{0%{background:#ffffff70}to{background:0 0}}@keyframes monaco-findInput-highlight-dark-1{0%{background:#ffffff70}99%{background:0 0}}")});class gU extends J9{constructor(J,$,X){super();this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new K6),this.additionalToggles=[],this._onDidOptionChange=this._register(new E),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new E),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new E),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new E),this._onKeyUp=this._register(new E),this._onCaseSensitiveKeyDown=this._register(new E),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new E),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=X.placeholder||"",this.validation=X.validation,this.label=X.label||gJ0,this.showCommonFindToggles=!!X.showCommonFindToggles;const Q=X.appendCaseSensitiveLabel||"",Y=X.appendWholeWordsLabel||"",Z=X.appendRegexLabel||"",G=X.history||[],q=!!X.flexibleHeight,U=!!X.flexibleWidth,H=X.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new SV(this.domNode,$,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:G,showHistoryHint:X.showHistoryHint,flexibleHeight:q,flexibleWidth:U,flexibleMaxHeight:H,inputBoxStyles:X.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new $k(Object.assign({appendTitle:Z,isChecked:!1},X.toggleStyles))),this._register(this.regex.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.regex.onKeyDown((V)=>{this._onRegexKeyDown.fire(V)})),this.wholeWords=this._register(new Jk(Object.assign({appendTitle:Y,isChecked:!1},X.toggleStyles))),this._register(this.wholeWords.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this.caseSensitive=this._register(new eI(Object.assign({appendTitle:Q,isChecked:!1},X.toggleStyles))),this._register(this.caseSensitive.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.caseSensitive.onKeyDown((V)=>{this._onCaseSensitiveKeyDown.fire(V)}));const z=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(V)=>{if(V.equals(15)||V.equals(17)||V.equals(9)){const W=z.indexOf(document.activeElement);if(W>=0){let B=-1;if(V.equals(17))B=(W+1)%z.length;else if(V.equals(15))if(W===0)B=z.length-1;else B=W-1;if(V.equals(9))z[W].blur(),this.inputBox.focus();else if(B>=0)z[B].focus();g0.stop(V,!0)}}})}if(this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive)this.controls.append(this.caseSensitive.domNode);if(this.wholeWords)this.controls.appendChild(this.wholeWords.domNode);if(this.regex)this.controls.appendChild(this.regex.domNode);if(this.setAdditionalToggles(X===null||X===void 0?void 0:X.additionalToggles),this.controls)this.domNode.appendChild(this.controls);J===null||J===void 0||J.appendChild(this.domNode),this._register(l(this.inputBox.inputElement,"compositionstart",(z)=>{this.imeSessionInProgress=!0})),this._register(l(this.inputBox.inputElement,"compositionend",(z)=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,(z)=>this._onKeyDown.fire(z)),this.onkeyup(this.inputBox.inputElement,(z)=>this._onKeyUp.fire(z)),this.oninput(this.inputBox.inputElement,(z)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(z)=>this._onMouseDown.fire(z))}get onDidChange(){return this.inputBox.onDidChange}layout(J){this.inputBox.layout(),this.updateInputBoxPadding(J.collapsedFindWidget)}enable(){var J,$,X;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(J=this.regex)===null||J===void 0||J.enable(),($=this.wholeWords)===null||$===void 0||$.enable(),(X=this.caseSensitive)===null||X===void 0||X.enable();for(let Q of this.additionalToggles)Q.enable()}disable(){var J,$,X;this.domNode.classList.add("disabled"),this.inputBox.disable(),(J=this.regex)===null||J===void 0||J.disable(),($=this.wholeWords)===null||$===void 0||$.disable(),(X=this.caseSensitive)===null||X===void 0||X.disable();for(let Q of this.additionalToggles)Q.disable()}setFocusInputOnOptionClick(J){this.fixFocusOnOptionClickEnabled=J}setEnabled(J){if(J)this.enable();else this.disable()}setAdditionalToggles(J){for(let $ of this.additionalToggles)$.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new e;for(let $ of J!==null&&J!==void 0?J:[])this.additionalTogglesDisposables.value.add($),this.controls.appendChild($.domNode),this.additionalTogglesDisposables.value.add($.onChange((X)=>{if(this._onDidOptionChange.fire(X),!X&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus()})),this.additionalToggles.push($);if(this.additionalToggles.length>0)this.controls.style.display="";this.updateInputBoxPadding()}updateInputBoxPadding(J=!1){var $,X,Q,Y,Z,G;if(J)this.inputBox.paddingRight=0;else this.inputBox.paddingRight=((X=($=this.caseSensitive)===null||$===void 0?void 0:$.width())!==null&&X!==void 0?X:0)+((Y=(Q=this.wholeWords)===null||Q===void 0?void 0:Q.width())!==null&&Y!==void 0?Y:0)+((G=(Z=this.regex)===null||Z===void 0?void 0:Z.width())!==null&&G!==void 0?G:0)+this.additionalToggles.reduce((q,U)=>q+U.width(),0)}getValue(){return this.inputBox.value}setValue(J){if(this.inputBox.value!==J)this.inputBox.value=J}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var J,$;return($=(J=this.caseSensitive)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setCaseSensitive(J){if(this.caseSensitive)this.caseSensitive.checked=J}getWholeWords(){var J,$;return($=(J=this.wholeWords)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setWholeWords(J){if(this.wholeWords)this.wholeWords.checked=J}getRegex(){var J,$;return($=(J=this.regex)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setRegex(J){if(this.regex)this.regex.checked=J,this.validate()}focusOnCaseSensitive(){var J;(J=this.caseSensitive)===null||J===void 0||J.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(J){this.inputBox.showMessage(J)}clearMessage(){this.inputBox.hideMessage()}}var gJ0;var SP=N(()=>{y0();Ka();yP();vX();A0();Yk();m0();$0();gJ0=F("defaultLabel","input")});class T6 extends Error{constructor(J,$){super(`TreeError [${J}] ${$}`)}}class pU{constructor(J){this.fn=J,this._map=new WeakMap}map(J){let $=this._map.get(J);if(!$)$=this.fn(J),this._map.set(J,$);return $}}var _4,hY;var mU=N(()=>{(function(J){J[J.Expanded=0]="Expanded",J[J.Collapsed=1]="Collapsed",J[J.PreserveOrExpanded=2]="PreserveOrExpanded",J[J.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(_4||(_4={}));(function(J){J[J.Unknown=0]="Unknown",J[J.Twistie=1]="Twistie",J[J.Element=2]="Element",J[J.Filter=3]="Filter"})(hY||(hY={}))});function CV(J){return typeof J==="object"&&"visibility"in J&&"data"in J}function Z2(J){switch(J){case!0:return 1;case!1:return 0;default:return J}}class Gk{constructor(J,$,X,Q={}){this.user=J,this.list=$,this.rootRef=[],this.eventBufferer=new NZ,this._onDidChangeCollapseState=new E,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new E,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new E,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new BJ(UF),this.collapseByDefault=typeof Q.collapseByDefault==="undefined"?!1:Q.collapseByDefault,this.filter=Q.filter,this.autoExpandSingleChildren=typeof Q.autoExpandSingleChildren==="undefined"?!1:Q.autoExpandSingleChildren,this.root={parent:void 0,element:X,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(J,$,X=U1.empty(),Q={}){if(J.length===0)throw new T6(this.user,"Invalid tree location");if(Q.diffIdentityProvider)this.spliceSmart(Q.diffIdentityProvider,J,$,X,Q);else this.spliceSimple(J,$,X,Q)}spliceSmart(J,$,X,Q,Y,Z){var G;if(Q===void 0)Q=U1.empty();if(Z===void 0)Z=(G=Y.diffDepth)!==null&&G!==void 0?G:0;const{parentNode:q}=this.getParentNodeWithListIndex($);if(!q.lastDiffIds)return this.spliceSimple($,X,Q,Y);const U=[...Q],H=$[$.length-1],z=new Q4({getElements:()=>q.lastDiffIds},{getElements:()=>[...q.children.slice(0,H),...U,...q.children.slice(H+X)].map((K)=>J.getId(K.element).toString())}).ComputeDiff(!1);if(z.quitEarly)return q.lastDiffIds=void 0,this.spliceSimple($,X,U,Y);const V=$.slice(0,-1),W=(K,D,A)=>{if(Z>0)for(let P=0;P<A;P++)K--,D--,this.spliceSmart(J,[...V,K,0],Number.MAX_SAFE_INTEGER,U[D].children,Y,Z-1)};let B=Math.min(q.children.length,H+X),j=U.length;for(let K of z.changes.sort((D,A)=>A.originalStart-D.originalStart))W(B,j,B-(K.originalStart+K.originalLength)),B=K.originalStart,j=K.modifiedStart-H,this.spliceSimple([...V,B],K.originalLength,U1.slice(U,j,j+K.modifiedLength),Y);W(B,j,B)}spliceSimple(J,$,X=U1.empty(),{onDidCreateNode:Q,onDidDeleteNode:Y,diffIdentityProvider:Z}){const{parentNode:G,listIndex:q,revealed:U,visible:H}=this.getParentNodeWithListIndex(J),z=[],V=U1.map(X,(_)=>this.createTreeNode(_,G,G.visible?1:0,U,z,Q)),W=J[J.length-1],B=G.children.length>0;let j=0;for(let _=W;_>=0&&_<G.children.length;_--){const w=G.children[_];if(w.visible){j=w.visibleChildIndex;break}}const K=[];let D=0,A=0;for(let _ of V)if(K.push(_),A+=_.renderNodeCount,_.visible)_.visibleChildIndex=j+D++;const P=CR(G.children,W,$,K);if(!Z)G.lastDiffIds=void 0;else if(G.lastDiffIds)CR(G.lastDiffIds,W,$,K.map((_)=>Z.getId(_.element).toString()));else G.lastDiffIds=G.children.map((_)=>Z.getId(_.element).toString());let R=0;for(let _ of P)if(_.visible)R++;if(R!==0)for(let _=W+K.length;_<G.children.length;_++){const w=G.children[_];if(w.visible)w.visibleChildIndex-=R}if(G.visibleChildrenCount+=D-R,U&&H){const _=P.reduce((w,x)=>w+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(G,A-_),this.list.splice(q,_,z)}if(P.length>0&&Y){const _=(w)=>{Y(w),w.children.forEach(_)};P.forEach(_)}this._onDidSplice.fire({insertedNodes:K,deletedNodes:P});const M=G.children.length>0;if(B!==M)this.setCollapsible(J.slice(0,-1),M);let T=G;while(T){if(T.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}T=T.parent}}rerender(J){if(J.length===0)throw new T6(this.user,"Invalid tree location");const{node:$,listIndex:X,revealed:Q}=this.getTreeNodeWithListIndex(J);if($.visible&&Q)this.list.splice(X,1,[$])}has(J){return this.hasTreeNode(J)}getListIndex(J){const{listIndex:$,visible:X,revealed:Q}=this.getTreeNodeWithListIndex(J);return X&&Q?$:-1}getListRenderCount(J){return this.getTreeNode(J).renderNodeCount}isCollapsible(J){return this.getTreeNode(J).collapsible}setCollapsible(J,$){const X=this.getTreeNode(J);if(typeof $==="undefined")$=!X.collapsible;const Q={collapsible:$};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Q))}isCollapsed(J){return this.getTreeNode(J).collapsed}setCollapsed(J,$,X){const Q=this.getTreeNode(J);if(typeof $==="undefined")$=!Q.collapsed;const Y={collapsed:$,recursive:X||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Y))}_setCollapseState(J,$){const{node:X,listIndex:Q,revealed:Y}=this.getTreeNodeWithListIndex(J),Z=this._setListNodeCollapseState(X,Q,Y,$);if(X!==this.root&&this.autoExpandSingleChildren&&Z&&!Zk($)&&X.collapsible&&!X.collapsed&&!$.recursive){let G=-1;for(let q=0;q<X.children.length;q++)if(X.children[q].visible)if(G>-1){G=-1;break}else G=q;if(G>-1)this._setCollapseState([...J,G],$)}return Z}_setListNodeCollapseState(J,$,X,Q){const Y=this._setNodeCollapseState(J,Q,!1);if(!X||!J.visible||!Y)return Y;const Z=J.renderNodeCount,G=this.updateNodeAfterCollapseChange(J),q=Z-($===-1?0:1);return this.list.splice($+1,q,G.slice(1)),Y}_setNodeCollapseState(J,$,X){let Q;if(J===this.root)Q=!1;else{if(Zk($))Q=J.collapsible!==$.collapsible,J.collapsible=$.collapsible;else if(!J.collapsible)Q=!1;else Q=J.collapsed!==$.collapsed,J.collapsed=$.collapsed;if(Q)this._onDidChangeCollapseState.fire({node:J,deep:X})}if(!Zk($)&&$.recursive)for(let Y of J.children)Q=this._setNodeCollapseState(Y,$,!0)||Q;return Q}expandTo(J){this.eventBufferer.bufferEvents(()=>{let $=this.getTreeNode(J);while($.parent)if($=$.parent,J=J.slice(0,J.length-1),$.collapsed)this._setCollapseState(J,{collapsed:!1,recursive:!1})})}refilter(){const J=this.root.renderNodeCount,$=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,J,$),this.refilterDelayer.cancel()}createTreeNode(J,$,X,Q,Y,Z){const G={parent:$,element:J.element,children:[],depth:$.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof J.collapsible==="boolean"?J.collapsible:typeof J.collapsed!=="undefined",collapsed:typeof J.collapsed==="undefined"?this.collapseByDefault:J.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},q=this._filterNode(G,X);if(G.visibility=q,Q)Y.push(G);const U=J.children||U1.empty(),H=Q&&q!==0&&!G.collapsed;let z=0,V=1;for(let W of U){const B=this.createTreeNode(W,G,q,H,Y,Z);if(G.children.push(B),V+=B.renderNodeCount,B.visible)B.visibleChildIndex=z++}if(G.collapsible=G.collapsible||G.children.length>0,G.visibleChildrenCount=z,G.visible=q===2?z>0:q===1,!G.visible){if(G.renderNodeCount=0,Q)Y.pop()}else if(!G.collapsed)G.renderNodeCount=V;return Z===null||Z===void 0||Z(G),G}updateNodeAfterCollapseChange(J){const $=J.renderNodeCount,X=[];return this._updateNodeAfterCollapseChange(J,X),this._updateAncestorsRenderNodeCount(J.parent,X.length-$),X}_updateNodeAfterCollapseChange(J,$){if(J.visible===!1)return 0;if($.push(J),J.renderNodeCount=1,!J.collapsed)for(let X of J.children)J.renderNodeCount+=this._updateNodeAfterCollapseChange(X,$);return this._onDidChangeRenderNodeCount.fire(J),J.renderNodeCount}updateNodeAfterFilterChange(J){const $=J.renderNodeCount,X=[];return this._updateNodeAfterFilterChange(J,J.visible?1:0,X),this._updateAncestorsRenderNodeCount(J.parent,X.length-$),X}_updateNodeAfterFilterChange(J,$,X,Q=!0){let Y;if(J!==this.root){if(Y=this._filterNode(J,$),Y===0)return J.visible=!1,J.renderNodeCount=0,!1;if(Q)X.push(J)}const Z=X.length;J.renderNodeCount=J===this.root?0:1;let G=!1;if(!J.collapsed||Y!==0){let q=0;for(let U of J.children)if(G=this._updateNodeAfterFilterChange(U,Y,X,Q&&!J.collapsed)||G,U.visible)U.visibleChildIndex=q++;J.visibleChildrenCount=q}else J.visibleChildrenCount=0;if(J!==this.root)J.visible=Y===2?G:Y===1,J.visibility=Y;if(!J.visible){if(J.renderNodeCount=0,Q)X.pop()}else if(!J.collapsed)J.renderNodeCount+=X.length-Z;return this._onDidChangeRenderNodeCount.fire(J),J.visible}_updateAncestorsRenderNodeCount(J,$){if($===0)return;while(J)J.renderNodeCount+=$,this._onDidChangeRenderNodeCount.fire(J),J=J.parent}_filterNode(J,$){const X=this.filter?this.filter.filter(J.element,$):1;if(typeof X==="boolean")return J.filterData=void 0,X?1:0;else if(CV(X))return J.filterData=X.data,Z2(X.visibility);else return J.filterData=void 0,Z2(X)}hasTreeNode(J,$=this.root){if(!J||J.length===0)return!0;const[X,...Q]=J;if(X<0||X>$.children.length)return!1;return this.hasTreeNode(Q,$.children[X])}getTreeNode(J,$=this.root){if(!J||J.length===0)return $;const[X,...Q]=J;if(X<0||X>$.children.length)throw new T6(this.user,"Invalid tree location");return this.getTreeNode(Q,$.children[X])}getTreeNodeWithListIndex(J){if(J.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:$,listIndex:X,revealed:Q,visible:Y}=this.getParentNodeWithListIndex(J),Z=J[J.length-1];if(Z<0||Z>$.children.length)throw new T6(this.user,"Invalid tree location");const G=$.children[Z];return{node:G,listIndex:X,revealed:Q,visible:Y&&G.visible}}getParentNodeWithListIndex(J,$=this.root,X=0,Q=!0,Y=!0){const[Z,...G]=J;if(Z<0||Z>$.children.length)throw new T6(this.user,"Invalid tree location");for(let q=0;q<Z;q++)X+=$.children[q].renderNodeCount;if(Q=Q&&!$.collapsed,Y=Y&&$.visible,G.length===0)return{parentNode:$,listIndex:X,revealed:Q,visible:Y};return this.getParentNodeWithListIndex(G,$.children[Z],X+1,Q,Y)}getNode(J=[]){return this.getTreeNode(J)}getNodeLocation(J){const $=[];let X=J;while(X.parent)$.push(X.parent.children.indexOf(X)),X=X.parent;return $.reverse()}getParentNodeLocation(J){if(J.length===0)return;else if(J.length===1)return[];else return BS(J)[0]}getFirstElementChild(J){const $=this.getTreeNode(J);if($.children.length===0)return;return $.children[0].element}}var Zk;var CP=N(()=>{mU();V1();f1();tM();LF();A0();A5();Zk=function(J){return typeof J.collapsible==="boolean"}});var Ma=N(()=>{j1();F0(".monaco-tl-row{align-items:center;height:100%;display:flex;position:relative}.monaco-tl-row.disabled{cursor:default}.monaco-tl-indent{pointer-events:none;height:100%;position:absolute;top:0;left:16px}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{box-sizing:border-box;border-left:1px solid #0000;height:100%;display:inline-block}.monaco-workbench:not(.reduce-motion) .monaco-tl-indent>.indent-guide{transition:border-color .1s linear}.monaco-tl-twistie,.monaco-tl-contents{height:100%}.monaco-tl-twistie{text-align:right;flex-shrink:0;justify-content:center;align-items:center;width:16px;padding-right:6px;font-size:10px;transform:translate(3px);display:flex!important}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:1.25s steps(30,end) infinite codicon-spin}.monaco-tree-type-filter{z-index:100;border:1px solid var(--vscode-widget-border);border-bottom-right-radius:4px;border-bottom-left-radius:4px;max-width:200px;margin:0 6px;padding:3px;display:flex;position:absolute;top:0}.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter{transition:top .3s}.monaco-tree-type-filter.disabled{top:-40px!important}.monaco-tree-type-filter-grab{cursor:grab;justify-content:center;align-items:center;margin-right:2px;display:flex!important}.monaco-tree-type-filter-grab.grabbing{cursor:grabbing}.monaco-tree-type-filter-input{flex:1}.monaco-tree-type-filter-input .monaco-inputbox{height:23px}.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.input,.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.mirror{padding:2px 4px}.monaco-tree-type-filter-input .monaco-findInput>.controls{top:2px}.monaco-tree-type-filter-actionbar{margin-left:4px}.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label{padding:2px}")});class Na extends fY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}}class Ta{constructor(J,$){this.modelProvider=J,this.dnd=$,this.autoExpandDisposable=f.None,this.disposables=new e}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((X)=>X.element),$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,qk(J),$)}onDragOver(J,$,X,Q,Y=!0){const Z=this.dnd.onDragOver(qk(J),$&&$.element,X,Q),G=this.autoExpandNode!==$;if(G)this.autoExpandDisposable.dispose(),this.autoExpandNode=$;if(typeof $==="undefined")return Z;if(G&&typeof Z!=="boolean"&&Z.autoExpand)this.autoExpandDisposable=gQ(()=>{const V=this.modelProvider(),W=V.getNodeLocation($);if(V.isCollapsed(W))V.setCollapsed(W,!1);this.autoExpandNode=void 0},500,this.disposables);if(typeof Z==="boolean"||!Z.accept||typeof Z.bubble==="undefined"||Z.feedback){if(!Y){const V=typeof Z==="boolean"?Z:Z.accept,W=typeof Z==="boolean"?void 0:Z.effect;return{accept:V,effect:W,feedback:[X]}}return Z}if(Z.bubble===1){const V=this.modelProvider(),W=V.getNodeLocation($),B=V.getParentNodeLocation(W),j=V.getNode(B),K=B&&V.getListIndex(B);return this.onDragOver(J,j,K,Q,!1)}const q=this.modelProvider(),U=q.getNodeLocation($),H=q.getListIndex(U),z=q.getListRenderCount(U);return Object.assign(Object.assign({},Z),{feedback:_7(H,H+z)})}drop(J,$,X,Q){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(qk(J),$&&$.element,X,Q)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}class vV{constructor(J){this.delegate=J}getHeight(J){return this.delegate.getHeight(J.element)}getTemplateId(J){return this.delegate.getTemplateId(J.element)}hasDynamicHeight(J){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(J.element)}setDynamicHeight(J,$){var X,Q;(Q=(X=this.delegate).setDynamicHeight)===null||Q===void 0||Q.call(X,J.element,$)}}class _a{get elements(){return this._elements}constructor(J,$=[]){this._elements=$,this.disposables=new e,this.onDidChange=Y0.forEach(J,(X)=>this._elements=X,this.disposables)}dispose(){this.disposables.dispose()}}class bV{constructor(J,$,X,Q,Y,Z={}){var G;this.renderer=J,this.modelProvider=$,this.activeNodes=Q,this.renderedIndentGuides=Y,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=bV.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=f.None,this.disposables=new e,this.templateId=J.templateId,this.updateOptions(Z),Y0.map(X,(q)=>q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(G=J.onDidChangeTwistieState)===null||G===void 0||G.call(J,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(J={}){if(typeof J.indent!=="undefined"){const $=U6(J.indent,0,40);if($!==this.indent){this.indent=$;for(let[X,Q]of this.renderedNodes)this.renderTreeElement(X,Q)}}if(typeof J.renderIndentGuides!=="undefined"){const $=J.renderIndentGuides!==xV.None;if($!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=$;for(let[X,Q]of this.renderedNodes)this._renderIndentGuides(X,Q);if(this.indentGuidesDisposable.dispose(),$){const X=new e;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,X),this.indentGuidesDisposable=X,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}if(typeof J.hideTwistiesOfChildlessElements!=="undefined")this.hideTwistiesOfChildlessElements=J.hideTwistiesOfChildlessElements}renderTemplate(J){const $=Z0(J,U0(".monaco-tl-row")),X=Z0($,U0(".monaco-tl-indent")),Q=Z0($,U0(".monaco-tl-twistie")),Y=Z0($,U0(".monaco-tl-contents")),Z=this.renderer.renderTemplate(Y);return{container:J,indent:X,twistie:Q,indentGuidesDisposable:f.None,templateData:Z}}renderElement(J,$,X,Q){this.renderedNodes.set(J,X),this.renderedElements.set(J.element,J),this.renderTreeElement(J,X),this.renderer.renderElement(J,$,X.templateData,Q)}disposeElement(J,$,X,Q){var Y,Z;if(X.indentGuidesDisposable.dispose(),(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,J,$,X.templateData,Q),typeof Q==="number")this.renderedNodes.delete(J),this.renderedElements.delete(J.element)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}onDidChangeTwistieState(J){const $=this.renderedElements.get(J);if(!$)return;this.onDidChangeNodeTwistieState($)}onDidChangeNodeTwistieState(J){const $=this.renderedNodes.get(J);if(!$)return;this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(J,$)}renderTreeElement(J,$){const X=bV.DefaultIndent+(J.depth-1)*this.indent;if($.twistie.style.paddingLeft=`${X}px`,$.indent.style.width=`${X+this.indent-16}px`,J.collapsible)$.container.setAttribute("aria-expanded",String(!J.collapsed));else $.container.removeAttribute("aria-expanded");$.twistie.classList.remove(...C0.asClassNameArray(z0.treeItemExpanded));let Q=!1;if(this.renderer.renderTwistie)Q=this.renderer.renderTwistie(J.element,$.twistie);if(J.collapsible&&(!this.hideTwistiesOfChildlessElements||J.visibleChildrenCount>0)){if(!Q)$.twistie.classList.add(...C0.asClassNameArray(z0.treeItemExpanded));$.twistie.classList.add("collapsible"),$.twistie.classList.toggle("collapsed",J.collapsed)}else $.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(J,$)}_renderIndentGuides(J,$){if(E7($.indent),$.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const X=new e,Q=this.modelProvider();while(!0){const Y=Q.getNodeLocation(J),Z=Q.getParentNodeLocation(Y);if(!Z)break;const G=Q.getNode(Z),q=U0(".indent-guide",{style:`width: ${this.indent}px`});if(this.activeIndentNodes.has(G))q.classList.add("active");if($.indent.childElementCount===0)$.indent.appendChild(q);else $.indent.insertBefore(q,$.indent.firstElementChild);this.renderedIndentGuides.add(G,q),X.add(N0(()=>this.renderedIndentGuides.delete(G,q))),J=G}$.indentGuidesDisposable=X}_onDidChangeActiveNodes(J){if(!this.shouldRenderIndentGuides)return;const $=new Set,X=this.modelProvider();J.forEach((Q)=>{const Y=X.getNodeLocation(Q);try{const Z=X.getParentNodeLocation(Y);if(Q.collapsible&&Q.children.length>0&&!Q.collapsed)$.add(Q);else if(Z)$.add(X.getNode(Z))}catch(Z){}}),this.activeIndentNodes.forEach((Q)=>{if(!$.has(Q))this.renderedIndentGuides.forEach(Q,(Y)=>Y.classList.remove("active"))}),$.forEach((Q)=>{if(!this.activeIndentNodes.has(Q))this.renderedIndentGuides.forEach(Q,(Y)=>Y.classList.add("active"))}),this.activeIndentNodes=$}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),w1(this.disposables)}}class wa{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(J,$,X){this.tree=J,this.keyboardNavigationLabelProvider=$,this._filter=X,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new e,J.onWillRefilter(this.reset,this,this.disposables)}filter(J,$){let X=1;if(this._filter){const Z=this._filter.filter(J,$);if(typeof Z==="boolean")X=Z?1:0;else if(CV(Z))X=Z2(Z.visibility);else X=Z;if(X===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:kJ.Default,visibility:X};const Q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(J),Y=Array.isArray(Q)?Q:[Q];for(let Z of Y){const G=Z&&Z.toString();if(typeof G==="undefined")return{data:kJ.Default,visibility:X};let q;if(this.tree.findMatchType===gY.Contiguous){const U=G.toLowerCase().indexOf(this._lowercasePattern);if(U>-1){q=[Number.MAX_SAFE_INTEGER,0];for(let H=this._lowercasePattern.length;H>0;H--)q.push(U+H-1)}}else q=CY(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return this._matchCount++,Y.length===1?{data:q,visibility:X}:{data:{label:G,score:q},visibility:X}}if(this.tree.findMode===w4.Filter)if(typeof this.tree.options.defaultFindVisibility==="number")return this.tree.options.defaultFindVisibility;else if(this.tree.options.defaultFindVisibility)return this.tree.options.defaultFindVisibility(J);else return 2;else return{data:kJ.Default,visibility:X}}reset(){this._totalCount=0,this._matchCount=0}dispose(){w1(this.disposables)}}class La{get pattern(){return this._pattern}get mode(){return this._mode}set mode(J){if(J===this._mode)return;if(this._mode=J,this.widget)this.widget.mode=this._mode;this.tree.refilter(),this.render(),this._onDidChangeMode.fire(J)}get matchType(){return this._matchType}set matchType(J){if(J===this._matchType)return;if(this._matchType=J,this.widget)this.widget.matchType=this._matchType;this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(J)}constructor(J,$,X,Q,Y,Z={}){var G,q;this.tree=J,this.view=X,this.filter=Q,this.contextViewProvider=Y,this.options=Z,this._pattern="",this.width=0,this._onDidChangeMode=new E,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new E,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new E,this._onDidChangeOpenState=new E,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new e,this.disposables=new e,this._mode=(G=J.options.defaultFindMode)!==null&&G!==void 0?G:w4.Highlight,this._matchType=(q=J.options.defaultFindMatchType)!==null&&q!==void 0?q:gY.Fuzzy,$.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(J={}){if(J.defaultFindMode!==void 0)this.mode=J.defaultFindMode;if(J.defaultFindMatchType!==void 0)this.matchType=J.defaultFindMatchType}onDidSpliceModel(){if(!this.widget||this.pattern.length===0)return;this.tree.refilter(),this.render()}render(){var J,$,X,Q;const Y=this.filter.totalCount>0&&this.filter.matchCount===0;if(this.pattern&&Y)if((J=this.tree.options.showNotFoundMessage)!==null&&J!==void 0?J:!0)($=this.widget)===null||$===void 0||$.showMessage({type:2,content:F("not found","No elements found.")});else(X=this.widget)===null||X===void 0||X.showMessage({type:2});else(Q=this.widget)===null||Q===void 0||Q.clearMessage()}shouldAllowFocus(J){if(!this.widget||!this.pattern||this._mode===w4.Filter)return!0;if(this.filter.totalCount>0&&this.filter.matchCount<=1)return!0;return!kJ.isDefault(J.filterData)}layout(J){var $;this.width=J,($=this.widget)===null||$===void 0||$.layout(J)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class bP{get nodeSet(){if(!this._nodeSet)this._nodeSet=this.createNodeSet();return this._nodeSet}constructor(J,$){this.getFirstViewElementWithTrait=J,this.identityProvider=$,this.nodes=[],this._onDidChange=new E,this.onDidChange=this._onDidChange.event}set(J,$){if(!($===null||$===void 0?void 0:$.__forceEvent)&&$8(this.nodes,J))return;this._set(J,!1,$)}_set(J,$,X){if(this.nodes=[...J],this.elements=void 0,this._nodeSet=void 0,!$){const Q=this;this._onDidChange.fire({get elements(){return Q.get()},browserEvent:X})}}get(){if(!this.elements)this.elements=this.nodes.map((J)=>J.element);return[...this.elements]}getNodes(){return this.nodes}has(J){return this.nodeSet.has(J)}onDidModelSplice({insertedNodes:J,deletedNodes:$}){if(!this.identityProvider){const q=this.createNodeSet(),U=(H)=>q.delete(H);$.forEach((H)=>xP(H,U)),this.set([...q.values()]);return}const X=new Set,Q=(q)=>X.add(this.identityProvider.getId(q.element).toString());$.forEach((q)=>xP(q,Q));const Y=new Map,Z=(q)=>Y.set(this.identityProvider.getId(q.element).toString(),q);J.forEach((q)=>xP(q,Z));const G=[];for(let q of this.nodes){const U=this.identityProvider.getId(q.element).toString();if(!X.has(U))G.push(q);else{const z=Y.get(U);if(z&&z.visible)G.push(z)}}if(this.nodes.length>0&&G.length===0){const q=this.getFirstViewElementWithTrait();if(q)G.push(q)}this._set(G,!0)}createNodeSet(){const J=new Set;for(let $ of this.nodes)J.add($);return J}}class Ia extends FP{constructor(J,$){super(J);this.tree=$}onViewPointer(J){if(wI(J.browserEvent.target)||UQ(J.browserEvent.target)||rG(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;const $=J.element;if(!$)return super.onViewPointer(J);if(this.isSelectionRangeChangeEvent(J)||this.isSelectionSingleChangeEvent(J))return super.onViewPointer(J);const X=J.browserEvent.target,Q=X.classList.contains("monaco-tl-twistie")||X.classList.contains("monaco-icon-label")&&X.classList.contains("folder-icon")&&J.browserEvent.offsetX<16;let Y=!1;if(typeof this.tree.expandOnlyOnTwistieClick==="function")Y=this.tree.expandOnlyOnTwistieClick($.element);else Y=!!this.tree.expandOnlyOnTwistieClick;if(Y&&!Q&&J.browserEvent.detail!==2)return super.onViewPointer(J);if(!this.tree.expandOnDoubleClick&&J.browserEvent.detail===2)return super.onViewPointer(J);if($.collapsible){const Z=this.tree.getNodeLocation($),G=J.browserEvent.altKey;if(this.tree.setFocus([Z]),this.tree.toggleCollapsed(Z,G),Y&&Q){J.browserEvent.isHandledByList=!0;return}}super.onViewPointer(J)}onDoubleClick(J){if(J.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick)return;if(J.browserEvent.isHandledByList)return;super.onDoubleClick(J)}}class ka extends p6{constructor(J,$,X,Q,Y,Z,G,q){super(J,$,X,Q,q);this.focusTrait=Y,this.selectionTrait=Z,this.anchorTrait=G}createMouseController(J){return new Ia(this,J.tree)}splice(J,$,X=[]){if(super.splice(J,$,X),X.length===0)return;const Q=[],Y=[];let Z;if(X.forEach((G,q)=>{if(this.focusTrait.has(G))Q.push(J+q);if(this.selectionTrait.has(G))Y.push(J+q);if(this.anchorTrait.has(G))Z=J+q}),Q.length>0)super.setFocus(o5([...super.getFocus(),...Q]));if(Y.length>0)super.setSelection(o5([...super.getSelection(),...Y]));if(typeof Z==="number")super.setAnchor(Z)}setFocus(J,$,X=!1){if(super.setFocus(J,$),!X)this.focusTrait.set(J.map((Q)=>this.element(Q)),$)}setSelection(J,$,X=!1){if(super.setSelection(J,$),!X)this.selectionTrait.set(J.map((Q)=>this.element(Q)),$)}setAnchor(J,$=!1){if(super.setAnchor(J),!$)if(typeof J==="undefined")this.anchorTrait.set([]);else this.anchorTrait.set([this.element(J)])}}class fV{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Y0.filter(Y0.map(this.view.onMouseDblClick,Oa),(J)=>J.target!==hY.Filter)}get onPointer(){return Y0.map(this.view.onPointer,Oa)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Y0.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.mode)!==null&&$!==void 0?$:w4.Highlight}set findMode(J){if(this.findController)this.findController.mode=J}get findMatchType(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.matchType)!==null&&$!==void 0?$:gY.Fuzzy}set findMatchType(J){if(this.findController)this.findController.matchType=J}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick==="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick==="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(J,$,X,Q,Y={}){var Z;this._user=J,this._options=Y,this.eventBufferer=new NZ,this.onDidChangeFindOpenState=Y0.None,this.disposables=new e,this._onWillRefilter=new E,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new E;const G=new vV(X),q=new AB,U=new AB,H=this.disposables.add(new _a(U.event)),z=new SH;this.renderers=Q.map((K)=>new bV(K,()=>this.model,q.event,H,z,Y));for(let K of this.renderers)this.disposables.add(K);let V;if(Y.keyboardNavigationLabelProvider)V=new wa(this,Y.keyboardNavigationLabelProvider,Y.filter),Y=Object.assign(Object.assign({},Y),{filter:V}),this.disposables.add(V);this.focus=new bP(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new bP(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new bP(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new ka(J,$,G,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},pJ0(()=>this.model,Y)),{tree:this})),this.model=this.createModel(J,this.view,Y),q.input=this.model.onDidChangeCollapseState;const W=Y0.forEach(this.model.onDidSplice,(K)=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(K),this.selection.onDidModelSplice(K)})},this.disposables);W(()=>null,null,this.disposables);const B=this.disposables.add(new E),j=this.disposables.add(new BJ(0));if(this.disposables.add(Y0.any(W,this.focus.onDidChange,this.selection.onDidChange)(()=>{j.trigger(()=>{const K=new Set;for(let D of this.focus.getNodes())K.add(D);for(let D of this.selection.getNodes())K.add(D);B.fire([...K.values()])})})),U.input=B.event,Y.keyboardSupport!==!1){const K=Y0.chain(this.view.onKeyDown,(D)=>D.filter((A)=>!UQ(A.target)).map((A)=>new D1(A)));Y0.chain(K,(D)=>D.filter((A)=>A.keyCode===15))(this.onLeftArrow,this,this.disposables),Y0.chain(K,(D)=>D.filter((A)=>A.keyCode===17))(this.onRightArrow,this,this.disposables),Y0.chain(K,(D)=>D.filter((A)=>A.keyCode===10))(this.onSpace,this,this.disposables)}if(((Z=Y.findWidgetEnabled)!==null&&Z!==void 0?Z:!0)&&Y.keyboardNavigationLabelProvider&&Y.contextViewProvider){const K=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new La(this,this.model,this.view,V,Y.contextViewProvider,K),this.focusNavigationFilter=(D)=>this.findController.shouldAllowFocus(D),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=Y0.None,this.onDidChangeFindMatchType=Y0.None;this.styleElement=K7(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===xV.Always)}updateOptions(J={}){var $;this._options=Object.assign(Object.assign({},this._options),J);for(let X of this.renderers)X.updateOptions(J);this.view.updateOptions(this._options),($=this.findController)===null||$===void 0||$.updateOptions(J),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===xV.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(J){this.view.scrollTop=J}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(J,$){var X;if(this.view.layout(J,$),s9($))(X=this.findController)===null||X===void 0||X.layout($)}style(J){const $=`.${this.view.domId}`,X=[];if(J.treeIndentGuidesStroke)X.push(`.monaco-list${$}:hover .monaco-tl-indent > .indent-guide, .monaco-list${$}.always .monaco-tl-indent > .indent-guide  { border-color: ${J.treeInactiveIndentGuidesStroke}; }`),X.push(`.monaco-list${$} .monaco-tl-indent > .indent-guide.active { border-color: ${J.treeIndentGuidesStroke}; }`);this.styleElement.textContent=X.join("\n"),this.view.style(J)}getParentElement(J){const $=this.model.getParentNodeLocation(J);return this.model.getNode($).element}getFirstElementChild(J){return this.model.getFirstElementChild(J)}getNode(J){return this.model.getNode(J)}getNodeLocation(J){return this.model.getNodeLocation(J)}collapse(J,$=!1){return this.model.setCollapsed(J,!0,$)}expand(J,$=!1){return this.model.setCollapsed(J,!1,$)}toggleCollapsed(J,$=!1){return this.model.setCollapsed(J,void 0,$)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(J,$){const X=J.map((Y)=>this.model.getNode(Y));this.selection.set(X,$);const Q=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setSelection(Q,$,!0)}getSelection(){return this.selection.get()}setFocus(J,$){const X=J.map((Y)=>this.model.getNode(Y));this.focus.set(X,$);const Q=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setFocus(Q,$,!0)}getFocus(){return this.focus.get()}reveal(J,$){this.model.expandTo(J);const X=this.model.getListIndex(J);if(X===-1)return;this.view.reveal(X,$)}onLeftArrow(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X);if(!this.model.setCollapsed(Q,!0)){const Z=this.model.getParentNodeLocation(Q);if(!Z)return;const G=this.model.getListIndex(Z);this.view.reveal(G),this.view.setFocus([G])}}onRightArrow(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X);if(!this.model.setCollapsed(Q,!1)){if(!X.children.some((q)=>q.visible))return;const[Z]=this.view.getFocus(),G=Z+1;this.view.reveal(G),this.view.setFocus([G])}}onSpace(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X),Y=J.browserEvent.altKey;this.model.setCollapsed(Q,void 0,Y)}dispose(){w1(this.disposables),this.view.dispose()}}var qk,pJ0,Oa,xP,xV,w4,gY;var hV=N(()=>{y0();K4();x6();zQ();SP();yP();BP();nG();EV();CP();mU();T9();V1();f1();h7();k7();G4();A0();xY();$0();jU();j8();Ma();m0();qk=function(J){if(J instanceof fY)return new Na(J);return J},pJ0=function(J,$){return $&&Object.assign(Object.assign({},$),{identityProvider:$.identityProvider&&{getId(X){return $.identityProvider.getId(X.element)}},dnd:$.dnd&&new Ta(J,$.dnd),multipleSelectionController:$.multipleSelectionController&&{isSelectionSingleChangeEvent(X){return $.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},X),{element:X.element}))},isSelectionRangeChangeEvent(X){return $.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},X),{element:X.element}))}},accessibilityProvider:$.accessibilityProvider&&Object.assign(Object.assign({},$.accessibilityProvider),{getSetSize(X){const Q=J(),Y=Q.getNodeLocation(X),Z=Q.getParentNodeLocation(Y);return Q.getNode(Z).visibleChildrenCount},getPosInSet(X){return X.visibleChildIndex+1},isChecked:$.accessibilityProvider&&$.accessibilityProvider.isChecked?(X)=>{return $.accessibilityProvider.isChecked(X.element)}:void 0,getRole:$.accessibilityProvider&&$.accessibilityProvider.getRole?(X)=>{return $.accessibilityProvider.getRole(X.element)}:()=>"treeitem",getAriaLabel(X){return $.accessibilityProvider.getAriaLabel(X.element)},getWidgetAriaLabel(){return $.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:$.accessibilityProvider&&$.accessibilityProvider.getWidgetRole?()=>$.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$.accessibilityProvider&&$.accessibilityProvider.getAriaLevel?(X)=>$.accessibilityProvider.getAriaLevel(X.element):(X)=>{return X.depth},getActiveDescendantId:$.accessibilityProvider.getActiveDescendantId&&((X)=>{return $.accessibilityProvider.getActiveDescendantId(X.element)})}),keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},$.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(X){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X.element)}})})},Oa=function(J){let $=hY.Unknown;if(YF(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row"))$=hY.Twistie;else if(YF(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row"))$=hY.Element;else if(YF(J.browserEvent.target,"monaco-tree-type-filter","monaco-list"))$=hY.Filter;return{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:$}},xP=function(J,$){$(J),J.children.forEach((X)=>xP(X,$))};(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(xV||(xV={}));bV.DefaultIndent=8;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(w4||(w4={}));(function(J){J[J.Fuzzy=0]="Fuzzy",J[J.Contiguous=1]="Contiguous"})(gY||(gY={}))});class G2{constructor(J,$,X={}){if(this.user=J,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Gk(J,$,null,X),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,X.sorter)this.sorter={compare(Q,Y){return X.sorter.compare(Q.element,Y.element)}};this.identityProvider=X.identityProvider}setChildren(J,$=U1.empty(),X={}){const Q=this.getElementLocation(J);this._setChildren(Q,this.preserveCollapseState($),X)}_setChildren(J,$=U1.empty(),X){const Q=new Set,Y=new Set,Z=(q)=>{var U;if(q.element===null)return;const H=q;if(Q.add(H.element),this.nodes.set(H.element,H),this.identityProvider){const z=this.identityProvider.getId(H.element).toString();Y.add(z),this.nodesByIdentity.set(z,H)}(U=X.onDidCreateNode)===null||U===void 0||U.call(X,H)},G=(q)=>{var U;if(q.element===null)return;const H=q;if(!Q.has(H.element))this.nodes.delete(H.element);if(this.identityProvider){const z=this.identityProvider.getId(H.element).toString();if(!Y.has(z))this.nodesByIdentity.delete(z)}(U=X.onDidDeleteNode)===null||U===void 0||U.call(X,H)};this.model.splice([...J,0],Number.MAX_VALUE,$,Object.assign(Object.assign({},X),{onDidCreateNode:Z,onDidDeleteNode:G}))}preserveCollapseState(J=U1.empty()){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return U1.map(J,($)=>{let X=this.nodes.get($.element);if(!X&&this.identityProvider){const Z=this.identityProvider.getId($.element).toString();X=this.nodesByIdentity.get(Z)}if(!X){let Z;if(typeof $.collapsed==="undefined")Z=void 0;else if($.collapsed===_4.Collapsed||$.collapsed===_4.PreserveOrCollapsed)Z=!0;else if($.collapsed===_4.Expanded||$.collapsed===_4.PreserveOrExpanded)Z=!1;else Z=Boolean($.collapsed);return Object.assign(Object.assign({},$),{children:this.preserveCollapseState($.children),collapsed:Z})}const Q=typeof $.collapsible==="boolean"?$.collapsible:X.collapsible;let Y;if(typeof $.collapsed==="undefined"||$.collapsed===_4.PreserveOrCollapsed||$.collapsed===_4.PreserveOrExpanded)Y=X.collapsed;else if($.collapsed===_4.Collapsed)Y=!0;else if($.collapsed===_4.Expanded)Y=!1;else Y=Boolean($.collapsed);return Object.assign(Object.assign({},$),{collapsible:Q,collapsed:Y,children:this.preserveCollapseState($.children)})})}rerender(J){const $=this.getElementLocation(J);this.model.rerender($)}getFirstElementChild(J=null){const $=this.getElementLocation(J);return this.model.getFirstElementChild($)}has(J){return this.nodes.has(J)}getListIndex(J){const $=this.getElementLocation(J);return this.model.getListIndex($)}getListRenderCount(J){const $=this.getElementLocation(J);return this.model.getListRenderCount($)}isCollapsible(J){const $=this.getElementLocation(J);return this.model.isCollapsible($)}setCollapsible(J,$){const X=this.getElementLocation(J);return this.model.setCollapsible(X,$)}isCollapsed(J){const $=this.getElementLocation(J);return this.model.isCollapsed($)}setCollapsed(J,$,X){const Q=this.getElementLocation(J);return this.model.setCollapsed(Q,$,X)}expandTo(J){const $=this.getElementLocation(J);this.model.expandTo($)}refilter(){this.model.refilter()}getNode(J=null){if(J===null)return this.model.getNode(this.model.rootRef);const $=this.nodes.get(J);if(!$)throw new T6(this.user,`Tree element not found: ${J}`);return $}getNodeLocation(J){return J.element}getParentNodeLocation(J){if(J===null)throw new T6(this.user,"Invalid getParentNodeLocation call");const $=this.nodes.get(J);if(!$)throw new T6(this.user,`Tree element not found: ${J}`);const X=this.model.getNodeLocation($),Q=this.model.getParentNodeLocation(X);return this.model.getNode(Q).element}getElementLocation(J){if(J===null)return[];const $=this.nodes.get(J);if(!$)throw new T6(this.user,`Tree element not found: ${J}`);return this.model.getNodeLocation($)}}var vP=N(()=>{CP();mU();A5()});function hP(J){const $=[J.element],X=J.incompressible||!1;let Q,Y;while(!0){if([Y,Q]=U1.consume(U1.from(J.children),2),Y.length!==1)break;if(Y[0].incompressible)break;J=Y[0],$.push(J.element)}return{element:{elements:$,incompressible:X},children:U1.map(U1.concat(Y,Q),hP),collapsible:J.collapsible,collapsed:J.collapsed}}function Ea(J){return Uk(J,0)}class Sa{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(J,$,X={}){this.user=J,this.rootRef=null,this.nodes=new Map,this.model=new G2(J,$,X),this.enabled=typeof X.compressionEnabled==="undefined"?!0:X.compressionEnabled,this.identityProvider=X.identityProvider}setChildren(J,$=U1.empty(),X){const Q=X.diffIdentityProvider&&mJ0(X.diffIdentityProvider);if(J===null){const B=U1.map($,this.enabled?hP:fP);this._setChildren(null,B,{diffIdentityProvider:Q,diffDepth:Infinity});return}const Y=this.nodes.get(J);if(!Y)throw new T6(this.user,"Unknown compressed tree node");const Z=this.model.getNode(Y),G=this.model.getParentNodeLocation(Y),q=this.model.getNode(G),U=Ea(Z),H=ya(U,J,$),z=(this.enabled?hP:fP)(H),V=X.diffIdentityProvider?(B,j)=>X.diffIdentityProvider.getId(B)===X.diffIdentityProvider.getId(j):void 0;if($8(z.element.elements,Z.element.elements,V)){this._setChildren(Y,z.children||U1.empty(),{diffIdentityProvider:Q,diffDepth:1});return}const W=q.children.map((B)=>B===Z?z:B);this._setChildren(q.element,W,{diffIdentityProvider:Q,diffDepth:Z.depth-q.depth})}setCompressionEnabled(J){if(J===this.enabled)return;this.enabled=J;const X=this.model.getNode().children,Q=U1.map(X,Ea),Y=U1.map(Q,J?hP:fP);this._setChildren(null,Y,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(J,$,X){const Q=new Set,Y=(G)=>{for(let q of G.element.elements)Q.add(q),this.nodes.set(q,G.element)},Z=(G)=>{for(let q of G.element.elements)if(!Q.has(q))this.nodes.delete(q)};this.model.setChildren(J,$,Object.assign(Object.assign({},X),{onDidCreateNode:Y,onDidDeleteNode:Z}))}has(J){return this.nodes.has(J)}getListIndex(J){const $=this.getCompressedNode(J);return this.model.getListIndex($)}getListRenderCount(J){const $=this.getCompressedNode(J);return this.model.getListRenderCount($)}getNode(J){if(typeof J==="undefined")return this.model.getNode();const $=this.getCompressedNode(J);return this.model.getNode($)}getNodeLocation(J){const $=this.model.getNodeLocation(J);if($===null)return null;return $.elements[$.elements.length-1]}getParentNodeLocation(J){const $=this.getCompressedNode(J),X=this.model.getParentNodeLocation($);if(X===null)return null;return X.elements[X.elements.length-1]}getFirstElementChild(J){const $=this.getCompressedNode(J);return this.model.getFirstElementChild($)}isCollapsible(J){const $=this.getCompressedNode(J);return this.model.isCollapsible($)}setCollapsible(J,$){const X=this.getCompressedNode(J);return this.model.setCollapsible(X,$)}isCollapsed(J){const $=this.getCompressedNode(J);return this.model.isCollapsed($)}setCollapsed(J,$,X){const Q=this.getCompressedNode(J);return this.model.setCollapsed(Q,$,X)}expandTo(J){const $=this.getCompressedNode(J);this.model.expandTo($)}rerender(J){const $=this.getCompressedNode(J);this.model.rerender($)}refilter(){this.model.refilter()}getCompressedNode(J){if(J===null)return null;const $=this.nodes.get(J);if(!$)throw new T6(this.user,`Tree element not found: ${J}`);return $}}class Hk{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((J)=>new Hk(this.unwrapper,J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J,$){this.unwrapper=J,this.node=$}}class zk{get onDidSplice(){return Y0.map(this.model.onDidSplice,({insertedNodes:J,deletedNodes:$})=>({insertedNodes:J.map((X)=>this.nodeMapper.map(X)),deletedNodes:$.map((X)=>this.nodeMapper.map(X))}))}get onDidChangeCollapseState(){return Y0.map(this.model.onDidChangeCollapseState,({node:J,deep:$})=>({node:this.nodeMapper.map(J),deep:$}))}get onDidChangeRenderNodeCount(){return Y0.map(this.model.onDidChangeRenderNodeCount,(J)=>this.nodeMapper.map(J))}constructor(J,$,X={}){this.rootRef=null,this.elementMapper=X.elementMapper||uJ0;const Q=(Y)=>this.elementMapper(Y.elements);this.nodeMapper=new pU((Y)=>new Hk(Q,Y)),this.model=new Sa(J,cJ0(this.nodeMapper,$),lJ0(Q,X))}setChildren(J,$=U1.empty(),X={}){this.model.setChildren(J,$,X)}setCompressionEnabled(J){this.model.setCompressionEnabled(J)}has(J){return this.model.has(J)}getListIndex(J){return this.model.getListIndex(J)}getListRenderCount(J){return this.model.getListRenderCount(J)}getNode(J){return this.nodeMapper.map(this.model.getNode(J))}getNodeLocation(J){return J.element}getParentNodeLocation(J){return this.model.getParentNodeLocation(J)}getFirstElementChild(J){const $=this.model.getFirstElementChild(J);if($===null||typeof $==="undefined")return $;return this.elementMapper($.elements)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}setCollapsed(J,$,X){return this.model.setCollapsed(J,$,X)}expandTo(J){return this.model.expandTo(J)}rerender(J){return this.model.rerender(J)}refilter(){return this.model.refilter()}getCompressedTreeNode(J=null){return this.model.getNode(J)}}var fP,Uk,ya,cJ0,lJ0,mJ0,uJ0;var Ca=N(()=>{vP();mU();V1();A0();A5();fP=function(J){const $=[J.element],X=J.incompressible||!1;return{element:{elements:$,incompressible:X},children:U1.map(U1.from(J.children),fP),collapsible:J.collapsible,collapsed:J.collapsed}};Uk=function(J,$=0){let X;if($<J.element.elements.length-1)X=[Uk(J,$+1)];else X=U1.map(U1.from(J.children),(Q)=>Uk(Q,0));if($===0&&J.element.incompressible)return{element:J.element.elements[$],children:X,incompressible:!0,collapsible:J.collapsible,collapsed:J.collapsed};return{element:J.element.elements[$],children:X,collapsible:J.collapsible,collapsed:J.collapsed}};ya=function(J,$,X){if(J.element===$)return Object.assign(Object.assign({},J),{children:X});return Object.assign(Object.assign({},J),{children:U1.map(U1.from(J.children),(Q)=>ya(Q,$,X))})},cJ0=function(J,$){return{splice(X,Q,Y){$.splice(X,Q,Y.map((Z)=>J.map(Z)))},updateElementHeight(X,Q){$.updateElementHeight(X,Q)}}},lJ0=function(J,$){return Object.assign(Object.assign({},$),{identityProvider:$.identityProvider&&{getId(X){return $.identityProvider.getId(J(X))}},sorter:$.sorter&&{compare(X,Q){return $.sorter.compare(X.elements[0],Q.elements[0])}},filter:$.filter&&{filter(X,Q){return $.filter.filter(J(X),Q)}}})},mJ0=(J)=>({getId($){return $.elements.map((X)=>J.getId(X).toString()).join("\0")}});uJ0=(J)=>J[J.length-1]});class uU extends fV{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(J,$,X,Q,Y={}){super(J,$,X,Q,Y);this.user=J}setChildren(J,$=U1.empty(),X){this.model.setChildren(J,$,X)}rerender(J){if(J===void 0){this.view.rerender();return}this.model.rerender(J)}hasElement(J){return this.model.has(J)}createModel(J,$,X){return new G2(J,$,X)}}class Vk{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(J,$){if(this._compressedTreeNodeProvider=J,this.renderer=$,this.templateId=$.templateId,$.onDidChangeTwistieState)this.onDidChangeTwistieState=$.onDidChangeTwistieState}renderTemplate(J){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){const Y=this.compressedTreeNodeProvider.getCompressedTreeNode(J.element);if(Y.element.elements.length===1)X.compressedTreeNode=void 0,this.renderer.renderElement(J,$,X.data,Q);else X.compressedTreeNode=Y,this.renderer.renderCompressedElements(Y,$,X.data,Q)}disposeElement(J,$,X,Q){var Y,Z,G,q;if(X.compressedTreeNode)(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,X.compressedTreeNode,$,X.data,Q);else(q=(G=this.renderer).disposeElement)===null||q===void 0||q.call(G,J,$,X.data,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.data)}renderTwistie(J,$){if(this.renderer.renderTwistie)return this.renderer.renderTwistie(J,$);return!1}}class gV extends uU{constructor(J,$,X,Q,Y={}){const Z=()=>this,G=Q.map((q)=>new Vk(Z,q));super(J,$,X,G,sJ0(Z,Y))}setChildren(J,$=U1.empty(),X){this.model.setChildren(J,$,X)}createModel(J,$,X){return new zk(J,$,X)}updateOptions(J={}){if(super.updateOptions(J),typeof J.compressionEnabled!=="undefined")this.model.setCompressionEnabled(J.compressionEnabled)}getCompressedTreeNode(J=null){return this.model.getCompressedTreeNode(J)}}var sJ0,dJ0;var Wk=N(()=>{hV();Ca();vP();GY();A5();sJ0=function(J,$){return $&&Object.assign(Object.assign({},$),{keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(X){let Q;try{Q=J().getCompressedTreeNode(X)}catch(Y){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X)}if(Q.element.elements.length===1)return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X);else return $.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Q.element.elements)}}})},dJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};dJ0([Y8],Vk.prototype,"compressedTreeNodeProvider",null)});class Ak{get element(){return this.node.element.element}get children(){return this.node.children.map((J)=>new Ak(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class va{constructor(J,$,X){this.renderer=J,this.nodeMapper=$,this.onDidChangeTwistieState=X,this.renderedNodes=new Map,this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){this.renderer.renderElement(this.nodeMapper.map(J),$,X.templateData,Q)}renderTwistie(J,$){if(J.slow)return $.classList.add(...C0.asClassNameArray(z0.treeItemLoading)),!0;else return $.classList.remove(...C0.asClassNameArray(z0.treeItemLoading)),!1}disposeElement(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,X.templateData,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear()}}class fa extends fY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}}class ha{constructor(J){this.dnd=J}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((X)=>X.element),$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,jk(J),$)}onDragOver(J,$,X,Q,Y=!0){return this.dnd.onDragOver(jk(J),$&&$.element,X,Q)}drop(J,$,X,Q){this.dnd.drop(jk(J),$&&$.element,X,Q)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}dispose(){this.dnd.dispose()}}class gP{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return Y0.map(this.tree.onDidChangeFocus,xa)}get onDidChangeSelection(){return Y0.map(this.tree.onDidChangeSelection,xa)}get onMouseDblClick(){return Y0.map(this.tree.onMouseDblClick,ba)}get onPointer(){return Y0.map(this.tree.onPointer,ba)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(J,$,X,Q,Y,Z={}){if(this.user=J,this.dataSource=Y,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new E,this._onDidChangeNodeSlowState=new E,this.nodeMapper=new pU((G)=>new Ak(G)),this.disposables=new e,this.identityProvider=Z.identityProvider,this.autoExpandSingleChildren=typeof Z.autoExpandSingleChildren==="undefined"?!1:Z.autoExpandSingleChildren,this.sorter=Z.sorter,this.collapseByDefault=Z.collapseByDefault,this.tree=this.createTree(J,$,X,Q,Z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Bk({element:void 0,parent:null,hasChildren:!0}),this.identityProvider)this.root=Object.assign(Object.assign({},this.root),{id:null});this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(J,$,X,Q,Y){const Z=new vV(X),G=Q.map((U)=>new va(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=ga(Y)||{};return new uU(J,$,Z,G,q)}updateOptions(J={}){this.tree.updateOptions(J)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(J){this.tree.scrollTop=J}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(J,$){this.tree.layout(J,$)}style(J){this.tree.style(J)}getInput(){return this.root.element}setInput(J,$){return pY(this,void 0,void 0,function*(){this.refreshPromises.forEach((Q)=>Q.cancel()),this.refreshPromises.clear(),this.root.element=J;const X=$&&{viewState:$,focus:[],selection:[]};if(yield this._updateChildren(J,!0,!1,X),X)this.tree.setFocus(X.focus),this.tree.setSelection(X.selection);if($&&typeof $.scrollTop==="number")this.scrollTop=$.scrollTop})}_updateChildren(J=this.root.element,$=!0,X=!1,Q,Y){return pY(this,void 0,void 0,function*(){if(typeof this.root.element==="undefined")throw new T6(this.user,"Tree input not set");if(this.root.refreshPromise)yield this.root.refreshPromise,yield Y0.toPromise(this._onDidRender.event);const Z=this.getDataNode(J);if(yield this.refreshAndRenderNode(Z,$,Q,Y),X)try{this.tree.rerender(Z)}catch(G){}})}rerender(J){if(J===void 0||J===this.root.element){this.tree.rerender();return}const $=this.getDataNode(J);this.tree.rerender($)}getNode(J=this.root.element){const $=this.getDataNode(J),X=this.tree.getNode($===this.root?null:$);return this.nodeMapper.map(X)}collapse(J,$=!1){const X=this.getDataNode(J);return this.tree.collapse(X===this.root?null:X,$)}expand(J,$=!1){return pY(this,void 0,void 0,function*(){if(typeof this.root.element==="undefined")throw new T6(this.user,"Tree input not set");if(this.root.refreshPromise)yield this.root.refreshPromise,yield Y0.toPromise(this._onDidRender.event);const X=this.getDataNode(J);if(this.tree.hasElement(X)&&!this.tree.isCollapsible(X))return!1;if(X.refreshPromise)yield this.root.refreshPromise,yield Y0.toPromise(this._onDidRender.event);if(X!==this.root&&!X.refreshPromise&&!this.tree.isCollapsed(X))return!1;const Q=this.tree.expand(X===this.root?null:X,$);if(X.refreshPromise)yield this.root.refreshPromise,yield Y0.toPromise(this._onDidRender.event);return Q})}setSelection(J,$){const X=J.map((Q)=>this.getDataNode(Q));this.tree.setSelection(X,$)}getSelection(){return this.tree.getSelection().map(($)=>$.element)}setFocus(J,$){const X=J.map((Q)=>this.getDataNode(Q));this.tree.setFocus(X,$)}getFocus(){return this.tree.getFocus().map(($)=>$.element)}reveal(J,$){this.tree.reveal(this.getDataNode(J),$)}getParentElement(J){const $=this.tree.getParentElement(this.getDataNode(J));return $&&$.element}getFirstElementChild(J=this.root.element){const $=this.getDataNode(J),X=this.tree.getFirstElementChild($===this.root?null:$);return X&&X.element}getDataNode(J){const $=this.nodes.get(J===this.root.element?null:J);if(!$)throw new T6(this.user,`Data tree node not found: ${J}`);return $}refreshAndRenderNode(J,$,X,Q){return pY(this,void 0,void 0,function*(){yield this.refreshNode(J,$,X),this.render(J,X,Q)})}refreshNode(J,$,X){return pY(this,void 0,void 0,function*(){let Q;if(this.subTreeRefreshPromises.forEach((Y,Z)=>{if(!Q&&aJ0(Z,J))Q=Y.then(()=>this.refreshNode(J,$,X))}),Q)return Q;if(J!==this.root){if(this.tree.getNode(J).collapsed){J.hasChildren=!!this.dataSource.hasChildren(J.element),J.stale=!0;return}}return this.doRefreshSubTree(J,$,X)})}doRefreshSubTree(J,$,X){return pY(this,void 0,void 0,function*(){let Q;J.refreshPromise=new Promise((Y)=>Q=Y),this.subTreeRefreshPromises.set(J,J.refreshPromise),J.refreshPromise.finally(()=>{J.refreshPromise=void 0,this.subTreeRefreshPromises.delete(J)});try{const Y=yield this.doRefreshNode(J,$,X);J.stale=!1,yield zF.settled(Y.map((Z)=>this.doRefreshSubTree(Z,$,X)))}finally{Q()}})}doRefreshNode(J,$,X){return pY(this,void 0,void 0,function*(){J.hasChildren=!!this.dataSource.hasChildren(J.element);let Q;if(!J.hasChildren)Q=Promise.resolve(U1.empty());else{const Y=this.doGetChildren(J);if(xR(Y))Q=Promise.resolve(Y);else{const Z=FX(800);Z.then(()=>{J.slow=!0,this._onDidChangeNodeSlowState.fire(J)},(G)=>null),Q=Y.finally(()=>Z.cancel())}}try{const Y=yield Q;return this.setChildren(J,Y,$,X)}catch(Y){if(J!==this.root&&this.tree.hasElement(J))this.tree.collapse(J);if(s4(Y))return[];throw Y}finally{if(J.slow)J.slow=!1,this._onDidChangeNodeSlowState.fire(J)}})}doGetChildren(J){let $=this.refreshPromises.get(J);if($)return $;const X=this.dataSource.getChildren(J.element);if(xR(X))return this.processChildren(X);else return $=pZ(()=>pY(this,void 0,void 0,function*(){return this.processChildren(yield X)})),this.refreshPromises.set(J,$),$.finally(()=>{this.refreshPromises.delete(J)})}_onDidChangeCollapseState({node:J,deep:$}){if(J.element===null)return;if(!J.collapsed&&J.element.stale)if($)this.collapse(J.element.element);else this.refreshAndRenderNode(J.element,!1).catch(a0)}setChildren(J,$,X,Q){const Y=[...$];if(J.children.length===0&&Y.length===0)return[];const Z=new Map,G=new Map;for(let H of J.children)if(Z.set(H.element,H),this.identityProvider){const z=this.tree.isCollapsed(H);G.set(H.id,{node:H,collapsed:z})}const q=[],U=Y.map((H)=>{const z=!!this.dataSource.hasChildren(H);if(!this.identityProvider){const j=Bk({element:H,parent:J,hasChildren:z});if(z&&this.collapseByDefault&&!this.collapseByDefault(H))j.collapsedByDefault=!1,q.push(j);return j}const V=this.identityProvider.getId(H).toString(),W=G.get(V);if(W){const j=W.node;if(Z.delete(j.element),this.nodes.delete(j.element),this.nodes.set(H,j),j.element=H,j.hasChildren=z,X)if(W.collapsed)j.children.forEach((K)=>Kk(K,(D)=>this.nodes.delete(D.element))),j.children.splice(0,j.children.length),j.stale=!0;else q.push(j);else if(z&&this.collapseByDefault&&!this.collapseByDefault(H))j.collapsedByDefault=!1,q.push(j);return j}const B=Bk({element:H,parent:J,id:V,hasChildren:z});if(Q&&Q.viewState.focus&&Q.viewState.focus.indexOf(V)>-1)Q.focus.push(B);if(Q&&Q.viewState.selection&&Q.viewState.selection.indexOf(V)>-1)Q.selection.push(B);if(Q&&Q.viewState.expanded&&Q.viewState.expanded.indexOf(V)>-1)q.push(B);else if(z&&this.collapseByDefault&&!this.collapseByDefault(H))B.collapsedByDefault=!1,q.push(B);return B});for(let H of Z.values())Kk(H,(z)=>this.nodes.delete(z.element));for(let H of U)this.nodes.set(H.element,H);if(J.children.splice(0,J.children.length,...U),J!==this.root&&this.autoExpandSingleChildren&&U.length===1&&q.length===0)U[0].collapsedByDefault=!1,q.push(U[0]);return q}render(J,$,X){const Q=J.children.map((Z)=>this.asTreeElement(Z,$)),Y=X&&Object.assign(Object.assign({},X),{diffIdentityProvider:X.diffIdentityProvider&&{getId(Z){return X.diffIdentityProvider.getId(Z.element)}}});if(this.tree.setChildren(J===this.root?null:J,Q,Y),J!==this.root)this.tree.setCollapsible(J,J.hasChildren);this._onDidRender.fire()}asTreeElement(J,$){if(J.stale)return{element:J,collapsible:J.hasChildren,collapsed:!0};let X;if($&&$.viewState.expanded&&J.id&&$.viewState.expanded.indexOf(J.id)>-1)X=!1;else X=J.collapsedByDefault;return J.collapsedByDefault=void 0,{element:J,children:J.hasChildren?U1.map(J.children,(Q)=>this.asTreeElement(Q,$)):[],collapsible:J.hasChildren,collapsed:X}}processChildren(J){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return J}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Pk{get element(){return{elements:this.node.element.elements.map((J)=>J.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((J)=>new Pk(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class pa{constructor(J,$,X,Q){this.renderer=J,this.nodeMapper=$,this.compressibleNodeMapperProvider=X,this.onDidChangeTwistieState=Q,this.renderedNodes=new Map,this.disposables=[],this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){this.renderer.renderElement(this.nodeMapper.map(J),$,X.templateData,Q)}renderCompressedElements(J,$,X,Q){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(J),$,X.templateData,Q)}renderTwistie(J,$){if(J.slow)return $.classList.add(...C0.asClassNameArray(z0.treeItemLoading)),!0;else return $.classList.remove(...C0.asClassNameArray(z0.treeItemLoading)),!1}disposeElement(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,X.templateData,Q)}disposeCompressedElements(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,this.compressibleNodeMapperProvider().map(J),$,X.templateData,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=w1(this.disposables)}}class Dk extends gP{constructor(J,$,X,Q,Y,Z,G={}){super(J,$,X,Y,Z,G);this.compressionDelegate=Q,this.compressibleNodeMapper=new pU((q)=>new Pk(q)),this.filter=G.filter}createTree(J,$,X,Q,Y){const Z=new vV(X),G=Q.map((U)=>new pa(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=rJ0(Y)||{};return new gV(J,$,Z,G,q)}asTreeElement(J,$){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(J.element)},super.asTreeElement(J,$))}updateOptions(J={}){this.tree.updateOptions(J)}render(J,$){if(!this.identityProvider)return super.render(J,$);const X=(V)=>this.identityProvider.getId(V).toString(),Q=(V)=>{const W=new Set;for(let B of V){const j=this.tree.getCompressedTreeNode(B===this.root?null:B);if(!j.element)continue;for(let K of j.element.elements)W.add(X(K.element))}return W},Y=Q(this.tree.getSelection()),Z=Q(this.tree.getFocus());super.render(J,$);const G=this.getSelection();let q=!1;const U=this.getFocus();let H=!1;const z=(V)=>{const W=V.element;if(W)for(let B=0;B<W.elements.length;B++){const j=X(W.elements[B].element),K=W.elements[W.elements.length-1].element;if(Y.has(j)&&G.indexOf(K)===-1)G.push(K),q=!0;if(Z.has(j)&&U.indexOf(K)===-1)U.push(K),H=!0}V.children.forEach(z)};if(z(this.tree.getCompressedTreeNode(J===this.root?null:J)),q)this.setSelection(G);if(H)this.setFocus(U)}processChildren(J){if(this.filter)J=U1.filter(J,($)=>{const X=this.filter.filter($,1),Q=iJ0(X);if(Q===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Q===1});return super.processChildren(J)}}var Bk,Fk,aJ0,xa,ba,jk,ga,Kk,rJ0,iJ0,pY;var ma=N(()=>{BP();hV();CP();Wk();mU();f1();h7();k7();A1();A0();A5();$0();j8();Bk=function(J){return Object.assign(Object.assign({},J),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})},Fk=function(J,$){if(!$.parent)return!1;else if($.parent===J)return!0;else return Fk(J,$.parent)},aJ0=function(J,$){return J===$||Fk(J,$)||Fk($,J)},xa=function(J){return{browserEvent:J.browserEvent,elements:J.elements.map(($)=>$.element)}},ba=function(J){return{browserEvent:J.browserEvent,element:J.element&&J.element.element,target:J.target}},jk=function(J){if(J instanceof fY)return new fa(J);return J},ga=function(J){return J&&Object.assign(Object.assign({},J),{collapseByDefault:!0,identityProvider:J.identityProvider&&{getId($){return J.identityProvider.getId($.element)}},dnd:J.dnd&&new ha(J.dnd),multipleSelectionController:J.multipleSelectionController&&{isSelectionSingleChangeEvent($){return J.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},$),{element:$.element}))},isSelectionRangeChangeEvent($){return J.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},$),{element:$.element}))}},accessibilityProvider:J.accessibilityProvider&&Object.assign(Object.assign({},J.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:J.accessibilityProvider.getRole?($)=>{return J.accessibilityProvider.getRole($.element)}:()=>"treeitem",isChecked:J.accessibilityProvider.isChecked?($)=>{var X;return!!((X=J.accessibilityProvider)===null||X===void 0?void 0:X.isChecked($.element))}:void 0,getAriaLabel($){return J.accessibilityProvider.getAriaLabel($.element)},getWidgetAriaLabel(){return J.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:J.accessibilityProvider.getWidgetRole?()=>J.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:J.accessibilityProvider.getAriaLevel&&(($)=>{return J.accessibilityProvider.getAriaLevel($.element)}),getActiveDescendantId:J.accessibilityProvider.getActiveDescendantId&&(($)=>{return J.accessibilityProvider.getActiveDescendantId($.element)})}),filter:J.filter&&{filter($,X){return J.filter.filter($.element,X)}},keyboardNavigationLabelProvider:J.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},J.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel($){return J.keyboardNavigationLabelProvider.getKeyboardNavigationLabel($.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof J.expandOnlyOnTwistieClick==="undefined"?void 0:typeof J.expandOnlyOnTwistieClick!=="function"?J.expandOnlyOnTwistieClick:($)=>J.expandOnlyOnTwistieClick($.element),defaultFindVisibility:($)=>{if($.hasChildren&&$.stale)return 1;else if(typeof J.defaultFindVisibility==="number")return J.defaultFindVisibility;else if(typeof J.defaultFindVisibility==="undefined")return 2;else return J.defaultFindVisibility($.element)}})},Kk=function(J,$){$(J),J.children.forEach((X)=>Kk(X,$))},rJ0=function(J){const $=J&&ga(J);return $&&Object.assign(Object.assign({},$),{keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},$.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(X){return J.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(X.map((Q)=>Q.element))}})})},iJ0=function(J){if(typeof J==="boolean")return J?1:0;else if(CV(J))return Z2(J.visibility);else return Z2(J)},pY=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});class Rk extends fV{constructor(J,$,X,Q,Y,Z={}){super(J,$,X,Q,Z);this.user=J,this.dataSource=Y,this.identityProvider=Z.identityProvider}createModel(J,$,X){return new G2(J,$,X)}}var ua=N(()=>{hV();vP()});var fm0,hm0,gm0,pm0,mm0,um0,cm0,lm0,dm0,Mk,sm0;var ca=N(()=>{O1();m0();s1();fm0=new V0("isMac",n0,F("isMac","Whether the operating system is macOS")),hm0=new V0("isLinux",q8,F("isLinux","Whether the operating system is Linux")),gm0=new V0("isWindows",F8,F("isWindows","Whether the operating system is Windows")),pm0=new V0("isWeb",l4,F("isWeb","Whether the platform is a web browser")),mm0=new V0("isMacNative",n0&&!l4,F("isMacNative","Whether the operating system is macOS on a non-browser platform")),um0=new V0("isIOS",K5,F("isIOS","Whether the operating system is iOS")),cm0=new V0("isMobile",bS,F("isMobile","Whether the platform is a mobile web browser")),lm0=new V0("isDevelopment",!1,!0),dm0=new V0("productQualityType","",F("productQualityType","Quality type of VS Code")),Mk="inputFocus",sm0=new V0(Mk,!1,F("inputFocus","Whether keyboard focus is inside an input box"))});class Ok{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new e,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(J){var $,X;if(J===this._lastFocusedWidget)return;($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=J,(X=this._lastFocusedWidget)===null||X===void 0||X.getHTMLElement().classList.add("last-focused")}register(J,$){if(!this._hasCreatedStyleController)this._hasCreatedStyleController=!0,new KP(K7(),"").style($2);if(this.lists.some((Q)=>Q.widget===J))throw new Error("Cannot register the same widget multiple times");const X={widget:J,extraContextKeys:$};if(this.lists.push(X),J.getHTMLElement()===document.activeElement)this.setLastFocusedList(J);return E6(J.onDidFocus(()=>this.setLastFocusedList(J)),N0(()=>this.lists.splice(this.lists.indexOf(X),1)),J.onDidDispose(()=>{if(this.lists=this.lists.filter((Q)=>Q!==X),this._lastFocusedWidget===J)this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}class Jr extends f{constructor(J){super();this.configurationService=J,this.useAltAsMultipleSelectionModifier=c$(J),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((J)=>{if(J.affectsConfiguration(U2))this.useAltAsMultipleSelectionModifier=c$(this.configurationService)}))}isSelectionSingleChangeEvent(J){if(this.useAltAsMultipleSelectionModifier)return J.browserEvent.altKey;return II(J)}isSelectionRangeChangeEvent(J){return kI(J)}}class nP extends f{constructor(J,$){var X;super();if(this.widget=J,this._onDidOpen=this._register(new E),this.onDidOpen=this._onDidOpen.event,this._register(Y0.filter(this.widget.onDidChangeSelection,(Q)=>Q.browserEvent instanceof KeyboardEvent)((Q)=>this.onSelectionFromKeyboard(Q))),this._register(this.widget.onPointer((Q)=>this.onPointer(Q.element,Q.browserEvent))),this._register(this.widget.onMouseDblClick((Q)=>this.onMouseDblClick(Q.element,Q.browserEvent))),typeof($===null||$===void 0?void 0:$.openOnSingleClick)!=="boolean"&&($===null||$===void 0?void 0:$.configurationService))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(pP))!=="doubleClick",this._register($===null||$===void 0?void 0:$.configurationService.onDidChangeConfiguration((Q)=>{if(Q.affectsConfiguration(pP))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(pP))!=="doubleClick"}));else this.openOnSingleClick=(X=$===null||$===void 0?void 0:$.openOnSingleClick)!==null&&X!==void 0?X:!0}onSelectionFromKeyboard(J){if(J.elements.length!==1)return;const $=J.browserEvent,X=typeof $.preserveFocus==="boolean"?$.preserveFocus:!0,Q=typeof $.pinned==="boolean"?$.pinned:!X,Y=!1;this._open(this.getSelectedElement(),X,Q,Y,J.browserEvent)}onPointer(J,$){if(!this.openOnSingleClick)return;if($.detail===2)return;const Q=$.button===1,Y=!0,Z=Q,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}onMouseDblClick(J,$){if(!$)return;const X=$.target;if(X.classList.contains("monaco-tl-twistie")||X.classList.contains("monaco-icon-label")&&X.classList.contains("folder-icon")&&$.offsetX<16)return;const Y=!1,Z=!0,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}_open(J,$,X,Q,Y){if(!J)return;this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:X,revealIfVisible:!0},sideBySide:Q,element:J,browserEvent:Y})}}class kk extends nP{constructor(J,$){super(J,$);this.widget=J}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class $r extends nP{constructor(J,$){super(J,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Xr extends nP{constructor(J,$){super(J,$)}getSelectedElement(){var J;return(J=this.widget.getSelection()[0])!==null&&J!==void 0?J:void 0}}var aP,rP,c$,iP,X40,Qr,Yr,uV,WQ,J8,k4,pV,ju0,Fu0,oa,dP,Ku0,Nk,Tk,_k,sP,nJ0,oJ0,tJ0,eJ0,J40,$40,ta,ea,U2,pP,u5,wk,Lk,mP,L4,Ik,mV,uP,I4,m$,u$,cP,lP,la,da,sa,aa,ra,ia,na,q2,Q40;var Ek=N(()=>{y0();Ya();nG();ja();hV();ma();ua();Wk();A0();$0();m0();y9();iZ();s1();ca();mG();e0();uX();t6();SU();aP=function(J,$){const X=J.createScoped($.getHTMLElement());return oa.bindTo(X),X},rP=function(J,$){const X=pV.bindTo(J),Q=()=>{const Y=$.scrollTop===0,Z=$.scrollHeight-$.renderHeight-$.scrollTop<1;if(Y&&Z)X.set("both");else if(Y)X.set("top");else if(Z)X.set("bottom");else X.set("none")};return Q(),$.onDidScroll(Q)},c$=function(J){return J.getValue(U2)==="alt"},iP=function(J,$){var X;const Q=J.get(u1),Y=J.get(a7),Z=new e;return[Object.assign(Object.assign({},$),{keyboardNavigationDelegate:{mightProducePrintableCharacter(q){return Y.mightProducePrintableCharacter(q)}},smoothScrolling:Boolean(Q.getValue(I4)),mouseWheelScrollSensitivity:Q.getValue(m$),fastScrollSensitivity:Q.getValue(u$),multipleSelectionController:(X=$.multipleSelectionController)!==null&&X!==void 0?X:Z.add(new Jr(Q)),keyboardNavigationEventFilter:X40(Y),scrollByPage:Boolean(Q.getValue(L4))}),Z]},X40=function(J){let $=!1;return(X)=>{if(X.toKeyCodeChord().isModifierKey())return!1;if($)return $=!1,!1;const Q=J.softDispatch(X,X.target);if(Q.kind===1)return $=!0,!1;return $=!1,Q.kind===0}},Qr=function(J){const $=J.getValue(wk);if($==="highlight")return w4.Highlight;else if($==="filter")return w4.Filter;const X=J.getValue(mP);if(X==="simple"||X==="highlight")return w4.Highlight;else if(X==="filter")return w4.Filter;return},Yr=function(J){const $=J.getValue(Ik);if($==="fuzzy")return gY.Fuzzy;else if($==="contiguous")return gY.Contiguous;return},uV=function(J,$){var X;const Q=J.get(u1),Y=J.get(GQ),Z=J.get(p0),G=J.get(G1),q=()=>{const B=Z.getContextKeyValue(ta);if(B==="automatic")return M4.Automatic;else if(B==="trigger")return M4.Trigger;if(Z.getContextKeyValue(ea)===!1)return M4.Trigger;const K=Q.getValue(Lk);if(K==="automatic")return M4.Automatic;else if(K==="trigger")return M4.Trigger;return},U=$.horizontalScrolling!==void 0?$.horizontalScrolling:Boolean(Q.getValue(u5)),[H,z]=G.invokeFunction(iP,$),V=$.paddingBottom,W=$.renderIndentGuides!==void 0?$.renderIndentGuides:Q.getValue(uP);return{getTypeNavigationMode:q,disposable:z,options:Object.assign(Object.assign({keyboardSupport:!1},H),{indent:typeof Q.getValue(mV)==="number"?Q.getValue(mV):void 0,renderIndentGuides:W,smoothScrolling:Boolean(Q.getValue(I4)),defaultFindMode:Qr(Q),defaultFindMatchType:Yr(Q),horizontalScrolling:U,scrollByPage:Boolean(Q.getValue(L4)),paddingBottom:V,hideTwistiesOfChildlessElements:$.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(X=$.expandOnlyOnTwistieClick)!==null&&X!==void 0?X:Q.getValue(cP)==="doubleClick",contextViewProvider:Y,findWidgetStyles:ys})}},WQ=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},J8=function(J,$){return function(X,Q){$(X,Q,J)}},k4=O0("listService");pV=new V0("listScrollAtBoundary","none"),ju0=M0.or(pV.isEqualTo("top"),pV.isEqualTo("both")),Fu0=M0.or(pV.isEqualTo("bottom"),pV.isEqualTo("both")),oa=new V0("listFocus",!0),dP=new V0("listSupportsMultiselect",!0),Ku0=M0.and(oa,M0.not(Mk)),Nk=new V0("listHasSelectionOrFocus",!1),Tk=new V0("listDoubleSelection",!1),_k=new V0("listMultiSelection",!1),sP=new V0("listSelectionNavigation",!1),nJ0=new V0("listSupportsFind",!0),oJ0=new V0("treeElementCanCollapse",!1),tJ0=new V0("treeElementHasParent",!1),eJ0=new V0("treeElementCanExpand",!1),J40=new V0("treeElementHasChild",!1),$40=new V0("treeFindOpen",!1),ta="listTypeNavigationMode",ea="listAutomaticKeyboardNavigation",U2="workbench.list.multiSelectModifier",pP="workbench.list.openMode",u5="workbench.list.horizontalScrolling",wk="workbench.list.defaultFindMode",Lk="workbench.list.typeNavigationMode",mP="workbench.list.keyboardNavigation",L4="workbench.list.scrollByPage",Ik="workbench.list.defaultFindMatchType",mV="workbench.tree.indent",uP="workbench.tree.renderIndentGuides",I4="workbench.list.smoothScrolling",m$="workbench.list.mouseWheelScrollSensitivity",u$="workbench.list.fastScrollSensitivity",cP="workbench.tree.expandMode";lP=class J extends p6{constructor($,X,Q,Y,Z,G,q,U,H){const z=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(u5)),[V,W]=H.invokeFunction(iP,Z);super($,X,Q,Y,Object.assign(Object.assign({keyboardSupport:!1},V),{horizontalScrolling:z}));this.disposables.add(W),this.contextKeyService=aP(G,this),this.disposables.add(rP(this.contextKeyService,this)),this.listSupportsMultiSelect=dP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),sP.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this.listHasSelectionOrFocus=Nk.bindTo(this.contextKeyService),this.listDoubleSelection=Tk.bindTo(this.contextKeyService),this.listMultiSelection=_k.bindTo(this.contextKeyService),this.horizontalScrolling=Z.horizontalScrolling,this._useAltAsMultipleSelectionModifier=c$(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const j=this.getSelection(),K=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(j.length>0||K.length>0),this.listMultiSelection.set(j.length>1),this.listDoubleSelection.set(j.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const j=this.getSelection(),K=this.getFocus();this.listHasSelectionOrFocus.set(j.length>0||K.length>0)})),this.disposables.add(U.onDidChangeConfiguration((j)=>{if(j.affectsConfiguration(U2))this._useAltAsMultipleSelectionModifier=c$(U);let K={};if(j.affectsConfiguration(u5)&&this.horizontalScrolling===void 0){const D=Boolean(U.getValue(u5));K=Object.assign(Object.assign({},K),{horizontalScrolling:D})}if(j.affectsConfiguration(L4)){const D=Boolean(U.getValue(L4));K=Object.assign(Object.assign({},K),{scrollByPage:D})}if(j.affectsConfiguration(I4)){const D=Boolean(U.getValue(I4));K=Object.assign(Object.assign({},K),{smoothScrolling:D})}if(j.affectsConfiguration(m$)){const D=U.getValue(m$);K=Object.assign(Object.assign({},K),{mouseWheelScrollSensitivity:D})}if(j.affectsConfiguration(u$)){const D=U.getValue(u$);K=Object.assign(Object.assign({},K),{fastScrollSensitivity:D})}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new kk(this,Object.assign({configurationService:U},Z)),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?HQ($):$2)}};lP=WQ([J8(5,p0),J8(6,k4),J8(7,u1),J8(8,G1)],lP);la=class J extends nI{constructor($,X,Q,Y,Z,G,q,U,H){const z=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(u5)),[V,W]=H.invokeFunction(iP,Z);super($,X,Q,Y,Object.assign(Object.assign({keyboardSupport:!1},V),{horizontalScrolling:z}));this.disposables=new e,this.disposables.add(W),this.contextKeyService=aP(G,this),this.disposables.add(rP(this.contextKeyService,this.widget)),this.horizontalScrolling=Z.horizontalScrolling,this.listSupportsMultiSelect=dP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),sP.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this._useAltAsMultipleSelectionModifier=c$(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(U.onDidChangeConfiguration((j)=>{if(j.affectsConfiguration(U2))this._useAltAsMultipleSelectionModifier=c$(U);let K={};if(j.affectsConfiguration(u5)&&this.horizontalScrolling===void 0){const D=Boolean(U.getValue(u5));K=Object.assign(Object.assign({},K),{horizontalScrolling:D})}if(j.affectsConfiguration(L4)){const D=Boolean(U.getValue(L4));K=Object.assign(Object.assign({},K),{scrollByPage:D})}if(j.affectsConfiguration(I4)){const D=Boolean(U.getValue(I4));K=Object.assign(Object.assign({},K),{smoothScrolling:D})}if(j.affectsConfiguration(m$)){const D=U.getValue(m$);K=Object.assign(Object.assign({},K),{mouseWheelScrollSensitivity:D})}if(j.affectsConfiguration(u$)){const D=U.getValue(u$);K=Object.assign(Object.assign({},K),{fastScrollSensitivity:D})}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new kk(this,Object.assign({configurationService:U},Z)),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?HQ($):$2)}dispose(){this.disposables.dispose(),super.dispose()}};la=WQ([J8(5,p0),J8(6,k4),J8(7,u1),J8(8,G1)],la);da=class J extends kV{constructor($,X,Q,Y,Z,G,q,U,H,z){const V=typeof G.horizontalScrolling!=="undefined"?G.horizontalScrolling:Boolean(H.getValue(u5)),[W,B]=z.invokeFunction(iP,G);super($,X,Q,Y,Z,Object.assign(Object.assign({keyboardSupport:!1},W),{horizontalScrolling:V}));this.disposables.add(B),this.contextKeyService=aP(q,this),this.disposables.add(rP(this.contextKeyService,this)),this.listSupportsMultiSelect=dP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(G.multipleSelectionSupport!==!1),sP.bindTo(this.contextKeyService).set(Boolean(G.selectionNavigation)),this.listHasSelectionOrFocus=Nk.bindTo(this.contextKeyService),this.listDoubleSelection=Tk.bindTo(this.contextKeyService),this.listMultiSelection=_k.bindTo(this.contextKeyService),this.horizontalScrolling=G.horizontalScrolling,this._useAltAsMultipleSelectionModifier=c$(H),this.disposables.add(this.contextKeyService),this.disposables.add(U.register(this)),this.updateStyles(G.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const K=this.getSelection(),D=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(K.length>0||D.length>0),this.listMultiSelection.set(K.length>1),this.listDoubleSelection.set(K.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const K=this.getSelection(),D=this.getFocus();this.listHasSelectionOrFocus.set(K.length>0||D.length>0)})),this.disposables.add(H.onDidChangeConfiguration((K)=>{if(K.affectsConfiguration(U2))this._useAltAsMultipleSelectionModifier=c$(H);let D={};if(K.affectsConfiguration(u5)&&this.horizontalScrolling===void 0){const A=Boolean(H.getValue(u5));D=Object.assign(Object.assign({},D),{horizontalScrolling:A})}if(K.affectsConfiguration(L4)){const A=Boolean(H.getValue(L4));D=Object.assign(Object.assign({},D),{scrollByPage:A})}if(K.affectsConfiguration(I4)){const A=Boolean(H.getValue(I4));D=Object.assign(Object.assign({},D),{smoothScrolling:A})}if(K.affectsConfiguration(m$)){const A=H.getValue(m$);D=Object.assign(Object.assign({},D),{mouseWheelScrollSensitivity:A})}if(K.affectsConfiguration(u$)){const A=H.getValue(u$);D=Object.assign(Object.assign({},D),{fastScrollSensitivity:A})}if(Object.keys(D).length>0)this.updateOptions(D)})),this.navigator=new $r(this,Object.assign({configurationService:H},G)),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?HQ($):$2)}dispose(){this.disposables.dispose(),super.dispose()}};da=WQ([J8(6,p0),J8(7,k4),J8(8,u1),J8(9,G1)],da);sa=class J extends uU{constructor($,X,Q,Y,Z,G,q,U,H){const{options:z,getTypeNavigationMode:V,disposable:W}=G.invokeFunction(uV,Z);super($,X,Q,Y,z);this.disposables.add(W),this.internals=new q2(this,Z,V,Z.overrideStyles,q,U,H),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};sa=WQ([J8(5,G1),J8(6,p0),J8(7,k4),J8(8,u1)],sa);aa=class J extends gV{constructor($,X,Q,Y,Z,G,q,U,H){const{options:z,getTypeNavigationMode:V,disposable:W}=G.invokeFunction(uV,Z);super($,X,Q,Y,z);this.disposables.add(W),this.internals=new q2(this,Z,V,Z.overrideStyles,q,U,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};aa=WQ([J8(5,G1),J8(6,p0),J8(7,k4),J8(8,u1)],aa);ra=class J extends Rk{constructor($,X,Q,Y,Z,G,q,U,H,z){const{options:V,getTypeNavigationMode:W,disposable:B}=q.invokeFunction(uV,G);super($,X,Q,Y,Z,V);this.disposables.add(B),this.internals=new q2(this,G,W,G.overrideStyles,U,H,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles!==void 0)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};ra=WQ([J8(6,G1),J8(7,p0),J8(8,k4),J8(9,u1)],ra);ia=class J extends gP{get onDidOpen(){return this.internals.onDidOpen}constructor($,X,Q,Y,Z,G,q,U,H,z){const{options:V,getTypeNavigationMode:W,disposable:B}=q.invokeFunction(uV,G);super($,X,Q,Y,Z,V);this.disposables.add(B),this.internals=new q2(this,G,W,G.overrideStyles,U,H,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};ia=WQ([J8(6,G1),J8(7,p0),J8(8,k4),J8(9,u1)],ia);na=class J extends Dk{constructor($,X,Q,Y,Z,G,q,U,H,z,V){const{options:W,getTypeNavigationMode:B,disposable:j}=U.invokeFunction(uV,q);super($,X,Q,Y,Z,G,W);this.disposables.add(j),this.internals=new q2(this,q,B,q.overrideStyles,H,z,V),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};na=WQ([J8(7,G1),J8(8,p0),J8(9,k4),J8(10,u1)],na);q2=class J{get onDidOpen(){return this.navigator.onDidOpen}constructor($,X,Q,Y,Z,G,q){var U;this.tree=$,this.disposables=[],this.contextKeyService=aP(Z,$),this.disposables.push(rP(this.contextKeyService,$)),this.listSupportsMultiSelect=dP.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(X.multipleSelectionSupport!==!1),sP.bindTo(this.contextKeyService).set(Boolean(X.selectionNavigation)),this.listSupportFindWidget=nJ0.bindTo(this.contextKeyService),this.listSupportFindWidget.set((U=X.findWidgetEnabled)!==null&&U!==void 0?U:!0),this.hasSelectionOrFocus=Nk.bindTo(this.contextKeyService),this.hasDoubleSelection=Tk.bindTo(this.contextKeyService),this.hasMultiSelection=_k.bindTo(this.contextKeyService),this.treeElementCanCollapse=oJ0.bindTo(this.contextKeyService),this.treeElementHasParent=tJ0.bindTo(this.contextKeyService),this.treeElementCanExpand=eJ0.bindTo(this.contextKeyService),this.treeElementHasChild=J40.bindTo(this.contextKeyService),this.treeFindOpen=$40.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=c$(q),this.updateStyleOverrides(Y);const z=()=>{const W=$.getFocus()[0];if(!W)return;const B=$.getNode(W);this.treeElementCanCollapse.set(B.collapsible&&!B.collapsed),this.treeElementHasParent.set(!!$.getParentElement(W)),this.treeElementCanExpand.set(B.collapsible&&B.collapsed),this.treeElementHasChild.set(!!$.getFirstElementChild(W))},V=new Set;V.add(ta),V.add(ea),this.disposables.push(this.contextKeyService,G.register($),$.onDidChangeSelection(()=>{const W=$.getSelection(),B=$.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(W.length>0||B.length>0),this.hasMultiSelection.set(W.length>1),this.hasDoubleSelection.set(W.length===2)})}),$.onDidChangeFocus(()=>{const W=$.getSelection(),B=$.getFocus();this.hasSelectionOrFocus.set(W.length>0||B.length>0),z()}),$.onDidChangeCollapseState(z),$.onDidChangeModel(z),$.onDidChangeFindOpenState((W)=>this.treeFindOpen.set(W)),q.onDidChangeConfiguration((W)=>{let B={};if(W.affectsConfiguration(U2))this._useAltAsMultipleSelectionModifier=c$(q);if(W.affectsConfiguration(mV)){const j=q.getValue(mV);B=Object.assign(Object.assign({},B),{indent:j})}if(W.affectsConfiguration(uP)&&X.renderIndentGuides===void 0){const j=q.getValue(uP);B=Object.assign(Object.assign({},B),{renderIndentGuides:j})}if(W.affectsConfiguration(I4)){const j=Boolean(q.getValue(I4));B=Object.assign(Object.assign({},B),{smoothScrolling:j})}if(W.affectsConfiguration(wk)||W.affectsConfiguration(mP)){const j=Qr(q);B=Object.assign(Object.assign({},B),{defaultFindMode:j})}if(W.affectsConfiguration(Lk)||W.affectsConfiguration(mP)){const j=Q();B=Object.assign(Object.assign({},B),{typeNavigationMode:j})}if(W.affectsConfiguration(Ik)){const j=Yr(q);B=Object.assign(Object.assign({},B),{defaultFindMatchType:j})}if(W.affectsConfiguration(u5)&&X.horizontalScrolling===void 0){const j=Boolean(q.getValue(u5));B=Object.assign(Object.assign({},B),{horizontalScrolling:j})}if(W.affectsConfiguration(L4)){const j=Boolean(q.getValue(L4));B=Object.assign(Object.assign({},B),{scrollByPage:j})}if(W.affectsConfiguration(cP)&&X.expandOnlyOnTwistieClick===void 0)B=Object.assign(Object.assign({},B),{expandOnlyOnTwistieClick:q.getValue(cP)==="doubleClick"});if(W.affectsConfiguration(m$)){const j=q.getValue(m$);B=Object.assign(Object.assign({},B),{mouseWheelScrollSensitivity:j})}if(W.affectsConfiguration(u$)){const j=q.getValue(u$);B=Object.assign(Object.assign({},B),{fastScrollSensitivity:j})}if(Object.keys(B).length>0)$.updateOptions(B)}),this.contextKeyService.onDidChangeContext((W)=>{if(W.affectsSome(V))$.updateOptions({typeNavigationMode:Q()})})),this.navigator=new Xr($,Object.assign({configurationService:q},X)),this.disposables.push(this.navigator)}updateOptions($){if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyleOverrides($){this.tree.style($?HQ($):$2)}dispose(){this.disposables=w1(this.disposables)}};q2=WQ([J8(4,p0),J8(5,k4),J8(6,u1)],q2);Q40=a1.as(S5.Configuration);Q40.registerConfiguration({id:"workbench",order:7,title:F("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[U2]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[F("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:F({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[pP]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[u5]:{type:"boolean",default:!1,description:F("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[L4]:{type:"boolean",default:!1,description:F("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[mV]:{type:"number",default:8,minimum:4,maximum:40,description:F("tree indent setting","Controls tree indentation in pixels.")},[uP]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:F("render tree indent guides","Controls whether the tree should render indent guides.")},[I4]:{type:"boolean",default:!1,description:F("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[m$]:{type:"number",default:1,markdownDescription:F("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[u$]:{type:"number",default:5,markdownDescription:F("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[wk]:{type:"string",enum:["highlight","filter"],enumDescriptions:[F("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),F("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:F("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[mP]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[F("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),F("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),F("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:F("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:F("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Ik]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[F("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),F("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:F("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[cP]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Lk]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:F("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})});class Zr{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(J){if(J.prefix.length===0)this.defaultProvider=J;else this.providers.push(J);return this.providers.sort(($,X)=>X.prefix.length-$.prefix.length),N0(()=>{if(this.providers.splice(this.providers.indexOf(J),1),this.defaultProvider===J)this.defaultProvider=void 0})}getQuickAccessProviders(){return KS([this.defaultProvider,...this.providers])}getQuickAccessProvider(J){return(J?this.providers.find((X)=>J.startsWith(X.prefix))||void 0:void 0)||this.defaultProvider}}var oP,yk;var Gr=N(()=>{V1();$0();t6();(function(J){J[J.PRESERVE=0]="PRESERVE",J[J.LAST=1]="LAST"})(oP||(oP={}));yk={Quickaccess:"workbench.contributions.quickaccess"};a1.add(yk.Quickaccess,new Zr)});class Ur{constructor(J){this.options=J}}var qr,H2,SJ,Nu0,tP;var cV=N(()=>{e0();qr={ctrlCmd:!1,alt:!1};(function(J){J[J.Blur=1]="Blur",J[J.Gesture=2]="Gesture",J[J.Other=3]="Other"})(H2||(H2={}));(function(J){J[J.NONE=0]="NONE",J[J.FIRST=1]="FIRST",J[J.SECOND=2]="SECOND",J[J.LAST=3]="LAST"})(SJ||(SJ={}));Nu0=new Ur,tP=O0("quickInputService")});var Y40,Hr,eP;var zr=N(()=>{f1();v7();A0();$0();e0();Gr();cV();t6();Y40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Hr=function(J,$){return function(X,Q){$(X,Q,J)}},eP=class J extends f{constructor($,X){super();this.quickInputService=$,this.instantiationService=X,this.registry=a1.as(yk.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show($="",X){this.doShowOrPick($,!1,X)}doShowOrPick($,X,Q){var Y;const[Z,G]=this.getOrInstantiateProvider($),q=this.visibleQuickAccess,U=q===null||q===void 0?void 0:q.descriptor;if(q&&G&&U===G){if($!==G.prefix&&!(Q===null||Q===void 0?void 0:Q.preserveValue))q.picker.value=$;this.adjustValueSelection(q.picker,G,Q);return}if(G&&!(Q===null||Q===void 0?void 0:Q.preserveValue)){let B=void 0;if(q&&U&&U!==G){const j=q.value.substr(U.prefix.length);if(j)B=`${G.prefix}${j}`}if(!B){const j=Z===null||Z===void 0?void 0:Z.defaultFilterValue;if(j===oP.LAST)B=this.lastAcceptedPickerValues.get(G);else if(typeof j==="string")B=`${G.prefix}${j}`}if(typeof B==="string")$=B}const H=new e,z=H.add(this.quickInputService.createQuickPick());if(z.value=$,this.adjustValueSelection(z,G,Q),z.placeholder=G===null||G===void 0?void 0:G.placeholder,z.quickNavigate=Q===null||Q===void 0?void 0:Q.quickNavigateConfiguration,z.hideInput=!!z.quickNavigate&&!q,typeof(Q===null||Q===void 0?void 0:Q.itemActivation)==="number"||(Q===null||Q===void 0?void 0:Q.quickNavigateConfiguration))z.itemActivation=(Y=Q===null||Q===void 0?void 0:Q.itemActivation)!==null&&Y!==void 0?Y:SJ.SECOND;z.contextKey=G===null||G===void 0?void 0:G.contextKey,z.filterValue=(B)=>B.substring(G?G.prefix.length:0);let V=void 0;if(X)V=new UH,H.add(Y0.once(z.onWillAccept)((B)=>{B.veto(),z.hide()}));H.add(this.registerPickerListeners(z,Z,G,$,Q===null||Q===void 0?void 0:Q.providerOptions));const W=H.add(new u8);if(Z)H.add(Z.provide(z,W.token,Q===null||Q===void 0?void 0:Q.providerOptions));if(Y0.once(z.onDidHide)(()=>{if(z.selectedItems.length===0)W.cancel();H.dispose(),V===null||V===void 0||V.complete(z.selectedItems.slice(0))}),z.show(),X)return V===null||V===void 0?void 0:V.p}adjustValueSelection($,X,Q){var Y;let Z;if(Q===null||Q===void 0?void 0:Q.preserveValue)Z=[$.value.length,$.value.length];else Z=[(Y=X===null||X===void 0?void 0:X.prefix.length)!==null&&Y!==void 0?Y:0,$.value.length];$.valueSelection=Z}registerPickerListeners($,X,Q,Y,Z){const G=new e,q=this.visibleQuickAccess={picker:$,descriptor:Q,value:Y};if(G.add(N0(()=>{if(q===this.visibleQuickAccess)this.visibleQuickAccess=void 0})),G.add($.onDidChangeValue((U)=>{const[H]=this.getOrInstantiateProvider(U);if(H!==X)this.show(U,{preserveValue:!0,providerOptions:Z});else q.value=U})),Q)G.add($.onDidAccept(()=>{this.lastAcceptedPickerValues.set(Q,$.value)}));return G}getOrInstantiateProvider($){const X=this.registry.getQuickAccessProvider($);if(!X)return[void 0,void 0];let Q=this.mapProviderToDescriptor.get(X);if(!Q)Q=this.instantiationService.createInstance(X.ctor),this.mapProviderToDescriptor.set(X,Q);return[Q,X]}};eP=Y40([Hr(0,tP),Hr(1,G1)],eP)});var Vr=N(()=>{j1();F0(".monaco-text-button{box-sizing:border-box;text-align:center;cursor:pointer;border:1px solid var(--vscode-button-border,transparent);border-radius:2px;justify-content:center;align-items:center;width:100%;padding:4px;line-height:18px;display:flex}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled:focus,.monaco-button.disabled{cursor:default;opacity:.4!important}.monaco-text-button .codicon{margin:0 .2em;color:inherit!important}.monaco-text-button.monaco-text-button-with-short-label{flex-flow:wrap;height:28px;padding:0 4px;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label{flex-basis:100%}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{flex-grow:1;width:0;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label,.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{font-weight:400;font-style:inherit;justify-content:center;align-items:center;padding:4px 0;display:flex}.monaco-button-dropdown{cursor:pointer;display:flex}.monaco-button-dropdown.disabled{cursor:default}.monaco-button-dropdown>.monaco-button:focus{outline-offset:-1px!important}.monaco-button-dropdown.disabled>.monaco-button.disabled,.monaco-button-dropdown.disabled>.monaco-button.disabled:focus,.monaco-button-dropdown.disabled>.monaco-button-dropdown-separator{opacity:.4!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-right-width:0!important}.monaco-button-dropdown .monaco-button-dropdown-separator{cursor:default;padding:4px 0}.monaco-button-dropdown .monaco-button-dropdown-separator>div{width:1px;height:100%}.monaco-button-dropdown>.monaco-button.monaco-dropdown-button{border:1px solid var(--vscode-button-border,transparent);border-radius:0 2px 2px 0;border-left-width:0!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-radius:2px 0 0 2px}.monaco-description-button{flex-direction:column;align-items:center;margin:4px 5px;display:flex}.monaco-description-button .monaco-button-description{padding:4px 20px;font-size:11px;font-style:italic}.monaco-description-button .monaco-button-label,.monaco-description-button .monaco-button-description{justify-content:center;align-items:center;display:flex}.monaco-description-button .monaco-button-label>.codicon,.monaco-description-button .monaco-button-description>.codicon{margin:0 .2em;color:inherit!important}.monaco-button.default-colors,.monaco-button-dropdown.default-colors>.monaco-button{color:var(--vscode-button-foreground);background-color:var(--vscode-button-background)}.monaco-button.default-colors:hover,.monaco-button-dropdown.default-colors>.monaco-button:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-button.default-colors.secondary,.monaco-button-dropdown.default-colors>.monaco-button.secondary{color:var(--vscode-button-secondaryForeground);background-color:var(--vscode-button-secondaryBackground)}.monaco-button.default-colors.secondary:hover,.monaco-button-dropdown.default-colors>.monaco-button.secondary:hover{background-color:var(--vscode-button-secondaryHoverBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator{background-color:var(--vscode-button-background);border-top:1px solid var(--vscode-button-border);border-bottom:1px solid var(--vscode-button-border)}.monaco-button-dropdown.default-colors .monaco-button.secondary+.monaco-button-dropdown-separator{background-color:var(--vscode-button-secondaryBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator>div{background-color:var(--vscode-button-separator)}")});class JD extends f{get onDidClick(){return this._onDidClick.event}constructor(J,$){super();this._label="",this._onDidClick=this._register(new E),this.options=$,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!$.secondary);const X=$.secondary?$.buttonSecondaryBackground:$.buttonBackground,Q=$.secondary?$.buttonSecondaryForeground:$.buttonForeground;if(this._element.style.color=Q||"",this._element.style.backgroundColor=X||"",$.supportShortLabel)this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label");J.appendChild(this._element),this._register(N1.addTarget(this._element)),[G0.CLICK,L1.Tap].forEach((Y)=>{this._register(l(this._element,Y,(Z)=>{if(!this.enabled){g0.stop(Z);return}this._onDidClick.fire(Z)}))}),this._register(l(this._element,G0.KEY_DOWN,(Y)=>{const Z=new D1(Y);let G=!1;if(this.enabled&&(Z.equals(3)||Z.equals(10)))this._onDidClick.fire(Y),G=!0;else if(Z.equals(9))this._element.blur(),G=!0;if(G)g0.stop(Z,!0)})),this._register(l(this._element,G0.MOUSE_OVER,(Y)=>{if(!this._element.classList.contains("disabled"))this.updateBackground(!0)})),this._register(l(this._element,G0.MOUSE_OUT,(Y)=>{this.updateBackground(!1)})),this.focusTracker=this._register(fQ(this._element)),this._register(this.focusTracker.onDidFocus(()=>{if(this.enabled)this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{if(this.enabled)this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(J){const $=[];for(let X of EJ(J))if(typeof X==="string"){if(X=X.trim(),X==="")continue;const Q=document.createElement("span");Q.textContent=X,$.push(Q)}else $.push(X);return $}updateBackground(J){let $;if(this.options.secondary)$=J?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground;else $=J?this.options.buttonHoverBackground:this.options.buttonBackground;if($)this._element.style.backgroundColor=$}get element(){return this._element}set label(J){var $;if(this._label===J)return;if(wU(this._label)&&wU(J)&&fd(this._label,J))return;this._element.classList.add("monaco-text-button");const X=this.options.supportShortLabel?this._labelElement:this._element;if(wU(J)){const Q=IU(J,{inline:!0});Q.dispose();const Y=($=Q.element.querySelector("p"))===null||$===void 0?void 0:$.innerHTML;if(Y){const Z=ij(Y,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});X.innerHTML=Z}else e8(X)}else if(this.options.supportIcons)e8(X,...this.getContentElements(J));else X.textContent=J;if(typeof this.options.title==="string")this._element.title=this.options.title;else if(this.options.title)this._element.title=rd(J);this._label=J}get label(){return this._label}set enabled(J){if(J)this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0;else this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0))}get enabled(){return!this._element.classList.contains("disabled")}}var su0;var Wr=N(()=>{y0();tj();x6();zP();h5();LU();S9();A0();dG();$0();Vr();su0={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:u.white.toString(),buttonForeground:u.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0}});var Br=N(()=>{j1();F0(".monaco-count-badge{text-align:center;box-sizing:border-box;border-radius:11px;min-width:18px;min-height:18px;padding:3px 6px;font-size:11px;font-weight:400;line-height:11px;display:inline-block}.monaco-count-badge.long{border-radius:2px;min-height:auto;padding:2px 3px;line-height:normal}")});class $D{constructor(J,$,X){this.options=$,this.styles=X,this.count=0,this.element=Z0(J,U0(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(J){this.count=J,this.render()}setTitleFormat(J){this.titleFormat=J,this.render()}render(){var J,$;if(this.element.textContent=SQ(this.countFormat,this.count),this.element.title=SQ(this.titleFormat,this.count),this.element.style.backgroundColor=(J=this.styles.badgeBackground)!==null&&J!==void 0?J:"",this.element.style.color=($=this.styles.badgeForeground)!==null&&$!==void 0?$:"",this.styles.badgeBorder)this.element.style.border=`1px solid ${this.styles.badgeBorder}`}}var jr=N(()=>{y0();l0();Br()});var Fr=N(()=>{j1();F0(".monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;display:none;position:absolute;left:0}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{transition:width .1s linear;left:0}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;transform:translate(0,0)}.monaco-progress-container.infinite.infinite-long-running .progress-bit{animation-timing-function:steps(100,end)}@keyframes progress{0%{transform:translate(0%)scaleX(1)}50%{transform:translate(2500%)scaleX(3)}to{transform:translate(4900%)scaleX(1)}}")});class lV extends f{constructor(J,$){super();this.workedVal=0,this.showDelayedScheduler=this._register(new Q8(()=>L9(this.element),0)),this.longRunningScheduler=this._register(new Q8(()=>this.infiniteLongRunning(),lV.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(J,$)}create(J,$){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),J.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=($===null||$===void 0?void 0:$.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Ar,Sk,Ck,Pr),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(J){if(this.element.classList.add(Kr),!this.element.classList.contains(Sk))if(this.bit.style.width="inherit",J)setTimeout(()=>this.off(),200);else this.off();else if(this.bit.style.opacity="0",J)setTimeout(()=>this.off(),200);else this.off();return this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Pr,Kr,Ck),this.element.classList.add(Ar,Sk),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ck)}getContainer(){return this.element}}var Kr,Ar,Sk,Ck,Pr;var Dr=N(()=>{y0();f1();$0();Fr();Kr="done",Ar="active",Sk="infinite",Ck="infinite-long-running",Pr="discrete";lV.LONG_RUNNING_INFINITE_THRESHOLD=1e4});var dV=N(()=>{j1();F0(".quick-input-widget{z-index:2550;-webkit-app-region:no-drag;border-radius:6px;width:600px;margin-left:-300px;position:absolute;left:50%}.quick-input-titlebar{border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;display:flex}.quick-input-left-action-bar{flex:1;margin-left:4px;display:flex}.quick-input-title{text-align:center;text-overflow:ellipsis;padding:3px 0;overflow:hidden}.quick-input-right-action-bar{flex:1;margin-right:4px;display:flex}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px 6px 6px 11px}.quick-input-header .quick-input-description{flex:1;margin:4px 2px}.quick-input-header{padding:8px 6px 6px;display:flex}.quick-input-widget.hidden-input .quick-input-header{margin-bottom:0;padding:0}.quick-input-and-message{flex-direction:column;flex-grow:1;min-width:0;display:flex;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;align-items:center;display:flex;position:absolute;right:4px}.quick-input-count .monaco-count-badge{vertical-align:middle;border-radius:2px;min-height:auto;padding:2px 4px;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{align-items:center;height:25px;padding:0 6px;font-size:11px;display:flex}.quick-input-message{overflow-wrap:break-word;margin-top:-1px;padding:5px}.quick-input-message>.codicon{vertical-align:text-bottom;margin:0 .2em}.quick-input-message a{color:inherit}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px}.quick-input-widget.hidden-input .quick-input-list{margin-top:4px;padding-bottom:4px}.quick-input-list .monaco-list{max-height:440px;padding-bottom:5px;overflow:hidden}.quick-input-list .monaco-scrollable-element{padding:0 5px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;height:100%;padding:0 6px;display:flex;overflow:hidden}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-style:solid;border-top-width:1px}.quick-input-list .monaco-list-row{border-radius:3px}.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{flex:1;height:100%;display:flex;overflow:hidden}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-icon{background-position:0;background-repeat:no-repeat;background-size:16px;justify-content:center;align-items:center;width:16px;height:22px;padding-right:6px;display:flex}.quick-input-list .quick-input-list-rows{text-overflow:ellipsis;flex-direction:column;flex:1;height:100%;margin-left:5px;display:flex;overflow:hidden}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{align-items:center;display:flex}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label>span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;text-overflow:ellipsis;line-height:normal;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:4px}.quick-input-list .quick-input-list-entry-action-bar{flex:0;display:flex;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:0 0}.quick-input-list .quick-input-list-separator-as-item{font-size:12px;font-weight:600}")});class xk extends f{constructor(J,$,X){super();this.parent=J,this.onKeyDown=(Y)=>{return l(this.findInput.inputBox.inputElement,G0.KEY_DOWN,(Z)=>{Y(new D1(Z))})},this.onMouseDown=(Y)=>{return l(this.findInput.inputBox.inputElement,G0.MOUSE_DOWN,(Z)=>{Y(new X6(Z))})},this.onDidChange=(Y)=>{return this.findInput.onDidChange(Y)},this.container=Z0(this.parent,Z40(".quick-input-box")),this.findInput=this._register(new gU(this.container,void 0,{label:"",inputBoxStyles:$,toggleStyles:X}));const Q=this.findInput.inputBox.inputElement;Q.role="combobox",Q.ariaHasPopup="menu",Q.ariaAutoComplete="list",Q.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(J){this.findInput.setValue(J)}select(J=null){this.findInput.inputBox.select(J)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(J){this.findInput.inputBox.setPlaceHolder(J)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(J){this.findInput.inputBox.inputElement.type=J?"password":"text"}set enabled(J){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!J)}set toggles(J){this.findInput.setAdditionalToggles(J)}setAttribute(J,$){this.findInput.inputBox.inputElement.setAttribute(J,$)}showDecoration(J){if(J===D8.Ignore)this.findInput.clearMessage();else this.findInput.showMessage({type:J===D8.Info?1:J===D8.Warning?2:3,content:""})}stylesForType(J){return this.findInput.inputBox.stylesForType(J===D8.Info?1:J===D8.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Z40;var Rr=N(()=>{y0();x6();O5();SP();$0();wY();dV();Z40=U0});var Mr=N(()=>{j1();F0(".monaco-icon-label{text-overflow:ellipsis;display:flex;overflow:hidden}.monaco-icon-label:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;background-position:0;background-repeat:no-repeat;background-size:16px;flex-shrink:0;width:16px;height:22px;padding-right:6px;display:inline-block;line-height:inherit!important}.monaco-icon-label-container.disabled{color:var(--vscode-disabledForeground)}.monaco-icon-label>.monaco-icon-label-container{text-overflow:ellipsis;flex:1;min-width:0;overflow:hidden}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{opacity:.5;margin:0 2px}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;white-space:pre;margin-left:.5em;font-size:.9em}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{font-style:italic}.monaco-icon-label.deprecated{opacity:.66;text-decoration:line-through}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;text-align:center;margin:auto 16px 0 5px;font-size:90%;font-weight:600}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}")});class mY{constructor(J,$){var X;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(X=$===null||$===void 0?void 0:$.supportIcons)!==null&&X!==void 0?X:!1,this.domNode=Z0(J,U0("span.monaco-highlighted-label"))}get element(){return this.domNode}set(J,$=[],X="",Q){if(!J)J="";if(Q)J=mY.escapeNewLines(J,$);if(this.didEverRender&&this.text===J&&this.title===X&&L7(this.highlights,$))return;this.text=J,this.title=X,this.highlights=$,this.render()}render(){const J=[];let $=0;for(let X of this.highlights){if(X.end===X.start)continue;if($<X.start){const Z=this.text.substring($,X.start);if(this.supportIcons)J.push(...EJ(Z));else J.push(Z);$=X.start}const Q=this.text.substring($,X.end),Y=U0("span.highlight",void 0,...this.supportIcons?EJ(Q):[Q]);if(X.extraClasses)Y.classList.add(...X.extraClasses);J.push(Y),$=X.end}if($<this.text.length){const X=this.text.substring($);if(this.supportIcons)J.push(...EJ(X));else J.push(X)}if(e8(this.domNode,...J),this.title)this.domNode.title=this.title;else this.domNode.removeAttribute("title");this.didEverRender=!0}static escapeNewLines(J,$){let X=0,Q=0;return J.replace(/\r\n|\r|\n/g,(Y,Z)=>{Q=Y==="\r\n"?-1:0,Z+=X;for(let G of $){if(G.end<=Z)continue;if(G.start>=Z)G.start+=Q;if(G.end>=Z)G.end+=Q}return X+=Q,"\u23CE"})}}var Or=N(()=>{y0();LU();U9()});class XD{constructor(J){this._element=J}get element(){return this._element}set textContent(J){if(this.disposed||J===this._textContent)return;this._textContent=J,this._element.textContent=J}set className(J){if(this.disposed||J===this._className)return;this._className=J,this._element.className=J}set empty(J){if(this.disposed||J===this._empty)return;this._empty=J,this._element.style.marginLeft=J?"0":""}dispose(){this.disposed=!0}}class cU extends f{constructor(J,$){super();this.customHovers=new Map,this.creationOptions=$,this.domNode=this._register(new XD(Z0(J,U0(".monaco-icon-label")))),this.labelContainer=Z0(this.domNode.element,U0(".monaco-icon-label-container"));const X=Z0(this.labelContainer,U0("span.monaco-icon-name-container"));if(($===null||$===void 0?void 0:$.supportHighlights)||($===null||$===void 0?void 0:$.supportIcons))this.nameNode=new Tr(X,!!$.supportIcons);else this.nameNode=new Nr(X);this.hoverDelegate=$===null||$===void 0?void 0:$.hoverDelegate}get element(){return this.domNode.element}setLabel(J,$,X){const Q=["monaco-icon-label"],Y=["monaco-icon-label-container"];let Z="";if(X){if(X.extraClasses)Q.push(...X.extraClasses);if(X.italic)Q.push("italic");if(X.strikethrough)Q.push("strikethrough");if(X.disabledCommand)Y.push("disabled");if(X.title)Z+=X.title}if(this.domNode.className=Q.join(" "),this.domNode.element.setAttribute("aria-label",Z),this.labelContainer.className=Y.join(" "),this.setupHover((X===null||X===void 0?void 0:X.descriptionTitle)?this.labelContainer:this.element,X===null||X===void 0?void 0:X.title),this.nameNode.setLabel(J,X),$||this.descriptionNode){const G=this.getOrCreateDescriptionNode();if(G instanceof mY)G.set($||"",X?X.descriptionMatches:void 0,void 0,X===null||X===void 0?void 0:X.labelEscapeNewLines),this.setupHover(G.element,X===null||X===void 0?void 0:X.descriptionTitle);else G.textContent=$&&(X===null||X===void 0?void 0:X.labelEscapeNewLines)?mY.escapeNewLines($,[]):$||"",this.setupHover(G.element,(X===null||X===void 0?void 0:X.descriptionTitle)||""),G.empty=!$}}setupHover(J,$){const X=this.customHovers.get(J);if(X)X.dispose(),this.customHovers.delete(J);if(!$){J.removeAttribute("title");return}if(!this.hoverDelegate)gd(J,$);else{const Q=ZP(this.hoverDelegate,J,$);if(Q)this.customHovers.set(J,Q)}}dispose(){super.dispose();for(let J of this.customHovers.values())J.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var J;if(!this.descriptionNode){const $=this._register(new XD(Z0(this.labelContainer,U0("span.monaco-icon-description-container"))));if((J=this.creationOptions)===null||J===void 0?void 0:J.supportDescriptionHighlights)this.descriptionNode=new mY(Z0($.element,U0("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons});else this.descriptionNode=this._register(new XD(Z0($.element,U0("span.label-description"))))}return this.descriptionNode}}class Nr{constructor(J){this.container=J,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&L7(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Z0(this.container,U0("a.label-name",{id:$===null||$===void 0?void 0:$.domId}));this.singleLabel.textContent=J}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let X=0;X<J.length;X++){const Q=J[X],Y=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${X}`;if(Z0(this.container,U0("a.label-name",{id:Y,"data-icon-label-count":J.length,"data-icon-label-index":X,role:"treeitem"},Q)),X<J.length-1)Z0(this.container,U0("span.label-separator",void 0,($===null||$===void 0?void 0:$.separator)||"/"))}}}}class Tr{constructor(J,$){this.container=J,this.supportIcons=$,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&L7(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new mY(Z0(this.container,U0("a.label-name",{id:$===null||$===void 0?void 0:$.domId})),{supportIcons:this.supportIcons});this.singleLabel.set(J,$===null||$===void 0?void 0:$.matches,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines)}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const X=($===null||$===void 0?void 0:$.separator)||"/",Q=G40(J,X,$===null||$===void 0?void 0:$.matches);for(let Y=0;Y<J.length;Y++){const Z=J[Y],G=Q?Q[Y]:void 0,q=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Y}`,U=U0("a.label-name",{id:q,"data-icon-label-count":J.length,"data-icon-label-index":Y,role:"treeitem"});if(new mY(Z0(this.container,U),{supportIcons:this.supportIcons}).set(Z,G,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines),Y<J.length-1)Z0(U,U0("span.label-separator",void 0,X))}}}}var G40;var bk=N(()=>{Mr();y0();Or();VI();$0();U9();BV();G40=function(J,$,X){if(!X)return;let Q=0;return J.map((Y)=>{const Z={start:Q,end:Q+Y.length},G=X.map((q)=>M7.intersect(Z,q)).filter((q)=>!M7.isEmpty(q)).map(({start:q,end:U})=>({start:q-Q,end:U-Q}));return Q=Z.end+$.length,G})}});var _r=N(()=>{j1();F0(".monaco-keybinding{align-items:center;line-height:10px;display:flex}.monaco-keybinding>.monaco-keybinding-key{vertical-align:middle;border-style:solid;border-width:1px;border-radius:3px;margin:0 2px;padding:3px 5px;font-size:11px;display:inline-block}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}")});class YD{constructor(J,$,X){this.os=$,this.keyElements=new Set,this.options=X||Object.create(null);const Q=this.options.keybindingLabelForeground;if(this.domNode=Z0(J,QD(".monaco-keybinding")),Q)this.domNode.style.color=Q;this.didEverRender=!1,J.appendChild(this.domNode)}get element(){return this.domNode}set(J,$){if(this.didEverRender&&this.keybinding===J&&YD.areSame(this.matches,$))return;this.keybinding=J,this.matches=$,this.render()}render(){var J;if(this.clear(),this.keybinding){const $=this.keybinding.getChords();if($[0])this.renderChord(this.domNode,$[0],this.matches?this.matches.firstPart:null);for(let Q=1;Q<$.length;Q++)Z0(this.domNode,QD("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,$[Q],this.matches?this.matches.chordPart:null);const X=((J=this.options.disableTitle)!==null&&J!==void 0?J:!1)?void 0:this.keybinding.getAriaLabel()||void 0;if(X!==void 0)this.domNode.title=X;else this.domNode.removeAttribute("title")}else if(this.options&&this.options.renderUnboundKeybindings)this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){E7(this.domNode),this.keyElements.clear()}renderChord(J,$,X){const Q=PU.modifierLabels[this.os];if($.ctrlKey)this.renderKey(J,Q.ctrlKey,Boolean(X===null||X===void 0?void 0:X.ctrlKey),Q.separator);if($.shiftKey)this.renderKey(J,Q.shiftKey,Boolean(X===null||X===void 0?void 0:X.shiftKey),Q.separator);if($.altKey)this.renderKey(J,Q.altKey,Boolean(X===null||X===void 0?void 0:X.altKey),Q.separator);if($.metaKey)this.renderKey(J,Q.metaKey,Boolean(X===null||X===void 0?void 0:X.metaKey),Q.separator);const Y=$.keyLabel;if(Y)this.renderKey(J,Y,Boolean(X===null||X===void 0?void 0:X.keyCode),"")}renderKey(J,$,X,Q){if(Z0(J,this.createKeyElement($,X?".highlight":"")),Q)Z0(J,QD("span.monaco-keybinding-key-separator",void 0,Q))}renderUnbound(J){Z0(J,this.createKeyElement(F("unbound","Unbound")))}createKeyElement(J,$=""){const X=QD("span.monaco-keybinding-key"+$,void 0,J);if(this.keyElements.add(X),this.options.keybindingLabelBackground)X.style.backgroundColor=this.options.keybindingLabelBackground;if(this.options.keybindingLabelBorder)X.style.borderColor=this.options.keybindingLabelBorder;if(this.options.keybindingLabelBottomBorder)X.style.borderBottomColor=this.options.keybindingLabelBottomBorder;if(this.options.keybindingLabelShadow)X.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;return X}static areSame(J,$){if(J===$||!J&&!$)return!0;return!!J&&!!$&&L7(J.firstPart,$.firstPart)&&L7(J.chordPart,$.chordPart)}}var QD;var wr=N(()=>{y0();lA();U9();_r();m0();QD=U0});function q40(J,$,X=!1){const Q=J||"",Y=$||"",Z=Lr.value.collator.compare(Q,Y);if(Lr.value.collatorIsNumeric&&Z===0&&Q!==Y)return Q<Y?-1:1;return Z}function Ir(J,$,X){const Q=J.toLowerCase(),Y=$.toLowerCase(),Z=U40(J,$,X);if(Z)return Z;const G=Q.endsWith(X),q=Y.endsWith(X);if(G!==q)return G?-1:1;const U=q40(Q,Y);if(U!==0)return U;return Q.localeCompare(Y)}function U40(J,$,X){const Q=J.toLowerCase(),Y=$.toLowerCase(),Z=Q.startsWith(X),G=Y.startsWith(X);if(Z!==G)return Z?-1:1;else if(Z&&G){if(Q.length<Y.length)return-1;if(Q.length>Y.length)return 1}return 0}var Lr,Ec0,yc0;var kr=N(()=>{h2();Lr=new i9(()=>{const J=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:J,collatorIsNumeric:J.resolvedOptions().numeric}}),Ec0=new i9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0})}}),yc0=new i9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}})});function Er(J){const $=[];let X=0,Q;while(Q=z40.exec(J)){if(Q.index-X>0)$.push(J.substring(X,Q.index));const[,Y,Z,,G]=Q;if(G)$.push({label:Y,href:Z,title:G});else $.push({label:Y,href:Z});X=Q.index+Q[0].length}if(X<J.length)$.push(J.substring(X));return new vk($)}class vk{constructor(J){this.nodes=J}toString(){return this.nodes.map((J)=>typeof J==="string"?J:J.label).join("")}}var H40,z40;var yr=N(()=>{GY();H40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};H40([Y8],vk.prototype,"toString",null);z40=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi});function sV(J){if(!J)return;let $;const X=J.dark.toString();if(fk[X])$=fk[X];else $=V40.nextId(),dM(`.${$}, .hc-light .${$}`,`background-image: ${zJ(J.light||J.dark)}`),dM(`.vs-dark .${$}, .hc-black .${$}`,`background-image: ${zJ(J.dark)}`),fk[X]=$;return $}function Sr(J,$,X){e8($);const Q=Er(J);let Y=0;for(let Z of Q.nodes)if(typeof Z==="string")$.append(...EJ(Z));else{let G=Z.title;if(!G&&Z.href.startsWith("command:"))G=F("executeCommand","Click to execute command '{0}'",Z.href.substring("command:".length));else if(!G)G=Z.href;const q=U0("a",{href:Z.href,title:G,tabIndex:Y++},Z.label);q.style.textDecoration="underline";const U=(B)=>{if(lx(B))g0.stop(B,!0);X.callback(Z.href)},H=X.disposables.add(new X1(q,G0.CLICK)).event,z=X.disposables.add(new X1(q,G0.KEY_DOWN)).event,V=Y0.chain(z,(B)=>B.filter((j)=>{const K=new D1(j);return K.equals(10)||K.equals(3)}));X.disposables.add(N1.addTarget(q));const W=X.disposables.add(new X1(q,L1.Tap)).event;Y0.any(H,W,V)(U,null,X.disposables),$.appendChild(q)}}var fk,V40;var hk=N(()=>{y0();K4();A0();x6();h5();LU();FI();yr();dV();m0();fk={},V40=new UP("quick-input-button-icon-")});class vr{constructor(J,$,X,Q,Y,Z,G){var q,U,H;if(this._checked=!1,this._hidden=!1,this.hasCheckbox=Q,this.index=X,this.fireButtonTriggered=Y,this.fireSeparatorButtonTriggered=Z,this._onChecked=G,this.onChecked=Q?Y0.map(Y0.filter(this._onChecked.event,(z)=>z.listElement===this),(z)=>z.checked):Y0.None,J.type==="separator")this._separator=J;else{if(this.item=J,$&&$.type==="separator"&&!$.buttons)this._separator=$;this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(q=this.item.highlights)===null||q===void 0?void 0:q.label,this._descriptionHighlights=(U=this.item.highlights)===null||U===void 0?void 0:U.description,this._detailHighlights=(H=this.item.highlights)===null||H===void 0?void 0:H.detail,this.saneTooltip=this.item.tooltip}this._init=new i9(()=>{var z;const V=(z=J.label)!==null&&z!==void 0?z:"",W=TU(V).text.trim(),B=J.ariaLabel||[V,this.saneDescription,this.saneDetail].map((j)=>vd(j)).filter((j)=>!!j).join(", ");return{saneLabel:V,saneSortLabel:W,saneAriaLabel:B}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(J){this._element=J}get hidden(){return this._hidden}set hidden(J){this._hidden=J}get checked(){return this._checked}set checked(J){if(J!==this._checked)this._checked=J,this._onChecked.fire({listElement:this,checked:J})}get separator(){return this._separator}set separator(J){this._separator=J}get labelHighlights(){return this._labelHighlights}set labelHighlights(J){this._labelHighlights=J}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(J){this._descriptionHighlights=J}get detailHighlights(){return this._detailHighlights}set detailHighlights(J){this._detailHighlights=J}}class aV{constructor(J){this.themeService=J}get templateId(){return aV.ID}renderTemplate(J){const $=Object.create(null);$.toDisposeElement=[],$.toDisposeTemplate=[],$.entry=Z0(J,E4(".quick-input-list-entry"));const X=Z0($.entry,E4("label.quick-input-list-label"));$.toDisposeTemplate.push(X8(X,G0.CLICK,(U)=>{if(!$.checkbox.offsetParent)U.preventDefault()})),$.checkbox=Z0(X,E4("input.quick-input-list-checkbox")),$.checkbox.type="checkbox",$.toDisposeTemplate.push(X8($.checkbox,G0.CHANGE,(U)=>{$.element.checked=$.checkbox.checked}));const Q=Z0(X,E4(".quick-input-list-rows")),Y=Z0(Q,E4(".quick-input-list-row")),Z=Z0(Q,E4(".quick-input-list-row"));$.label=new cU(Y,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),$.toDisposeTemplate.push($.label),$.icon=ZF($.label.element,E4(".quick-input-list-icon"));const G=Z0(Y,E4(".quick-input-list-entry-keybinding"));$.keybinding=new YD(G,k6);const q=Z0(Z,E4(".quick-input-list-label-meta"));return $.detail=new cU(q,{supportHighlights:!0,supportIcons:!0}),$.toDisposeTemplate.push($.detail),$.separator=Z0($.entry,E4(".quick-input-list-separator")),$.actionBar=new m6($.entry),$.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),$.toDisposeTemplate.push($.actionBar),$}renderElement(J,$,X){var Q,Y,Z,G;X.element=J,J.element=(Q=X.entry)!==null&&Q!==void 0?Q:void 0;const q=J.item?J.item:J.separator;X.checkbox.checked=J.checked,X.toDisposeElement.push(J.onChecked((B)=>X.checkbox.checked=B));const{labelHighlights:U,descriptionHighlights:H,detailHighlights:z}=J;if((Y=J.item)===null||Y===void 0?void 0:Y.iconPath){const B=BG(this.themeService.getColorTheme().type)?J.item.iconPath.dark:(Z=J.item.iconPath.light)!==null&&Z!==void 0?Z:J.item.iconPath.dark,j=I0.revive(B);X.icon.className="quick-input-list-icon",X.icon.style.backgroundImage=zJ(j)}else X.icon.style.backgroundImage="",X.icon.className=((G=J.item)===null||G===void 0?void 0:G.iconClass)?`quick-input-list-icon ${J.item.iconClass}`:"";const V={matches:U||[],descriptionTitle:J.saneDescription,descriptionMatches:H||[],labelEscapeNewLines:!0};if(q.type!=="separator")V.extraClasses=q.iconClasses,V.italic=q.italic,V.strikethrough=q.strikethrough,X.entry.classList.remove("quick-input-list-separator-as-item");else X.entry.classList.add("quick-input-list-separator-as-item");if(X.label.setLabel(J.saneLabel,J.saneDescription,V),X.keybinding.set(q.type==="separator"?void 0:q.keybinding),J.saneDetail)X.detail.element.style.display="",X.detail.setLabel(J.saneDetail,void 0,{matches:z,title:J.saneDetail,labelEscapeNewLines:!0});else X.detail.element.style.display="none";if(J.item&&J.separator&&J.separator.label)X.separator.textContent=J.separator.label,X.separator.style.display="";else X.separator.style.display="none";X.entry.classList.toggle("quick-input-list-separator-border",!!J.separator);const W=q.buttons;if(W&&W.length)X.actionBar.push(W.map((B,j)=>{let K=B.iconClass||(B.iconPath?sV(B.iconPath):void 0);if(B.alwaysVisible)K=K?`${K} always-visible`:"always-visible";return{id:`id-${j}`,class:K,enabled:!0,label:"",tooltip:B.tooltip||"",run:()=>{q.type!=="separator"?J.fireButtonTriggered({button:B,item:q}):J.fireSeparatorButtonTriggered({button:B,separator:q})}}}),{icon:!0,label:!1}),X.entry.classList.add("has-actions");else X.entry.classList.remove("has-actions")}disposeElement(J,$,X){X.toDisposeElement=w1(X.toDisposeElement),X.actionBar.clear()}disposeTemplate(J){J.toDisposeElement=w1(J.toDisposeElement),J.toDisposeTemplate=w1(J.toDisposeTemplate)}}class fr{getHeight(J){if(!J.item)return 24;return J.saneDetail?44:22}getTemplateId(J){return aV.ID}}class rV{constructor(J,$,X,Q){this.parent=J,this.options=X,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new E,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new E,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new E,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new E,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new E,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new E,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new E,this.onKeyDown=this._onKeyDown.event,this._onLeave=new E,this.onLeave=this._onLeave.event,this._listElementChecked=new E,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=$,this.container=Z0(this.parent,E4(".quick-input-list"));const Y=new fr,Z=new hr;if(this.list=X.createList("QuickInput",this.container,Y,[new aV(Q)],{identityProvider:{getId:(G)=>{var q,U,H,z,V,W,B,j;return(j=(W=(z=(U=(q=G.item)===null||q===void 0?void 0:q.id)!==null&&U!==void 0?U:(H=G.item)===null||H===void 0?void 0:H.label)!==null&&z!==void 0?z:(V=G.separator)===null||V===void 0?void 0:V.id)!==null&&W!==void 0?W:(B=G.separator)===null||B===void 0?void 0:B.label)!==null&&j!==void 0?j:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Z}),this.list.getHTMLElement().id=$,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((G)=>{const q=new D1(G);switch(q.keyCode){case 10:this.toggleCheckbox();break;case 31:if(n0?G.metaKey:G.ctrlKey)this.list.setFocus(_7(this.list.length));break;case 16:{const U=this.list.getFocus();if(U.length===1&&U[0]===0)this._onLeave.fire();break}case 18:{const U=this.list.getFocus();if(U.length===1&&U[0]===this.list.length-1)this._onLeave.fire();break}}this._onKeyDown.fire(q)})),this.disposables.push(this.list.onMouseDown((G)=>{if(G.browserEvent.button!==2)G.browserEvent.preventDefault()})),this.disposables.push(l(this.container,G0.CLICK,(G)=>{if(G.x||G.y)this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick((G)=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu((G)=>{if(typeof G.index==="number")G.browserEvent.preventDefault(),this.list.setSelection([G.index])})),X.hoverDelegate){const G=new qH(X.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver((q)=>Cr(this,void 0,void 0,function*(){var U;if(q.browserEvent.target instanceof HTMLAnchorElement){G.cancel();return}if(!(q.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&t8(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;try{yield G.trigger(()=>Cr(this,void 0,void 0,function*(){if(q.element)this.showHover(q.element)}))}catch(H){if(!s4(H))throw H}}))),this.disposables.push(this.list.onMouseOut((q)=>{var U;if(t8(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;G.cancel()})),this.disposables.push(G)}this.disposables.push(this._listElementChecked.event((G)=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Y0.map(this.list.onDidChangeFocus,(J)=>J.elements.map(($)=>$.item))}get onDidChangeSelection(){return Y0.map(this.list.onDidChangeSelection,(J)=>({items:J.elements.map(($)=>$.item),event:J.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(J){this.list.getHTMLElement().ariaLabel=J}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(J,$=!0){for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y.hidden)if(!Y.checked)return!1;else $=!0}return $}getCheckedCount(){let J=0;const $=this.elements;for(let X=0,Q=$.length;X<Q;X++)if($[X].checked)J++;return J}getVisibleCount(){let J=0;const $=this.elements;for(let X=0,Q=$.length;X<Q;X++)if(!$[X].hidden)J++;return J}setAllVisibleChecked(J){try{this._fireCheckedEvents=!1,this.elements.forEach(($)=>{if(!$.hidden)$.checked=J})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(J){this.elementDisposables=w1(this.elementDisposables);const $=(Z)=>this.fireButtonTriggered(Z),X=(Z)=>this.fireSeparatorButtonTriggered(Z);this.inputElements=J;const Q=new Map,Y=this.parent.classList.contains("show-checkboxes");this.elements=J.reduce((Z,G,q)=>{var U;const H=q>0?J[q-1]:void 0;if(G.type==="separator"){if(!G.buttons)return Z}const z=new vr(G,H,q,Y,$,X,this._listElementChecked),V=Z.length;return Z.push(z),Q.set((U=z.item)!==null&&U!==void 0?U:z.separator,V),Z},[]),this.elementsToIndexes=Q,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((J)=>J.item)}setFocusedElements(J){if(this.list.setFocus(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($))),J.length>0){const $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(J){this.list.setSelection(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($)))}getCheckedElements(){return this.elements.filter((J)=>J.checked).map((J)=>J.item).filter((J)=>!!J)}setCheckedElements(J){try{this._fireCheckedEvents=!1;const $=new Set;for(let X of J)$.add(X);for(let X of this.elements)X.checked=$.has(X.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(J){this.list.getHTMLElement().style.pointerEvents=J?"":"none"}focus(J){if(!this.list.length)return;if(J===O7.Second&&this.list.length<2)J=O7.First;switch(J){case O7.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(X)=>!!X.item);break;case O7.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(X)=>!!X.item);break;case O7.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(X)=>!!X.item);break;case O7.Next:{this.list.focusNext(void 0,!0,void 0,(Q)=>!!Q.item);const X=this.list.getFocus()[0];if(X!==0&&!this.elements[X-1].item&&this.list.firstVisibleIndex>X-1)this.list.reveal(X-1);break}case O7.Previous:{this.list.focusPrevious(void 0,!0,void 0,(Q)=>!!Q.item);const X=this.list.getFocus()[0];if(X!==0&&!this.elements[X-1].item&&this.list.firstVisibleIndex>X-1)this.list.reveal(X-1);break}case O7.NextPage:this.list.focusNextPage(void 0,(X)=>!!X.item);break;case O7.PreviousPage:this.list.focusPreviousPage(void 0,(X)=>!!X.item);break}const $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(J){var $,X,Q;if(this.options.hoverDelegate===void 0)return;if(this._lastHover&&!this._lastHover.isDisposed)(X=($=this.options.hoverDelegate).onDidHideHover)===null||X===void 0||X.call($),(Q=this._lastHover)===null||Q===void 0||Q.dispose();if(!J.element||!J.saneTooltip)return;this._lastHover=this.options.hoverDelegate.showHover({content:J.saneTooltip,target:J.element,linkHandler:(Y)=>{this.options.linkOpenerDelegate(Y)},showPointer:!0,container:this.container,hoverPosition:1},!1)}layout(J){this.list.getHTMLElement().style.maxHeight=J?`${Math.floor(J/44)*44+6}px`:"",this.list.layout()}filter(J){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const $=J;if(J=J.trim(),!J||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach((Q)=>{Q.labelHighlights=void 0,Q.descriptionHighlights=void 0,Q.detailHighlights=void 0,Q.hidden=!1;const Y=Q.index&&this.inputElements[Q.index-1];if(Q.item)Q.separator=Y&&Y.type==="separator"&&!Y.buttons?Y:void 0});else{let Q;this.elements.forEach((Y)=>{var Z,G,q,U;let H;if(this.matchOnLabelMode==="fuzzy")H=this.matchOnLabel?(Z=QP(J,TU(Y.saneLabel)))!==null&&Z!==void 0?Z:void 0:void 0;else H=this.matchOnLabel?(G=W40($,TU(Y.saneLabel)))!==null&&G!==void 0?G:void 0:void 0;const z=this.matchOnDescription?(q=QP(J,TU(Y.saneDescription||"")))!==null&&q!==void 0?q:void 0:void 0,V=this.matchOnDetail?(U=QP(J,TU(Y.saneDetail||"")))!==null&&U!==void 0?U:void 0:void 0;if(H||z||V)Y.labelHighlights=H,Y.descriptionHighlights=z,Y.detailHighlights=V,Y.hidden=!1;else Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=Y.item?!Y.item.alwaysShow:!0;if(Y.item)Y.separator=void 0;else if(Y.separator)Y.hidden=!0;if(!this.sortByLabel){const W=Y.index&&this.inputElements[Y.index-1];if(Q=W&&W.type==="separator"?W:Q,Q&&!Y.hidden)Y.separator=Q,Q=void 0}})}const X=this.elements.filter((Q)=>!Q.hidden);if(this.sortByLabel&&J){const Q=J.toLowerCase();X.sort((Y,Z)=>{return B40(Y,Z,Q)})}return this.elementsToIndexes=X.reduce((Q,Y,Z)=>{var G;return Q.set((G=Y.item)!==null&&G!==void 0?G:Y.separator,Z),Q},new Map),this.list.splice(0,this.list.length,X),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(X.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const J=this.list.getFocusedElements(),$=this.allVisibleChecked(J);for(let X of J)X.checked=!$}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(J){this.container.style.display=J?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=w1(this.elementDisposables),this.disposables=w1(this.disposables)}fireCheckedEvents(){if(this._fireCheckedEvents)this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements())}fireButtonTriggered(J){this._onButtonTriggered.fire(J)}fireSeparatorButtonTriggered(J){this._onSeparatorButtonTriggered.fire(J)}style(J){this.list.style(J)}toggleHover(){const J=this.list.getFocusedElements()[0];if(!(J===null||J===void 0?void 0:J.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const $=this.list.getFocusedElements()[0];if(!$)return;this.showHover($);const X=new e;if(X.add(this.list.onDidChangeFocus((Q)=>{if(Q.indexes.length)this.showHover(Q.elements[0])})),this._lastHover)X.add(this._lastHover);this._toggleHover=X,this.elementDisposables.push(this._toggleHover)}}class hr{getWidgetAriaLabel(){return F("quickInput","Quick Input")}getAriaLabel(J){var $;return(($=J.separator)===null||$===void 0?void 0:$.label)?`${J.saneAriaLabel}, ${J.separator.label}`:J.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(J){return J.hasCheckbox?"checkbox":"option"}isChecked(J){if(!J.hasCheckbox)return;return{value:J.checked,onDidChange:J.onChecked}}}var W40,xr,B40,br,Cr,E4,O7;var gk=N(()=>{y0();x6();zQ();bk();wr();V1();f1();kr();GY();A1();A0();_U();$0();O1();l0();dV();m0();hk();h2();l8();xX();W40=function(J,$){const{text:X,iconOffsets:Q}=$;if(!Q||Q.length===0)return xr(J,X);const Y=CQ(X," "),Z=X.length-Y.length,G=xr(J,Y);if(G)for(let q of G){const U=Q[q.start+Z]+Z;q.start+=U,q.end+=U}return G},xr=function(J,$){const X=$.toLowerCase().indexOf(J.toLowerCase());if(X!==-1)return[{start:X,end:X+J.length}];return null},B40=function(J,$,X){const Q=J.labelHighlights||[],Y=$.labelHighlights||[];if(Q.length&&!Y.length)return-1;if(!Q.length&&Y.length)return 1;if(Q.length===0&&Y.length===0)return 0;return Ir(J.saneSortLabel,$.saneSortLabel,X)},br=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Cr=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},E4=U0;aV.ID="listelement";(function(J){J[J.First=1]="First",J[J.Second=2]="Second",J[J.Last=3]="Last",J[J.Next=4]="Next",J[J.Previous=5]="Previous",J[J.NextPage=6]="NextPage",J[J.PreviousPage=7]="PreviousPage"})(O7||(O7={}));br([Y8],rV.prototype,"onDidChangeFocus",null);br([Y8],rV.prototype,"onDidChangeSelection",null)});class iV extends f{constructor(J){super();this.ui=J,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=iV.noPromptMessage,this._severity=D8.Ignore,this.onDidTriggerButtonEmitter=this._register(new E),this.onDidHideEmitter=this._register(new E),this.onDisposeEmitter=this._register(new E),this.visibleDisposables=this._register(new e),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(J){this._title=J,this.update()}get description(){return this._description}set description(J){this._description=J,this.update()}get step(){return this._steps}set step(J){this._steps=J,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(J){this._totalSteps=J,this.update()}get enabled(){return this._enabled}set enabled(J){this._enabled=J,this.update()}get contextKey(){return this._contextKey}set contextKey(J){this._contextKey=J,this.update()}get busy(){return this._busy}set busy(J){this._busy=J,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(J){const $=this._ignoreFocusOut!==J&&!K5;if(this._ignoreFocusOut=J&&!K5,$)this.update()}get buttons(){return this._buttons}set buttons(J){this._buttons=J,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(J){this._toggles=J!==null&&J!==void 0?J:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(J){this._validationMessage=J,this.update()}get severity(){return this._severity}set severity(J){this._severity=J,this.update()}show(){if(this.visible)return;if(this.visibleDisposables.add(this.ui.onDidTriggerButton((J)=>{if(this.buttons.indexOf(J)!==-1)this.onDidTriggerButtonEmitter.fire(J)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length)this.buttonsUpdated=!0;if(this.toggles.length)this.togglesUpdated=!0;this.update()}hide(){if(!this.visible)return;this.ui.hide()}didHide(J=H2.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:J})}update(){var J,$;if(!this.visible)return;const X=this.getTitle();if(X&&this.ui.title.textContent!==X)this.ui.title.textContent=X;else if(!X&&this.ui.title.innerHTML!=="&nbsp;")this.ui.title.innerText="\xA0";const Q=this.getDescription();if(this.ui.description1.textContent!==Q)this.ui.description1.textContent=Q;if(this.ui.description2.textContent!==Q)this.ui.description2.textContent=Q;if(this._widgetUpdated)if(this._widgetUpdated=!1,this._widget)e8(this.ui.widget,this._widget);else e8(this.ui.widget);if(this.busy&&!this.busyDelay)this.busyDelay=new M6,this.busyDelay.setIfNotSet(()=>{if(this.visible)this.ui.progressBar.infinite()},800);if(!this.busy&&this.busyDelay)this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0;if(this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Z=this.buttons.filter((q)=>q===ZD);this.ui.leftActionBar.push(Z.map((q,U)=>{const H=new i6(`id-${U}`,"",q.iconClass||sV(q.iconPath),!0,()=>gr(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(q)}));return H.tooltip=q.tooltip||"",H}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const G=this.buttons.filter((q)=>q!==ZD);this.ui.rightActionBar.push(G.map((q,U)=>{const H=new i6(`id-${U}`,"",q.iconClass||sV(q.iconPath),!0,()=>gr(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(q)}));return H.tooltip=q.tooltip||"",H}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const Z=($=(J=this.toggles)===null||J===void 0?void 0:J.filter((G)=>G instanceof p$))!==null&&$!==void 0?$:[];this.ui.inputBox.toggles=Z}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const Y=this.validationMessage||this.noValidationMessage;if(this._lastValidationMessage!==Y)this._lastValidationMessage=Y,e8(this.ui.message),Sr(Y,this.ui.message,{callback:(Z)=>{this.ui.linkOpenerDelegate(Z)},disposables:this.visibleDisposables});if(this._lastSeverity!==this.severity)this._lastSeverity=this.severity,this.showMessageDecoration(this.severity)}getTitle(){if(this.title&&this.step)return`${this.title} (${this.getSteps()})`;if(this.title)return this.title;if(this.step)return this.getSteps();return""}getDescription(){return this.description||""}getSteps(){if(this.step&&this.totalSteps)return F("quickInput.steps","{0}/{1}",this.step,this.totalSteps);if(this.step)return String(this.step);return""}showMessageDecoration(J){if(this.ui.inputBox.showDecoration(J),J!==D8.Ignore){const $=this.ui.inputBox.stylesForType(J);this.ui.message.style.color=$.foreground?`${$.foreground}`:"",this.ui.message.style.backgroundColor=$.background?`${$.background}`:"",this.ui.message.style.border=$.border?`1px solid ${$.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class lU extends iV{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new E),this.onWillAcceptEmitter=this._register(new E),this.onDidAcceptEmitter=this._register(new E),this.onDidCustomEmitter=this._register(new E),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=SJ.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new E),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new E),this.onDidTriggerItemButtonEmitter=this._register(new E),this.onDidTriggerSeparatorButtonEmitter=this._register(new E),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=(J)=>J,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(J){this._quickNavigate=J,this.update()}get value(){return this._value}set value(J){this.doSetValue(J)}doSetValue(J,$){if(this._value!==J){if(this._value=J,!$)this.update();if(this.visible){if(this.ui.list.filter(this.filterValue(this._value)))this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(J){this._ariaLabel=J,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(J){this.ui.list.scrollTop=J}set items(J){this._items=J,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(J){this._canSelectMany=J,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(J){this._canAcceptInBackground=J}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(J){this._matchOnDescription=J,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(J){this._matchOnDetail=J,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(J){this._matchOnLabel=J,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(J){this._matchOnLabelMode=J,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(J){this._sortByLabel=J,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(J){this._autoFocusOnList=J,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(J){this._keepScrollPosition=J}get itemActivation(){return this._itemActivation}set itemActivation(J){this._itemActivation=J}get activeItems(){return this._activeItems}set activeItems(J){this._activeItems=J,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(J){this._selectedItems=J,this.selectedItemsUpdated=!0,this.update()}get keyMods(){if(this._quickNavigate)return qr;return this.ui.keyMods}set valueSelection(J){this._valueSelection=J,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(J){this._customButton=J,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(J){this._customButtonLabel=J,this.update()}get customHover(){return this._customButtonHover}set customHover(J){this._customButtonHover=J,this.update()}get ok(){return this._ok}set ok(J){this._ok=J,this.update()}get hideInput(){return!!this._hideInput}set hideInput(J){this._hideInput=J,this.update()}trySelectFirst(){if(this.autoFocusOnList){if(!this.canSelectMany)this.ui.list.focus(O7.First)}}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{this.doSetValue(J,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((J)=>{if(!this.autoFocusOnList)this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((J)=>{switch(J.keyCode){case 18:if(this.ui.list.focus(O7.Next),this.canSelectMany)this.ui.list.domFocus();g0.stop(J,!0);break;case 16:if(this.ui.list.getFocusedElements().length)this.ui.list.focus(O7.Previous);else this.ui.list.focus(O7.Last);if(this.canSelectMany)this.ui.list.domFocus();g0.stop(J,!0);break;case 12:if(this.ui.list.focus(O7.NextPage),this.canSelectMany)this.ui.list.domFocus();g0.stop(J,!0);break;case 11:if(this.ui.list.focus(O7.PreviousPage),this.canSelectMany)this.ui.list.domFocus();g0.stop(J,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0);break;case 14:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(O7.First),g0.stop(J,!0);break;case 13:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(O7.Last),g0.stop(J,!0);break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{if(this.canSelectMany){if(!this.ui.list.getCheckedElements().length)this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)}else if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems);this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((J)=>{if(this.activeItemsUpdated)return;if(this.activeItemsToConfirm!==this._activeItems&&$8(J,this._activeItems,($,X)=>$===X))return;this._activeItems=J,this.onDidChangeActiveEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:J,event:$})=>{if(this.canSelectMany){if(J.length)this.ui.list.setSelectedElements([]);return}if(this.selectedItemsToConfirm!==this._selectedItems&&$8(J,this._selectedItems,(X,Q)=>X===Q))return;if(this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J),J.length)this.handleAccept($ instanceof MouseEvent&&$.button===1)})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((J)=>{if(!this.canSelectMany)return;if(this.selectedItemsToConfirm!==this._selectedItems&&$8(J,this._selectedItems,($,X)=>$===X))return;this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onButtonTriggered((J)=>this.onDidTriggerItemButtonEmitter.fire(J))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((J)=>this.onDidTriggerSeparatorButtonEmitter.fire(J))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0;super.show()}handleAccept(J){let $=!1;if(this.onWillAcceptEmitter.fire({veto:()=>$=!0}),!$)this.onDidAcceptEmitter.fire({inBackground:J})}registerQuickNavigation(){return l(this.ui.container,G0.KEY_UP,(J)=>{if(this.canSelectMany||!this._quickNavigate)return;const $=new D1(J),X=$.keyCode;if(this._quickNavigate.keybindings.some((Z)=>{const G=Z.getChords();if(G.length>1)return!1;if(G[0].shiftKey&&X===4){if($.ctrlKey||$.altKey||$.metaKey)return!1;return!0}if(G[0].altKey&&X===6)return!0;if(G[0].ctrlKey&&X===5)return!0;if(G[0].metaKey&&X===57)return!0;return!1})){if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1);this._quickNavigate=void 0}})}update(){if(!this.visible)return;const J=this.keepScrollPosition?this.scrollTop:0,$=!!this.description,X={title:!!this.title||!!this.step||!!this.buttons.length,description:$,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||$,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(X),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";let Q=this.ariaLabel;if(!Q&&X.inputBox){if(Q=this.placeholder||lU.DEFAULT_ARIA_LABEL,this.title)Q+=` - ${this.title}`}if(this.ui.list.ariaLabel!==Q)this.ui.list.ariaLabel=Q!==null&&Q!==void 0?Q:null;if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case SJ.NONE:this._itemActivation=SJ.FIRST;break;case SJ.SECOND:this.ui.list.focus(O7.Second),this._itemActivation=SJ.FIRST;break;case SJ.LAST:this.ui.list.focus(O7.Last),this._itemActivation=SJ.FIRST;break;default:this.trySelectFirst();break}if(this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany)if(this.canSelectMany)this.ui.list.clearFocus();else this.trySelectFirst();if(this.activeItemsUpdated){if(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems)this.activeItemsToConfirm=null}if(this.selectedItemsUpdated){if(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany)this.ui.list.setCheckedElements(this.selectedItems);else this.ui.list.setSelectedElements(this.selectedItems);if(this.selectedItemsToConfirm===this._selectedItems)this.selectedItemsToConfirm=null}if(this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",!X.inputBox){if(this.ui.list.domFocus(),this.canSelectMany)this.ui.list.focus(O7.First)}if(this.keepScrollPosition)this.scrollTop=J}}class pk extends iV{constructor(){super(...arguments);this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new E),this.onDidAcceptEmitter=this._register(new E),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(J){this._value=J||"",this.update()}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get password(){return this._password}set password(J){this._password=J,this.update()}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{if(J===this.value)return;this._value=J,this.onDidValueChangeEmitter.fire(J)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0;super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const J={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};if(this.ui.setVisibilities(J),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";if(this.ui.inputBox.password!==this.password)this.ui.inputBox.password=this.password}}var gr,ZD;var pr=N(()=>{y0();x6();EV();T9();V1();f1();h7();A0();$0();O1();wY();k7();dV();m0();cV();gk();hk();gr=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},ZD={iconClass:C0.asClassName(z0.quickInputBack),tooltip:F("quickInput.back","Back"),handle:-1};iV.noPromptMessage=F("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");lU.DEFAULT_ARIA_LABEL=F("quickInputBox.ariaLabel","Type to narrow down results.")});class nV extends f{constructor(J,$){super();this.options=J,this.themeService=$,this.enabled=!0,this.onDidAcceptEmitter=this._register(new E),this.onDidCustomEmitter=this._register(new E),this.onDidTriggerButtonEmitter=this._register(new E),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new E),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new E),this.onHide=this.onHideEmitter.event,this.idPrefix=J.idPrefix,this.parentElement=J.container,this.styles=J.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const J=($)=>{this.keyMods.ctrlCmd=$.ctrlKey||$.metaKey,this.keyMods.alt=$.altKey};this._register(l(window,G0.KEY_DOWN,J,!0)),this._register(l(window,G0.KEY_UP,J,!0)),this._register(l(window,G0.MOUSE_DOWN,J,!0))}getUI(){if(this.ui)return this.ui;const J=Z0(this.parentElement,u9(".quick-input-widget.show-file-icons"));J.tabIndex=-1,J.style.display="none";const $=K7(J),X=Z0(J,u9(".quick-input-titlebar")),Q=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,Y=this._register(new m6(X,Q));Y.domNode.classList.add("quick-input-left-action-bar");const Z=Z0(X,u9(".quick-input-title")),G=this._register(new m6(X,Q));G.domNode.classList.add("quick-input-right-action-bar");const q=Z0(J,u9(".quick-input-header")),U=Z0(q,u9("input.quick-input-check-all"));U.type="checkbox",U.setAttribute("aria-label",F("quickInput.checkAll","Toggle all checkboxes")),this._register(X8(U,G0.CHANGE,(r)=>{const m=U.checked;h.setAllVisibleChecked(m)})),this._register(l(U,G0.CLICK,(r)=>{if(r.x||r.y)W.setFocus()}));const H=Z0(q,u9(".quick-input-description")),z=Z0(q,u9(".quick-input-and-message")),V=Z0(z,u9(".quick-input-filter")),W=this._register(new xk(V,this.styles.inputBox,this.styles.toggle));W.setAttribute("aria-describedby",`${this.idPrefix}message`);const B=Z0(V,u9(".quick-input-visible-count"));B.setAttribute("aria-live","polite"),B.setAttribute("aria-atomic","true");const j=new $D(B,{countFormat:F({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),K=Z0(V,u9(".quick-input-count"));K.setAttribute("aria-live","polite");const D=new $D(K,{countFormat:F({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),A=Z0(q,u9(".quick-input-action")),P=this._register(new JD(A,this.styles.button));P.label=F("ok","OK"),this._register(P.onDidClick((r)=>{this.onDidAcceptEmitter.fire()}));const R=Z0(q,u9(".quick-input-action")),M=this._register(new JD(R,this.styles.button));M.label=F("custom","Custom"),this._register(M.onDidClick((r)=>{this.onDidCustomEmitter.fire()}));const T=Z0(z,u9(`#${this.idPrefix}message.quick-input-message`)),_=this._register(new lV(J,this.styles.progressBar));_.getContainer().classList.add("quick-input-progress");const w=Z0(J,u9(".quick-input-html-widget"));w.tabIndex=-1;const x=Z0(J,u9(".quick-input-description")),C=this.idPrefix+"list",h=this._register(new rV(J,C,this.options,this.themeService));W.setAttribute("aria-controls",C),this._register(h.onDidChangeFocus(()=>{var r;W.setAttribute("aria-activedescendant",(r=h.getActiveDescendant())!==null&&r!==void 0?r:"")})),this._register(h.onChangedAllVisibleChecked((r)=>{U.checked=r})),this._register(h.onChangedVisibleCount((r)=>{j.setCount(r)})),this._register(h.onChangedCheckedCount((r)=>{D.setCount(r)})),this._register(h.onLeave(()=>{setTimeout(()=>{if(W.setFocus(),this.controller instanceof lU&&this.controller.canSelectMany)h.clearFocus()},0)}));const p=fQ(J);return this._register(p),this._register(l(J,G0.FOCUS,(r)=>{if(t8(r.relatedTarget,J))return;this.previousFocusElement=r.relatedTarget instanceof HTMLElement?r.relatedTarget:void 0},!0)),this._register(p.onDidBlur(()=>{if(!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut())this.hide(H2.Blur);this.previousFocusElement=void 0})),this._register(l(J,G0.FOCUS,(r)=>{W.setFocus()})),this._register(X8(J,G0.KEY_DOWN,(r)=>{if(t8(r.target,w))return;switch(r.keyCode){case 3:if(g0.stop(r,!0),this.enabled)this.onDidAcceptEmitter.fire();break;case 9:g0.stop(r,!0),this.hide(H2.Gesture);break;case 2:if(!r.altKey&&!r.ctrlKey&&!r.metaKey){const m=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(J.classList.contains("show-checkboxes"))m.push("input");else m.push("input[type=text]");if(this.getUI().list.isDisplayed())m.push(".monaco-list");if(this.getUI().message)m.push(".quick-input-message a");if(this.getUI().widget){if(t8(r.target,this.getUI().widget))break;m.push(".quick-input-html-widget")}const c=J.querySelectorAll(m.join(", "));if(r.shiftKey&&r.target===c[0])g0.stop(r,!0),h.clearFocus();else if(!r.shiftKey&&t8(r.target,c[c.length-1]))g0.stop(r,!0),c[0].focus()}break;case 10:if(r.ctrlKey)g0.stop(r,!0),this.getUI().list.toggleHover();break}})),this.ui={container:J,styleSheet:$,leftActionBar:Y,titleBar:X,title:Z,description1:x,description2:H,widget:w,rightActionBar:G,checkAll:U,inputContainer:z,filterContainer:V,inputBox:W,visibleCountContainer:B,visibleCount:j,countContainer:K,count:D,okContainer:A,ok:P,message:T,customButtonContainer:R,customButton:M,list:h,progressBar:_,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:(r)=>this.show(r),hide:()=>this.hide(),setVisibilities:(r)=>this.setVisibilities(r),setEnabled:(r)=>this.setEnabled(r),setContextKey:(r)=>this.options.setContextKey(r),linkOpenerDelegate:(r)=>this.options.linkOpenerDelegate(r)},this.updateStyles(),this.ui}pick(J,$={},X=n8.None){return new Promise((Q,Y)=>{let Z=(H)=>{var z;Z=Q,(z=$.onKeyMods)===null||z===void 0||z.call($,G.keyMods),Q(H)};if(X.isCancellationRequested){Z(void 0);return}const G=this.createQuickPick();let q;const U=[G,G.onDidAccept(()=>{if(G.canSelectMany)Z(G.selectedItems.slice()),G.hide();else{const H=G.activeItems[0];if(H)Z(H),G.hide()}}),G.onDidChangeActive((H)=>{const z=H[0];if(z&&$.onDidFocus)$.onDidFocus(z)}),G.onDidChangeSelection((H)=>{if(!G.canSelectMany){const z=H[0];if(z)Z(z),G.hide()}}),G.onDidTriggerItemButton((H)=>$.onDidTriggerItemButton&&$.onDidTriggerItemButton(Object.assign(Object.assign({},H),{removeItem:()=>{const z=G.items.indexOf(H.item);if(z!==-1){const V=G.items.slice(),W=V.splice(z,1),B=G.activeItems.filter((K)=>K!==W[0]),j=G.keepScrollPosition;if(G.keepScrollPosition=!0,G.items=V,B)G.activeItems=B;G.keepScrollPosition=j}}}))),G.onDidTriggerSeparatorButton((H)=>{var z;return(z=$.onDidTriggerSeparatorButton)===null||z===void 0?void 0:z.call($,H)}),G.onDidChangeValue((H)=>{if(q&&!H&&(G.activeItems.length!==1||G.activeItems[0]!==q))G.activeItems=[q]}),X.onCancellationRequested(()=>{G.hide()}),G.onDidHide(()=>{w1(U),Z(void 0)})];G.title=$.title,G.canSelectMany=!!$.canPickMany,G.placeholder=$.placeHolder,G.ignoreFocusOut=!!$.ignoreFocusLost,G.matchOnDescription=!!$.matchOnDescription,G.matchOnDetail=!!$.matchOnDetail,G.matchOnLabel=$.matchOnLabel===void 0||$.matchOnLabel,G.autoFocusOnList=$.autoFocusOnList===void 0||$.autoFocusOnList,G.quickNavigate=$.quickNavigate,G.hideInput=!!$.hideInput,G.contextKey=$.contextKey,G.busy=!0,Promise.all([J,$.activeItem]).then(([H,z])=>{if(q=z,G.busy=!1,G.items=H,G.canSelectMany)G.selectedItems=H.filter((V)=>V.type!=="separator"&&V.picked);if(q)G.activeItems=[q]}),G.show(),Promise.resolve(J).then(void 0,(H)=>{Y(H),G.hide()})})}createQuickPick(){const J=this.getUI();return new lU(J)}createInputBox(){const J=this.getUI();return new pk(J)}show(J){const $=this.getUI();this.onShowEmitter.fire();const X=this.controller;this.controller=J,X===null||X===void 0||X.didHide(),this.setEnabled(!0),$.leftActionBar.clear(),$.title.textContent="",$.description1.textContent="",$.description2.textContent="",e8($.widget),$.rightActionBar.clear(),$.checkAll.checked=!1,$.inputBox.placeholder="",$.inputBox.password=!1,$.inputBox.showDecoration(D8.Ignore),$.visibleCount.setCount(0),$.count.setCount(0),e8($.message),$.progressBar.stop(),$.list.setElements([]),$.list.matchOnDescription=!1,$.list.matchOnDetail=!1,$.list.matchOnLabel=!0,$.list.sortByLabel=!0,$.ignoreFocusOut=!1,$.inputBox.toggles=void 0;const Q=this.options.backKeybindingLabel();ZD.tooltip=Q?F("quickInput.backWithKeybinding","Back ({0})",Q):F("quickInput.back","Back"),$.container.style.display="",this.updateLayout(),$.inputBox.setFocus()}setVisibilities(J){const $=this.getUI();$.title.style.display=J.title?"":"none",$.description1.style.display=J.description&&(J.inputBox||J.checkAll)?"":"none",$.description2.style.display=J.description&&!(J.inputBox||J.checkAll)?"":"none",$.checkAll.style.display=J.checkAll?"":"none",$.inputContainer.style.display=J.inputBox?"":"none",$.filterContainer.style.display=J.inputBox?"":"none",$.visibleCountContainer.style.display=J.visibleCount?"":"none",$.countContainer.style.display=J.count?"":"none",$.okContainer.style.display=J.ok?"":"none",$.customButtonContainer.style.display=J.customButton?"":"none",$.message.style.display=J.message?"":"none",$.progressBar.getContainer().style.display=J.progressBar?"":"none",$.list.display(!!J.list),$.container.classList.toggle("show-checkboxes",!!J.checkBox),$.container.classList.toggle("hidden-input",!J.inputBox&&!J.description),this.updateLayout()}setEnabled(J){if(J!==this.enabled){this.enabled=J;for(let $ of this.getUI().leftActionBar.viewItems)$.action.enabled=J;for(let $ of this.getUI().rightActionBar.viewItems)$.action.enabled=J;this.getUI().checkAll.disabled=!J,this.getUI().inputBox.enabled=J,this.getUI().ok.enabled=J,this.getUI().list.enabled=J}}hide(J){var $,X,Q;const Y=this.controller;if(!Y)return;const Z=!t8(document.activeElement,(X=($=this.ui)===null||$===void 0?void 0:$.container)!==null&&X!==void 0?X:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Z){let G=this.previousFocusElement;while(G&&!G.offsetParent)G=(Q=G.parentElement)!==null&&Q!==void 0?Q:void 0;if(G===null||G===void 0?void 0:G.offsetParent)G.focus(),this.previousFocusElement=void 0;else this.options.returnFocus()}Y.didHide(J)}layout(J,$){this.dimension=J,this.titleBarOffset=$,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const J=this.ui.container.style,$=Math.min(this.dimension.width*0.62,nV.MAX_WIDTH);J.width=$+"px",J.marginLeft="-"+$/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*0.4)}}applyStyles(J){this.styles=J,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:J,quickInputBackground:$,quickInputForeground:X,widgetBorder:Q,widgetShadow:Y}=this.styles.widget;this.ui.titleBar.style.backgroundColor=J!==null&&J!==void 0?J:"",this.ui.container.style.backgroundColor=$!==null&&$!==void 0?$:"",this.ui.container.style.color=X!==null&&X!==void 0?X:"",this.ui.container.style.border=Q?`1px solid ${Q}`:"",this.ui.container.style.boxShadow=Y?`0 0 8px 2px ${Y}`:"",this.ui.list.style(this.styles.list);const Z=[];if(this.styles.pickerGroup.pickerGroupBorder)Z.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }");if(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground){if(Z.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground)Z.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);if(this.styles.keybindingLabel.keybindingLabelBorder)Z.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);if(this.styles.keybindingLabel.keybindingLabelBottomBorder)Z.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);if(this.styles.keybindingLabel.keybindingLabelShadow)Z.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);if(this.styles.keybindingLabel.keybindingLabelForeground)Z.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);Z.push("}")}const G=Z.join("\n");if(G!==this.ui.styleSheet.textContent)this.ui.styleSheet.textContent=G}}isDisplayed(){return this.ui&&this.ui.container.style.display!=="none"}}var u9;var mr=N(()=>{y0();zQ();Wr();jr();Dr();v7();A0();$0();wY();m0();cV();Rr();gk();pr();u9=U0;nV.MAX_WIDTH=600});var j40,GD,qD;var ur=N(()=>{v7();A0();s1();e0();hG();Ek();gG();zr();SU();e6();X7();mr();j40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},GD=function(J,$){return function(X,Q){$(X,Q,J)}},qD=class J extends zT{get controller(){if(!this._controller)this._controller=this._register(this.createController());return this._controller}get hasController(){return!!this._controller}get quickAccess(){if(!this._quickAccess)this._quickAccess=this._register(this.instantiationService.createInstance(eP));return this._quickAccess}constructor($,X,Q,Y){super(Q);this.instantiationService=$,this.contextKeyService=X,this.layoutService=Y,this._onShow=this._register(new E),this._onHide=this._register(new E),this.contexts=new Map}createController($=this.layoutService,X){const Q={idPrefix:"quickInput_",container:$.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{return},setContextKey:(Z)=>this.setContextKey(Z),linkOpenerDelegate:(Z)=>{this.instantiationService.invokeFunction((G)=>{G.get(IY).open(Z,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>$.focus(),createList:(Z,G,q,U,H)=>this.instantiationService.createInstance(lP,Z,G,q,U,H),styles:this.computeStyles()},Y=this._register(new nV(Object.assign(Object.assign({},Q),X),this.themeService));return Y.layout($.dimension,$.offset.quickPickTop),this._register($.onDidLayout((Z)=>Y.layout(Z,$.offset.quickPickTop))),this._register(Y.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(Y.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),Y}setContextKey($){let X;if($){if(X=this.contexts.get($),!X)X=new V0($,!1).bindTo(this.contextKeyService),this.contexts.set($,X)}if(X&&X.get())return;this.resetContextKeys(),X===null||X===void 0||X.set(!0)}resetContextKeys(){this.contexts.forEach(($)=>{if($.get())$.reset()})}pick($,X={},Q=n8.None){return this.controller.pick($,X,Q)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){if(this.hasController)this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:W0(LN),quickInputForeground:W0(Yh),quickInputTitleBackground:W0(Zh),widgetBorder:W0(yf),widgetShadow:W0(z$)},inputBox:hI,toggle:fI,countBadge:Ss,button:ks,progressBar:Es,keybindingLabel:Is,list:HQ({listBackground:LN,listFocusBackground:A$,listFocusForeground:K$,listInactiveFocusForeground:K$,listInactiveSelectionIconForeground:CX,listInactiveFocusBackground:A$,listFocusOutline:W8,listInactiveFocusOutline:W8}),pickerGroup:{pickerGroupBorder:W0(Gh),pickerGroupForeground:W0(GK)}}}};qD=j40([GD(0,G1),GD(1,p0),GD(2,d8),GD(3,IJ)],qD)});class sU{static get(J){return J.getContribution(sU.ID)}constructor(J){this.editor=J,this.widget=new HD(this.editor)}dispose(){this.widget.dispose()}}class HD{constructor(J){this.codeEditor=J,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return HD.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var cr,dU,mk,UD;var lr=N(()=>{$a();L5();X7();v7();e0();s1();PL();t9();ur();x2();cr=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},dU=function(J,$){return function(X,Q){$(X,Q,J)}},mk=class J extends qD{constructor($,X,Q,Y,Z){super(X,Q,Y,new IA($.getContainerDomNode(),Z));this.host=void 0;const G=sU.get($);if(G){const q=G.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return q.getDomNode()},get dimension(){return $.getLayoutInfo()},get onDidLayout(){return $.onDidLayoutChange},focus:()=>$.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};mk=cr([dU(1,G1),dU(2,p0),dU(3,d8),dU(4,p1)],mk);UD=class J{get activeService(){const $=this.codeEditorService.getFocusedCodeEditor();if(!$)throw new Error("Quick input service needs a focused editor to work.");let X=this.mapEditorToService.get($);if(!X){const Q=X=this.instantiationService.createInstance(mk,$);this.mapEditorToService.set($,X),a4($.onDidDispose)(()=>{Q.dispose(),this.mapEditorToService.delete($)})}return X}get quickAccess(){return this.activeService.quickAccess}constructor($,X){this.instantiationService=$,this.codeEditorService=X,this.mapEditorToService=new Map}pick($,X={},Q=n8.None){return this.activeService.pick($,X,Q)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};UD=cr([dU(0,G1),dU(1,p1)],UD);sU.ID="editor.controller.quickInput";HD.ID="editor.contrib.quickInputWidget";w5(sU.ID,sU,4)});function F40(J){if(!J||!Array.isArray(J))return[];const $=[];let X=0;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];let G=-1;if(typeof Z.fontStyle==="string"){G=0;const H=Z.fontStyle.split(" ");for(let z=0,V=H.length;z<V;z++)switch(H[z]){case"italic":G=G|1;break;case"bold":G=G|2;break;case"underline":G=G|4;break;case"strikethrough":G=G|8;break}}let q=null;if(typeof Z.foreground==="string")q=Z.foreground;let U=null;if(typeof Z.background==="string")U=Z.background;$[X++]=new dr(Z.token||"",Q,G,q,U)}return $}function D40(J){const $=J.match(P40);if(!$)return 0;switch($[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function R40(J,$){if(J<$)return-1;if(J>$)return 1;return 0}function ar(J){const $=[];for(let X=1,Q=J.length;X<Q;X++){const Y=J[X];$[X]=`.mtk${X} { color: ${Y}; }`}return $.push(".mtki { font-style: italic; }"),$.push(".mtkb { font-weight: bold; }"),$.push(".mtku { text-decoration: underline; text-underline-position: under; }"),$.push(".mtks { text-decoration: line-through; }"),$.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),$.join("\n")}class dr{constructor(J,$,X,Q,Y){this._parsedThemeRuleBrand=void 0,this.token=J,this.index=$,this.fontStyle=X,this.foreground=Q,this.background=Y}}class sr{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(J){if(J===null)return 0;const $=J.match(A40);if(!$)throw new Error("Illegal value for token color: "+J);J=$[1].toUpperCase();let X=this._color2id.get(J);if(X)return X;return X=++this._lastColorId,this._color2id.set(J,X),this._id2color[X]=u.fromHex("#"+J),X}getColorMap(){return this._id2color.slice(0)}}class zD{static createFromRawTokenTheme(J,$){return this.createFromParsedTokenTheme(F40(J),$)}static createFromParsedTokenTheme(J,$){return K40(J,$)}constructor(J,$){this._colorMap=J,this._root=$,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(J){return this._root.match(J)}match(J,$){let X=this._cache.get($);if(typeof X==="undefined"){const Q=this._match($),Y=D40($);X=(Q.metadata|Y<<8)>>>0,this._cache.set($,X)}return(X|J<<0)>>>0}}class uk{constructor(J,$,X){this._themeTrieElementRuleBrand=void 0,this._fontStyle=J,this._foreground=$,this._background=X,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new uk(this._fontStyle,this._foreground,this._background)}acceptOverwrite(J,$,X){if(J!==-1)this._fontStyle=J;if($!==0)this._foreground=$;if(X!==0)this._background=X;this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class ck{constructor(J){this._themeTrieElementBrand=void 0,this._mainRule=J,this._children=new Map}match(J){if(J==="")return this._mainRule;const $=J.indexOf(".");let X,Q;if($===-1)X=J,Q="";else X=J.substring(0,$),Q=J.substring($+1);const Y=this._children.get(X);if(typeof Y!=="undefined")return Y.match(Q);return this._mainRule}insert(J,$,X,Q){if(J===""){this._mainRule.acceptOverwrite($,X,Q);return}const Y=J.indexOf(".");let Z,G;if(Y===-1)Z=J,G="";else Z=J.substring(0,Y),G=J.substring(Y+1);let q=this._children.get(Z);if(typeof q==="undefined")q=new ck(this._mainRule.clone()),this._children.set(Z,q);q.insert(G,$,X,Q)}}var K40,A40,P40;var rr=N(()=>{S9();K40=function(J,$){J.sort((z,V)=>{const W=R40(z.token,V.token);if(W!==0)return W;return z.index-V.index});let X=0,Q="000000",Y="ffffff";while(J.length>=1&&J[0].token===""){const z=J.shift();if(z.fontStyle!==-1)X=z.fontStyle;if(z.foreground!==null)Q=z.foreground;if(z.background!==null)Y=z.background}const Z=new sr;for(let z of $)Z.getId(z);const G=Z.getId(Q),q=Z.getId(Y),U=new uk(X,G,q),H=new ck(U);for(let z=0,V=J.length;z<V;z++){const W=J[z];H.insert(W.token,W.fontStyle,Z.getId(W.foreground),Z.getId(W.background))}return new zD(Z,H)};A40=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;P40=/\b(comment|string|regex|regexp)\b/});var ir,nr,or,tr;var er=N(()=>{A4();e6();ir={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[d7]:"#FFFFFE",[F$]:"#000000",[IN]:"#E5EBF1",[MG]:"#D3D3D3",[OG]:"#939393",[kN]:"#ADD6FF4D"}},nr={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[d7]:"#1E1E1E",[F$]:"#D4D4D4",[IN]:"#3A3D41",[MG]:"#404040",[OG]:"#707070",[kN]:"#ADD6FF26"}},or={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[d7]:"#000000",[F$]:"#FFFFFF",[MG]:"#FFFFFF",[OG]:"#FFFFFF"}},tr={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[d7]:"#FFFFFF",[F$]:"#292929",[MG]:"#292929",[OG]:"#292929"}}});function Q9(J,$,X,Q){return z2.registerIcon(J,$,X,Q)}function lk(){return z2}class Qi{constructor(){this._onDidChange=new E,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:F("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:F("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C0.iconNameExpression}\$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(J,$,X,Q){const Y=this.iconsById[J];if(Y){if(X&&!Y.description){Y.description=X,this.iconSchema.properties[J].markdownDescription=`${X} \$(${J})`;const q=this.iconReferenceSchema.enum.indexOf(J);if(q!==-1)this.iconReferenceSchema.enumDescriptions[q]=X;this._onDidChange.fire()}return Y}const Z={id:J,description:X,defaults:$,deprecationMessage:Q};this.iconsById[J]=Z;const G={$ref:"#/definitions/icons"};if(Q)G.deprecationMessage=Q;if(X)G.markdownDescription=`${X}: \$(${J})`;return this.iconSchema.properties[J]=G,this.iconReferenceSchema.enum.push(J),this.iconReferenceSchema.enumDescriptions.push(X||""),this._onDidChange.fire(),{id:J}}getIcons(){return Object.keys(this.iconsById).map((J)=>this.iconsById[J])}getIcon(J){return this.iconsById[J]}getIconSchema(){return this.iconSchema}toString(){const J=(Y,Z)=>{return Y.id.localeCompare(Z.id)},$=(Y)=>{while(C0.isThemeIcon(Y.defaults))Y=this.iconsById[Y.defaults.id];return`codicon codicon-${Y?Y.id:""}`},X=[];X.push("| preview     | identifier                        | default codicon ID                | description"),X.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const Q=Object.keys(this.iconsById).map((Y)=>this.iconsById[Y]);for(let Y of Q.filter((Z)=>!!Z.description).sort(J))X.push(`|<i class="${$(Y)}"></i>|${Y.id}|${C0.isThemeIcon(Y.defaults)?Y.defaults.id:Y.id}|${Y.description||""}|`);X.push("| preview     | identifier                        "),X.push("| ----------- | --------------------------------- |");for(let Y of Q.filter((Z)=>!C0.isThemeIcon(Z.defaults)).sort(J))X.push(`|<i class="${$(Y)}"></i>|${Y.id}|`);return X.join("\n")}}var O40,M40,Ji,$i,z2,Yi,Zi,Xi,_d0,wd0,Ld0,Id0,kd0;var aU=N(()=>{f1();h7();k7();A0();j8();l8();m0();RF();t6();O40=function(){const J=wB();for(let $ in J){const X="\\"+J[$].toString(16);z2.registerIcon($,{fontCharacter:X})}},M40={IconContribution:"base.contributions.icons"};(function(J){function $(X,Q){let Y=X.defaults;while(C0.isThemeIcon(Y)){const Z=z2.getIcon(Y.id);if(!Z)return;Y=Z.defaults}return Y}J.getDefinition=$})(Ji||(Ji={}));(function(J){function $(Q){return{weight:Q.weight,style:Q.style,src:Q.src.map((Y)=>({format:Y.format,location:Y.location.toString()}))}}J.toJSONObject=$;function X(Q){const Y=(Z)=>Z7(Z)?Z:void 0;if(Q&&Array.isArray(Q.src)&&Q.src.every((Z)=>Z7(Z.format)&&Z7(Z.location)))return{weight:Y(Q.weight),style:Y(Q.style),src:Q.src.map((Z)=>({format:Z.format,location:I0.parse(Z.location)}))};return}J.fromJSONObject=X})($i||($i={}));z2=new Qi;a1.add(M40.IconContribution,z2);O40();Yi="vscode://schemas/icons",Zi=a1.as(aZ.JSONContribution);Zi.registerSchema(Yi,z2.getIconSchema());Xi=new Q8(()=>Zi.notifySchemaChanged(Yi),200);z2.onDidChange(()=>{if(!Xi.isScheduled())Xi.schedule()});_d0=Q9("widget-close",z0.close,F("widgetClose","Icon for the close action in widgets.")),wd0=Q9("goto-previous-location",z0.arrowUp,F("previousChangeIcon","Icon for goto previous editor location.")),Ld0=Q9("goto-next-location",z0.arrowDown,F("nextChangeIcon","Icon for goto next editor location.")),Id0=C0.modify(z0.sync,"spin"),kd0=C0.modify(z0.loading,"spin")});function Gi(J){const $=new e,X=$.add(new E),Q=lk();if($.add(Q.onDidChange(()=>X.fire())),J)$.add(J.onDidProductIconThemeChange(()=>X.fire()));return{dispose:()=>$.dispose(),onDidChange:X.event,getCSS(){const Y=J?J.getProductIconTheme():new VD,Z={},G=(U)=>{const H=Y.getIcon(U);if(!H)return;const z=H.font;if(z)return Z[z.id]=z.definition,`.codicon-${U.id}:before { content: '${H.fontCharacter}'; font-family: ${aM(z.id)}; }`;return`.codicon-${U.id}:before { content: '${H.fontCharacter}'; }`},q=[];for(let U of Q.getIcons()){const H=G(U);if(H)q.push(H)}for(let U in Z){const H=Z[U],z=H.weight?`font-weight: ${H.weight};`:"",V=H.style?`font-style: ${H.style};`:"",W=H.src.map((B)=>`${zJ(B.location)} format('${B.format}')`).join(", ");q.push(`@font-face { src: ${W}; font-family: ${aM(U)};${z}${V} font-display: block; }`)}return q.join("\n")}}}class VD{getIcon(J){const $=lk();let X=J.defaults;while(C0.isThemeIcon(X)){const Q=$.getIcon(X.id);if(!Q)return;X=Q.defaults}return X}}var qi=N(()=>{y0();A0();$0();k7();aU()});class sk{constructor(J,$){this.semanticHighlighting=!1,this.themeData=$;const X=$.base;if(J.length>0){if(BD(J))this.id=J;else this.id=X+" "+J;this.themeName=J}else this.id=X,this.themeName=X;this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){if(this.themeData.inherit)this.colors=null,this._tokenTheme=null}getColors(){if(!this.colors){const J=new Map;for(let $ in this.themeData.colors)J.set($,u.fromHex(this.themeData.colors[$]));if(this.themeData.inherit){const $=dk(this.themeData.base);for(let X in $.colors)if(!J.has(X))J.set(X,u.fromHex($.colors[X]))}this.colors=J}return this.colors}getColor(J,$){const X=this.getColors().get(J);if(X)return X;if($!==!1)return this.getDefault(J);return}getDefault(J){let $=this.defaultColors[J];if($)return $;return $=Ui.resolveDefaultColor(J,this),this.defaultColors[J]=$,$}defines(J){return this.getColors().has(J)}get type(){switch(this.base){case uY:return v9.LIGHT;case rU:return v9.HIGH_CONTRAST_DARK;case iU:return v9.HIGH_CONTRAST_LIGHT;default:return v9.DARK}}get tokenTheme(){if(!this._tokenTheme){let J=[],$=[];if(this.themeData.inherit){const Y=dk(this.themeData.base);if(J=Y.rules,Y.encodedTokensColors)$=Y.encodedTokensColors}const X=this.themeData.colors["editor.foreground"],Q=this.themeData.colors["editor.background"];if(X||Q){const Y={token:""};if(X)Y.foreground=X;if(Q)Y.background=Q;J.push(Y)}if(J=J.concat(this.themeData.rules),this.themeData.encodedTokensColors)$=this.themeData.encodedTokensColors;this._tokenTheme=zD.createFromRawTokenTheme(J,$)}return this._tokenTheme}getTokenStyleMetadata(J,$,X){const Y=this.tokenTheme._match([J].concat($).join(".")).metadata,Z=l7.getForeground(Y),G=l7.getFontStyle(Y);return{foreground:Z,italic:Boolean(G&1),bold:Boolean(G&2),underline:Boolean(G&4),strikethrough:Boolean(G&8)}}}class ak extends f{constructor(){super();this._onColorThemeChange=this._register(new E),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new E),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new VD,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(uY,WD(uY)),this._knownThemes.set(oV,WD(oV)),this._knownThemes.set(rU,WD(rU)),this._knownThemes.set(iU,WD(iU));const J=this._register(Gi(this));this._codiconCSS=J.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(uY),this._onOSSchemeChanged(),this._register(J.onDidChange(()=>{this._codiconCSS=J.getCSS(),this._updateCSS()})),AM("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(J){if(gZ(J))return this._registerShadowDomContainer(J);return this._registerRegularEditorContainer()}_registerRegularEditorContainer(){if(!this._globalStyleElement)this._globalStyleElement=K7(void 0,(J)=>{J.className="monaco-colors",J.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement);return f.None}_registerShadowDomContainer(J){const $=K7(J,(X)=>{X.className="monaco-colors",X.textContent=this._allCSS});return this._styleElements.push($),{dispose:()=>{for(let X=0;X<this._styleElements.length;X++)if(this._styleElements[X]===$){this._styleElements.splice(X,1);return}}}}defineTheme(J,$){if(!/^[a-z0-9\-]+$/i.test(J))throw new Error("Illegal theme name!");if(!BD($.base)&&!BD(J))throw new Error("Illegal theme base!");if(this._knownThemes.set(J,new sk(J,$)),BD(J))this._knownThemes.forEach((X)=>{if(X.base===J)X.notifyBaseUpdated()});if(this._theme.themeName===J)this.setTheme(J)}getColorTheme(){return this._theme}setColorMapOverride(J){this._colorMapOverride=J,this._updateThemeOrColorMap()}setTheme(J){let $;if(this._knownThemes.has(J))$=this._knownThemes.get(J);else $=this._knownThemes.get(uY);this._updateActualTheme($)}_updateActualTheme(J){if(!J||this._theme===J)return;this._theme=J,this._updateThemeOrColorMap()}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const J=window.matchMedia("(forced-colors: active)").matches;if(J!==NJ(this._theme.type)){let $;if(BG(this._theme.type))$=J?rU:oV;else $=J?iU:uY;this._updateActualTheme(this._knownThemes.get($))}}}setAutoDetectHighContrast(J){this._autoDetectHighContrast=J,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const J=[],$={},X={addRule:(Z)=>{if(!$[Z])J.push(Z),$[Z]=!0}};N40.getThemingParticipants().forEach((Z)=>Z(this._theme,X,this._environment));const Q=[];for(let Z of Ui.getColors()){const G=this._theme.getColor(Z.id,!0);if(G)Q.push(`${YK(Z.id)}: ${G.toString()};`)}X.addRule(`.monaco-editor, .monaco-diff-editor { ${Q.join("\n")} }`);const Y=this._colorMapOverride||this._theme.tokenTheme.getColorMap();X.addRule(ar(Y)),this._themeCSS=J.join("\n"),this._updateCSS(),g1.setColorMap(Y),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((J)=>J.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}var BD,dk,WD,uY,oV,rU,iU,Ui,N40;var Hi=N(()=>{y0();z9();S9();A0();P6();jq();rr();er();t6();e6();X7();$0();xX();qi();BD=function(J){return J===uY||J===oV||J===rU||J===iU},dk=function(J){switch(J){case uY:return ir;case oV:return nr;case rU:return or;case iU:return tr}},WD=function(J){const $=dk(J);return new sk(J,$)},uY="vs",oV="vs-dark",rU="hc-black",iU="hc-light",Ui=a1.as(wN.ColorContribution),N40=a1.as(HT.ThemingContribution)});var A9;var tV=N(()=>{e0();A9=O0("themeService")});var T40,rk,jD;var zi=N(()=>{y0();A0();$0();YY();y9();s1();hG();T40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},rk=function(J,$){return function(X,Q){$(X,Q,J)}},jD=class J extends f{constructor($,X,Q){super();this._contextKeyService=$,this._layoutService=X,this._configurationService=Q,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new E,this._onDidChangeReducedMotion=new E,this._accessibilityModeEnabledContext=jf.bindTo(this._contextKeyService);const Y=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((G)=>{if(G.affectsConfiguration("editor.accessibilitySupport"))Y(),this._onDidChangeScreenReaderOptimized.fire();if(G.affectsConfiguration("workbench.reduceMotion"))this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire()})),Y(),this._register(this.onDidChangeScreenReaderOptimized(()=>Y()));const Z=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Z.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Z)}initReducedMotionListeners($){if(!this._layoutService.hasContainer)return;this._register(l($,"change",()=>{if(this._systemMotionReduced=$.matches,this._configMotionReduced==="auto")this._onDidChangeReducedMotion.fire()}));const X=()=>{const Q=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",Q),this._layoutService.container.classList.toggle("enable-motion",!Q)};X(),this._register(this.onDidChangeReducedMotion(()=>X()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const $=this._configurationService.getValue("editor.accessibilitySupport");return $==="on"||$==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const $=this._configMotionReduced;return $==="on"||$==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};jD=T40([rk(0,p0),rk(1,IJ),rk(2,u1)],jD)});var _40,AD,V2,nU,cY,FD,KD,ik,nk;var Vi=N(()=>{f1();A0();$0();e4();n6();s1();T9();yU();V1();m0();_40=function(J,$,X){const Q=Dx($)?$.submenu.id:$.id,Y=typeof $.title==="string"?$.title:$.title.value,Z=TM({id:`hide/${J.id}/${Q}`,label:F("hide.label","Hide \'{0}\'",Y),run(){X.updateHidden(J,Q,!0)}}),G=TM({id:`toggle/${J.id}/${Q}`,label:Y,get checked(){return!X.isHidden(J,Q)},run(){X.updateHidden(J,Q,!!this.checked)}});return{hide:Z,toggle:G,get isHidden(){return!G.checked}}},AD=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},V2=function(J,$){return function(X,Q){$(X,Q,J)}},FD=class J{constructor($,X){this._commandService=$,this._hiddenStates=new KD(X)}createMenu($,X,Q){return new nk($,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},Q),this._commandService,X)}resetHiddenStates($){this._hiddenStates.reset($)}};FD=AD([V2(0,H7),V2(1,N4)],FD);KD=nU=class J{constructor($){this._storageService=$,this._disposables=new e,this._onDidChange=new E,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const X=$.get(nU._key,0,"{}");this._data=JSON.parse(X)}catch(X){this._data=Object.create(null)}this._disposables.add($.onDidChangeValue(0,nU._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const X=$.get(nU._key,0,"{}");this._data=JSON.parse(X)}catch(X){console.log("FAILED to read storage after UPDATE",X)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault($,X){var Q;return(Q=this._hiddenByDefaultCache.get(`${$.id}/${X}`))!==null&&Q!==void 0?Q:!1}setDefaultState($,X,Q){this._hiddenByDefaultCache.set(`${$.id}/${X}`,Q)}isHidden($,X){var Q,Y;const Z=this._isHiddenByDefault($,X),G=(Y=(Q=this._data[$.id])===null||Q===void 0?void 0:Q.includes(X))!==null&&Y!==void 0?Y:!1;return Z?!G:G}updateHidden($,X,Q){if(this._isHiddenByDefault($,X))Q=!Q;const Z=this._data[$.id];if(!Q){if(Z){const G=Z.indexOf(X);if(G>=0)jS(Z,G);if(Z.length===0)delete this._data[$.id]}}else if(!Z)this._data[$.id]=[X];else if(Z.indexOf(X)<0)Z.push(X);this._persist()}reset($){if($===void 0)this._data=Object.create(null),this._persist();else{for(let{id:X}of $)if(this._data[X])delete this._data[X];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const $=JSON.stringify(this._data);this._storageService.store(nU._key,$,0,0)}finally{this._ignoreChangeEvent=!1}}};KD._key="menu.hiddenCommands";KD=nU=AD([V2(0,N4)],KD);ik=cY=class J{constructor($,X,Q,Y,Z){this._id=$,this._hiddenStates=X,this._collectContextKeysForSubmenus=Q,this._commandService=Y,this._contextKeyService=Z,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const $=t4.getMenuItems(this._id);let X;$.sort(cY._compareMenuItems);for(let Q of $){const Y=Q.group||"";if(!X||X[0]!==Y)X=[Y,[]],this._menuGroups.push(X);X[1].push(Q),this._collectContextKeys(Q)}}_collectContextKeys($){if(cY._fillInKbExprKeys($.when,this._structureContextKeys),t2($)){if($.command.precondition)cY._fillInKbExprKeys($.command.precondition,this._preconditionContextKeys);if($.command.toggled){const X=$.command.toggled.condition||$.command.toggled;cY._fillInKbExprKeys(X,this._toggledContextKeys)}}else if(this._collectContextKeysForSubmenus)t4.getMenuItems($.submenu).forEach(this._collectContextKeys,this)}createActionGroups($){const X=[];for(let Q of this._menuGroups){const[Y,Z]=Q,G=[];for(let q of Z)if(this._contextKeyService.contextMatchesRules(q.when)){const U=t2(q);if(U)this._hiddenStates.setDefaultState(this._id,q.command.id,!!q.isHiddenByDefault);const H=_40(this._id,U?q.command:q,this._hiddenStates);if(U)G.push(new WX(q.command,q.alt,$,H,this._contextKeyService,this._commandService));else{const z=new cY(q.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups($),V=p7.join(...z.map((W)=>W[1]));if(V.length>0)G.push(new lj(q,H,V))}}if(G.length>0)X.push([Y,G])}return X}static _fillInKbExprKeys($,X){if($)for(let Q of $.keys())X.add(Q)}static _compareMenuItems($,X){const Q=$.group,Y=X.group;if(Q!==Y){if(!Q)return 1;else if(!Y)return-1;if(Q==="navigation")return-1;else if(Y==="navigation")return 1;const q=Q.localeCompare(Y);if(q!==0)return q}const Z=$.order||0,G=X.order||0;if(Z<G)return-1;else if(Z>G)return 1;return cY._compareTitles(t2($)?$.command.title:$.title,t2(X)?X.command.title:X.title)}static _compareTitles($,X){const Q=typeof $==="string"?$:$.original,Y=typeof X==="string"?X:X.original;return Q.localeCompare(Y)}};ik=cY=AD([V2(3,H7),V2(4,p0)],ik);nk=class J{constructor($,X,Q,Y,Z){this._disposables=new e,this._menuInfo=new ik($,X,Q.emitEventsForSubmenuChanges,Y,Z);const G=new Q8(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},Q.eventDebounceDelay);this._disposables.add(G),this._disposables.add(t4.onDidChangeMenu((z)=>{if(z.has($))G.schedule()}));const q=this._disposables.add(new e),U=(z)=>{let V=!1,W=!1,B=!1;for(let j of z)if(V=V||j.isStructuralChange,W=W||j.isEnablementChange,B=B||j.isToggleChange,V&&W&&B)break;return{menu:this,isStructuralChange:V,isEnablementChange:W,isToggleChange:B}},H=()=>{q.add(Z.onDidChangeContext((z)=>{const V=z.affectsSome(this._menuInfo.structureContextKeys),W=z.affectsSome(this._menuInfo.preconditionContextKeys),B=z.affectsSome(this._menuInfo.toggledContextKeys);if(V||W||B)this._onDidChange.fire({menu:this,isStructuralChange:V,isEnablementChange:W,isToggleChange:B})})),q.add(X.onDidChange((z)=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new x3({onWillAddFirstListener:H,onDidRemoveLastListener:q.clear.bind(q),delay:Q.eventDebounceDelay,merge:U}),this.onDidChange=this._onDidChange.event}getActions($){return this._menuInfo.createActionGroups($)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};nk=AD([V2(3,H7),V2(4,p0)],nk)});var w40,Wi,W2,PD;var Bi=N(()=>{z9();y0();f1();$0();hG();M5();w40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Wi=function(J,$){return function(X,Q){$(X,Q,J)}},W2=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},PD=class J extends f{constructor($,X){super();if(this.layoutService=$,this.logService=X,this.mapTextToType=new Map,this.findText="",this.resources=[],N9||wj)this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const $=()=>{const X=new UH;if(this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled)this.webKitPendingClipboardWritePromise.cancel();this.webKitPendingClipboardWritePromise=X,navigator.clipboard.write([new ClipboardItem({"text/plain":X.p})]).catch((Q)=>W2(this,void 0,void 0,function*(){if(!(Q instanceof Error)||Q.name!=="NotAllowedError"||!X.isRejected)this.logService.error(Q)}))};if(this.layoutService.hasContainer)this._register(l(this.layoutService.container,"click",$)),this._register(l(this.layoutService.container,"keydown",$))}writeText($,X){return W2(this,void 0,void 0,function*(){if(X){this.mapTextToType.set(X,$);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete($);try{return yield navigator.clipboard.writeText($)}catch(Z){console.error(Z)}const Q=document.activeElement,Y=document.body.appendChild(U0("textarea",{"aria-hidden":!0}));if(Y.style.height="1px",Y.style.width="1px",Y.style.position="absolute",Y.value=$,Y.focus(),Y.select(),document.execCommand("copy"),Q instanceof HTMLElement)Q.focus();document.body.removeChild(Y);return})}readText($){return W2(this,void 0,void 0,function*(){if($)return this.mapTextToType.get($)||"";try{return yield navigator.clipboard.readText()}catch(X){return console.error(X),""}})}readFindText(){return W2(this,void 0,void 0,function*(){return this.findText})}writeFindText($){return W2(this,void 0,void 0,function*(){this.findText=$})}writeResources($){return W2(this,void 0,void 0,function*(){this.resources=$})}readResources(){return W2(this,void 0,void 0,function*(){return this.resources})}};PD=w40([Wi(0,IJ),Wi(1,F7)],PD)});var lY;var eV=N(()=>{e0();lY=O0("clipboardService")});function y40(J,$,X){J.get(p0).createKey(String($),S40(X))}class RD{constructor(J,$){this._id=J,this._parent=$,this._value=Object.create(null),this._value._contextId=J}get value(){return Object.assign({},this._value)}setValue(J,$){if(this._value[J]!==$)return this._value[J]=$,!0;return!1}removeValue(J){if(J in this._value)return delete this._value[J],!0;return!1}getValue(J){const $=this._value[J];if(typeof $==="undefined"&&this._parent)return this._parent.getValue(J);return $}}class B2 extends RD{constructor(){super(-1,null)}setValue(J,$){return!1}removeValue(J){return!1}getValue(J){return}}class $W extends RD{constructor(J,$,X){super(J,null);this._configurationService=$,this._values=ZQ.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((Q)=>{if(Q.source===7){const Y=Array.from(this._values,([Z])=>Z);this._values.clear(),X.fire(new tk(Y))}else{const Y=[];for(let Z of Q.affectedKeys){const G=`config.${Z}`,q=this._values.findSuperstr(G);if(q!==void 0)Y.push(...U1.map(q,([U])=>U)),this._values.deleteSuperstr(G);if(this._values.has(G))Y.push(G),this._values.delete(G)}X.fire(new tk(Y))}})}dispose(){this._listener.dispose()}getValue(J){if(J.indexOf($W._keyPrefix)!==0)return super.getValue(J);if(this._values.has(J))return this._values.get(J);const $=J.substr($W._keyPrefix.length),X=this._configurationService.getValue($);let Q=void 0;switch(typeof X){case"number":case"boolean":case"string":Q=X;break;default:if(Array.isArray(X))Q=JSON.stringify(X);else Q=X}return this._values.set(J,Q),Q}setValue(J,$){return super.setValue(J,$)}removeValue(J){return super.removeValue(J)}}class ji{constructor(J,$,X){this._service=J,this._key=$,this._defaultValue=X,this.reset()}set(J){this._service.setContext(this._key,J)}reset(){if(typeof this._defaultValue==="undefined")this._service.removeContext(this._key);else this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class ok{constructor(J){this.key=J}affectsSome(J){return J.has(this.key)}allKeysContainedIn(J){return this.affectsSome(J)}}class tk{constructor(J){this.keys=J}affectsSome(J){for(let $ of this.keys)if(J.has($))return!0;return!1}allKeysContainedIn(J){return this.keys.every(($)=>J.has($))}}class Fi{constructor(J){this.events=J}affectsSome(J){for(let $ of this.events)if($.affectsSome(J))return!0;return!1}allKeysContainedIn(J){return this.events.every(($)=>$.allKeysContainedIn(J))}}class ek extends f{constructor(J){super();this._onDidChangeContext=this._register(new $J({merge:($)=>new Fi($)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=J}createKey(J,$){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ji(this,J,$)}bufferChangeEvents(J){this._onDidChangeContext.pause();try{J()}finally{this._onDidChangeContext.resume()}}createScoped(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ki(this,J)}contextMatchesRules(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const $=this.getContextValuesContainer(this._myContextId);return J?J.evaluate($):!0}getContextKeyValue(J){if(this._isDisposed)return;return this.getContextValuesContainer(this._myContextId).getValue(J)}setContext(J,$){if(this._isDisposed)return;const X=this.getContextValuesContainer(this._myContextId);if(!X)return;if(X.setValue(J,$))this._onDidChangeContext.fire(new ok(J))}removeContext(J){if(this._isDisposed)return;if(this.getContextValuesContainer(this._myContextId).removeValue(J))this._onDidChangeContext.fire(new ok(J))}getContext(J){if(this._isDisposed)return B2.INSTANCE;return this.getContextValuesContainer(E40(J))}dispose(){super.dispose(),this._isDisposed=!0}}class Ki extends ek{constructor(J,$){super(J.createChildContext());if(this._parentChangeListener=this._register(new K6),this._parent=J,this._updateParentChangeListener(),this._domNode=$,this._domNode.hasAttribute(JW)){let X="";if(this._domNode.classList)X=Array.from(this._domNode.classList.values()).join(", ");console.error(`Element already has context attribute${X?": "+X:""}`)}this._domNode.setAttribute(JW,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((J)=>{const X=this._parent.getContextValuesContainer(this._myContextId).value;if(!k40(J,X))this._onDidChangeContext.fire(J)})}dispose(){if(this._isDisposed)return;this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(JW),super.dispose()}getContextValuesContainer(J){if(this._isDisposed)return B2.INSTANCE;return this._parent.getContextValuesContainer(J)}createChildContext(J=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(J)}disposeContext(J){if(this._isDisposed)return;this._parent.disposeContext(J)}}var k40,E40,S40,L40,I40,JW,DD;var Ai=N(()=>{A0();A5();$0();U9();dA();l8();m0();n6();y9();s1();k40=function(J,$){return J.allKeysContainedIn(new Set(Object.keys($)))},E40=function(J){while(J){if(J.hasAttribute(JW)){const $=J.getAttribute(JW);if($)return parseInt($,10);return NaN}J=J.parentElement}return 0};S40=function(J){return UB(J,($)=>{if(typeof $==="object"&&$.$mid===1)return I0.revive($).toString();if($ instanceof I0)return $.toString();return})},L40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},I40=function(J,$){return function(X,Q){$(X,Q,J)}},JW="data-keybinding-context";B2.INSTANCE=new B2;$W._keyPrefix="config.";DD=class J extends ek{constructor($){super(0);this._contexts=new Map,this._lastContextId=0;const X=this._register(new $W(this._myContextId,$,this._onDidChangeContext));this._contexts.set(this._myContextId,X)}getContextValuesContainer($){if(this._isDisposed)return B2.INSTANCE;return this._contexts.get($)||B2.INSTANCE}createChildContext($=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const X=++this._lastContextId;return this._contexts.set(X,new RD(X,this.getContextValuesContainer($))),X}disposeContext($){if(!this._isDisposed)this._contexts.delete($)}};DD=L40([I40(0,u1)],DD);V8.registerCommand("_setContext",y40);V8.registerCommand({id:"getContextKeyInfo",handler(){return[...V0.all()].sort((J,$)=>J.key.localeCompare($.key))},description:{description:F("getContextKeyInfo","A command that returns information about context keys"),args:[]}});V8.registerCommand("_generateContextKeyInfo",function(){const J=[],$=new Set;for(let X of V0.all())if(!$.has(X.key))$.add(X.key),J.push(X);J.sort((X,Q)=>X.key.localeCompare(Q.key)),console.log(JSON.stringify(J,void 0,2))})});class Pi{constructor(J,$){this.key=J,this.data=$,this.incoming=new Map,this.outgoing=new Map}}class MD{constructor(J){this._hashFn=J,this._nodes=new Map}roots(){const J=[];for(let $ of this._nodes.values())if($.outgoing.size===0)J.push($);return J}insertEdge(J,$){const X=this.lookupOrInsertNode(J),Q=this.lookupOrInsertNode($);X.outgoing.set(Q.key,Q),Q.incoming.set(X.key,X)}removeNode(J){const $=this._hashFn(J);this._nodes.delete($);for(let X of this._nodes.values())X.outgoing.delete($),X.incoming.delete($)}lookupOrInsertNode(J){const $=this._hashFn(J);let X=this._nodes.get($);if(!X)X=new Pi($,J),this._nodes.set($,X);return X}isEmpty(){return this._nodes.size===0}toString(){const J=[];for(let[$,X]of this._nodes)J.push(`${$}\n\t(-> incoming)[${[...X.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...X.outgoing.keys()].join(",")}]\n`);return J.join("\n")}findCycleSlow(){for(let[J,$]of this._nodes){const X=new Set([J]),Q=this._findCycle($,X);if(Q)return Q}return}_findCycle(J,$){for(let[X,Q]of J.outgoing){if($.has(X))return[...$,X].join(" -> ");$.add(X);const Y=this._findCycle(Q,$);if(Y)return Y;$.delete(X)}return}}var Di=N(()=>{});class JE extends Error{constructor(J){var $;super("cyclic dependency between services");this.message=($=J.findCycleSlow())!==null&&$!==void 0?$:`UNABLE to detect cycle, dumping graph: \n${J.toString()}`}}class XW{constructor(J=new eX,$=!1,X,Q=C40){var Y;this._services=J,this._strict=$,this._parent=X,this._enableTracing=Q,this._activeInstantiations=new Set,this._services.set(G1,this),this._globalGraph=Q?(Y=X===null||X===void 0?void 0:X._globalGraph)!==null&&Y!==void 0?Y:new MD((Z)=>Z):void 0}createChild(J){return new XW(J,this._strict,this,this._enableTracing)}invokeFunction(J,...$){const X=P9.traceInvocation(this._enableTracing,J);let Q=!1;try{return J({get:(Z)=>{if(Q)throw C2("service accessor is only valid during the invocation of its target method");const G=this._getOrCreateServiceInstance(Z,X);if(!G)throw new Error(`[invokeFunction] unknown service '${Z}'`);return G}},...$)}finally{Q=!0,X.stop()}}createInstance(J,...$){let X,Q;if(J instanceof X5)X=P9.traceCreation(this._enableTracing,J.ctor),Q=this._createInstance(J.ctor,J.staticArguments.concat($),X);else X=P9.traceCreation(this._enableTracing,J),Q=this._createInstance(J,$,X);return X.stop(),Q}_createInstance(J,$=[],X){const Q=GJ.getServiceDependencies(J).sort((G,q)=>G.index-q.index),Y=[];for(let G of Q){const q=this._getOrCreateServiceInstance(G.id,X);if(!q)this._throwIfStrict(`[createInstance] ${J.name} depends on UNKNOWN service ${G.id}.`,!1);Y.push(q)}const Z=Q.length>0?Q[0].index:$.length;if($.length!==Z){console.trace(`[createInstance] First service dependency of ${J.name} at position ${Z+1} conflicts with ${$.length} static arguments`);const G=Z-$.length;if(G>0)$=$.concat(new Array(G));else $=$.slice(0,Z)}return Reflect.construct(J,$.concat(Y))}_setServiceInstance(J,$){if(this._services.get(J)instanceof X5)this._services.set(J,$);else if(this._parent)this._parent._setServiceInstance(J,$);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(J){const $=this._services.get(J);if(!$&&this._parent)return this._parent._getServiceInstanceOrDescriptor(J);else return $}_getOrCreateServiceInstance(J,$){if(this._globalGraph&&this._globalGraphImplicitDependency)this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(J));const X=this._getServiceInstanceOrDescriptor(J);if(X instanceof X5)return this._safeCreateAndCacheServiceInstance(J,X,$.branch(J,!0));else return $.branch(J,!1),X}_safeCreateAndCacheServiceInstance(J,$,X){if(this._activeInstantiations.has(J))throw new Error(`illegal state - RECURSIVELY instantiating service '${J}'`);this._activeInstantiations.add(J);try{return this._createAndCacheServiceInstance(J,$,X)}finally{this._activeInstantiations.delete(J)}}_createAndCacheServiceInstance(J,$,X){var Q;const Y=new MD((q)=>q.id.toString());let Z=0;const G=[{id:J,desc:$,_trace:X}];while(G.length){const q=G.pop();if(Y.lookupOrInsertNode(q),Z++>1000)throw new JE(Y);for(let U of GJ.getServiceDependencies(q.desc.ctor)){const H=this._getServiceInstanceOrDescriptor(U.id);if(!H)this._throwIfStrict(`[createInstance] ${J} depends on ${U.id} which is NOT registered.`,!0);if((Q=this._globalGraph)===null||Q===void 0||Q.insertEdge(String(q.id),String(U.id)),H instanceof X5){const z={id:U.id,desc:H,_trace:q._trace.branch(U.id,!0)};Y.insertEdge(q,z),G.push(z)}}}while(!0){const q=Y.roots();if(q.length===0){if(!Y.isEmpty())throw new JE(Y);break}for(let{data:U}of q){if(this._getServiceInstanceOrDescriptor(U.id)instanceof X5){const z=this._createServiceInstanceWithOwner(U.id,U.desc.ctor,U.desc.staticArguments,U.desc.supportsDelayedInstantiation,U._trace);this._setServiceInstance(U.id,z)}Y.removeNode(U)}}return this._getServiceInstanceOrDescriptor(J)}_createServiceInstanceWithOwner(J,$,X=[],Q,Y){if(this._services.get(J)instanceof X5)return this._createServiceInstance(J,$,X,Q,Y);else if(this._parent)return this._parent._createServiceInstanceWithOwner(J,$,X,Q,Y);else throw new Error(`illegalState - creating UNKNOWN service instance ${$.name}`)}_createServiceInstance(J,$,X=[],Q,Y){if(!Q)return this._createInstance($,X,Y);else{const Z=new XW(void 0,this._strict,this,this._enableTracing);Z._globalGraphImplicitDependency=String(J);const G=new Map,q=new mZ(()=>{const U=Z._createInstance($,X,Y);for(let[H,z]of G){const V=U[H];if(typeof V==="function")for(let W of z)V.apply(U,W)}return G.clear(),U});return new Proxy(Object.create(null),{get(U,H){if(!q.isInitialized){if(typeof H==="string"&&(H.startsWith("onDid")||H.startsWith("onWill"))){let W=G.get(H);if(!W)W=new I8,G.set(H,W);return(j,K,D)=>{const A=W.push([j,K,D]);return N0(A)}}}if(H in U)return U[H];const z=q.value;let V=z[H];if(typeof V!=="function")return V;return V=V.bind(z),U[H]=V,V},set(U,H,z){return q.value[H]=z,!0},getPrototypeOf(U){return $.prototype}})}}_throwIfStrict(J,$){if($)console.warn(J);if(this._strict)throw new Error(J)}}class P9{static traceInvocation(J,$){return!J?P9._None:new P9(2,$.name||new Error().stack.split("\n").slice(3,4).join("\n"))}static traceCreation(J,$){return!J?P9._None:new P9(1,$.name)}constructor(J,$){this.type=J,this.name=$,this._start=Date.now(),this._dep=[]}branch(J,$){const X=new P9(3,J.toString());return this._dep.push([J,$,X]),X}stop(){const J=Date.now()-this._start;P9._totals+=J;let $=!1;function X(Y,Z){const G=[],q=new Array(Y+1).join("\t");for(let[U,H,z]of Z._dep)if(H&&z){$=!0,G.push(`${q}CREATES -> ${U}`);const V=X(Y+1,z);if(V)G.push(V)}else G.push(`${q}uses -> ${U}`);return G.join("\n")}const Q=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${X(1,this)}`,`DONE, took ${J.toFixed(2)}ms (grand total ${P9._totals.toFixed(2)}ms)`];if(J>2||$)P9.all.add(Q.join("\n"))}}var C40;var Ri=N(()=>{f1();A1();$0();DF();Di();e0();rz();P5();C40=!1;P9.all=new Set;P9._None=new class extends P9{constructor(){super(0,null)}stop(){}branch(){return this}};P9._totals=0});class Mi{constructor(){this._byResource=new y7,this._byOwner=new Map}set(J,$,X){let Q=this._byResource.get(J);if(!Q)Q=new Map,this._byResource.set(J,Q);Q.set($,X);let Y=this._byOwner.get($);if(!Y)Y=new y7,this._byOwner.set($,Y);Y.set(J,X)}get(J,$){const X=this._byResource.get(J);return X===null||X===void 0?void 0:X.get($)}delete(J,$){let X=!1,Q=!1;const Y=this._byResource.get(J);if(Y)X=Y.delete($);const Z=this._byOwner.get($);if(Z)Q=Z.delete(J);if(X!==Q)throw new Error("illegal state");return X&&Q}values(J){var $,X,Q,Y;if(typeof J==="string")return(X=($=this._byOwner.get(J))===null||$===void 0?void 0:$.values())!==null&&X!==void 0?X:U1.empty();if(I0.isUri(J))return(Y=(Q=this._byResource.get(J))===null||Q===void 0?void 0:Q.values())!==null&&Y!==void 0?Y:U1.empty();return U1.map(U1.concat(...this._byOwner.values()),(Z)=>Z[1])}}class Oi{constructor(J){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new y7,this._service=J,this._subscription=J.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(J){for(let $ of J){const X=this._data.get($);if(X)this._substract(X);const Q=this._resourceStats($);this._add(Q),this._data.set($,Q)}}_resourceStats(J){const $={errors:0,warnings:0,infos:0,unknowns:0};if(x40.has(J.scheme))return $;for(let{severity:X}of this._service.read({resource:J}))if(X===m9.Error)$.errors+=1;else if(X===m9.Warning)$.warnings+=1;else if(X===m9.Info)$.infos+=1;else $.unknowns+=1;return $}_substract(J){this.errors-=J.errors,this.warnings-=J.warnings,this.infos-=J.infos,this.unknowns-=J.unknowns}_add(J){this.errors+=J.errors,this.warnings+=J.warnings,this.infos+=J.infos,this.unknowns+=J.unknowns}}class BQ{constructor(){this._onMarkerChanged=new x3({delay:0,merge:BQ._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Mi,this._stats=new Oi(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(J,$){for(let X of $||[])this.changeOne(J,X,[])}changeOne(J,$,X){if(QB(X)){if(this._data.delete($,J))this._onMarkerChanged.fire([$])}else{const Q=[];for(let Y of X){const Z=BQ._toMarker(J,$,Y);if(Z)Q.push(Z)}this._data.set($,J,Q),this._onMarkerChanged.fire([$])}}static _toMarker(J,$,X){let{code:Q,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:H,endColumn:z,relatedInformation:V,tags:W}=X;if(!Z)return;return q=q>0?q:1,U=U>0?U:1,H=H>=q?H:q,z=z>0?z:U,{resource:$,owner:J,code:Q,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:H,endColumn:z,relatedInformation:V,tags:W}}changeAll(J,$){const X=[],Q=this._data.values(J);if(Q)for(let Y of Q){const Z=U1.first(Y);if(Z)X.push(Z.resource),this._data.delete(Z.resource,J)}if(F5($)){const Y=new y7;for(let{resource:Z,marker:G}of $){const q=BQ._toMarker(J,Z,G);if(!q)continue;const U=Y.get(Z);if(!U)Y.set(Z,[q]),X.push(Z);else U.push(q)}for(let[Z,G]of Y)this._data.set(Z,J,G)}if(X.length>0)this._onMarkerChanged.fire(X)}read(J=Object.create(null)){let{owner:$,resource:X,severities:Q,take:Y}=J;if(!Y||Y<0)Y=-1;if($&&X){const Z=this._data.get(X,$);if(!Z)return[];else{const G=[];for(let q of Z)if(BQ._accept(q,Q)){const U=G.push(q);if(Y>0&&U===Y)break}return G}}else if(!$&&!X){const Z=[];for(let G of this._data.values())for(let q of G)if(BQ._accept(q,Q)){const U=Z.push(q);if(Y>0&&U===Y)return Z}return Z}else{const Z=this._data.values(X!==null&&X!==void 0?X:$),G=[];for(let q of Z)for(let U of q)if(BQ._accept(U,Q)){const H=G.push(U);if(Y>0&&H===Y)return G}return G}}static _accept(J,$){return $===void 0||($&J.severity)===J.severity}static _merge(J){const $=new y7;for(let X of J)for(let Q of X)$.set(Q,!0);return Array.from($.keys())}}var x40;var Ni=N(()=>{V1();A0();A5();G4();T5();l8();vU();x40=new Set([o0.inMemory,o0.vscodeSourceControl,o0.walkThrough,o0.walkThroughSnippet])});class $E extends f{constructor(){super(...arguments);this._configurationModel=new n7}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new n7;const J=a1.as(S5.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(J),J)}updateConfigurationModel(J,$){const X=this.getConfigurationDefaultOverrides();for(let Q of J){const Y=X[Q],Z=$[Q];if(Y!==void 0)this._configurationModel.addValue(Q,Y);else if(Z)this._configurationModel.addValue(Q,Z.default);else this._configurationModel.removeValue(Q)}}}var Ti=N(()=>{$0();mL();iZ();t6()});class Z1{static register(J){return new Z1(J.fileName)}constructor(J){this.fileName=J}}class _i{constructor(J){this.randomOneOf=J}}class R1{static register(J){const $=new _i("randomOneOf"in J.sound?J.sound.randomOneOf:[J.sound]),X=new R1($,J.name,J.settingsKey);return R1._audioCues.add(X),X}constructor(J,$,X){this.sound=J,this.name=$,this.settingsKey=X}}var dY;var QW=N(()=>{e0();m0();dY=O0("audioCue");Z1.error=Z1.register({fileName:"error.mp3"});Z1.warning=Z1.register({fileName:"warning.mp3"});Z1.foldedArea=Z1.register({fileName:"foldedAreas.mp3"});Z1.break=Z1.register({fileName:"break.mp3"});Z1.quickFixes=Z1.register({fileName:"quickFixes.mp3"});Z1.taskCompleted=Z1.register({fileName:"taskCompleted.mp3"});Z1.taskFailed=Z1.register({fileName:"taskFailed.mp3"});Z1.terminalBell=Z1.register({fileName:"terminalBell.mp3"});Z1.diffLineInserted=Z1.register({fileName:"diffLineInserted.mp3"});Z1.diffLineDeleted=Z1.register({fileName:"diffLineDeleted.mp3"});Z1.diffLineModified=Z1.register({fileName:"diffLineModified.mp3"});Z1.chatRequestSent=Z1.register({fileName:"chatRequestSent.mp3"});Z1.chatResponsePending=Z1.register({fileName:"chatResponsePending.mp3"});Z1.chatResponseReceived1=Z1.register({fileName:"chatResponseReceived1.mp3"});Z1.chatResponseReceived2=Z1.register({fileName:"chatResponseReceived2.mp3"});Z1.chatResponseReceived3=Z1.register({fileName:"chatResponseReceived3.mp3"});Z1.chatResponseReceived4=Z1.register({fileName:"chatResponseReceived4.mp3"});R1._audioCues=new Set;R1.error=R1.register({name:F("audioCues.lineHasError.name","Error on Line"),sound:Z1.error,settingsKey:"audioCues.lineHasError"});R1.warning=R1.register({name:F("audioCues.lineHasWarning.name","Warning on Line"),sound:Z1.warning,settingsKey:"audioCues.lineHasWarning"});R1.foldedArea=R1.register({name:F("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:Z1.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"});R1.break=R1.register({name:F("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:Z1.break,settingsKey:"audioCues.lineHasBreakpoint"});R1.inlineSuggestion=R1.register({name:F("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:Z1.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});R1.terminalQuickFix=R1.register({name:F("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:Z1.quickFixes,settingsKey:"audioCues.terminalQuickFix"});R1.onDebugBreak=R1.register({name:F("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:Z1.break,settingsKey:"audioCues.onDebugBreak"});R1.noInlayHints=R1.register({name:F("audioCues.noInlayHints","No Inlay Hints on Line"),sound:Z1.error,settingsKey:"audioCues.noInlayHints"});R1.taskCompleted=R1.register({name:F("audioCues.taskCompleted","Task Completed"),sound:Z1.taskCompleted,settingsKey:"audioCues.taskCompleted"});R1.taskFailed=R1.register({name:F("audioCues.taskFailed","Task Failed"),sound:Z1.taskFailed,settingsKey:"audioCues.taskFailed"});R1.terminalCommandFailed=R1.register({name:F("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:Z1.error,settingsKey:"audioCues.terminalCommandFailed"});R1.terminalBell=R1.register({name:F("audioCues.terminalBell","Terminal Bell"),sound:Z1.terminalBell,settingsKey:"audioCues.terminalBell"});R1.notebookCellCompleted=R1.register({name:F("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:Z1.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"});R1.notebookCellFailed=R1.register({name:F("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:Z1.taskFailed,settingsKey:"audioCues.notebookCellFailed"});R1.diffLineInserted=R1.register({name:F("audioCues.diffLineInserted","Diff Line Inserted"),sound:Z1.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});R1.diffLineDeleted=R1.register({name:F("audioCues.diffLineDeleted","Diff Line Deleted"),sound:Z1.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});R1.diffLineModified=R1.register({name:F("audioCues.diffLineModified","Diff Line Modified"),sound:Z1.diffLineModified,settingsKey:"audioCues.diffLineModified"});R1.chatRequestSent=R1.register({name:F("audioCues.chatRequestSent","Chat Request Sent"),sound:Z1.chatRequestSent,settingsKey:"audioCues.chatRequestSent"});R1.chatResponseReceived=R1.register({name:F("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[Z1.chatResponseReceived1,Z1.chatResponseReceived2,Z1.chatResponseReceived3,Z1.chatResponseReceived4]}});R1.chatResponsePending=R1.register({name:F("audioCues.chatResponsePending","Chat Response Pending"),sound:Z1.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})});class XE extends f{constructor(J,$=[]){super();this.logger=new CM([J,...$]),this._register(J.onDidChangeLogLevel((X)=>this.setLevel(X)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(J){this.logger.setLevel(J)}getLevel(){return this.logger.getLevel()}trace(J,...$){this.logger.trace(J,...$)}debug(J,...$){this.logger.debug(J,...$)}info(J,...$){this.logger.info(J,...$)}warn(J,...$){this.logger.warn(J,...$)}error(J,...$){this.logger.error(J,...$)}}var wi=N(()=>{$0();M5()});function Li(){return b40.slice(0)}var b40;var Ii=N(()=>{b40=[]});function GW(J,$,X){if(!$)return;if(!(J instanceof zE))return;const Q=[];if(Object.keys($).forEach((Y)=>{if(bl(Y))Q.push([`editor.${Y}`,$[Y]]);if(X&&vl(Y))Q.push([`diffEditor.${Y}`,$[Y]])}),Q.length>0)J.updateValues(Q)}class Ei{constructor(J){this.disposed=!1,this.model=J,this._onWillDispose=new E}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}class OD{show(){return OD.NULL_PROGRESS_RUNNER}showWhile(J,$){return oU(this,void 0,void 0,function*(){yield J})}}class yi{withProgress(J,$,X){return $({report:()=>{}})}}class Si{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class Ci{confirm(J){return oU(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(J.message,J.detail),checkboxChecked:!1}})}doConfirm(J,$){let X=J;if($)X=X+"\n\n"+$;return window.confirm(X)}prompt(J){var $,X;return oU(this,void 0,void 0,function*(){let Q=void 0;if(this.doConfirm(J.message,J.detail)){const Z=[...($=J.buttons)!==null&&$!==void 0?$:[]];if(J.cancelButton&&typeof J.cancelButton!=="string"&&typeof J.cancelButton!=="boolean")Z.push(J.cancelButton);Q=yield(X=Z[0])===null||X===void 0?void 0:X.run({checkboxChecked:!1})}return{result:Q}})}error(J,$){return oU(this,void 0,void 0,function*(){yield this.prompt({type:D8.Error,message:J,detail:$})})}}class YW{info(J){return this.notify({severity:D8.Info,message:J})}warn(J){return this.notify({severity:D8.Warning,message:J})}error(J){return this.notify({severity:D8.Error,message:J})}notify(J){switch(J.severity){case D8.Error:console.error(J.message);break;case D8.Warning:console.warn(J.message);break;default:console.log(J.message);break}return YW.NO_OP}prompt(J,$,X,Q){return YW.NO_OP}status(J,$){return f.None}}class xi extends f{constructor(J,$){super();this.domNode=J,this._register($)}}class zE{constructor(){this._onDidChangeConfiguration=new E,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const J=new $E;this._configuration=new ZV(J.reload(),new n7,new n7,new n7),J.dispose()}getValue(J,$){const X=typeof J==="string"?J:void 0,Q=ki(J)?J:ki($)?$:{};return this._configuration.getValue(X,Q,void 0)}updateValues(J){const $={data:this._configuration.toData()},X=[];for(let Q of J){const[Y,Z]=Q;if(this.getValue(Y)===Z)continue;this._configuration.updateValue(Y,Z),X.push(Y)}if(X.length>0){const Q=new pL({keys:X,overrides:[]},$,this._configuration);Q.source=8,Q.sourceConfig=null,this._onDidChangeConfiguration.fire(Q)}return Promise.resolve()}updateValue(J,$,X,Q){return this.updateValues([[J,$]])}inspect(J,$={}){return this._configuration.inspect(J,$,void 0)}}class bi{publicLog2(){}}class ZW{constructor(){const J=I0.from({scheme:ZW.SCHEME,authority:"model",path:"/"});this.workspace={id:$d,folders:[new aL({uri:J,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(J){return J&&J.scheme===ZW.SCHEME?this.workspace.folders[0]:null}}class vi{getUriLabel(J,$){if(J.scheme==="file")return J.fsPath;return J.path}getUriBasenameLabel(J){return yG(J)}}class fi{constructor(){this._neverEmitter=new E,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class hi extends NU{constructor(){super()}}class gi extends XE{constructor(){super(new SM)}}class pi{playAudioCue(J,$){return oU(this,void 0,void 0,function*(){})}}var ki,aY,o7,oU,QE,YE,sY,ZE,GE,qE,UE,HE,S0;var ND=N(()=>{b6();AL();PL();Zl();IL();Fl();yl();l0();y0();x6();A0();fZ();$0();O1();wY();l8();Cl();fl();YV();W1();u0();UX();s3();fF();n6();y9();mL();s1();DL();e0();ul();uX();uL();o2();lL();al();sL();JQ();HV();hZ();rA();hG();rL();E$();t9();M5();Hd();mG();Vd();Rd();cs();FJ();ds();bU();UN();E5();os();NN();Ja();lr();Hi();tV();zi();YY();e4();Vi();Bi();eV();Ai();DF();Ri();rz();Ek();vU();Ni();gG();cV();yU();Ti();QW();wi();Ii();A1();xA();ki=function(J){return J&&typeof J==="object"&&(!J.overrideIdentifier||typeof J.overrideIdentifier==="string")&&(!J.resource||J.resource instanceof I0)};aY=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},o7=function(J,$){return function(X,Q){$(X,Q,J)}},oU=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};QE=class J{constructor($){this.modelService=$}createModelReference($){const X=this.modelService.getModel($);if(!X)return Promise.reject(new Error("Model not found"));return Promise.resolve(new sR(new Ei(X)))}};QE=aY([o7(0,U7)],QE);OD.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};YW.NO_OP=new GL;YE=class J{constructor($){this._onWillExecuteCommand=new E,this._onDidExecuteCommand=new E,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=$}executeCommand($,...X){const Q=V8.getCommand($);if(!Q)return Promise.reject(new Error(`command '${$}' not found`));try{this._onWillExecuteCommand.fire({commandId:$,args:X});const Y=this._instantiationService.invokeFunction.apply(this._instantiationService,[Q.handler,...X]);return this._onDidExecuteCommand.fire({commandId:$,args:X}),Promise.resolve(Y)}catch(Y){return Promise.reject(Y)}}};YE=aY([o7(0,G1)],YE);sY=class J extends cL{constructor($,X,Q,Y,Z,G){super($,X,Q,Y,Z);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const q=(B)=>{const j=new e;j.add(l(B,G0.KEY_DOWN,(K)=>{const D=new D1(K);if(this._dispatch(D,D.target))D.preventDefault(),D.stopPropagation()})),j.add(l(B,G0.KEY_UP,(K)=>{const D=new D1(K);if(this._singleModifierDispatch(D,D.target))D.preventDefault()})),this._domNodeListeners.push(new xi(B,j))},U=(B)=>{for(let j=0;j<this._domNodeListeners.length;j++){const K=this._domNodeListeners[j];if(K.domNode===B)this._domNodeListeners.splice(j,1),K.dispose()}},H=(B)=>{if(B.getOption(61))return;q(B.getContainerDomNode())},z=(B)=>{if(B.getOption(61))return;U(B.getContainerDomNode())};this._register(G.onCodeEditorAdd(H)),this._register(G.onCodeEditorRemove(z)),G.listCodeEditors().forEach(H);const V=(B)=>{q(B.getContainerDomNode())},W=(B)=>{U(B.getContainerDomNode())};this._register(G.onDiffEditorAdd(V)),this._register(G.onDiffEditorRemove(W)),G.listDiffEditors().forEach(V)}addDynamicKeybinding($,X,Q,Y){return E6(V8.registerCommand($,Q),this.addDynamicKeybindings([{keybinding:X,command:$,when:Y}]))}addDynamicKeybindings($){const X=$.map((Q)=>{var Y;return{keybinding:o3(Q.keybinding,k6),command:(Y=Q.command)!==null&&Y!==void 0?Y:null,commandArgs:Q.commandArgs,when:Q.when,weight1:1000,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(X),this.updateResolver(),N0(()=>{for(let Q=0;Q<this._dynamicKeybindings.length;Q++)if(this._dynamicKeybindings[Q]===X[0]){this._dynamicKeybindings.splice(Q,X.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const $=this._toNormalizedKeybindingItems(J4.getDefaultKeybindings(),!0),X=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new AU($,X,(Q)=>this._log(Q))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems($,X){const Q=[];let Y=0;for(let Z of $){const G=Z.when||void 0,q=Z.keybinding;if(!q)Q[Y++]=new cA(void 0,Z.command,Z.commandArgs,G,X,null,!1);else{const U=DU.resolveKeybinding(q,k6);for(let H of U)Q[Y++]=new cA(H,Z.command,Z.commandArgs,G,X,null,!1)}}return Q}resolveKeyboardEvent($){const X=new R5($.ctrlKey,$.shiftKey,$.altKey,$.metaKey,$.keyCode);return new DU([X],k6)}};sY=aY([o7(0,p0),o7(1,H7),o7(2,e9),o7(3,i7),o7(4,F7),o7(5,p1)],sY);ZE=class J{constructor($,X,Q){this.configurationService=$,this.modelService=X,this.languageService=Q,this._onDidChangeConfiguration=new E,this.configurationService.onDidChangeConfiguration((Y)=>{this._onDidChangeConfiguration.fire({affectedKeys:Y.affectedKeys,affectsConfiguration:(Z,G)=>Y.affectsConfiguration(G)})})}getValue($,X,Q){const Y=b.isIPosition(X)?X:null,Z=Y?typeof Q==="string"?Q:void 0:typeof X==="string"?X:void 0,G=$?this.getLanguage($,Y):void 0;if(typeof Z==="undefined")return this.configurationService.getValue({resource:$,overrideIdentifier:G});return this.configurationService.getValue(Z,{resource:$,overrideIdentifier:G})}getLanguage($,X){const Q=this.modelService.getModel($);if(Q)return X?Q.getLanguageIdAtPosition(X.lineNumber,X.column):Q.getLanguageId();return this.languageService.guessLanguageIdByFilepathOrFirstLine($)}};ZE=aY([o7(0,u1),o7(1,U7),o7(2,o1)],ZE);GE=class J{constructor($){this.configurationService=$}getEOL($,X){const Q=this.configurationService.getValue("files.eol",{overrideIdentifier:X,resource:$});if(Q&&typeof Q==="string"&&Q!=="auto")return Q;return q8||n0?"\n":"\r\n"}};GE=aY([o7(0,u1)],GE);ZW.SCHEME="inmemory";qE=class J{constructor($){this._modelService=$}hasPreviewHandler(){return!1}apply($,X){return oU(this,void 0,void 0,function*(){const Q=Array.isArray($)?$:QV.convert($),Y=new Map;for(let q of Q){if(!(q instanceof kY))throw new Error("bad edit - only text edits are supported");const U=this._modelService.getModel(q.resource);if(!U)throw new Error("bad edit - model not found");if(typeof q.versionId==="number"&&U.getVersionId()!==q.versionId)throw new Error("bad state - model changed in the meantime");let H=Y.get(U);if(!H)H=[],Y.set(U,H);H.push(m5.replaceMove(L.lift(q.textEdit.range),q.textEdit.text))}let Z=0,G=0;for(let[q,U]of Y)q.pushStackElement(),q.pushEditOperations([],U,()=>[]),q.pushStackElement(),G+=1,Z+=U.length;return{ariaSummary:SQ(iA.bulkEditServiceSummary,Z,G),isApplied:Z>0}})}};qE=aY([o7(0,U7)],qE);UE=class J extends nA{constructor($,X){super($);this._codeEditorService=X}showContextView($,X,Q){if(!X){const Y=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();if(Y)X=Y.getContainerDomNode()}return super.showContextView($,X,Q)}};UE=aY([o7(0,IJ),o7(1,p1)],UE);HE=class J extends NP{constructor($,X,Q,Y,Z,G){super($,X,Q,Y,Z,G);this.configure({blockMouse:!1})}};HE=aY([o7(0,e9),o7(1,i7),o7(2,GQ),o7(3,a7),o7(4,BX),o7(5,p0)],HE);F1(u1,zE,0);F1(bF,ZE,0);F1(vF,GE,0);F1(VV,ZW,0);F1(UV,vi,0);F1(e9,bi,0);F1(kA,Ci,0);F1(FU,Si,0);F1(i7,YW,0);F1(T4,BQ,0);F1(o1,hi,0);F1(A9,ak,0);F1(F7,gi,0);F1(U7,_V,0);F1(tF,wP,0);F1(p0,DD,0);F1(rl,yi,0);F1(YQ,OD,0);F1(N4,vI,0);F1(U5,pF,0);F1(Sl,qE,0);F1(Ud,fi,0);F1(HX,QE,0);F1(f5,jD,0);F1(k4,Ok,0);F1(H7,YE,0);F1(a7,sY,0);F1(tP,UD,0);F1(GQ,UE,0);F1(IY,_P,0);F1(lY,PD,0);F1(f$,HE,0);F1(BX,FD,0);F1(dY,pi,0);(function(J){const $=new eX;for(let[U,H]of RO())$.set(U,H);const X=new XW($,!0);$.set(G1,X);function Q(U){if(!Y)G({});const H=$.get(U);if(!H)throw new Error("Missing service "+U);if(H instanceof X5)return X.invokeFunction((z)=>z.get(U));else return H}J.get=Q;let Y=!1;const Z=new E;function G(U){if(Y)return X;Y=!0;for(let[z,V]of RO())if(!$.get(z))$.set(z,V);for(let z in U)if(U.hasOwnProperty(z)){const V=O0(z);if($.get(V)instanceof X5)$.set(V,U[z])}const H=Li();for(let z of H)try{X.createInstance(z)}catch(V){a0(V)}return Z.fire(),X}J.initialize=G;function q(U){if(Y)return U();const H=new e,z=H.add(Z.event(()=>{z.dispose(),H.add(U())}));return H}J.withServices=q})(S0||(S0={}))});function ui(J){mi=J}function c5(){return mi}class VE{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(J){return v40([tU(g40("|  ",this.indentation)),J])}formatInfo(J){if(!J.hadValue)return[tU(" "),y4(UW(J.newValue,60),{color:"green"}),tU(" (initial)")];return J.didChange?[tU(" "),y4(UW(J.oldValue,70),{color:"red",strikeThrough:!0}),tU(" "),y4(UW(J.newValue,60),{color:"green"})]:[tU(" (unchanged)")]}handleObservableChanged(J,$){console.log(...this.textToConsoleArgs([qW("observable value changed"),y4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($)]))}formatChanges(J){if(J.size===0)return;return y4(" (changed deps: "+[...J].map(($)=>$.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(J){const $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(X,Q)=>{return this.changedObservablesSets.get(J).add(X),$.apply(J,[X,Q])}}handleDerivedRecomputed(J,$){const X=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([qW("derived recomputed"),y4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),this.formatChanges(X),{data:[{fn:J._computeFn}]}])),X.clear()}handleFromEventObservableTriggered(J,$){console.log(...this.textToConsoleArgs([qW("observable from event triggered"),y4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),{data:[{fn:J._getValue}]}]))}handleAutorunCreated(J){const $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(X,Q)=>{return this.changedObservablesSets.get(J).add(X),$.apply(J,[X,Q])}}handleAutorunTriggered(J){const $=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([qW("autorun"),y4(J.debugName,{color:"BlueViolet"}),this.formatChanges($),{data:[{fn:J._runFn}]}])),$.clear(),this.indentation++}handleAutorunFinished(J){this.indentation--}handleBeginTransaction(J){let $=J.getDebugName();if($===void 0)$="";console.log(...this.textToConsoleArgs([qW("transaction"),y4($,{color:"BlueViolet"}),{data:[{fn:J._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}var v40,tU,qW,y4,UW,f40,h40,g40,p40,mi;var eU=N(()=>{v40=function(J){const $=new Array,X=[];let Q="";function Y(G){if("length"in G){for(let q of G)if(q)Y(q)}else if("text"in G){if(Q+=`%c${G.text}`,$.push(G.style),G.data)X.push(...G.data)}else if("data"in G)X.push(...G.data)}Y(J);const Z=[Q,...$];return Z.push(...X),Z},tU=function(J){return y4(J,{color:"black"})},qW=function(J){return y4(p40(`${J}: `,10),{color:"black",bold:!0})},y4=function(J,$={color:"black"}){function X(Y){return Object.entries(Y).reduce((Z,[G,q])=>{return`${Z}${G}:${q};`},"")}const Q={color:$.color};if($.strikeThrough)Q["text-decoration"]="line-through";if($.bold)Q["font-weight"]="bold";return{text:J,style:X(Q)}},UW=function(J,$){switch(typeof J){case"number":return""+J;case"string":if(J.length+2<=$)return`"${J}"`;return`"${J.substr(0,$-7)}"+...`;case"boolean":return J?"true":"false";case"undefined":return"undefined";case"object":if(J===null)return"null";if(Array.isArray(J))return f40(J,$);return h40(J,$);case"symbol":return J.toString();case"function":return`[[Function${J.name?" "+J.name:""}]]`;default:return""+J}},f40=function(J,$){let X="[ ",Q=!0;for(let Y of J){if(!Q)X+=", ";if(X.length-5>$){X+="...";break}Q=!1,X+=`${UW(Y,$-X.length)}`}return X+=" ]",X},h40=function(J,$){let X="{ ",Q=!0;for(let[Y,Z]of Object.entries(J)){if(!Q)X+=", ";if(X.length-5>$){X+="...";break}Q=!1,X+=`${Y}: ${UW(Z,$-X.length)}`}return X+=" }",X},g40=function(J,$){let X="";for(let Q=1;Q<=$;Q++)X+=J;return X},p40=function(J,$){while(J.length<$)J+=" ";return J}});function li(J){ci=J}function p8(J,$){const X=new jE(J,$);try{J(X)}finally{X.finish()}}function BE(J,$,X){if(!J)p8($,X);else $(J)}function HW(J,$,X,Q){let Y;if(J!==void 0)if(typeof J==="function"){if(Y=J(),Y!==void 0)return Y}else return J;if($!==void 0){if(Y=l$($),Y!==void 0)return Y}if(X!==void 0){for(let Z in X)if(X[Z]===Q)return Z}return}function l$(J){const $=J.toString(),Q=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),Y=Q?Q[1]:void 0;return Y===null||Y===void 0?void 0:Y.trim()}function h1(J,$){if(typeof J==="string")return new TD(void 0,J,$);else return new TD(J,void 0,$)}function FE(J,$){if(typeof J==="string")return new WE(void 0,J,$);else return new WE(J,void 0,$)}class _D{get TChange(){return null}reportChanges(){this.get()}read(J){if(J)return J.readObservable(this);else return this.get()}map(J,$){const X=$===void 0?void 0:J,Q=$===void 0?J:$;return ci({owner:X,debugName:()=>{const Y=l$(Q);if(Y!==void 0)return Y;const G=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(Q.toString());if(G)return`${this.debugName}.${G[2]}`;if(!X)return`${this.debugName} (mapped)`;return}},(Y)=>Q(this.read(Y),Y))}}class rY extends _D{constructor(){super(...arguments);this.observers=new Set}addObserver(J){const $=this.observers.size;if(this.observers.add(J),$===0)this.onFirstObserverAdded()}removeObserver(J){if(this.observers.delete(J)&&this.observers.size===0)this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}class jE{constructor(J,$){var X;this._fn=J,this._getDebugName=$,this.updatingObservers=[],(X=c5())===null||X===void 0||X.handleBeginTransaction(this)}getDebugName(){if(this._getDebugName)return this._getDebugName();return l$(this._fn)}updateObserver(J,$){this.updatingObservers.push({observer:J,observable:$}),J.beginUpdate($)}finish(){var J;const $=this.updatingObservers;this.updatingObservers=null;for(let{observer:X,observable:Q}of $)X.endUpdate(Q);(J=c5())===null||J===void 0||J.handleEndTransaction()}}class TD extends rY{get debugName(){var J;return(J=HW(this._debugName,void 0,this._owner,this))!==null&&J!==void 0?J:"ObservableValue"}constructor(J,$,X){super();this._owner=J,this._debugName=$,this._value=X}get(){return this._value}set(J,$,X){var Q;if(this._value===J)return;let Y;if(!$)$=Y=new jE(()=>{},()=>`Setting ${this.debugName}`);try{const Z=this._value;this._setValue(J),(Q=c5())===null||Q===void 0||Q.handleObservableChanged(this,{oldValue:Z,newValue:J,change:X,didChange:!0,hadValue:!0});for(let G of this.observers)$.updateObserver(G,this),G.handleChange(this,X)}finally{if(Y)Y.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(J){this._value=J}}class WE extends TD{_setValue(J){if(this._value===J)return;if(this._value)this._value.dispose();this._value=J}dispose(){var J;(J=this._value)===null||J===void 0||J.dispose()}}var ci;var zW=N(()=>{eU()});function K1(J,$){if($!==void 0)return new wD(J,void 0,$,void 0,void 0,void 0,KE);return new wD(void 0,void 0,J,void 0,void 0,void 0,KE)}function d$(J,$){let X,Q;if($===void 0)X=J,Q=void 0;else Q=J,X=$;const Y=new e;return new wD(Q,()=>{var Z;return(Z=l$(X))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{return Y.clear(),X(Z,Y)},void 0,void 0,()=>Y.dispose(),KE)}class wD extends rY{get debugName(){var J;return(J=HW(this._debugName,this._computeFn,this._owner,this))!==null&&J!==void 0?J:"(anonymous)"}constructor(J,$,X,Q,Y,Z=void 0,G){var q,U;super();this._owner=J,this._debugName=$,this._computeFn=X,this.createChangeSummary=Q,this._handleChange=Y,this._handleLastObserverRemoved=Z,this._equalityComparator=G,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(q=this.createChangeSummary)===null||q===void 0?void 0:q.call(this),(U=c5())===null||U===void 0||U.handleDerivedCreated(this)}onLastObserverRemoved(){var J;this.state=0,this.value=void 0;for(let $ of this.dependencies)$.removeObserver(this);this.dependencies.clear(),(J=this._handleLastObserverRemoved)===null||J===void 0||J.call(this)}get(){var J;if(this.observers.size===0){const $=this._computeFn(this,(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this));return this.onLastObserverRemoved(),$}else{do{if(this.state===1){for(let $ of this.dependencies)if($.reportChanges(),this.state===2)break}if(this.state===1)this.state=3;this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var J,$;if(this.state===3)return;const X=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=X;const Q=this.state!==0,Y=this.value;this.state=3;const Z=this.changeSummary;this.changeSummary=(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this);try{this.value=this._computeFn(this,Z)}finally{for(let q of this.dependenciesToBeRemoved)q.removeObserver(this);this.dependenciesToBeRemoved.clear()}const G=Q&&!this._equalityComparator(Y,this.value);if(($=c5())===null||$===void 0||$.handleDerivedRecomputed(this,{oldValue:Y,newValue:this.value,change:void 0,didChange:G,hadValue:Q}),G)for(let q of this.observers)q.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(J){this.updateCount++;const $=this.updateCount===1;if(this.state===3){if(this.state=1,!$)for(let X of this.observers)X.handlePossibleChange(this)}if($)for(let X of this.observers)X.beginUpdate(this)}endUpdate(J){if(this.updateCount--,this.updateCount===0){const $=[...this.observers];for(let X of $)X.endUpdate(this)}if(this.updateCount<0)throw new n1}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){this.state=1;for(let $ of this.observers)$.handlePossibleChange(this)}}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){const X=this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Y)=>Y===J},this.changeSummary):!0,Q=this.state===3;if(X&&(this.state===1||Q)){if(this.state=2,Q)for(let Y of this.observers)Y.handlePossibleChange(this)}}}readObservable(J){J.addObserver(this);const $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}addObserver(J){const $=!this.observers.has(J)&&this.updateCount>0;if(super.addObserver(J),$)J.beginUpdate(this)}removeObserver(J){const $=this.observers.has(J)&&this.updateCount>0;if(super.removeObserver(J),$)J.endUpdate(this)}}var KE;var di=N(()=>{A1();$0();zW();eU();KE=(J,$)=>J===$;li(K1)});function LD(J,$){return new VW(J.debugName,$,void 0,void 0)}function c1(J){return new VW(void 0,J,void 0,void 0)}function iY(J,$){return new VW(J.debugName,$,J.createEmptyChangeSummary,J.handleChange)}function x7(J){const $=new e,X=LD({debugName:()=>l$(J)||"(anonymous)"},(Q)=>{$.clear(),J(Q,$)});return N0(()=>{X.dispose(),$.dispose()})}class VW{get debugName(){if(typeof this._debugName==="string")return this._debugName;if(typeof this._debugName==="function"){const $=this._debugName();if($!==void 0)return $}const J=l$(this._runFn);if(J!==void 0)return J;return"(anonymous)"}constructor(J,$,X,Q){var Y,Z;this._debugName=J,this._runFn=$,this.createChangeSummary=X,this._handleChange=Q,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(Z=c5())===null||Z===void 0||Z.handleAutorunCreated(this),this._runIfNeeded(),DZ(this)}dispose(){this.disposed=!0;for(let J of this.dependencies)J.removeObserver(this);this.dependencies.clear(),RZ(this)}_runIfNeeded(){var J,$,X;if(this.state===3)return;const Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q,this.state=3;try{if(!this.disposed){(J=c5())===null||J===void 0||J.handleAutorunTriggered(this);const Y=this.changeSummary;this.changeSummary=($=this.createChangeSummary)===null||$===void 0?void 0:$.call(this),this._runFn(this,Y)}}finally{(X=c5())===null||X===void 0||X.handleAutorunFinished(this);for(let Y of this.dependenciesToBeRemoved)Y.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){if(this.state===3)this.state=1;this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let J of this.dependencies)if(J.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,xQ(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J))this.state=1}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){if(this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Q)=>Q===J},this.changeSummary):!0)this.state=2}}readObservable(J){if(this.disposed)return J.get();J.addObserver(this);const $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}}var AE=N(()=>{bQ();$0();zW();eU();(function(J){J.Observer=VW})(c1||(c1={}))});function ID(J){return new si(J)}function DE(J,$){return new Promise((X)=>{let Q=!1,Y=!1;const Z=c1((G)=>{const q=J.read(G);if($(q)){if(!Q)Y=!0;else Z.dispose();X(q)}});if(Q=!0,Y)Z.dispose()})}function t7(J,$){return new RE(J,$)}function _6(J,$){return new ai(J,$)}function ME(J){if(typeof J==="string")return new PE(J);else return new PE(void 0,J)}function nY(J){const $=new ri(!0);return J.addObserver($),J.reportChanges(),N0(()=>{J.removeObserver($)})}class si extends _D{constructor(J){super();this.value=J}get debugName(){return this.toString()}get(){return this.value}addObserver(J){}removeObserver(J){}toString(){return`Const: ${this.value}`}}class RE extends rY{constructor(J,$){super();this.event=J,this._getValue=$,this.hasValue=!1,this.handleEvent=(X)=>{var Q;const Y=this._getValue(X),Z=!this.hasValue||this.value!==Y;if((Q=c5())===null||Q===void 0||Q.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:Y,change:void 0,didChange:Z,hadValue:this.hasValue}),Z){if(this.value=Y,this.hasValue)p8((G)=>{for(let q of this.observers)G.updateObserver(q,this),q.handleChange(this,void 0)},()=>{const G=this.getDebugName();return"Event fired"+(G?`: ${G}`:"")});this.hasValue=!0}}}getDebugName(){return l$(this._getValue)}get debugName(){const J=this.getDebugName();return"From Event"+(J?`: ${J}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){if(this.subscription){if(!this.hasValue)this.handleEvent(void 0);return this.value}else return this._getValue(void 0)}}class ai extends rY{constructor(J,$){super();this.debugName=J,this.event=$,this.handleEvent=()=>{p8((X)=>{for(let Q of this.observers)X.updateObserver(Q,this),Q.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}class PE extends rY{get debugName(){var J;return(J=HW(this._debugName,void 0,this._owner,this))!==null&&J!==void 0?J:"Observable Signal"}constructor(J,$){super();this._debugName=J,this._owner=$}trigger(J,$){if(!J){p8((X)=>{this.trigger(X,$)},()=>`Trigger signal ${this.debugName}`);return}for(let X of this.observers)J.updateObserver(X,this),X.handleChange(this,$)}get(){}}class ri{constructor(J){this.forceRecompute=J,this.counter=0}beginUpdate(J){this.counter++}endUpdate(J){if(this.counter--,this.counter===0&&this.forceRecompute)J.reportChanges()}handlePossibleChange(J){}handleChange(J,$){}}var ii=N(()=>{$0();AE();zW();eU();(function(J){J.Observer=RE})(t7||(t7={}))});var m40;var H5=N(()=>{zW();di();AE();ii();eU();m40=!1;if(m40)ui(new VE)});var ni=N(()=>{j1();F0(".monaco-editor .diff-hidden-lines-widget{width:100%}.monaco-editor .diff-hidden-lines{height:0;font-size:13px;line-height:14px;transform:translateY(-10px)}.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,.monaco-editor .diff-hidden-lines .top.dragging,.monaco-editor .diff-hidden-lines .bottom.dragging{background-color:var(--vscode-focusBorder)}.monaco-editor .diff-hidden-lines .top,.monaco-editor .diff-hidden-lines .bottom{cursor:ns-resize;background-color:#0000;background-clip:padding-box;border-top:4px solid #0000;border-bottom:2px solid #0000;height:4px;transition:background-color .1s ease-out}.monaco-editor .diff-hidden-lines .top{transform:translateY(4px)}.monaco-editor .diff-hidden-lines .bottom{transform:translateY(-6px)}.monaco-editor .diff-unchanged-lines{background:var(--vscode-diffEditor-unchangedCodeBackground)}.monaco-editor .noModificationsOverlay{z-index:1;background:var(--vscode-editor-background);justify-content:center;align-items:center;display:flex}.monaco-editor .diff-hidden-lines .center{background:var(--vscode-diffEditor-unchangedRegionBackground);color:var(--vscode-diffEditor-unchangedRegionForeground);text-overflow:ellipsis;white-space:nowrap;height:24px;display:block;overflow:hidden}.monaco-editor .diff-hidden-lines .center span.codicon{vertical-align:middle}.monaco-editor .diff-hidden-lines .center a:hover .codicon{cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .diff-hidden-lines div.breadcrumb-item{cursor:pointer}.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover{color:var(--vscode-editorLink-activeForeground)}.monaco-editor .movedOriginal,.monaco-editor .movedModified{border:2px solid var(--vscode-diffEditor-move-border)}.monaco-editor .movedOriginal.currentMove,.monaco-editor .movedModified.currentMove{border:2px solid var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path.currentMove{stroke:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path{pointer-events:visiblestroke}.monaco-diff-editor .moved-blocks-lines .arrow{fill:var(--vscode-diffEditor-move-border)}.monaco-diff-editor .moved-blocks-lines .arrow.currentMove{fill:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines .arrow-rectangle{fill:var(--vscode-editor-background)}.monaco-diff-editor .moved-blocks-lines{pointer-events:none;position:absolute}.monaco-diff-editor .moved-blocks-lines path{fill:none;stroke:var(--vscode-diffEditor-move-border);stroke-width:2px}.monaco-editor .char-delete.diff-range-empty{border-left:solid var(--vscode-diffEditor-removedTextBackground)3px;margin-left:-1px}.monaco-editor .char-insert.diff-range-empty{border-left:solid var(--vscode-diffEditor-insertedTextBackground)3px}.monaco-editor .fold-unchanged{cursor:pointer}.monaco-diff-editor .diff-moved-code-block{justify-content:flex-end;margin-top:-4px;display:flex}.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon{width:12px;height:12px;font-size:12px}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:#00000008}.monaco-diff-editor.vs-dark .diffOverview{background:#ffffff03}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light .scrollbar{background:0 0}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:#ababab66}.modified-in-monaco-diff-editor.hc-black .slider.active,.modified-in-monaco-diff-editor.hc-light .slider.active{background:0 0}.monaco-editor .insert-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-diff-editor .delete-sign{align-items:center;opacity:.7!important;font-size:11px!important;display:flex!important}.monaco-editor.hc-black .insert-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .delete-sign,.monaco-editor.hc-light .insert-sign,.monaco-diff-editor.hc-light .insert-sign,.monaco-editor.hc-light .delete-sign,.monaco-diff-editor.hc-light .delete-sign{opacity:1}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .inline-added-margin-view-zone{text-align:right}.monaco-editor .arrow-revert-change{z-index:10;position:absolute}.monaco-editor .arrow-revert-change:hover{cursor:pointer}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-editor .char-insert,.monaco-diff-editor .char-insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-editor .line-insert,.monaco-diff-editor .line-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .line-insert,.monaco-editor .char-insert{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-insertedTextBorder)}.monaco-editor.hc-black .line-insert,.monaco-editor.hc-light .line-insert,.monaco-editor.hc-black .char-insert,.monaco-editor.hc-light .char-insert{border-style:dashed}.monaco-editor .line-delete,.monaco-editor .char-delete{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-removedTextBorder)}.monaco-editor.hc-black .line-delete,.monaco-editor.hc-light .line-delete,.monaco-editor.hc-black .char-delete,.monaco-editor.hc-light .char-delete{border-style:dashed}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .gutter-insert,.monaco-diff-editor .gutter-insert{background-color:var(--vscode-diffEditorGutter-insertedLineBackground,var(--vscode-diffEditor-insertedLineBackground),var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .char-delete,.monaco-diff-editor .char-delete{background-color:var(--vscode-diffEditor-removedTextBackground)}.monaco-editor .line-delete,.monaco-diff-editor .line-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .gutter-delete,.monaco-diff-editor .gutter-delete{background-color:var(--vscode-diffEditorGutter-removedLineBackground,var(--vscode-diffEditor-removedLineBackground),var(--vscode-diffEditor-removedTextBackground))}.monaco-diff-editor.side-by-side .editor.modified{box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);border-left:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor .diffViewport{background:var(--vscode-scrollbarSlider-background)}.monaco-diff-editor .diffViewport:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-diff-editor .diffViewport:active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .diagonal-fill{background-image:linear-gradient(-45deg,var(--vscode-diffEditor-diagonalFill)12.5%,#0000 12.5%,#0000 50%,var(--vscode-diffEditor-diagonalFill)50%,var(--vscode-diffEditor-diagonalFill)62.5%,#0000 62.5%,#0000 100%);background-size:8px 8px}")});function OE(){return!!MB.VSCODE_DEV}function oi(J){if(!OE())return{dispose(){}};else{const $=u40();return $.add(J),{dispose(){$.delete(J)}}}}var u40,kD;var ti=N(()=>{eR();u40=function(){if(!kD)kD=new Set;const J=globalThis;if(!J.$hotReload_applyNewExports)J.$hotReload_applyNewExports=($)=>{for(let X of kD){const Q=X($);if(Q)return Q}return};return kD},kD=void 0});function ei(J,$,X,Q){if(J.length===0)return $;if($.length===0)return J;const Y=[];let Z=0,G=0;while(Z<J.length&&G<$.length){const q=J[Z],U=$[G],H=X(q),z=X(U);if(H<z)Y.push(q),Z++;else if(H>z)Y.push(U),G++;else Y.push(Q(q,U)),Z++,G++}while(Z<J.length)Y.push(J[Z]),Z++;while(G<$.length)Y.push($[G]),G++;return Y}function J3(J,$){const X=new e,Q=J.createDecorationsCollection();return X.add(LD({debugName:()=>`Apply decorations from ${$.debugName}`},(Y)=>{const Z=$.read(Y);Q.set(Z)})),X.add({dispose:()=>{Q.clear()}}),X}function WW(J,$){return J.appendChild($),N0(()=>{J.removeChild($)})}function TE(J,$){let X=J.get(),Q=X,Y=X;const Z=h1("animatedValue",X);let G=-1;const q=300;let U=void 0;$.add(iY({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(z,V)=>{if(z.didChange(J))V.animate=V.animate||z.change;return!0}},(z,V)=>{if(U!==void 0)cancelAnimationFrame(U),U=void 0;Q=Y,X=J.read(z),G=Date.now()-(V.animate?0:q),H()}));function H(){const z=Date.now()-G;if(Y=Math.floor(c40(z,Q,X-Q,q)),z<q)U=requestAnimationFrame(H);else Y=X;Z.set(Y,void 0)}return Z}function CJ(J,$){return c1((X)=>{for(let[Q,Y]of Object.entries($)){if(Y&&typeof Y==="object"&&"read"in Y)Y=Y.read(X);if(typeof Y==="number")Y=`${Y}px`;Q=Q.replace(/[A-Z]/g,(Z)=>"-"+Z.toLowerCase()),J.style[Q]=Y}})}function s$(J,$){return l40([J],$),J}function l40(J,$){if(OE())_6("reload",(Q)=>oi((Y)=>{if(![...Object.values(Y)].some((Z)=>J.includes(Z)))return;return(Z)=>{return Q(void 0),!0}})).read($)}function $3(J,$,X){const Q=new e,Y=[];return Q.add(c1((Z)=>{const G=$.read(Z),q=new Map,U=new Map;if(X)X(!0);if(J.changeViewZones((H)=>{for(let z of Y)H.removeZone(z);Y.length=0;for(let z of G){const V=H.addZone(z);Y.push(V),q.set(z,V)}}),X)X(!1);Q.add(iY({createEmptyChangeSummary(){return[]},handleChange(H,z){const V=U.get(H.changedObservable);if(V!==void 0)z.push(V);return!0}},(H,z)=>{for(let V of G)if(V.onChange)U.set(V.onChange,q.get(V)),V.onChange.read(H);if(X)X(!0);if(J.changeViewZones((V)=>{for(let W of z)V.layoutZone(W)}),X)X(!1)}))})),Q.add({dispose(){if(X)X(!0);if(J.changeViewZones((Z)=>{for(let G of Y)Z.removeZone(G)}),X)X(!1)}}),Q}class NE extends f{get width(){return this._width}get height(){return this._height}constructor(J,$){super();this.elementSizeObserver=this._register(new aH(J,$)),this._width=h1(this,this.elementSizeObserver.getWidth()),this._height=h1(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((X)=>p8((Q)=>{this._width.set(this.elementSizeObserver.getWidth(),Q),this._height.set(this.elementSizeObserver.getHeight(),Q)})))}observe(J){this.elementSizeObserver.observe(J)}setAutomaticLayout(J){if(J)this.elementSizeObserver.startObserving();else this.elementSizeObserver.stopObserving()}}class BW extends f{constructor(J,$,X){super();this._register(new ED(J,X)),this._register(CJ(X,{height:$.actualHeight,top:$.actualTop}))}}class j2{get afterLineNumber(){return this._afterLineNumber.get()}constructor(J,$){this._afterLineNumber=J,this.heightInPx=$,this.domNode=document.createElement("div"),this._actualTop=h1(this,void 0),this._actualHeight=h1(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=(X)=>{this._actualTop.set(X,void 0)},this.onComputedHeight=(X)=>{this._actualHeight.set(X,void 0)}}}class ED{constructor(J,$){this._editor=J,this._domElement=$,this._overlayWidgetId=`managedOverlayWidget-${ED._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}class _E extends u8{dispose(){super.dispose(!0)}}var c40;var jQ=N(()=>{v7();ti();$0();H5();TN();c40=function(J,$,X,Q){return J===Q?$+X:X*(-Math.pow(2,-10*J/Q)+1)+$};ED._counter=0});var Jn=N(()=>{j1();F0(".monaco-diff-editor .diff-review-line-number{text-align:right;color:var(--vscode-editorLineNumber-foreground);display:inline-block}.monaco-diff-editor .diff-review{-webkit-user-select:none;user-select:none;z-index:99;position:absolute}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 -6px 6px -6px inset;position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{min-width:100%;display:table}.monaco-diff-editor .diff-review-row{width:100%;display:table-row}.monaco-diff-editor .diff-review-spacer{vertical-align:middle;width:10px;display:inline-block}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{z-index:100;display:inline-block;position:absolute;top:2px;right:10px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}")});class $n{constructor(J,$){this.range=J,this.lines=$}}class Xn{constructor(){this.type=Y9.Header}}class Qn{constructor(J,$){this.diff=J,this.originalLineNumber=$,this.type=Y9.Deleted,this.modifiedLineNumber=void 0}}class Yn{constructor(J,$){this.diff=J,this.modifiedLineNumber=$,this.type=Y9.Added,this.originalLineNumber=void 0}}class Zn{constructor(J,$){this.originalLineNumber=J,this.modifiedLineNumber=$,this.type=Y9.Unchanged}}var i40,IE,kE,d40,s40,a40,r40,FQ,wE,jW,Y9,LE;var Gn=N(()=>{y0();pQ();zQ();hX();T9();V1();h7();$0();H5();k7();YJ();jQ();F6();Q5();DJ();W1();u0();rQ();E5();wX();Kq();MJ();m0();QW();e0();aU();Jn();i40=function(J,$,X){const Q=[];for(let Y of $B(J,(Z,G)=>G.modified.startLineNumber-Z.modified.endLineNumberExclusive<2*jW)){const Z=[];Z.push(new Xn);const G=new v0(Math.max(1,Y[0].original.startLineNumber-jW),Math.min(Y[Y.length-1].original.endLineNumberExclusive+jW,$+1)),q=new v0(Math.max(1,Y[0].modified.startLineNumber-jW),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+jW,X+1));XB(Y,(z,V)=>{const W=new v0(z?z.original.endLineNumberExclusive:G.startLineNumber,V?V.original.startLineNumber:G.endLineNumberExclusive),B=new v0(z?z.modified.endLineNumberExclusive:q.startLineNumber,V?V.modified.startLineNumber:q.endLineNumberExclusive);if(W.forEach((j)=>{Z.push(new Zn(j,B.startLineNumber+(j-W.startLineNumber)))}),V)V.original.forEach((j)=>{Z.push(new Qn(V,j))}),V.modified.forEach((j)=>{Z.push(new Yn(V,j))})});const U=Y[0].modified.join(Y[Y.length-1].modified),H=Y[0].original.join(Y[Y.length-1].original);Q.push(new $n(new C5(U,H),Z))}return Q},IE=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},kE=function(J,$){return function(X,Q){$(X,Q,J)}},d40=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},s40=Q9("diff-review-insert",z0.add,F("accessibleDiffViewerInsertIcon","Icon for \'Insert\' in accessible diff viewer.")),a40=Q9("diff-review-remove",z0.remove,F("accessibleDiffViewerRemoveIcon","Icon for \'Remove\' in accessible diff viewer.")),r40=Q9("diff-review-close",z0.close,F("accessibleDiffViewerCloseIcon","Icon for \'Close\' in accessible diff viewer.")),FQ=class J extends f{constructor($,X,Q,Y,Z,G,q,U,H){super();this._parentNode=$,this._visible=X,this._setVisible=Q,this._canClose=Y,this._width=Z,this._height=G,this._diffs=q,this._editors=U,this._instantiationService=H,this.model=d$(this,(z,V)=>{const W=this._visible.read(z);if(this._parentNode.style.visibility=W?"visible":"hidden",!W)return null;const B=V.add(this._instantiationService.createInstance(wE,this._diffs,this._editors,this._setVisible,this._canClose)),j=V.add(this._instantiationService.createInstance(LE,this._parentNode,B,this._width,this._height,this._editors));return{model:B,view:j}}),this._register(nY(this.model))}next(){p8(($)=>{const X=this._visible.get();if(this._setVisible(!0,$),X)this.model.get().model.nextGroup($)})}prev(){p8(($)=>{this._setVisible(!0,$),this.model.get().model.previousGroup($)})}close(){p8(($)=>{this._setVisible(!1,$)})}};FQ._ttPolicy=$5("diffReview",{createHTML:(J)=>J});FQ=IE([kE(8,G1)],FQ);wE=class J extends f{constructor($,X,Q,Y,Z){super();this._diffs=$,this._editors=X,this._setVisible=Q,this.canClose=Y,this._audioCueService=Z,this._groups=h1(this,[]),this._currentGroupIdx=h1(this,0),this._currentElementIdx=h1(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((G,q)=>this._groups.read(q)[G]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((G,q)=>{var U;return(U=this.currentGroup.read(q))===null||U===void 0?void 0:U.lines[G]}),this._register(c1((G)=>{const q=this._diffs.read(G);if(!q){this._groups.set([],void 0);return}const U=i40(q,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());p8((H)=>{const z=this._editors.modified.getPosition();if(z){const V=U.findIndex((W)=>(z===null||z===void 0?void 0:z.lineNumber)<W.range.modified.endLineNumberExclusive);if(V!==-1)this._currentGroupIdx.set(V,H)}this._groups.set(U,H)})})),this._register(c1((G)=>{const q=this.currentElement.read(G);if((q===null||q===void 0?void 0:q.type)===Y9.Deleted)this._audioCueService.playAudioCue(R1.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"});else if((q===null||q===void 0?void 0:q.type)===Y9.Added)this._audioCueService.playAudioCue(R1.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(c1((G)=>{var q;const U=this.currentElement.read(G);if(U&&U.type!==Y9.Header){const H=(q=U.modifiedLineNumber)!==null&&q!==void 0?q:U.diff.modified.startLineNumber;this._editors.modified.setSelection(L.fromPositions(new b(H,1)))}}))}_goToGroupDelta($,X){const Q=this.groups.get();if(!Q||Q.length<=1)return;BE(X,(Y)=>{this._currentGroupIdx.set(i0.ofLength(Q.length).clipCyclic(this._currentGroupIdx.get()+$),Y),this._currentElementIdx.set(0,Y)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){const X=this.currentGroup.get();if(!X||X.lines.length<=1)return;p8((Q)=>{this._currentElementIdx.set(i0.ofLength(X.lines.length).clip(this._currentElementIdx.get()+$),Q)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){const X=this.currentGroup.get();if(!X)return;const Q=X.lines.indexOf($);if(Q===-1)return;p8((Y)=>{this._currentElementIdx.set(Q,Y)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const $=this.currentElement.get();if($)if($.type===Y9.Deleted)this._editors.original.setSelection(L.fromPositions(new b($.originalLineNumber,1))),this._editors.original.revealLine($.originalLineNumber),this._editors.original.focus();else{if($.type!==Y9.Header)this._editors.modified.setSelection(L.fromPositions(new b($.modifiedLineNumber,1))),this._editors.modified.revealLine($.modifiedLineNumber);this._editors.modified.focus()}}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};wE=IE([kE(4,dY)],wE);jW=3;(function(J){J[J.Header=0]="Header",J[J.Unchanged=1]="Unchanged",J[J.Deleted=2]="Deleted",J[J.Added=3]="Added"})(Y9||(Y9={}));LE=class J extends f{constructor($,X,Q,Y,Z,G){super();this._element=$,this._model=X,this._width=Q,this._height=Y,this._editors=Z,this._languageService=G,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const q=document.createElement("div");q.className="diff-review-actions",this._actionBar=this._register(new m6(q)),this._register(c1((U)=>{if(this._actionBar.clear(),this._model.canClose.read(U))this._actionBar.push(new i6("diffreview.close",F("label.close","Close"),"close-diff-review "+C0.asClassName(r40),!0,()=>d40(this,void 0,void 0,function*(){return X.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new DG(this._content,{})),e8(this.domNode,this._scrollbar.getDomNode(),q),this._register(N0(()=>{e8(this.domNode)})),this._register(CJ(this.domNode,{width:this._width,height:this._height})),this._register(CJ(this._content,{width:this._width,height:this._height})),this._register(x7((U,H)=>{this._model.currentGroup.read(U),this._render(H)})),this._register(X8(this.domNode,"keydown",(U)=>{if(U.equals(18)||U.equals(2048|18)||U.equals(512|18))U.preventDefault(),this._model.goToNextLine();if(U.equals(16)||U.equals(2048|16)||U.equals(512|16))U.preventDefault(),this._model.goToPreviousLine();if(U.equals(9)||U.equals(2048|9)||U.equals(512|9)||U.equals(1024|9))U.preventDefault(),this._model.close();if(U.equals(10)||U.equals(3))U.preventDefault(),this._model.revealCurrentElementInEditor()}))}_render($){const X=this._editors.original.getOptions(),Q=this._editors.modified.getOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",F("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),O8(Y,Q.get(50)),e8(this._content,Y);const Z=this._editors.original.getModel(),G=this._editors.modified.getModel();if(!Z||!G)return;const q=Z.getOptions(),U=G.getOptions(),H=Q.get(66),z=this._model.currentGroup.get();for(let V of(z===null||z===void 0?void 0:z.lines)||[]){if(!z)break;let W;if(V.type===Y9.Header){const j=document.createElement("div");j.className="diff-review-row",j.setAttribute("role","listitem");const K=z.range,D=this._model.currentGroupIndex.get(),A=this._model.groups.get().length,P=(_)=>_===0?F("no_lines_changed","no lines changed"):_===1?F("one_line_changed","1 line changed"):F("more_lines_changed","{0} lines changed",_),R=P(K.original.length),M=P(K.modified.length);j.setAttribute("aria-label",F({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",D+1,A,K.original.startLineNumber,R,K.modified.startLineNumber,M));const T=document.createElement("div");T.className="diff-review-cell diff-review-summary",T.appendChild(document.createTextNode(`${D+1}/${A}: @@ -${K.original.startLineNumber},${K.original.length} +${K.modified.startLineNumber},${K.modified.length} @@`)),j.appendChild(T),W=j}else W=this._createRow(V,H,this._width.get(),X,Z,q,Q,G,U);Y.appendChild(W);const B=K1((j)=>this._model.currentElement.read(j)===V);$.add(c1((j)=>{const K=B.read(j);if(W.tabIndex=K?0:-1,K)W.focus()})),$.add(l(W,"focus",()=>{this._model.goToLine(V)}))}this._scrollbar.scanDomNode()}_createRow($,X,Q,Y,Z,G,q,U,H){const z=Y.get(143),V=z.glyphMarginWidth+z.lineNumbersWidth,W=q.get(143),B=10+W.glyphMarginWidth+W.lineNumbersWidth;let j="diff-review-row",K="";const D="diff-review-spacer";let A=null;switch($.type){case Y9.Added:j="diff-review-row line-insert",K=" char-insert",A=s40;break;case Y9.Deleted:j="diff-review-row line-delete",K=" char-delete",A=a40;break}const P=document.createElement("div");P.style.minWidth=Q+"px",P.className=j,P.setAttribute("role","listitem"),P.ariaLevel="";const R=document.createElement("div");R.className="diff-review-cell",R.style.height=`${X}px`,P.appendChild(R);const M=document.createElement("span");if(M.style.width=V+"px",M.style.minWidth=V+"px",M.className="diff-review-line-number"+K,$.originalLineNumber!==void 0)M.appendChild(document.createTextNode(String($.originalLineNumber)));else M.innerText="\xA0";R.appendChild(M);const T=document.createElement("span");if(T.style.width=B+"px",T.style.minWidth=B+"px",T.style.paddingRight="10px",T.className="diff-review-line-number"+K,$.modifiedLineNumber!==void 0)T.appendChild(document.createTextNode(String($.modifiedLineNumber)));else T.innerText="\xA0";R.appendChild(T);const _=document.createElement("span");if(_.className=D,A){const C=document.createElement("span");C.className=C0.asClassName(A),C.innerText="\xA0\xA0",_.appendChild(C)}else _.innerText="\xA0\xA0";R.appendChild(_);let w;if($.modifiedLineNumber!==void 0){let C=this._getLineHtml(U,q,H.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);if(FQ._ttPolicy)C=FQ._ttPolicy.createHTML(C);R.insertAdjacentHTML("beforeend",C),w=U.getLineContent($.modifiedLineNumber)}else{let C=this._getLineHtml(Z,Y,G.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);if(FQ._ttPolicy)C=FQ._ttPolicy.createHTML(C);R.insertAdjacentHTML("beforeend",C),w=Z.getLineContent($.originalLineNumber)}if(w.length===0)w=F("blankLine","blank");let x="";switch($.type){case Y9.Unchanged:if($.originalLineNumber===$.modifiedLineNumber)x=F({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",w,$.originalLineNumber);else x=F("equalLine","{0} original line {1} modified line {2}",w,$.originalLineNumber,$.modifiedLineNumber);break;case Y9.Added:x=F("insertLine","+ {0} modified line {1}",w,$.modifiedLineNumber);break;case Y9.Deleted:x=F("deleteLine","- {0} original line {1}",w,$.originalLineNumber);break}return P.setAttribute("aria-label",x),P}_getLineHtml($,X,Q,Y,Z){const G=$.getLineContent(Y),q=X.get(50),U=T8.createEmpty(G,Z),H=f6.isBasicASCII(G,$.mightContainNonBasicASCII()),z=f6.containsRTL(G,H,$.mightContainRTL());return Fq(new q4(q.isMonospace&&!X.get(33),q.canUseHalfwidthRightwardsArrow,G,!1,H,z,0,U,[],Q,0,q.spaceWidth,q.middotWidth,q.wsmiddotWidth,X.get(116),X.get(98),X.get(93),X.get(51)!==a6.OFF,null)).html}};LE=IE([kE(5,o1)],LE)});var n40,EE,yE,SE,CE,xE,bE,qn,Un,FW,Hn,zn,Vn;var vE=N(()=>{h7();dG();k7();bG();m0();aU();n40=Q9("diff-insert",z0.add,F("diffInsertIcon","Line decoration for inserts in the diff editor.")),EE=Q9("diff-remove",z0.remove,F("diffRemoveIcon","Line decoration for removals in the diff editor.")),yE=I1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+C0.asClassName(n40),marginClassName:"gutter-insert"}),SE=I1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+C0.asClassName(EE),marginClassName:"gutter-delete"}),CE=I1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),xE=I1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),bE=I1.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),qn=I1.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),Un=I1.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),FW=I1.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),Hn=I1.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),zn=I1.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),Vn=I1.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new bY(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(F("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+C0.asClassName(z0.arrowRight),zIndex:10001})});class a$ extends f{constructor(J,$,X,Q,Y){super();this._rootElement=J,this._diffModel=$,this._originalEditorLayoutInfo=X,this._modifiedEditorLayoutInfo=Q,this._editors=Y,this._originalScrollTop=t7(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=t7(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=_6("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=h1(this,0),this._modifiedViewZonesChangedSignal=_6("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=_6("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=d$((V,W)=>{var B;this._element.replaceChildren();const j=this._diffModel.read(V),K=(B=j===null||j===void 0?void 0:j.diff.read(V))===null||B===void 0?void 0:B.movedTexts;if(!K||K.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(V);const D=this._originalEditorLayoutInfo.read(V),A=this._modifiedEditorLayoutInfo.read(V);if(!D||!A){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(V),this._originalViewZonesChangedSignal.read(V);const P=K.map((C)=>{function h(H0,s0){const k0=s0.getTopForLineNumber(H0.startLineNumber,!0),w0=s0.getTopForLineNumber(H0.endLineNumberExclusive,!0);return(k0+w0)/2}const p=h(C.lineRangeMapping.original,this._editors.original),r=this._originalScrollTop.read(V),m=h(C.lineRangeMapping.modified,this._editors.modified),c=this._modifiedScrollTop.read(V),Q0=p-r,K0=m-c,B0=Math.min(p,m),P0=Math.max(p,m);return{range:new i0(B0,P0),from:Q0,to:K0,fromWithoutScroll:p,toWithoutScroll:m,move:C}});P.sort(DS(l6((C)=>C.fromWithoutScroll>C.toWithoutScroll,RS),l6((C)=>C.fromWithoutScroll>C.toWithoutScroll?C.fromWithoutScroll:-C.toWithoutScroll,cJ)));const R=hE.compute(P.map((C)=>C.range)),M=10,T=D.verticalScrollbarWidth,_=(R.getTrackCount()-1)*10+M*2,w=T+_+(A.contentLeft-a$.movedCodeBlockPadding);let x=0;for(let C of P){const h=R.getTrack(x),p=T+M+h*10,c=w,Q0=A.glyphMarginWidth+A.lineNumbersWidth,B0=document.createElementNS("http://www.w3.org/2000/svg","rect");B0.classList.add("arrow-rectangle"),B0.setAttribute("x",`${c-Q0}`),B0.setAttribute("y",`${C.to-9}`),B0.setAttribute("width",`${Q0}`),B0.setAttribute("height","18"),this._element.appendChild(B0);const P0=document.createElementNS("http://www.w3.org/2000/svg","g"),H0=document.createElementNS("http://www.w3.org/2000/svg","path");H0.setAttribute("d",`M 0 ${C.from} L ${p} ${C.from} L ${p} ${C.to} L ${c-15} ${C.to}`),H0.setAttribute("fill","none"),P0.appendChild(H0);const s0=document.createElementNS("http://www.w3.org/2000/svg","polygon");s0.classList.add("arrow"),W.add(c1((k0)=>{H0.classList.toggle("currentMove",C.move===j.activeMovedText.read(k0)),s0.classList.toggle("currentMove",C.move===j.activeMovedText.read(k0))})),s0.setAttribute("points",`${c-15},${C.to-7.5} ${c},${C.to} ${c-15},${C.to+7.5}`),P0.appendChild(s0),this._element.appendChild(P0),x++}this.width.set(_,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(N0(()=>this._element.remove())),this._register(c1((V)=>{const W=this._originalEditorLayoutInfo.read(V),B=this._modifiedEditorLayoutInfo.read(V);if(!W||!B)return;this._element.style.left=`${W.width-W.verticalScrollbarWidth}px`,this._element.style.height=`${W.height}px`,this._element.style.width=`${W.verticalScrollbarWidth+W.contentLeft-a$.movedCodeBlockPadding+this.width.read(V)}px`})),this._register(nY(this._state));const Z=K1((V)=>{const W=this._diffModel.read(V),B=W===null||W===void 0?void 0:W.diff.read(V);if(!B)return[];return B.movedTexts.map((j)=>({move:j,original:new j2(ID(j.lineRangeMapping.original.startLineNumber-1),18),modified:new j2(ID(j.lineRangeMapping.modified.startLineNumber-1),18)}))});this._register($3(this._editors.original,Z.map((V)=>V.map((W)=>W.original)))),this._register($3(this._editors.modified,Z.map((V)=>V.map((W)=>W.modified)))),this._register(x7((V,W)=>{const B=Z.read(V);for(let j of B)W.add(new fE(this._editors.original,j.original,j.move,"original",this._diffModel.get())),W.add(new fE(this._editors.modified,j.modified,j.move,"modified",this._diffModel.get()))}));const G=t7(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),q=t7(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),U=_6("original.onDidFocusEditorWidget",(V)=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>V(void 0),0))),H=_6("modified.onDidFocusEditorWidget",(V)=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>V(void 0),0)));let z="modified";this._register(iY({createEmptyChangeSummary:()=>{return},handleChange:(V,W)=>{if(V.didChange(U))z="original";if(V.didChange(H))z="modified";return!0}},(V)=>{U.read(V),H.read(V);const W=this._diffModel.read(V);if(!W)return;const B=W.diff.read(V);let j=void 0;if(B&&z==="original"){const K=G.read(V);if(K)j=B.movedTexts.find((D)=>D.lineRangeMapping.original.contains(K.lineNumber))}if(B&&z==="modified"){const K=q.read(V);if(K)j=B.movedTexts.find((D)=>D.lineRangeMapping.modified.contains(K.lineNumber))}if(j!==W.movedTextToCompare.get())W.movedTextToCompare.set(void 0,void 0);W.setActiveMovedText(j)}))}}class hE{static compute(J){const $=[],X=[];for(let Q of J){let Y=$.findIndex((Z)=>!Z.intersectsStrict(Q));if(Y===-1)if($.length>=6)Y=Yv($,l6((G)=>G.intersectWithRangeLength(Q),cJ));else Y=$.length,$.push(new SF);$[Y].addRange(Q),X.push(Y)}return new hE($.length,X)}constructor(J,$){this._trackCount=J,this.trackPerLineIdx=$}getTrack(J){return this.trackPerLineIdx[J]}getTrackCount(){return this._trackCount}}class fE extends BW{constructor(J,$,X,Q,Y){const Z=A7("div.diff-hidden-lines-widget");super(J,$,Z.root);this._editor=J,this._move=X,this._kind=Q,this._diffModel=Y,this._nodes=A7("div.diff-moved-code-block",{style:{marginRight:"4px"}},[A7("div.text-content@textContent"),A7("div.action-bar@actionBar")]),Z.root.appendChild(this._nodes.root);const G=t7(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(CJ(this._nodes.root,{paddingRight:G.map((V)=>V.verticalScrollbarWidth)}));let q;if(X.changes.length>0)q=this._kind==="original"?F("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);else q=this._kind==="original"?F("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const U=this._register(new m6(this._nodes.actionBar,{highlightToggledItems:!0})),H=new i6("",q,"",!1);U.push(H,{icon:!1,label:!0});const z=new i6("","Compare",C0.asClassName(z0.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===X?void 0:this._move,void 0)});this._register(c1((V)=>{const W=this._diffModel.movedTextToCompare.read(V)===X;z.checked=W})),U.push(z,{icon:!1,label:!0})}}var gE=N(()=>{y0();zQ();T9();V1();OX();h7();$0();H5();k7();jQ();DJ();m0();a$.movedCodeBlockPadding=4});class pE extends f{constructor(J,$,X){super();this._editors=J,this._diffModel=$,this._options=X,this._decorations=K1(this,(Q)=>{var Y;const Z=(Y=this._diffModel.read(Q))===null||Y===void 0?void 0:Y.diff.read(Q);if(!Z)return null;const G=this._diffModel.read(Q).movedTextToCompare.read(Q),q=this._options.renderIndicators.read(Q),U=this._options.showEmptyDecorations.read(Q),H=[],z=[];if(!G)for(let W of Z.mappings){if(!W.lineRangeMapping.original.isEmpty)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:q?SE:xE});if(!W.lineRangeMapping.modified.isEmpty)z.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:q?yE:CE});if(W.lineRangeMapping.modified.isEmpty||W.lineRangeMapping.original.isEmpty){if(!W.lineRangeMapping.original.isEmpty)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:Hn});if(!W.lineRangeMapping.modified.isEmpty)z.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:qn})}else for(let B of W.lineRangeMapping.innerChanges||[]){if(W.lineRangeMapping.original.contains(B.originalRange.startLineNumber))H.push({range:B.originalRange,options:B.originalRange.isEmpty()&&U?zn:FW});if(W.lineRangeMapping.modified.contains(B.modifiedRange.startLineNumber))z.push({range:B.modifiedRange,options:B.modifiedRange.isEmpty()&&U?Un:bE})}if(!W.lineRangeMapping.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(Q)&&!G)z.push({range:L.fromPositions(new b(W.lineRangeMapping.modified.startLineNumber,1)),options:Vn})}if(G)for(let W of G.changes){const B=W.original.toInclusiveRange();if(B)H.push({range:B,options:q?SE:xE});const j=W.modified.toInclusiveRange();if(j)z.push({range:j,options:q?yE:CE});for(let K of W.innerChanges||[])H.push({range:K.originalRange,options:FW}),z.push({range:K.modifiedRange,options:bE})}const V=this._diffModel.read(Q).activeMovedText.read(Q);for(let W of Z.movedTexts)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(W===V?" currentMove":""),blockPadding:[a$.movedCodeBlockPadding,0,a$.movedCodeBlockPadding,a$.movedCodeBlockPadding]}}),z.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(W===V?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:H,modifiedDecorations:z}}),this._register(J3(this._editors.original,this._decorations.map((Q)=>(Q===null||Q===void 0?void 0:Q.originalDecorations)||[]))),this._register(J3(this._editors.modified,this._decorations.map((Q)=>(Q===null||Q===void 0?void 0:Q.modifiedDecorations)||[])))}}var Wn=N(()=>{$0();H5();vE();gE();jQ();W1();u0()});class mE extends f{constructor(J,$,X){super();this._options=J,this._domNode=$,this._dimensions=X,this._sashRatio=h1(this,void 0),this.sashLeft=K1(this,(Q)=>{var Y;const Z=(Y=this._sashRatio.read(Q))!==null&&Y!==void 0?Y:this._options.splitViewDefaultRatio.read(Q);return this._computeSashLeft(Z,Q)}),this._sash=this._register(new z6(this._domNode,{getVerticalSashTop:(Q)=>0,getVerticalSashLeft:(Q)=>this.sashLeft.get(),getVerticalSashHeight:(Q)=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange((Q)=>{const Y=this._dimensions.width.get(),Z=this._computeSashLeft((this._startSashPosition+(Q.currentX-Q.startX))/Y,void 0);this._sashRatio.set(Z/Y,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(c1((Q)=>{const Y=this._options.enableSplitViewResizing.read(Q);this._sash.state=Y?3:0,this.sashLeft.read(Q),this._dimensions.height.read(Q),this._sash.layout()}))}setBoundarySashes(J){this._sash.orthogonalEndSash=J.bottom}_computeSashLeft(J,$){const X=this._dimensions.width.read($),Q=Math.floor(this._options.splitViewDefaultRatio.read($)*X),Y=this._options.enableSplitViewResizing.read($)?Math.floor(J*X):Q;if(X<=200)return Q;if(Y<100)return 100;if(Y>X-100)return X-100;return Y}}var Bn=N(()=>{EP();$0();H5()});class F2{remove(){var J;(J=this.parent)===null||J===void 0||J.children.delete(this.id)}static findId(J,$){let X;if(typeof J==="string")X=`${$.id}/${J}`;else if(X=`${$.id}/${J.name}`,$.children.get(X)!==void 0)X=`${$.id}/${J.name}_${J.range.startLineNumber}_${J.range.startColumn}`;let Q=X;for(let Y=0;$.children.get(Q)!==void 0;Y++)Q=`${X}_${Y}`;return Q}static empty(J){return J.children.size===0}}class uE extends F2{constructor(J,$,X){super();this.id=J,this.parent=$,this.symbol=X,this.children=new Map}}class jn extends F2{constructor(J,$,X,Q){super();this.id=J,this.parent=$,this.label=X,this.order=Q,this.children=new Map}}class KQ extends F2{static create(J,$,X){const Q=new u8(X),Y=new KQ($.uri),Z=J.ordered($),G=Z.map((U,H)=>{var z;const V=F2.findId(`provider_${H}`,Y),W=new jn(V,Y,(z=U.displayName)!==null&&z!==void 0?z:"Unknown Outline Provider",H);return Promise.resolve(U.provideDocumentSymbols($,Q.token)).then((B)=>{for(let j of B||[])KQ._makeOutlineElement(j,W);return W},(B)=>{return JJ(B),W}).then((B)=>{if(!F2.empty(B))Y._groups.set(V,B);else B.remove()})}),q=J.onDidChange(()=>{const U=J.ordered($);if(!$8(U,Z))Q.cancel()});return Promise.all(G).then(()=>{if(Q.token.isCancellationRequested&&!X.isCancellationRequested)return KQ.create(J,$,X);else return Y._compact()}).finally(()=>{Q.dispose(),q.dispose()})}static _makeOutlineElement(J,$){const X=F2.findId(J,$),Q=new uE(X,$,J);if(J.children)for(let Y of J.children)KQ._makeOutlineElement(Y,Q);$.children.set(Q.id,Q)}constructor(J){super();this.uri=J,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let J=0;for(let[$,X]of this._groups)if(X.children.size===0)this._groups.delete($);else J+=1;if(J!==1)this.children=this._groups;else{const $=U1.first(this._groups.values());for(let[,X]of $.children)X.parent=this,this.children.set(X.id,X)}return this}getTopLevelSymbols(){const J=[];for(let $ of this.children.values())if($ instanceof uE)J.push($.symbol);else J.push(...U1.map($.children.values(),(X)=>X.symbol));return J.sort(($,X)=>L.compareRangesUsingStarts($.range,X.range))}asListOfDocumentSymbols(){const J=this.getTopLevelSymbols(),$=[];return KQ._flattenDocumentSymbols($,J,""),$.sort((X,Q)=>b.compare(L.getStartPosition(X.range),L.getStartPosition(Q.range))||b.compare(L.getEndPosition(Q.range),L.getEndPosition(X.range)))}static _flattenDocumentSymbols(J,$,X){for(let Q of $)if(J.push({kind:Q.kind,tags:Q.tags,name:Q.name,detail:Q.detail,containerName:Q.containerName||X,range:Q.range,selectionRange:Q.selectionRange,children:void 0}),Q.children)KQ._flattenDocumentSymbols(J,Q.children,Q.name)}}var Fn=N(()=>{V1();v7();A1();A5();W1();u0()});class lE extends BW{constructor(J,$,X,Q,Y,Z,G,q){const U=A7("div.diff-hidden-lines-widget");super(J,$,U.root);this._editor=J,this._unchangedRegion=X,this._unchangedRegionRange=Q,this.hide=Y,this._modifiedOutlineSource=Z,this._revealModifiedHiddenLine=G,this._options=q,this._nodes=A7("div.diff-hidden-lines",[A7("div.top@top",{title:F("diff.hiddenLines.top","Click or drag to show more above")}),A7("div.center@content",{style:{display:"flex"}},[A7("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[U0("a",{title:F("showAll","Show all"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...EJ("$(unfold)"))]),A7("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),A7("div.bottom@bottom",{title:F("diff.bottom","Click or drag to show more below"),role:"button"})]),U.root.appendChild(this._nodes.root);const H=t7(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());if(!this.hide)this._register(CJ(this._nodes.first,{width:H.map((V)=>V.contentLeft)}));else e8(this._nodes.first);const z=this._editor;this._register(l(this._nodes.top,"mousedown",(V)=>{if(V.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),V.preventDefault();const W=V.clientY;let B=!1;const j=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const K=l(window,"mousemove",(A)=>{const R=A.clientY-W;B=B||Math.abs(R)>2;const M=Math.round(R/z.getOption(66)),T=Math.max(0,Math.min(j+M,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(T,void 0)}),D=l(window,"mouseup",(A)=>{if(!B)this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),K.dispose(),D.dispose()})})),this._register(l(this._nodes.bottom,"mousedown",(V)=>{if(V.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),V.preventDefault();const W=V.clientY;let B=!1;const j=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const K=l(window,"mousemove",(A)=>{const R=A.clientY-W;B=B||Math.abs(R)>2;const M=Math.round(R/z.getOption(66)),T=Math.max(0,Math.min(j-M,this._unchangedRegion.getMaxVisibleLineCountBottom())),_=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(T,void 0);const w=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);z.setScrollTop(z.getScrollTop()+(w-_))}),D=l(window,"mouseup",(A)=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!B){const P=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const R=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);z.setScrollTop(z.getScrollTop()+(R-P))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),K.dispose(),D.dispose()})})),this._register(c1((V)=>{const W=[];if(!this.hide){const B=X.getHiddenModifiedRange(V).length,j=F("hiddenLines","{0} hidden lines",B),K=U0("span",{title:F("diff.hiddenLines.expandAll","Double click to unfold")},j);K.addEventListener("dblclick",(P)=>{if(P.button!==0)return;P.preventDefault(),this._unchangedRegion.showAll(void 0)}),W.push(K);const D=this._unchangedRegion.getHiddenModifiedRange(V),A=this._modifiedOutlineSource.getBreadcrumbItems(D,V);if(A.length>0){W.push(U0("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let P=0;P<A.length;P++){const R=A[P],M=LB.toIcon(R.kind),T=A7("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[qP(M),"\xA0",R.name,...P===A.length-1?[]:[qP(z0.chevronRight)]]).root;W.push(T),T.onclick=()=>{this._revealModifiedHiddenLine(R.startLineNumber)}}}}e8(this._nodes.others,...W)}))}}var Kn,An,o40,yD,cE;var Pn=N(()=>{y0();LU();V1();h7();A0();dG();$0();H5();k7();j8();Fn();jQ();Q5();W1();u0();P6();Y5();m0();Kn=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},An=function(J,$){return function(X,Q){$(X,Q,J)}},o40=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},yD=class J extends f{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor($,X,Q,Y){super();this._editors=$,this._diffModel=X,this._options=Q,this._languageFeaturesService=Y,this._isUpdatingViewZones=!1,this._modifiedOutlineSource=d$(this,(H,z)=>{const V=this._editors.modifiedModel.read(H);if(!V)return;return z.add(new cE(this._languageFeaturesService,V))}),this._register(this._editors.original.onDidChangeCursorPosition((H)=>{if(H.reason===3){const z=this._diffModel.get();p8((V)=>{for(let W of this._editors.original.getSelections()||[])z===null||z===void 0||z.ensureOriginalLineIsVisible(W.getStartPosition().lineNumber,V),z===null||z===void 0||z.ensureOriginalLineIsVisible(W.getEndPosition().lineNumber,V)})}})),this._register(this._editors.modified.onDidChangeCursorPosition((H)=>{if(H.reason===3){const z=this._diffModel.get();p8((V)=>{for(let W of this._editors.modified.getSelections()||[])z===null||z===void 0||z.ensureModifiedLineIsVisible(W.getStartPosition().lineNumber,V),z===null||z===void 0||z.ensureModifiedLineIsVisible(W.getEndPosition().lineNumber,V)})}}));const Z=this._diffModel.map((H,z)=>{var V,W;return((V=H===null||H===void 0?void 0:H.diff.read(z))===null||V===void 0?void 0:V.mappings.length)===0?[]:(W=H===null||H===void 0?void 0:H.unchangedRegions.read(z))!==null&&W!==void 0?W:[]}),G=d$(this,(H,z)=>{const V=this._modifiedOutlineSource.read(H);if(!V)return{origViewZones:[],modViewZones:[]};const W=[],B=[],j=this._options.renderSideBySide.read(H),K=Z.read(H);for(let D of K){if(D.shouldHideControls(H))continue;{const A=K1((R)=>D.getHiddenOriginalRange(R).startLineNumber-1),P=new j2(A,24);W.push(P),z.add(new lE(this._editors.original,P,D,D.originalUnchangedRange,!j,V,(R)=>this._diffModel.get().ensureModifiedLineIsVisible(R,void 0),this._options))}{const A=K1((R)=>D.getHiddenModifiedRange(R).startLineNumber-1),P=new j2(A,24);B.push(P),z.add(new lE(this._editors.modified,P,D,D.modifiedUnchangedRange,!1,V,(R)=>this._diffModel.get().ensureModifiedLineIsVisible(R,void 0),this._options))}}return{origViewZones:W,modViewZones:B}}),q={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},U={description:"Fold Unchanged",glyphMarginHoverMessage:new bY(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(F("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+C0.asClassName(z0.fold),zIndex:10001};this._register(J3(this._editors.original,K1((H)=>{const z=Z.read(H),V=z.map((W)=>({range:W.originalUnchangedRange.toInclusiveRange(),options:q}));for(let W of z)if(W.shouldHideControls(H))V.push({range:L.fromPositions(new b(W.originalLineNumber,1)),options:U});return V}))),this._register(J3(this._editors.modified,K1((H)=>{const z=Z.read(H),V=z.map((W)=>({range:W.modifiedUnchangedRange.toInclusiveRange(),options:q}));for(let W of z)if(W.shouldHideControls(H))V.push({range:v0.ofLength(W.modifiedLineNumber,1).toInclusiveRange(),options:U});return V}))),this._register($3(this._editors.original,G.map((H)=>H.origViewZones),(H)=>this._isUpdatingViewZones=H)),this._register($3(this._editors.modified,G.map((H)=>H.modViewZones),(H)=>this._isUpdatingViewZones=H)),this._register(c1((H)=>{const z=Z.read(H);this._editors.original.setHiddenAreas(z.map((V)=>V.getHiddenOriginalRange(H).toInclusiveRange()).filter(w2)),this._editors.modified.setHiddenAreas(z.map((V)=>V.getHiddenModifiedRange(H).toInclusiveRange()).filter(w2))})),this._register(this._editors.modified.onMouseUp((H)=>{var z;if(!H.event.rightButton&&H.target.position&&((z=H.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){const V=H.target.position.lineNumber,W=this._diffModel.get();if(!W)return;const B=W.unchangedRegions.get().find((j)=>j.modifiedUnchangedRange.includes(V));if(!B)return;B.collapseAll(void 0),H.event.stopPropagation(),H.event.preventDefault()}})),this._register(this._editors.original.onMouseUp((H)=>{var z;if(!H.event.rightButton&&H.target.position&&((z=H.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){const V=H.target.position.lineNumber,W=this._diffModel.get();if(!W)return;const B=W.unchangedRegions.get().find((j)=>j.originalUnchangedRange.includes(V));if(!B)return;B.collapseAll(void 0),H.event.stopPropagation(),H.event.preventDefault()}}))}};yD=Kn([An(3,q1)],yD);cE=class J extends f{constructor($,X){super();this._languageFeaturesService=$,this._textModel=X,this._currentModel=h1(this,void 0);const Q=_6("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),Y=_6("_textModel.onDidChangeContent",Y0.debounce((Z)=>this._textModel.onDidChangeContent(Z),()=>{return},100));this._register(x7((Z,G)=>o40(this,void 0,void 0,function*(){Q.read(Z),Y.read(Z);const q=G.add(new _E),U=yield KQ.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,q.token);if(G.isDisposed)return;this._currentModel.set(U,void 0)})))}getBreadcrumbItems($,X){const Q=this._currentModel.read(X);if(!Q)return[];const Y=Q.asListOfDocumentSymbols().filter((Z)=>$.contains(Z.range.startLineNumber)&&!$.contains(Z.range.endLineNumber));return Y.sort(GB(l6((Z)=>Z.range.endLineNumber-Z.range.startLineNumber,cJ))),Y.map((Z)=>({name:Z.name,kind:Z.kind,startLineNumber:Z.range.startLineNumber}))}};cE=Kn([An(0,q1)],cE)});class xJ{static capture(J){if(J.getScrollTop()===0||J.hasPendingScrollAnimation())return new xJ(J.getScrollTop(),J.getContentHeight(),null,0,null);let $=null,X=0;const Q=J.getVisibleRanges();if(Q.length>0){$=Q[0].getStartPosition();const Y=J.getTopForPosition($.lineNumber,$.column);X=J.getScrollTop()-Y}return new xJ(J.getScrollTop(),J.getContentHeight(),$,X,J.getPosition())}constructor(J,$,X,Q,Y){this._initialScrollTop=J,this._initialContentHeight=$,this._visiblePosition=X,this._visiblePositionScrollDelta=Q,this._cursorPosition=Y}restore(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;if(this._visiblePosition){const $=J.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);J.setScrollTop($+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;const $=J.getPosition();if(!this._cursorPosition||!$)return;const X=J.getTopForLineNumber($.lineNumber)-J.getTopForLineNumber(this._cursorPosition.lineNumber);J.setScrollTop(J.getScrollTop()+X)}}var KW=N(()=>{});var t40,Dn,e40,K2,AW;var Rn=N(()=>{A0();r4();Q5();rQ();bU();hZ();t40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Dn=function(J,$){return function(X,Q){$(X,Q,J)}},e40=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},AW=K2=class J{constructor($,X,Q){this.editorWorkerService=X,this.telemetryService=Q,this.onDidChangeEventEmitter=new E,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($)}dispose(){var $;($=this.diffAlgorithmOnDidChangeSubscription)===null||$===void 0||$.dispose()}computeDiff($,X,Q,Y){var Z,G;return e40(this,void 0,void 0,function*(){if(typeof this.diffAlgorithm!=="string")return this.diffAlgorithm.computeDiff($,X,Q,Y);if($.getLineCount()===1&&$.getLineMaxColumn(1)===1){if(X.getLineCount()===1&&X.getLineMaxColumn(1)===1)return{changes:[],identical:!0,quitEarly:!1,moves:[]};return{changes:[new v6(new v0(1,2),new v0(1,X.getLineCount()+1),[new x5($.getFullModelRange(),X.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]}}const q=JSON.stringify([$.uri.toString(),X.uri.toString()]),U=JSON.stringify([$.id,X.id,$.getAlternativeVersionId(),X.getAlternativeVersionId(),JSON.stringify(Q)]),H=K2.diffCache.get(q);if(H&&H.context===U)return H.result;const z=G7.create(),V=yield this.editorWorkerService.computeDiff($.uri,X.uri,Q,this.diffAlgorithm),W=z.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:W,timedOut:(Z=V===null||V===void 0?void 0:V.quitEarly)!==null&&Z!==void 0?Z:!0,detectedMoves:Q.computeMoves?(G=V===null||V===void 0?void 0:V.moves.length)!==null&&G!==void 0?G:0:-1}),Y.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!V)throw new Error("no diff result available");if(K2.diffCache.size>10)K2.diffCache.delete(K2.diffCache.keys().next().value);return K2.diffCache.set(q,{result:V,context:U}),V})}setOptions($){var X;let Q=!1;if($.diffAlgorithm){if(this.diffAlgorithm!==$.diffAlgorithm){if((X=this.diffAlgorithmOnDidChangeSubscription)===null||X===void 0||X.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$.diffAlgorithm,typeof $.diffAlgorithm!=="string")this.diffAlgorithmOnDidChangeSubscription=$.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire());Q=!0}}if(Q)this.onDidChangeEventEmitter.fire()}};AW.diffCache=new Map;AW=K2=t40([Dn(1,U5),Dn(2,e9)],AW)});var J$0,$$0,sE,dE;var Mn=N(()=>{Rn();FJ();e0();J$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},$$0=function(J,$){return function(X,Q){$(X,Q,J)}},sE=O0("diffProviderFactoryService"),dE=class J{constructor($){this.instantiationService=$}createDiffProvider($,X){return this.instantiationService.createInstance(AW,X)}};dE=J$0([$$0(0,G1)],dE);F1(sE,dE,1)});class PW{static fromDiffResult(J){return new PW(J.changes.map(($)=>new xD($)),J.moves||[],J.identical,J.quitEarly)}constructor(J,$,X,Q){this.mappings=J,this.movedTexts=$,this.identical=X,this.quitEarly=Q}}class xD{constructor(J){this.lineRangeMapping=J}}class CD{static fromDiffs(J,$,X,Q,Y){const Z=v6.inverse(J,$,X),G=[];for(let q of Z){let U=q.original.startLineNumber,H=q.modified.startLineNumber,z=q.original.length;const V=U===1&&H===1,W=U+z===$+1&&H+z===X+1;if((V||W)&&z>=Y+Q){if(V&&!W)z-=Y;if(W&&!V)U+=Y,H+=Y,z-=Y;G.push(new CD(U,H,z,0,0))}else if(z>=Y*2+Q)U+=Y,H+=Y,z-=Y*2,G.push(new CD(U,H,z,0,0))}return G}get originalUnchangedRange(){return v0.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return v0.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(J,$,X,Q,Y){this.originalLineNumber=J,this.modifiedLineNumber=$,this.lineCount=X,this._visibleLineCountTop=h1(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=h1(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=K1(this,(Z)=>this.visibleLineCountTop.read(Z)+this.visibleLineCountBottom.read(Z)===this.lineCount&&!this.isDragged.read(Z)),this.isDragged=h1(this,!1),this._visibleLineCountTop.set(Q,void 0),this._visibleLineCountBottom.set(Y,void 0)}shouldHideControls(J){return this._shouldHideControls.read(J)}getHiddenOriginalRange(J){return v0.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}getHiddenModifiedRange(J){return v0.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}setHiddenModifiedRange(J,$){const X=J.startLineNumber-this.modifiedLineNumber,Q=this.modifiedLineNumber+this.lineCount-J.endLineNumberExclusive;this.setState(X,Q,$)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(J=10,$){const X=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+J,X),$)}showMoreBelow(J=10,$){const X=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+J,X),$)}showAll(J){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),J)}showModifiedLine(J,$){const X=J+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Q=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-J;if(X<Q)this._visibleLineCountTop.set(this._visibleLineCountTop.get()+X,$);else this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Q,$)}showOriginalLine(J,$){const X=J-this.originalLineNumber,Q=this.originalLineNumber+this.lineCount-J;if(X<Q)this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Q-X,this.getMaxVisibleLineCountTop()),$);else this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+X-Q,this.getMaxVisibleLineCountBottom()),$)}collapseAll(J){this._visibleLineCountTop.set(0,J),this._visibleLineCountBottom.set(0,J)}setState(J,$,X){J=Math.max(Math.min(J,this.lineCount),0),$=Math.max(Math.min($,this.lineCount-J),0),this._visibleLineCountTop.set(J,X),this._visibleLineCountBottom.set($,X)}}var Y$0,Z$0,Nn,Tn,X$0,Q$0,On,SD;var aE=N(()=>{f1();v7();$0();H5();Mn();jQ();Q5();YN();rQ();Rz();m_();QN();Y$0=function(J,$,X){return{changes:J.changes.map((Q)=>new v6(Q.original,Q.modified,Q.innerChanges?Q.innerChanges.map((Y)=>Z$0(Y,$,X)):void 0)),moves:J.moves,identical:J.identical,quitEarly:J.quitEarly}},Z$0=function(J,$,X){let{originalRange:Q,modifiedRange:Y}=J;if((Q.endColumn!==1||Y.endColumn!==1)&&Q.endColumn===$.getLineMaxColumn(Q.endLineNumber)&&Y.endColumn===X.getLineMaxColumn(Y.endLineNumber)&&Q.endLineNumber<$.getLineCount()&&Y.endLineNumber<X.getLineCount())Q=Q.setEndPosition(Q.endLineNumber+1,1),Y=Y.setEndPosition(Y.endLineNumber+1,1);return new x5(Q,Y)},Nn=function(J,$,X,Q){return},Tn=function(J,$,X,Q){return},X$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Q$0=function(J,$){return function(X,Q){$(X,Q,J)}},On=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},SD=class J extends f{setActiveMovedText($){this._activeMovedText.set($,void 0)}constructor($,X,Q,Y){super();this.model=$,this._options=X,this._editor=Q,this._diffProviderFactoryService=Y,this._isDiffUpToDate=h1(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=h1(this,void 0),this.diff=this._diff,this._unchangedRegions=h1(this,{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=K1(this,(U)=>{if(this._options.hideUnchangedRegions.read(U))return this._unchangedRegions.read(U).regions;else return p8((H)=>{for(let z of this._unchangedRegions.get().regions)z.collapseAll(H)}),[]}),this.movedTextToCompare=h1(this,void 0),this._activeMovedText=h1(this,void 0),this._hoveredMovedText=h1(this,void 0),this.activeMovedText=K1(this,(U)=>{var H,z;return(z=(H=this.movedTextToCompare.read(U))!==null&&H!==void 0?H:this._hoveredMovedText.read(U))!==null&&z!==void 0?z:this._activeMovedText.read(U)}),this._cancellationTokenSource=new u8,this._diffProvider=K1(this,(U)=>{const H=this._diffProviderFactoryService.createDiffProvider(this._editor,{diffAlgorithm:this._options.diffAlgorithm.read(U)}),z=_6("onDidChange",H.onDidChange);return{diffProvider:H,onChangeSignal:z}}),this._register(N0(()=>this._cancellationTokenSource.cancel()));const Z=ME("contentChangedSignal"),G=this._register(new Q8(()=>Z.trigger(void 0),200)),q=(U,H,z)=>{const V=CD.fromDiffs(U.changes,$.original.getLineCount(),$.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(z),this._options.hideUnchangedRegionsContextLineCount.read(z)),W=this._unchangedRegions.get(),B=W.originalDecorationIds.map((A)=>$.original.getDecorationRange(A)).filter((A)=>!!A).map((A)=>v0.fromRange(A)),j=W.modifiedDecorationIds.map((A)=>$.modified.getDecorationRange(A)).filter((A)=>!!A).map((A)=>v0.fromRange(A)),K=$.original.deltaDecorations(W.originalDecorationIds,V.map((A)=>({range:A.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),D=$.modified.deltaDecorations(W.modifiedDecorationIds,V.map((A)=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(let A of V)for(let P=0;P<W.regions.length;P++)if(A.originalUnchangedRange.intersectsStrict(B[P])&&A.modifiedUnchangedRange.intersectsStrict(j[P])){A.setHiddenModifiedRange(W.regions[P].getHiddenModifiedRange(void 0),H);break}this._unchangedRegions.set({regions:V,originalDecorationIds:K,modifiedDecorationIds:D},H)};this._register($.modified.onDidChangeContent((U)=>{if(this._diff.get()){const z=LJ.fromModelContentChanges(U.changes),V=Tn(this._lastDiff,z,$.original,$.modified);if(V)this._lastDiff=V,p8((W)=>{this._diff.set(PW.fromDiffResult(this._lastDiff),W),q(V,W);const B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find((j)=>j.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,W)})}G.schedule()})),this._register($.original.onDidChangeContent((U)=>{if(this._diff.get()){const z=LJ.fromModelContentChanges(U.changes),V=Nn(this._lastDiff,z,$.original,$.modified);if(V)this._lastDiff=V,p8((W)=>{this._diff.set(PW.fromDiffResult(this._lastDiff),W),q(V,W);const B=this.movedTextToCompare.get();this.movedTextToCompare.set(B?this._lastDiff.moves.find((j)=>j.lineRangeMapping.modified.intersect(B.lineRangeMapping.modified)):void 0,W)})}G.schedule()})),this._register(x7((U,H)=>On(this,void 0,void 0,function*(){var z,V;this._options.hideUnchangedRegionsMinimumLineCount.read(U),this._options.hideUnchangedRegionsContextLineCount.read(U),G.cancel(),Z.read(U);const W=this._diffProvider.read(U);W.onChangeSignal.read(U),s$(xH,U),s$(CH,U),this._isDiffUpToDate.set(!1,void 0);let B=[];H.add($.original.onDidChangeContent((D)=>{const A=LJ.fromModelContentChanges(D.changes);B=QU(B,A)}));let j=[];H.add($.modified.onDidChangeContent((D)=>{const A=LJ.fromModelContentChanges(D.changes);j=QU(j,A)}));let K=yield W.diffProvider.computeDiff($.original,$.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(U),maxComputationTimeMs:this._options.maxComputationTimeMs.read(U),computeMoves:this._options.showMoves.read(U)},this._cancellationTokenSource.token);if(this._cancellationTokenSource.token.isCancellationRequested)return;K=Y$0(K,$.original,$.modified),K=(z=Nn(K,B,$.original,$.modified))!==null&&z!==void 0?z:K,K=(V=Tn(K,j,$.original,$.modified))!==null&&V!==void 0?V:K,p8((D)=>{q(K,D),this._lastDiff=K;const A=PW.fromDiffResult(K);this._diff.set(A,D),this._isDiffUpToDate.set(!0,D);const P=this.movedTextToCompare.get();this.movedTextToCompare.set(P?this._lastDiff.moves.find((R)=>R.lineRangeMapping.modified.intersect(P.lineRangeMapping.modified)):void 0,D)})})))}ensureModifiedLineIsVisible($,X){var Q;if(((Q=this.diff.get())===null||Q===void 0?void 0:Q.mappings.length)===0)return;const Y=this._unchangedRegions.get().regions;for(let Z of Y)if(Z.getHiddenModifiedRange(void 0).contains($)){Z.showModifiedLine($,X);return}}ensureOriginalLineIsVisible($,X){var Q;if(((Q=this.diff.get())===null||Q===void 0?void 0:Q.mappings.length)===0)return;const Y=this._unchangedRegions.get().regions;for(let Z of Y)if(Z.getHiddenOriginalRange(void 0).contains($)){Z.showOriginalLine($,X);return}}waitForDiff(){return On(this,void 0,void 0,function*(){yield DE(this.isDiffUpToDate,($)=>$)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map((X)=>({range:X.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($){const X=$.collapsedRegions.map((Y)=>v0.deserialize(Y.range)),Q=this._unchangedRegions.get();p8((Y)=>{for(let Z of Q.regions)for(let G of X)if(Z.modifiedUnchangedRange.intersect(G)){Z.setHiddenModifiedRange(G,Y);break}})}};SD=X$0([Q$0(3,sE)],SD)});class iE extends f{get visibility(){return this._visibility}set visibility(J){if(this._visibility!==J)this._visibility=J,this._diffActions.style.visibility=J?"visible":"hidden"}constructor(J,$,X,Q,Y,Z,G,q,U){super();this._getViewZoneId=J,this._marginDomNode=$,this._modifiedEditor=X,this._diff=Q,this._editor=Y,this._viewLineCounts=Z,this._originalTextModel=G,this._contextMenuService=q,this._clipboardService=U,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=C0.asClassName(z0.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const H=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${H}px`,this._diffActions.style.lineHeight=`${H}px`,this._marginDomNode.appendChild(this._diffActions);let z=0;const V=X.getOption(126)&&!K5,W=(B,j)=>{var K;this._contextMenuService.showContextMenu({domForShadowRoot:V?(K=X.getDomNode())!==null&&K!==void 0?K:void 0:void 0,getAnchor:()=>({x:B,y:j}),getActions:()=>{const D=[],A=Q.modified.isEmpty;if(D.push(new i6("diff.clipboard.copyDeletedContent",A?Q.original.length>1?F("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):F("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Q.original.length>1?F("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):F("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>rE(this,void 0,void 0,function*(){const R=this._originalTextModel.getValueInRange(Q.original.toExclusiveRange());yield this._clipboardService.writeText(R)}))),Q.original.length>1)D.push(new i6("diff.clipboard.copyDeletedLineContent",A?F("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Q.original.startLineNumber+z):F("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Q.original.startLineNumber+z),void 0,!0,()=>rE(this,void 0,void 0,function*(){let R=this._originalTextModel.getLineContent(Q.original.startLineNumber+z);if(R==="")R=this._originalTextModel.getEndOfLineSequence()===0?"\n":"\r\n";yield this._clipboardService.writeText(R)})));if(!X.getOption(90))D.push(new i6("diff.inline.revertChange",F("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>rE(this,void 0,void 0,function*(){this._editor.revert(this._diff)})));return D},autoSelectFirstItem:!0})};this._register(X8(this._diffActions,"mousedown",(B)=>{const{top:j,height:K}=u7(this._diffActions),D=Math.floor(H/3);B.preventDefault(),W(B.posx,j+K+D)})),this._register(X.onMouseMove((B)=>{if((B.target.type===8||B.target.type===5)&&B.target.detail.viewZoneId===this._getViewZoneId())z=this._updateLightBulbPosition(this._marginDomNode,B.event.browserEvent.y,H),this.visibility=!0;else this.visibility=!1})),this._register(X.onMouseDown((B)=>{if(!B.event.rightButton)return;if(B.target.type===8||B.target.type===5){if(B.target.detail.viewZoneId===this._getViewZoneId())B.event.preventDefault(),z=this._updateLightBulbPosition(this._marginDomNode,B.event.browserEvent.y,H),W(B.event.posx,B.event.posy+H)}}))}_updateLightBulbPosition(J,$,X){const{top:Q}=u7(J),Y=$-Q,Z=Math.floor(Y/X),G=Z*X;if(this._diffActions.style.top=`${G}px`,this._viewLineCounts){let q=0;for(let U=0;U<this._viewLineCounts.length;U++)if(q+=this._viewLineCounts[U],Z<q)return U}return Z}}var rE;var _n=N(()=>{y0();T9();h7();$0();O1();k7();m0();rE=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});function In(J,$,X,Q){O8(Q,$.fontInfo);const Y=X.length>0,Z=new KX(1e4);let G=0,q=0;const U=[];for(let W=0;W<J.lineTokens.length;W++){const B=W+1,j=J.lineTokens[W],K=J.lineBreakData[W],D=C9.filter(X,B,1,Number.MAX_SAFE_INTEGER);if(K){let A=0;for(let P of K.breakOffsets){const R=j.sliceAndInflate(A,P,0);G=Math.max(G,Ln(q,R,C9.extractWrapped(D,A,P),Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++,A=P}U.push(K.breakOffsets.length)}else U.push(1),G=Math.max(G,Ln(q,j,D,Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++}G+=$.scrollBeyondLastColumn;const H=Z.build(),z=wn?wn.createHTML(H):H;Q.innerHTML=z;const V=G*$.typicalHalfwidthCharacterWidth;return{heightInLines:q,minWidthInPx:V,viewLineCounts:U}}class nE{constructor(J,$,X,Q){this.lineTokens=J,this.lineBreakData=$,this.mightContainNonBasicASCII=X,this.mightContainRTL=Q}}class bD{static fromEditor(J){var $;const X=J.getOptions(),Q=X.get(50),Y=X.get(143);return new bD((($=J.getModel())===null||$===void 0?void 0:$.getOptions().tabSize)||0,Q,X.get(33),Q.typicalHalfwidthCharacterWidth,X.get(103),X.get(66),Y.decorationsWidth,X.get(116),X.get(98),X.get(93),X.get(51))}constructor(J,$,X,Q,Y,Z,G,q,U,H,z){this.tabSize=J,this.fontInfo=$,this.disableMonospaceOptimizations=X,this.typicalHalfwidthCharacterWidth=Q,this.scrollBeyondLastColumn=Y,this.lineHeight=Z,this.lineDecorationsWidth=G,this.stopRenderingLineAfter=q,this.renderWhitespace=U,this.renderControlCharacters=H,this.fontLigatures=z}}var Ln,wn;var kn=N(()=>{pQ();YJ();F6();dZ();lF();Kq();MJ();Ln=function(J,$,X,Q,Y,Z,G,q){if(q.appendString('<div class="view-line'),!Q)q.appendString(" char-delete");q.appendString('" style="top:'),q.appendString(String(J*G.lineHeight)),q.appendString('px;width:1000000px;">');const U=$.getLineContent(),H=f6.isBasicASCII(U,Y),z=f6.containsRTL(U,H,Z),V=mH(new q4(G.fontInfo.isMonospace&&!G.disableMonospaceOptimizations,G.fontInfo.canUseHalfwidthRightwardsArrow,U,!1,H,z,0,$,X,G.tabSize,0,G.fontInfo.spaceWidth,G.fontInfo.middotWidth,G.fontInfo.wsmiddotWidth,G.stopRenderingLineAfter,G.renderWhitespace,G.renderControlCharacters,G.fontLigatures!==a6.OFF,null),q);return q.appendString("</div>"),V.characterMapping.getHorizontalOffset(V.characterMapping.length)},wn=$5("diffEditorWidget",{createHTML:(J)=>J})});var yn,Sn,G$0,En,vD;var Cn=N(()=>{y0();V1();f1();h7();$0();H5();k7();j8();YJ();KW();vE();aE();_n();kn();jQ();Q5();W1();MJ();eV();mG();yn=function(J,$,X,Q,Y,Z){const G=new d6(Sn(J,Q)),q=new d6(Sn($,Y)),U=J.getOption(66),H=$.getOption(66),z=[];let V=0,W=0;function B(j,K){while(!0){let D=G.peek(),A=q.peek();if(D&&D.lineNumber>=j)D=void 0;if(A&&A.lineNumber>=K)A=void 0;if(!D&&!A)break;const P=D?D.lineNumber-V:Number.MAX_VALUE,R=A?A.lineNumber-W:Number.MAX_VALUE;if(P<R)G.dequeue(),A={lineNumber:D.lineNumber-V+W,heightInPx:0};else if(P>R)q.dequeue(),D={lineNumber:A.lineNumber-W+V,heightInPx:0};else G.dequeue(),q.dequeue();z.push({originalRange:v0.ofLength(D.lineNumber,1),modifiedRange:v0.ofLength(A.lineNumber,1),originalHeightInPx:U+D.heightInPx,modifiedHeightInPx:H+A.heightInPx,diff:void 0})}}for(let j of X){let R=function(M,T){var _,w,x,C;if(M<P||T<A)return;if(D)D=!1;else if(M===P||T===A)return;const h=new v0(P,M),p=new v0(A,T);if(h.isEmpty&&p.isEmpty)return;const r=(w=(_=G.takeWhile((c)=>c.lineNumber<M))===null||_===void 0?void 0:_.reduce((c,Q0)=>c+Q0.heightInPx,0))!==null&&w!==void 0?w:0,m=(C=(x=q.takeWhile((c)=>c.lineNumber<T))===null||x===void 0?void 0:x.reduce((c,Q0)=>c+Q0.heightInPx,0))!==null&&C!==void 0?C:0;z.push({originalRange:h,modifiedRange:p,originalHeightInPx:h.length*U+r,modifiedHeightInPx:p.length*H+m,diff:j.lineRangeMapping}),P=M,A=T};const K=j.lineRangeMapping;B(K.original.startLineNumber,K.modified.startLineNumber);let D=!0,A=K.modified.startLineNumber,P=K.original.startLineNumber;if(Z)for(let M of K.innerChanges||[]){if(M.originalRange.startColumn>1&&M.modifiedRange.startColumn>1)R(M.originalRange.startLineNumber,M.modifiedRange.startLineNumber);if(M.originalRange.endColumn<J.getModel().getLineMaxColumn(M.originalRange.endLineNumber))R(M.originalRange.endLineNumber,M.modifiedRange.endLineNumber)}R(K.original.endLineNumberExclusive,K.modified.endLineNumberExclusive),V=K.original.endLineNumberExclusive,W=K.modified.endLineNumberExclusive}return B(Number.MAX_VALUE,Number.MAX_VALUE),z},Sn=function(J,$){const X=[],Q=[],Y=J.getOption(144).wrappingColumn!==-1,Z=J._getViewModel().coordinatesConverter,G=J.getOption(66);if(Y)for(let U=1;U<=J.getModel().getLineCount();U++){const H=Z.getModelLineViewLineCount(U);if(H>1)Q.push({lineNumber:U,heightInPx:G*(H-1)})}for(let U of J.getWhitespaces()){if($.has(U.id))continue;const H=U.afterLineNumber===0?0:Z.convertViewPositionToModelPosition(new b(U.afterLineNumber,1)).lineNumber;X.push({lineNumber:H,heightInPx:U.height})}return ei(X,Q,(U)=>U.lineNumber,(U,H)=>({lineNumber:U.lineNumber,heightInPx:U.heightInPx+H.heightInPx}))},G$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},En=function(J,$){return function(X,Q){$(X,Q,J)}},vD=class J extends f{constructor($,X,Q,Y,Z,G,q){super();this._editors=$,this._diffModel=X,this._options=Q,this._diffEditorWidget=Y,this._canIgnoreViewZoneUpdateEvent=Z,this._clipboardService=G,this._contextMenuService=q,this._originalTopPadding=h1(this,0),this._originalScrollOffset=h1(this,0),this._originalScrollOffsetAnimated=TE(this._originalScrollOffset,this._store),this._modifiedTopPadding=h1(this,0),this._modifiedScrollOffset=h1(this,0),this._modifiedScrollOffsetAnimated=TE(this._modifiedScrollOffset,this._store);let U=!1;const H=h1("state",0),z=this._register(new Q8(()=>{H.set(H.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones((M)=>{if(!U&&!this._canIgnoreViewZoneUpdateEvent())z.schedule()})),this._register(this._editors.modified.onDidChangeViewZones((M)=>{if(!U&&!this._canIgnoreViewZoneUpdateEvent())z.schedule()})),this._register(this._editors.original.onDidChangeConfiguration((M)=>{if(M.hasChanged(144)||M.hasChanged(66))z.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration((M)=>{if(M.hasChanged(144)||M.hasChanged(66))z.schedule()}));const V=this._diffModel.map((M)=>M?t7(M.model.original.onDidChangeTokens,()=>M.model.original.tokenization.backgroundTokenizationState===2):void 0).map((M,T)=>M===null||M===void 0?void 0:M.read(T)),W=new Set,B=new Set,j=K1((M)=>{const T=this._diffModel.read(M),_=T===null||T===void 0?void 0:T.diff.read(M);if(!T||!_)return null;H.read(M);const x=this._options.renderSideBySide.read(M);return yn(this._editors.original,this._editors.modified,_.mappings,W,B,x)}),K=K1((M)=>{var T;const _=(T=this._diffModel.read(M))===null||T===void 0?void 0:T.movedTextToCompare.read(M);if(!_)return null;H.read(M);const w=_.changes.map((x)=>new xD(x));return yn(this._editors.original,this._editors.modified,w,W,B,!0)});function D(){const M=document.createElement("div");return M.className="diagonal-fill",M}const A=this._register(new e),P=K1((M)=>{var T,_,w,x,C,h,p,r;A.clear();const m=j.read(M)||[],c=[],Q0=[],K0=this._modifiedTopPadding.read(M);if(K0>0)Q0.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:K0,showInHiddenAreas:!0,suppressMouseDown:!0});const B0=this._originalTopPadding.read(M);if(B0>0)c.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:B0,showInHiddenAreas:!0,suppressMouseDown:!0});const P0=this._options.renderSideBySide.read(M),H0=!P0?(T=this._editors.modified._getViewModel())===null||T===void 0?void 0:T.createLineBreaksComputer():void 0;if(H0){for(let E1 of m)if(E1.diff)for(let V7=E1.originalRange.startLineNumber;V7<E1.originalRange.endLineNumberExclusive;V7++)H0===null||H0===void 0||H0.addRequest(this._editors.original.getModel().getLineContent(V7),null,null)}const s0=(_=H0===null||H0===void 0?void 0:H0.finalize())!==null&&_!==void 0?_:[];let k0=0;const w0=this._editors.modified.getOption(66),q0=(w=this._diffModel.read(M))===null||w===void 0?void 0:w.movedTextToCompare.read(M),a8=(C=(x=this._editors.original.getModel())===null||x===void 0?void 0:x.mightContainNonBasicASCII())!==null&&C!==void 0?C:!1,B6=(p=(h=this._editors.original.getModel())===null||h===void 0?void 0:h.mightContainRTL())!==null&&p!==void 0?p:!1,N7=bD.fromEditor(this._editors.modified);for(let E1 of m)if(E1.diff&&!P0){if(!E1.originalRange.isEmpty){V.read(M);const s5=document.createElement("div");s5.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const J6=new nE(E1.originalRange.mapToLineArray((T7)=>this._editors.original.getModel().tokenization.getLineTokens(T7)),E1.originalRange.mapToLineArray((T7)=>s0[k0++]),a8,B6),t0=[];for(let T7 of E1.diff.innerChanges||[])t0.push(new eQ(T7.originalRange.delta(-(E1.diff.original.startLineNumber-1)),FW.className,0));const a5=In(J6,N7,t0,s5),pJ=document.createElement("div");if(pJ.className="inline-deleted-margin-view-zone",O8(pJ,N7.fontInfo),this._options.renderIndicators.read(M))for(let T7=0;T7<a5.heightInLines;T7++){const j5=document.createElement("div");j5.className=`delete-sign ${C0.asClassName(EE)}`,j5.setAttribute("style",`position:absolute;top:${T7*w0}px;width:${N7.lineDecorationsWidth}px;height:${w0}px;right:0;`),pJ.appendChild(j5)}let mJ=void 0;A.add(new iE(()=>OS(mJ),pJ,this._editors.modified,E1.diff,this._diffEditorWidget,a5.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let T7=0;T7<a5.viewLineCounts.length;T7++){const j5=a5.viewLineCounts[T7];if(j5>1)c.push({afterLineNumber:E1.originalRange.startLineNumber+T7,domNode:D(),heightInPx:(j5-1)*w0,showInHiddenAreas:!0,suppressMouseDown:!0})}Q0.push({afterLineNumber:E1.modifiedRange.startLineNumber-1,domNode:s5,heightInPx:a5.heightInLines*w0,minWidthInPx:a5.minWidthInPx,marginDomNode:pJ,setZoneId(T7){mJ=T7},showInHiddenAreas:!0,suppressMouseDown:!0})}const V7=document.createElement("div");V7.className="gutter-delete",c.push({afterLineNumber:E1.originalRange.endLineNumberExclusive-1,domNode:D(),heightInPx:E1.modifiedHeightInPx,marginDomNode:V7,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const V7=E1.modifiedHeightInPx-E1.originalHeightInPx;if(V7>0){if(q0===null||q0===void 0?void 0:q0.lineRangeMapping.original.delta(-1).deltaLength(2).contains(E1.originalRange.endLineNumberExclusive-1))continue;c.push({afterLineNumber:E1.originalRange.endLineNumberExclusive-1,domNode:D(),heightInPx:V7,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let s5=function(){const t0=document.createElement("div");return t0.className="arrow-revert-change "+C0.asClassName(z0.arrowRight),U0("div",{},t0)};if(q0===null||q0===void 0?void 0:q0.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(E1.modifiedRange.endLineNumberExclusive-1))continue;let J6=void 0;if(E1.diff&&E1.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(M))J6=s5();Q0.push({afterLineNumber:E1.modifiedRange.endLineNumberExclusive-1,domNode:D(),heightInPx:-V7,marginDomNode:J6,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(let E1 of(r=K.read(M))!==null&&r!==void 0?r:[]){if(!(q0===null||q0===void 0?void 0:q0.lineRangeMapping.original.intersect(E1.originalRange))||!(q0===null||q0===void 0?void 0:q0.lineRangeMapping.modified.intersect(E1.modifiedRange)))continue;const V7=E1.modifiedHeightInPx-E1.originalHeightInPx;if(V7>0)c.push({afterLineNumber:E1.originalRange.endLineNumberExclusive-1,domNode:D(),heightInPx:V7,showInHiddenAreas:!0,suppressMouseDown:!0});else Q0.push({afterLineNumber:E1.modifiedRange.endLineNumberExclusive-1,domNode:D(),heightInPx:-V7,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:c,mod:Q0}});this._register(x7((M)=>{const T=xJ.capture(this._editors.modified),_=P.read(M);U=!0,this._editors.original.changeViewZones((w)=>{for(let x of W)w.removeZone(x);W.clear();for(let x of _.orig){const C=w.addZone(x);if(x.setZoneId)x.setZoneId(C);W.add(C)}}),this._editors.modified.changeViewZones((w)=>{for(let x of B)w.removeZone(x);B.clear();for(let x of _.mod){const C=w.addZone(x);if(x.setZoneId)x.setZoneId(C);B.add(C)}}),U=!1,T.restore(this._editors.modified)})),this._register(N0(()=>{this._editors.original.changeViewZones((M)=>{for(let T of W)M.removeZone(T);W.clear()}),this._editors.modified.changeViewZones((M)=>{for(let T of B)M.removeZone(T);B.clear()})}));let R=!1;this._register(this._editors.original.onDidScrollChange((M)=>{if(M.scrollLeftChanged&&!R)R=!0,this._editors.modified.setScrollLeft(M.scrollLeft),R=!1})),this._register(this._editors.modified.onDidScrollChange((M)=>{if(M.scrollLeftChanged&&!R)R=!0,this._editors.original.setScrollLeft(M.scrollLeft),R=!1})),this._originalScrollTop=t7(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=t7(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(c1((M)=>{const T=this._originalScrollTop.read(M)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(M))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(M));if(T!==this._editors.modified.getScrollTop())this._editors.modified.setScrollTop(T,1)})),this._register(c1((M)=>{const T=this._modifiedScrollTop.read(M)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(M))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(M));if(T!==this._editors.original.getScrollTop())this._editors.original.setScrollTop(T,1)})),this._register(c1((M)=>{var T;const _=(T=this._diffModel.read(M))===null||T===void 0?void 0:T.movedTextToCompare.read(M);let w=0;if(_){const x=this._editors.original.getTopForLineNumber(_.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();w=this._editors.modified.getTopForLineNumber(_.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-x}if(w>0)this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(w,void 0);else if(w<0)this._modifiedTopPadding.set(-w,void 0),this._originalTopPadding.set(0,void 0);else setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400);if(this._editors.modified.hasTextFocus())this._originalScrollOffset.set(this._modifiedScrollOffset.get()-w,void 0,!0);else this._modifiedScrollOffset.set(this._originalScrollOffset.get()+w,void 0,!0)}))}};vD=G$0([En(5,lY),En(6,f$)],vD)});var q$0,U$0,S4,C4;var oE=N(()=>{y0();q7();jK();$0();H5();jQ();W1();H_();e6();X7();q$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},U$0=function(J,$){return function(X,Q){$(X,Q,J)}},C4=S4=class J extends f{constructor($,X,Q,Y,Z,G,q,U){super();this._editors=$,this._rootElement=X,this._diffModel=Q,this._rootWidth=Y,this._rootHeight=Z,this._modifiedEditorLayoutInfo=G,this._options=q,this._themeService=U;const H=t7(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),z=K1((B)=>{const j=H.read(B),K=j.getColor(jh)||(j.getColor(Wh)||XK).transparent(2),D=j.getColor(Fh)||(j.getColor(Bh)||QK).transparent(2);return{insertColor:K,removeColor:D}}),V=t7(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),W=t7(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register(x7((B,j)=>{if(!this._options.renderOverviewRuler.read(B))return;const K=r0(document.createElement("div"));K.setClassName("diffViewport"),K.setPosition("absolute");const D=A7("div.diffOverview",{style:{position:"absolute",top:"0px",width:S4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;j.add(WW(D,K.domNode)),j.add(X8(D,G0.POINTER_DOWN,(A)=>{this._editors.modified.delegateVerticalScrollbarPointerDown(A)})),j.add(l(D,G0.MOUSE_WHEEL,(A)=>{this._editors.modified.delegateScrollFromMouseWheelEvent(A)},{passive:!1})),j.add(WW(this._rootElement,D)),j.add(x7((A,P)=>{const R=this._diffModel.read(A),M=this._editors.original.createOverviewRuler("original diffOverviewRuler");if(M)P.add(M),P.add(WW(D,M.getDomNode()));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T)P.add(T),P.add(WW(D,T.getDomNode()));if(!M||!T)return;const _=_6("viewZoneChanged",this._editors.original.onDidChangeViewZones),w=_6("viewZoneChanged",this._editors.modified.onDidChangeViewZones),x=_6("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),C=_6("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);P.add(c1((h)=>{var p;_.read(h),w.read(h),x.read(h),C.read(h);const r=z.read(h),m=(p=R===null||R===void 0?void 0:R.diff.read(h))===null||p===void 0?void 0:p.mappings;function c(B0,P0,H0){const s0=H0._getViewModel();if(!s0)return[];return B0.filter((k0)=>k0.length>0).map((k0)=>{const w0=s0.coordinatesConverter.convertModelPositionToViewPosition(new b(k0.startLineNumber,1)),q0=s0.coordinatesConverter.convertModelPositionToViewPosition(new b(k0.endLineNumberExclusive,1)),a8=q0.lineNumber-w0.lineNumber;return new dK(w0.lineNumber,q0.lineNumber,a8,P0.toString())})}const Q0=c((m||[]).map((B0)=>B0.lineRangeMapping.original),r.removeColor,this._editors.original),K0=c((m||[]).map((B0)=>B0.lineRangeMapping.modified),r.insertColor,this._editors.modified);M===null||M===void 0||M.setZones(Q0),T===null||T===void 0||T.setZones(K0)})),P.add(c1((h)=>{const p=this._rootHeight.read(h),r=this._rootWidth.read(h),m=this._modifiedEditorLayoutInfo.read(h);if(m){const c=S4.ENTIRE_DIFF_OVERVIEW_WIDTH-2*S4.ONE_OVERVIEW_WIDTH;M.setLayout({top:0,height:p,right:c+S4.ONE_OVERVIEW_WIDTH,width:S4.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:p,right:0,width:S4.ONE_OVERVIEW_WIDTH});const Q0=V.read(h),K0=W.read(h),B0=this._editors.modified.getOption(102),P0=new fX(B0.verticalHasArrows?B0.arrowSize:0,B0.verticalScrollbarSize,0,m.height,K0,Q0);K.setTop(P0.getSliderPosition()),K.setHeight(P0.getSliderSize())}else K.setTop(0),K.setHeight(0);D.style.height=p+"px",D.style.left=r-S4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",K.setWidth(S4.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};C4.ONE_OVERVIEW_WIDTH=15;C4.ENTIRE_DIFF_OVERVIEW_WIDTH=S4.ONE_OVERVIEW_WIDTH*2;C4=S4=q$0([U$0(7,d8)],C4)});var _t0,wt0;var xn=N(()=>{m0();e6();_t0=k("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},F("diffEditor.move.border","The border color for text that got moved in the diff editor.")),wt0=k("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},F("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."))});class DW extends f{constructor(){super(...arguments);this._id=++DW.idCounter,this._onDidDispose=this._register(new E),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(J){return this._targetEditor.getVisibleColumnFromPosition(J)}getPosition(){return this._targetEditor.getPosition()}setPosition(J,$="api"){this._targetEditor.setPosition(J,$)}revealLine(J,$=0){this._targetEditor.revealLine(J,$)}revealLineInCenter(J,$=0){this._targetEditor.revealLineInCenter(J,$)}revealLineInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealLineInCenterIfOutsideViewport(J,$)}revealLineNearTop(J,$=0){this._targetEditor.revealLineNearTop(J,$)}revealPosition(J,$=0){this._targetEditor.revealPosition(J,$)}revealPositionInCenter(J,$=0){this._targetEditor.revealPositionInCenter(J,$)}revealPositionInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(J,$)}revealPositionNearTop(J,$=0){this._targetEditor.revealPositionNearTop(J,$)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(J,$="api"){this._targetEditor.setSelection(J,$)}setSelections(J,$="api"){this._targetEditor.setSelections(J,$)}revealLines(J,$,X=0){this._targetEditor.revealLines(J,$,X)}revealLinesInCenter(J,$,X=0){this._targetEditor.revealLinesInCenter(J,$,X)}revealLinesInCenterIfOutsideViewport(J,$,X=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(J,$,X)}revealLinesNearTop(J,$,X=0){this._targetEditor.revealLinesNearTop(J,$,X)}revealRange(J,$=0,X=!1,Q=!0){this._targetEditor.revealRange(J,$,X,Q)}revealRangeInCenter(J,$=0){this._targetEditor.revealRangeInCenter(J,$)}revealRangeInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(J,$)}revealRangeNearTop(J,$=0){this._targetEditor.revealRangeNearTop(J,$)}revealRangeNearTopIfOutsideViewport(J,$=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(J,$)}revealRangeAtTop(J,$=0){this._targetEditor.revealRangeAtTop(J,$)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(J,$,X){this._targetEditor.trigger(J,$,X)}createDecorationsCollection(J){return this._targetEditor.createDecorationsCollection(J)}changeDecorations(J){return this._targetEditor.changeDecorations(J)}}var bn=N(()=>{A0();$0();DW.idCounter=0});var H$0,vn,fD;var fn=N(()=>{A0();$0();H5();oE();F6();m0();e0();uX();H$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},vn=function(J,$){return function(X,Q){$(X,Q,J)}},fD=class J extends f{constructor($,X,Q,Y,Z,G,q){super();this.originalEditorElement=$,this.modifiedEditorElement=X,this._options=Q,this._createInnerEditor=Z,this._instantiationService=G,this._keybindingService=q,this._onDidContentSizeChange=this._register(new E),this.original=this._register(this._createLeftHandSideEditor(Q.editorOptions.get(),Y.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(Q.editorOptions.get(),Y.modifiedEditor||{})),this.modifiedModel=t7(this.modified.onDidChangeModel,()=>this.modified.getModel()),this._register(iY({createEmptyChangeSummary:()=>({}),handleChange:(U,H)=>{if(U.didChange(Q.editorOptions))Object.assign(H,U.change.changedOptions);return!0}},(U,H)=>{Q.editorOptions.read(U),this._options.renderSideBySide.read(U),this.modified.updateOptions(this._adjustOptionsForRightHandSide(U,H)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(U,H))}))}_createLeftHandSideEditor($,X){const Q=this._adjustOptionsForLeftHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,Q,X);return Y.setContextValue("isInDiffLeftEditor",!0),Y}_createRightHandSideEditor($,X){const Q=this._adjustOptionsForRightHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,Q,X);return Y.setContextValue("isInDiffRightEditor",!0),Y}_constructInnerEditor($,X,Q,Y){const Z=this._createInnerEditor($,X,Q,Y);return this._register(Z.onDidContentSizeChange((G)=>{const q=this.original.getContentWidth()+this.modified.getContentWidth()+C4.ENTIRE_DIFF_OVERVIEW_WIDTH,U=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:U,contentWidth:q,contentHeightChanged:G.contentHeightChanged,contentWidthChanged:G.contentWidthChanged})})),Z}_adjustOptionsForLeftHandSide($,X){const Q=this._adjustOptionsForSubEditor(X);if(!this._options.renderSideBySide.get())Q.wordWrapOverride1="off",Q.wordWrapOverride2="off",Q.stickyScroll={enabled:!1},Q.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1};else Q.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},Q.wordWrapOverride1=this._options.diffWordWrap.get();if(X.originalAriaLabel)Q.ariaLabel=X.originalAriaLabel;return Q.ariaLabel=this._updateAriaLabel(Q.ariaLabel),Q.readOnly=!this._options.originalEditable.get(),Q.dropIntoEditor={enabled:!Q.readOnly},Q.extraEditorClassName="original-in-monaco-diff-editor",Q}_adjustOptionsForRightHandSide($,X){const Q=this._adjustOptionsForSubEditor(X);if(X.modifiedAriaLabel)Q.ariaLabel=X.modifiedAriaLabel;return Q.ariaLabel=this._updateAriaLabel(Q.ariaLabel),Q.wordWrapOverride1=this._options.diffWordWrap.get(),Q.revealHorizontalRightPadding=aJ.revealHorizontalRightPadding.defaultValue+C4.ENTIRE_DIFF_OVERVIEW_WIDTH,Q.scrollbar.verticalHasArrows=!1,Q.extraEditorClassName="modified-in-monaco-diff-editor",Q}_adjustOptionsForSubEditor($){const X=Object.assign(Object.assign({},$),{dimension:{height:0,width:0}});if(X.inDiffEditor=!0,X.automaticLayout=!1,X.scrollbar=Object.assign({},X.scrollbar||{}),X.scrollbar.vertical="visible",X.folding=!1,X.codeLens=this._options.diffCodeLens.get(),X.fixedOverflowWidgets=!0,X.minimap=Object.assign({},X.minimap||{}),X.minimap.enabled=!1,this._options.hideUnchangedRegions.get())X.stickyScroll={enabled:!1};else X.stickyScroll=this._options.editorOptions.get().stickyScroll;return X}_updateAriaLabel($){var X;if(!$)$="";const Q=F("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(X=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||X===void 0?void 0:X.getAriaLabel());if(this._options.accessibilityVerbose.get())return $+Q;else if($)return $.replaceAll(Q,"");return""}};fD=H$0([vn(5,G1),vn(6,a7)],fD)});class tE{get editorOptions(){return this._options}constructor(J,$){this.diffEditorWidth=$,this.couldShowInlineViewBecauseOfSize=K1(this,(Q)=>this._options.read(Q).renderSideBySide&&this.diffEditorWidth.read(Q)<=this._options.read(Q).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=K1(this,(Q)=>this._options.read(Q).renderOverviewRuler),this.renderSideBySide=K1(this,(Q)=>this._options.read(Q).renderSideBySide&&!(this._options.read(Q).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Q))),this.readOnly=K1(this,(Q)=>this._options.read(Q).readOnly),this.shouldRenderRevertArrows=K1(this,(Q)=>{if(!this._options.read(Q).renderMarginRevertIcon)return!1;if(!this.renderSideBySide.read(Q))return!1;if(this.readOnly.read(Q))return!1;return!0}),this.renderIndicators=K1(this,(Q)=>this._options.read(Q).renderIndicators),this.enableSplitViewResizing=K1(this,(Q)=>this._options.read(Q).enableSplitViewResizing),this.splitViewDefaultRatio=K1(this,(Q)=>this._options.read(Q).splitViewDefaultRatio),this.ignoreTrimWhitespace=K1(this,(Q)=>this._options.read(Q).ignoreTrimWhitespace),this.maxComputationTimeMs=K1(this,(Q)=>this._options.read(Q).maxComputationTime),this.showMoves=K1(this,(Q)=>this._options.read(Q).experimental.showMoves&&this.renderSideBySide.read(Q)),this.isInEmbeddedEditor=K1(this,(Q)=>this._options.read(Q).isInEmbeddedEditor),this.diffWordWrap=K1(this,(Q)=>this._options.read(Q).diffWordWrap),this.originalEditable=K1(this,(Q)=>this._options.read(Q).originalEditable),this.diffCodeLens=K1(this,(Q)=>this._options.read(Q).diffCodeLens),this.accessibilityVerbose=K1(this,(Q)=>this._options.read(Q).accessibilityVerbose),this.diffAlgorithm=K1(this,(Q)=>this._options.read(Q).diffAlgorithm),this.showEmptyDecorations=K1(this,(Q)=>this._options.read(Q).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=K1(this,(Q)=>this._options.read(Q).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=K1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=K1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=K1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=K1(this,(Q)=>this._options.read(Q).hideUnchangedRegions.minimumLineCount);const X=Object.assign(Object.assign({},J),hn(J,H6));this._options=h1(this,X)}updateOptions(J){const $=hn(J,this._options.get()),X=Object.assign(Object.assign(Object.assign({},this._options.get()),J),$);this._options.set(X,void 0,{changedOptions:J})}}var hn;var gn=N(()=>{H5();hL();F6();hn=function(J,$){var X,Q,Y,Z,G,q,U,H;return{enableSplitViewResizing:R0(J.enableSplitViewResizing,$.enableSplitViewResizing),splitViewDefaultRatio:uS(J.splitViewDefaultRatio,0.5,0.1,0.9),renderSideBySide:R0(J.renderSideBySide,$.renderSideBySide),renderMarginRevertIcon:R0(J.renderMarginRevertIcon,$.renderMarginRevertIcon),maxComputationTime:TQ(J.maxComputationTime,$.maxComputationTime,0,1073741824),maxFileSize:TQ(J.maxFileSize,$.maxFileSize,0,1073741824),ignoreTrimWhitespace:R0(J.ignoreTrimWhitespace,$.ignoreTrimWhitespace),renderIndicators:R0(J.renderIndicators,$.renderIndicators),originalEditable:R0(J.originalEditable,$.originalEditable),diffCodeLens:R0(J.diffCodeLens,$.diffCodeLens),renderOverviewRuler:R0(J.renderOverviewRuler,$.renderOverviewRuler),diffWordWrap:h8(J.diffWordWrap,$.diffWordWrap,["off","on","inherit"]),diffAlgorithm:h8(J.diffAlgorithm,$.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:R0(J.accessibilityVerbose,$.accessibilityVerbose),experimental:{showMoves:R0((X=J.experimental)===null||X===void 0?void 0:X.showMoves,$.experimental.showMoves),showEmptyDecorations:R0((Q=J.experimental)===null||Q===void 0?void 0:Q.showEmptyDecorations,$.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:R0((Z=(Y=J.hideUnchangedRegions)===null||Y===void 0?void 0:Y.enabled)!==null&&Z!==void 0?Z:(G=J.experimental)===null||G===void 0?void 0:G.collapseUnchangedRegions,$.hideUnchangedRegions.enabled),contextLineCount:TQ((q=J.hideUnchangedRegions)===null||q===void 0?void 0:q.contextLineCount,$.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:TQ((U=J.hideUnchangedRegions)===null||U===void 0?void 0:U.minimumLineCount,$.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:TQ((H=J.hideUnchangedRegions)===null||H===void 0?void 0:H.revealLineCount,$.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:R0(J.isInEmbeddedEditor,$.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:R0(J.onlyShowAccessibleDiffViewer,$.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:TQ(J.renderSideBySideInlineBreakpoint,$.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:R0(J.useInlineViewWhenSpaceIsLimited,$.useInlineViewWhenSpaceIsLimited)}}});var pn,V$0,W$0,B$0,z$0,RW,hD;var mn=N(()=>{y0();OX();A1();A0();$0();H5();ni();L5();t9();_A();Gn();Wn();Bn();Pn();Cn();gE();oE();jQ();W1();u0();hH();FY();T$();QW();s1();e0();rz();HV();xn();bn();fn();gn();aE();pn=function(J,$){const X=LH($,(Y)=>Y.original.startLineNumber<=J.lineNumber);if(!X)return L.fromPositions(J);if(X.original.endLineNumberExclusive<=J.lineNumber){const Y=J.lineNumber-X.original.endLineNumberExclusive+X.modified.endLineNumberExclusive;return L.fromPositions(new b(Y,J.column))}if(!X.innerChanges)return L.fromPositions(new b(X.modified.startLineNumber,1));const Q=LH(X.innerChanges,(Y)=>Y.originalRange.getStartPosition().isBeforeOrEqual(J));if(!Q){const Y=J.lineNumber-X.original.startLineNumber+X.modified.startLineNumber;return L.fromPositions(new b(Y,J.column))}if(Q.originalRange.containsPosition(J))return Q.modifiedRange;else{const Y=V$0(Q.originalRange.getEndPosition(),J);return L.fromPositions(W$0(Q.modifiedRange.getEndPosition(),Y))}},V$0=function(J,$){if(J.lineNumber===$.lineNumber)return new kG(0,$.column-J.column);else return new kG($.lineNumber-J.lineNumber,$.column-1)},W$0=function(J,$){if($.lineCount===0)return new b(J.lineNumber,J.column+$.columnCount);else return new b(J.lineNumber+$.lineCount,$.columnCount+1)},B$0=function(J){return J.mappings.map(($)=>{const X=$.lineRangeMapping;let Q,Y,Z,G,q=X.innerChanges;if(X.original.isEmpty)Q=X.original.startLineNumber-1,Y=0,q=void 0;else Q=X.original.startLineNumber,Y=X.original.endLineNumberExclusive-1;if(X.modified.isEmpty)Z=X.modified.startLineNumber-1,G=0,q=void 0;else Z=X.modified.startLineNumber,G=X.modified.endLineNumberExclusive-1;return{originalStartLineNumber:Q,originalEndLineNumber:Y,modifiedStartLineNumber:Z,modifiedEndLineNumber:G,charChanges:q===null||q===void 0?void 0:q.map((U)=>({originalStartLineNumber:U.originalRange.startLineNumber,originalStartColumn:U.originalRange.startColumn,originalEndLineNumber:U.originalRange.endLineNumber,originalEndColumn:U.originalRange.endColumn,modifiedStartLineNumber:U.modifiedRange.startLineNumber,modifiedStartColumn:U.modifiedRange.startColumn,modifiedEndLineNumber:U.modifiedRange.endLineNumber,modifiedEndColumn:U.modifiedRange.endColumn}))}})},z$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},RW=function(J,$){return function(X,Q){$(X,Q,J)}},hD=class J extends DW{constructor($,X,Q,Y,Z,G,q,U){var H;super();this._domElement=$,this._parentContextKeyService=Y,this._parentInstantiationService=Z,this._audioCueService=q,this._editorProgressService=U,this.elements=A7("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[A7("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[U0("span",{},"No Changes")]),A7("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),A7("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),A7("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register(FE("diffModel",void 0)),this.onDidChangeModel=Y0.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new eX([p0,this._contextKeyService])),this._boundarySashes=h1(this,void 0),this._accessibleDiffViewerShouldBeVisible=h1(this,!1),this._accessibleDiffViewerVisible=K1(this,(K)=>this._options.onlyShowAccessibleDiffViewer.read(K)?!0:this._accessibleDiffViewerShouldBeVisible.read(K)),this.movedBlocksLinesPart=h1(this,void 0),this._layoutInfo=K1(this,(K)=>{var D,A,P;const R=this._rootSizeObserver.width.read(K),M=this._rootSizeObserver.height.read(K),T=(D=this._sash.read(K))===null||D===void 0?void 0:D.sashLeft.read(K),_=T!==null&&T!==void 0?T:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),w=R-_-(this._options.renderOverviewRuler.read(K)?C4.ENTIRE_DIFF_OVERVIEW_WIDTH:0),x=(P=(A=this.movedBlocksLinesPart.read(K))===null||A===void 0?void 0:A.width.read(K))!==null&&P!==void 0?P:0,C=_-x;return this.elements.original.style.width=C+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=w+"px",this.elements.modified.style.left=_+"px",this._editors.original.layout({width:C,height:M}),this._editors.modified.layout({width:w,height:M}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((K,D)=>K===null||K===void 0?void 0:K.diff.read(D)),this.onDidUpdateDiff=Y0.fromObservableLight(this._diffValue),G.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(N0(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new NE(this.elements.root,X.dimension)),this._rootSizeObserver.setAutomaticLayout((H=X.automaticLayout)!==null&&H!==void 0?H:!1),this._options=new tE(X,this._rootSizeObserver.width),this._contextKeyService.createKey(t.isEmbeddedDiffEditor.key,!1);const z=t.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register(c1((K)=>{z.set(this._options.isInEmbeddedEditor.read(K))}));const V=t.comparingMovedCode.bindTo(this._contextKeyService);this._register(c1((K)=>{var D;V.set(!!((D=this._diffModel.read(K))===null||D===void 0?void 0:D.movedTextToCompare.read(K)))}));const W=t.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register(c1((K)=>{W.set(this._options.couldShowInlineViewBecauseOfSize.read(K))})),this._editors=this._register(this._instantiationService.createInstance(fD,this.elements.original,this.elements.modified,this._options,Q,(K,D,A,P)=>this._createInnerEditor(K,D,A,P))),this._sash=d$(this,(K,D)=>{const A=this._options.renderSideBySide.read(K);if(this.elements.root.classList.toggle("side-by-side",A),!A)return;const P=D.add(new mE(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((R,M)=>R-(this._options.renderOverviewRuler.read(M)?C4.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return D.add(c1((R)=>{const M=this._boundarySashes.read(R);if(M)P.setBoundarySashes(M)})),P}),this._register(nY(this._sash)),this._register(x7((K,D)=>{this.unchangedRangesFeature=D.add(this._instantiationService.createInstance(s$(yD,K),this._editors,this._diffModel,this._options))})),this._register(x7((K,D)=>{D.add(new(s$(pE,K))(this._editors,this._diffModel,this._options))})),this._register(x7((K,D)=>{D.add(this._instantiationService.createInstance(s$(vD,K),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register(x7((K,D)=>{D.add(this._instantiationService.createInstance(s$(C4,K),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((A)=>A.modifiedEditor),this._options))})),this._register(x7((K,D)=>{this._accessibleDiffViewer=D.add(this._register(this._instantiationService.createInstance(s$(FQ,K),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(A,P)=>this._accessibleDiffViewerShouldBeVisible.set(A,P),this._options.onlyShowAccessibleDiffViewer.map((A)=>!A),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((A,P)=>{var R;return(R=A===null||A===void 0?void 0:A.diff.read(P))===null||R===void 0?void 0:R.mappings.map((M)=>M.lineRangeMapping)}),this._editors)))}));const B=this._accessibleDiffViewerVisible.map((K)=>K?"hidden":"visible");this._register(CJ(this.elements.modified,{visibility:B})),this._register(CJ(this.elements.original,{visibility:B})),this._createDiffEditorContributions(),G.addDiffEditor(this),this._register(nY(this._layoutInfo)),this._register(x7((K,D)=>{this.movedBlocksLinesPart.set(D.add(new(s$(a$,K))(this.elements.root,this._diffModel,this._layoutInfo.map((A)=>A.originalEditor),this._layoutInfo.map((A)=>A.modifiedEditor),this._editors)),void 0)})),this._register(CJ(this.elements.overlay,{width:this._layoutInfo.map((K,D)=>K.originalEditor.width+(this._options.renderSideBySide.read(D)?0:K.modifiedEditor.width)),visibility:K1((K)=>{var D,A;return this._options.hideUnchangedRegions.read(K)&&((A=(D=this._diffModel.read(K))===null||D===void 0?void 0:D.diff.read(K))===null||A===void 0?void 0:A.mappings.length)===0?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown((K)=>{var D,A;if(!K.event.rightButton&&K.target.position&&((D=K.target.element)===null||D===void 0?void 0:D.className.includes("arrow-revert-change"))){const P=K.target.position.lineNumber,R=K.target,M=this._diffModel.get();if(!M)return;const T=(A=M.diff.get())===null||A===void 0?void 0:A.mappings;if(!T)return;const _=T.find((w)=>(R===null||R===void 0?void 0:R.detail.afterLineNumber)===w.lineRangeMapping.modified.startLineNumber-1||w.lineRangeMapping.modified.startLineNumber===P);if(!_)return;this.revert(_.lineRangeMapping),K.event.stopPropagation()}})),this._register(Y0.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(K)=>{var D,A;if((K===null||K===void 0?void 0:K.reason)===3){const P=(A=(D=this._diffModel.get())===null||D===void 0?void 0:D.diff.get())===null||A===void 0?void 0:A.mappings.find((R)=>R.lineRangeMapping.modified.contains(K.position.lineNumber));if(P===null||P===void 0?void 0:P.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue(R1.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"});else if(P===null||P===void 0?void 0:P.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue(R1.diffLineInserted,{source:"diffEditor.cursorPositionChanged"});else if(P)this._audioCueService.playAudioCue(R1.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const j=this._diffModel.map((K,D)=>K===null||K===void 0?void 0:K.isDiffUpToDate.read(D));this._register(x7((K,D)=>{if(j.read(K)===!1){const A=this._editorProgressService.show(!0,1000);D.add(N0(()=>A.done()))}}))}_createInnerEditor($,X,Q,Y){return $.createInstance(XQ,X,Q,Y)}_createDiffEditorContributions(){const $=hQ.getDiffEditorContributions();for(let X of $)try{this._register(this._instantiationService.createInstance(X.ctor,this))}catch(Q){a0(Q)}}get _targetEditor(){return this._editors.modified}getEditorType(){return oQ.IDiffEditor}layout($){this._rootSizeObserver.observe($)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $;const X=this._editors.original.saveViewState(),Q=this._editors.modified.saveViewState();return{original:X,modified:Q,modelState:($=this._diffModel.get())===null||$===void 0?void 0:$.serializeState()}}restoreViewState($){var X;if($&&$.original&&$.modified){const Q=$;if(this._editors.original.restoreViewState(Q.original),this._editors.modified.restoreViewState(Q.modified),Q.modelState)(X=this._diffModel.get())===null||X===void 0||X.restoreSerializedState(Q.modelState)}}createViewModel($){return this._instantiationService.createInstance(SD,$,this._options,this)}getModel(){var $,X;return(X=($=this._diffModel.get())===null||$===void 0?void 0:$.model)!==null&&X!==void 0?X:null}setModel($){if(!$&&this._diffModel.get())this._accessibleDiffViewer.close();const X=$?"model"in $?$:this.createViewModel($):void 0;this._editors.original.setModel(X?X.model.original:null),this._editors.modified.setModel(X?X.model.modified:null),p8((Q)=>{this._diffModel.set(X,Q)})}updateOptions($){this._options.updateOptions($)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get();if(!X)return null;return B$0(X)}revert($){var X;const Q=(X=this._diffModel.get())===null||X===void 0?void 0:X.model;if(!Q)return;const Y=$.innerChanges?$.innerChanges.map((Z)=>({range:Z.modifiedRange,text:Q.original.getValueInRange(Z.originalRange)})):[{range:$.modified.toExclusiveRange(),text:Q.original.getValueInRange($.original.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",Y)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}mapToOtherSide(){var $,X;const Q=this._editors.modified.hasWidgetFocus(),Y=Q?this._editors.modified:this._editors.original,Z=Q?this._editors.original:this._editors.modified;let G;const q=Y.getSelection();if(q){const U=(X=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get())===null||X===void 0?void 0:X.mappings.map((H)=>Q?H.lineRangeMapping.flip():H.lineRangeMapping);if(U){const H=pn(q.getStartPosition(),U),z=pn(q.getEndPosition(),U);G=L.plusRange(H,z)}}return{destination:Z,destinationSelection:G}}switchSide(){const{destination:$,destinationSelection:X}=this.mapToOtherSide();if($.focus(),X)$.setSelection(X)}exitCompareMove(){const $=this._diffModel.get();if(!$)return;$.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!X)return;p8((Q)=>{for(let Y of X)Y.collapseAll(Q)})}showAllUnchangedRegions(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!X)return;p8((Q)=>{for(let Y of X)Y.showAll(Q)})}};hD=z$0([RW(3,p0),RW(4,G1),RW(5,p1),RW(6,dY),RW(7,YQ)],hD)});function Jy(J,$,X,Q,Y){if(X=X||"",!Q){const Z=X.indexOf("\n");let G=X;if(Z!==-1)G=X.substring(0,Z);return cn(J,X,$.createByFilepathOrFirstLine(Y||null,G),Y)}return cn(J,X,$.createById(Q),Y)}var F$0,cn,eE,H8,j$0,un,gD,pD,mD;var ln=N(()=>{$Y();$0();t9();_A();O_();ND();tV();e4();n6();y9();s1();mG();e0();uX();JQ();X7();YY();rL();eV();HV();UX();E5();AL();KJ();b6();Y5();mn();QW();F$0=function(J){if(!J){if(un)return;un=!0}qf(J||document.body)};cn=function(J,$,X,Q){return J.createModel($,X,Q)},eE=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},H8=function(J,$){return function(X,Q){$(X,Q,J)}},j$0=0,un=!1,gD=class J extends XQ{constructor($,X,Q,Y,Z,G,q,U,H,z,V,W){const B=Object.assign({},X);B.ariaLabel=B.ariaLabel||WV.editorViewAccessibleLabel,B.ariaLabel=B.ariaLabel+";"+WV.accessibilityHelpMessage;super($,B,{},Q,Y,Z,G,U,H,z,V,W);if(q instanceof sY)this._standaloneKeybindingService=q;else this._standaloneKeybindingService=null;F$0(B.ariaContainerElement)}addCommand($,X,Q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Y="DYNAMIC_"+ ++j$0,Z=M0.deserialize(Q);return this._standaloneKeybindingService.addDynamicKeybinding(Y,$,X,Z),Y}createContextKey($,X){return this._contextKeyService.createKey($,X)}addAction($){if(typeof $.id!=="string"||typeof $.label!=="string"||typeof $.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.None;const{id:X,label:Q}=$,Y=M0.and(M0.equals("editorId",this.getId()),M0.deserialize($.precondition)),Z=$.keybindings,G=M0.and(Y,M0.deserialize($.keybindingContext)),q=$.contextMenuGroupId||null,U=$.contextMenuOrder||0,H=(B,...j)=>{return Promise.resolve($.run(this,...j))},z=new e,V=this.getId()+":"+X;if(z.add(V8.registerCommand(V,H)),q){const B={command:{id:V,title:Q},when:Y,group:q,order:U};z.add(t4.appendMenuItem(S.EditorContext,B))}if(Array.isArray(Z))for(let B of Z)z.add(this._standaloneKeybindingService.addDynamicKeybinding(V,B,H,G));const W=new Dz(V,Q,Q,Y,(...B)=>Promise.resolve($.run(this,...B)),this._contextKeyService);return this._actions.set(X,W),z.add(N0(()=>{this._actions.delete(X)})),z}_triggerCommand($,X){if(this._codeEditorService instanceof tz)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand($,X)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand($,X)}};gD=eE([H8(2,G1),H8(3,p1),H8(4,H7),H8(5,p0),H8(6,a7),H8(7,d8),H8(8,i7),H8(9,f5),H8(10,N8),H8(11,q1)],gD);pD=class J extends gD{constructor($,X,Q,Y,Z,G,q,U,H,z,V,W,B,j,K){const D=Object.assign({},X);GW(z,D,!1);const A=U.registerEditorContainer($);if(typeof D.theme==="string")U.setTheme(D.theme);if(typeof D.autoDetectHighContrast!=="undefined")U.setAutoDetectHighContrast(Boolean(D.autoDetectHighContrast));const P=D.model;delete D.model;super($,D,Q,Y,Z,G,q,U,H,V,j,K);this._configurationService=z,this._standaloneThemeService=U,this._register(A);let R;if(typeof P==="undefined"){const M=B.getLanguageIdByMimeType(D.language)||D.language||P7;R=Jy(W,B,D.value||"",M,void 0),this._ownsModel=!0}else R=P,this._ownsModel=!1;if(this._attachModel(R),R){const M={oldModelUrl:null,newModelUrl:R.uri};this._onDidChangeModel.fire(M)}}dispose(){super.dispose()}updateOptions($){if(GW(this._configurationService,$,!1),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_postDetachModelCleanup($){if(super._postDetachModelCleanup($),$&&this._ownsModel)$.dispose(),this._ownsModel=!1}};pD=eE([H8(2,G1),H8(3,p1),H8(4,H7),H8(5,p0),H8(6,a7),H8(7,A9),H8(8,i7),H8(9,u1),H8(10,f5),H8(11,U7),H8(12,o1),H8(13,N8),H8(14,q1)],pD);mD=class J extends hD{constructor($,X,Q,Y,Z,G,q,U,H,z,V,W){const B=Object.assign({},X);GW(U,B,!0);const j=G.registerEditorContainer($);if(typeof B.theme==="string")G.setTheme(B.theme);if(typeof B.autoDetectHighContrast!=="undefined")G.setAutoDetectHighContrast(Boolean(B.autoDetectHighContrast));super($,B,{},Y,Q,Z,W,z);this._configurationService=U,this._standaloneThemeService=G,this._register(j)}dispose(){super.dispose()}updateOptions($){if(GW(this._configurationService,$,!0),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_createInnerEditor($,X,Q){return $.createInstance(gD,X,Q)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand($,X,Q){return this.getModifiedEditor().addCommand($,X,Q)}createContextKey($,X){return this.getModifiedEditor().createContextKey($,X)}addAction($){return this.getModifiedEditor().addAction($)}};mD=eE([H8(2,G1),H8(3,p0),H8(4,p1),H8(5,A9),H8(6,i7),H8(7,u1),H8(8,f$),H8(9,YQ),H8(10,lY),H8(11,dY)],mD)});function K$0(J,$,X){return S0.initialize(X||{}).createInstance(pD,J,$)}function A$0(J){return S0.get(p1).onCodeEditorAdd((X)=>{J(X)})}function P$0(J){return S0.get(p1).onDiffEditorAdd((X)=>{J(X)})}function D$0(){return S0.get(p1).listCodeEditors()}function R$0(){return S0.get(p1).listDiffEditors()}function M$0(J,$,X){return S0.initialize(X||{}).createInstance(mD,J,$)}function O$0(J){if(typeof J.id!=="string"||typeof J.run!=="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return V8.registerCommand(J.id,J.run)}function N$0(J){if(typeof J.id!=="string"||typeof J.label!=="string"||typeof J.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const $=M0.deserialize(J.precondition),X=(Y,...Z)=>{return k9.runEditorCommand(Y,Z,$,(G,q,U)=>Promise.resolve(J.run(q,...U)))},Q=new e;if(Q.add(V8.registerCommand(J.id,X)),J.contextMenuGroupId){const Y={command:{id:J.id,title:J.label},when:$,group:J.contextMenuGroupId,order:J.contextMenuOrder||0};Q.add(t4.appendMenuItem(S.EditorContext,Y))}if(Array.isArray(J.keybindings)){const Y=S0.get(a7);if(!(Y instanceof sY))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Z=M0.and($,M0.deserialize(J.keybindingContext));Q.add(Y.addDynamicKeybindings(J.keybindings.map((G)=>{return{keybinding:G,command:J.id,when:Z}})))}}return Q}function T$0(J){return sn([J])}function sn(J){const $=S0.get(a7);if(!($ instanceof sY))return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.None;return $.addDynamicKeybindings(J.map((X)=>{return{keybinding:X.keybinding,command:X.command,commandArgs:X.commandArgs,when:M0.deserialize(X.when)}}))}function _$0(J,$,X){const Q=S0.get(o1),Y=Q.getLanguageIdByMimeType($)||$;return Jy(S0.get(U7),Q,J,Y,X)}function w$0(J,$){const X=S0.get(o1),Q=X.getLanguageIdByMimeType($)||$||P7;J.setLanguage(X.createById(Q))}function L$0(J,$,X){if(J)S0.get(T4).changeOne($,J.uri,X)}function I$0(J){S0.get(T4).changeAll(J,[])}function k$0(J){return S0.get(T4).read(J)}function E$0(J){return S0.get(T4).onMarkerChanged(J)}function y$0(J){return S0.get(U7).getModel(J)}function S$0(){return S0.get(U7).getModels()}function C$0(J){return S0.get(U7).onModelAdded(J)}function x$0(J){return S0.get(U7).onModelRemoved(J)}function b$0(J){return S0.get(U7).onModelLanguageChanged((X)=>{J({model:X.model,oldLanguage:X.oldLanguageId})})}function v$0(J){return cv(S0.get(U7),S0.get(N8),J)}function f$0(J,$){const X=S0.get(o1),Q=S0.get(A9);return dH.colorizeElement(Q,X,J,$).then(()=>{Q.registerEditorContainer(J)})}function h$0(J,$,X){const Q=S0.get(o1);return S0.get(A9).registerEditorContainer(document.body),dH.colorize(Q,J,$,X)}function g$0(J,$,X=4){return S0.get(A9).registerEditorContainer(document.body),dH.colorizeModelLine(J,$,X)}function m$0(J,$){g1.getOrCreate($);const X=p$0($),Q=n9(J),Y=[];let Z=X.getInitialState();for(let G=0,q=Q.length;G<q;G++){const U=Q[G],H=X.tokenize(U,!0,Z);Y[G]=H.tokens,Z=H.endState}return Y}function u$0(J,$){S0.get(A9).defineTheme(J,$)}function c$0(J){S0.get(A9).setTheme(J)}function l$0(){d3.clearAllFontInfos()}function d$0(J,$){return V8.registerCommand({id:J,handler:$})}function s$0(J){return S0.get(IY).registerOpener({open(X){return dn(this,void 0,void 0,function*(){if(typeof X==="string")X=I0.parse(X);return J.open(X)})}})}function a$0(J){return S0.get(p1).registerCodeEditorOpenHandler((X,Q,Y)=>dn(this,void 0,void 0,function*(){var Z;if(!Q)return null;const G=(Z=X.options)===null||Z===void 0?void 0:Z.selection;let q;if(G&&typeof G.endLineNumber==="number"&&typeof G.endColumn==="number")q=G;else if(G)q={lineNumber:G.startLineNumber,column:G.startColumn};if(yield J.openCodeEditor(Q,X.resource,q))return Q;return null}))}function an(){return{create:K$0,getEditors:D$0,getDiffEditors:R$0,onDidCreateEditor:A$0,onDidCreateDiffEditor:P$0,createDiffEditor:M$0,addCommand:O$0,addEditorAction:N$0,addKeybindingRule:T$0,addKeybindingRules:sn,createModel:_$0,setModelLanguage:w$0,setModelMarkers:L$0,getModelMarkers:k$0,removeAllMarkers:I$0,onDidChangeMarkers:E$0,getModels:S$0,getModel:y$0,onDidCreateModel:C$0,onWillDisposeModel:x$0,onDidChangeModelLanguage:b$0,createWebWorker:v$0,colorizeElement:f$0,colorize:h$0,colorizeModelLine:g$0,tokenize:m$0,defineTheme:u$0,setTheme:c$0,remeasureFonts:l$0,registerCommand:d$0,registerLinkOpener:s$0,registerEditorOpener:a$0,AccessibilitySupport:IB,ContentWidgetPositionPreference:xB,CursorChangeReason:bB,DefaultEndOfLine:vB,EditorAutoIndentStrategy:hB,EditorOption:gB,EndOfLinePreference:pB,EndOfLineSequence:mB,MinimapPosition:nB,MouseTargetType:oB,OverlayWidgetPositionPreference:tB,OverviewRulerLane:eB,GlyphMarginLane:uB,RenderLineNumbersType:$j,RenderMinimap:Xj,ScrollbarVisibility:Yj,ScrollType:Qj,TextEditorCursorBlinkingStyle:Hj,TextEditorCursorStyle:zj,TrackedRangeStickiness:Vj,WrappingIndent:Wj,InjectedTextCursorStops:lB,PositionAffinity:Jj,ConfigurationChangedEvent:y3,BareFontInfo:qX,FontInfo:r2,TextModelResolvedOptions:$G,FindMatch:RX,ApplyUpdateResult:FZ,EditorZoom:ZJ,EditorType:oQ,EditorOptions:aJ}}var p$0,dn;var rn=N(()=>{$0();l0();l8();$x();NM();L5();t9();dv();F6();l3();Ij();hH();P6();E5();b6();KJ();gH();PJ();UX();Bj();Yf();ln();ND();tV();e4();n6();s1();uX();vU();gG();p$0=function(J){const $=g1.get(J);if($)return $;return{getInitialState:()=>tQ,tokenize:(X,Q,Y)=>uF(J,Y)}};dn=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});function Qy(J,$){if(!$||typeof $!=="object")throw new Error("Monarch: expecting a language definition object");const X={};X.languageId=J,X.includeLF=uD($.includeLF,!1),X.noThrow=!1,X.maxStack=100,X.start=typeof $.start==="string"?$.start:null,X.ignoreCase=uD($.ignoreCase,!1),X.unicode=uD($.unicode,!1),X.tokenPostfix=nn($.tokenPostfix,"."+X.languageId),X.defaultToken=nn($.defaultToken,"source"),X.usesEmbedded=!1;const Q=$;Q.languageId=J,Q.includeLF=X.includeLF,Q.ignoreCase=X.ignoreCase,Q.unicode=X.unicode,Q.noThrow=X.noThrow,Q.usesEmbedded=X.usesEmbedded,Q.stateNames=$.tokenizer,Q.defaultToken=X.defaultToken;function Y(G,q,U){for(let H of U){let z=H.include;if(z){if(typeof z!=="string")throw r1(X,"an \'include\' attribute must be a string at: "+G);if(z[0]==="@")z=z.substr(1);if(!$.tokenizer[z])throw r1(X,"include target \'"+z+"\' is not defined at: "+G);Y(G+"."+z,q,$.tokenizer[z])}else{const V=new tn(G);if(Array.isArray(H)&&H.length>=1&&H.length<=3)if(V.setRegex(Q,H[0]),H.length>=3)if(typeof H[1]==="string")V.setAction(Q,{token:H[1],next:H[2]});else if(typeof H[1]==="object"){const W=H[1];W.next=H[2],V.setAction(Q,W)}else throw r1(X,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+G);else V.setAction(Q,H[1]);else{if(!H.regex)throw r1(X,"a rule must either be an array, or an object with a \'regex\' or \'include\' field at: "+G);if(H.name){if(typeof H.name==="string")V.name=H.name}if(H.matchOnlyAtStart)V.matchOnlyAtLineStart=uD(H.matchOnlyAtLineStart,!1);V.setRegex(Q,H.regex),V.setAction(Q,H.action)}q.push(V)}}}if(!$.tokenizer||typeof $.tokenizer!=="object")throw r1(X,"a language definition must define the \'tokenizer\' attribute as an object");X.tokenizer=[];for(let G in $.tokenizer)if($.tokenizer.hasOwnProperty(G)){if(!X.start)X.start=G;const q=$.tokenizer[G];X.tokenizer[G]=new Array,Y("tokenizer."+G,X.tokenizer[G],q)}if(X.usesEmbedded=Q.usesEmbedded,$.brackets){if(!Array.isArray($.brackets))throw r1(X,"the \'brackets\' attribute must be defined as an array")}else $.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const Z=[];for(let G of $.brackets){let q=G;if(q&&Array.isArray(q)&&q.length===3)q={token:q[2],open:q[0],close:q[1]};if(q.open===q.close)throw r1(X,"open and close brackets in a \'brackets\' attribute must be different: "+q.open+"\n hint: use the \'bracket\' attribute if matching on equal brackets is required.");if(typeof q.open==="string"&&typeof q.token==="string"&&typeof q.close==="string")Z.push({token:q.token+X.tokenPostfix,open:U$(X,q.open),close:U$(X,q.close)});else throw r1(X,"every element in the \'brackets\' array must be a \'{open,close,token}\' object or array")}return X.brackets=Z,X.noThrow=!0,X}class tn{constructor(J){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=J}setRegex(J,$){let X;if(typeof $==="string")X=$;else if($ instanceof RegExp)X=$.source;else throw r1(J,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=X.length>0&&X[0]==="^",this.name=this.name+": "+X,this.regex=$y(J,"^(?:"+(this.matchOnlyAtLineStart?X.substr(1):X)+")")}setAction(J,$){this.action=Xy(J,this.name,$)}}var r$0,uD,nn,i$0,on,$y,n$0,o$0,Xy;var en=N(()=>{AN();r$0=function(J,$){if(!$)return!1;if(!Array.isArray($))return!1;for(let X of $)if(!J(X))return!1;return!0},uD=function(J,$){if(typeof J==="boolean")return J;return $},nn=function(J,$){if(typeof J==="string")return J;return $},i$0=function(J){const $={};for(let X of J)$[X]=!0;return $},on=function(J,$=!1){if($)J=J.map(function(Q){return Q.toLowerCase()});const X=i$0(J);if($)return function(Q){return X[Q.toLowerCase()]!==void 0&&X.hasOwnProperty(Q.toLowerCase())};else return function(Q){return X[Q]!==void 0&&X.hasOwnProperty(Q)}},$y=function(J,$){$=$.replace(/@@/g,"\x01");let X=0,Q;do Q=!1,$=$.replace(/@(\w+)/g,function(Z,G){Q=!0;let q="";if(typeof J[G]==="string")q=J[G];else if(J[G]&&J[G]instanceof RegExp)q=J[G].source;else if(J[G]===void 0)throw r1(J,"language definition does not contain attribute \'"+G+"\', used at: "+$);else throw r1(J,"attribute reference \'"+G+"\' must be a string, used at: "+$);return UG(q)?"":"(?:"+q+")"}),X++;while(Q&&X<5);$=$.replace(/\x01/g,"@");const Y=(J.ignoreCase?"i":"")+(J.unicode?"u":"");return new RegExp($,Y)},n$0=function(J,$,X,Q){if(Q<0)return J;if(Q<$.length)return $[Q];if(Q>=100){Q=Q-100;const Y=X.split(".");if(Y.unshift(X),Q<Y.length)return Y[Q]}return null},o$0=function(J,$,X,Q){let Y=-1,Z=X,G=X.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);if(G){if(G[3]){if(Y=parseInt(G[3]),G[2])Y=Y+100}Z=G[4]}let q="~",U=Z;if(!Z||Z.length===0)q="!=",U="";else if(/^\w*$/.test(U))q="==";else if(G=Z.match(/^(@|!@|~|!~|==|!=)(.*)$/),G)q=G[1],U=G[2];let H;if((q==="~"||q==="!~")&&/^(\w|\|)*$/.test(U)){const z=on(U.split("|"),J.ignoreCase);H=function(V){return q==="~"?z(V):!z(V)}}else if(q==="@"||q==="!@"){const z=J[U];if(!z)throw r1(J,"the @ match target \'"+U+"\' is not defined, in rule: "+$);if(!r$0(function(W){return typeof W==="string"},z))throw r1(J,"the @ match target \'"+U+"\' must be an array of strings, in rule: "+$);const V=on(z,J.ignoreCase);H=function(W){return q==="@"?V(W):!V(W)}}else if(q==="~"||q==="!~")if(U.indexOf("$")<0){const z=$y(J,"^"+U+"$");H=function(V){return q==="~"?z.test(V):!z.test(V)}}else H=function(z,V,W,B){return $y(J,"^"+H$(J,U,V,W,B)+"$").test(z)};else if(U.indexOf("$")<0){const z=U$(J,U);H=function(V){return q==="=="?V===z:V!==z}}else{const z=U$(J,U);H=function(V,W,B,j,K){const D=H$(J,z,W,B,j);return q==="=="?V===D:V!==D}}if(Y===-1)return{name:X,value:Q,test:function(z,V,W,B){return H(z,z,V,W,B)}};else return{name:X,value:Q,test:function(z,V,W,B){const j=n$0(z,V,W,Y);return H(!j?"":j,z,V,W,B)}}},Xy=function(J,$,X){if(!X)return{token:""};else if(typeof X==="string")return X;else if(X.token||X.token==="")if(typeof X.token!=="string")throw r1(J,"a \'token\' attribute must be of type string, in rule: "+$);else{const Q={token:X.token};if(X.token.indexOf("$")>=0)Q.tokenSubst=!0;if(typeof X.bracket==="string")if(X.bracket==="@open")Q.bracket=1;else if(X.bracket==="@close")Q.bracket=-1;else throw r1(J,"a \'bracket\' attribute must be either \'@open\' or \'@close\', in rule: "+$);if(X.next)if(typeof X.next!=="string")throw r1(J,"the next state must be a string value in rule: "+$);else{let Y=X.next;if(!/^(@pop|@push|@popall)$/.test(Y)){if(Y[0]==="@")Y=Y.substr(1);if(Y.indexOf("$")<0){if(!ev(J,H$(J,Y,"",[],"")))throw r1(J,"the next state \'"+X.next+"\' is not defined in rule: "+$)}}Q.next=Y}if(typeof X.goBack==="number")Q.goBack=X.goBack;if(typeof X.switchTo==="string")Q.switchTo=X.switchTo;if(typeof X.log==="string")Q.log=X.log;if(typeof X.nextEmbedded==="string")Q.nextEmbedded=X.nextEmbedded,J.usesEmbedded=!0;return Q}else if(Array.isArray(X)){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=Xy(J,$,X[Y]);return{group:Q}}else if(X.cases){const Q=[];for(let Z in X.cases)if(X.cases.hasOwnProperty(Z)){const G=Xy(J,$,X.cases[Z]);if(Z==="@default"||Z==="@"||Z==="")Q.push({test:void 0,value:G,name:Z});else if(Z==="@eos")Q.push({test:function(q,U,H,z){return z},value:G,name:Z});else Q.push(o$0(J,$,Z,G))}const Y=J.defaultToken;return{test:function(Z,G,q,U){for(let H of Q)if(!H.test||H.test(Z,G,q,U))return H.value;return Y}}}else throw r1(J,"an action must be a string, an object with a \'token\' or \'cases\' attribute, or an array of actions; in rule: "+$)}});function e$0(J){uQ.registerLanguage(J)}function JX0(){let J=[];return J=J.concat(uQ.getLanguages()),J}function $X0(J){return S0.get(o1).languageIdCodec.encodeLanguageId(J)}function XX0(J,$){return S0.withServices(()=>{const Q=S0.get(o1).onDidRequestRichLanguageFeatures((Y)=>{if(Y===J)Q.dispose(),$()});return Q})}function QX0(J,$){return S0.withServices(()=>{const Q=S0.get(o1).onDidRequestBasicLanguageFeatures((Y)=>{if(Y===J)Q.dispose(),$()});return Q})}function YX0(J,$){if(!S0.get(o1).isRegisteredLanguageId(J))throw new Error(`Cannot set configuration for unknown language ${J}`);return S0.get(N8).register(J,$,100)}function qX0(J){const $=S0.get(A9);if(J){const X=[null];for(let Q=1,Y=J.length;Q<Y;Q++)X[Q]=u.fromHex(J[Q]);$.setColorMapOverride(X)}else $.setColorMapOverride(null)}function Yy(J,$){const X=new UM(()=>t$0(this,void 0,void 0,function*(){const Q=yield Promise.resolve($.create());if(!Q)return null;if(ZX0(Q))return Xo(J,Q);return new HG(S0.get(o1),S0.get(A9),J,Qy(J,Q),S0.get(u1))}));return g1.registerFactory(J,X)}function UX0(J,$){if(!S0.get(o1).isRegisteredLanguageId(J))throw new Error(`Cannot set tokens provider for unknown language ${J}`);if($o($))return Yy(J,{create:()=>$});return g1.register(J,Xo(J,$))}function HX0(J,$){const X=(Q)=>{return new HG(S0.get(o1),S0.get(A9),J,Qy(J,Q),S0.get(u1))};if($o($))return Yy(J,{create:()=>$});return g1.register(J,X($))}function zX0(J,$){return S0.get(q1).referenceProvider.register(J,$)}function VX0(J,$){return S0.get(q1).renameProvider.register(J,$)}function WX0(J,$){return S0.get(q1).signatureHelpProvider.register(J,$)}function BX0(J,$){return S0.get(q1).hoverProvider.register(J,{provideHover:(Q,Y,Z)=>{const G=Q.getWordAtPosition(Y);return Promise.resolve($.provideHover(Q,Y,Z)).then((q)=>{if(!q)return;if(!q.range&&G)q.range=new L(Y.lineNumber,G.startColumn,Y.lineNumber,G.endColumn);if(!q.range)q.range=new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return q})}})}function jX0(J,$){return S0.get(q1).documentSymbolProvider.register(J,$)}function FX0(J,$){return S0.get(q1).documentHighlightProvider.register(J,$)}function KX0(J,$){return S0.get(q1).linkedEditingRangeProvider.register(J,$)}function AX0(J,$){return S0.get(q1).definitionProvider.register(J,$)}function PX0(J,$){return S0.get(q1).implementationProvider.register(J,$)}function DX0(J,$){return S0.get(q1).typeDefinitionProvider.register(J,$)}function RX0(J,$){return S0.get(q1).codeLensProvider.register(J,$)}function MX0(J,$,X){return S0.get(q1).codeActionProvider.register(J,{providedCodeActionKinds:X===null||X===void 0?void 0:X.providedCodeActionKinds,documentation:X===null||X===void 0?void 0:X.documentation,provideCodeActions:(Y,Z,G,q)=>{const H=S0.get(T4).read({resource:Y.uri}).filter((z)=>{return L.areIntersectingOrTouching(z,Z)});return $.provideCodeActions(Y,Z,{markers:H,only:G.only,trigger:G.trigger},q)},resolveCodeAction:$.resolveCodeAction})}function OX0(J,$){return S0.get(q1).documentFormattingEditProvider.register(J,$)}function NX0(J,$){return S0.get(q1).documentRangeFormattingEditProvider.register(J,$)}function TX0(J,$){return S0.get(q1).onTypeFormattingEditProvider.register(J,$)}function _X0(J,$){return S0.get(q1).linkProvider.register(J,$)}function wX0(J,$){return S0.get(q1).completionProvider.register(J,$)}function LX0(J,$){return S0.get(q1).colorProvider.register(J,$)}function IX0(J,$){return S0.get(q1).foldingRangeProvider.register(J,$)}function kX0(J,$){return S0.get(q1).declarationProvider.register(J,$)}function EX0(J,$){return S0.get(q1).selectionRangeProvider.register(J,$)}function yX0(J,$){return S0.get(q1).documentSemanticTokensProvider.register(J,$)}function SX0(J,$){return S0.get(q1).documentRangeSemanticTokensProvider.register(J,$)}function CX0(J,$){return S0.get(q1).inlineCompletionsProvider.register(J,$)}function xX0(J,$){return S0.get(q1).inlayHintsProvider.register(J,$)}function Qo(){return{register:e$0,getLanguages:JX0,onLanguage:XX0,onLanguageEncountered:QX0,getEncodedLanguageId:$X0,setLanguageConfiguration:YX0,setColorMap:qX0,registerTokensProviderFactory:Yy,setTokensProvider:UX0,setMonarchTokensProvider:HX0,registerReferenceProvider:zX0,registerRenameProvider:VX0,registerCompletionItemProvider:wX0,registerSignatureHelpProvider:WX0,registerHoverProvider:BX0,registerDocumentSymbolProvider:jX0,registerDocumentHighlightProvider:FX0,registerLinkedEditingRangeProvider:KX0,registerDefinitionProvider:AX0,registerImplementationProvider:PX0,registerTypeDefinitionProvider:DX0,registerCodeLensProvider:RX0,registerCodeActionProvider:MX0,registerDocumentFormattingEditProvider:OX0,registerDocumentRangeFormattingEditProvider:NX0,registerOnTypeFormattingEditProvider:TX0,registerLinkProvider:_X0,registerColorProvider:LX0,registerFoldingRangeProvider:IX0,registerDeclarationProvider:kX0,registerSelectionRangeProvider:EX0,registerDocumentSemanticTokensProvider:yX0,registerDocumentRangeSemanticTokensProvider:SX0,registerInlineCompletionsProvider:CX0,registerInlayHintsProvider:xX0,DocumentHighlightKind:fB,CompletionItemKind:yB,CompletionItemTag:SB,CompletionItemInsertTextRule:EB,SymbolKind:qj,SymbolTag:Uj,IndentAction:cB,CompletionTriggerKind:CB,SignatureHelpTriggerKind:Gj,InlayHintKind:dB,InlineCompletionTriggerKind:sB,CodeActionTriggerType:kB,FoldingRangeKind:A6,SelectedSuggestionInfo:qM}}class Jo{constructor(J,$){this._languageId=J,this._actual=$}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(J,$,X){if(typeof this._actual.tokenize==="function")return MW.adaptTokenize(this._languageId,this._actual,J,X);throw new Error("Not supported!")}tokenizeEncoded(J,$,X){const Q=this._actual.tokenizeEncoded(J,X);return new EQ(Q.tokens,Q.endState)}}class MW{constructor(J,$,X,Q){this._languageId=J,this._actual=$,this._languageService=X,this._standaloneThemeService=Q}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(J,$){const X=[];let Q=0;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];let q=G.startIndex;if(Y===0)q=0;else if(q<Q)q=Q;X[Y]=new i4(q,G.scopes,$),Q=q}return X}static adaptTokenize(J,$,X,Q){const Y=$.tokenize(X,Q),Z=MW._toClassicTokens(Y.tokens,J);let G;if(Y.endState.equals(Q))G=Q;else G=Y.endState;return new LZ(Z,G)}tokenize(J,$,X){return MW.adaptTokenize(this._languageId,this._actual,J,X)}_toBinaryTokens(J,$){const X=J.encodeLanguageId(this._languageId),Q=this._standaloneThemeService.getColorTheme().tokenTheme,Y=[];let Z=0,G=0;for(let U=0,H=$.length;U<H;U++){const z=$[U],V=Q.match(X,z.scopes)|1024;if(Z>0&&Y[Z-1]===V)continue;let W=z.startIndex;if(U===0)W=0;else if(W<G)W=G;Y[Z++]=W,Y[Z++]=V,G=W}const q=new Uint32Array(Z);for(let U=0;U<Z;U++)q[U]=Y[U];return q}tokenizeEncoded(J,$,X){const Q=this._actual.tokenize(J,X),Y=this._toBinaryTokens(this._languageService.languageIdCodec,Q.tokens);let Z;if(Q.endState.equals(X))Z=X;else Z=Q.endState;return new EQ(Y,Z)}}var ZX0,GX0,$o,Xo,t$0;var Yo=N(()=>{S9();u0();P6();b6();KJ();E5();Bj();ND();en();DN();tV();vU();Y5();y9();ZX0=function(J){return typeof J.getInitialState==="function"},GX0=function(J){return"tokenizeEncoded"in J},$o=function(J){return J&&typeof J.then==="function"};Xo=function(J,$){if(GX0($))return new Jo(J,$);else return new MW(J,$,S0.get(o1),S0.get(A9))};t$0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})}});class Gy extends u8{constructor(J,$){super($);this.editor=J,this._unregister=J.invokeWithinContext((X)=>X.get(Zy).add(J,this))}dispose(){this._unregister(),super.dispose()}}var Zy,Zo;var Go=N(()=>{L5();s1();v7();P5();e0();FJ();m0();Zy=O0("IEditorCancelService"),Zo=new V0("cancellableOperation",!1,F("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like \'Peek References\'"));F1(Zy,class{constructor(){this._tokens=new WeakMap}add(J,$){let X=this._tokens.get(J);if(!X)X=J.invokeWithinContext((Y)=>{const Z=Zo.bindTo(Y.get(p0)),G=new I8;return{key:Z,tokens:G}}),this._tokens.set(J,X);let Q;return X.key.set(!0),Q=X.tokens.push($),()=>{if(Q)Q(),X.key.set(!X.tokens.isEmpty()),Q=void 0}}cancel(J){const $=this._tokens.get(J);if(!$)return;const X=$.tokens.pop();if(X)X.cancel(),$.key.set(!$.tokens.isEmpty())}},1);T0(new class extends k9{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Zo})}runEditorCommand(J,$){J.get(Zy).cancel($)}})});class cD extends Gy{constructor(J,$,X,Q){super(J,Q);if(this._listener=new e,$&4)this._listener.add(J.onDidChangeCursorPosition((Y)=>{if(!X||!L.containsPosition(X,Y.position))this.cancel()}));if($&2)this._listener.add(J.onDidChangeCursorSelection((Y)=>{if(!X||!L.containsRange(X,Y.selection))this.cancel()}));if($&8)this._listener.add(J.onDidScrollChange((Y)=>this.cancel()));if($&1)this._listener.add(J.onDidChangeModel((Y)=>this.cancel())),this._listener.add(J.onDidChangeModelContent((Y)=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class lD extends u8{constructor(J,$){super($);this._listener=J.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}var qo=N(()=>{l0();u0();v7();$0();Go()});function A2(J){if(J&&typeof J.getEditorType==="function")return J.getEditorType()===oQ.ICodeEditor;else return!1}var Uo=N(()=>{hH()});class oY{static _handleEolEdits(J,$){let X=void 0;const Q=[];for(let Y of $){if(typeof Y.eol==="number")X=Y.eol;if(Y.range&&typeof Y.text==="string")Q.push(Y)}if(typeof X==="number"){if(J.hasModel())J.getModel().pushEOL(X)}return Q}static _isFullModelReplaceEdit(J,$){if(!J.hasModel())return!1;const X=J.getModel(),Q=X.validateRange($.range);return X.getFullModelRange().equalsRange(Q)}static execute(J,$,X){if(X)J.pushUndoStop();const Q=xJ.capture(J),Y=oY._handleEolEdits(J,$);if(Y.length===1&&oY._isFullModelReplaceEdit(J,Y[0]))J.executeEdits("formatEditsCommand",Y.map((Z)=>m5.replace(L.lift(Z.range),Z.text)));else J.executeEdits("formatEditsCommand",Y.map((Z)=>m5.replaceMove(L.lift(Z.range),Z.text)));if(X)J.pushUndoStop();Q.restoreRelativeVerticalPositionOfCursor(J)}}var qy=N(()=>{YV();u0();KW()});class Uy{constructor(J){this.value=J,this._lower=J.toLowerCase()}static toKey(J){if(typeof J==="string")return J.toLowerCase();return J._lower}}class Hy{constructor(J){if(this._set=new Set,J)for(let $ of J)this.add($)}add(J){this._set.add(Uy.toKey(J))}has(J){return this._set.has(Uy.toKey(J))}}var Ho=N(()=>{});function dD(J){if(J=J.filter((Y)=>Y.range),!J.length)return;let{range:$}=J[0];for(let Y=1;Y<J.length;Y++)$=L.plusRange($,J[Y].range);const{startLineNumber:X,endLineNumber:Q}=$;if(X===Q)if(J.length===1)U4(F("hint11","Made 1 formatting edit on line {0}",X));else U4(F("hintn1","Made {0} formatting edits on line {1}",J.length,X));else if(J.length===1)U4(F("hint1n","Made 1 formatting edit between lines {0} and {1}",X,Q));else U4(F("hintnn","Made {0} formatting edits between lines {1} and {2}",J.length,X,Q))}function zo(J,$,X){const Q=[],Y=new Hy,Z=J.ordered(X);for(let q of Z)if(Q.push(q),q.extensionId)Y.add(q.extensionId);const G=$.ordered(X);for(let q of G){if(q.extensionId){if(Y.has(q.extensionId))continue;Y.add(q.extensionId)}Q.push({displayName:q.displayName,extensionId:q.extensionId,provideDocumentFormattingEdits(U,H,z){return q.provideDocumentRangeFormattingEdits(U,U.getFullModelRange(),H,z)}})}return Q}function zy(J,$,X,Q,Y,Z){return x4(this,void 0,void 0,function*(){const G=J.get(G1),{documentRangeFormattingEditProvider:q}=J.get(q1),U=A2($)?$.getModel():$,H=q.ordered(U),z=yield tY.select(H,U,Q);if(z)Y.report(z),yield G.invokeFunction(bX0,z,$,X,Z)})}function bX0(J,$,X,Q,Y){var Z,G;return x4(this,void 0,void 0,function*(){const q=J.get(U5),U=J.get(F7);let H,z;if(A2(X))H=X.getModel(),z=new cD(X,1|4,void 0,Y);else H=X,z=new lD(X,Y);const V=[];let W=0;for(let A of AS(Q).sort(L.compareRangesUsingStarts))if(W>0&&L.areIntersectingOrTouching(V[W-1],A))V[W-1]=L.fromPositions(V[W-1].getStartPosition(),A.getEndPosition());else W=V.push(A);const B=(A)=>x4(this,void 0,void 0,function*(){var P,R;U.trace("[format][provideDocumentRangeFormattingEdits] (request)",(P=$.extensionId)===null||P===void 0?void 0:P.value,A);const M=(yield $.provideDocumentRangeFormattingEdits(H,A,H.getFormattingOptions(),z.token))||[];return U.trace("[format][provideDocumentRangeFormattingEdits] (response)",(R=$.extensionId)===null||R===void 0?void 0:R.value,M),M}),j=(A,P)=>{if(!A.length||!P.length)return!1;const R=A.reduce((M,T)=>{return L.plusRange(M,T.range)},A[0].range);if(!P.some((M)=>{return L.intersectRanges(R,M.range)}))return!1;for(let M of A)for(let T of P)if(L.intersectRanges(M.range,T.range))return!0;return!1},K=[],D=[];try{if(typeof $.provideDocumentRangesFormattingEdits==="function"){U.trace("[format][provideDocumentRangeFormattingEdits] (request)",(Z=$.extensionId)===null||Z===void 0?void 0:Z.value,V);const A=(yield $.provideDocumentRangesFormattingEdits(H,V,H.getFormattingOptions(),z.token))||[];U.trace("[format][provideDocumentRangeFormattingEdits] (response)",(G=$.extensionId)===null||G===void 0?void 0:G.value,A),D.push(A)}else{for(let A of V){if(z.token.isCancellationRequested)return!0;D.push(yield B(A))}for(let A=0;A<V.length;++A)for(let P=A+1;P<V.length;++P){if(z.token.isCancellationRequested)return!0;if(j(D[A],D[P])){const R=L.plusRange(V[A],V[P]),M=yield B(R);V.splice(P,1),V.splice(A,1),V.push(R),D.splice(P,1),D.splice(A,1),D.push(M),A=0,P=0}}}for(let A of D){if(z.token.isCancellationRequested)return!0;const P=yield q.computeMoreMinimalEdits(H.uri,A);if(P)K.push(...P)}}finally{z.dispose()}if(K.length===0)return!1;if(A2(X))oY.execute(X,K,!0),dD(K),X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1);else{const[{range:A}]=K,P=new b0(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn);H.pushEditOperations([P],K.map((R)=>{return{text:R.text,range:L.lift(R.range),forceMoveMarkers:!0}}),(R)=>{for(let{range:M}of R)if(L.areIntersectingOrTouching(M,P))return[new b0(M.startLineNumber,M.startColumn,M.endLineNumber,M.endColumn)];return null})}return!0})}function Vo(J,$,X,Q,Y){return x4(this,void 0,void 0,function*(){const Z=J.get(G1),G=J.get(q1),q=A2($)?$.getModel():$,U=zo(G.documentFormattingEditProvider,G.documentRangeFormattingEditProvider,q),H=yield tY.select(U,q,X);if(H)Q.report(H),yield Z.invokeFunction(vX0,H,$,X,Y)})}function vX0(J,$,X,Q,Y){return x4(this,void 0,void 0,function*(){const Z=J.get(U5);let G,q;if(A2(X))G=X.getModel(),q=new cD(X,1|4,void 0,Y);else G=X,q=new lD(X,Y);let U;try{const H=yield $.provideDocumentFormattingEdits(G,G.getFormattingOptions(),q.token);if(U=yield Z.computeMoreMinimalEdits(G.uri,H),q.token.isCancellationRequested)return!0}finally{q.dispose()}if(!U||U.length===0)return!1;if(A2(X)){if(oY.execute(X,U,Q!==2),Q!==2)dD(U),X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1)}else{const[{range:H}]=U,z=new b0(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn);G.pushEditOperations([z],U.map((V)=>{return{text:V.text,range:L.lift(V.range),forceMoveMarkers:!0}}),(V)=>{for(let{range:W}of V)if(L.areIntersectingOrTouching(W,z))return[new b0(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn)];return null})}return!0})}function fX0(J,$,X,Q,Y,Z){return x4(this,void 0,void 0,function*(){const G=$.documentRangeFormattingEditProvider.ordered(X);for(let q of G){const U=yield Promise.resolve(q.provideDocumentRangeFormattingEdits(X,Q,Y,Z)).catch(JJ);if(F5(U))return yield J.computeMoreMinimalEdits(X.uri,U)}return})}function hX0(J,$,X,Q,Y){return x4(this,void 0,void 0,function*(){const Z=zo($.documentFormattingEditProvider,$.documentRangeFormattingEditProvider,X);for(let G of Z){const q=yield Promise.resolve(G.provideDocumentFormattingEdits(X,Q,Y)).catch(JJ);if(F5(q))return yield J.computeMoreMinimalEdits(X.uri,q)}return})}function Vy(J,$,X,Q,Y,Z,G){const q=$.onTypeFormattingEditProvider.ordered(X);if(q.length===0)return Promise.resolve(void 0);if(q[0].autoFormatTriggerCharacters.indexOf(Y)<0)return Promise.resolve(void 0);return Promise.resolve(q[0].provideOnTypeFormattingEdits(X,Q,Y,Z,G)).catch(JJ).then((U)=>{return J.computeMoreMinimalEdits(X.uri,U)})}class tY{static setFormatterSelector(J){return{dispose:tY._selectors.unshift(J)}}static select(J,$,X){return x4(this,void 0,void 0,function*(){if(J.length===0)return;const Q=U1.first(tY._selectors);if(Q)return yield Q(J,$,X);return})}}var x4;var Wy=N(()=>{$Y();V1();v7();A1();A5();P5();j8();l8();qo();Uo();W1();u0();f7();bU();s3();qy();m0();n6();Ho();e0();Y5();M5();x4=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};tY._selectors=new I8;V8.registerCommand("_executeFormatRangeProvider",function(J,...$){return x4(this,void 0,void 0,function*(){const[X,Q,Y]=$;w7(I0.isUri(X)),w7(L.isIRange(Q));const Z=J.get(HX),G=J.get(U5),q=J.get(q1),U=yield Z.createModelReference(X);try{return fX0(G,q,U.object.textEditorModel,L.lift(Q),Y,n8.None)}finally{U.dispose()}})});V8.registerCommand("_executeFormatDocumentProvider",function(J,...$){return x4(this,void 0,void 0,function*(){const[X,Q]=$;w7(I0.isUri(X));const Y=J.get(HX),Z=J.get(U5),G=J.get(q1),q=yield Y.createModelReference(X);try{return hX0(Z,G,q.object.textEditorModel,Q,n8.None)}finally{q.dispose()}})});V8.registerCommand("_executeFormatOnTypeProvider",function(J,...$){return x4(this,void 0,void 0,function*(){const[X,Q,Y,Z]=$;w7(I0.isUri(X)),w7(b.isIPosition(Q)),w7(typeof Y==="string");const G=J.get(HX),q=J.get(U5),U=J.get(q1),H=yield G.createModelReference(X);try{return Vy(q,U,H.object.textEditorModel,b.lift(Q),Y,Z,n8.None)}finally{H.dispose()}})})});var e7={};m4(e7,{languages:()=>{{return nX0}},editor:()=>{{return P2}},Uri:()=>{{return jy}},Token:()=>{{return iX0}},SelectionDirection:()=>{{return sX0}},Selection:()=>{{return dX0}},Range:()=>{{return lX0}},Position:()=>{{return cX0}},MarkerTag:()=>{{return rX0}},MarkerSeverity:()=>{{return aX0}},KeyMod:()=>{{return uX0}},KeyCode:()=>{{return mX0}},Emitter:()=>{{return pX0}},CancellationTokenSource:()=>{{return gX0}}});var Z9,gX0,pX0,mX0,uX0,cX0,lX0,dX0,sX0,aX0,rX0,jy,iX0,P2,nX0,By;var c9=N(()=>{F6();VM();rn();Yo();Wy();aJ.wrappingIndent.defaultValue=0;aJ.glyphMargin.defaultValue=!1;aJ.autoIndent.defaultValue=3;aJ.overviewRulerLanes.defaultValue=2;tY.setFormatterSelector((J,$,X)=>Promise.resolve(J[0]));Z9=jj();Z9.editor=an();Z9.languages=Qo();gX0=Z9.CancellationTokenSource,pX0=Z9.Emitter,mX0=Z9.KeyCode,uX0=Z9.KeyMod,cX0=Z9.Position,lX0=Z9.Range,dX0=Z9.Selection,sX0=Z9.SelectionDirection,aX0=Z9.MarkerSeverity,rX0=Z9.MarkerTag,jy=Z9.Uri,iX0=Z9.Token,P2=Z9.editor,nX0=Z9.languages,By=globalThis.MonacoEnvironment;if((By===null||By===void 0?void 0:By.globalAPI)||typeof define==="function"&&define.amd)globalThis.monaco=Z9;if(typeof globalThis.require!=="undefined"&&typeof globalThis.require.config==="function")globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Fe={};m4(Fe,{toTextEdit:()=>{{return A3}},toRange:()=>{{return B5}},setupMode:()=>{{return yY0}},fromRange:()=>{{return ny}},fromPosition:()=>{{return UZ}},WorkerManager:()=>{{return Xe}},SelectionRangeAdapter:()=>{{return Be}},RenameAdapter:()=>{{return WY0}},ReferenceAdapter:()=>{{return VY0}},HoverAdapter:()=>{{return Ze}},FoldingRangeAdapter:()=>{{return We}},DocumentSymbolAdapter:()=>{{return qe}},DocumentRangeFormattingEditProvider:()=>{{return He}},DocumentLinkAdapter:()=>{{return FY0}},DocumentHighlightAdapter:()=>{{return UY0}},DocumentFormattingEditProvider:()=>{{return Ue}},DocumentColorAdapter:()=>{{return Ve}},DiagnosticsAdapter:()=>{{return Qe}},DefinitionAdapter:()=>{{return zY0}},CompletionAdapter:()=>{{return Ye}}});var $Y0,XY0,UZ,ny,B5,QY0,YY0,A3,ZY0,GY0,ot,qY0,HY0,Ge,BY0,jY0,ze,KY0,AY0,cy,fW,B3,DY0,kY0,yY0,$e,je,rQ0,iQ0,nQ0,oQ0,Dt,tQ0,x1,eQ0,Xe,Rt,RR,i$,q9,ly,Mt,dy,Ot,Nt,hW,Tt,sy,j3,_t,wt,MR,pW,qZ,K3,D9,GZ,OR,mW,uW,cW,ay,DR,Lt,m41,It,kt,NR,Et,lW,ry,V6,iy,yt,St,Ct,xt,bt,TR,vt,ft,ht,gW,gt,W6,pt,mt,ut,ct,lt,dt,st,at,rt,it,nt,JY0,X0,Qe,Ye,Ze,UY0,zY0,VY0,WY0,qe,FY0,Ue,He,Ve,We,Be,tt,PY0,et,Je,RY0,MY0,OY0,NY0,TY0,_Y0,wY0,LY0,IY0,F3,_R,EY0,SY0;var Ke=N(()=>{c9();$Y0=function(J){switch(J){case j3.Error:return x1.MarkerSeverity.Error;case j3.Warning:return x1.MarkerSeverity.Warning;case j3.Information:return x1.MarkerSeverity.Info;case j3.Hint:return x1.MarkerSeverity.Hint;default:return x1.MarkerSeverity.Info}},XY0=function(J,$){let X=typeof $.code==="number"?String($.code):$.code;return{severity:$Y0($.severity),startLineNumber:$.range.start.line+1,startColumn:$.range.start.character+1,endLineNumber:$.range.end.line+1,endColumn:$.range.end.character+1,message:$.message,code:X,source:$.source}},UZ=function(J){if(!J)return;return{character:J.column-1,line:J.lineNumber-1}},ny=function(J){if(!J)return;return{start:{line:J.startLineNumber-1,character:J.startColumn-1},end:{line:J.endLineNumber-1,character:J.endColumn-1}}},B5=function(J){if(!J)return;return new x1.Range(J.start.line+1,J.start.character+1,J.end.line+1,J.end.character+1)},QY0=function(J){return typeof J.insert!=="undefined"&&typeof J.replace!=="undefined"},YY0=function(J){const $=x1.languages.CompletionItemKind;switch(J){case V6.Text:return $.Text;case V6.Method:return $.Method;case V6.Function:return $.Function;case V6.Constructor:return $.Constructor;case V6.Field:return $.Field;case V6.Variable:return $.Variable;case V6.Class:return $.Class;case V6.Interface:return $.Interface;case V6.Module:return $.Module;case V6.Property:return $.Property;case V6.Unit:return $.Unit;case V6.Value:return $.Value;case V6.Enum:return $.Enum;case V6.Keyword:return $.Keyword;case V6.Snippet:return $.Snippet;case V6.Color:return $.Color;case V6.File:return $.File;case V6.Reference:return $.Reference}return $.Property},A3=function(J){if(!J)return;return{range:B5(J.range),text:J.newText}},ZY0=function(J){return J&&J.command==="editor.action.triggerSuggest"?{id:J.command,title:J.title,arguments:J.arguments}:void 0},GY0=function(J){return J&&typeof J==="object"&&typeof J.kind==="string"},ot=function(J){if(typeof J==="string")return{value:J};if(GY0(J)){if(J.kind==="plaintext")return{value:J.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")};return{value:J.value}}return{value:"```"+J.language+"\n"+J.value+"\n```\n"}},qY0=function(J){if(!J)return;if(Array.isArray(J))return J.map(ot);return[ot(J)]},HY0=function(J){switch(J){case gW.Read:return x1.languages.DocumentHighlightKind.Read;case gW.Write:return x1.languages.DocumentHighlightKind.Write;case gW.Text:return x1.languages.DocumentHighlightKind.Text}return x1.languages.DocumentHighlightKind.Text},Ge=function(J){return{uri:x1.Uri.parse(J.uri),range:B5(J.range)}},BY0=function(J){if(!J||!J.changes)return;let $=[];for(let X in J.changes){const Q=x1.Uri.parse(X);for(let Y of J.changes[X])$.push({resource:Q,versionId:void 0,textEdit:{range:B5(Y.range),text:Y.newText}})}return{edits:$}},jY0=function(J){let $=x1.languages.SymbolKind;switch(J){case W6.File:return $.Array;case W6.Module:return $.Module;case W6.Namespace:return $.Namespace;case W6.Package:return $.Package;case W6.Class:return $.Class;case W6.Method:return $.Method;case W6.Property:return $.Property;case W6.Field:return $.Field;case W6.Constructor:return $.Constructor;case W6.Enum:return $.Enum;case W6.Interface:return $.Interface;case W6.Function:return $.Function;case W6.Variable:return $.Variable;case W6.Constant:return $.Constant;case W6.String:return $.String;case W6.Number:return $.Number;case W6.Boolean:return $.Boolean;case W6.Array:return $.Array}return $.Function},ze=function(J){return{tabSize:J.tabSize,insertSpaces:J.insertSpaces}},KY0=function(J){switch(J){case hW.Comment:return x1.languages.FoldingRangeKind.Comment;case hW.Imports:return x1.languages.FoldingRangeKind.Imports;case hW.Region:return x1.languages.FoldingRangeKind.Region}return},AY0=function(J,$){if($===void 0)$=!1;var X=J.length,Q=0,Y="",Z=0,G=16,q=0,U=0,H=0,z=0,V=0;function W(R,M){var T=0,_=0;while(T<R||!M){var w=J.charCodeAt(Q);if(w>=48&&w<=57)_=_*16+w-48;else if(w>=65&&w<=70)_=_*16+w-65+10;else if(w>=97&&w<=102)_=_*16+w-97+10;else break;Q++,T++}if(T<R)_=-1;return _}function B(R){Q=R,Y="",Z=0,G=16,V=0}function j(){var R=Q;if(J.charCodeAt(Q)===48)Q++;else{Q++;while(Q<J.length&&B3(J.charCodeAt(Q)))Q++}if(Q<J.length&&J.charCodeAt(Q)===46)if(Q++,Q<J.length&&B3(J.charCodeAt(Q))){Q++;while(Q<J.length&&B3(J.charCodeAt(Q)))Q++}else return V=3,J.substring(R,Q);var M=Q;if(Q<J.length&&(J.charCodeAt(Q)===69||J.charCodeAt(Q)===101)){if(Q++,Q<J.length&&J.charCodeAt(Q)===43||J.charCodeAt(Q)===45)Q++;if(Q<J.length&&B3(J.charCodeAt(Q))){Q++;while(Q<J.length&&B3(J.charCodeAt(Q)))Q++;M=Q}else V=3}return J.substring(R,M)}function K(){var R="",M=Q;while(!0){if(Q>=X){R+=J.substring(M,Q),V=2;break}var T=J.charCodeAt(Q);if(T===34){R+=J.substring(M,Q),Q++;break}if(T===92){if(R+=J.substring(M,Q),Q++,Q>=X){V=2;break}var _=J.charCodeAt(Q++);switch(_){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+="\n";break;case 114:R+="\r";break;case 116:R+="	";break;case 117:var w=W(4,!0);if(w>=0)R+=String.fromCharCode(w);else V=4;break;default:V=5}M=Q;continue}if(T>=0&&T<=31)if(fW(T)){R+=J.substring(M,Q),V=2;break}else V=6;Q++}return R}function D(){if(Y="",V=0,Z=Q,U=q,z=H,Q>=X)return Z=X,G=17;var R=J.charCodeAt(Q);if(cy(R)){do Q++,Y+=String.fromCharCode(R),R=J.charCodeAt(Q);while(cy(R));return G=15}if(fW(R)){if(Q++,Y+=String.fromCharCode(R),R===13&&J.charCodeAt(Q)===10)Q++,Y+="\n";return q++,H=Q,G=14}switch(R){case 123:return Q++,G=1;case 125:return Q++,G=2;case 91:return Q++,G=3;case 93:return Q++,G=4;case 58:return Q++,G=6;case 44:return Q++,G=5;case 34:return Q++,Y=K(),G=10;case 47:var M=Q-1;if(J.charCodeAt(Q+1)===47){Q+=2;while(Q<X){if(fW(J.charCodeAt(Q)))break;Q++}return Y=J.substring(M,Q),G=12}if(J.charCodeAt(Q+1)===42){Q+=2;var T=X-1,_=!1;while(Q<T){var w=J.charCodeAt(Q);if(w===42&&J.charCodeAt(Q+1)===47){Q+=2,_=!0;break}if(Q++,fW(w)){if(w===13&&J.charCodeAt(Q)===10)Q++;q++,H=Q}}if(!_)Q++,V=1;return Y=J.substring(M,Q),G=13}return Y+=String.fromCharCode(R),Q++,G=16;case 45:if(Y+=String.fromCharCode(R),Q++,Q===X||!B3(J.charCodeAt(Q)))return G=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Y+=j(),G=11;default:while(Q<X&&A(R))Q++,R=J.charCodeAt(Q);if(Z!==Q){switch(Y=J.substring(Z,Q),Y){case"true":return G=8;case"false":return G=9;case"null":return G=7}return G=16}return Y+=String.fromCharCode(R),Q++,G=16}}function A(R){if(cy(R)||fW(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function P(){var R;do R=D();while(R>=12&&R<=15);return R}return{setPosition:B,getPosition:function(){return Q},scan:$?P:D,getToken:function(){return G},getTokenValue:function(){return Y},getTokenOffset:function(){return Z},getTokenLength:function(){return Q-Z},getTokenStartLine:function(){return U},getTokenStartCharacter:function(){return Z-z},getTokenError:function(){return V}}},cy=function(J){return J===32||J===9||J===11||J===12||J===160||J===5760||J>=8192&&J<=8203||J===8239||J===8287||J===12288||J===65279},fW=function(J){return J===10||J===13||J===8232||J===8233},B3=function(J){return J>=48&&J<=57},DY0=function(J){return{getInitialState:()=>new _R(null,null,!1,null),tokenize:($,X)=>kY0(J,$,X)}},kY0=function(J,$,X,Q=0){let Y=0,Z=!1;switch(X.scanError){case 2:$='"'+$,Y=1;break;case 1:$="/*"+$,Y=2;break}const G=PY0($);let{lastWasColon:q,parents:U}=X;const H={tokens:[],endState:X.clone()};while(!0){let z=Q+G.getPosition(),V="";const W=G.scan();if(W===17)break;if(z===Q+G.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+$.substr(G.getPosition(),3));if(Z)z-=Y;switch(Z=Y>0,W){case 1:U=F3.push(U,0),V=et,q=!1;break;case 2:U=F3.pop(U),V=et,q=!1;break;case 3:U=F3.push(U,1),V=Je,q=!1;break;case 4:U=F3.pop(U),V=Je,q=!1;break;case 6:V=RY0,q=!0;break;case 5:V=MY0,q=!1;break;case 8:case 9:V=OY0,q=!1;break;case 7:V=NY0,q=!1;break;case 10:const j=(U?U.type:0)===1;V=q||j?TY0:wY0,q=!1;break;case 11:V=_Y0,q=!1;break}if(J)switch(W){case 12:V=IY0;break;case 13:V=LY0;break}H.endState=new _R(X.getStateData(),G.getTokenError(),q,U),H.tokens.push({startIndex:z,scopes:V})}return H},yY0=function(J){const $=[],X=[],Q=new Xe(J);$.push(Q);const Y=(...q)=>{return Q.getLanguageServiceWorker(...q)};function Z(){const{languageId:q,modeConfiguration:U}=J;if(je(X),U.documentFormattingEdits)X.push(x1.languages.registerDocumentFormattingEditProvider(q,new Ue(Y)));if(U.documentRangeFormattingEdits)X.push(x1.languages.registerDocumentRangeFormattingEditProvider(q,new He(Y)));if(U.completionItems)X.push(x1.languages.registerCompletionItemProvider(q,new Ye(Y,[" ",":",'"'])));if(U.hovers)X.push(x1.languages.registerHoverProvider(q,new Ze(Y)));if(U.documentSymbols)X.push(x1.languages.registerDocumentSymbolProvider(q,new qe(Y)));if(U.tokens)X.push(x1.languages.setTokensProvider(q,DY0(!0)));if(U.colors)X.push(x1.languages.registerColorProvider(q,new Ve(Y)));if(U.foldingRanges)X.push(x1.languages.registerFoldingRangeProvider(q,new We(Y)));if(U.diagnostics)X.push(new EY0(q,Y,J));if(U.selectionRanges)X.push(x1.languages.registerSelectionRangeProvider(q,new Be(Y)))}Z(),$.push(x1.languages.setLanguageConfiguration(J.languageId,SY0));let G=J.modeConfiguration;return J.onDidChange((q)=>{if(q.modeConfiguration!==G)G=q.modeConfiguration,Z()}),$.push($e(X)),$e($)},$e=function(J){return{dispose:()=>je(J)}},je=function(J){while(J.length)J.pop().dispose()};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/rQ0=Object.defineProperty,iQ0=Object.getOwnPropertyDescriptor,nQ0=Object.getOwnPropertyNames,oQ0=Object.prototype.hasOwnProperty,Dt=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of nQ0($))if(!oQ0.call(J,Y)&&Y!==X)rQ0(J,Y,{get:()=>$[Y],enumerable:!(Q=iQ0($,Y))||Q.enumerable})}return J},tQ0=(J,$,X)=>(Dt(J,$,"default"),X&&Dt(X,$,"default")),x1={};tQ0(x1,e7);eQ0=120000,Xe=class{_defaults;_idleCheckInterval;_lastUsedTime;_configChangeListener;_worker;_client;constructor(J){this._defaults=J,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){if(this._worker)this._worker.dispose(),this._worker=null;this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;if(Date.now()-this._lastUsedTime>eQ0)this._stopWorker()}_getClient(){if(this._lastUsedTime=Date.now(),!this._client)this._worker=x1.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy();return this._client}getLanguageServiceWorker(...J){let $;return this._getClient().then((X)=>{$=X}).then((X)=>{if(this._worker)return this._worker.withSyncedResources(J)}).then((X)=>$)}};(function(J){J.MIN_VALUE=-2147483648,J.MAX_VALUE=2147483647})(Rt||(Rt={}));(function(J){J.MIN_VALUE=0,J.MAX_VALUE=2147483647})(RR||(RR={}));(function(J){function $(Q,Y){if(Q===Number.MAX_VALUE)Q=RR.MAX_VALUE;if(Y===Number.MAX_VALUE)Y=RR.MAX_VALUE;return{line:Q,character:Y}}J.create=$;function X(Q){var Y=Q;return X0.objectLiteral(Y)&&X0.uinteger(Y.line)&&X0.uinteger(Y.character)}J.is=X})(i$||(i$={}));(function(J){function $(Q,Y,Z,G){if(X0.uinteger(Q)&&X0.uinteger(Y)&&X0.uinteger(Z)&&X0.uinteger(G))return{start:i$.create(Q,Y),end:i$.create(Z,G)};else if(i$.is(Q)&&i$.is(Y))return{start:Q,end:Y};else throw new Error("Range#create called with invalid arguments["+Q+", "+Y+", "+Z+", "+G+"]")}J.create=$;function X(Q){var Y=Q;return X0.objectLiteral(Y)&&i$.is(Y.start)&&i$.is(Y.end)}J.is=X})(q9||(q9={}));(function(J){function $(Q,Y){return{uri:Q,range:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&q9.is(Y.range)&&(X0.string(Y.uri)||X0.undefined(Y.uri))}J.is=X})(ly||(ly={}));(function(J){function $(Q,Y,Z,G){return{targetUri:Q,targetRange:Y,targetSelectionRange:Z,originSelectionRange:G}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&q9.is(Y.targetRange)&&X0.string(Y.targetUri)&&(q9.is(Y.targetSelectionRange)||X0.undefined(Y.targetSelectionRange))&&(q9.is(Y.originSelectionRange)||X0.undefined(Y.originSelectionRange))}J.is=X})(Mt||(Mt={}));(function(J){function $(Q,Y,Z,G){return{red:Q,green:Y,blue:Z,alpha:G}}J.create=$;function X(Q){var Y=Q;return X0.numberRange(Y.red,0,1)&&X0.numberRange(Y.green,0,1)&&X0.numberRange(Y.blue,0,1)&&X0.numberRange(Y.alpha,0,1)}J.is=X})(dy||(dy={}));(function(J){function $(Q,Y){return{range:Q,color:Y}}J.create=$;function X(Q){var Y=Q;return q9.is(Y.range)&&dy.is(Y.color)}J.is=X})(Ot||(Ot={}));(function(J){function $(Q,Y,Z){return{label:Q,textEdit:Y,additionalTextEdits:Z}}J.create=$;function X(Q){var Y=Q;return X0.string(Y.label)&&(X0.undefined(Y.textEdit)||qZ.is(Y))&&(X0.undefined(Y.additionalTextEdits)||X0.typedArray(Y.additionalTextEdits,qZ.is))}J.is=X})(Nt||(Nt={}));(function(J){J.Comment="comment",J.Imports="imports",J.Region="region"})(hW||(hW={}));(function(J){function $(Q,Y,Z,G,q){var U={startLine:Q,endLine:Y};if(X0.defined(Z))U.startCharacter=Z;if(X0.defined(G))U.endCharacter=G;if(X0.defined(q))U.kind=q;return U}J.create=$;function X(Q){var Y=Q;return X0.uinteger(Y.startLine)&&X0.uinteger(Y.startLine)&&(X0.undefined(Y.startCharacter)||X0.uinteger(Y.startCharacter))&&(X0.undefined(Y.endCharacter)||X0.uinteger(Y.endCharacter))&&(X0.undefined(Y.kind)||X0.string(Y.kind))}J.is=X})(Tt||(Tt={}));(function(J){function $(Q,Y){return{location:Q,message:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&ly.is(Y.location)&&X0.string(Y.message)}J.is=X})(sy||(sy={}));(function(J){J.Error=1,J.Warning=2,J.Information=3,J.Hint=4})(j3||(j3={}));(function(J){J.Unnecessary=1,J.Deprecated=2})(_t||(_t={}));(function(J){function $(X){var Q=X;return Q!==void 0&&Q!==null&&X0.string(Q.href)}J.is=$})(wt||(wt={}));(function(J){function $(Q,Y,Z,G,q,U){var H={range:Q,message:Y};if(X0.defined(Z))H.severity=Z;if(X0.defined(G))H.code=G;if(X0.defined(q))H.source=q;if(X0.defined(U))H.relatedInformation=U;return H}J.create=$;function X(Q){var Y,Z=Q;return X0.defined(Z)&&q9.is(Z.range)&&X0.string(Z.message)&&(X0.number(Z.severity)||X0.undefined(Z.severity))&&(X0.integer(Z.code)||X0.string(Z.code)||X0.undefined(Z.code))&&(X0.undefined(Z.codeDescription)||X0.string((Y=Z.codeDescription)===null||Y===void 0?void 0:Y.href))&&(X0.string(Z.source)||X0.undefined(Z.source))&&(X0.undefined(Z.relatedInformation)||X0.typedArray(Z.relatedInformation,sy.is))}J.is=X})(MR||(MR={}));(function(J){function $(Q,Y){var Z=[];for(var G=2;G<arguments.length;G++)Z[G-2]=arguments[G];var q={title:Q,command:Y};if(X0.defined(Z)&&Z.length>0)q.arguments=Z;return q}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.string(Y.title)&&X0.string(Y.command)}J.is=X})(pW||(pW={}));(function(J){function $(Z,G){return{range:Z,newText:G}}J.replace=$;function X(Z,G){return{range:{start:Z,end:Z},newText:G}}J.insert=X;function Q(Z){return{range:Z,newText:""}}J.del=Q;function Y(Z){var G=Z;return X0.objectLiteral(G)&&X0.string(G.newText)&&q9.is(G.range)}J.is=Y})(qZ||(qZ={}));(function(J){function $(Q,Y,Z){var G={label:Q};if(Y!==void 0)G.needsConfirmation=Y;if(Z!==void 0)G.description=Z;return G}J.create=$;function X(Q){var Y=Q;return Y!==void 0&&X0.objectLiteral(Y)&&X0.string(Y.label)&&(X0.boolean(Y.needsConfirmation)||Y.needsConfirmation===void 0)&&(X0.string(Y.description)||Y.description===void 0)}J.is=X})(K3||(K3={}));(function(J){function $(X){var Q=X;return typeof Q==="string"}J.is=$})(D9||(D9={}));(function(J){function $(Z,G,q){return{range:Z,newText:G,annotationId:q}}J.replace=$;function X(Z,G,q){return{range:{start:Z,end:Z},newText:G,annotationId:q}}J.insert=X;function Q(Z,G){return{range:Z,newText:"",annotationId:G}}J.del=Q;function Y(Z){var G=Z;return qZ.is(G)&&(K3.is(G.annotationId)||D9.is(G.annotationId))}J.is=Y})(GZ||(GZ={}));(function(J){function $(Q,Y){return{textDocument:Q,edits:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&NR.is(Y.textDocument)&&Array.isArray(Y.edits)}J.is=X})(OR||(OR={}));(function(J){function $(Q,Y,Z){var G={kind:"create",uri:Q};if(Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="create"&&X0.string(Y.uri)&&(Y.options===void 0||(Y.options.overwrite===void 0||X0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||X0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||D9.is(Y.annotationId))}J.is=X})(mW||(mW={}));(function(J){function $(Q,Y,Z,G){var q={kind:"rename",oldUri:Q,newUri:Y};if(Z!==void 0&&(Z.overwrite!==void 0||Z.ignoreIfExists!==void 0))q.options=Z;if(G!==void 0)q.annotationId=G;return q}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="rename"&&X0.string(Y.oldUri)&&X0.string(Y.newUri)&&(Y.options===void 0||(Y.options.overwrite===void 0||X0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||X0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||D9.is(Y.annotationId))}J.is=X})(uW||(uW={}));(function(J){function $(Q,Y,Z){var G={kind:"delete",uri:Q};if(Y!==void 0&&(Y.recursive!==void 0||Y.ignoreIfNotExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="delete"&&X0.string(Y.uri)&&(Y.options===void 0||(Y.options.recursive===void 0||X0.boolean(Y.options.recursive))&&(Y.options.ignoreIfNotExists===void 0||X0.boolean(Y.options.ignoreIfNotExists)))&&(Y.annotationId===void 0||D9.is(Y.annotationId))}J.is=X})(cW||(cW={}));(function(J){function $(X){var Q=X;return Q&&(Q.changes!==void 0||Q.documentChanges!==void 0)&&(Q.documentChanges===void 0||Q.documentChanges.every(function(Y){if(X0.string(Y.kind))return mW.is(Y)||uW.is(Y)||cW.is(Y);else return OR.is(Y)}))}J.is=$})(ay||(ay={}));DR=function(){function J($,X){this.edits=$,this.changeAnnotations=X}return J.prototype.insert=function($,X,Q){var Y,Z;if(Q===void 0)Y=qZ.insert($,X);else if(D9.is(Q))Z=Q,Y=GZ.insert($,X,Q);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(Q),Y=GZ.insert($,X,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.replace=function($,X,Q){var Y,Z;if(Q===void 0)Y=qZ.replace($,X);else if(D9.is(Q))Z=Q,Y=GZ.replace($,X,Q);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(Q),Y=GZ.replace($,X,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.delete=function($,X){var Q,Y;if(X===void 0)Q=qZ.del($);else if(D9.is(X))Y=X,Q=GZ.del($,X);else this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(X),Q=GZ.del($,Y);if(this.edits.push(Q),Y!==void 0)return Y},J.prototype.add=function($){this.edits.push($)},J.prototype.all=function(){return this.edits},J.prototype.clear=function(){this.edits.splice(0,this.edits.length)},J.prototype.assertChangeAnnotations=function($){if($===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},J}(),Lt=function(){function J($){this._annotations=$===void 0?Object.create(null):$,this._counter=0,this._size=0}return J.prototype.all=function(){return this._annotations},Object.defineProperty(J.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),J.prototype.manage=function($,X){var Q;if(D9.is($))Q=$;else Q=this.nextId(),X=$;if(this._annotations[Q]!==void 0)throw new Error("Id "+Q+" is already in use.");if(X===void 0)throw new Error("No annotation provided for id "+Q);return this._annotations[Q]=X,this._size++,Q},J.prototype.nextId=function(){return this._counter++,this._counter.toString()},J}(),m41=function(){function J($){var X=this;if(this._textEditChanges=Object.create(null),$!==void 0){if(this._workspaceEdit=$,$.documentChanges)this._changeAnnotations=new Lt($.changeAnnotations),$.changeAnnotations=this._changeAnnotations.all(),$.documentChanges.forEach(function(Q){if(OR.is(Q)){var Y=new DR(Q.edits,X._changeAnnotations);X._textEditChanges[Q.textDocument.uri]=Y}});else if($.changes)Object.keys($.changes).forEach(function(Q){var Y=new DR($.changes[Q]);X._textEditChanges[Q]=Y})}else this._workspaceEdit={}}return Object.defineProperty(J.prototype,"edit",{get:function(){if(this.initDocumentChanges(),this._changeAnnotations!==void 0)if(this._changeAnnotations.size===0)this._workspaceEdit.changeAnnotations=void 0;else this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();return this._workspaceEdit},enumerable:!1,configurable:!0}),J.prototype.getTextEditChange=function($){if(NR.is($)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var X={uri:$.uri,version:$.version},Q=this._textEditChanges[X.uri];if(!Q){var Y=[],Z={textDocument:X,edits:Y};this._workspaceEdit.documentChanges.push(Z),Q=new DR(Y,this._changeAnnotations),this._textEditChanges[X.uri]=Q}return Q}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Q=this._textEditChanges[$];if(!Q){var Y=[];this._workspaceEdit.changes[$]=Y,Q=new DR(Y),this._textEditChanges[$]=Q}return Q}},J.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._changeAnnotations=new Lt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()},J.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._workspaceEdit.changes=Object.create(null)},J.prototype.createFile=function($,X,Q){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(K3.is(X)||D9.is(X))Y=X;else Q=X;var Z,G;if(Y===void 0)Z=mW.create($,Q);else G=D9.is(Y)?Y:this._changeAnnotations.manage(Y),Z=mW.create($,Q,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J.prototype.renameFile=function($,X,Q,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Z;if(K3.is(Q)||D9.is(Q))Z=Q;else Y=Q;var G,q;if(Z===void 0)G=uW.create($,X,Y);else q=D9.is(Z)?Z:this._changeAnnotations.manage(Z),G=uW.create($,X,Y,q);if(this._workspaceEdit.documentChanges.push(G),q!==void 0)return q},J.prototype.deleteFile=function($,X,Q){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(K3.is(X)||D9.is(X))Y=X;else Q=X;var Z,G;if(Y===void 0)Z=cW.create($,Q);else G=D9.is(Y)?Y:this._changeAnnotations.manage(Y),Z=cW.create($,Q,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J}();(function(J){function $(Q){return{uri:Q}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.string(Y.uri)}J.is=X})(It||(It={}));(function(J){function $(Q,Y){return{uri:Q,version:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.string(Y.uri)&&X0.integer(Y.version)}J.is=X})(kt||(kt={}));(function(J){function $(Q,Y){return{uri:Q,version:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.string(Y.uri)&&(Y.version===null||X0.integer(Y.version))}J.is=X})(NR||(NR={}));(function(J){function $(Q,Y,Z,G){return{uri:Q,languageId:Y,version:Z,text:G}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.string(Y.uri)&&X0.string(Y.languageId)&&X0.integer(Y.version)&&X0.string(Y.text)}J.is=X})(Et||(Et={}));(function(J){J.PlainText="plaintext",J.Markdown="markdown"})(lW||(lW={}));(function(J){function $(X){var Q=X;return Q===J.PlainText||Q===J.Markdown}J.is=$})(lW||(lW={}));(function(J){function $(X){var Q=X;return X0.objectLiteral(X)&&lW.is(Q.kind)&&X0.string(Q.value)}J.is=$})(ry||(ry={}));(function(J){J.Text=1,J.Method=2,J.Function=3,J.Constructor=4,J.Field=5,J.Variable=6,J.Class=7,J.Interface=8,J.Module=9,J.Property=10,J.Unit=11,J.Value=12,J.Enum=13,J.Keyword=14,J.Snippet=15,J.Color=16,J.File=17,J.Reference=18,J.Folder=19,J.EnumMember=20,J.Constant=21,J.Struct=22,J.Event=23,J.Operator=24,J.TypeParameter=25})(V6||(V6={}));(function(J){J.PlainText=1,J.Snippet=2})(iy||(iy={}));(function(J){J.Deprecated=1})(yt||(yt={}));(function(J){function $(Q,Y,Z){return{newText:Q,insert:Y,replace:Z}}J.create=$;function X(Q){var Y=Q;return Y&&X0.string(Y.newText)&&q9.is(Y.insert)&&q9.is(Y.replace)}J.is=X})(St||(St={}));(function(J){J.asIs=1,J.adjustIndentation=2})(Ct||(Ct={}));(function(J){function $(X){return{label:X}}J.create=$})(xt||(xt={}));(function(J){function $(X,Q){return{items:X?X:[],isIncomplete:!!Q}}J.create=$})(bt||(bt={}));(function(J){function $(Q){return Q.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}J.fromPlainText=$;function X(Q){var Y=Q;return X0.string(Y)||X0.objectLiteral(Y)&&X0.string(Y.language)&&X0.string(Y.value)}J.is=X})(TR||(TR={}));(function(J){function $(X){var Q=X;return!!Q&&X0.objectLiteral(Q)&&(ry.is(Q.contents)||TR.is(Q.contents)||X0.typedArray(Q.contents,TR.is))&&(X.range===void 0||q9.is(X.range))}J.is=$})(vt||(vt={}));(function(J){function $(X,Q){return Q?{label:X,documentation:Q}:{label:X}}J.create=$})(ft||(ft={}));(function(J){function $(X,Q){var Y=[];for(var Z=2;Z<arguments.length;Z++)Y[Z-2]=arguments[Z];var G={label:X};if(X0.defined(Q))G.documentation=Q;if(X0.defined(Y))G.parameters=Y;else G.parameters=[];return G}J.create=$})(ht||(ht={}));(function(J){J.Text=1,J.Read=2,J.Write=3})(gW||(gW={}));(function(J){function $(X,Q){var Y={range:X};if(X0.number(Q))Y.kind=Q;return Y}J.create=$})(gt||(gt={}));(function(J){J.File=1,J.Module=2,J.Namespace=3,J.Package=4,J.Class=5,J.Method=6,J.Property=7,J.Field=8,J.Constructor=9,J.Enum=10,J.Interface=11,J.Function=12,J.Variable=13,J.Constant=14,J.String=15,J.Number=16,J.Boolean=17,J.Array=18,J.Object=19,J.Key=20,J.Null=21,J.EnumMember=22,J.Struct=23,J.Event=24,J.Operator=25,J.TypeParameter=26})(W6||(W6={}));(function(J){J.Deprecated=1})(pt||(pt={}));(function(J){function $(X,Q,Y,Z,G){var q={name:X,kind:Q,location:{uri:Z,range:Y}};if(G)q.containerName=G;return q}J.create=$})(mt||(mt={}));(function(J){function $(Q,Y,Z,G,q,U){var H={name:Q,detail:Y,kind:Z,range:G,selectionRange:q};if(U!==void 0)H.children=U;return H}J.create=$;function X(Q){var Y=Q;return Y&&X0.string(Y.name)&&X0.number(Y.kind)&&q9.is(Y.range)&&q9.is(Y.selectionRange)&&(Y.detail===void 0||X0.string(Y.detail))&&(Y.deprecated===void 0||X0.boolean(Y.deprecated))&&(Y.children===void 0||Array.isArray(Y.children))&&(Y.tags===void 0||Array.isArray(Y.tags))}J.is=X})(ut||(ut={}));(function(J){J.Empty="",J.QuickFix="quickfix",J.Refactor="refactor",J.RefactorExtract="refactor.extract",J.RefactorInline="refactor.inline",J.RefactorRewrite="refactor.rewrite",J.Source="source",J.SourceOrganizeImports="source.organizeImports",J.SourceFixAll="source.fixAll"})(ct||(ct={}));(function(J){function $(Q,Y){var Z={diagnostics:Q};if(Y!==void 0&&Y!==null)Z.only=Y;return Z}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.typedArray(Y.diagnostics,MR.is)&&(Y.only===void 0||X0.typedArray(Y.only,X0.string))}J.is=X})(lt||(lt={}));(function(J){function $(Q,Y,Z){var G={title:Q},q=!0;if(typeof Y==="string")q=!1,G.kind=Y;else if(pW.is(Y))G.command=Y;else G.edit=Y;if(q&&Z!==void 0)G.kind=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&X0.string(Y.title)&&(Y.diagnostics===void 0||X0.typedArray(Y.diagnostics,MR.is))&&(Y.kind===void 0||X0.string(Y.kind))&&(Y.edit!==void 0||Y.command!==void 0)&&(Y.command===void 0||pW.is(Y.command))&&(Y.isPreferred===void 0||X0.boolean(Y.isPreferred))&&(Y.edit===void 0||ay.is(Y.edit))}J.is=X})(dt||(dt={}));(function(J){function $(Q,Y){var Z={range:Q};if(X0.defined(Y))Z.data=Y;return Z}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&q9.is(Y.range)&&(X0.undefined(Y.command)||pW.is(Y.command))}J.is=X})(st||(st={}));(function(J){function $(Q,Y){return{tabSize:Q,insertSpaces:Y}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&X0.uinteger(Y.tabSize)&&X0.boolean(Y.insertSpaces)}J.is=X})(at||(at={}));(function(J){function $(Q,Y,Z){return{range:Q,target:Y,data:Z}}J.create=$;function X(Q){var Y=Q;return X0.defined(Y)&&q9.is(Y.range)&&(X0.undefined(Y.target)||X0.string(Y.target))}J.is=X})(rt||(rt={}));(function(J){function $(Q,Y){return{range:Q,parent:Y}}J.create=$;function X(Q){var Y=Q;return Y!==void 0&&q9.is(Y.range)&&(Y.parent===void 0||J.is(Y.parent))}J.is=X})(it||(it={}));(function(J){function $(Z,G,q,U){return new JY0(Z,G,q,U)}J.create=$;function X(Z){var G=Z;return X0.defined(G)&&X0.string(G.uri)&&(X0.undefined(G.languageId)||X0.string(G.languageId))&&X0.uinteger(G.lineCount)&&X0.func(G.getText)&&X0.func(G.positionAt)&&X0.func(G.offsetAt)?!0:!1}J.is=X;function Q(Z,G){var q=Z.getText(),U=Y(G,function(j,K){var D=j.range.start.line-K.range.start.line;if(D===0)return j.range.start.character-K.range.start.character;return D}),H=q.length;for(var z=U.length-1;z>=0;z--){var V=U[z],W=Z.offsetAt(V.range.start),B=Z.offsetAt(V.range.end);if(B<=H)q=q.substring(0,W)+V.newText+q.substring(B,q.length);else throw new Error("Overlapping edit");H=W}return q}J.applyEdits=Q;function Y(Z,G){if(Z.length<=1)return Z;var q=Z.length/2|0,U=Z.slice(0,q),H=Z.slice(q);Y(U,G),Y(H,G);var z=0,V=0,W=0;while(z<U.length&&V<H.length){var B=G(U[z],H[V]);if(B<=0)Z[W++]=U[z++];else Z[W++]=H[V++]}while(z<U.length)Z[W++]=U[z++];while(V<H.length)Z[W++]=H[V++];return Z}})(nt||(nt={}));JY0=function(){function J($,X,Q,Y){this._uri=$,this._languageId=X,this._version=Q,this._content=Y,this._lineOffsets=void 0}return Object.defineProperty(J.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),J.prototype.getText=function($){if($){var X=this.offsetAt($.start),Q=this.offsetAt($.end);return this._content.substring(X,Q)}return this._content},J.prototype.update=function($,X){this._content=$.text,this._version=X,this._lineOffsets=void 0},J.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var $=[],X=this._content,Q=!0;for(var Y=0;Y<X.length;Y++){if(Q)$.push(Y),Q=!1;var Z=X.charAt(Y);if(Q=Z==="\r"||Z==="\n",Z==="\r"&&Y+1<X.length&&X.charAt(Y+1)==="\n")Y++}if(Q&&X.length>0)$.push(X.length);this._lineOffsets=$}return this._lineOffsets},J.prototype.positionAt=function($){$=Math.max(Math.min($,this._content.length),0);var X=this.getLineOffsets(),Q=0,Y=X.length;if(Y===0)return i$.create(0,$);while(Q<Y){var Z=Math.floor((Q+Y)/2);if(X[Z]>$)Y=Z;else Q=Z+1}var G=Q-1;return i$.create(G,$-X[G])},J.prototype.offsetAt=function($){var X=this.getLineOffsets();if($.line>=X.length)return this._content.length;else if($.line<0)return 0;var Q=X[$.line],Y=$.line+1<X.length?X[$.line+1]:this._content.length;return Math.max(Math.min(Q+$.character,Y),Q)},Object.defineProperty(J.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),J}();(function(J){var $=Object.prototype.toString;function X(B){return typeof B!=="undefined"}J.defined=X;function Q(B){return typeof B==="undefined"}J.undefined=Q;function Y(B){return B===!0||B===!1}J.boolean=Y;function Z(B){return $.call(B)==="[object String]"}J.string=Z;function G(B){return $.call(B)==="[object Number]"}J.number=G;function q(B,j,K){return $.call(B)==="[object Number]"&&j<=B&&B<=K}J.numberRange=q;function U(B){return $.call(B)==="[object Number]"&&-2147483648<=B&&B<=2147483647}J.integer=U;function H(B){return $.call(B)==="[object Number]"&&0<=B&&B<=2147483647}J.uinteger=H;function z(B){return $.call(B)==="[object Function]"}J.func=z;function V(B){return B!==null&&typeof B==="object"}J.objectLiteral=V;function W(B,j){return Array.isArray(B)&&B.every(j)}J.typedArray=W})(X0||(X0={}));Qe=class{constructor(J,$,X){this._languageId=J,this._worker=$;const Q=(Z)=>{let G=Z.getLanguageId();if(G!==this._languageId)return;let q;this._listener[Z.uri.toString()]=Z.onDidChangeContent(()=>{window.clearTimeout(q),q=window.setTimeout(()=>this._doValidate(Z.uri,G),500)}),this._doValidate(Z.uri,G)},Y=(Z)=>{x1.editor.setModelMarkers(Z,this._languageId,[]);let G=Z.uri.toString(),q=this._listener[G];if(q)q.dispose(),delete this._listener[G]};this._disposables.push(x1.editor.onDidCreateModel(Q)),this._disposables.push(x1.editor.onWillDisposeModel(Y)),this._disposables.push(x1.editor.onDidChangeModelLanguage((Z)=>{Y(Z.model),Q(Z.model)})),this._disposables.push(X((Z)=>{x1.editor.getModels().forEach((G)=>{if(G.getLanguageId()===this._languageId)Y(G),Q(G)})})),this._disposables.push({dispose:()=>{x1.editor.getModels().forEach(Y);for(let Z in this._listener)this._listener[Z].dispose()}}),x1.editor.getModels().forEach(Q)}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((J)=>J&&J.dispose()),this._disposables.length=0}_doValidate(J,$){this._worker(J).then((X)=>{return X.doValidation(J.toString())}).then((X)=>{const Q=X.map((Z)=>XY0(J,Z));let Y=x1.editor.getModel(J);if(Y&&Y.getLanguageId()===$)x1.editor.setModelMarkers(Y,$,Q)}).then(void 0,(X)=>{console.error(X)})}},Ye=class{constructor(J,$){this._worker=J,this._triggerCharacters=$}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doComplete(Y.toString(),UZ($))}).then((Z)=>{if(!Z)return;const G=J.getWordUntilPosition($),q=new x1.Range($.lineNumber,G.startColumn,$.lineNumber,G.endColumn),U=Z.items.map((H)=>{const z={label:H.label,insertText:H.insertText||H.label,sortText:H.sortText,filterText:H.filterText,documentation:H.documentation,detail:H.detail,command:ZY0(H.command),range:q,kind:YY0(H.kind)};if(H.textEdit){if(QY0(H.textEdit))z.range={insert:B5(H.textEdit.insert),replace:B5(H.textEdit.replace)};else z.range=B5(H.textEdit.range);z.insertText=H.textEdit.newText}if(H.additionalTextEdits)z.additionalTextEdits=H.additionalTextEdits.map(A3);if(H.insertTextFormat===iy.Snippet)z.insertTextRules=x1.languages.CompletionItemInsertTextRule.InsertAsSnippet;return z});return{isIncomplete:Z.isIncomplete,suggestions:U}})}},Ze=class{constructor(J){this._worker=J}provideHover(J,$,X){let Q=J.uri;return this._worker(Q).then((Y)=>{return Y.doHover(Q.toString(),UZ($))}).then((Y)=>{if(!Y)return;return{range:B5(Y.range),contents:qY0(Y.contents)}})}},UY0=class{constructor(J){this._worker=J}provideDocumentHighlights(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.findDocumentHighlights(Q.toString(),UZ($))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{return{range:B5(Z.range),kind:HY0(Z.kind)}})})}},zY0=class{constructor(J){this._worker=J}provideDefinition(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>{return Y.findDefinition(Q.toString(),UZ($))}).then((Y)=>{if(!Y)return;return[Ge(Y)]})}},VY0=class{constructor(J){this._worker=J}provideReferences(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.findReferences(Y.toString(),UZ($))}).then((Z)=>{if(!Z)return;return Z.map(Ge)})}},WY0=class{constructor(J){this._worker=J}provideRenameEdits(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doRename(Y.toString(),UZ($),X)}).then((Z)=>{return BY0(Z)})}},qe=class{constructor(J){this._worker=J}provideDocumentSymbols(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentSymbols(X.toString())).then((Q)=>{if(!Q)return;return Q.map((Y)=>({name:Y.name,detail:"",containerName:Y.containerName,kind:jY0(Y.kind),range:B5(Y.location.range),selectionRange:B5(Y.location.range),tags:[]}))})}},FY0=class{constructor(J){this._worker=J}provideLinks(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentLinks(X.toString())).then((Q)=>{if(!Q)return;return{links:Q.map((Y)=>({range:B5(Y.range),url:Y.target}))}})}},Ue=class{constructor(J){this._worker=J}provideDocumentFormattingEdits(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>{return Y.format(Q.toString(),null,ze($)).then((Z)=>{if(!Z||Z.length===0)return;return Z.map(A3)})})}},He=class{constructor(J){this._worker=J}canFormatMultipleRanges=!1;provideDocumentRangeFormattingEdits(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.format(Y.toString(),ny($),ze(X)).then((G)=>{if(!G||G.length===0)return;return G.map(A3)})})}},Ve=class{constructor(J){this._worker=J}provideDocumentColors(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentColors(X.toString())).then((Q)=>{if(!Q)return;return Q.map((Y)=>({color:Y.color,range:B5(Y.range)}))})}provideColorPresentations(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getColorPresentations(Q.toString(),$.color,ny($.range))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={label:Z.label};if(Z.textEdit)G.textEdit=A3(Z.textEdit);if(Z.additionalTextEdits)G.additionalTextEdits=Z.additionalTextEdits.map(A3);return G})})}},We=class{constructor(J){this._worker=J}provideFoldingRanges(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getFoldingRanges(Q.toString(),$)).then((Y)=>{if(!Y)return;return Y.map((Z)=>{const G={start:Z.startLine+1,end:Z.endLine+1};if(typeof Z.kind!=="undefined")G.kind=KY0(Z.kind);return G})})}},Be=class{constructor(J){this._worker=J}provideSelectionRanges(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getSelectionRanges(Q.toString(),$.map(UZ))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{const G=[];while(Z)G.push({range:B5(Z.range)}),Z=Z.parent;return G})})}};(function(J){J.DEFAULT={allowTrailingComma:!1}})(tt||(tt={}));PY0=AY0,et="delimiter.bracket.json",Je="delimiter.array.json",RY0="delimiter.colon.json",MY0="delimiter.comma.json",OY0="keyword.json",NY0="keyword.json",TY0="string.value.json",_Y0="number.json",wY0="string.key.json",LY0="comment.block.json",IY0="comment.line.json",F3=class{constructor(J,$){this.parent=J,this.type=$}static pop(J){if(J)return J.parent;return null}static push(J,$){return new F3(J,$)}static equals(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;while(J&&$){if(J===$)return!0;if(J.type!==$.type)return!1;J=J.parent,$=$.parent}return!0}},_R=class{_state;scanError;lastWasColon;parents;constructor(J,$,X,Q){this._state=J,this.scanError=$,this.lastWasColon=X,this.parents=Q}clone(){return new _R(this._state,this.scanError,this.lastWasColon,this.parents)}equals(J){if(J===this)return!0;if(!J||!(J instanceof _R))return!1;return this.scanError===J.scanError&&this.lastWasColon===J.lastWasColon&&F3.equals(this.parents,J.parents)}getStateData(){return this._state}setStateData(J){this._state=J}},EY0=class extends Qe{constructor(J,$,X){super(J,$,X.onDidChange);this._disposables.push(x1.editor.onWillDisposeModel((Q)=>{this._resetSchema(Q.uri)})),this._disposables.push(x1.editor.onDidChangeModelLanguage((Q)=>{this._resetSchema(Q.model.uri)}))}_resetSchema(J){this._worker().then(($)=>{$.resetSchema(J.toString())})}},SY0={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}});var fe={};m4(fe,{setupTypeScript:()=>{{return aY0}},setupJavaScript:()=>{{return rY0}},getTypeScriptWorker:()=>{{return nY0}},getJavaScriptWorker:()=>{{return iY0}},flattenDiagnosticMessageText:()=>{{return wR}},WorkerManager:()=>{{return Me}},SuggestAdapter:()=>{{return sW}},SignatureHelpAdapter:()=>{{return ey}},RenameAdapter:()=>{{return Ce}},ReferenceAdapter:()=>{{return Ie}},QuickInfoAdapter:()=>{{return _e}},OutlineAdapter:()=>{{return ke}},LibFiles:()=>{{return Oe}},Kind:()=>{{return Q1}},InlayHintsAdapter:()=>{{return xe}},FormatOnTypeAdapter:()=>{{return ye}},FormatHelper:()=>{{return T2}},FormatAdapter:()=>{{return Ee}},DocumentHighlightAdapter:()=>{{return we}},DiagnosticsAdapter:()=>{{return Ne}},DefinitionAdapter:()=>{{return Le}},CodeActionAdaptor:()=>{{return Se}},Adapter:()=>{{return fJ}}});var wR,n$,Te,aY0,rY0,iY0,nY0,be,oY0,ve,Re,uY0,cY0,lY0,dY0,De,sY0,m8,f0,Me,x0,fJ,Oe,Ne,sW,ey,_e,we,Le,Ie,ke,Q1,l9,T2,Ee,ye,Se,Ce,xe,oy,ty;var he=N(()=>{c9();JS();wR=function(J,$,X=0){if(typeof J==="string")return J;else if(J===void 0)return"";let Q="";if(X){Q+=$;for(let Y=0;Y<X;Y++)Q+="  "}if(Q+=J.messageText,X++,J.next)for(let Y of J.next)Q+=wR(Y,$,X);return Q},n$=function(J){if(J)return J.map(($)=>$.text).join("");return""},Te=function(J){let $=`*@${J.name}*`;if(J.name==="param"&&J.text){const[X,...Q]=J.text;if($+=`\`${X.text}\``,Q.length>0)$+=` \u2014 ${Q.map((Y)=>Y.text).join(" ")}`}else if(Array.isArray(J.text))$+=` \u2014 ${J.text.map((X)=>X.text).join(" ")}`;else if(J.text)$+=` \u2014 ${J.text}`;return $},aY0=function(J){ty=be(J,"typescript")},rY0=function(J){oy=be(J,"javascript")},iY0=function(){return new Promise((J,$)=>{if(!oy)return $("JavaScript not registered!");J(oy)})},nY0=function(){return new Promise((J,$)=>{if(!ty)return $("TypeScript not registered!");J(ty)})},be=function(J,$){const X=[],Q=[],Y=new Me($,J);X.push(Y);const Z=(...U)=>{return Y.getLanguageServiceWorker(...U)},G=new Oe(Z);function q(){const{modeConfiguration:U}=J;if(ve(Q),U.completionItems)Q.push(f0.languages.registerCompletionItemProvider($,new sW(Z)));if(U.signatureHelp)Q.push(f0.languages.registerSignatureHelpProvider($,new ey(Z)));if(U.hovers)Q.push(f0.languages.registerHoverProvider($,new _e(Z)));if(U.documentHighlights)Q.push(f0.languages.registerDocumentHighlightProvider($,new we(Z)));if(U.definitions)Q.push(f0.languages.registerDefinitionProvider($,new Le(G,Z)));if(U.references)Q.push(f0.languages.registerReferenceProvider($,new Ie(G,Z)));if(U.documentSymbols)Q.push(f0.languages.registerDocumentSymbolProvider($,new ke(Z)));if(U.rename)Q.push(f0.languages.registerRenameProvider($,new Ce(G,Z)));if(U.documentRangeFormattingEdits)Q.push(f0.languages.registerDocumentRangeFormattingEditProvider($,new Ee(Z)));if(U.onTypeFormattingEdits)Q.push(f0.languages.registerOnTypeFormattingEditProvider($,new ye(Z)));if(U.codeActions)Q.push(f0.languages.registerCodeActionProvider($,new Se(Z)));if(U.inlayHints)Q.push(f0.languages.registerInlayHintsProvider($,new xe(Z)));if(U.diagnostics)Q.push(new Ne(G,J,$,Z))}return q(),X.push(oY0(Q)),Z},oY0=function(J){return{dispose:()=>ve(J)}},ve=function(J){while(J.length)J.pop().dispose()};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/Re=Object.defineProperty,uY0=Object.getOwnPropertyDescriptor,cY0=Object.getOwnPropertyNames,lY0=Object.prototype.hasOwnProperty,dY0=(J,$,X)=>($ in J)?Re(J,$,{enumerable:!0,configurable:!0,writable:!0,value:X}):J[$]=X,De=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of cY0($))if(!lY0.call(J,Y)&&Y!==X)Re(J,Y,{get:()=>$[Y],enumerable:!(Q=uY0($,Y))||Q.enumerable})}return J},sY0=(J,$,X)=>(De(J,$,"default"),X&&De(X,$,"default")),m8=(J,$,X)=>{return dY0(J,typeof $!=="symbol"?$+"":$,X),X},f0={};sY0(f0,e7);Me=class{constructor(J,$){this._modeId=J,this._defaults=$,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker()),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange(()=>this._updateExtraLibs())}_configChangeListener;_updateExtraLibsToken;_extraLibsChangeListener;_worker;_client;dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){if(this._worker)this._worker.dispose(),this._worker=null;this._client=null}async _updateExtraLibs(){if(!this._worker)return;const J=++this._updateExtraLibsToken,$=await this._worker.getProxy();if(this._updateExtraLibsToken!==J)return;$.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){if(!this._client)this._client=(async()=>{if(this._worker=f0.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}}),this._defaults.getEagerModelSync())return await this._worker.withSyncedResources(f0.editor.getModels().filter((J)=>J.getLanguageId()===this._modeId).map((J)=>J.uri));return await this._worker.getProxy()})();return this._client}async getLanguageServiceWorker(...J){const $=await this._getClient();if(this._worker)await this._worker.withSyncedResources(J);return $}},x0={};x0["lib.d.ts"]=!0;x0["lib.decorators.d.ts"]=!0;x0["lib.decorators.legacy.d.ts"]=!0;x0["lib.dom.d.ts"]=!0;x0["lib.dom.iterable.d.ts"]=!0;x0["lib.es2015.collection.d.ts"]=!0;x0["lib.es2015.core.d.ts"]=!0;x0["lib.es2015.d.ts"]=!0;x0["lib.es2015.generator.d.ts"]=!0;x0["lib.es2015.iterable.d.ts"]=!0;x0["lib.es2015.promise.d.ts"]=!0;x0["lib.es2015.proxy.d.ts"]=!0;x0["lib.es2015.reflect.d.ts"]=!0;x0["lib.es2015.symbol.d.ts"]=!0;x0["lib.es2015.symbol.wellknown.d.ts"]=!0;x0["lib.es2016.array.include.d.ts"]=!0;x0["lib.es2016.d.ts"]=!0;x0["lib.es2016.full.d.ts"]=!0;x0["lib.es2017.d.ts"]=!0;x0["lib.es2017.full.d.ts"]=!0;x0["lib.es2017.intl.d.ts"]=!0;x0["lib.es2017.object.d.ts"]=!0;x0["lib.es2017.sharedmemory.d.ts"]=!0;x0["lib.es2017.string.d.ts"]=!0;x0["lib.es2017.typedarrays.d.ts"]=!0;x0["lib.es2018.asyncgenerator.d.ts"]=!0;x0["lib.es2018.asynciterable.d.ts"]=!0;x0["lib.es2018.d.ts"]=!0;x0["lib.es2018.full.d.ts"]=!0;x0["lib.es2018.intl.d.ts"]=!0;x0["lib.es2018.promise.d.ts"]=!0;x0["lib.es2018.regexp.d.ts"]=!0;x0["lib.es2019.array.d.ts"]=!0;x0["lib.es2019.d.ts"]=!0;x0["lib.es2019.full.d.ts"]=!0;x0["lib.es2019.intl.d.ts"]=!0;x0["lib.es2019.object.d.ts"]=!0;x0["lib.es2019.string.d.ts"]=!0;x0["lib.es2019.symbol.d.ts"]=!0;x0["lib.es2020.bigint.d.ts"]=!0;x0["lib.es2020.d.ts"]=!0;x0["lib.es2020.date.d.ts"]=!0;x0["lib.es2020.full.d.ts"]=!0;x0["lib.es2020.intl.d.ts"]=!0;x0["lib.es2020.number.d.ts"]=!0;x0["lib.es2020.promise.d.ts"]=!0;x0["lib.es2020.sharedmemory.d.ts"]=!0;x0["lib.es2020.string.d.ts"]=!0;x0["lib.es2020.symbol.wellknown.d.ts"]=!0;x0["lib.es2021.d.ts"]=!0;x0["lib.es2021.full.d.ts"]=!0;x0["lib.es2021.intl.d.ts"]=!0;x0["lib.es2021.promise.d.ts"]=!0;x0["lib.es2021.string.d.ts"]=!0;x0["lib.es2021.weakref.d.ts"]=!0;x0["lib.es2022.array.d.ts"]=!0;x0["lib.es2022.d.ts"]=!0;x0["lib.es2022.error.d.ts"]=!0;x0["lib.es2022.full.d.ts"]=!0;x0["lib.es2022.intl.d.ts"]=!0;x0["lib.es2022.object.d.ts"]=!0;x0["lib.es2022.regexp.d.ts"]=!0;x0["lib.es2022.sharedmemory.d.ts"]=!0;x0["lib.es2022.string.d.ts"]=!0;x0["lib.es2023.array.d.ts"]=!0;x0["lib.es2023.d.ts"]=!0;x0["lib.es2023.full.d.ts"]=!0;x0["lib.es5.d.ts"]=!0;x0["lib.es6.d.ts"]=!0;x0["lib.esnext.d.ts"]=!0;x0["lib.esnext.full.d.ts"]=!0;x0["lib.esnext.intl.d.ts"]=!0;x0["lib.scripthost.d.ts"]=!0;x0["lib.webworker.d.ts"]=!0;x0["lib.webworker.importscripts.d.ts"]=!0;x0["lib.webworker.iterable.d.ts"]=!0;fJ=class{constructor(J){this._worker=J}_textSpanToRange(J,$){let X=J.getPositionAt($.start),Q=J.getPositionAt($.start+$.length),{lineNumber:Y,column:Z}=X,{lineNumber:G,column:q}=Q;return{startLineNumber:Y,startColumn:Z,endLineNumber:G,endColumn:q}}},Oe=class{constructor(J){this._worker=J,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}_libFiles;_hasFetchedLibFiles;_fetchLibFilesPromise;isLibFile(J){if(!J)return!1;if(J.path.indexOf("/lib.")===0)return!!x0[J.path.slice(1)];return!1}getOrCreateModel(J){const $=f0.Uri.parse(J),X=f0.editor.getModel($);if(X)return X;if(this.isLibFile($)&&this._hasFetchedLibFiles)return f0.editor.createModel(this._libFiles[$.path.slice(1)],"typescript",$);const Q=LR.getExtraLibs()[J];if(Q)return f0.editor.createModel(Q.content,"typescript",$);return null}_containsLibFile(J){for(let $ of J)if(this.isLibFile($))return!0;return!1}async fetchLibFilesIfNecessary(J){if(!this._containsLibFile(J))return;await this._fetchLibFiles()}_fetchLibFiles(){if(!this._fetchLibFilesPromise)this._fetchLibFilesPromise=this._worker().then((J)=>J.getLibFiles()).then((J)=>{this._hasFetchedLibFiles=!0,this._libFiles=J});return this._fetchLibFilesPromise}},Ne=class extends fJ{constructor(J,$,X,Q){super(Q);this._libFiles=J,this._defaults=$,this._selector=X;const Y=(q)=>{if(q.getLanguageId()!==X)return;const U=()=>{const{onlyVisible:W}=this._defaults.getDiagnosticsOptions();if(W){if(q.isAttachedToEditor())this._doValidate(q)}else this._doValidate(q)};let H;const z=q.onDidChangeContent(()=>{clearTimeout(H),H=window.setTimeout(U,500)}),V=q.onDidChangeAttached(()=>{const{onlyVisible:W}=this._defaults.getDiagnosticsOptions();if(W)if(q.isAttachedToEditor())U();else f0.editor.setModelMarkers(q,this._selector,[])});this._listener[q.uri.toString()]={dispose(){z.dispose(),V.dispose(),clearTimeout(H)}},U()},Z=(q)=>{f0.editor.setModelMarkers(q,this._selector,[]);const U=q.uri.toString();if(this._listener[U])this._listener[U].dispose(),delete this._listener[U]};this._disposables.push(f0.editor.onDidCreateModel((q)=>Y(q))),this._disposables.push(f0.editor.onWillDisposeModel(Z)),this._disposables.push(f0.editor.onDidChangeModelLanguage((q)=>{Z(q.model),Y(q.model)})),this._disposables.push({dispose(){for(let q of f0.editor.getModels())Z(q)}});const G=()=>{for(let q of f0.editor.getModels())Z(q),Y(q)};this._disposables.push(this._defaults.onDidChange(G)),this._disposables.push(this._defaults.onDidExtraLibsChange(G)),f0.editor.getModels().forEach((q)=>Y(q))}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((J)=>J&&J.dispose()),this._disposables=[]}async _doValidate(J){const $=await this._worker(J.uri);if(J.isDisposed())return;const X=[],{noSyntaxValidation:Q,noSemanticValidation:Y,noSuggestionDiagnostics:Z}=this._defaults.getDiagnosticsOptions();if(!Q)X.push($.getSyntacticDiagnostics(J.uri.toString()));if(!Y)X.push($.getSemanticDiagnostics(J.uri.toString()));if(!Z)X.push($.getSuggestionDiagnostics(J.uri.toString()));const G=await Promise.all(X);if(!G||J.isDisposed())return;const q=G.reduce((H,z)=>z.concat(H),[]).filter((H)=>(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(H.code)===-1),U=q.map((H)=>H.relatedInformation||[]).reduce((H,z)=>z.concat(H),[]).map((H)=>H.file?f0.Uri.parse(H.file.fileName):null);if(await this._libFiles.fetchLibFilesIfNecessary(U),J.isDisposed())return;f0.editor.setModelMarkers(J,this._selector,q.map((H)=>this._convertDiagnostics(J,H)))}_convertDiagnostics(J,$){const X=$.start||0,Q=$.length||1,{lineNumber:Y,column:Z}=J.getPositionAt(X),{lineNumber:G,column:q}=J.getPositionAt(X+Q),U=[];if($.reportsUnnecessary)U.push(f0.MarkerTag.Unnecessary);if($.reportsDeprecated)U.push(f0.MarkerTag.Deprecated);return{severity:this._tsDiagnosticCategoryToMarkerSeverity($.category),startLineNumber:Y,startColumn:Z,endLineNumber:G,endColumn:q,message:wR($.messageText,"\n"),code:$.code.toString(),tags:U,relatedInformation:this._convertRelatedInformation(J,$.relatedInformation)}}_convertRelatedInformation(J,$){if(!$)return[];const X=[];return $.forEach((Q)=>{let Y=J;if(Q.file)Y=this._libFiles.getOrCreateModel(Q.file.fileName);if(!Y)return;const Z=Q.start||0,G=Q.length||1,{lineNumber:q,column:U}=Y.getPositionAt(Z),{lineNumber:H,column:z}=Y.getPositionAt(Z+G);X.push({resource:Y.uri,startLineNumber:q,startColumn:U,endLineNumber:H,endColumn:z,message:wR(Q.messageText,"\n")})}),X}_tsDiagnosticCategoryToMarkerSeverity(J){switch(J){case 1:return f0.MarkerSeverity.Error;case 3:return f0.MarkerSeverity.Info;case 0:return f0.MarkerSeverity.Warning;case 2:return f0.MarkerSeverity.Hint}return f0.MarkerSeverity.Info}},sW=class extends fJ{get triggerCharacters(){return["."]}async provideCompletionItems(J,$,X,Q){const Y=J.getWordUntilPosition($),Z=new f0.Range($.lineNumber,Y.startColumn,$.lineNumber,Y.endColumn),G=J.uri,q=J.getOffsetAt($),U=await this._worker(G);if(J.isDisposed())return;const H=await U.getCompletionsAtPosition(G.toString(),q);if(!H||J.isDisposed())return;return{suggestions:H.entries.map((V)=>{let W=Z;if(V.replacementSpan){const j=J.getPositionAt(V.replacementSpan.start),K=J.getPositionAt(V.replacementSpan.start+V.replacementSpan.length);W=new f0.Range(j.lineNumber,j.column,K.lineNumber,K.column)}const B=[];if(V.kindModifiers!==void 0&&V.kindModifiers.indexOf("deprecated")!==-1)B.push(f0.languages.CompletionItemTag.Deprecated);return{uri:G,position:$,offset:q,range:W,label:V.name,insertText:V.name,sortText:V.sortText,kind:sW.convertKind(V.kind),tags:B}})}}async resolveCompletionItem(J,$){const X=J,Q=X.uri,Y=X.position,Z=X.offset,q=await(await this._worker(Q)).getCompletionEntryDetails(Q.toString(),Z,X.label);if(!q)return X;return{uri:Q,position:Y,label:q.name,kind:sW.convertKind(q.kind),detail:n$(q.displayParts),documentation:{value:sW.createDocumentationString(q)}}}static convertKind(J){switch(J){case Q1.primitiveType:case Q1.keyword:return f0.languages.CompletionItemKind.Keyword;case Q1.variable:case Q1.localVariable:return f0.languages.CompletionItemKind.Variable;case Q1.memberVariable:case Q1.memberGetAccessor:case Q1.memberSetAccessor:return f0.languages.CompletionItemKind.Field;case Q1.function:case Q1.memberFunction:case Q1.constructSignature:case Q1.callSignature:case Q1.indexSignature:return f0.languages.CompletionItemKind.Function;case Q1.enum:return f0.languages.CompletionItemKind.Enum;case Q1.module:return f0.languages.CompletionItemKind.Module;case Q1.class:return f0.languages.CompletionItemKind.Class;case Q1.interface:return f0.languages.CompletionItemKind.Interface;case Q1.warning:return f0.languages.CompletionItemKind.File}return f0.languages.CompletionItemKind.Property}static createDocumentationString(J){let $=n$(J.documentation);if(J.tags)for(let X of J.tags)$+=`

${Te(X)}`;return $}},ey=class extends fJ{signatureHelpTriggerCharacters=["(",","];static _toSignatureHelpTriggerReason(J){switch(J.triggerKind){case f0.languages.SignatureHelpTriggerKind.TriggerCharacter:if(J.triggerCharacter)if(J.isRetrigger)return{kind:"retrigger",triggerCharacter:J.triggerCharacter};else return{kind:"characterTyped",triggerCharacter:J.triggerCharacter};else return{kind:"invoked"};case f0.languages.SignatureHelpTriggerKind.ContentChange:return J.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case f0.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(J,$,X,Q){const Y=J.uri,Z=J.getOffsetAt($),G=await this._worker(Y);if(J.isDisposed())return;const q=await G.getSignatureHelpItems(Y.toString(),Z,{triggerReason:ey._toSignatureHelpTriggerReason(Q)});if(!q||J.isDisposed())return;const U={activeSignature:q.selectedItemIndex,activeParameter:q.argumentIndex,signatures:[]};return q.items.forEach((H)=>{const z={label:"",parameters:[]};z.documentation={value:n$(H.documentation)},z.label+=n$(H.prefixDisplayParts),H.parameters.forEach((V,W,B)=>{const j=n$(V.displayParts),K={label:j,documentation:{value:n$(V.documentation)}};if(z.label+=j,z.parameters.push(K),W<B.length-1)z.label+=n$(H.separatorDisplayParts)}),z.label+=n$(H.suffixDisplayParts),U.signatures.push(z)}),{value:U,dispose(){}}}},_e=class extends fJ{async provideHover(J,$,X){const Q=J.uri,Y=J.getOffsetAt($),Z=await this._worker(Q);if(J.isDisposed())return;const G=await Z.getQuickInfoAtPosition(Q.toString(),Y);if(!G||J.isDisposed())return;const q=n$(G.documentation),U=G.tags?G.tags.map((z)=>Te(z)).join("  \n\n"):"",H=n$(G.displayParts);return{range:this._textSpanToRange(J,G.textSpan),contents:[{value:"```typescript\n"+H+"\n```\n"},{value:q+(U?"\n\n"+U:"")}]}}},we=class extends fJ{async provideDocumentHighlights(J,$,X){const Q=J.uri,Y=J.getOffsetAt($),Z=await this._worker(Q);if(J.isDisposed())return;const G=await Z.getDocumentHighlights(Q.toString(),Y,[Q.toString()]);if(!G||J.isDisposed())return;return G.flatMap((q)=>{return q.highlightSpans.map((U)=>{return{range:this._textSpanToRange(J,U.textSpan),kind:U.kind==="writtenReference"?f0.languages.DocumentHighlightKind.Write:f0.languages.DocumentHighlightKind.Text}})})}},Le=class extends fJ{constructor(J,$){super($);this._libFiles=J}async provideDefinition(J,$,X){const Q=J.uri,Y=J.getOffsetAt($),Z=await this._worker(Q);if(J.isDisposed())return;const G=await Z.getDefinitionAtPosition(Q.toString(),Y);if(!G||J.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(G.map((U)=>f0.Uri.parse(U.fileName))),J.isDisposed())return;const q=[];for(let U of G){const H=this._libFiles.getOrCreateModel(U.fileName);if(H)q.push({uri:H.uri,range:this._textSpanToRange(H,U.textSpan)})}return q}},Ie=class extends fJ{constructor(J,$){super($);this._libFiles=J}async provideReferences(J,$,X,Q){const Y=J.uri,Z=J.getOffsetAt($),G=await this._worker(Y);if(J.isDisposed())return;const q=await G.getReferencesAtPosition(Y.toString(),Z);if(!q||J.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(q.map((H)=>f0.Uri.parse(H.fileName))),J.isDisposed())return;const U=[];for(let H of q){const z=this._libFiles.getOrCreateModel(H.fileName);if(z)U.push({uri:z.uri,range:this._textSpanToRange(z,H.textSpan)})}return U}},ke=class extends fJ{async provideDocumentSymbols(J,$){const X=J.uri,Q=await this._worker(X);if(J.isDisposed())return;const Y=await Q.getNavigationTree(X.toString());if(!Y||J.isDisposed())return;const Z=(q,U)=>{return{name:q.text,detail:"",kind:l9[q.kind]||f0.languages.SymbolKind.Variable,range:this._textSpanToRange(J,q.spans[0]),selectionRange:this._textSpanToRange(J,q.spans[0]),tags:[],children:q.childItems?.map((z)=>Z(z,q.text)),containerName:U}};return Y.childItems?Y.childItems.map((q)=>Z(q)):[]}},Q1=class{};m8(Q1,"unknown","");m8(Q1,"keyword","keyword");m8(Q1,"script","script");m8(Q1,"module","module");m8(Q1,"class","class");m8(Q1,"interface","interface");m8(Q1,"type","type");m8(Q1,"enum","enum");m8(Q1,"variable","var");m8(Q1,"localVariable","local var");m8(Q1,"function","function");m8(Q1,"localFunction","local function");m8(Q1,"memberFunction","method");m8(Q1,"memberGetAccessor","getter");m8(Q1,"memberSetAccessor","setter");m8(Q1,"memberVariable","property");m8(Q1,"constructorImplementation","constructor");m8(Q1,"callSignature","call");m8(Q1,"indexSignature","index");m8(Q1,"constructSignature","construct");m8(Q1,"parameter","parameter");m8(Q1,"typeParameter","type parameter");m8(Q1,"primitiveType","primitive type");m8(Q1,"label","label");m8(Q1,"alias","alias");m8(Q1,"const","const");m8(Q1,"let","let");m8(Q1,"warning","warning");l9=Object.create(null);l9[Q1.module]=f0.languages.SymbolKind.Module;l9[Q1.class]=f0.languages.SymbolKind.Class;l9[Q1.enum]=f0.languages.SymbolKind.Enum;l9[Q1.interface]=f0.languages.SymbolKind.Interface;l9[Q1.memberFunction]=f0.languages.SymbolKind.Method;l9[Q1.memberVariable]=f0.languages.SymbolKind.Property;l9[Q1.memberGetAccessor]=f0.languages.SymbolKind.Property;l9[Q1.memberSetAccessor]=f0.languages.SymbolKind.Property;l9[Q1.variable]=f0.languages.SymbolKind.Variable;l9[Q1.const]=f0.languages.SymbolKind.Variable;l9[Q1.localVariable]=f0.languages.SymbolKind.Variable;l9[Q1.variable]=f0.languages.SymbolKind.Variable;l9[Q1.function]=f0.languages.SymbolKind.Function;l9[Q1.localFunction]=f0.languages.SymbolKind.Function;T2=class extends fJ{static _convertOptions(J){return{ConvertTabsToSpaces:J.insertSpaces,TabSize:J.tabSize,IndentSize:J.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(J,$){return{text:$.newText,range:this._textSpanToRange(J,$.span)}}},Ee=class extends T2{canFormatMultipleRanges=!1;async provideDocumentRangeFormattingEdits(J,$,X,Q){const Y=J.uri,Z=J.getOffsetAt({lineNumber:$.startLineNumber,column:$.startColumn}),G=J.getOffsetAt({lineNumber:$.endLineNumber,column:$.endColumn}),q=await this._worker(Y);if(J.isDisposed())return;const U=await q.getFormattingEditsForRange(Y.toString(),Z,G,T2._convertOptions(X));if(!U||J.isDisposed())return;return U.map((H)=>this._convertTextChanges(J,H))}},ye=class extends T2{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(J,$,X,Q,Y){const Z=J.uri,G=J.getOffsetAt($),q=await this._worker(Z);if(J.isDisposed())return;const U=await q.getFormattingEditsAfterKeystroke(Z.toString(),G,X,T2._convertOptions(Q));if(!U||J.isDisposed())return;return U.map((H)=>this._convertTextChanges(J,H))}},Se=class extends T2{async provideCodeActions(J,$,X,Q){const Y=J.uri,Z=J.getOffsetAt({lineNumber:$.startLineNumber,column:$.startColumn}),G=J.getOffsetAt({lineNumber:$.endLineNumber,column:$.endColumn}),q=T2._convertOptions(J.getOptions()),U=X.markers.filter((W)=>W.code).map((W)=>W.code).map(Number),H=await this._worker(Y);if(J.isDisposed())return;const z=await H.getCodeFixesAtPosition(Y.toString(),Z,G,U,q);if(!z||J.isDisposed())return{actions:[],dispose:()=>{}};return{actions:z.filter((W)=>{return W.changes.filter((B)=>B.isNewFile).length===0}).map((W)=>{return this._tsCodeFixActionToMonacoCodeAction(J,X,W)}),dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(J,$,X){const Q=[];for(let Z of X.changes)for(let G of Z.textChanges)Q.push({resource:J.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(J,G.span),text:G.newText}});return{title:X.description,edit:{edits:Q},diagnostics:$.markers,kind:"quickfix"}}},Ce=class extends fJ{constructor(J,$){super($);this._libFiles=J}async provideRenameEdits(J,$,X,Q){const Y=J.uri,Z=Y.toString(),G=J.getOffsetAt($),q=await this._worker(Y);if(J.isDisposed())return;const U=await q.getRenameInfo(Z,G,{allowRenameOfImportPath:!1});if(U.canRename===!1)return{edits:[],rejectReason:U.localizedErrorMessage};if(U.fileToRename!==void 0)throw new Error("Renaming files is not supported.");const H=await q.findRenameLocations(Z,G,!1,!1,!1);if(!H||J.isDisposed())return;const z=[];for(let V of H){const W=this._libFiles.getOrCreateModel(V.fileName);if(W)z.push({resource:W.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(W,V.textSpan),text:X}});else throw new Error(`Unknown file ${V.fileName}.`)}return{edits:z}}},xe=class extends fJ{async provideInlayHints(J,$,X){const Q=J.uri,Y=Q.toString(),Z=J.getOffsetAt({lineNumber:$.startLineNumber,column:$.startColumn}),G=J.getOffsetAt({lineNumber:$.endLineNumber,column:$.endColumn}),q=await this._worker(Q);if(J.isDisposed())return null;return{hints:(await q.provideInlayHints(Y,Z,G)).map((z)=>{return{...z,label:z.text,position:J.getPositionAt(z.position),kind:this._convertHintKind(z.kind)}}),dispose:()=>{}}}_convertHintKind(J){switch(J){case"Parameter":return f0.languages.InlayHintKind.Parameter;case"Type":return f0.languages.InlayHintKind.Type;default:return f0.languages.InlayHintKind.Type}}}});var IR,tY0,eY0,JZ0,$Z0,ge,XZ0,QZ0,P3,pe,me,ue,ce,le,de,YZ0,se,LR,ae,ZZ0,GZ0;var JS=N(()=>{c9();c9();IR=function(){return Promise.resolve().then(() => (he(),fe))};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/tY0=Object.defineProperty,eY0=Object.getOwnPropertyDescriptor,JZ0=Object.getOwnPropertyNames,$Z0=Object.prototype.hasOwnProperty,ge=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of JZ0($))if(!$Z0.call(J,Y)&&Y!==X)tY0(J,Y,{get:()=>$[Y],enumerable:!(Q=eY0($,Y))||Q.enumerable})}return J},XZ0=(J,$,X)=>(ge(J,$,"default"),X&&ge(X,$,"default")),QZ0="5.0.2",P3={};XZ0(P3,e7);pe=((J)=>{return J[J.None=0]="None",J[J.CommonJS=1]="CommonJS",J[J.AMD=2]="AMD",J[J.UMD=3]="UMD",J[J.System=4]="System",J[J.ES2015=5]="ES2015",J[J.ESNext=99]="ESNext",J})(pe||{}),me=((J)=>{return J[J.None=0]="None",J[J.Preserve=1]="Preserve",J[J.React=2]="React",J[J.ReactNative=3]="ReactNative",J[J.ReactJSX=4]="ReactJSX",J[J.ReactJSXDev=5]="ReactJSXDev",J})(me||{}),ue=((J)=>{return J[J.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",J[J.LineFeed=1]="LineFeed",J})(ue||{}),ce=((J)=>{return J[J.ES3=0]="ES3",J[J.ES5=1]="ES5",J[J.ES2015=2]="ES2015",J[J.ES2016=3]="ES2016",J[J.ES2017=4]="ES2017",J[J.ES2018=5]="ES2018",J[J.ES2019=6]="ES2019",J[J.ES2020=7]="ES2020",J[J.ESNext=99]="ESNext",J[J.JSON=100]="JSON",J[J.Latest=99]="Latest",J})(ce||{}),le=((J)=>{return J[J.Classic=1]="Classic",J[J.NodeJs=2]="NodeJs",J})(le||{}),de=class{_onDidChange=new P3.Emitter;_onDidExtraLibsChange=new P3.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(J,$,X,Q,Y){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(J),this.setDiagnosticsOptions($),this.setWorkerOptions(X),this.setInlayHintsOptions(Q),this.setModeConfiguration(Y),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(J,$){let X;if(typeof $==="undefined")X=`ts:extralib-${Math.random().toString(36).substring(2,15)}`;else X=$;if(this._extraLibs[X]&&this._extraLibs[X].content===J)return{dispose:()=>{}};let Q=1;if(this._removedExtraLibs[X])Q=this._removedExtraLibs[X]+1;if(this._extraLibs[X])Q=this._extraLibs[X].version+1;return this._extraLibs[X]={content:J,version:Q},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let Y=this._extraLibs[X];if(!Y)return;if(Y.version!==Q)return;delete this._extraLibs[X],this._removedExtraLibs[X]=Q,this._fireOnDidExtraLibsChangeSoon()}}}setExtraLibs(J){for(let $ in this._extraLibs)this._removedExtraLibs[$]=this._extraLibs[$].version;if(this._extraLibs=Object.create(null),J&&J.length>0)for(let $ of J){const X=$.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,Q=$.content;let Y=1;if(this._removedExtraLibs[X])Y=this._removedExtraLibs[X]+1;this._extraLibs[X]={content:Q,version:Y}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){if(this._onDidExtraLibsChangeTimeout!==-1)return;this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0)}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(J){this._compilerOptions=J||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(J){this._diagnosticsOptions=J||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(J){this._workerOptions=J||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(J){this._inlayHintsOptions=J||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(J){}setEagerModelSync(J){this._eagerModelSync=J}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(J){this._modeConfiguration=J||Object.create(null),this._onDidChange.fire(void 0)}},YZ0=QZ0,se={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},LR=new de({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},se),ae=new de({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},se),ZZ0=()=>{return IR().then((J)=>J.getTypeScriptWorker())},GZ0=()=>{return IR().then((J)=>J.getJavaScriptWorker())};P3.languages.typescript={ModuleKind:pe,JsxEmit:me,NewLineKind:ue,ScriptTarget:ce,ModuleResolutionKind:le,typescriptVersion:YZ0,typescriptDefaults:LR,javascriptDefaults:ae,getTypeScriptWorker:ZZ0,getJavaScriptWorker:GZ0};P3.languages.onLanguage("typescript",()=>{return IR().then((J)=>J.setupTypeScript(LR))});P3.languages.onLanguage("javascript",()=>{return IR().then((J)=>J.setupJavaScript(ae))})});var oe={};m4(oe,{language:()=>{{return BZ0}},conf:()=>{{return WZ0}}});var WZ0,BZ0;var te=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/WZ0={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},BZ0={defaultToken:"",tokenPostfix:".ini",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^\[[^\]]*\]/,"metatag"],[/(^\w+)(\s*)(\=)/,["key","","delimiter"]],{include:"@whitespace"},[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/^\s*[#;].*$/,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}});var J00={};m4(J00,{language:()=>{{return gJ}},conf:()=>{{return XS}}});var jZ0,FZ0,KZ0,AZ0,ee,PZ0,rW,XS,gJ;var QS=N(()=>{c9();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/jZ0=Object.defineProperty,FZ0=Object.getOwnPropertyDescriptor,KZ0=Object.getOwnPropertyNames,AZ0=Object.prototype.hasOwnProperty,ee=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of KZ0($))if(!AZ0.call(J,Y)&&Y!==X)jZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=FZ0($,Y))||Q.enumerable})}return J},PZ0=(J,$,X)=>(ee(J,$,"default"),X&&ee(X,$,"default")),rW={};PZ0(rW,e7);XS={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:rW.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:rW.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:rW.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:rW.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}},gJ={defaultToken:"invalid",tokenPostfix:".ts",keywords:["abstract","any","as","asserts","bigint","boolean","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","infer","instanceof","interface","is","keyof","let","module","namespace","never","new","null","number","object","out","package","private","protected","public","override","readonly","require","global","return","satisfies","set","static","string","super","switch","symbol","this","throw","true","try","type","typeof","undefined","unique","unknown","var","void","while","with","yield","async","await","of"],operators:["<=",">=","==","!=","===","!==","=>","+","-","**","*","/","%","++","--","<<","</",">>",">>>","&","|","^","!","~","&&","||","??","?",":","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/#?[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([dgimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([dgimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}});var $00={};m4($00,{language:()=>{{return RZ0}},conf:()=>{{return DZ0}}});var DZ0,RZ0;var X00=N(()=>{QS();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/DZ0=XS,RZ0={defaultToken:"invalid",tokenPostfix:".js",keywords:["break","case","catch","class","continue","const","constructor","debugger","default","delete","do","else","export","extends","false","finally","for","from","function","get","if","import","in","instanceof","let","new","null","return","set","static","super","switch","symbol","this","throw","true","try","typeof","undefined","var","void","while","with","yield","async","await","of"],typeKeywords:[],operators:gJ.operators,symbols:gJ.symbols,escapes:gJ.escapes,digits:gJ.digits,octaldigits:gJ.octaldigits,binarydigits:gJ.binarydigits,hexdigits:gJ.hexdigits,regexpctl:gJ.regexpctl,regexpesc:gJ.regexpesc,tokenizer:gJ.tokenizer}});var Q00={};m4(Q00,{language:()=>{{return OZ0}},conf:()=>{{return MZ0}}});var MZ0,OZ0;var Y00=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/MZ0={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},OZ0={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)(\-|\w)*/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)(\-|\w)*\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}});var q00={};m4(q00,{language:()=>{{return kZ0}},conf:()=>{{return IZ0}}});var NZ0,TZ0,_Z0,wZ0,Z00,LZ0,G00,IZ0,kZ0;var U00=N(()=>{c9();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/NZ0=Object.defineProperty,TZ0=Object.getOwnPropertyDescriptor,_Z0=Object.getOwnPropertyNames,wZ0=Object.prototype.hasOwnProperty,Z00=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of _Z0($))if(!wZ0.call(J,Y)&&Y!==X)NZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=TZ0($,Y))||Q.enumerable})}return J},LZ0=(J,$,X)=>(Z00(J,$,"default"),X&&Z00(X,$,"default")),G00={};LZ0(G00,e7);IZ0={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:G00.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},kZ0={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}});var z00={};m4(z00,{language:()=>{{return vZ0}},conf:()=>{{return bZ0}}});var EZ0,yZ0,SZ0,CZ0,H00,xZ0,YS,bZ0,vZ0;var V00=N(()=>{c9();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/EZ0=Object.defineProperty,yZ0=Object.getOwnPropertyDescriptor,SZ0=Object.getOwnPropertyNames,CZ0=Object.prototype.hasOwnProperty,H00=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of SZ0($))if(!CZ0.call(J,Y)&&Y!==X)EZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=yZ0($,Y))||Q.enumerable})}return J},xZ0=(J,$,X)=>(H00(J,$,"default"),X&&H00(X,$,"default")),YS={};xZ0(YS,e7);bZ0={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:YS.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:YS.languages.IndentAction.Indent}}]},vZ0={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}});j1();F0("@font-face{font-family:codicon;font-display:block;src:url(./codicon.ttf)format(\"truetype\")}.codicon[class*=codicon-]{text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;user-select:none;font:16px/1 codicon;text-decoration:none;display:inline-block}");j1();F0(".codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(360deg)}}.codicon-sync.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-gear.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin{animation:1.5s steps(30,end) infinite codicon-spin}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}");c9();c9();import{useRef as fZ0,useEffect as hZ0,useState as GS} from"preact/hooks";import{useEditor as gZ0} from"@blockcode/core";c9();f1();v7();A1();TZ();$0();l0();j8();j1();F0('.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-collapsed{cursor:pointer;opacity:0;justify-content:center;align-items:center;margin-left:2px;font-size:140%;transition:opacity .5s;display:flex}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed{transition:initial}.monaco-editor .margin-view-overlays:hover .codicon,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons{opacity:1}.monaco-editor .inline-folded:after{color:gray;content:"\u22EF";cursor:pointer;margin:.1em .2em 0;line-height:1em;display:inline}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed{color:var(--vscode-editorGutter-foldingControlForeground)!important}');KW();L5();FY();P6();b6();A0();var oX0={[0]:" ",[1]:"u",[2]:"r"};var X3=16777215;class sD{constructor(J){const $=Math.ceil(J/32);this._states=new Uint32Array($)}get(J){const $=J/32|0,X=J%32;return(this._states[$]&1<<X)!==0}set(J,$){const X=J/32|0,Q=J%32,Y=this._states[X];if($)this._states[X]=Y|1<<Q;else this._states[X]=Y&~(1<<Q)}}class u6{constructor(J,$,X){if(J.length!==$.length||J.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=J,this._endIndexes=$,this._collapseStates=new sD(J.length),this._userDefinedStates=new sD(J.length),this._recoveredStates=new sD(J.length),this._types=X,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const J=[],$=(X,Q)=>{const Y=J[J.length-1];return this.getStartLineNumber(Y)<=X&&this.getEndLineNumber(Y)>=Q};for(let X=0,Q=this._startIndexes.length;X<Q;X++){const Y=this._startIndexes[X],Z=this._endIndexes[X];if(Y>16777215||Z>16777215)throw new Error("startLineNumber or endLineNumber must not exceed "+16777215);while(J.length>0&&!$(Y,Z))J.pop();const G=J.length>0?J[J.length-1]:-1;J.push(X),this._startIndexes[X]=Y+((G&255)<<24),this._endIndexes[X]=Z+((G&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(J){return this._startIndexes[J]&16777215}getEndLineNumber(J){return this._endIndexes[J]&16777215}getType(J){return this._types?this._types[J]:void 0}hasTypes(){return!!this._types}isCollapsed(J){return this._collapseStates.get(J)}setCollapsed(J,$){this._collapseStates.set(J,$)}isUserDefined(J){return this._userDefinedStates.get(J)}setUserDefined(J,$){return this._userDefinedStates.set(J,$)}isRecovered(J){return this._recoveredStates.get(J)}setRecovered(J,$){return this._recoveredStates.set(J,$)}getSource(J){if(this.isUserDefined(J))return 1;else if(this.isRecovered(J))return 2;return 0}setSource(J,$){if($===1)this.setUserDefined(J,!0),this.setRecovered(J,!1);else if($===2)this.setUserDefined(J,!1),this.setRecovered(J,!0);else this.setUserDefined(J,!1),this.setRecovered(J,!1)}setCollapsedAllOfType(J,$){let X=!1;if(this._types){for(let Q=0;Q<this._types.length;Q++)if(this._types[Q]===J)this.setCollapsed(Q,$),X=!0}return X}toRegion(J){return new Wo(this,J)}getParentIndex(J){this.ensureParentIndices();const $=((this._startIndexes[J]&4278190080)>>>24)+((this._endIndexes[J]&4278190080)>>>16);if($===65535)return-1;return $}contains(J,$){return this.getStartLineNumber(J)<=$&&this.getEndLineNumber(J)>=$}findIndex(J){let $=0,X=this._startIndexes.length;if(X===0)return-1;while($<X){const Q=Math.floor(($+X)/2);if(J<this.getStartLineNumber(Q))X=Q;else $=Q+1}return $-1}findRange(J){let $=this.findIndex(J);if($>=0){if(this.getEndLineNumber($)>=J)return $;$=this.getParentIndex($);while($!==-1){if(this.contains($,J))return $;$=this.getParentIndex($)}}return-1}toString(){const J=[];for(let $=0;$<this.length;$++)J[$]=`[${oX0[this.getSource($)]}${this.isCollapsed($)?"+":"-"}] ${this.getStartLineNumber($)}/${this.getEndLineNumber($)}`;return J.join(", ")}toFoldRange(J){return{startLineNumber:this._startIndexes[J]&16777215,endLineNumber:this._endIndexes[J]&16777215,type:this._types?this._types[J]:void 0,isCollapsed:this.isCollapsed(J),source:this.getSource(J)}}static fromFoldRanges(J){const $=J.length,X=new Uint32Array($),Q=new Uint32Array($);let Y=[],Z=!1;for(let q=0;q<$;q++){const U=J[q];if(X[q]=U.startLineNumber,Q[q]=U.endLineNumber,Y.push(U.type),U.type)Z=!0}if(!Z)Y=void 0;const G=new u6(X,Q,Y);for(let q=0;q<$;q++){if(J[q].isCollapsed)G.setCollapsed(q,!0);G.setSource(q,J[q].source)}return G}static sanitizeAndMerge(J,$,X){X=X!==null&&X!==void 0?X:Number.MAX_VALUE;const Q=(j,K)=>{return Array.isArray(j)?(D)=>{return D<K?j[D]:void 0}:(D)=>{return D<K?j.toFoldRange(D):void 0}},Y=Q(J,J.length),Z=Q($,$.length);let G=0,q=0,U=Y(0),H=Z(0);const z=[];let V,W=0;const B=[];while(U||H){let j=void 0;if(H&&(!U||U.startLineNumber>=H.startLineNumber)){if(U&&U.startLineNumber===H.startLineNumber){if(H.source===1)j=H;else j=U,j.isCollapsed=H.isCollapsed&&U.endLineNumber===H.endLineNumber,j.source=0;U=Y(++G)}else if(j=H,H.isCollapsed&&H.source===0)j.source=2;H=Z(++q)}else{let K=q,D=H;while(!0){if(!D||D.startLineNumber>U.endLineNumber){j=U;break}if(D.source===1&&D.endLineNumber>U.endLineNumber)break;D=Z(++K)}U=Y(++G)}if(j){while(V&&V.endLineNumber<j.startLineNumber)V=z.pop();if(j.endLineNumber>j.startLineNumber&&j.startLineNumber>W&&j.endLineNumber<=X&&(!V||V.endLineNumber>=j.endLineNumber)){if(B.push(j),W=j.startLineNumber,V)z.push(V);V=j}}}return B}}class Wo{constructor(J,$){this.ranges=J,this.index=$}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(J){return J.startLineNumber<=this.startLineNumber&&J.endLineNumber>=this.endLineNumber}containsLine(J){return this.startLineNumber<=J&&J<=this.endLineNumber}}Yq();function Bo(J,$,X){const Q=[];for(let Y of X){const Z=J.getRegionAtLine(Y);if(Z){const G=!Z.isCollapsed;if(Q.push(Z),$>1){const q=J.getRegionsInside(Z,(U,H)=>U.isCollapsed!==G&&H<$);Q.push(...q)}}}J.toggleCollapseState(Q)}function D2(J,$,X=Number.MAX_VALUE,Q){const Y=[];if(Q&&Q.length>0)for(let Z of Q){const G=J.getRegionAtLine(Z);if(G){if(G.isCollapsed!==$)Y.push(G);if(X>1){const q=J.getRegionsInside(G,(U,H)=>U.isCollapsed!==$&&H<X);Y.push(...q)}}}else{const Z=J.getRegionsInside(null,(G,q)=>G.isCollapsed!==$&&q<X);Y.push(...Z)}J.toggleCollapseState(Y)}function Ky(J,$,X,Q){const Y=[];for(let Z of Q){const G=J.getAllRegionsAtLine(Z,(q,U)=>q.isCollapsed!==$&&U<=X);Y.push(...G)}J.toggleCollapseState(Y)}function jo(J,$,X){const Q=[];for(let Y of X){const Z=J.getAllRegionsAtLine(Y,(G)=>G.isCollapsed!==$);if(Z.length>0)Q.push(Z[0])}J.toggleCollapseState(Q)}function Fo(J,$,X,Q){const Y=(G,q)=>q===$&&G.isCollapsed!==X&&!Q.some((U)=>G.containsLine(U)),Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function Ay(J,$,X){const Q=[];for(let G of X){const q=J.getAllRegionsAtLine(G,void 0);if(q.length>0)Q.push(q[0])}const Y=(G)=>Q.every((q)=>!q.containedBy(G)&&!G.containedBy(q))&&G.isCollapsed!==$,Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function aD(J,$,X){const{textModel:Q,regions:Y}=J,Z=[];for(let G=Y.length-1;G>=0;G--)if(X!==Y.isCollapsed(G)){const q=Y.getStartLineNumber(G);if($.test(Q.getLineContent(q)))Z.push(Y.toRegion(G))}J.toggleCollapseState(Z)}function rD(J,$,X){const Q=J.regions,Y=[];for(let Z=Q.length-1;Z>=0;Z--)if(X!==Q.isCollapsed(Z)&&$===Q.getType(Z))Y.push(Q.toRegion(Z));J.toggleCollapseState(Y)}function Ko(J,$){let X=null;const Q=$.getRegionAtLine(J);if(Q!==null){if(X=Q.startLineNumber,J===X){const Y=Q.parentIndex;if(Y!==-1)X=$.regions.getStartLineNumber(Y);else X=null}}return X}function Ao(J,$){let X=$.getRegionAtLine(J);if(X!==null&&X.startLineNumber===J)if(J!==X.startLineNumber)return X.startLineNumber;else{const Q=X.parentIndex;let Y=0;if(Q!==-1)Y=$.regions.getStartLineNumber(X.parentIndex);while(X!==null)if(X.regionIndex>0){if(X=$.regions.toRegion(X.regionIndex-1),X.startLineNumber<=Y)return null;else if(X.parentIndex===Q)return X.startLineNumber}else return null}else if($.regions.length>0){X=$.regions.toRegion($.regions.length-1);while(X!==null){if(X.startLineNumber<J)return X.startLineNumber;if(X.regionIndex>0)X=$.regions.toRegion(X.regionIndex-1);else X=null}}return null}function Po(J,$){let X=$.getRegionAtLine(J);if(X!==null&&X.startLineNumber===J){const Q=X.parentIndex;let Y=0;if(Q!==-1)Y=$.regions.getEndLineNumber(X.parentIndex);else if($.regions.length===0)return null;else Y=$.regions.getEndLineNumber($.regions.length-1);while(X!==null)if(X.regionIndex<$.regions.length){if(X=$.regions.toRegion(X.regionIndex+1),X.startLineNumber>=Y)return null;else if(X.parentIndex===Q)return X.startLineNumber}else return null}else if($.regions.length>0){X=$.regions.toRegion(0);while(X!==null){if(X.startLineNumber>J)return X.startLineNumber;if(X.regionIndex<$.regions.length)X=$.regions.toRegion(X.regionIndex+1);else X=null}}return null}class Fy{get regions(){return this._regions}get textModel(){return this._textModel}constructor(J,$){this._updateEventEmitter=new E,this.onDidChange=this._updateEventEmitter.event,this._textModel=J,this._decorationProvider=$,this._regions=new u6(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(J){if(!J.length)return;J=J.sort((X,Q)=>X.regionIndex-Q.regionIndex);const $={};this._decorationProvider.changeDecorations((X)=>{let Q=0,Y=-1,Z=-1;const G=(q)=>{while(Q<q){const U=this._regions.getEndLineNumber(Q),H=this._regions.isCollapsed(Q);if(U<=Y){const z=this.regions.getSource(Q)!==0;X.changeDecorationOptions(this._editorDecorationIds[Q],this._decorationProvider.getDecorationOption(H,U<=Z,z))}if(H&&U>Z)Z=U;Q++}};for(let q of J){const U=q.regionIndex,H=this._editorDecorationIds[U];if(H&&!$[H]){$[H]=!0,G(U);const z=!this._regions.isCollapsed(U);this._regions.setCollapsed(U,z),Y=Math.max(Y,this._regions.getEndLineNumber(U))}}G(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:J})}removeManualRanges(J){const $=new Array,X=(Q)=>{for(let Y of J)if(!(Y.startLineNumber>Q.endLineNumber||Q.startLineNumber>Y.endLineNumber))return!0;return!1};for(let Q=0;Q<this._regions.length;Q++){const Y=this._regions.toFoldRange(Q);if(Y.source===0||!X(Y))$.push(Y)}this.updatePost(u6.fromFoldRanges($))}update(J,$=[]){const X=this._currentFoldedOrManualRanges($),Q=u6.sanitizeAndMerge(J,X,this._textModel.getLineCount());this.updatePost(u6.fromFoldRanges(Q))}updatePost(J){const $=[];let X=-1;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J.getStartLineNumber(Q),G=J.getEndLineNumber(Q),q=J.isCollapsed(Q),U=J.getSource(Q)!==0,H={startLineNumber:Z,startColumn:this._textModel.getLineMaxColumn(Z),endLineNumber:G,endColumn:this._textModel.getLineMaxColumn(G)+1};if($.push({range:H,options:this._decorationProvider.getDecorationOption(q,G<=X,U)}),q&&G>X)X=G}this._decorationProvider.changeDecorations((Q)=>this._editorDecorationIds=Q.deltaDecorations(this._editorDecorationIds,$)),this._regions=J,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(J=[]){const $=(Q,Y)=>{for(let Z of J)if(Q<Z&&Z<=Y)return!0;return!1},X=[];for(let Q=0,Y=this._regions.length;Q<Y;Q++){let Z=this.regions.isCollapsed(Q);const G=this.regions.getSource(Q);if(Z||G!==0){const q=this._regions.toFoldRange(Q),U=this._textModel.getDecorationRange(this._editorDecorationIds[Q]);if(U){if(Z&&$(U.startLineNumber,U.endLineNumber))Z=!1;X.push({startLineNumber:U.startLineNumber,endLineNumber:U.endLineNumber,type:q.type,isCollapsed:Z,source:G})}}}return X}getMemento(){const J=this._currentFoldedOrManualRanges(),$=[],X=this._textModel.getLineCount();for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.startLineNumber>=Z.endLineNumber||Z.startLineNumber<1||Z.endLineNumber>X)continue;const G=this._getLinesChecksum(Z.startLineNumber+1,Z.endLineNumber);$.push({startLineNumber:Z.startLineNumber,endLineNumber:Z.endLineNumber,isCollapsed:Z.isCollapsed,source:Z.source,checksum:G})}return $.length>0?$:void 0}applyMemento(J){var $,X;if(!Array.isArray(J))return;const Q=[],Y=this._textModel.getLineCount();for(let G of J){if(G.startLineNumber>=G.endLineNumber||G.startLineNumber<1||G.endLineNumber>Y)continue;const q=this._getLinesChecksum(G.startLineNumber+1,G.endLineNumber);if(!G.checksum||q===G.checksum)Q.push({startLineNumber:G.startLineNumber,endLineNumber:G.endLineNumber,type:void 0,isCollapsed:($=G.isCollapsed)!==null&&$!==void 0?$:!0,source:(X=G.source)!==null&&X!==void 0?X:0})}const Z=u6.sanitizeAndMerge(this._regions,Q,Y);this.updatePost(u6.fromFoldRanges(Z))}_getLinesChecksum(J,$){return _F(this._textModel.getLineContent(J)+this._textModel.getLineContent($))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(J,$){const X=[];if(this._regions){let Q=this._regions.findRange(J),Y=1;while(Q>=0){const Z=this._regions.toRegion(Q);if(!$||$(Z,Y))X.push(Z);Y++,Q=Z.parentIndex}}return X}getRegionAtLine(J){if(this._regions){const $=this._regions.findRange(J);if($>=0)return this._regions.toRegion($)}return null}getRegionsInside(J,$){const X=[],Q=J?J.regionIndex+1:0,Y=J?J.endLineNumber:Number.MAX_VALUE;if($&&$.length===2){const Z=[];for(let G=Q,q=this._regions.length;G<q;G++){const U=this._regions.toRegion(G);if(this._regions.getStartLineNumber(G)<Y){while(Z.length>0&&!U.containedBy(Z[Z.length-1]))Z.pop();if(Z.push(U),$(U,Z.length))X.push(U)}else break}}else for(let Z=Q,G=this._regions.length;Z<G;Z++){const q=this._regions.toRegion(Z);if(this._regions.getStartLineNumber(Z)<Y){if(!$||$(q))X.push(q)}else break}return X}}OX();A0();u0();IG();var tX0=function(J,$){return J>=$.startLineNumber&&J<=$.endLineNumber},Do=function(J,$){const X=Uq(J,(Q)=>$<Q.startLineNumber)-1;if(X>=0&&J[X].endLineNumber>=$)return J[X];return null};class Py{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(J){if(this._updateEventEmitter=new E,this._hasLineChanges=!1,this._foldingModel=J,this._foldingModelListener=J.onDidChange(($)=>this.updateHiddenRanges()),this._hiddenRanges=[],J.regions.length)this.updateHiddenRanges()}notifyChangeModelContent(J){if(this._hiddenRanges.length&&!this._hasLineChanges)this._hasLineChanges=J.changes.some(($)=>{return $.range.endLineNumber!==$.range.startLineNumber||g5($.text)[0]!==0})}updateHiddenRanges(){let J=!1;const $=[];let X=0,Q=0,Y=Number.MAX_VALUE,Z=-1;const G=this._foldingModel.regions;for(;X<G.length;X++){if(!G.isCollapsed(X))continue;const q=G.getStartLineNumber(X)+1,U=G.getEndLineNumber(X);if(Y<=q&&U<=Z)continue;if(!J&&Q<this._hiddenRanges.length&&this._hiddenRanges[Q].startLineNumber===q&&this._hiddenRanges[Q].endLineNumber===U)$.push(this._hiddenRanges[Q]),Q++;else J=!0,$.push(new L(q,1,U,1));Y=q,Z=U}if(this._hasLineChanges||J||Q<this._hiddenRanges.length)this.applyHiddenRanges($)}applyHiddenRanges(J){this._hiddenRanges=J,this._hasLineChanges=!1,this._updateEventEmitter.fire(J)}hasRanges(){return this._hiddenRanges.length>0}isHidden(J){return Do(this._hiddenRanges,J)!==null}adjustSelections(J){let $=!1;const X=this._foldingModel.textModel;let Q=null;const Y=(Z)=>{if(!Q||!tX0(Z,Q))Q=Do(this._hiddenRanges,Z);if(Q)return Q.startLineNumber-1;return null};for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z];const U=Y(q.startLineNumber);if(U)q=q.setStartPosition(U,X.getLineMaxColumn(U)),$=!0;const H=Y(q.endLineNumber);if(H)q=q.setEndPosition(H,X.getLineMaxColumn(H)),$=!0;J[Z]=q}return $}dispose(){if(this.hiddenRanges.length>0)this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges);if(this._foldingModelListener)this._foldingModelListener.dispose(),this._foldingModelListener=null}}lT();function XQ0(J,$,X,Q=$Q0){const Y=J.getOptions().tabSize,Z=new Ro(Q);let G=void 0;if(X)G=new RegExp(`(${X.start.source})|(?:${X.end.source})`);const q=[],U=J.getLineCount()+1;q.push({indent:-1,endAbove:U,line:U});for(let H=J.getLineCount();H>0;H--){const z=J.getLineContent(H),V=Vz(z,Y);let W=q[q.length-1];if(V===-1){if($)W.endAbove=H;continue}let B;if(G&&(B=z.match(G)))if(B[1]){let j=q.length-1;while(j>0&&q[j].indent!==-2)j--;if(j>0){q.length=j+1,W=q[j],Z.insertFirst(H,W.line,V),W.line=H,W.indent=V,W.endAbove=H;continue}}else{q.push({indent:-2,endAbove:H,line:H});continue}if(W.indent>V){do q.pop(),W=q[q.length-1];while(W.indent>V);const j=W.endAbove-1;if(j-H>=1)Z.insertFirst(H,j,V)}if(W.indent===V)W.endAbove=H;else q.push({indent:V,endAbove:H,line:H})}return Z.toIndentRanges(J)}var eX0=5000,JQ0="indent";class iD{constructor(J,$,X){this.editorModel=J,this.languageConfigurationService=$,this.foldingRangesLimit=X,this.id=JQ0}dispose(){}compute(J){const $=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,X=$&&!!$.offSide,Q=$&&$.markers;return Promise.resolve(XQ0(this.editorModel,X,Q,this.foldingRangesLimit))}}class Ro{constructor(J){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=J}insertFirst(J,$,X){if(J>X3||$>X3)return;const Q=this._length;if(this._startIndexes[Q]=J,this._endIndexes[Q]=$,this._length++,X<1000)this._indentOccurrences[X]=(this._indentOccurrences[X]||0)+1}toIndentRanges(J){const $=this._foldingRangesLimit.limit;if(this._length<=$){this._foldingRangesLimit.update(this._length,!1);const X=new Uint32Array(this._length),Q=new Uint32Array(this._length);for(let Y=this._length-1,Z=0;Y>=0;Y--,Z++)X[Z]=this._startIndexes[Y],Q[Z]=this._endIndexes[Y];return new u6(X,Q)}else{this._foldingRangesLimit.update(this._length,$);let X=0,Q=this._indentOccurrences.length;for(let q=0;q<this._indentOccurrences.length;q++){const U=this._indentOccurrences[q];if(U){if(U+X>$){Q=q;break}X+=U}}const Y=J.getOptions().tabSize,Z=new Uint32Array($),G=new Uint32Array($);for(let q=this._length-1,U=0;q>=0;q--){const H=this._startIndexes[q],z=J.getLineContent(H),V=Vz(z,Y);if(V<Q||V===Q&&X++<$)Z[U]=H,G[U]=this._endIndexes[q],U++}return new u6(Z,G)}}}var $Q0={limit:eX0,update:()=>{}};m0();s1();h7();PJ();bG();m0();e6();aU();X7();k7();var QQ0=k("editor.foldBackground",{light:_0(EX,0.3),dark:_0(EX,0.3),hcDark:null,hcLight:null},F("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);k("editorGutter.foldingControlForeground",{dark:kX,light:kX,hcDark:kX,hcLight:kX},F("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var Dy=Q9("folding-expanded",z0.chevronDown,F("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Ry=Q9("folding-collapsed",z0.chevronRight,F("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Mo=Q9("folding-manual-collapsed",Ry,F("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Oo=Q9("folding-manual-expanded",Dy,F("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),My={color:gX(QQ0),position:AJ.Inline};class s8{constructor(J){this.editor=J,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(J,$,X){if($)return s8.HIDDEN_RANGE_DECORATION;if(this.showFoldingControls==="never"){if(J)return this.showFoldingHighlights?s8.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:s8.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;return s8.NO_CONTROLS_EXPANDED_RANGE_DECORATION}if(J)return X?this.showFoldingHighlights?s8.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s8.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?s8.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:s8.COLLAPSED_VISUAL_DECORATION;else if(this.showFoldingControls==="mouseover")return X?s8.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:s8.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;else return X?s8.MANUALLY_EXPANDED_VISUAL_DECORATION:s8.EXPANDED_VISUAL_DECORATION}changeDecorations(J){return this.editor.changeDecorations(J)}removeDecorations(J){this.editor.removeDecorations(J)}}s8.COLLAPSED_VISUAL_DECORATION=I1.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Ry)});s8.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=I1.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:My,isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Ry)});s8.MANUALLY_COLLAPSED_VISUAL_DECORATION=I1.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Mo)});s8.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=I1.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:My,isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Mo)});s8.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=I1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0});s8.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=I1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:My,isWholeLine:!0});s8.EXPANDED_VISUAL_DECORATION=I1.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+C0.asClassName(Dy)});s8.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=I1.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Dy)});s8.MANUALLY_EXPANDED_VISUAL_DECORATION=I1.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+C0.asClassName(Oo)});s8.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=I1.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:C0.asClassName(Oo)});s8.NO_CONTROLS_EXPANDED_RANGE_DECORATION=I1.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});s8.HIDDEN_RANGE_DECORATION=I1.register({description:"folding-hidden-range-decoration",stickiness:1});A1();$0();var GQ0=function(J,$,X){let Q=null;const Y=J.map((Z,G)=>{return Promise.resolve(Z.provideFoldingRanges($,YQ0,X)).then((q)=>{if(X.isCancellationRequested)return;if(Array.isArray(q)){if(!Array.isArray(Q))Q=[];const U=$.getLineCount();for(let H of q)if(H.start>0&&H.end>H.start&&H.end<=U)Q.push({start:H.start,end:H.end,rank:G,kind:H.kind})}},JJ)});return Promise.all(Y).then((Z)=>{return Q})};function qQ0(J,$){const X=J.sort((G,q)=>{let U=G.start-q.start;if(U===0)U=G.rank-q.rank;return U}),Q=new No($);let Y=void 0;const Z=[];for(let G of X)if(!Y)Y=G,Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else if(G.start>Y.start)if(G.end<=Y.end)Z.push(Y),Y=G,Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else{if(G.start>Y.end){do Y=Z.pop();while(Y&&G.start>Y.end);if(Y)Z.push(Y);Y=G}Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length)}return Q.toIndentRanges()}var YQ0={},ZQ0="syntax";class nD{constructor(J,$,X,Q,Y){if(this.editorModel=J,this.providers=$,this.handleFoldingRangesChange=X,this.foldingRangesLimit=Q,this.fallbackRangeProvider=Y,this.id=ZQ0,this.disposables=new e,Y)this.disposables.add(Y);for(let Z of $)if(typeof Z.onDidChange==="function")this.disposables.add(Z.onDidChange(X))}compute(J){return GQ0(this.providers,this.editorModel,J).then(($)=>{var X,Q;if($)return qQ0($,this.foldingRangesLimit);return(Q=(X=this.fallbackRangeProvider)===null||X===void 0?void 0:X.compute(J))!==null&&Q!==void 0?Q:null})}dispose(){this.disposables.dispose()}}class No{constructor(J){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=J}add(J,$,X,Q){if(J>X3||$>X3)return;const Y=this._length;if(this._startIndexes[Y]=J,this._endIndexes[Y]=$,this._nestingLevels[Y]=Q,this._types[Y]=X,this._length++,Q<30)this._nestingLevelCounts[Q]=(this._nestingLevelCounts[Q]||0)+1}toIndentRanges(){const J=this._foldingRangesLimit.limit;if(this._length<=J){this._foldingRangesLimit.update(this._length,!1);const $=new Uint32Array(this._length),X=new Uint32Array(this._length);for(let Q=0;Q<this._length;Q++)$[Q]=this._startIndexes[Q],X[Q]=this._endIndexes[Q];return new u6($,X,this._types)}else{this._foldingRangesLimit.update(this._length,J);let $=0,X=this._nestingLevelCounts.length;for(let G=0;G<this._nestingLevelCounts.length;G++){const q=this._nestingLevelCounts[G];if(q){if(q+$>J){X=G;break}$+=q}}const Q=new Uint32Array(J),Y=new Uint32Array(J),Z=[];for(let G=0,q=0;G<this._length;G++){const U=this._nestingLevels[G];if(U<X||U===X&&$++<J)Q[q]=this._startIndexes[G],Y[q]=this._endIndexes[G],Z[q]=this._types[G],q++}return new u6(Q,Y,Z)}}}JQ();IL();r4();Y5();A0();n6();l8();UX();y9();var _o=function(J){if(!$6(J)){if(!r8(J))return!1;const $=J;if(!$6($.levels)&&!s9($.levels))return!1;if(!$6($.direction)&&!Z7($.direction))return!1;if(!$6($.selectionLines)&&(!Array.isArray($.selectionLines)||!$.selectionLines.every(s9)))return!1}return!0},UQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},OW=function(J,$){return function(X,Q){$(X,Q,J)}},HQ0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},Q3,w6=new V0("foldingEnabled",!1),R2=Q3=class J extends f{static get($){return $.getContribution(Q3.ID)}static getFoldingRangeProviders($,X){var Q,Y;const Z=$.foldingRangeProvider.ordered(X);return(Y=(Q=Q3._foldingRangeSelector)===null||Q===void 0?void 0:Q.call(Q3,Z,X))!==null&&Y!==void 0?Y:Z}constructor($,X,Q,Y,Z,G){super();this.contextKeyService=X,this.languageConfigurationService=Q,this.languageFeaturesService=G,this.localToDispose=this._register(new e),this.editor=$,this._foldingLimitReporter=new To($);const q=this.editor.getOptions();this._isEnabled=q.get(43),this._useFoldingProviders=q.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=q.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=q.get(46),this.updateDebounceInfo=Z.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new s8($),this.foldingDecorationProvider.showFoldingControls=q.get(109),this.foldingDecorationProvider.showFoldingHighlights=q.get(45),this.foldingEnabled=w6.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration((U)=>{if(U.hasChanged(43))this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged();if(U.hasChanged(47))this.onModelChanged();if(U.hasChanged(109)||U.hasChanged(45)){const H=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=H.get(109),this.foldingDecorationProvider.showFoldingHighlights=H.get(45),this.triggerFoldingModelChanged()}if(U.hasChanged(44))this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged();if(U.hasChanged(48))this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48);if(U.hasChanged(46))this._foldingImportsByDefault=this.editor.getOptions().get(46)})),this.onModelChanged()}saveViewState(){const $=this.editor.getModel();if(!$||!this._isEnabled||$.isTooLargeForTokenization())return{};if(this.foldingModel){const X=this.foldingModel.getMemento(),Q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:X,lineCount:$.getLineCount(),provider:Q,foldedImports:this._currentModelHasFoldedImports}}return}restoreViewState($){const X=this.editor.getModel();if(!X||!this._isEnabled||X.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!$)return;if(this._currentModelHasFoldedImports=!!$.foldedImports,$.collapsedRegions&&$.collapsedRegions.length>0&&this.foldingModel){this._restoringViewState=!0;try{this.foldingModel.applyMemento($.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const $=this.editor.getModel();if(!this._isEnabled||!$||$.isTooLargeForTokenization())return;this._currentModelHasFoldedImports=!1,this.foldingModel=new Fy($,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Py(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((X)=>this.onHiddenRangesChanges(X))),this.updateScheduler=new BJ(this.updateDebounceInfo.get($)),this.cursorChangedScheduler=new Q8(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent((X)=>this.onDidChangeModelContent(X))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown((X)=>this.onEditorMouseDown(X))),this.localToDispose.add(this.editor.onMouseUp((X)=>this.onEditorMouseUp(X))),this.localToDispose.add({dispose:()=>{var X,Q;if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;(X=this.updateScheduler)===null||X===void 0||X.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(Q=this.rangeProvider)===null||Q===void 0||Q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged()}onFoldingStrategyChanged(){var $;($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider($){if(this.rangeProvider)return this.rangeProvider;const X=new iD($,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=X,this._useFoldingProviders&&this.foldingModel){const Q=Q3.getFoldingRangeProviders(this.languageFeaturesService,$);if(Q.length>0)this.rangeProvider=new nD($,Q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,X)}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent($){var X;(X=this.hiddenRangeModel)===null||X===void 0||X.notifyChangeModelContent($),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){if(this.updateScheduler){if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;this.foldingModelPromise=this.updateScheduler.trigger(()=>{const $=this.foldingModel;if(!$)return null;const X=new G7,Q=this.getRangeProvider($.textModel),Y=this.foldingRegionPromise=pZ((Z)=>Q.compute(Z));return Y.then((Z)=>{if(Z&&Y===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const z=Z.setCollapsedAllOfType(A6.Imports.value,!0);if(z)G=xJ.capture(this.editor),this._currentModelHasFoldedImports=z}const q=this.editor.getSelections(),U=q?q.map((z)=>z.startLineNumber):[];$.update(Z,U),G===null||G===void 0||G.restore(this.editor);const H=this.updateDebounceInfo.update($.textModel,X.elapsed());if(this.updateScheduler)this.updateScheduler.defaultDelay=H}return $})}).then(void 0,($)=>{return a0($),null})}}onHiddenRangesChanges($){if(this.hiddenRangeModel&&$.length&&!this._restoringViewState){const X=this.editor.getSelections();if(X){if(this.hiddenRangeModel.adjustSelections(X))this.editor.setSelections(X)}}this.editor.setHiddenAreas($,this)}onCursorPositionChanged(){if(this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges())this.cursorChangedScheduler.schedule()}revealCursor(){const $=this.getFoldingModel();if(!$)return;$.then((X)=>{if(X){const Q=this.editor.getSelections();if(Q&&Q.length>0){const Y=[];for(let Z of Q){const G=Z.selectionStartLineNumber;if(this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G))Y.push(...X.getAllRegionsAtLine(G,(q)=>q.isCollapsed&&G>q.startLineNumber))}if(Y.length)X.toggleCollapseState(Y),this.reveal(Q[0].getPosition())}}}).then(void 0,a0)}onEditorMouseDown($){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!$.target||!$.target.range)return;if(!$.event.leftButton&&!$.event.middleButton)return;const X=$.target.range;let Q=!1;switch($.target.type){case 4:{const Y=$.target.detail,Z=$.target.element.offsetLeft;if(Y.offsetX-Z<4)return;Q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!$.target.detail.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){const Y=this.editor.getModel();if(Y&&X.startColumn===Y.getLineMaxColumn(X.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:X.startLineNumber,iconClicked:Q}}onEditorMouseUp($){const X=this.foldingModel;if(!X||!this.mouseDownInfo||!$.target)return;const Q=this.mouseDownInfo.lineNumber,Y=this.mouseDownInfo.iconClicked,Z=$.target.range;if(!Z||Z.startLineNumber!==Q)return;if(Y){if($.target.type!==4)return}else{const q=this.editor.getModel();if(!q||Z.startColumn!==q.getLineMaxColumn(Q))return}const G=X.getRegionAtLine(Q);if(G&&G.startLineNumber===Q){const q=G.isCollapsed;if(Y||q){const U=$.event.altKey;let H=[];if(U){const z=(W)=>!W.containedBy(G)&&!G.containedBy(W),V=X.getRegionsInside(null,z);for(let W of V)if(W.isCollapsed)H.push(W);if(H.length===0)H=V}else{const z=$.event.middleButton||$.event.shiftKey;if(z){for(let V of X.getRegionsInside(G))if(V.isCollapsed===q)H.push(V)}if(q||!z||H.length===0)H.push(G)}X.toggleCollapseState(H),this.reveal({lineNumber:Q,column:1})}}}reveal($){this.editor.revealPositionInCenterIfOutsideViewport($,0)}};R2.ID="editor.contrib.folding";R2=Q3=UQ0([OW(1,p0),OW(2,N8),OW(3,i7),OW(4,LL),OW(5,q1)],R2);class To{constructor(J){this.editor=J,this._onDidChange=new E,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(J,$){if(J!==this._computed||$!==this._limited)this._computed=J,this._limited=$,this._onDidChange.fire()}}class L6 extends VJ{runEditorCommand(J,$,X){const Q=J.get(N8),Y=R2.get($);if(!Y)return;const Z=Y.getFoldingModel();if(Z)return this.reportTelemetry(J,$),Z.then((G)=>{if(G){this.invoke(Y,G,$,X,Q);const q=$.getSelection();if(q)Y.reveal(q.getStartPosition())}})}getSelectedLines(J){const $=J.getSelections();return $?$.map((X)=>X.startLineNumber):[]}getLineNumbers(J,$){if(J&&J.selectionLines)return J.selectionLines.map((X)=>X+1);return this.getSelectedLines($)}run(J,$){}}class wo extends L6{constructor(){super({id:"editor.unfold",label:F("unfoldAction.label","Unfold"),alias:"Unfold",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:2048|1024|94,mac:{primary:2048|512|94},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:_o,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,X,Q){const Y=Q&&Q.levels||1,Z=this.getLineNumbers(Q,X);if(Q&&Q.direction==="up")Ky($,!1,Y,Z);else D2($,!1,Y,Z)}}class Lo extends L6{constructor(){super({id:"editor.unfoldRecursively",label:F("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|94),weight:100}})}invoke(J,$,X,Q){D2($,!1,Number.MAX_VALUE,this.getSelectedLines(X))}}class Io extends L6{constructor(){super({id:"editor.fold",label:F("foldAction.label","Fold"),alias:"Fold",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:2048|1024|92,mac:{primary:2048|512|92},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:_o,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,X,Q){const Y=this.getLineNumbers(Q,X),Z=Q&&Q.levels,G=Q&&Q.direction;if(typeof Z!=="number"&&typeof G!=="string")jo($,!0,Y);else if(G==="up")Ky($,!0,Z||1,Y);else D2($,!0,Z||1,Y)}}class ko extends L6{constructor(){super({id:"editor.toggleFold",label:F("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|42),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);Bo($,1,Q)}}class Eo extends L6{constructor(){super({id:"editor.foldRecursively",label:F("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|92),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);D2($,!0,Number.MAX_VALUE,Q)}}class yo extends L6{constructor(){super({id:"editor.foldAllBlockComments",label:F("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|90),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())rD($,A6.Comment.value,!0);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).comments;if(G&&G.blockCommentStartToken){const q=new RegExp("^\\s*"+r6(G.blockCommentStartToken));aD($,q,!0)}}}}class So extends L6{constructor(){super({id:"editor.foldAllMarkerRegions",label:F("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|29),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())rD($,A6.Region.value,!0);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const q=new RegExp(G.markers.start);aD($,q,!0)}}}}class Co extends L6{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:F("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|30),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())rD($,A6.Region.value,!1);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const q=new RegExp(G.markers.start);aD($,q,!1)}}}}class xo extends L6{constructor(){super({id:"editor.foldAllExcept",label:F("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|88),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);Ay($,!0,Q)}}class bo extends L6{constructor(){super({id:"editor.unfoldAllExcept",label:F("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|86),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);Ay($,!1,Q)}}class vo extends L6{constructor(){super({id:"editor.foldAll",label:F("foldAllAction.label","Fold All"),alias:"Fold All",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|21),weight:100}})}invoke(J,$,X){D2($,!0)}}class fo extends L6{constructor(){super({id:"editor.unfoldAll",label:F("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|40),weight:100}})}invoke(J,$,X){D2($,!1)}}class M2 extends L6{getFoldingLevel(){return parseInt(this.id.substr(M2.ID_PREFIX.length))}invoke(J,$,X){Fo($,this.getFoldingLevel(),!0,this.getSelectedLines(X))}}M2.ID_PREFIX="editor.foldLevel";M2.ID=(J)=>M2.ID_PREFIX+J;class ho extends L6{constructor(){super({id:"editor.gotoParentFold",label:F("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=Ko(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class go extends L6{constructor(){super({id:"editor.gotoPreviousFold",label:F("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=Ao(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class po extends L6{constructor(){super({id:"editor.gotoNextFold",label:F("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=Po(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class mo extends L6{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:F("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|87),weight:100}})}invoke(J,$,X){var Q;const Y=[],Z=X.getSelections();if(Z){for(let G of Z){let q=G.endLineNumber;if(G.endColumn===1)--q;if(q>G.startLineNumber)Y.push({startLineNumber:G.startLineNumber,endLineNumber:q,type:void 0,isCollapsed:!0,source:1}),X.setSelection({startLineNumber:G.startLineNumber,startColumn:1,endLineNumber:G.startLineNumber,endColumn:1})}if(Y.length>0){Y.sort((q,U)=>{return q.startLineNumber-U.startLineNumber});const G=u6.sanitizeAndMerge($.regions,Y,(Q=X.getModel())===null||Q===void 0?void 0:Q.getLineCount());$.updatePost(u6.fromFoldRanges(G))}}}}class uo extends L6{constructor(){super({id:"editor.removeManualFoldingRanges",label:F("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|89),weight:100}})}invoke(J,$,X){const Q=X.getSelections();if(Q){const Y=[];for(let Z of Q){const{startLineNumber:G,endLineNumber:q}=Z;Y.push(q>=G?{startLineNumber:G,endLineNumber:q}:{endLineNumber:q,startLineNumber:G})}$.removeManualRanges(Y),J.triggerFoldingModelChanged()}}}w5(R2.ID,R2,0);J7(wo);J7(Lo);J7(Io);J7(Eo);J7(vo);J7(fo);J7(yo);J7(So);J7(Co);J7(xo);J7(bo);J7(ko);J7(ho);J7(go);J7(po);J7(mo);J7(uo);for(let J=1;J<=7;J++)ox(new M2({id:M2.ID(J),label:F("foldLevelAction.label","Fold Level {0}",J),alias:`Fold Level ${J}`,precondition:w6,kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|21+J),weight:100}}));V8.registerCommand("_executeFoldingRangeProvider",function(J,...$){return HQ0(this,void 0,void 0,function*(){const[X]=$;if(!(X instanceof I0))throw rJ();const Q=J.get(q1),Y=J.get(U7).getModel(X);if(!Y)throw rJ();const Z=J.get(u1);if(!Z.getValue("editor.folding",{resource:X}))return[];const G=J.get(N8),q=Z.getValue("editor.foldingStrategy",{resource:X}),U={get limit(){return Z.getValue("editor.foldingMaximumRegions",{resource:X})},update:(B,j)=>{}},H=new iD(Y,G,U);let z=H;if(q!=="indentation"){const B=R2.getFoldingRangeProviders(Q,Y);if(B.length)z=new nD(Y,B,()=>{},U,H)}const V=yield z.compute(n8.None),W=[];try{if(V)for(let B=0;B<V.length;B++){const j=V.getType(B);W.push({start:V.getStartLineNumber(B),end:V.getEndLineNumber(B),kind:j?A6.fromValue(j):void 0})}return W}finally{z.dispose()}})});V1();v7();A1();TZ();$0();L5();t9();Zq();u0();FY();bU();Y5();Wy();qy();m0();n6();s1();e0();HV();var co=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},oD=function(J,$){return function(X,Q){$(X,Q,J)}},Oy=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},NW=class J{constructor($,X,Q){this._editor=$,this._languageFeaturesService=X,this._workerService=Q,this._disposables=new e,this._sessionDisposables=new e,this._disposables.add(X.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration((Y)=>{if(Y.hasChanged(56))this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;const $=this._editor.getModel(),[X]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!X||!X.autoFormatTriggerCharacters)return;const Q=new MH;for(let Y of X.autoFormatTriggerCharacters)Q.add(Y.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((Y)=>{const Z=Y.charCodeAt(Y.length-1);if(Q.has(Z))this._trigger(String.fromCharCode(Z))}))}_trigger($){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const X=this._editor.getModel(),Q=this._editor.getPosition(),Y=new u8,Z=this._editor.onDidChangeModelContent((G)=>{if(G.isFlush){Y.cancel(),Z.dispose();return}for(let q=0,U=G.changes.length;q<U;q++)if(G.changes[q].range.endLineNumber<=Q.lineNumber){Y.cancel(),Z.dispose();return}});Vy(this._workerService,this._languageFeaturesService,X,Q,$,X.getFormattingOptions(),Y.token).then((G)=>{if(Y.token.isCancellationRequested)return;if(F5(G))oY.execute(this._editor,G,!0),dD(G)}).finally(()=>{Z.dispose()})}};NW.ID="editor.contrib.autoFormat";NW=co([oD(1,q1),oD(2,U5)],NW);var TW=class J{constructor($,X,Q){this.editor=$,this._languageFeaturesService=X,this._instantiationService=Q,this._callOnDispose=new e,this._callOnModel=new e,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(X.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this.editor.getOption(55))return;if(!this.editor.hasModel())return;if(!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel()))return;this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){if(!this.editor.hasModel())return;if(this.editor.getSelections().length>1)return;this._instantiationService.invokeFunction(zy,this.editor,$,2,RU.None,n8.None).catch(a0)}};TW.ID="editor.contrib.formatOnPaste";TW=co([oD(1,q1),oD(2,G1)],TW);class lo extends VJ{constructor(){super({id:"editor.action.formatDocument",label:F("formatDocument.label","Format Document"),alias:"Format Document",precondition:M0.and(t.notInCompositeEditor,t.writable,t.hasDocumentFormattingProvider),kbOpts:{kbExpr:t.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(J,$){return Oy(this,void 0,void 0,function*(){if($.hasModel()){const X=J.get(G1);yield J.get(YQ).showWhile(X.invokeFunction(Vo,$,1,RU.None,n8.None),250)}})}}class so extends VJ{constructor(){super({id:"editor.action.formatSelection",label:F("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:M0.and(t.writable,t.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:t.editorTextFocus,primary:y6(2048|41,2048|36),weight:100},contextMenuOpts:{when:t.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(J,$){return Oy(this,void 0,void 0,function*(){if(!$.hasModel())return;const X=J.get(G1),Q=$.getModel(),Y=$.getSelections().map((G)=>{return G.isEmpty()?new L(G.startLineNumber,1,G.startLineNumber,Q.getLineMaxColumn(G.startLineNumber)):G});yield J.get(YQ).showWhile(X.invokeFunction(zy,$,Y,1,RU.None,n8.None),250)})}}w5(NW.ID,NW,2);w5(TW.ID,TW,2);J7(lo);J7(so);V8.registerCommand("editor.action.format",(J)=>Oy(void 0,void 0,void 0,function*(){const $=J.get(p1).getFocusedCodeEditor();if(!$||!$.hasModel())return;const X=J.get(H7);if($.getSelection().isEmpty())yield X.executeCommand("editor.action.formatDocument");else yield X.executeCommand("editor.action.formatSelection")}));$Y();V1();f1();v7();A1();A0();fZ();$0();O1();r4();j8();KW();L5();YV();W1();u0();FY();$0();j8();L5();W1();FY();b6();Y5();v7();A1();xY();$0();r4();j8();l8();W1();u0();s3();var ao=function(J,$){const X=[...J];while(X.length>0){const Q=X.shift();if(!$(Q))break;X.unshift(...Q.children)}};class bJ{constructor(){this.value="",this.pos=0}static isDigitCharacter(J){return J>=48&&J<=57}static isVariableCharacter(J){return J===95||J>=97&&J<=122||J>=65&&J<=90}text(J){this.value=J,this.pos=0}tokenText(J){return this.value.substr(J.pos,J.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const J=this.pos;let $=0,X=this.value.charCodeAt(J),Q;if(Q=bJ._table[X],typeof Q==="number")return this.pos+=1,{type:Q,pos:J,len:1};if(bJ.isDigitCharacter(X)){Q=8;do $+=1,X=this.value.charCodeAt(J+$);while(bJ.isDigitCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}if(bJ.isVariableCharacter(X)){Q=9;do X=this.value.charCodeAt(J+ ++$);while(bJ.isVariableCharacter(X)||bJ.isDigitCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}Q=10;do $+=1,X=this.value.charCodeAt(J+$);while(!isNaN(X)&&typeof bJ._table[X]==="undefined"&&!bJ.isDigitCharacter(X)&&!bJ.isVariableCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}}bJ._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class O2{constructor(){this._children=[]}appendChild(J){if(J instanceof c6&&this._children[this._children.length-1]instanceof c6)this._children[this._children.length-1].value+=J.value;else J.parent=this,this._children.push(J);return this}replace(J,$){const{parent:X}=J,Q=X.children.indexOf(J),Y=X.children.slice(0);Y.splice(Q,1,...$),X._children=Y,function Z(G,q){for(let U of G)U.parent=q,Z(U.children,U)}($,X)}get children(){return this._children}get rightMostDescendant(){if(this._children.length>0)return this._children[this._children.length-1].rightMostDescendant;return this}get snippet(){let J=this;while(!0){if(!J)return;if(J instanceof Y3)return J;J=J.parent}}toString(){return this.children.reduce((J,$)=>J+$.toString(),"")}len(){return 0}}class c6 extends O2{constructor(J){super();this.value=J}toString(){return this.value}len(){return this.value.length}clone(){return new c6(this.value)}}class Ny extends O2{}class z5 extends Ny{static compareByIndex(J,$){if(J.index===$.index)return 0;else if(J.isFinalTabstop)return 1;else if($.isFinalTabstop)return-1;else if(J.index<$.index)return-1;else if(J.index>$.index)return 1;else return 0}constructor(J){super();this.index=J}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof N2?this._children[0]:void 0}clone(){const J=new z5(this.index);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class N2 extends O2{constructor(){super(...arguments);this.options=[]}appendChild(J){if(J instanceof c6)J.parent=this,this.options.push(J);return this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const J=new N2;return this.options.forEach(J.appendChild,J),J}}class Ty extends O2{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(J){const $=this;let X=!1,Q=J.replace(this.regexp,function(){return X=!0,$._replace(Array.prototype.slice.call(arguments,0,-2))});if(!X&&this._children.some((Y)=>Y instanceof b4&&Boolean(Y.elseValue)))Q=this._replace([]);return Q}_replace(J){let $="";for(let X of this._children)if(X instanceof b4){let Q=J[X.index]||"";Q=X.resolve(Q),$+=Q}else $+=X.toString();return $}toString(){return""}clone(){const J=new Ty;return J.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),J._children=this.children.map(($)=>$.clone()),J}}class b4 extends O2{constructor(J,$,X,Q){super();this.index=J,this.shorthandName=$,this.ifValue=X,this.elseValue=Q}resolve(J){if(this.shorthandName==="upcase")return!J?"":J.toLocaleUpperCase();else if(this.shorthandName==="downcase")return!J?"":J.toLocaleLowerCase();else if(this.shorthandName==="capitalize")return!J?"":J[0].toLocaleUpperCase()+J.substr(1);else if(this.shorthandName==="pascalcase")return!J?"":this._toPascalCase(J);else if(this.shorthandName==="camelcase")return!J?"":this._toCamelCase(J);else if(Boolean(J)&&typeof this.ifValue==="string")return this.ifValue;else if(!Boolean(J)&&typeof this.elseValue==="string")return this.elseValue;else return J||""}_toPascalCase(J){const $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((X)=>{return X.charAt(0).toUpperCase()+X.substr(1)}).join("")}_toCamelCase(J){const $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((X,Q)=>{if(Q===0)return X.charAt(0).toLowerCase()+X.substr(1);return X.charAt(0).toUpperCase()+X.substr(1)}).join("")}clone(){return new b4(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class _W extends Ny{constructor(J){super();this.name=J}resolve(J){let $=J.resolve(this);if(this.transform)$=this.transform.resolve($||"");if($!==void 0)return this._children=[new c6($)],!0;return!1}clone(){const J=new _W(this.name);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class Y3 extends O2{get placeholderInfo(){if(!this._placeholders){const J=[];let $;this.walk(function(X){if(X instanceof z5)J.push(X),$=!$||$.index<X.index?X:$;return!0}),this._placeholders={all:J,last:$}}return this._placeholders}get placeholders(){const{all:J}=this.placeholderInfo;return J}offset(J){let $=0,X=!1;if(this.walk((Q)=>{if(Q===J)return X=!0,!1;return $+=Q.len(),!0}),!X)return-1;return $}fullLen(J){let $=0;return ao([J],(X)=>{return $+=X.len(),!0}),$}enclosingPlaceholders(J){const $=[];let{parent:X}=J;while(X){if(X instanceof z5)$.push(X);X=X.parent}return $}resolveVariables(J){return this.walk(($)=>{if($ instanceof _W){if($.resolve(J))this._placeholders=void 0}return!0}),this}appendChild(J){return this._placeholders=void 0,super.appendChild(J)}replace(J,$){return this._placeholders=void 0,super.replace(J,$)}clone(){const J=new Y3;return this._children=this.children.map(($)=>$.clone()),J}walk(J){ao(this.children,J)}}class eY{constructor(){this._scanner=new bJ,this._token={type:14,pos:0,len:0}}static escape(J){return J.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(J){return/\${?CLIPBOARD/.test(J)}parse(J,$,X){const Q=new Y3;return this.parseFragment(J,Q),this.ensureFinalTabstop(Q,X!==null&&X!==void 0?X:!1,$!==null&&$!==void 0?$:!1),Q}parseFragment(J,$){const X=$.children.length;this._scanner.text(J),this._token=this._scanner.next();while(this._parse($));const Q=new Map,Y=[];$.walk((q)=>{if(q instanceof z5)if(q.isFinalTabstop)Q.set(0,void 0);else if(!Q.has(q.index)&&q.children.length>0)Q.set(q.index,q.children);else Y.push(q);return!0});const Z=(q,U)=>{const H=Q.get(q.index);if(!H)return;const z=new z5(q.index);z.transform=q.transform;for(let V of H){const W=V.clone();if(z.appendChild(W),W instanceof z5&&Q.has(W.index)&&!U.has(W.index))U.add(W.index),Z(W,U),U.delete(W.index)}$.replace(q,[z])},G=new Set;for(let q of Y)Z(q,G);return $.children.slice(X)}ensureFinalTabstop(J,$,X){if($||X&&J.placeholders.length>0){if(!J.placeholders.find((Y)=>Y.index===0))J.appendChild(new z5(0))}}_accept(J,$){if(J===void 0||this._token.type===J){const X=!$?!0:this._scanner.tokenText(this._token);return this._token=this._scanner.next(),X}return!1}_backTo(J){return this._scanner.pos=J.pos+J.len,this._token=J,!1}_until(J){const $=this._token;while(this._token.type!==J){if(this._token.type===14)return!1;else if(this._token.type===5){const Q=this._scanner.next();if(Q.type!==0&&Q.type!==4&&Q.type!==5)return!1}this._token=this._scanner.next()}const X=this._scanner.value.substring($.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),X}_parse(J){return this._parseEscaped(J)||this._parseTabstopOrVariableName(J)||this._parseComplexPlaceholder(J)||this._parseComplexVariable(J)||this._parseAnything(J)}_parseEscaped(J){let $;if($=this._accept(5,!0))return $=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||$,J.appendChild(new c6($)),!0;return!1}_parseTabstopOrVariableName(J){let $;const X=this._token;if(!(this._accept(0)&&($=this._accept(9,!0)||this._accept(8,!0))))return this._backTo(X);return J.appendChild(/^\d+$/.test($)?new z5(Number($)):new _W($)),!0}_parseComplexPlaceholder(J){let $;const X=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(8,!0))))return this._backTo(X);const Y=new z5(Number($));if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new c6("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(Y.index>0&&this._accept(7)){const Z=new N2;while(!0){if(this._parseChoiceElement(Z)){if(this._accept(2))continue;if(this._accept(7)){if(Y.appendChild(Z),this._accept(4))return J.appendChild(Y),!0}}return this._backTo(X),!1}}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(X),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(X)}_parseChoiceElement(J){const $=this._token,X=[];while(!0){if(this._token.type===2||this._token.type===7)break;let Q;if(Q=this._accept(5,!0))Q=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||Q;else Q=this._accept(void 0,!0);if(!Q)return this._backTo($),!1;X.push(Q)}if(X.length===0)return this._backTo($),!1;return J.appendChild(new c6(X.join(""))),!0}_parseComplexVariable(J){let $;const X=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(9,!0))))return this._backTo(X);const Y=new _W($);if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new c6("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(X),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(X)}_parseTransform(J){const $=new Ty;let X="",Q="";while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(6,!0)||Y,X+=Y;continue}if(this._token.type!==14){X+=this._accept(void 0,!0);continue}return!1}while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(5,!0)||this._accept(6,!0)||Y,$.appendChild(new c6(Y));continue}if(this._parseFormatString($)||this._parseAnything($))continue;return!1}while(!0){if(this._accept(4))break;if(this._token.type!==14){Q+=this._accept(void 0,!0);continue}return!1}try{$.regexp=new RegExp(X,Q)}catch(Y){return!1}return J.transform=$,!0}_parseFormatString(J){const $=this._token;if(!this._accept(0))return!1;let X=!1;if(this._accept(3))X=!0;const Q=this._accept(8,!0);if(!Q)return this._backTo($),!1;else if(!X)return J.appendChild(new b4(Number(Q))),!0;else if(this._accept(4))return J.appendChild(new b4(Number(Q))),!0;else if(!this._accept(1))return this._backTo($),!1;if(this._accept(6)){const Y=this._accept(9,!0);if(!Y||!this._accept(4))return this._backTo($),!1;else return J.appendChild(new b4(Number(Q),Y)),!0}else if(this._accept(11)){const Y=this._until(4);if(Y)return J.appendChild(new b4(Number(Q),void 0,Y,void 0)),!0}else if(this._accept(12)){const Y=this._until(4);if(Y)return J.appendChild(new b4(Number(Q),void 0,void 0,Y)),!0}else if(this._accept(13)){const Y=this._until(1);if(Y){const Z=this._until(4);if(Z)return J.appendChild(new b4(Number(Q),void 0,Y,Z)),!0}}else{const Y=this._until(4);if(Y)return J.appendChild(new b4(Number(Q),void 0,void 0,Y)),!0}return this._backTo($),!1}_parseAnything(J){if(this._token.type!==14)return J.appendChild(new c6(this._scanner.tokenText(this._token))),this._accept(void 0),!0;return!1}}m0();e4();n6();s1();Y5();SP();y0();EV();yP();vX();h7();A0();Yk();m0();var zQ0=F("defaultLabel","input"),VQ0=F("label.preserveCaseToggle","Preserve Case");class ro extends p${constructor(J){super({icon:z0.preserveCase,title:VQ0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class _y extends J9{constructor(J,$,X,Q){super();this._showOptionButtons=X,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new E),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new E),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new E),this._onInput=this._register(new E),this._onKeyUp=this._register(new E),this._onPreserveCaseKeyDown=this._register(new E),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=$,this.placeholder=Q.placeholder||"",this.validation=Q.validation,this.label=Q.label||zQ0;const Y=Q.appendPreserveCaseLabel||"",Z=Q.history||[],G=!!Q.flexibleHeight,q=!!Q.flexibleWidth,U=Q.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new SV(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:Z,showHistoryHint:Q.showHistoryHint,flexibleHeight:G,flexibleWidth:q,flexibleMaxHeight:U,inputBoxStyles:Q.inputBoxStyles})),this.preserveCase=this._register(new ro(Object.assign({appendTitle:Y,isChecked:!1},Q.toggleStyles))),this._register(this.preserveCase.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.preserveCase.onKeyDown((V)=>{this._onPreserveCaseKeyDown.fire(V)})),this._showOptionButtons)this.cachedOptionsWidth=this.preserveCase.width();else this.cachedOptionsWidth=0;const H=[this.preserveCase.domNode];this.onkeydown(this.domNode,(V)=>{if(V.equals(15)||V.equals(17)||V.equals(9)){const W=H.indexOf(document.activeElement);if(W>=0){let B=-1;if(V.equals(17))B=(W+1)%H.length;else if(V.equals(15))if(W===0)B=H.length-1;else B=W-1;if(V.equals(9))H[W].blur(),this.inputBox.focus();else if(B>=0)H[B].focus();g0.stop(V,!0)}}});const z=document.createElement("div");z.className="controls",z.style.display=this._showOptionButtons?"block":"none",z.appendChild(this.preserveCase.domNode),this.domNode.appendChild(z),J===null||J===void 0||J.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(V)=>this._onKeyDown.fire(V)),this.onkeyup(this.inputBox.inputElement,(V)=>this._onKeyUp.fire(V)),this.oninput(this.inputBox.inputElement,(V)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(V)=>this._onMouseDown.fire(V))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(J){if(J)this.enable();else this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(J){this.preserveCase.checked=J}focusOnPreserve(){this.preserveCase.focus()}validate(){var J;(J=this.inputBox)===null||J===void 0||J.validate()}set width(J){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=J+"px"}dispose(){super.dispose()}}s1();o2();m0();$0();function $t(J,$){if(tD.includes($))throw new Error("Cannot register the same widget multiple times");tD.push($);const X=new e,Q=new V0(wy,!1).bindTo(J),Y=new V0(eo,!0).bindTo(J),Z=new V0(Jt,!0).bindTo(J),G=()=>{Q.set(!0),AQ=$},q=()=>{if(Q.set(!1),AQ===$)AQ=void 0};if($.element===document.activeElement)G();return X.add($.onDidFocus(()=>G())),X.add($.onDidBlur(()=>q())),X.add(N0(()=>{tD.splice(tD.indexOf($),1),q()})),{historyNavigationForwardsEnablement:Y,historyNavigationBackwardsEnablement:Z,dispose(){X.dispose()}}}var oo=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},to=function(J,$){return function(X,Q){$(X,Q,J)}},eD=new V0("suggestWidgetVisible",!1,F("suggestWidgetVisible","Whether suggestion are visible")),wy="historyNavigationWidgetFocus",eo="historyNavigationForwardsEnabled",Jt="historyNavigationBackwardsEnabled",AQ=void 0,tD=[],io=class J extends gU{constructor($,X,Q,Y){super($,X,Q);const Z=this._register(Y.createScoped(this.inputBox.element));this._register($t(Z,this.inputBox))}};io=oo([to(3,p0)],io);var no=class J extends _y{constructor($,X,Q,Y,Z=!1){super($,X,Z,Q);const G=this._register(Y.createScoped(this.inputBox.element));this._register($t(G,this.inputBox))}};no=oo([to(3,p0)],no);J4.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:M0.and(M0.has(wy),M0.equals(Jt,!0),M0.not("isComposing"),eD.isEqualTo(!1)),primary:16,secondary:[512|16],handler:(J)=>{AQ===null||AQ===void 0||AQ.showPreviousValue()}});J4.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:M0.and(M0.has(wy),M0.equals(eo,!0),M0.not("isComposing"),eD.isEqualTo(!1)),primary:18,secondary:[512|18],handler:(J)=>{AQ===null||AQ===void 0||AQ.showNextValue()}});function Qt(){return Z3}function Ly(J,$,X,Q=G3.default,Y={triggerKind:0},Z=n8.None){return wW(this,void 0,void 0,function*(){const G=new G7;X=X.clone();const q=$.getWordAtPosition(X),U=q?new L(X.lineNumber,q.startColumn,X.lineNumber,q.endColumn):L.fromPositions(X),H={replace:U,insert:U.setEndPosition(X.lineNumber,X.column)},z=[],V=new e,W=[];let B=!1;const j=(D,A,P)=>{var R,M,T;let _=!1;if(!A)return _;for(let w of A.suggestions)if(!Q.kindFilter.has(w.kind)){if(!Q.showDeprecated&&((R=w===null||w===void 0?void 0:w.tags)===null||R===void 0?void 0:R.includes(1)))continue;if(!w.range)w.range=H;if(!w.sortText)w.sortText=typeof w.label==="string"?w.label:w.label.label;if(!B&&w.insertTextRules&&w.insertTextRules&4)B=eY.guessNeedsClipboard(w.insertText);z.push(new Xt(X,w,A,D)),_=!0}if(KB(A))V.add(A);return W.push({providerName:(M=D._debugDisplayName)!==null&&M!==void 0?M:"unknown_provider",elapsedProvider:(T=A.duration)!==null&&T!==void 0?T:-1,elapsedOverall:P.elapsed()}),_},K=(()=>wW(this,void 0,void 0,function*(){if(!Z3||Q.kindFilter.has(27))return;const D=Q.providerItemsToReuse.get(Z3);if(D){D.forEach((R)=>z.push(R));return}if(Q.providerFilter.size>0&&!Q.providerFilter.has(Z3))return;const A=new G7,P=yield Z3.provideCompletionItems($,X,Y,Z);j(Z3,P,A)}))();for(let D of J.orderedGroups($)){let A=!1;if(yield Promise.all(D.map((P)=>wW(this,void 0,void 0,function*(){if(Q.providerItemsToReuse.has(P)){const R=Q.providerItemsToReuse.get(P);R.forEach((M)=>z.push(M)),A=A||R.length>0;return}if(Q.providerFilter.size>0&&!Q.providerFilter.has(P))return;try{const R=new G7,M=yield P.provideCompletionItems($,X,Y,Z);A=j(P,M,R)||A}catch(R){JJ(R)}}))),A||Z.isCancellationRequested)break}if(yield K,Z.isCancellationRequested)return V.dispose(),Promise.reject(new JX);return new Yt(z.sort(jQ0(Q.snippetSortOrder)),B,{entries:W,elapsed:G.elapsed()},V)})}var Iy=function(J,$){if(J.sortTextLow&&$.sortTextLow){if(J.sortTextLow<$.sortTextLow)return-1;else if(J.sortTextLow>$.sortTextLow)return 1}if(J.textLabel<$.textLabel)return-1;else if(J.textLabel>$.textLabel)return 1;return J.completion.kind-$.completion.kind},WQ0=function(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return Iy(J,$)},BQ0=function(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return Iy(J,$)};function jQ0(J){return JR.get(J)}function Zt(J,$){var X;(X=J.getContribution("editor.contrib.suggestController"))===null||X===void 0||X.triggerSuggest((new Set()).add($),void 0,!0)}var wW=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},J1={Visible:eD,HasFocusedSuggestion:new V0("suggestWidgetHasFocusedSuggestion",!1,F("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new V0("suggestWidgetDetailsVisible",!1,F("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new V0("suggestWidgetMultipleSuggestions",!1,F("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new V0("suggestionMakesTextEdit",!0,F("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new V0("acceptSuggestionOnEnter",!0,F("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new V0("suggestionHasInsertAndReplaceRange",!1,F("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new V0("suggestionInsertMode",void 0,{type:"string",description:F("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new V0("suggestionCanResolve",!1,F("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},r$=new S("suggestWidgetStatusBar");class Xt{constructor(J,$,X,Q){var Y;if(this.position=J,this.completion=$,this.container=X,this.provider=Q,this.isInvalid=!1,this.score=kJ.Default,this.distance=0,this.textLabel=typeof $.label==="string"?$.label:(Y=$.label)===null||Y===void 0?void 0:Y.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=$.sortText&&$.sortText.toLowerCase(),this.filterTextLow=$.filterText&&$.filterText.toLowerCase(),this.extensionId=$.extensionId,L.isIRange($.range))this.editStart=new b($.range.startLineNumber,$.range.startColumn),this.editInsertEnd=new b($.range.endLineNumber,$.range.endColumn),this.editReplaceEnd=new b($.range.endLineNumber,$.range.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range)||$.range.startLineNumber!==J.lineNumber;else this.editStart=new b($.range.insert.startLineNumber,$.range.insert.startColumn),this.editInsertEnd=new b($.range.insert.endLineNumber,$.range.insert.endColumn),this.editReplaceEnd=new b($.range.replace.endLineNumber,$.range.replace.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range.insert)||L.spansMultipleLines($.range.replace)||$.range.insert.startLineNumber!==J.lineNumber||$.range.replace.startLineNumber!==J.lineNumber||$.range.insert.startColumn!==$.range.replace.startColumn;if(typeof Q.resolveCompletionItem!=="function")this._resolveCache=Promise.resolve(),this._resolveDuration=0}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(J){return wW(this,void 0,void 0,function*(){if(!this._resolveCache){const $=J.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),X=new G7(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,J)).then((Q)=>{Object.assign(this.completion,Q),this._resolveDuration=X.elapsed()},(Q)=>{if(s4(Q))this._resolveCache=void 0,this._resolveDuration=void 0}).finally(()=>{$.dispose()})}return this._resolveCache})}}class G3{constructor(J=2,$=new Set,X=new Set,Q=new Map,Y=!0){this.snippetSortOrder=J,this.kindFilter=$,this.providerFilter=X,this.providerItemsToReuse=Q,this.showDeprecated=Y}}G3.default=new G3;var Z3;class Yt{constructor(J,$,X,Q){this.items=J,this.needsClipboard=$,this.durations=X,this.disposable=Q}}var JR=new Map;JR.set(0,WQ0);JR.set(2,BQ0);JR.set(1,Iy);V8.registerCommand("_executeCompletionItemProvider",(J,...$)=>wW(void 0,void 0,void 0,function*(){const[X,Q,Y,Z]=$;w7(I0.isUri(X)),w7(b.isIPosition(Q)),w7(typeof Y==="string"||!Y),w7(typeof Z==="number"||!Z);const{completionProvider:G}=J.get(q1),q=yield J.get(HX).createModelReference(X);try{const U={incomplete:!1,suggestions:[]},H=[],z=q.object.textEditorModel.validatePosition(Q),V=yield Ly(G,q.object.textEditorModel,z,void 0,{triggerCharacter:Y!==null&&Y!==void 0?Y:void 0,triggerKind:Y?1:0});for(let W of V.items){if(H.length<(Z!==null&&Z!==void 0?Z:0))H.push(W.resolve(n8.None));U.incomplete=U.incomplete||W.container.incomplete,U.suggestions.push(W.completion)}try{return yield Promise.all(H),U}finally{setTimeout(()=>V.disposable.dispose(),100)}}finally{q.dispose()}}));class q3{static isAllOff(J){return J.other==="off"&&J.comments==="off"&&J.strings==="off"}static isAllOn(J){return J.other==="on"&&J.comments==="on"&&J.strings==="on"}static valueFor(J,$){switch($){case 1:return J.comments;case 2:return J.strings;default:return J.other}}}m0();s1();M5();V1();$0();l0();j1();F0(".monaco-editor .snippet-placeholder{background-color:var(--vscode-editor-snippetTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetTabstopHighlightBorder,transparent);min-width:2px}.monaco-editor .finish-snippet-placeholder{background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder,transparent)}");YV();u0();f7();b6();bG();sL();rA();XA();O1();function ky(J,$=F8){if(Vu(J,$))return J.charAt(0).toUpperCase()+J.slice(1);return J}var h71=Object.create(null);$X();E$();l0();var Gt=function(){if(typeof crypto==="object"&&typeof crypto.randomUUID==="function")return crypto.randomUUID.bind(crypto);let J;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function")J=crypto.getRandomValues.bind(crypto);else J=function(Q){for(let Y=0;Y<Q.length;Y++)Q[Y]=Math.floor(Math.random()*256);return Q};const $=new Uint8Array(16),X=[];for(let Q=0;Q<256;Q++)X.push(Q.toString(16).padStart(2,"0"));return function Q(){J($),$[6]=$[6]&15|64,$[8]=$[8]&63|128;let Y=0,Z="";return Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z}}();b6();m0();rA();var FQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},KQ0=function(J,$){return function(X,Q){$(X,Q,J)}},r71=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class $R{constructor(J){this._delegates=J}resolve(J){for(let $ of this._delegates){const X=$.resolve(J);if(X!==void 0)return X}return}}class XR{constructor(J,$,X,Q){this._model=J,this._selection=$,this._selectionIdx=X,this._overtypingCapturer=Q}resolve(J){const{name:$}=J;if($==="SELECTION"||$==="TM_SELECTED_TEXT"){let X=this._model.getValueInRange(this._selection)||void 0,Q=this._selection.startLineNumber!==this._selection.endLineNumber;if(!X&&this._overtypingCapturer){const Y=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);if(Y)X=Y.value,Q=Y.multiline}if(X&&Q&&J.snippet){const Y=this._model.getLineContent(this._selection.startLineNumber),Z=o8(Y,0,this._selection.startColumn-1);let G=Z;J.snippet.walk((U)=>{if(U===J)return!1;if(U instanceof c6)G=o8(n9(U.value).pop());return!0});const q=EZ(G,Z);X=X.replace(/(\r\n|\r|\n)(.*)/g,(U,H,z)=>`${H}${G.substr(q)}${z}`)}return X}else if($==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);else if($==="TM_CURRENT_WORD"){const X=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return X&&X.word||void 0}else if($==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);else if($==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);else if($==="CURSOR_INDEX")return String(this._selectionIdx);else if($==="CURSOR_NUMBER")return String(this._selectionIdx+1);return}}class QR{constructor(J,$){this._labelService=J,this._model=$}resolve(J){const{name:$}=J;if($==="TM_FILENAME")return QJ(this._model.uri.fsPath);else if($==="TM_FILENAME_BASE"){const X=QJ(this._model.uri.fsPath),Q=X.lastIndexOf(".");if(Q<=0)return X;else return X.slice(0,Q)}else if($==="TM_DIRECTORY"){if(TB(this._model.uri.fsPath)===".")return"";return this._labelService.getUriLabel(YA(this._model.uri))}else if($==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);else if($==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0});return}}class YR{constructor(J,$,X,Q){this._readClipboardText=J,this._selectionIdx=$,this._selectionCount=X,this._spread=Q}resolve(J){if(J.name!=="CLIPBOARD")return;const $=this._readClipboardText();if(!$)return;if(this._spread){const X=$.split(/\r\n|\n|\r/).filter((Q)=>!Kj(Q));if(X.length===this._selectionCount)return X[this._selectionIdx]}return $}}var LW=class J{constructor($,X,Q){this._model=$,this._selection=X,this._languageConfigurationService=Q}resolve($){const{name:X}=$,Q=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Y=this._languageConfigurationService.getLanguageConfiguration(Q).comments;if(!Y)return;if(X==="LINE_COMMENT")return Y.lineCommentToken||void 0;else if(X==="BLOCK_COMMENT_START")return Y.blockCommentStartToken||void 0;else if(X==="BLOCK_COMMENT_END")return Y.blockCommentEndToken||void 0;return}};LW=FQ0([KQ0(2,N8)],LW);class vJ{constructor(){this._date=new Date}resolve(J){const{name:$}=J;if($==="CURRENT_YEAR")return String(this._date.getFullYear());else if($==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);else if($==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");else if($==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");else if($==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");else if($==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");else if($==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");else if($==="CURRENT_DAY_NAME")return vJ.dayNames[this._date.getDay()];else if($==="CURRENT_DAY_NAME_SHORT")return vJ.dayNamesShort[this._date.getDay()];else if($==="CURRENT_MONTH_NAME")return vJ.monthNames[this._date.getMonth()];else if($==="CURRENT_MONTH_NAME_SHORT")return vJ.monthNamesShort[this._date.getMonth()];else if($==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1000));else if($==="CURRENT_TIMEZONE_OFFSET"){const X=this._date.getTimezoneOffset(),Q=X>0?"-":"+",Y=Math.trunc(Math.abs(X/60)),Z=Y<10?"0"+Y:Y,G=Math.abs(X)-Y*60,q=G<10?"0"+G:G;return Q+Z+":"+q}return}}vJ.dayNames=[F("Sunday","Sunday"),F("Monday","Monday"),F("Tuesday","Tuesday"),F("Wednesday","Wednesday"),F("Thursday","Thursday"),F("Friday","Friday"),F("Saturday","Saturday")];vJ.dayNamesShort=[F("SundayShort","Sun"),F("MondayShort","Mon"),F("TuesdayShort","Tue"),F("WednesdayShort","Wed"),F("ThursdayShort","Thu"),F("FridayShort","Fri"),F("SaturdayShort","Sat")];vJ.monthNames=[F("January","January"),F("February","February"),F("March","March"),F("April","April"),F("May","May"),F("June","June"),F("July","July"),F("August","August"),F("September","September"),F("October","October"),F("November","November"),F("December","December")];vJ.monthNamesShort=[F("JanuaryShort","Jan"),F("FebruaryShort","Feb"),F("MarchShort","Mar"),F("AprilShort","Apr"),F("MayShort","May"),F("JuneShort","Jun"),F("JulyShort","Jul"),F("AugustShort","Aug"),F("SeptemberShort","Sep"),F("OctoberShort","Oct"),F("NovemberShort","Nov"),F("DecemberShort","Dec")];class ZR{constructor(J){this._workspaceService=J}resolve(J){if(!this._workspaceService)return;const $=Jd(this._workspaceService.getWorkspace());if(el($))return;if(J.name==="WORKSPACE_NAME")return this._resolveWorkspaceName($);else if(J.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath($);return}_resolveWorkspaceName(J){if(sA(J))return QJ(J.uri.path);let $=QJ(J.configPath.path);if($.endsWith(aA))$=$.substr(0,$.length-aA.length-1);return $}_resoveWorkspacePath(J){if(sA(J))return ky(J.uri.fsPath);const $=QJ(J.configPath.path);let X=J.configPath.fsPath;if(X.endsWith($))X=X.substr(0,X.length-$.length-1);return X?ky(X):"/"}}class GR{resolve(J){const{name:$}=J;if($==="RANDOM")return Math.random().toString().slice(-6);else if($==="RANDOM_HEX")return Math.random().toString(16).slice(-6);else if($==="UUID")return Gt();return}}var AQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},PQ0=function(J,$){return function(X,Q){$(X,Q,J)}},v4;class l5{constructor(J,$,X){this._editor=J,this._snippet=$,this._snippetLineLeadingWhitespace=X,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=SR($.placeholders,z5.compareByIndex),this._placeholderGroupsIdx=-1}initialize(J){this._offset=J.newPosition}dispose(){if(this._placeholderDecorations)this._editor.removeDecorations([...this._placeholderDecorations.values()]);this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const J=this._editor.getModel();this._editor.changeDecorations(($)=>{for(let X of this._snippet.placeholders){const Q=this._snippet.offset(X),Y=this._snippet.fullLen(X),Z=L.fromPositions(J.getPositionAt(this._offset+Q),J.getPositionAt(this._offset+Q+Y)),G=X.isFinalTabstop?l5._decor.inactiveFinal:l5._decor.inactive,q=$.addDecoration(Z,G);this._placeholderDecorations.set(X,q)}})}move(J){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const Q=[];for(let Y of this._placeholderGroups[this._placeholderGroupsIdx])if(Y.transform){const Z=this._placeholderDecorations.get(Y),G=this._editor.getModel().getDecorationRange(Z),q=this._editor.getModel().getValueInRange(G),U=Y.transform.resolve(q).split(/\r\n|\r|\n/);for(let H=1;H<U.length;H++)U[H]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+U[H]);Q.push(m5.replace(G,U.join(this._editor.getModel().getEOL())))}if(Q.length>0)this._editor.executeEdits("snippet.placeholderTransform",Q)}let $=!1;if(J===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1)this._placeholderGroupsIdx+=1,$=!0;else if(J===!1&&this._placeholderGroupsIdx>0)this._placeholderGroupsIdx-=1,$=!0;const X=this._editor.getModel().changeDecorations((Q)=>{const Y=new Set,Z=[];for(let G of this._placeholderGroups[this._placeholderGroupsIdx]){const q=this._placeholderDecorations.get(G),U=this._editor.getModel().getDecorationRange(q);Z.push(new b0(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)),$=$&&this._hasPlaceholderBeenCollapsed(G),Q.changeDecorationOptions(q,G.isFinalTabstop?l5._decor.activeFinal:l5._decor.active),Y.add(G);for(let H of this._snippet.enclosingPlaceholders(G)){const z=this._placeholderDecorations.get(H);Q.changeDecorationOptions(z,H.isFinalTabstop?l5._decor.activeFinal:l5._decor.active),Y.add(H)}}for(let[G,q]of this._placeholderDecorations)if(!Y.has(G))Q.changeDecorationOptions(q,G.isFinalTabstop?l5._decor.inactiveFinal:l5._decor.inactive);return Z});return!$?X!==null&&X!==void 0?X:[]:this.move(J)}_hasPlaceholderBeenCollapsed(J){let $=J;while($){if($ instanceof z5){const X=this._placeholderDecorations.get($);if(this._editor.getModel().getDecorationRange(X).isEmpty()&&$.toString().length>0)return!0}$=$.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[J]=this._snippet.placeholders;if(J.isFinalTabstop){if(this._snippet.rightMostDescendant===J)return!0}}return!1}computePossibleSelections(){const J=new Map;for(let $ of this._placeholderGroups){let X;for(let Q of $){if(Q.isFinalTabstop)break;if(!X)X=[],J.set(Q.index,X);const Y=this._placeholderDecorations.get(Q),Z=this._editor.getModel().getDecorationRange(Y);if(!Z){J.delete(Q.index);break}X.push(Z)}}return J}get activeChoice(){if(!this._placeholderDecorations)return;const J=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(J===null||J===void 0?void 0:J.choice))return;const $=this._placeholderDecorations.get(J);if(!$)return;const X=this._editor.getModel().getDecorationRange($);if(!X)return;return{range:X,choice:J.choice}}get hasChoice(){let J=!1;return this._snippet.walk(($)=>{return J=$ instanceof N2,!J}),J}merge(J){const $=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((X)=>{for(let Q of this._placeholderGroups[this._placeholderGroupsIdx]){const Y=J.shift();console.assert(Y._offset!==-1),console.assert(!Y._placeholderDecorations);const Z=Y._snippet.placeholderInfo.last.index;for(let q of Y._snippet.placeholderInfo.all)if(q.isFinalTabstop)q.index=Q.index+(Z+1)/this._nestingLevel;else q.index=Q.index+q.index/this._nestingLevel;this._snippet.replace(Q,Y._snippet.children);const G=this._placeholderDecorations.get(Q);X.removeDecoration(G),this._placeholderDecorations.delete(Q);for(let q of Y._snippet.placeholders){const U=Y._snippet.offset(q),H=Y._snippet.fullLen(q),z=L.fromPositions($.getPositionAt(Y._offset+U),$.getPositionAt(Y._offset+U+H)),V=X.addDecoration(z,l5._decor.inactive);this._placeholderDecorations.set(q,V)}}this._placeholderGroups=SR(this._snippet.placeholders,z5.compareByIndex)})}}l5._decor={active:I1.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:I1.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:I1.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:I1.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var qt={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},qR=v4=class J{static adjustWhitespace($,X,Q,Y,Z){const G=$.getLineContent(X.lineNumber),q=o8(G,0,X.column-1);let U;return Y.walk((H)=>{if(!(H instanceof c6)||H.parent instanceof N2)return!0;if(Z&&!Z.has(H))return!0;const z=H.value.split(/\r\n|\r|\n/);if(Q){const W=Y.offset(H);if(W===0)z[0]=$.normalizeIndentation(z[0]);else{U=U!==null&&U!==void 0?U:Y.toString();const B=U.charCodeAt(W-1);if(B===10||B===13)z[0]=$.normalizeIndentation(q+z[0])}for(let B=1;B<z.length;B++)z[B]=$.normalizeIndentation(q+z[B])}const V=z.join($.getEOL());if(V!==H.value)H.parent.replace(H,[new c6(V)]),U=void 0;return!0}),q}static adjustSelection($,X,Q,Y){if(Q!==0||Y!==0){const{positionLineNumber:Z,positionColumn:G}=X,q=G-Q,U=G+Y,H=$.validateRange({startLineNumber:Z,startColumn:q,endLineNumber:Z,endColumn:U});X=b0.createWithDirection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn,X.getDirection())}return X}static createEditsAndSnippetsFromSelections($,X,Q,Y,Z,G,q,U,H){const z=[],V=[];if(!$.hasModel())return{edits:z,snippets:V};const W=$.getModel(),B=$.invokeWithinContext((M)=>M.get(VV)),j=$.invokeWithinContext((M)=>new QR(M.get(UV),W)),K=()=>q,D=W.getValueInRange(v4.adjustSelection(W,$.getSelection(),Q,0)),A=W.getValueInRange(v4.adjustSelection(W,$.getSelection(),0,Y)),P=W.getLineFirstNonWhitespaceColumn($.getSelection().positionLineNumber),R=$.getSelections().map((M,T)=>({selection:M,idx:T})).sort((M,T)=>L.compareRangesUsingStarts(M.selection,T.selection));for(let{selection:M,idx:T}of R){let _=v4.adjustSelection(W,M,Q,0),w=v4.adjustSelection(W,M,0,Y);if(D!==W.getValueInRange(_))_=M;if(A!==W.getValueInRange(w))w=M;const x=M.setStartPosition(_.startLineNumber,_.startColumn).setEndPosition(w.endLineNumber,w.endColumn),C=new eY().parse(X,!0,Z),h=x.getStartPosition(),p=v4.adjustWhitespace(W,h,G||T>0&&P!==W.getLineFirstNonWhitespaceColumn(M.positionLineNumber),C);C.resolveVariables(new $R([j,new YR(K,T,R.length,$.getOption(78)==="spread"),new XR(W,M,T,U),new LW(W,M,H),new vJ,new ZR(B),new GR])),z[T]=m5.replace(x,C.toString()),z[T].identifier={major:T,minor:0},z[T]._isTracked=!0,V[T]=new l5($,C,p)}return{edits:z,snippets:V}}static createEditsAndSnippetsFromEdits($,X,Q,Y,Z,G,q){if(!$.hasModel()||X.length===0)return{edits:[],snippets:[]};const U=[],H=$.getModel(),z=new eY,V=new Y3,W=new $R([$.invokeWithinContext((j)=>new QR(j.get(UV),H)),new YR(()=>Z,0,$.getSelections().length,$.getOption(78)==="spread"),new XR(H,$.getSelection(),0,G),new LW(H,$.getSelection(),q),new vJ,new ZR($.invokeWithinContext((j)=>j.get(VV))),new GR]);X=X.sort((j,K)=>L.compareRangesUsingStarts(j.range,K.range));let B=0;for(let j=0;j<X.length;j++){const{range:K,template:D}=X[j];if(j>0){const T=X[j-1].range,_=L.fromPositions(T.getEndPosition(),K.getStartPosition()),w=new c6(H.getValueInRange(_));V.appendChild(w),B+=w.value.length}const A=z.parseFragment(D,V);v4.adjustWhitespace(H,K.getStartPosition(),!0,V,new Set(A)),V.resolveVariables(W);const P=V.toString(),R=P.slice(B);B=P.length;const M=m5.replace(K,R);M.identifier={major:j,minor:0},M._isTracked=!0,U.push(M)}return z.ensureFinalTabstop(V,Q,!0),{edits:U,snippets:[new l5($,V,"")]}}constructor($,X,Q=qt,Y){this._editor=$,this._template=X,this._options=Q,this._languageConfigurationService=Y,this._templateMerges=[],this._snippets=[]}dispose(){w1(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:$,snippets:X}=typeof this._template==="string"?v4.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):v4.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=X,this._editor.executeEdits("snippet",$,(Q)=>{const Y=Q.filter((Z)=>!!Z.identifier);for(let Z=0;Z<X.length;Z++)X[Z].initialize(Y[Z].textChange);if(this._snippets[0].hasPlaceholder)return this._move(!0);else return Y.map((Z)=>b0.fromPositions(Z.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge($,X=qt){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,$]);const{edits:Q,snippets:Y}=v4.createEditsAndSnippetsFromSelections(this._editor,$,X.overwriteBefore,X.overwriteAfter,!0,X.adjustWhitespace,X.clipboardText,X.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",Q,(Z)=>{const G=Z.filter((U)=>!!U.identifier);for(let U=0;U<Y.length;U++)Y[U].initialize(G[U].textChange);const q=Y[0].isTrivialSnippet;if(!q){for(let U of this._snippets)U.merge(Y);console.assert(Y.length===0)}if(this._snippets[0].hasPlaceholder&&!q)return this._move(void 0);else return G.map((U)=>b0.fromPositions(U.range.getEndPosition()))})}next(){const $=this._move(!0);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}prev(){const $=this._move(!1);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}_move($){const X=[];for(let Q of this._snippets){const Y=Q.move($);X.push(...Y)}return X}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const $=this._editor.getSelections();if($.length<this._snippets.length)return!1;const X=new Map;for(let Q of this._snippets){const Y=Q.computePossibleSelections();if(X.size===0)for(let[Z,G]of Y){G.sort(L.compareRangesUsingStarts);for(let q of $)if(G[0].containsRange(q)){X.set(Z,[]);break}}if(X.size===0)return!1;X.forEach((Z,G)=>{Z.push(...Y.get(G))})}$.sort(L.compareRangesUsingStarts);for(let[Q,Y]of X){if(Y.length!==$.length){X.delete(Q);continue}Y.sort(L.compareRangesUsingStarts);for(let Z=0;Z<Y.length;Z++)if(!Y[Z].containsRange($[Z])){X.delete(Q);continue}}return X.size>0}};qR=v4=AQ0([PQ0(3,N8)],qR);var DQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},UR=function(J,$){return function(X,Q){$(X,Q,J)}},U3,Ut={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},b7=U3=class J{static get($){return $.getContribution(U3.ID)}constructor($,X,Q,Y,Z){this._editor=$,this._logService=X,this._languageFeaturesService=Q,this._languageConfigurationService=Z,this._snippetListener=new e,this._modelVersionId=-1,this._inSnippet=U3.InSnippetMode.bindTo(Y),this._hasNextTabstop=U3.HasNextTabstop.bindTo(Y),this._hasPrevTabstop=U3.HasPrevTabstop.bindTo(Y)}dispose(){var $;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),($=this._session)===null||$===void 0||$.dispose(),this._snippetListener.dispose()}insert($,X){try{this._doInsert($,typeof X==="undefined"?Ut:Object.assign(Object.assign({},Ut),X))}catch(Q){this.cancel(),this._logService.error(Q),this._logService.error("snippet_error"),this._logService.error("insert_template=",$),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert($,X){var Q;if(!this._editor.hasModel())return;if(this._snippetListener.clear(),X.undoStopBefore)this._editor.getModel().pushStackElement();if(this._session&&typeof $!=="string")this.cancel();if(!this._session)this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new qR(this._editor,$,X,this._languageConfigurationService),this._session.insert();else w7(typeof $==="string"),this._session.merge($,X);if(X.undoStopAfter)this._editor.getModel().pushStackElement();if((Q=this._session)===null||Q===void 0?void 0:Q.hasChoice){const Y={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(z,V)=>{if(!this._session||z!==this._editor.getModel()||!b.equals(this._editor.getPosition(),V))return;const{activeChoice:W}=this._session;if(!W||W.choice.options.length===0)return;const B=z.getValueInRange(W.range),j=Boolean(W.choice.options.find((D)=>D.value===B)),K=[];for(let D=0;D<W.choice.options.length;D++){const A=W.choice.options[D];K.push({kind:13,label:A.value,insertText:A.value,sortText:"a".repeat(D+1),range:W.range,filterText:j?`${B}_${A.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:F("next","Go to next placeholder...")}})}return{suggestions:K}}},Z=this._editor.getModel();let G,q=!1;const U=()=>{G===null||G===void 0||G.dispose(),q=!1},H=()=>{if(!q)G=this._languageFeaturesService.completionProvider.register({language:Z.getLanguageId(),pattern:Z.uri.fsPath,scheme:Z.uri.scheme,exclusive:!0},Y),this._snippetListener.add(G),q=!0};this._choiceCompletions={provider:Y,enable:H,disable:U}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((Y)=>Y.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}_updateState(){if(!this._session||!this._editor.hasModel())return;if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}_handleChoice(){var $;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:X}=this._session;if(!X||!this._choiceCompletions){($=this._choiceCompletions)===null||$===void 0||$.disable(),this._currentChoice=void 0;return}if(this._currentChoice!==X.choice)this._currentChoice=X.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{Zt(this._editor,this._choiceCompletions.provider)})}finish(){while(this._inSnippet.get())this.next()}cancel($=!1){var X;if(this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(X=this._session)===null||X===void 0||X.dispose(),this._session=void 0,this._modelVersionId=-1,$)this._editor.setSelections([this._editor.getSelection()])}prev(){var $;($=this._session)===null||$===void 0||$.prev(),this._updateState()}next(){var $;($=this._session)===null||$===void 0||$.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};b7.ID="snippetController2";b7.InSnippetMode=new V0("inSnippetMode",!1,F("inSnippetMode","Whether the editor in current in snippet mode"));b7.HasNextTabstop=new V0("hasNextTabstop",!1,F("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));b7.HasPrevTabstop=new V0("hasPrevTabstop",!1,F("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));b7=U3=DQ0([UR(1,F7),UR(2,q1),UR(3,p0),UR(4,N8)],b7);w5(b7.ID,b7,4);var HR=k9.bindToContribution(b7.get);T0(new HR({id:"jumpToNextSnippetPlaceholder",precondition:M0.and(b7.InSnippetMode,b7.HasNextTabstop),handler:(J)=>J.next(),kbOpts:{weight:130,kbExpr:t.editorTextFocus,primary:2}}));T0(new HR({id:"jumpToPrevSnippetPlaceholder",precondition:M0.and(b7.InSnippetMode,b7.HasPrevTabstop),handler:(J)=>J.prev(),kbOpts:{weight:130,kbExpr:t.editorTextFocus,primary:1024|2}}));T0(new HR({id:"leaveSnippet",precondition:b7.InSnippetMode,handler:(J)=>J.cancel(!0),kbOpts:{weight:130,kbExpr:t.editorTextFocus,primary:9,secondary:[1024|9]}}));T0(new HR({id:"acceptSnippet",precondition:b7.InSnippetMode,handler:(J)=>J.finish()}));f1();$0();G4();dA();P6();y9();FJ();e0();yU();var RQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Ht=function(J,$){return function(X,Q){$(X,Q,J)}},IW;class zR{constructor(J){this.name=J}select(J,$,X){if(X.length===0)return 0;const Q=X[0].score[0];for(let Y=0;Y<X.length;Y++){const{score:Z,completion:G}=X[Y];if(Z[0]!==Q)break;if(G.preselect)return Y}return 0}}class Ey extends zR{constructor(){super("first")}memorize(J,$,X){}toJSON(){return}fromJSON(){}}class zt extends zR{constructor(){super("recentlyUsed");this._cache=new TX(300,0.66),this._seq=0}memorize(J,$,X){const Q=`${J.getLanguageId()}/${X.textLabel}`;this._cache.set(Q,{touch:this._seq++,type:X.completion.kind,insertText:X.completion.insertText})}select(J,$,X){if(X.length===0)return 0;const Q=J.getLineContent($.lineNumber).substr($.column-10,$.column-1);if(/\s$/.test(Q))return super.select(J,$,X);const Y=X[0].score[0];let Z=-1,G=-1,q=-1;for(let U=0;U<X.length;U++){if(X[U].score[0]!==Y)break;const H=`${J.getLanguageId()}/${X[U].textLabel}`,z=this._cache.peek(H);if(z&&z.touch>q&&z.type===X[U].completion.kind&&z.insertText===X[U].completion.insertText)q=z.touch,G=U;if(X[U].completion.preselect&&Z===-1)return Z=U}if(G!==-1)return G;else if(Z!==-1)return Z;else return 0}toJSON(){return this._cache.toJSON()}fromJSON(J){this._cache.clear();const $=0;for(let[X,Q]of J)Q.touch=$,Q.type=typeof Q.type==="number"?Q.type:wZ.fromString(Q.type),this._cache.set(X,Q);this._seq=this._cache.size}}class Vt extends zR{constructor(){super("recentlyUsedByPrefix");this._trie=ZQ.forStrings(),this._seq=0}memorize(J,$,X){const{word:Q}=J.getWordUntilPosition($),Y=`${J.getLanguageId()}/${Q}`;this._trie.set(Y,{type:X.completion.kind,insertText:X.completion.insertText,touch:this._seq++})}select(J,$,X){const{word:Q}=J.getWordUntilPosition($);if(!Q)return super.select(J,$,X);const Y=`${J.getLanguageId()}/${Q}`;let Z=this._trie.get(Y);if(!Z)Z=this._trie.findSubstr(Y);if(Z)for(let G=0;G<X.length;G++){const{kind:q,insertText:U}=X[G].completion;if(q===Z.type&&U===Z.insertText)return G}return super.select(J,$,X)}toJSON(){const J=[];return this._trie.forEach(($,X)=>J.push([X,$])),J.sort(($,X)=>-($[1].touch-X[1].touch)).forEach(($,X)=>$[1].touch=X),J.slice(0,200)}fromJSON(J){if(this._trie.clear(),J.length>0){this._seq=J[0][1].touch+1;for(let[$,X]of J)X.type=typeof X.type==="number"?X.type:wZ.fromString(X.type),this._trie.set($,X)}}}var kW=IW=class J{constructor($,X){this._storageService=$,this._configService=X,this._disposables=new e,this._persistSoon=new Q8(()=>this._saveState(),500),this._disposables.add($.onWillSaveState((Q)=>{if(Q.reason===DP.SHUTDOWN)this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize($,X,Q){this._withStrategy($,X).memorize($,X,Q),this._persistSoon.schedule()}select($,X,Q){return this._withStrategy($,X).select($,X,Q)}_withStrategy($,X){var Q;const Y=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:$.getLanguageIdAtPosition(X.lineNumber,X.column),resource:$.uri});if(((Q=this._strategy)===null||Q===void 0?void 0:Q.name)!==Y){this._saveState();const Z=IW._strategyCtors.get(Y)||Ey;this._strategy=new Z;try{const q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,U=this._storageService.get(`${IW._storagePrefix}/${Y}`,q);if(U)this._strategy.fromJSON(JSON.parse(U))}catch(G){}}return this._strategy}_saveState(){if(this._strategy){const X=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Q=JSON.stringify(this._strategy);this._storageService.store(`${IW._storagePrefix}/${this._strategy.name}`,Q,X,1)}}};kW._strategyCtors=new Map([["recentlyUsedByPrefix",Vt],["recentlyUsed",zt],["first",Ey]]);kW._storagePrefix="suggest/memories";kW=IW=RQ0([Ht(0,N4),Ht(1,u1)],kW);var yy=O0("ISuggestMemories");F1(yy,kW,1);s1();var MQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},OQ0=function(J,$){return function(X,Q){$(X,Q,J)}},Sy,H3=Sy=class J{constructor($,X){this._editor=$,this._enabled=!1,this._ckAtEnd=Sy.AtEnd.bindTo(X),this._configListener=this._editor.onDidChangeConfiguration((Q)=>Q.hasChanged(122)&&this._update()),this._update()}dispose(){var $;this._configListener.dispose(),($=this._selectionListener)===null||$===void 0||$.dispose(),this._ckAtEnd.reset()}_update(){const $=this._editor.getOption(122)==="on";if(this._enabled===$)return;if(this._enabled=$,this._enabled){const X=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Q=this._editor.getModel(),Y=this._editor.getSelection(),Z=Q.getWordAtPosition(Y.getStartPosition());if(!Z){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Z.endColumn===Y.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(X),X()}else if(this._selectionListener)this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0}};H3.AtEnd=new V0("atEndOfWord",!1);H3=Sy=MQ0([OQ0(1,p0)],H3);m0();n6();s1();e0();M5();s1();var NQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},TQ0=function(J,$){return function(X,Q){$(X,Q,J)}},EW,JZ=EW=class J{constructor($,X){this._editor=$,this._index=0,this._ckOtherSuggestions=EW.OtherSuggestions.bindTo(X)}dispose(){this.reset()}reset(){var $;this._ckOtherSuggestions.reset(),($=this._listener)===null||$===void 0||$.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:$,index:X},Q){if($.items.length===0){this.reset();return}if(EW._moveIndex(!0,$,X)===X){this.reset();return}this._acceptNext=Q,this._model=$,this._index=X,this._listener=this._editor.onDidChangeCursorPosition(()=>{if(!this._ignore)this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex($,X,Q){let Y=Q;for(let Z=X.items.length;Z>0;Z--){if(Y=(Y+X.items.length+($?1:-1))%X.items.length,Y===Q)break;if(!X.items[Y].completion.additionalTextEdits)break}return Y}next(){this._move(!0)}prev(){this._move(!1)}_move($){if(!this._model)return;try{this._ignore=!0,this._index=EW._moveIndex($,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};JZ.OtherSuggestions=new V0("hasOtherSuggestions",!1);JZ=EW=NQ0([TQ0(1,p0)],JZ);V1();$0();Zq();class Cy{constructor(J,$,X,Q){this._disposables=new e,this._disposables.add(X.onDidSuggest((Y)=>{if(Y.completionModel.items.length===0)this.reset()})),this._disposables.add(X.onDidCancel((Y)=>{this.reset()})),this._disposables.add($.onDidShow(()=>this._onItem($.getFocusedItem()))),this._disposables.add($.onDidFocus(this._onItem,this)),this._disposables.add($.onDidHide(this.reset,this)),this._disposables.add(J.onWillType((Y)=>{if(this._active&&!$.isFrozen()&&X.state!==0){const Z=Y.charCodeAt(Y.length-1);if(this._active.acceptCharacters.has(Z)&&J.getOption(0))Q(this._active.item)}}))}_onItem(J){if(!J||!F5(J.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===J.item)return;const $=new MH;for(let X of J.item.completion.commitCharacters)if(X.length>0)$.add(X.charCodeAt(0));this._active={acceptCharacters:$,item:J}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}f1();v7();A1();A0();$0();l0();f7();bU();V1();u0();P5();W1();u0();var _Q0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};class V5{provideSelectionRanges(J,$){return _Q0(this,void 0,void 0,function*(){const X=[];for(let Q of $){const Y=[];X.push(Y);const Z=new Map;yield new Promise((G)=>V5._bracketsRightYield(G,0,J,Q,Z)),yield new Promise((G)=>V5._bracketsLeftYield(G,0,J,Q,Z,Y))}return X})}static _bracketsRightYield(J,$,X,Q,Y){const Z=new Map,G=Date.now();while(!0){if($>=V5._maxRounds){J();break}if(!Q){J();break}const q=X.bracketPairs.findNextBracket(Q);if(!q){J();break}if(Date.now()-G>V5._maxDuration){setTimeout(()=>V5._bracketsRightYield(J,$+1,X,Q,Y));break}if(q.bracketInfo.isOpeningBracket){const H=q.bracketInfo.bracketText,z=Z.has(H)?Z.get(H):0;Z.set(H,z+1)}else{const H=q.bracketInfo.getOpeningBrackets()[0].bracketText;let z=Z.has(H)?Z.get(H):0;if(z-=1,Z.set(H,Math.max(0,z)),z<0){let V=Y.get(H);if(!V)V=new I8,Y.set(H,V);V.push(q.range)}}Q=q.range.getEndPosition()}}static _bracketsLeftYield(J,$,X,Q,Y,Z){const G=new Map,q=Date.now();while(!0){if($>=V5._maxRounds&&Y.size===0){J();break}if(!Q){J();break}const U=X.bracketPairs.findPrevBracket(Q);if(!U){J();break}if(Date.now()-q>V5._maxDuration){setTimeout(()=>V5._bracketsLeftYield(J,$+1,X,Q,Y,Z));break}if(!U.bracketInfo.isOpeningBracket){const z=U.bracketInfo.getOpeningBrackets()[0].bracketText,V=G.has(z)?G.get(z):0;G.set(z,V+1)}else{const z=U.bracketInfo.bracketText;let V=G.has(z)?G.get(z):0;if(V-=1,G.set(z,Math.max(0,V)),V<0){const W=Y.get(z);if(W){const B=W.shift();if(W.size===0)Y.delete(z);const j=L.fromPositions(U.range.getEndPosition(),B.getStartPosition()),K=L.fromPositions(U.range.getStartPosition(),B.getEndPosition());Z.push({range:j}),Z.push({range:K}),V5._addBracketLeading(X,K,Z)}}}Q=U.range.getStartPosition()}}static _addBracketLeading(J,$,X){if($.startLineNumber===$.endLineNumber)return;const Q=$.startLineNumber,Y=J.getLineFirstNonWhitespaceColumn(Q);if(Y!==0&&Y!==$.startColumn)X.push({range:L.fromPositions(new b(Q,Y),$.getEndPosition())}),X.push({range:L.fromPositions(new b(Q,1),$.getEndPosition())});const Z=Q-1;if(Z>0){const G=J.getLineFirstNonWhitespaceColumn(Z);if(G===$.startColumn&&G!==J.getLineLastNonWhitespaceColumn(Z))X.push({range:L.fromPositions(new b(Z,G),$.getEndPosition())}),X.push({range:L.fromPositions(new b(Z,1),$.getEndPosition())})}}}V5._maxDuration=30;V5._maxRounds=2;var wQ0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})};class f4{static create(J,$){return wQ0(this,void 0,void 0,function*(){if(!$.getOption(117).localityBonus)return f4.None;if(!$.hasModel())return f4.None;const X=$.getModel(),Q=$.getPosition();if(!J.canComputeWordRanges(X.uri))return f4.None;const[Y]=yield new V5().provideSelectionRanges(X,[Q]);if(Y.length===0)return f4.None;const Z=yield J.computeWordRanges(X.uri,Y[0].range);if(!Z)return f4.None;const G=X.getWordUntilPosition(Q);return delete Z[G.word],new class extends f4{distance(q,U){if(!Q.equals($.getPosition()))return 0;if(U.kind===17)return 2<<20;const H=typeof U.label==="string"?U.label:U.label.label,z=Z[H];if(QB(z))return 2<<20;const V=JB(z,L.fromPositions(q),L.compareRangesUsingStarts),W=V>=0?z[V]:z[Math.max(0,~V-1)];let B=Y.length;for(let j of Y){if(!L.containsRange(j.range,W))break;B-=1}return B}}})}}f4.None=new class extends f4{distance(){return 0}};eV();y9();s1();M5();hZ();V1();xY();l0();class $Z{constructor(J,$,X,Q,Y,Z,G=lG.default,q=void 0){if(this.clipboardText=q,this._snippetCompareFn=$Z._compareCompletionItems,this._items=J,this._column=$,this._wordDistance=Q,this._options=Y,this._refilterKind=1,this._lineContext=X,this._fuzzyScoreOptions=G,Z==="top")this._snippetCompareFn=$Z._compareCompletionItemsSnippetsUp;else if(Z==="bottom")this._snippetCompareFn=$Z._compareCompletionItemsSnippetsDown}get lineContext(){return this._lineContext}set lineContext(J){if(this._lineContext.leadingLineContent!==J.leadingLineContent||this._lineContext.characterCountDelta!==J.characterCountDelta)this._refilterKind=this._lineContext.characterCountDelta<J.characterCountDelta&&this._filteredItems?2:1,this._lineContext=J}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const J=new Set;for(let[$,X]of this.getItemsByProvider())if(X.length>0&&X[0].container.incomplete)J.add($);return J}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){if(this._refilterKind!==0)this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const J=[],{leadingLineContent:$,characterCountDelta:X}=this._lineContext;let Q="",Y="";const Z=this._refilterKind===1?this._items:this._filteredItems,G=[],q=!this._options.filterGraceful||Z.length>2000?CY:Cd;for(let U=0;U<Z.length;U++){const H=Z[U];if(H.isInvalid)continue;const z=this._itemsByProvider.get(H.provider);if(z)z.push(H);else this._itemsByProvider.set(H.provider,[H]);const V=H.position.column-H.editStart.column,W=V+X-(H.position.column-this._column);if(Q.length!==W)Q=W===0?"":$.slice(-W),Y=Q.toLowerCase();if(H.word=Q,W===0)H.score=kJ.Default;else{let B=0;while(B<V){const j=Q.charCodeAt(B);if(j===32||j===9)B+=1;else break}if(B>=W)H.score=kJ.Default;else if(typeof H.completion.filterText==="string"){const j=q(Q,Y,B,H.completion.filterText,H.filterTextLow,0,this._fuzzyScoreOptions);if(!j)continue;if(g3(H.completion.filterText,H.textLabel)===0)H.score=j;else H.score=Ed(Q,Y,B,H.textLabel,H.labelLow,0),H.score[0]=j[0]}else{const j=q(Q,Y,B,H.textLabel,H.labelLow,0,this._fuzzyScoreOptions);if(!j)continue;H.score=j}}H.idx=U,H.distance=this._wordDistance.distance(H.position,H.completion),G.push(H),J.push(H.textLabel.length)}this._filteredItems=G.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:J.length?eW(J.length-0.85,J,(U,H)=>U-H):0}}static _compareCompletionItems(J,$){if(J.score[0]>$.score[0])return-1;else if(J.score[0]<$.score[0])return 1;else if(J.distance<$.distance)return-1;else if(J.distance>$.distance)return 1;else if(J.idx<$.idx)return-1;else if(J.idx>$.idx)return 1;else return 0}static _compareCompletionItemsSnippetsDown(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return $Z._compareCompletionItems(J,$)}static _compareCompletionItemsSnippetsUp(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return $Z._compareCompletionItems(J,$)}}Y5();xY();j8();H5();l0();_J();s1();$0();m0();class d5 extends f{constructor(J,$){super();this.contextKeyService=J,this.model=$,this.inlineCompletionVisible=d5.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=d5.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=d5.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=d5.suppressSuggestions.bindTo(this.contextKeyService),this._register(c1((X)=>{const Q=this.model.read(X),Y=Q===null||Q===void 0?void 0:Q.state.read(X),Z=!!(Y===null||Y===void 0?void 0:Y.inlineCompletion)&&(Y===null||Y===void 0?void 0:Y.ghostText)!==void 0&&!(Y===null||Y===void 0?void 0:Y.ghostText.isEmpty());if(this.inlineCompletionVisible.set(Z),(Y===null||Y===void 0?void 0:Y.ghostText)&&(Y===null||Y===void 0?void 0:Y.inlineCompletion))this.suppressSuggestions.set(Y.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(c1((X)=>{const Q=this.model.read(X);let Y=!1,Z=!0;const G=Q===null||Q===void 0?void 0:Q.ghostText.read(X);if(!!(Q===null||Q===void 0?void 0:Q.selectedSuggestItem)&&G&&G.parts.length>0){const{column:q,lines:U}=G.parts[0],H=U[0],z=Q.textModel.getLineIndentColumn(G.lineNumber);if(q<=z){let W=k8(H);if(W===-1)W=H.length-1;Y=W>0;const B=Q.textModel.getOptions().tabSize;Z=t1.visibleColumnFromColumn(H,W+1,B)<B}}this.inlineCompletionSuggestsIndentation.set(Y),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(Z)}))}}d5.inlineSuggestionVisible=new V0("inlineSuggestionVisible",!1,F("inlineSuggestionVisible","Whether an inline suggestion is visible"));d5.inlineSuggestionHasIndentation=new V0("inlineSuggestionHasIndentation",!1,F("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));d5.inlineSuggestionHasIndentationLessThanTabSize=new V0("inlineSuggestionHasIndentationLessThanTabSize",!0,F("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));d5.suppressSuggestions=new V0("inlineSuggestionSuppressSuggestions",void 0,F("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));xA();var kQ0=function(J,$,X){if(!Boolean($.getContextKeyValue(d5.inlineSuggestionVisible.key)))return!0;const Q=$.getContextKeyValue(d5.suppressSuggestions.key);if(Q!==void 0)return!Q;return!J.getOption(62).suppressSuggestions},EQ0=function(J,$,X){if(!Boolean($.getContextKeyValue("inlineSuggestionVisible")))return!0;const Q=$.getContextKeyValue(d5.suppressSuggestions.key);if(Q!==void 0)return!Q;return!J.getOption(62).suppressSuggestions},LQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},XZ=function(J,$){return function(X,Q){$(X,Q,J)}},IQ0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},xy;class QZ{static shouldAutoTrigger(J){if(!J.hasModel())return!1;const $=J.getModel(),X=J.getPosition();$.tokenization.tokenizeIfCheap(X.lineNumber);const Q=$.getWordAtPosition(X);if(!Q)return!1;if(Q.endColumn!==X.column&&Q.startColumn+1!==X.column)return!1;if(!isNaN(Number(Q.word)))return!1;return!0}constructor(J,$,X){this.leadingLineContent=J.getLineContent($.lineNumber).substr(0,$.column-1),this.leadingWord=J.getWordUntilPosition($),this.lineNumber=$.lineNumber,this.column=$.column,this.triggerOptions=X}}var VR=xy=class J{constructor($,X,Q,Y,Z,G,q,U,H){this._editor=$,this._editorWorkerService=X,this._clipboardService=Q,this._telemetryService=Y,this._logService=Z,this._contextKeyService=G,this._configurationService=q,this._languageFeaturesService=U,this._envService=H,this._toDispose=new e,this._triggerCharacterListener=new e,this._triggerQuickSuggest=new M6,this._triggerState=void 0,this._completionDisposables=new e,this._onDidCancel=new E,this._onDidTrigger=new E,this._onDidSuggest=new E,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new b0(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let z=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{z=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{z=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection((V)=>{if(!z)this._onCursorChange(V)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{if(!z&&this._triggerState!==void 0)this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){w1(this._triggerCharacterListener),w1([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const $=new Map;for(let Q of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let Y of Q.triggerCharacters||[]){let Z=$.get(Y);if(!Z)Z=new Set,Z.add(Qt()),$.set(Y,Z);Z.add(Q)}const X=(Q)=>{var Y;if(!EQ0(this._editor,this._contextKeyService,this._configurationService))return;if(QZ.shouldAutoTrigger(this._editor))return;if(!Q){const q=this._editor.getPosition();Q=this._editor.getModel().getLineContent(q.lineNumber).substr(0,q.column-1)}let Z="";if(o4(Q.charCodeAt(Q.length-1))){if(U8(Q.charCodeAt(Q.length-2)))Z=Q.substr(Q.length-2)}else Z=Q.charAt(Q.length-1);const G=$.get(Z);if(G){const q=new Map;if(this._completionModel){for(let[U,H]of this._completionModel.getItemsByProvider())if(!G.has(U))q.set(U,H)}this.trigger({auto:!0,triggerKind:1,triggerCharacter:Z,retrigger:Boolean(this._completionModel),clipboardText:(Y=this._completionModel)===null||Y===void 0?void 0:Y.clipboardText,completionOptions:{providerFilter:G,providerItemsToReuse:q}})}};this._triggerCharacterListener.add(this._editor.onDidType(X)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>X()))}get state(){if(!this._triggerState)return 0;else if(!this._triggerState.auto)return 1;else return 2}cancel($=!1){var X;if(this._triggerState!==void 0)this._triggerQuickSuggest.cancel(),(X=this._requestToken)===null||X===void 0||X.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:$})}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){if(this._triggerState!==void 0)if(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel()))this.cancel();else this.trigger({auto:this._triggerState.auto,retrigger:!0})}_onCursorChange($){if(!this._editor.hasModel())return;const X=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!$.selection.isEmpty()||$.reason!==0&&$.reason!==3||$.source!=="keyboard"&&$.source!=="deleteLeft"){this.cancel();return}if(this._triggerState===void 0&&$.reason===0){if(X.containsRange(this._currentSelection)||X.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))this._doTriggerQuickSuggest()}else if(this._triggerState!==void 0&&$.reason===3)this._refilterCompletionItems()}_onCompositionEnd(){if(this._triggerState===void 0)this._doTriggerQuickSuggest();else this._refilterCompletionItems()}_doTriggerQuickSuggest(){var $;if(q3.isAllOff(this._editor.getOption(88)))return;if(this._editor.getOption(117).snippetsPreventQuickSuggestions&&(($=b7.get(this._editor))===null||$===void 0?void 0:$.isInSnippet()))return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0)return;if(!QZ.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const X=this._editor.getModel(),Q=this._editor.getPosition(),Y=this._editor.getOption(88);if(q3.isAllOff(Y))return;if(!q3.isAllOn(Y)){X.tokenization.tokenizeIfCheap(Q.lineNumber);const Z=X.tokenization.getLineTokens(Q.lineNumber),G=Z.getStandardTokenType(Z.findTokenIndexAtOffset(Math.max(Q.column-1-1,0)));if(q3.valueFor(Y,G)!=="on")return}if(!kQ0(this._editor,this._contextKeyService,this._configurationService))return;if(!this._languageFeaturesService.completionProvider.has(X))return;this.trigger({auto:!0})},this._editor.getOption(89))}_refilterCompletionItems(){w7(this._editor.hasModel()),w7(this._triggerState!==void 0);const $=this._editor.getModel(),X=this._editor.getPosition(),Q=new QZ($,X,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(Q)}trigger($){var X,Q,Y,Z,G,q;if(!this._editor.hasModel())return;const U=this._editor.getModel(),H=new QZ(U,this._editor.getPosition(),$);this.cancel($.retrigger),this._triggerState=$,this._onDidTrigger.fire({auto:$.auto,shy:(X=$.shy)!==null&&X!==void 0?X:!1,position:this._editor.getPosition()}),this._context=H;let z={triggerKind:(Q=$.triggerKind)!==null&&Q!==void 0?Q:0};if($.triggerCharacter)z={triggerKind:1,triggerCharacter:$.triggerCharacter};this._requestToken=new u8;const V=this._editor.getOption(111);let W=1;switch(V){case"top":W=0;break;case"bottom":W=2;break}const{itemKind:B,showDeprecated:j}=xy._createSuggestFilter(this._editor),K=new G3(W,(Z=(Y=$.completionOptions)===null||Y===void 0?void 0:Y.kindFilter)!==null&&Z!==void 0?Z:B,(G=$.completionOptions)===null||G===void 0?void 0:G.providerFilter,(q=$.completionOptions)===null||q===void 0?void 0:q.providerItemsToReuse,j),D=f4.create(this._editorWorkerService,this._editor),A=Ly(this._languageFeaturesService.completionProvider,U,this._editor.getPosition(),K,z,this._requestToken.token);Promise.all([A,D]).then(([P,R])=>IQ0(this,void 0,void 0,function*(){var M;if((M=this._requestToken)===null||M===void 0||M.dispose(),!this._editor.hasModel())return;let T=$===null||$===void 0?void 0:$.clipboardText;if(!T&&P.needsClipboard)T=yield this._clipboardService.readText();if(this._triggerState===void 0)return;const _=this._editor.getModel(),w=new QZ(_,this._editor.getPosition(),$),x=Object.assign(Object.assign({},lG.default),{firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly});if(this._completionModel=new $Z(P.items,this._context.column,{leadingLineContent:w.leadingLineContent,characterCountDelta:w.column-this._context.column},R,this._editor.getOption(117),this._editor.getOption(111),x,T),this._completionDisposables.add(P.disposable),this._onNewContext(w),this._reportDurationsTelemetry(P.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment){for(let C of P.items)if(C.isInvalid)this._logService.warn(`[suggest] did IGNORE invalid completion item from ${C.provider._debugDisplayName}`,C.completion)}})).catch(a0)}_reportDurationsTelemetry($){if(this._telemetryGate++%230!==0)return;setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify($)}),this._logService.debug("suggest.durations.json",$)})}static _createSuggestFilter($){const X=new Set;if($.getOption(111)==="none")X.add(27);const Y=$.getOption(117);if(!Y.showMethods)X.add(0);if(!Y.showFunctions)X.add(1);if(!Y.showConstructors)X.add(2);if(!Y.showFields)X.add(3);if(!Y.showVariables)X.add(4);if(!Y.showClasses)X.add(5);if(!Y.showStructs)X.add(6);if(!Y.showInterfaces)X.add(7);if(!Y.showModules)X.add(8);if(!Y.showProperties)X.add(9);if(!Y.showEvents)X.add(10);if(!Y.showOperators)X.add(11);if(!Y.showUnits)X.add(12);if(!Y.showValues)X.add(13);if(!Y.showConstants)X.add(14);if(!Y.showEnums)X.add(15);if(!Y.showEnumMembers)X.add(16);if(!Y.showKeywords)X.add(17);if(!Y.showWords)X.add(18);if(!Y.showColors)X.add(19);if(!Y.showFiles)X.add(20);if(!Y.showReferences)X.add(21);if(!Y.showColors)X.add(22);if(!Y.showFolders)X.add(23);if(!Y.showTypeParameters)X.add(24);if(!Y.showSnippets)X.add(27);if(!Y.showUsers)X.add(25);if(!Y.showIssues)X.add(26);return{itemKind:X,showDeprecated:Y.showDeprecated}}_onNewContext($){if(!this._context)return;if($.lineNumber!==this._context.lineNumber){this.cancel();return}if(o8($.leadingLineContent)!==o8(this._context.leadingLineContent)){this.cancel();return}if($.column<this._context.column){if($.leadingWord.word)this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});else this.cancel();return}if(!this._completionModel)return;if($.leadingWord.word.length!==0&&$.leadingWord.startColumn>this._context.leadingWord.startColumn){if(QZ.shouldAutoTrigger(this._editor)&&this._context){const Q=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Q}})}return}if($.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&$.leadingWord.word.length!==0){const X=new Map,Q=new Set;for(let[Y,Z]of this._completionModel.getItemsByProvider())if(Z.length>0&&Z[0].container.incomplete)Q.add(Y);else X.set(Y,Z);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Q,providerItemsToReuse:X}})}else{const X=this._completionModel.lineContext;let Q=!1;if(this._completionModel.lineContext={leadingLineContent:$.leadingLineContent,characterCountDelta:$.column-this._context.column},this._completionModel.items.length===0){const Y=QZ.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Y&&this._context.leadingWord.endColumn<$.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(!this._context.triggerOptions.auto){if(this._completionModel.lineContext=X,Q=this._completionModel.items.length>0,Q&&$.leadingWord.word.length===0){this.cancel();return}}else{this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:$.triggerOptions,isFrozen:Q})}}};VR=xy=LQ0([XZ(1,U5),XZ(2,lY),XZ(3,e9),XZ(4,F7),XZ(5,p0),XZ(6,u1),XZ(7,q1),XZ(8,FU)],VR);$0();class yW{constructor(J,$){this._disposables=new e,this._lastOvertyped=[],this._locked=!1,this._disposables.add(J.onWillType(()=>{if(this._locked||!J.hasModel())return;const X=J.getSelections(),Q=X.length;let Y=!1;for(let G=0;G<Q;G++)if(!X[G].isEmpty()){Y=!0;break}if(!Y){if(this._lastOvertyped.length!==0)this._lastOvertyped.length=0;return}this._lastOvertyped=[];const Z=J.getModel();for(let G=0;G<Q;G++){const q=X[G];if(Z.getValueLengthInRange(q)>yW._maxSelectionLength)return;this._lastOvertyped[G]={value:Z.getValueInRange(q),multiline:q.startLineNumber!==q.endLineNumber}}})),this._disposables.add($.onDidTrigger((X)=>{this._locked=!0})),this._disposables.add($.onDidCancel((X)=>{this._locked=!1}))}getLastOvertypedInfo(J){if(J>=0&&J<this._lastOvertyped.length)return this._lastOvertyped[J];return}dispose(){this._disposables.dispose()}}yW._maxSelectionLength=51200;y0();nG();f1();A1();A0();$0();jU();l0();j1();F0(".monaco-editor .suggest-widget{z-index:40;border-radius:3px;flex-direction:column;width:430px;display:flex}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-widget,.monaco-editor .suggest-details{border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background);flex:0 auto;width:100%}.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-light .suggest-widget,.monaco-editor.hc-light .suggest-details{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;border-top:1px solid var(--vscode-editorSuggestWidget-border);flex-flow:row;justify-content:space-between;width:100%;padding:0 4px;font-size:80%;display:none;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:\", \";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{width:100%;height:100%}.monaco-editor .suggest-widget .monaco-list{-webkit-user-select:none;user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{-mox-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;cursor:pointer;touch-action:none;background-position:2px 2px;background-repeat:no-repeat;padding-right:10px;display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;padding-left:2px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{text-overflow:ellipsis;white-space:pre;justify-content:space-between;display:flex;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;cursor:pointer;font-size:14px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{text-overflow:ellipsis;opacity:.6;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{opacity:.4;font-size:85%;line-height:initial;text-overflow:ellipsis;align-self:center;margin-left:12px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{text-overflow:ellipsis;white-space:nowrap;margin-left:1.1em;font-size:85%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-grow:1;flex-shrink:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{flex-shrink:4;max-width:70%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{visibility:hidden;width:18px;height:18px;display:inline-block;position:absolute;right:10px}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{background-position:50%;background-repeat:no-repeat;background-size:80%;width:16px;height:16px;margin-left:2px;display:block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{align-items:center;margin-right:4px;display:flex}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{border:.1em solid #000;width:.7em;height:.7em;margin:0 0 0 .3em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{cursor:default;color:var(--vscode-editorSuggestWidget-foreground);flex-direction:column;display:flex}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;width:100%;height:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{text-overflow:ellipsis;opacity:.7;white-space:pre;flex:2;margin:0 24px 0 0;padding:4px 0 12px 5px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{white-space:pre-wrap;margin:0;padding:4px 5px}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{white-space:initial;min-height:calc(1rem + 8px);padding:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ul,.monaco-editor .suggest-details ol{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}");U9();t9();_A();b6();Y5();YY();n6();s1();e0();JQ();X7();var yQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},PQ=function(J,$){return function(X,Q){$(X,Q,J)}},WR=class J extends XQ{constructor($,X,Q,Y,Z,G,q,U,H,z,V,W,B){super($,Object.assign(Object.assign({},Y.getRawOptions()),{overflowWidgetsDomNode:Y.getOverflowWidgetsDomNode()}),Q,Z,G,q,U,H,z,V,W,B);this._parentEditor=Y,this._overwriteOptions=X,super.updateOptions(this._overwriteOptions),this._register(Y.onDidChangeConfiguration((j)=>this._onParentConfigurationChanged(j)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged($){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions($){vR(this._overwriteOptions,$,!0),super.updateOptions(this._overwriteOptions)}};WR=yQ0([PQ(4,G1),PQ(5,p1),PQ(6,H7),PQ(7,p0),PQ(8,d8),PQ(9,i7),PQ(10,f5),PQ(11,N8),PQ(12,q1)],WR);y0();zQ();$0();m0();gI();e4();s1();e0();var SQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},by=function(J,$){return function(X,Q){$(X,Q,J)}};class vy extends CU{updateLabel(){const J=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!J)return super.updateLabel();if(this.label)this.label.textContent=F({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,vy.symbolPrintEnter(J))}static symbolPrintEnter(J){var $;return($=J.getLabel())===null||$===void 0?void 0:$.replace(/\benter\b/gi,"\u23CE")}}var BR=class J{constructor($,X,Q,Y,Z){this._menuId=X,this._menuService=Y,this._contextKeyService=Z,this._menuDisposables=new e,this.element=Z0($,U0(".suggest-status-bar"));const G=(q)=>{return q instanceof WX?Q.createInstance(vy,q,void 0):void 0};this._leftActions=new m6(this.element,{actionViewItemProvider:G}),this._rightActions=new m6(this.element,{actionViewItemProvider:G}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const $=this._menuService.createMenu(this._menuId,this._contextKeyService),X=()=>{const Q=[],Y=[];for(let[Z,G]of $.getActions())if(Z==="left")Q.push(...G);else Y.push(...G);this._leftActions.clear(),this._leftActions.push(Q),this._rightActions.clear(),this._rightActions.push(Y)};this._menuDisposables.add($.onDidChange(()=>X())),this._menuDisposables.add($)}hide(){this._menuDisposables.clear()}};BR=SQ0([by(2,G1),by(3,BX),by(4,p0)],BR);j1();F0(".monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-value,.monaco-editor .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-enum{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}");m0();e6();var Q51=k("symbolIcon.arrayForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Y51=k("symbolIcon.booleanForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z51=k("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G51=k("symbolIcon.colorForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q51=k("symbolIcon.constantForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U51=k("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H51=k("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z51=k("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V51=k("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W51=k("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B51=k("symbolIcon.fileForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j51=k("symbolIcon.folderForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F51=k("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K51=k("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A51=k("symbolIcon.keyForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P51=k("symbolIcon.keywordForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D51=k("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R51=k("symbolIcon.moduleForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M51=k("symbolIcon.namespaceForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O51=k("symbolIcon.nullForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N51=k("symbolIcon.numberForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T51=k("symbolIcon.objectForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_51=k("symbolIcon.operatorForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w51=k("symbolIcon.packageForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L51=k("symbolIcon.propertyForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I51=k("symbolIcon.referenceForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k51=k("symbolIcon.snippetForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E51=k("symbolIcon.stringForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y51=k("symbolIcon.structForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S51=k("symbolIcon.textForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C51=k("symbolIcon.typeParameterForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x51=k("symbolIcon.unitForeground",{dark:J0,light:J0,hcDark:J0,hcLight:J0},F("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b51=k("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));m0();s1();e0();yU();e6();xX();X7();y0();EP();A0();$0();class SW{constructor(){this._onDidWillResize=new E,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new E,this.onDidResize=this._onDidResize.event,this._sashListener=new e,this._size=new m1(0,0),this._minSize=new m1(0,0),this._maxSize=new m1(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new z6(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new z6(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new z6(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:wV.North}),this._southSash=new z6(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:wV.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let J,$=0,X=0;this._sashListener.add(Y0.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{if(J===void 0)this._onDidWillResize.fire(),J=this._size,$=0,X=0})),this._sashListener.add(Y0.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{if(J!==void 0)J=void 0,$=0,X=0,this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(this._eastSash.onDidChange((Q)=>{if(J)X=Q.currentX-Q.startX,this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,east:!0})})),this._sashListener.add(this._westSash.onDidChange((Q)=>{if(J)X=-(Q.currentX-Q.startX),this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,west:!0})})),this._sashListener.add(this._northSash.onDidChange((Q)=>{if(J)$=-(Q.currentY-Q.startY),this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,north:!0})})),this._sashListener.add(this._southSash.onDidChange((Q)=>{if(J)$=Q.currentY-Q.startY,this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,south:!0})})),this._sashListener.add(Y0.any(this._eastSash.onDidReset,this._westSash.onDidReset)((Q)=>{if(this._preferredSize)this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(Y0.any(this._northSash.onDidReset,this._southSash.onDidReset)((Q)=>{if(this._preferredSize)this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0})}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(J,$,X,Q){this._northSash.state=J?3:0,this._eastSash.state=$?3:0,this._southSash.state=X?3:0,this._westSash.state=Q?3:0}layout(J=this.size.height,$=this.size.width){const{height:X,width:Q}=this._minSize,{height:Y,width:Z}=this._maxSize;J=Math.max(X,Math.min(Y,J)),$=Math.max(Q,Math.min(Z,$));const G=new m1($,J);if(!m1.equals(G,this._size))this.domNode.style.height=J+"px",this.domNode.style.width=$+"px",this._size=G,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout()}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(J){this._maxSize=J}get maxSize(){return this._maxSize}set minSize(J){this._minSize=J}get minSize(){return this._minSize}set preferredSize(J){this._preferredSize=J}get preferredSize(){return this._preferredSize}}y0();hX();h7();k7();A0();dG();$0();zP();pQ();A1();A0();$0();j1();F0(".monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;border-radius:3px;padding:1px 3px}");YJ();E5();KJ();iw();gG();function xQ0(J,$,X){return Bt(this,void 0,void 0,function*(){try{return yield J.open($,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:bQ0(X)})}catch(Q){return a0(Q),!1}})}var bQ0=function(J){if(J===!0)return!0;if(J&&Array.isArray(J.enabledCommands))return J.enabledCommands;return!1},CQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Wt=function(J,$){return function(X,Q){$(X,Q,J)}},Bt=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},fy,CW=fy=class J{constructor($,X,Q){this._options=$,this._languageService=X,this._openerService=Q,this._onDidRenderAsync=new E,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render($,X,Q){if(!$)return{element:document.createElement("span"),dispose:()=>{}};const Y=new e,Z=Y.add(IU($,Object.assign(Object.assign({},this._getRenderOptions($,Y)),X),Q));return Z.element.classList.add("rendered-markdown"),{element:Z.element,dispose:()=>Y.dispose()}}_getRenderOptions($,X){return{codeBlockRenderer:(Q,Y)=>Bt(this,void 0,void 0,function*(){var Z,G,q;let U;if(Q)U=this._languageService.getLanguageIdByLanguageName(Q);else if(this._options.editor)U=(Z=this._options.editor.getModel())===null||Z===void 0?void 0:Z.getLanguageId();if(!U)U=P7;const H=yield Pc(this._languageService,Y,U),z=document.createElement("span");if(z.innerHTML=(q=(G=fy._ttpTokenizer)===null||G===void 0?void 0:G.createHTML(H))!==null&&q!==void 0?q:H,this._options.editor){const V=this._options.editor.getOption(50);O8(z,V)}else if(this._options.codeBlockFontFamily)z.style.fontFamily=this._options.codeBlockFontFamily;if(this._options.codeBlockFontSize!==void 0)z.style.fontSize=this._options.codeBlockFontSize;return z}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:(Q)=>xQ0(this._openerService,Q,$.isTrusted),disposables:X}}}};CW._ttpTokenizer=$5("tokenizeToString",{createHTML(J){return J}});CW=fy=CQ0([Wt(1,o1),Wt(2,IY)],CW);m0();e0();function xW(J){return!!J&&Boolean(J.completion.documentation||J.completion.detail&&J.completion.detail!==J.completion.label)}var vQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},fQ0=function(J,$){return function(X,Q){$(X,Q,J)}},jR=class J{constructor($,X){this._editor=$,this._onDidClose=new E,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new E,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new e,this._renderDisposeable=new e,this._borderWidth=1,this._size=new m1(330,0),this.domNode=U0(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=X.createInstance(CW,{editor:$}),this._body=U0(".body"),this._scrollbar=new DG(this._body,{alwaysConsumeMouseWheel:!0}),Z0(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Z0(this._body,U0(".header")),this._close=Z0(this._header,U0("span"+C0.asCSSSelector(z0.close))),this._close.title=F("details.close","Close"),this._type=Z0(this._header,U0("p.type")),this._docs=Z0(this._body,U0("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((Q)=>{if(Q.hasChanged(50))this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const $=this._editor.getOptions(),X=$.get(50),Q=X.getMassagedFontFamily(),Y=$.get(118)||X.fontSize,Z=$.get(119)||X.lineHeight,G=X.fontWeight,q=`${Y}px`,U=`${Z}px`;this.domNode.style.fontSize=q,this.domNode.style.lineHeight=`${Z/Y}`,this.domNode.style.fontWeight=G,this.domNode.style.fontFeatureSettings=X.fontFeatureSettings,this._type.style.fontFamily=Q,this._close.style.height=U,this._close.style.width=U}getLayoutInfo(){const $=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,X=this._borderWidth,Q=X*2;return{lineHeight:$,borderWidth:X,borderHeight:Q,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=F("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem($,X){var Q,Y;this._renderDisposeable.clear();let{detail:Z,documentation:G}=$.completion;if(X){let q="";q+=`score: ${$.score[0]}\n`,q+=`prefix: ${(Q=$.word)!==null&&Q!==void 0?Q:"(no prefix)"}\n`,q+=`word: ${$.completion.filterText?$.completion.filterText+" (filterText)":$.textLabel}\n`,q+=`distance: ${$.distance} (localityBonus-setting)\n`,q+=`index: ${$.idx}, based on ${$.completion.sortText&&`sortText: "${$.completion.sortText}"`||"label"}\n`,q+=`commit_chars: ${(Y=$.completion.commitCharacters)===null||Y===void 0?void 0:Y.join("")}\n`,G=new bY().appendCodeblock("empty",q),Z=`Provider: ${$.provider._debugDisplayName}`}if(!X&&!xW($)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Z){const q=Z.length>1e5?`${Z.substr(0,1e5)}\u2026`:Z;this._type.textContent=q,this._type.title=q,L9(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(q))}else E7(this._type),this._type.title="",I9(this._type),this.domNode.classList.add("no-type");if(E7(this._docs),typeof G==="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=G;else if(G){this._docs.classList.add("markdown-docs"),E7(this._docs);const q=this._markdownRenderer.render(G);this._docs.appendChild(q.element),this._renderDisposeable.add(q),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=(q)=>{q.preventDefault(),q.stopPropagation()},this._close.onclick=(q)=>{q.preventDefault(),q.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout($,X){const Q=new m1($,X);if(!m1.equals(Q,this._size))this._size=Q,px(this.domNode,$,X);this._scrollbar.scanDomNode()}scrollDown($=8){this._body.scrollTop+=$}scrollUp($=8){this._body.scrollTop-=$}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth($){this._borderWidth=$}get borderWidth(){return this._borderWidth}};jR=vQ0([fQ0(1,G1)],jR);class hy{constructor(J,$){this.widget=J,this._editor=$,this._disposables=new e,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new SW,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(J.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let X,Q,Y=0,Z=0;this._disposables.add(this._resizable.onDidWillResize(()=>{X=this._topLeft,Q=this._resizable.size})),this._disposables.add(this._resizable.onDidResize((G)=>{if(X&&Q){this.widget.layout(G.dimension.width,G.dimension.height);let q=!1;if(G.west)Z=Q.width-G.dimension.width,q=!0;if(G.north)Y=Q.height-G.dimension.height,q=!0;if(q)this._applyTopLeft({top:X.top+Y,left:X.left+Z})}if(G.done)X=void 0,Q=void 0,Y=0,Z=0,this._userSize=G.dimension})),this._disposables.add(this.widget.onDidChangeContents(()=>{var G;if(this._anchorBox)this._placeAtAnchor(this._anchorBox,(G=this._userSize)!==null&&G!==void 0?G:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){if(!this._added)this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0}hide(J=!1){if(this._resizable.clearSashHoverState(),this._added)this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0;if(J)this._userSize=void 0,this.widget.clearContents()}placeAtAnchor(J,$){var X;const Q=J.getBoundingClientRect();this._anchorBox=Q,this._preferAlignAtTop=$,this._placeAtAnchor(this._anchorBox,(X=this._userSize)!==null&&X!==void 0?X:this.widget.size,$)}_placeAtAnchor(J,$,X){var Q;const Y=vQ(this.getDomNode().ownerDocument.body),Z=this.widget.getLayoutInfo(),G=new m1(220,2*Z.lineHeight),q=J.top,U=function(){const P=Y.width-(J.left+J.width+Z.borderWidth+Z.horizontalPadding),R=-Z.borderWidth+J.left+J.width,M=new m1(P,Y.height-J.top-Z.borderHeight-Z.verticalPadding),T=M.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:R,fit:P-$.width,maxSizeTop:M,maxSizeBottom:T,minSize:G.with(Math.min(P,G.width))}}(),H=function(){const P=J.left-Z.borderWidth-Z.horizontalPadding,R=Math.max(Z.horizontalPadding,J.left-$.width-Z.borderWidth),M=new m1(P,Y.height-J.top-Z.borderHeight-Z.verticalPadding),T=M.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:R,fit:P-$.width,maxSizeTop:M,maxSizeBottom:T,minSize:G.with(Math.min(P,G.width))}}(),z=function(){const P=J.left,R=-Z.borderWidth+J.top+J.height,M=new m1(J.width-Z.borderHeight,Y.height-J.top-J.height-Z.verticalPadding);return{top:R,left:P,fit:M.height-$.height,maxSizeBottom:M,maxSizeTop:M,minSize:G.with(M.width)}}(),V=[U,H,z],W=(Q=V.find((P)=>P.fit>=0))!==null&&Q!==void 0?Q:V.sort((P,R)=>R.fit-P.fit)[0],B=J.top+J.height-Z.borderHeight;let j,K=$.height;const D=Math.max(W.maxSizeTop.height,W.maxSizeBottom.height);if(K>D)K=D;let A;if(X)if(K<=W.maxSizeTop.height)j=!0,A=W.maxSizeTop;else j=!1,A=W.maxSizeBottom;else if(K<=W.maxSizeBottom.height)j=!1,A=W.maxSizeBottom;else j=!0,A=W.maxSizeTop;this._applyTopLeft({left:W.left,top:j?W.top:B-K}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!j,W===U,j,W!==U),this._resizable.minSize=W.minSize,this._resizable.maxSize=A,this._resizable.layout(K,Math.min(A.width,$.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(J){this._topLeft=J,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}y0();bk();h7();k7();A0();xY();$0();l8();P6();T5();E$();KJ();var h4;(function(J){J[J.FILE=0]="FILE",J[J.FOLDER=1]="FOLDER",J[J.ROOT_FOLDER=2]="ROOT_FOLDER"})(h4||(h4={}));function bW(J,$,X,Q){const Y=Q===h4.ROOT_FOLDER?["rootfolder-icon"]:Q===h4.FOLDER?["folder-icon"]:["file-icon"];if(X){let Z;if(X.scheme===o0.data)Z=k$.parseMetaData(X).get(k$.META_DATA_LABEL);else{const G=X.path.match(hQ0);if(G){if(Z=FR(G[2].toLowerCase()),G[1])Y.push(`${FR(G[1].toLowerCase())}-name-dir-icon`)}else Z=FR(X.authority.toLowerCase())}if(Q===h4.FOLDER)Y.push(`${Z}-name-folder-icon`);else{if(Z){if(Y.push(`${Z}-name-file-icon`),Y.push("name-file-icon"),Z.length<=255){const q=Z.split(".");for(let U=1;U<q.length;U++)Y.push(`${q.slice(U).join(".")}-ext-file-icon`)}Y.push("ext-file-icon")}const G=gQ0(J,$,X);if(G)Y.push(`${FR(G)}-lang-file-icon`)}}return Y}var gQ0=function(J,$,X){if(!X)return null;let Q=null;if(X.scheme===o0.data){const Z=k$.parseMetaData(X).get(k$.META_DATA_MIME);if(Z)Q=$.getLanguageIdByMimeType(Z)}else{const Y=J.getModel(X);if(Y)Q=Y.getLanguageId()}if(Q&&Q!==P7)return Q;return $.guessLanguageIdByFilepathOrFirstLine(X)},FR=function(J){return J.replace(/[\11\12\14\15\40]/g,"/")},hQ0=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;UX();E5();m0();aU();X7();function my(J){return`suggest-aria-id:${J}`}var py=function(J){return J.replace(/\r\n|\r|\n/g,"")},pQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},gy=function(J,$){return function(X,Q){$(X,Q,J)}},YZ,mQ0=Q9("suggest-more-info",z0.chevronRight,F("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),uQ0=new(YZ=class J{extract($,X){if($.textLabel.match(YZ._regexStrict))return X[0]=$.textLabel,!0;if($.completion.detail&&$.completion.detail.match(YZ._regexStrict))return X[0]=$.completion.detail,!0;if(typeof $.completion.documentation==="string"){const Q=YZ._regexRelaxed.exec($.completion.documentation);if(Q&&(Q.index===0||Q.index+Q[0].length===$.completion.documentation.length))return X[0]=Q[0],!0}return!1}},YZ._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,YZ._regexStrict=new RegExp(`^${YZ._regexRelaxed.source}\$`,"i"),YZ),KR=class J{constructor($,X,Q,Y){this._editor=$,this._modelService=X,this._languageService=Q,this._themeService=Y,this._onDidToggleDetails=new E,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate($){const X=new e,Q=$;Q.classList.add("show-file-icons");const Y=Z0($,U0(".icon")),Z=Z0(Y,U0("span.colorspan")),G=Z0($,U0(".contents")),q=Z0(G,U0(".main")),U=Z0(q,U0(".icon-label.codicon")),H=Z0(q,U0("span.left")),z=Z0(q,U0("span.right")),V=new cU(H,{supportHighlights:!0,supportIcons:!0});X.add(V);const W=Z0(H,U0("span.signature-label")),B=Z0(H,U0("span.qualifier-label")),j=Z0(z,U0("span.details-label")),K=Z0(z,U0("span.readMore"+C0.asCSSSelector(mQ0)));K.title=F("readMore","Read More");const D=()=>{const A=this._editor.getOptions(),P=A.get(50),R=P.getMassagedFontFamily(),M=P.fontFeatureSettings,T=A.get(118)||P.fontSize,_=A.get(119)||P.lineHeight,w=P.fontWeight,x=P.letterSpacing,C=`${T}px`,h=`${_}px`,p=`${x}px`;Q.style.fontSize=C,Q.style.fontWeight=w,Q.style.letterSpacing=p,q.style.fontFamily=R,q.style.fontFeatureSettings=M,q.style.lineHeight=h,Y.style.height=h,Y.style.width=h,K.style.height=h,K.style.width=h};return D(),X.add(this._editor.onDidChangeConfiguration((A)=>{if(A.hasChanged(50)||A.hasChanged(118)||A.hasChanged(119))D()})),{root:Q,left:H,right:z,icon:Y,colorspan:Z,iconLabel:V,iconContainer:U,parametersLabel:W,qualifierLabel:B,detailsLabel:j,readMore:K,disposables:X}}renderElement($,X,Q){const{completion:Y}=$;Q.root.id=my(X),Q.colorspan.style.backgroundColor="";const Z={labelEscapeNewLines:!0,matches:GI($.score)},G=[];if(Y.kind===19&&uQ0.extract($,G))Q.icon.className="icon customcolor",Q.iconContainer.className="icon hide",Q.colorspan.style.backgroundColor=G[0];else if(Y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Q.icon.className="icon hide",Q.iconContainer.className="icon hide";const q=bW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),h4.FILE),U=bW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),h4.FILE);Z.extraClasses=q.length>U.length?q:U}else if(Y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)Q.icon.className="icon hide",Q.iconContainer.className="icon hide",Z.extraClasses=[bW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),h4.FOLDER),bW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),h4.FOLDER)].flat();else Q.icon.className="icon hide",Q.iconContainer.className="",Q.iconContainer.classList.add("suggest-icon",...C0.asClassNameArray(wZ.toIcon(Y.kind)));if(Y.tags&&Y.tags.indexOf(1)>=0)Z.extraClasses=(Z.extraClasses||[]).concat(["deprecated"]),Z.matches=[];if(Q.iconLabel.setLabel($.textLabel,void 0,Z),typeof Y.label==="string")Q.parametersLabel.textContent="",Q.detailsLabel.textContent=py(Y.detail||""),Q.root.classList.add("string-label");else Q.parametersLabel.textContent=py(Y.label.detail||""),Q.detailsLabel.textContent=py(Y.label.description||""),Q.root.classList.remove("string-label");if(this._editor.getOption(117).showInlineDetails)L9(Q.detailsLabel);else I9(Q.detailsLabel);if(xW($))Q.right.classList.add("can-expand-details"),L9(Q.readMore),Q.readMore.onmousedown=(q)=>{q.stopPropagation(),q.preventDefault()},Q.readMore.onclick=(q)=>{q.stopPropagation(),q.preventDefault(),this._onDidToggleDetails.fire()};else Q.right.classList.remove("can-expand-details"),I9(Q.readMore),Q.readMore.onmousedown=null,Q.readMore.onclick=null}disposeTemplate($){$.disposables.dispose()}};KR=pQ0([gy(1,U7),gy(2,o1),gy(3,d8)],KR);SU();$Y();var cQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},AR=function(J,$){return function(X,Q){$(X,Q,J)}},lQ0=function(J,$,X,Q){function Y(Z){return Z instanceof X?Z:new X(function(G){G(Z)})}return new(X||(X=Promise))(function(Z,G){function q(z){try{H(Q.next(z))}catch(V){G(V)}}function U(z){try{H(Q.throw(z))}catch(V){G(V)}}function H(z){z.done?Z(z.value):Y(z.value).then(q,U)}H((Q=Q.apply(J,$||[])).next())})},z3;k("editorSuggestWidget.background",{dark:E8,light:E8,hcDark:E8,hcLight:E8},F("editorSuggestWidgetBackground","Background color of the suggest widget."));k("editorSuggestWidget.border",{dark:V4,light:V4,hcDark:V4,hcLight:V4},F("editorSuggestWidgetBorder","Border color of the suggest widget."));var PR=k("editorSuggestWidget.foreground",{dark:F$,light:F$,hcDark:F$,hcLight:F$},F("editorSuggestWidgetForeground","Foreground color of the suggest widget."));k("editorSuggestWidget.selectedForeground",{dark:K$,light:K$,hcDark:K$,hcLight:K$},F("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));k("editorSuggestWidget.selectedIconForeground",{dark:CX,light:CX,hcDark:CX,hcLight:CX},F("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var dQ0=k("editorSuggestWidget.selectedBackground",{dark:A$,light:A$,hcDark:A$,hcLight:A$},F("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));k("editorSuggestWidget.highlightForeground",{dark:SX,light:SX,hcDark:SX,hcLight:SX},F("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));k("editorSuggestWidget.focusHighlightForeground",{dark:tH,light:tH,hcDark:tH,hcLight:tH},F("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));k("editorSuggestWidgetStatus.foreground",{dark:_0(PR,0.5),light:_0(PR,0.5),hcDark:_0(PR,0.5),hcLight:_0(PR,0.5)},F("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class jt{constructor(J,$){this._service=J,this._key=`suggestWidget.size/${$.getEditorType()}/${$ instanceof WR}`}restore(){var J;const $=(J=this._service.get(this._key,0))!==null&&J!==void 0?J:"";try{const X=JSON.parse($);if(m1.is(X))return m1.lift(X)}catch(X){}return}store(J){this._service.store(this._key,JSON.stringify(J),0,1)}reset(){this._service.remove(this._key,0)}}var V3=z3=class J{constructor($,X,Q,Y,Z){this.editor=$,this._storageService=X,this._state=0,this._isAuto=!1,this._pendingLayout=new K6,this._pendingShowDetails=new K6,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new M6,this._disposables=new e,this._onDidSelect=new $J,this._onDidFocus=new $J,this._onDidHide=new E,this._onDidShow=new E,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new E,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new SW,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ft(this,$),this._persistedSize=new jt(X,$);class G{constructor(W,B,j=!1,K=!1){this.persistedSize=W,this.currentSize=B,this.persistHeight=j,this.persistWidth=K}}let q;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),q=new G(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize((W)=>{var B,j,K,D;if(this._resize(W.dimension.width,W.dimension.height),q)q.persistHeight=q.persistHeight||!!W.north||!!W.south,q.persistWidth=q.persistWidth||!!W.east||!!W.west;if(!W.done)return;if(q){const{itemHeight:A,defaultSize:P}=this.getLayoutInfo(),R=Math.round(A/2);let{width:M,height:T}=this.element.size;if(!q.persistHeight||Math.abs(q.currentSize.height-T)<=R)T=(j=(B=q.persistedSize)===null||B===void 0?void 0:B.height)!==null&&j!==void 0?j:P.height;if(!q.persistWidth||Math.abs(q.currentSize.width-M)<=R)M=(D=(K=q.persistedSize)===null||K===void 0?void 0:K.width)!==null&&D!==void 0?D:P.width;this._persistedSize.store(new m1(M,T))}this._contentWidget.unlockPreference(),q=void 0})),this._messageElement=Z0(this.element.domNode,U0(".message")),this._listElement=Z0(this.element.domNode,U0(".tree"));const U=this._disposables.add(Z.createInstance(jR,this.editor));U.onDidClose(this.toggleDetails,this,this._disposables),this._details=new hy(U,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);H();const z=Z.createInstance(KR,this.editor);this._disposables.add(z),this._disposables.add(z.onDidToggleDetails(()=>this.toggleDetails())),this._list=new p6("SuggestWidget",this._listElement,{getHeight:(W)=>this.getLayoutInfo().itemHeight,getTemplateId:(W)=>"suggestion"},[z],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>F("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:(W)=>{let B=W.textLabel;if(typeof W.completion.label!=="string"){const{detail:A,description:P}=W.completion.label;if(A&&P)B=F("label.full","{0} {1}, {2}",B,A,P);else if(A)B=F("label.detail","{0} {1}",B,A);else if(P)B=F("label.desc","{0}, {1}",B,P)}if(!W.isResolved||!this._isDetailsVisible())return B;const{documentation:j,detail:K}=W.completion,D=SQ("{0}{1}",K||"",j?typeof j==="string"?j:j.value:"");return F("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",B,D)}}}),this._list.style(HQ({listInactiveFocusBackground:dQ0,listInactiveFocusOutline:W8})),this._status=Z.createInstance(BR,this.element.domNode,r$);const V=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);V(),this._disposables.add(Y.onDidColorThemeChange((W)=>this._onThemeChange(W))),this._onThemeChange(Y.getColorTheme()),this._disposables.add(this._list.onMouseDown((W)=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onTap((W)=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onDidChangeSelection((W)=>this._onListSelection(W))),this._disposables.add(this._list.onDidChangeFocus((W)=>this._onListFocus(W))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration((W)=>{if(W.hasChanged(117))V(),H()})),this._ctxSuggestWidgetVisible=J1.Visible.bindTo(Q),this._ctxSuggestWidgetDetailsVisible=J1.DetailsVisible.bindTo(Q),this._ctxSuggestWidgetMultipleSuggestions=J1.MultipleSuggestions.bindTo(Q),this._ctxSuggestWidgetHasFocusedSuggestion=J1.HasFocusedSuggestion.bindTo(Q),this._disposables.add(X8(this._details.widget.domNode,"keydown",(W)=>{this._onDetailsKeydown.fire(W)})),this._disposables.add(this.editor.onMouseDown((W)=>this._onEditorMouseDown(W)))}dispose(){var $;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown($){if(this._details.widget.domNode.contains($.target.element))this._details.widget.domNode.focus();else if(this.element.domNode.contains($.target.element))this.editor.focus()}_onCursorSelectionChanged(){if(this._state!==0)this._contentWidget.layout()}_onListMouseDownOrTap($){if(typeof $.element==="undefined"||typeof $.index==="undefined")return;$.browserEvent.preventDefault(),$.browserEvent.stopPropagation(),this._select($.element,$.index)}_onListSelection($){if($.elements.length)this._select($.elements[0],$.indexes[0])}_select($,X){const Q=this._completionModel;if(Q)this._onDidSelect.fire({item:$,index:X,model:Q}),this.editor.focus()}_onThemeChange($){this._details.widget.borderWidth=NJ($.type)?2:1}_onListFocus($){var X;if(this._ignoreFocusEvents)return;if(!$.elements.length){if(this._currentSuggestionDetails)this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0;this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Q=$.elements[0],Y=$.indexes[0];if(Q!==this._focusedItem)(X=this._currentSuggestionDetails)===null||X===void 0||X.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Q,this._list.reveal(Y),this._currentSuggestionDetails=pZ((Z)=>lQ0(this,void 0,void 0,function*(){const G=gQ(()=>{if(this._isDetailsVisible())this.showDetails(!0)},250),q=Z.onCancellationRequested(()=>G.dispose());try{return yield Q.resolve(Z)}finally{G.dispose(),q.dispose()}})),this._currentSuggestionDetails.then(()=>{if(Y>=this._list.length||Q!==this._list.element(Y))return;if(this._ignoreFocusEvents=!0,this._list.splice(Y,1,[Q]),this._list.setFocus([Y]),this._ignoreFocusEvents=!1,this._isDetailsVisible())this.showDetails(!1);else this.element.domNode.classList.remove("docs-side");this.editor.setAriaOptions({activeDescendant:my(Y)})}).catch(a0);this._onDidFocus.fire({item:Q,index:Y,model:this._completionModel})}_setState($){if(this._state===$)return;switch(this._state=$,this.element.domNode.classList.toggle("frozen",$===4),this.element.domNode.classList.remove("message"),$){case 0:I9(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=z3.LOADING_MESSAGE,I9(this._listElement,this._status.element),L9(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,JY(z3.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=z3.NO_SUGGESTIONS_MESSAGE,I9(this._listElement,this._status.element),L9(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,JY(z3.NO_SUGGESTIONS_MESSAGE);break;case 3:I9(this._messageElement),L9(this._listElement,this._status.element),this._show();break;case 4:I9(this._messageElement),L9(this._listElement,this._status.element),this._show();break;case 5:I9(this._messageElement),L9(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered($,X){if(this._state!==0)return;if(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!$,!this._isAuto)this._loadingTimeout=gQ(()=>this._setState(1),X)}showSuggestions($,X,Q,Y,Z){var G,q;if(this._contentWidget.setPosition(this.editor.getPosition()),(G=this._loadingTimeout)===null||G===void 0||G.dispose(),(q=this._currentSuggestionDetails)===null||q===void 0||q.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==$)this._completionModel=$;if(Q&&this._state!==2&&this._state!==0){this._setState(4);return}const U=this._completionModel.items.length,H=U===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(U>1),H){this._setState(Y?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Q?4:3),this._list.reveal(X,0),this._list.setFocus(Z?[]:[X])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Jq(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){if(this._list.length>0)this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel};return}toggleDetailsFocus(){if(this._state===5)this._setState(3),this._details.widget.domNode.classList.remove("focused");else if(this._state===3&&this._isDetailsVisible())this._setState(5),this._details.widget.domNode.classList.add("focused")}toggleDetails(){if(this._isDetailsVisible())this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details");else if((xW(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4))this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1)}showDetails($){this._pendingShowDetails.value=Jq(()=>{if(this._pendingShowDetails.clear(),this._details.show(),$)this._details.widget.renderLoading();else this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode);this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){if(this._list.getFocusedElements()[0])if(this._explainMode=!this._explainMode,!this._isDetailsVisible())this.toggleDetails();else this.showDetails(!1)}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var $;this._pendingLayout.clear(),this._pendingShowDetails.clear(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const X=this._persistedSize.restore(),Q=Math.ceil(this.getLayoutInfo().itemHeight*4.3);if(X&&X.height<Q)this._persistedSize.store(X.with(void 0,Q))}isFrozen(){return this._state===4}_afterRender($){if($===null){if(this._isDetailsVisible())this._details.hide();return}if(this._state===2||this._state===1)return;if(this._isDetailsVisible())this._details.show();this._positionDetails()}_layout($){var X,Q,Y;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const Z=vQ(this.element.domNode.ownerDocument.body),G=this.getLayoutInfo();if(!$)$=G.defaultSize;let{height:q,width:U}=$;if(this._status.element.style.height=`${G.itemHeight}px`,this._state===2||this._state===1)q=G.itemHeight+G.borderHeight,U=G.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new m1(U,q),this._contentWidget.setPreference(2);else{const H=Z.width-G.borderHeight-2*G.horizontalPadding;if(U>H)U=H;const z=this._completionModel?this._completionModel.stats.pLabelLen*G.typicalHalfwidthCharacterWidth:U,V=G.statusBarHeight+this._list.contentHeight+G.borderHeight,W=G.itemHeight+G.statusBarHeight,B=u7(this.editor.getDomNode()),j=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=B.top+j.top+j.height,D=Math.min(Z.height-K-G.verticalPadding,V),A=B.top+j.top-G.verticalPadding,P=Math.min(A,V);let R=Math.min(Math.max(P,D)+G.borderHeight,V);if(q===((X=this._cappedHeight)===null||X===void 0?void 0:X.capped))q=this._cappedHeight.wanted;if(q<W)q=W;if(q>R)q=R;const M=150;if(q>D||this._forceRenderingAbove&&A>M)this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),R=P;else this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),R=D;this.element.preferredSize=new m1(z,G.defaultSize.height),this.element.maxSize=new m1(H,R),this.element.minSize=new m1(220,W),this._cappedHeight=q===V?{wanted:(Y=(Q=this._cappedHeight)===null||Q===void 0?void 0:Q.wanted)!==null&&Y!==void 0?Y:$.height,capped:q}:void 0}this._resize(U,q)}_resize($,X){const{width:Q,height:Y}=this.element.maxSize;$=Math.min(Q,$),X=Math.min(Y,X);const{statusBarHeight:Z}=this.getLayoutInfo();this._list.layout(X-Z,$),this._listElement.style.height=`${X-Z}px`,this.element.layout(X,$),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var $;if(this._isDetailsVisible())this._details.placeAtAnchor(this.element.domNode,(($=this._contentWidget.getPosition())===null||$===void 0?void 0:$.preference[0])===2)}getLayoutInfo(){const $=this.editor.getOption(50),X=U6(this.editor.getOption(119)||$.lineHeight,8,1000),Q=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:X,Y=this._details.widget.borderWidth,Z=2*Y;return{itemHeight:X,statusBarHeight:Q,borderWidth:Y,borderHeight:Z,typicalHalfwidthCharacterWidth:$.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new m1(430,Q+12*X+Z)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible($){this._storageService.store("expandSuggestionDocs",$,0,0)}forceRenderingAbove(){if(!this._forceRenderingAbove)this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore())}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};V3.LOADING_MESSAGE=F("suggestWidget.loading","Loading...");V3.NO_SUGGESTIONS_MESSAGE=F("suggestWidget.noSuggestions","No suggestions.");V3=z3=cQ0([AR(1,N4),AR(2,p0),AR(3,d8),AR(4,G1)],V3);class Ft{constructor(J,$){this._widget=J,this._editor=$,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){if(this._added)this._added=!1,this._editor.removeContentWidget(this)}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){if(this._hidden=!1,!this._added)this._added=!0,this._editor.addContentWidget(this)}hide(){if(!this._hidden)this._hidden=!0,this.layout()}layout(){this._editor.layoutContentWidget(this)}getPosition(){if(this._hidden||!this._position||!this._preference)return null;return{position:this._position,preference:[this._preference]}}beforeRender(){const{height:J,width:$}=this._widget.element.size,{borderWidth:X,horizontalPadding:Q}=this._widget.getLayoutInfo();return new m1($+2*X+Q,J+2*X)}afterRender(J){this._widget._afterRender(J)}setPreference(J){if(!this._preferenceLocked)this._preference=J}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(J){this._position=J}}hZ();E$();Yq();var sQ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},W3=function(J,$){return function(X,Q){$(X,Q,J)}},uy,aQ0=!1;class Kt{constructor(J,$){if(this._model=J,this._position=$,J.getLineMaxColumn($.lineNumber)!==$.column){const Q=J.getOffsetAt($),Y=J.getPositionAt(Q+1);this._marker=J.deltaDecorations([],[{range:L.fromPositions($,Y),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){if(this._marker&&!this._model.isDisposed())this._model.deltaDecorations(this._marker,[])}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const $=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt($.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}var ZZ=uy=class J{static get($){return $.getContribution(uy.ID)}constructor($,X,Q,Y,Z,G,q){this._memoryService=X,this._commandService=Q,this._contextKeyService=Y,this._instantiationService=Z,this._logService=G,this._telemetryService=q,this._lineSuffix=new K6,this._toDispose=new e,this._selectors=new At((V)=>V.priority),this._onWillInsertSuggestItem=new E,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=$,this.model=Z.createInstance(VR,this.editor),this._selectors.register({priority:0,select:(V,W,B)=>this._memoryService.select(V,W,B)});const U=J1.InsertMode.bindTo(Y);U.set($.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>U.set($.getOption(117).insertMode))),this.widget=this._toDispose.add(new mZ(()=>{const V=this._instantiationService.createInstance(V3,this.editor);this._toDispose.add(V),this._toDispose.add(V.onDidSelect((D)=>this._insertSuggestion(D,0),this));const W=new Cy(this.editor,V,this.model,(D)=>this._insertSuggestion(D,2));this._toDispose.add(W);const B=J1.MakesTextEdit.bindTo(this._contextKeyService),j=J1.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=J1.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(N0(()=>{B.reset(),j.reset(),K.reset()})),this._toDispose.add(V.onDidFocus(({item:D})=>{const A=this.editor.getPosition(),P=D.editStart.column,R=A.column;let M=!0;if(this.editor.getOption(1)==="smart"&&this.model.state===2&&!D.completion.additionalTextEdits&&!(D.completion.insertTextRules&4)&&R-P===D.completion.insertText.length)M=this.editor.getModel().getValueInRange({startLineNumber:A.lineNumber,startColumn:P,endLineNumber:A.lineNumber,endColumn:R})!==D.completion.insertText;B.set(M),j.set(!b.equals(D.editInsertEnd,D.editReplaceEnd)),K.set(Boolean(D.provider.resolveCompletionItem)||Boolean(D.completion.documentation)||D.completion.detail!==D.completion.label)})),this._toDispose.add(V.onDetailsKeyDown((D)=>{if(D.toKeyCodeChord().equals(new R5(!0,!1,!1,!1,33))||n0&&D.toKeyCodeChord().equals(new R5(!1,!1,!1,!0,33))){D.stopPropagation();return}if(!D.toKeyCodeChord().isModifierKey())this.editor.focus()})),V})),this._overtypingCapturer=this._toDispose.add(new mZ(()=>{return this._toDispose.add(new yW(this.editor,this.model))})),this._alternatives=this._toDispose.add(new mZ(()=>{return this._toDispose.add(new JZ(this.editor,this._contextKeyService))})),this._toDispose.add(Z.createInstance(H3,$)),this._toDispose.add(this.model.onDidTrigger((V)=>{this.widget.value.showTriggered(V.auto,V.shy?250:50),this._lineSuffix.value=new Kt(this.editor.getModel(),V.position)})),this._toDispose.add(this.model.onDidSuggest((V)=>{if(V.triggerOptions.shy)return;let W=-1;for(let j of this._selectors.itemsOrderedByPriorityDesc)if(W=j.select(this.editor.getModel(),this.editor.getPosition(),V.completionModel.items),W!==-1)break;if(W===-1)W=0;let B=!1;if(V.triggerOptions.auto){const j=this.editor.getOption(117);if(j.selectionMode==="never"||j.selectionMode==="always")B=j.selectionMode==="never";else if(j.selectionMode==="whenTriggerCharacter")B=V.triggerOptions.triggerKind!==1;else if(j.selectionMode==="whenQuickSuggestion")B=V.triggerOptions.triggerKind===1&&!V.triggerOptions.refilter}this.widget.value.showSuggestions(V.completionModel,W,V.isFrozen,V.triggerOptions.auto,B)})),this._toDispose.add(this.model.onDidCancel((V)=>{if(!V.retrigger)this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{if(!aQ0)this.model.cancel(),this.model.clear()}));const H=J1.AcceptSuggestionsOnEnter.bindTo(Y),z=()=>{const V=this.editor.getOption(1);H.set(V==="on"||V==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion($,X){if(!$||!$.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Q=b7.get(this.editor);if(!Q)return;this._onWillInsertSuggestItem.fire({item:$.item});const Y=this.editor.getModel(),Z=Y.getAlternativeVersionId(),{item:G}=$,q=[],U=new u8;if(!(X&1))this.editor.pushUndoStop();const H=this.getOverwriteInfo(G,Boolean(X&8));this._memoryService.memorize(Y,this.editor.getPosition(),G);const z=G.isResolved;let V=-1,W=-1;if(Array.isArray(G.completion.additionalTextEdits)){this.model.cancel();const j=xJ.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",G.completion.additionalTextEdits.map((K)=>m5.replaceMove(L.lift(K.range),K.text))),j.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!z){const j=new G7;let K;const D=Y.onDidChangeContent((M)=>{if(M.isFlush){U.cancel(),D.dispose();return}for(let T of M.changes){const _=L.getEndPosition(T.range);if(!K||b.isBefore(_,K))K=_}}),A=X;X|=2;let P=!1;const R=this.editor.onWillType(()=>{if(R.dispose(),P=!0,!(A&2))this.editor.pushUndoStop()});q.push(G.resolve(U.token).then(()=>{if(!G.completion.additionalTextEdits||U.token.isCancellationRequested)return;if(K&&G.completion.additionalTextEdits.some((T)=>b.isBefore(K,L.getStartPosition(T.range))))return!1;if(P)this.editor.pushUndoStop();const M=xJ.capture(this.editor);if(this.editor.executeEdits("suggestController.additionalTextEdits.async",G.completion.additionalTextEdits.map((T)=>m5.replaceMove(L.lift(T.range),T.text))),M.restoreRelativeVerticalPositionOfCursor(this.editor),P||!(A&2))this.editor.pushUndoStop();return!0}).then((M)=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",j.elapsed(),M),W=M===!0?1:M===!1?0:-2}).finally(()=>{D.dispose(),R.dispose()}))}let{insertText:B}=G.completion;if(!(G.completion.insertTextRules&4))B=eY.escape(B);if(this.model.cancel(),Q.insert(B,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(G.completion.insertTextRules&1),clipboardText:$.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),!(X&2))this.editor.pushUndoStop();if(G.completion.command)if(G.completion.command.id===vW.id)this.model.trigger({auto:!0,retrigger:!0});else{const j=new G7;q.push(this._commandService.executeCommand(G.completion.command.id,...G.completion.command.arguments?[...G.completion.command.arguments]:[]).catch((K)=>{if(G.completion.extensionId)JJ(K);else a0(K)}).finally(()=>{V=j.elapsed()}))}if(X&4)this._alternatives.value.set($,(j)=>{U.cancel();while(Y.canUndo()){if(Z!==Y.getAlternativeVersionId())Y.undo();this._insertSuggestion(j,1|2|(X&8?8:0));break}});this._alertCompletionItem(G),Promise.all(q).finally(()=>{this._reportSuggestionAcceptedTelemetry(G,Y,z,V,W),this.model.clear(),U.dispose()})}_reportSuggestionAcceptedTelemetry($,X,Q,Y,Z){var G,q,U;if(Math.floor(Math.random()*100)===0)return;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(q=(G=$.extensionId)===null||G===void 0?void 0:G.value)!==null&&q!==void 0?q:"unknown",providerId:(U=$.provider._debugDisplayName)!==null&&U!==void 0?U:"unknown",kind:$.completion.kind,basenameHash:_F(yG(X.uri)).toString(16),languageId:X.getLanguageId(),fileExtension:Fu(X.uri),resolveInfo:!$.provider.resolveCompletionItem?-1:Q?1:0,resolveDuration:$.resolveDuration,commandDuration:Y,additionalEditsAsync:Z})}getOverwriteInfo($,X){w7(this.editor.hasModel());let Q=this.editor.getOption(117).insertMode==="replace";if(X)Q=!Q;const Y=$.position.column-$.editStart.column,Z=(Q?$.editReplaceEnd.column:$.editInsertEnd.column)-$.position.column,G=this.editor.getPosition().column-$.position.column,q=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+G,overwriteAfter:Z+q}}_alertCompletionItem($){if(F5($.completion.additionalTextEdits)){const X=F("aria.alert.snippet","Accepting '{0}' made {1} additional edits",$.textLabel,$.completion.additionalTextEdits.length);U4(X)}}triggerSuggest($,X,Q){if(this.editor.hasModel())this.model.trigger({auto:X!==null&&X!==void 0?X:!1,completionOptions:{providerFilter:$,kindFilter:Q?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus()}triggerSuggestAndAcceptBest($){if(!this.editor.hasModel())return;const X=this.editor.getPosition(),Q=()=>{if(X.equals(this.editor.getPosition()))this._commandService.executeCommand($.fallback)},Y=(Z)=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const G=this.editor.getPosition(),q=Z.editStart.column,U=G.column;if(U-q!==Z.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:G.lineNumber,startColumn:q,endLineNumber:G.lineNumber,endColumn:U})!==Z.completion.insertText};Y0.once(this.model.onDidTrigger)((Z)=>{const G=[];Y0.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{w1(G),Q()},void 0,G),this.model.onDidSuggest(({completionModel:q})=>{if(w1(G),q.items.length===0){Q();return}const U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.items),H=q.items[U];if(!Y(H)){Q();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:H,model:q},4|1|2)},void 0,G)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(X,0),this.editor.focus()}acceptSelectedSuggestion($,X){const Q=this.widget.value.getFocusedItem();let Y=0;if($)Y|=4;if(X)Y|=8;this._insertSuggestion(Q,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){if(!this.widget.isInitialized)return;this.widget.value.stopForceRenderingAbove()}registerSelector($){return this._selectors.register($)}};ZZ.ID="editor.contrib.suggestController";ZZ=uy=sQ0([W3(1,yy),W3(2,H7),W3(3,p0),W3(4,G1),W3(5,F7),W3(6,e9)],ZZ);class At{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort(($,X)=>this.prioritySelector(X)-this.prioritySelector($)),{dispose:()=>{const $=this._items.indexOf(J);if($>=0)this._items.splice($,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class vW extends VJ{constructor(){super({id:vW.id,label:F("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:M0.and(t.writable,t.hasCompletionItemProvider,J1.Visible.toNegated()),kbOpts:{kbExpr:t.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(J,$,X){const Q=ZZ.get($);if(!Q)return;let Y;if(X&&typeof X==="object"){if(X.auto===!0)Y=!0}Q.triggerSuggest(void 0,Y,void 0)}}vW.id="editor.action.triggerSuggest";w5(ZZ.ID,ZZ,2);J7(vW);var W5=190,G9=k9.bindToContribution(ZZ.get);T0(new G9({id:"acceptSelectedSuggestion",precondition:M0.and(J1.Visible,J1.HasFocusedSuggestion),handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:M0.and(J1.Visible,t.textInputFocus),weight:W5},{primary:3,kbExpr:M0.and(J1.Visible,t.textInputFocus,J1.AcceptSuggestionsOnEnter,J1.MakesTextEdit),weight:W5}],menuOpts:[{menuId:r$,title:F("accept.insert","Insert"),group:"left",order:1,when:J1.HasInsertAndReplaceRange.toNegated()},{menuId:r$,title:F("accept.insert","Insert"),group:"left",order:1,when:M0.and(J1.HasInsertAndReplaceRange,J1.InsertMode.isEqualTo("insert"))},{menuId:r$,title:F("accept.replace","Replace"),group:"left",order:1,when:M0.and(J1.HasInsertAndReplaceRange,J1.InsertMode.isEqualTo("replace"))}]}));T0(new G9({id:"acceptAlternativeSelectedSuggestion",precondition:M0.and(J1.Visible,t.textInputFocus,J1.HasFocusedSuggestion),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:r$,group:"left",order:2,when:M0.and(J1.HasInsertAndReplaceRange,J1.InsertMode.isEqualTo("insert")),title:F("accept.replace","Replace")},{menuId:r$,group:"left",order:2,when:M0.and(J1.HasInsertAndReplaceRange,J1.InsertMode.isEqualTo("replace")),title:F("accept.insert","Insert")}]}));V8.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");T0(new G9({id:"hideSuggestWidget",precondition:J1.Visible,handler:(J)=>J.cancelSuggestWidget(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:9,secondary:[1024|9]}}));T0(new G9({id:"selectNextSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}}));T0(new G9({id:"selectNextPageSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextPageSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:12,secondary:[2048|12]}}));T0(new G9({id:"selectLastSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectLastSuggestion()}));T0(new G9({id:"selectPrevSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}}));T0(new G9({id:"selectPrevPageSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevPageSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:11,secondary:[2048|11]}}));T0(new G9({id:"selectFirstSuggestion",precondition:M0.and(J1.Visible,M0.or(J1.MultipleSuggestions,J1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectFirstSuggestion()}));T0(new G9({id:"focusSuggestion",precondition:M0.and(J1.Visible,J1.HasFocusedSuggestion.negate()),handler:(J)=>J.focusSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}}}));T0(new G9({id:"focusAndAcceptSuggestion",precondition:M0.and(J1.Visible,J1.HasFocusedSuggestion.negate()),handler:(J)=>{J.focusSuggestion(),J.acceptSelectedSuggestion(!0,!1)}}));T0(new G9({id:"toggleSuggestionDetails",precondition:M0.and(J1.Visible,J1.HasFocusedSuggestion),handler:(J)=>J.toggleSuggestionDetails(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:r$,group:"right",order:1,when:M0.and(J1.DetailsVisible,J1.CanResolve),title:F("detail.more","show less")},{menuId:r$,group:"right",order:1,when:M0.and(J1.DetailsVisible.toNegated(),J1.CanResolve),title:F("detail.less","show more")}]}));T0(new G9({id:"toggleExplainMode",precondition:J1.Visible,handler:(J)=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2048|90}}));T0(new G9({id:"toggleSuggestionFocus",precondition:J1.Visible,handler:(J)=>J.toggleSuggestionFocus(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}}));T0(new G9({id:"insertBestCompletion",precondition:M0.and(t.textInputFocus,M0.equals("config.editor.tabCompletion","on"),H3.AtEnd,J1.Visible.toNegated(),JZ.OtherSuggestions.toNegated(),b7.InSnippetMode.toNegated()),handler:(J,$)=>{J.triggerSuggestAndAcceptBest(r8($)?Object.assign({fallback:"tab"},$):{fallback:"tab"})},kbOpts:{weight:W5,primary:2}}));T0(new G9({id:"insertNextSuggestion",precondition:M0.and(t.textInputFocus,M0.equals("config.editor.tabCompletion","on"),JZ.OtherSuggestions,J1.Visible.toNegated(),b7.InSnippetMode.toNegated()),handler:(J)=>J.acceptNextSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:2}}));T0(new G9({id:"insertPrevSuggestion",precondition:M0.and(t.textInputFocus,M0.equals("config.editor.tabCompletion","on"),JZ.OtherSuggestions,J1.Visible.toNegated(),b7.InSnippetMode.toNegated()),handler:(J)=>J.acceptPrevSuggestion(),kbOpts:{weight:W5,kbExpr:t.textInputFocus,primary:1024|2}}));J7(class extends VJ{constructor(){super({id:"editor.action.resetSuggestSize",label:F("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,$){var X;(X=ZZ.get($))===null||X===void 0||X.resetWidgetSize()}});r4();L5();m0();class Pt extends VJ{constructor(){super({id:"editor.action.forceRetokenize",label:F("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(J,$){if(!$.hasModel())return;const X=$.getModel();X.tokenization.resetTokenization();const Q=new G7;X.tokenization.forceTokenization(X.getLineCount()),Q.stop(),console.log(`tokenization took ${Q.elapsed()}`)}}J7(Pt);c9();c9();var mY0=function(){return Promise.resolve().then(() => (Ke(),Fe))};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var{defineProperty:CY0,getOwnPropertyDescriptor:xY0,getOwnPropertyNames:bY0}=Object,vY0=Object.prototype.hasOwnProperty,Ae=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of bY0($))if(!vY0.call(J,Y)&&Y!==X)CY0(J,Y,{get:()=>$[Y],enumerable:!(Q=xY0($,Y))||Q.enumerable})}return J},fY0=(J,$,X)=>(Ae(J,$,"default"),X&&Ae(X,$,"default")),dW={};fY0(dW,e7);var hY0=class{_onDidChange=new dW.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(J,$,X){this._languageId=J,this.setDiagnosticsOptions($),this.setModeConfiguration(X)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(J){this._diagnosticsOptions=J||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(J){this._modeConfiguration=J||Object.create(null),this._onDidChange.fire(this)}},gY0={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},pY0={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Pe=new hY0("json",gY0,pY0);dW.languages.json={jsonDefaults:Pe};dW.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});dW.languages.onLanguage("json",()=>{mY0().then((J)=>J.setupMode(Pe))});JS();c9();var hJ=function(J){const $=J.id;ie[$]=J,aW.languages.register(J);const X=ne.getOrCreate($);aW.languages.registerTokensProviderFactory($,{create:async()=>{return(await X.load()).language}}),aW.languages.onLanguageEncountered($,async()=>{const Q=await X.load();aW.languages.setLanguageConfiguration($,Q.conf)})};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var{defineProperty:qZ0,getOwnPropertyDescriptor:UZ0,getOwnPropertyNames:HZ0}=Object,zZ0=Object.prototype.hasOwnProperty,re=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of HZ0($))if(!zZ0.call(J,Y)&&Y!==X)qZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=UZ0($,Y))||Q.enumerable})}return J},VZ0=(J,$,X)=>(re(J,$,"default"),X&&re(X,$,"default")),aW={};VZ0(aW,e7);var ie={},$S={},ne=class{static getOrCreate(J){if(!$S[J])$S[J]=new ne(J);return $S[J]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(J){this._languageId=J,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(($,X)=>{this._lazyLoadPromiseResolve=$,this._lazyLoadPromiseReject=X})}load(){if(!this._loadingTriggered)this._loadingTriggered=!0,ie[this._languageId].loader().then((J)=>this._lazyLoadPromiseResolve(J),(J)=>this._lazyLoadPromiseReject(J));return this._lazyLoadPromise}};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>{return Promise.resolve().then(() => (te(),oe))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>{return Promise.resolve().then(() => (X00(),$00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>{return Promise.resolve().then(() => (Y00(),Q00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>{return Promise.resolve().then(() => (U00(),q00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>{return Promise.resolve().then(() => (QS(),J00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.44.0(3e047efd345ff102c8c61b5398fb30845aaac166)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/hJ({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>{return Promise.resolve().then(() => (V00(),z00))}});c9();P2.defineTheme("bc",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#F9F9F9","editor.foreground":"#575E75","editor.lineHighlightBackground":"#E5F0FF","editor.lineHighlightBorder":"#E5F0FF","scrollbarSlider.background":"#CECDCE","scrollbarSlider.hoverBackground":"#CECDCE","scrollbarSlider.activeBackground":"#CECDCE"}});window.MonacoEnvironment={getWorker:(J,$)=>{switch($){case"json":return new Worker("/workers/json-worker.js",{type:"module"});case"javascript":case"typescript":return new Worker("/workers/ts-worker.js",{type:"module"});default:return new Worker("/workers/editor-worker.js",{type:"module"})}}};async function ZS(J,$){return P2.create(J,{theme:"bc",autoClosingBrackets:"languageDefined",autoClosingDelete:"auto",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",automaticLayout:!0,bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},contextmenu:!1,copyWithSyntaxHighlighting:!0,fontSize:16,formatOnPaste:!0,inlineSuggest:{enabled:!0},minimap:{enabled:!1},hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{horizontal:"visible",horizontalScrollbarSize:6,vertical:"visible",verticalScrollbarSize:6},showDeprecated:!0,smoothScrolling:!0,...$})}j1();F0(".y125aq_editor-wrapper{width:100%;height:100%;position:relative}.y125aq_editor-wrapper .scrollbar.horizontal{bottom:1px!important}.y125aq_editor-wrapper .scrollbar.vertical{right:1px!important}.y125aq_editor-wrapper .slider{border-radius:3px;overflow:hidden}");var W00={editorWrapper:"y125aq_editor-wrapper"};function pZ0(){const J=fZ0(null),[$,X]=GS(0),[Q,Y]=GS(-1),[Z,G]=GS(""),{fileList:q,selectedIndex:U,modifyFile:H}=gZ0(),z=U>=0&&q[U];if(J.editor&&z){if(qS(z.name)!==Z)G(qS(z.name)),B00(J.editor,H,z);if(Q!==U||q.length!==$)X(q.length),Y(U),J.editor.getModel().setValue(z.content),J.editor.updateOptions({readOnly:z.readOnly})}return hZ0(async()=>{if(J.current){if(J.editor=await ZS(J.current),z)X(q.length),Y(U),G(qS(z.name)),J.editor.updateOptions({readOnly:z.readOnly});B00(J.editor,H,z)}return()=>{if(J.editor)J.editor.dispose(),J.editor=null}},[J]),mZ0("div",{ref:J,className:W00.editorWrapper})}import{jsx as mZ0} from"preact/jsx-runtime";var qS=(J)=>J.split(".").at(-1),B00=(J,$,X={content:"",name:""})=>{const Q=P2.createModel(X.content,void 0,jy.file(X.name)),Y=J.getModel();Q.onDidChangeContent(()=>$({content:Q.getValue()})),J.setModel(Q),Y.dispose()};export{e7 as monaco,pZ0 as CodeEditor};
