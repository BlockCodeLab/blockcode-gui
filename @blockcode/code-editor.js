var A00=Object.defineProperty;var DZ=(J,$)=>{for(var Q in $)A00(J,Q,{get:$[Q],enumerable:!0,configurable:!0,set:(X)=>$[Q]=()=>X})};var N=(J,$)=>()=>(J&&($=J(J=0)),$);function j0(J){let $=globalThis.document,Q=$.createElement("style");Q.appendChild($.createTextNode(J)),$.head.append(Q)}function t7(J,$=0){return J[J.length-(1+$)]}function kx(J){if(J.length===0)throw new Error("Invalid tail call");return[J.slice(0,J.length-1),J[J.length-1]]}function Q6(J,$,Q=(X,Y)=>X===Y){if(J===$)return!0;if(!J||!$)return!1;if(J.length!==$.length)return!1;for(let X=0,Y=J.length;X<Y;X++)if(!Q(J[X],$[X]))return!1;return!0}function Ex(J,$){let Q=J.length-1;if($<Q)J[$]=J[Q];J.pop()}function KW(J,$,Q){return P00(J.length,(X)=>Q(J[X],$))}function P00(J,$){let Q=0,X=J-1;while(Q<=X){let Y=(Q+X)/2|0,Z=$(Y);if(Z<0)Q=Y+1;else if(Z>0)X=Y-1;else return Y}return-(Q+1)}function FW(J,$,Q){if(J=J|0,J>=$.length)throw new TypeError("invalid index");let X=$[Math.floor($.length*Math.random())],Y=[],Z=[],G=[];for(let q of $){let U=Q(q,X);if(U<0)Y.push(q);else if(U>0)Z.push(q);else G.push(q)}if(J<Y.length)return FW(J,Y,Q);else if(J<Y.length+G.length)return G[0];else return FW(J-(Y.length+G.length),Z,Q)}function mR(J,$){let Q=[],X=void 0;for(let Y of J.slice(0).sort($))if(!X||$(X[0],Y)!==0)X=[Y],Q.push(X);else X.push(Y);return Q}function*EG(J,$){let Q,X;for(let Y of J){if(X!==void 0&&$(X,Y))Q.push(Y);else{if(Q)yield Q;Q=[Y]}X=Y}if(Q)yield Q}function AW(J,$){for(let Q=0;Q<=J.length;Q++)$(Q===0?void 0:J[Q-1],Q===J.length?void 0:J[Q])}function Ix(J,$){for(let Q=0;Q<J.length;Q++)$(Q===0?void 0:J[Q-1],J[Q],Q+1===J.length?void 0:J[Q+1])}function PW(J){return J.filter(($)=>!!$)}function uR(J){let $=0;for(let Q=0;Q<J.length;Q++)if(J[Q])J[$]=J[Q],$+=1;J.length=$}function DW(J){return!Array.isArray(J)||J.length===0}function _9(J){return Array.isArray(J)&&J.length>0}function q4(J,$=(Q)=>Q){let Q=new Set;return J.filter((X)=>{let Y=$(X);if(Q.has(Y))return!1;return Q.add(Y),!0})}function IG(J,$){return J.length>0?J[0]:$}function w5(J,$){let Q=typeof $==="number"?J:0;if(typeof $==="number")Q=J;else Q=0,$=J;let X=[];if(Q<=$)for(let Y=Q;Y<$;Y++)X.push(Y);else for(let Y=Q;Y>$;Y--)X.push(Y);return X}function xX(J,$,Q){let X=J.slice(0,$),Y=J.slice($);return X.concat(Q,Y)}function RW(J,$){let Q=J.indexOf($);if(Q>-1)J.splice(Q,1),J.unshift($)}function CU(J,$){let Q=J.indexOf($);if(Q>-1)J.splice(Q,1),J.push($)}function vU(J,$){for(let Q of $)J.push(Q)}function yx(J){return Array.isArray(J)?J:[J]}function D00(J,$,Q){let X=xx(J,$),Y=J.length,Z=Q.length;J.length=Y+Z;for(let G=Y-1;G>=X;G--)J[G+Z]=J[G];for(let G=0;G<Z;G++)J[G+X]=Q[G]}function cR(J,$,Q,X){let Y=xx(J,$),Z=J.splice(Y,Q);if(Z===void 0)Z=[];return D00(J,Y,X),Z}function xx(J,$){return $<0?Math.max($+J.length,0):Math.min($,J.length)}function k7(J,$){return(Q,X)=>$(J(Q),J(X))}function bx(...J){return($,Q)=>{for(let X of J){let Y=X($,Q);if(!SU.isNeitherLessOrGreaterThan(Y))return Y}return SU.neitherLessOrGreaterThan}}function Cx(J){return($,Q)=>-J($,Q)}class r8{constructor(J){this.items=J,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(J){let $=this.firstIdx;while($<this.items.length&&J(this.items[$]))$++;let Q=$===this.firstIdx?null:this.items.slice(this.firstIdx,$);return this.firstIdx=$,Q}takeFromEndWhile(J){let $=this.lastIdx;while($>=0&&J(this.items[$]))$--;let Q=$===this.lastIdx?null:this.items.slice($+1,this.lastIdx+1);return this.lastIdx=$,Q}peek(){if(this.length===0)return;return this.items[this.firstIdx]}dequeue(){let J=this.items[this.firstIdx];return this.firstIdx++,J}takeCount(J){let $=this.items.slice(this.firstIdx,this.firstIdx+J);return this.firstIdx+=J,$}}class G4{constructor(J){this.iterate=J}toArray(){let J=[];return this.iterate(($)=>{return J.push($),!0}),J}filter(J){return new G4(($)=>this.iterate((Q)=>J(Q)?$(Q):!0))}map(J){return new G4(($)=>this.iterate((Q)=>$(J(Q))))}findLast(J){let $;return this.iterate((Q)=>{if(J(Q))$=Q;return!0}),$}findLastMaxBy(J){let $,Q=!0;return this.iterate((X)=>{if(Q||SU.isGreaterThan(J(X,$)))Q=!1,$=X;return!0}),$}}var SU,qQ=(J,$)=>J-$,Sx=(J,$)=>qQ(J?1:0,$?1:0);var U1=N(()=>{(function(J){function $(Z){return Z<0}J.isLessThan=$;function Q(Z){return Z<=0}J.isLessThanOrEqual=Q;function X(Z){return Z>0}J.isGreaterThan=X;function Y(Z){return Z===0}J.isNeitherLessOrGreaterThan=Y,J.greaterThan=1,J.lessThan=-1,J.neitherLessOrGreaterThan=0})(SU||(SU={}));G4.empty=new G4((J)=>{})});function Y5(J){return typeof J==="string"}function r6(J){return typeof J==="object"&&J!==null&&!Array.isArray(J)&&!(J instanceof RegExp)&&!(J instanceof Date)}function vx(J){let $=Object.getPrototypeOf(Uint8Array);return typeof J==="object"&&J instanceof $}function e7(J){return typeof J==="number"&&!isNaN(J)}function lR(J){return!!J&&typeof J[Symbol.iterator]==="function"}function MW(J){return J===!0||J===!1}function o5(J){return typeof J==="undefined"}function UQ(J){return!K8(J)}function K8(J){return o5(J)||J===null}function Z5(J,$){if(!J)throw new Error($?`Unexpected type, expected '${$}'`:"Unexpected type")}function _W(J){if(K8(J))throw new Error("Assertion Failed: argument is undefined or null");return J}function yG(J){return typeof J==="function"}function hx(J,$){let Q=Math.min(J.length,$.length);for(let X=0;X<Q;X++)R00(J[X],$[X])}function R00(J,$){if(Y5($)){if(typeof J!==$)throw new Error(`argument does not match constraint: typeof ${$}`)}else if(yG($)){try{if(J instanceof $)return}catch(Q){}if(!K8(J)&&J.constructor===$)return;if($.length===1&&$.call(void 0,J)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function rJ(J){if(!J||typeof J!=="object")return J;if(J instanceof RegExp)return J;let $=Array.isArray(J)?[]:{};return Object.entries(J).forEach(([Q,X])=>{$[Q]=X&&typeof X==="object"?rJ(X):X}),$}function fx(J){if(!J||typeof J!=="object")return J;let $=[J];while($.length>0){let Q=$.shift();Object.freeze(Q);for(let X in Q)if(gx.call(Q,X)){let Y=Q[X];if(typeof Y==="object"&&!Object.isFrozen(Y)&&!vx(Y))$.push(Y)}}return J}function OW(J,$){return dR(J,$,new Set)}function dR(J,$,Q){if(K8(J))return J;let X=$(J);if(typeof X!=="undefined")return X;if(Array.isArray(J)){let Y=[];for(let Z of J)Y.push(dR(Z,$,Q));return Y}if(r6(J)){if(Q.has(J))throw new Error("Cannot clone recursive data-structure");Q.add(J);let Y={};for(let Z in J)if(gx.call(J,Z))Y[Z]=dR(J[Z],$,Q);return Q.delete(J),Y}return J}function sR(J,$,Q=!0){if(!r6(J))return $;if(r6($))Object.keys($).forEach((X)=>{if(X in J){if(Q)if(r6(J[X])&&r6($[X]))sR(J[X],$[X],Q);else J[X]=$[X]}else J[X]=$[X]});return J}function L5(J,$){if(J===$)return!0;if(J===null||J===void 0||$===null||$===void 0)return!1;if(typeof J!==typeof $)return!1;if(typeof J!=="object")return!1;if(Array.isArray(J)!==Array.isArray($))return!1;let Q,X;if(Array.isArray(J)){if(J.length!==$.length)return!1;for(Q=0;Q<J.length;Q++)if(!L5(J[Q],$[Q]))return!1}else{let Y=[];for(X in J)Y.push(X);Y.sort();let Z=[];for(X in $)Z.push(X);if(Z.sort(),!L5(Y,Z))return!1;for(Q=0;Q<Y.length;Q++)if(!L5(J[Y[Q]],$[Y[Q]]))return!1}return!0}function M00(J){let $=[];while(Object.prototype!==J)$=$.concat(Object.getOwnPropertyNames(J)),J=Object.getPrototypeOf(J);return $}function bX(J){let $=[];for(let Q of M00(J))if(typeof J[Q]==="function")$.push(Q);return $}function px(J,$){let Q=(Y)=>{return function(){let Z=Array.prototype.slice.call(arguments,0);return $(Y,Z)}},X={};for(let Y of J)X[Y]=Q(Y);return X}var gx;var j7=N(()=>{gx=Object.prototype.hasOwnProperty});function O00(J,$){let Q;if($.length===0)Q=J;else Q=J.replace(/\{(\d+)\}/g,(X,Y)=>{let Z=Y[0],G=$[Z],q=X;if(typeof G==="string")q=G;else if(typeof G==="number"||typeof G==="boolean"||G===void 0||G===null)q=String(G);return q});if(_00)Q="［"+Q.replace(/[aouei]/g,"$&$&")+"］";return Q}function F(J,$,...Q){return O00($,Q)}function mx(J){return}var _00;var g0=N(()=>{_00=typeof document!=="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0});function ix(){if(!lx){lx=!0;let J=new Uint8Array(2);J[0]=1,J[1]=2,cx=new Uint16Array(J.buffer)[0]===513}return cx}var aR,xG="en",gU=!1,pU=!1,fU=!1,N00=!1,dx=!1,nR=!1,T00=!1,oR=!1,w00=!1,sx=!1,NW=void 0,rR,ux,L00=void 0,i4=void 0,HQ,i8=void 0,ax,k00,iR=0,L6,r0,V6,SX,nJ,E00,rx,O9,TW,iJ,I00,wW,I8,cx=!0,lx=!1,tR,nx,ox,tx,ex;var M1=N(()=>{g0();rR=xG,ux=xG,HQ=globalThis;if(typeof HQ.vscode!=="undefined"&&typeof HQ.vscode.process!=="undefined")i8=HQ.vscode.process;else if(typeof process!=="undefined")i8=process;ax=typeof((aR=i8===null||i8===void 0?void 0:i8.versions)===null||aR===void 0?void 0:aR.electron)==="string",k00=ax&&(i8===null||i8===void 0?void 0:i8.type)==="renderer";if(typeof i8==="object"){gU=i8.platform==="win32",pU=i8.platform==="darwin",fU=i8.platform==="linux",N00=fU&&!!i8.env.SNAP&&!!i8.env.SNAP_REVISION,T00=ax,w00=!!i8.env.CI||!!i8.env.BUILD_ARTIFACTSTAGINGDIRECTORY,NW=xG,rR=xG;let J=i8.env.VSCODE_NLS_CONFIG;if(J)try{let $=JSON.parse(J),Q=$.availableLanguages["*"];NW=$.locale,ux=$.osLocale,rR=Q?Q:xG,L00=$._translationsConfigFile}catch($){}dx=!0}else if(typeof navigator==="object"&&!k00)i4=navigator.userAgent,gU=i4.indexOf("Windows")>=0,pU=i4.indexOf("Macintosh")>=0,oR=(i4.indexOf("Macintosh")>=0||i4.indexOf("iPad")>=0||i4.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,fU=i4.indexOf("Linux")>=0,sx=(i4===null||i4===void 0?void 0:i4.indexOf("Mobi"))>=0,nR=!0,NW=mx(F({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||xG,rR=NW,ux=navigator.language;else console.error("Unable to resolve platform.");if(pU)iR=1;else if(gU)iR=3;else if(fU)iR=2;L6=gU,r0=pU,V6=fU,SX=dx,nJ=nR,E00=nR&&typeof HQ.importScripts==="function",rx=E00?HQ.origin:void 0,O9=oR,TW=sx,iJ=i4,I00=typeof HQ.postMessage==="function"&&!HQ.importScripts,wW=(()=>{if(I00){let J=[];HQ.addEventListener("message",(Q)=>{if(Q.data&&Q.data.vscodeScheduleAsyncWork)for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.id===Q.data.vscodeScheduleAsyncWork){J.splice(X,1),Z.callback();return}}});let $=0;return(Q)=>{let X=++$;J.push({id:X,callback:Q}),HQ.postMessage({vscodeScheduleAsyncWork:X},"*")}}return(J)=>setTimeout(J)})(),I8=pU||oR?2:gU?1:3;tR=!!(iJ&&iJ.indexOf("Chrome")>=0),nx=!!(iJ&&iJ.indexOf("Firefox")>=0),ox=!!(!tR&&(iJ&&iJ.indexOf("Safari")>=0)),tx=!!(iJ&&iJ.indexOf("Edg/")>=0),ex=!!(iJ&&iJ.indexOf("Android")>=0)});var F5;var mU=N(()=>{F5={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}});var W1;var N9=N(()=>{(function(J){function $(R){return R&&typeof R==="object"&&typeof R[Symbol.iterator]==="function"}J.is=$;let Q=Object.freeze([]);function X(){return Q}J.empty=X;function*Y(R){yield R}J.single=Y;function Z(R){if($(R))return R;else return Y(R)}J.wrap=Z;function G(R){return R||Q}J.from=G;function*q(R){for(let M=R.length-1;M>=0;M--)yield R[M]}J.reverse=q;function U(R){return!R||R[Symbol.iterator]().next().done===!0}J.isEmpty=U;function z(R){return R[Symbol.iterator]().next().value}J.first=z;function H(R,M){for(let _ of R)if(M(_))return!0;return!1}J.some=H;function j(R,M){for(let _ of R)if(M(_))return _;return}J.find=j;function*V(R,M){for(let _ of R)if(M(_))yield _}J.filter=V;function*W(R,M){let _=0;for(let T of R)yield M(T,_++)}J.map=W;function*B(...R){for(let M of R)yield*M}J.concat=B;function K(R,M,_){let T=_;for(let w of R)T=M(T,w);return T}J.reduce=K;function*P(R,M,_=R.length){if(M<0)M+=R.length;if(_<0)_+=R.length;else if(_>R.length)_=R.length;for(;M<_;M++)yield R[M]}J.slice=P;function A(R,M=Number.POSITIVE_INFINITY){let _=[];if(M===0)return[_,R];let T=R[Symbol.iterator]();for(let w=0;w<M;w++){let b=T.next();if(b.done)return[_,J.empty()];_.push(b.value)}return[_,{[Symbol.iterator](){return T}}]}J.consume=A;async function D(R){let M=[];for await(let _ of R)M.push(_);return Promise.resolve(M)}J.asyncToArray=D})(W1||(W1={}))});class f6{constructor(J){this.element=J,this.next=f6.Undefined,this.prev=f6.Undefined}}var k6;var T9=N(()=>{f6.Undefined=new f6(void 0);k6=class k6{constructor(){this._first=f6.Undefined,this._last=f6.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f6.Undefined}clear(){let J=this._first;while(J!==f6.Undefined){let $=J.next;J.prev=f6.Undefined,J.next=f6.Undefined,J=$}this._first=f6.Undefined,this._last=f6.Undefined,this._size=0}unshift(J){return this._insert(J,!1)}push(J){return this._insert(J,!0)}_insert(J,$){let Q=new f6(J);if(this._first===f6.Undefined)this._first=Q,this._last=Q;else if($){let Y=this._last;this._last=Q,Q.prev=Y,Y.next=Q}else{let Y=this._first;this._first=Q,Q.next=Y,Y.prev=Q}this._size+=1;let X=!1;return()=>{if(!X)X=!0,this._remove(Q)}}shift(){if(this._first===f6.Undefined)return;else{let J=this._first.element;return this._remove(this._first),J}}pop(){if(this._last===f6.Undefined)return;else{let J=this._last.element;return this._remove(this._last),J}}_remove(J){if(J.prev!==f6.Undefined&&J.next!==f6.Undefined){let $=J.prev;$.next=J.next,J.next.prev=$}else if(J.prev===f6.Undefined&&J.next===f6.Undefined)this._first=f6.Undefined,this._last=f6.Undefined;else if(J.next===f6.Undefined)this._last=this._last.prev,this._last.next=f6.Undefined;else if(J.prev===f6.Undefined)this._first=this._first.next,this._first.prev=f6.Undefined;this._size-=1}*[Symbol.iterator](){let J=this._first;while(J!==f6.Undefined)yield J.element,J=J.next}}});function y00(J=""){let $="(-?\\d*\\.\\d\\w*)|([^";for(let Q of eR){if(J.indexOf(Q)>=0)continue;$+="\\"+Q}return $+="\\s]+)",new RegExp($,"g")}function cU(J){let $=uU;if(J&&J instanceof RegExp)if(!J.global){let Q="g";if(J.ignoreCase)Q+="i";if(J.multiline)Q+="m";if(J.unicode)Q+="u";$=new RegExp(J.source,Q)}else $=J;return $.lastIndex=0,$}function CX(J,$,Q,X,Y){if($=cU($),!Y)Y=W1.first(Jb);if(Q.length>Y.maxLen){let z=J-Y.maxLen/2;if(z<0)z=0;else X+=z;return Q=Q.substring(z,J+Y.maxLen/2),CX(J,$,Q,X,Y)}let Z=Date.now(),G=J-1-X,q=-1,U=null;for(let z=1;;z++){if(Date.now()-Z>=Y.timeBudget)break;let H=G-Y.windowSize*z;$.lastIndex=Math.max(0,H);let j=x00($,Q,G,q);if(!j&&U)break;if(U=j,H<=0)break;q=H}if(U){let z={word:U[0],startColumn:X+1+U.index,endColumn:X+1+U.index+U[0].length};return $.lastIndex=0,z}return null}function x00(J,$,Q,X){let Y;while(Y=J.exec($)){let Z=Y.index||0;if(Z<=Q&&J.lastIndex>=Q)return Y;else if(X>0&&Z>X)return null}return null}var eR="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",uU,Jb;var bG=N(()=>{N9();T9();uU=y00();Jb=new k6;Jb.unshift({maxLen:1000,windowSize:15,timeBudget:150})});class dU{constructor(J){this._values=J}hasChanged(J){return this._values[J]}}class LW{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class U6{constructor(J,$,Q,X){this.id=J,this.name=$,this.defaultValue=Q,this.schema=X}applyUpdate(J,$){return kW(J,$)}compute(J,$,Q){return Q}}class MZ{constructor(J,$){this.newValue=J,this.didChange=$}}function kW(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return new MZ($,J!==$);if(Array.isArray(J)||Array.isArray($)){let X=Array.isArray(J)&&Array.isArray($)&&Q6(J,$);return new MZ($,!X)}let Q=!1;for(let X in $)if($.hasOwnProperty(X)){let Y=kW(J[X],$[X]);if(Y.didChange)J[X]=Y.newValue,Q=!0}return new MZ(J,Q)}class CG{constructor(J){this.schema=void 0,this.id=J,this.name="_never_",this.defaultValue=void 0}applyUpdate(J,$){return kW(J,$)}validate(J){return this.defaultValue}}class OZ{constructor(J,$,Q,X){this.id=J,this.name=$,this.defaultValue=Q,this.schema=X}applyUpdate(J,$){return kW(J,$)}validate(J){if(typeof J==="undefined")return this.defaultValue;return J}compute(J,$,Q){return Q}}function O0(J,$){if(typeof J==="undefined")return $;if(J==="false")return!1;return Boolean(J)}function vX(J,$,Q,X){if(typeof J==="undefined")return $;let Y=parseInt(J,10);if(isNaN(Y))return $;return Y=Math.max(Q,Y),Y=Math.min(X,Y),Y|0}function Qb(J,$,Q,X){if(typeof J==="undefined")return $;let Y=z4.float(J,$);return z4.clamp(Y,Q,X)}function E6(J,$,Q,X){if(typeof J!=="string")return $;if(X&&J in X)return X[J];if(Q.indexOf(J)===-1)return $;return J}function b00(J){switch(J){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}function S00(J){switch(J){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function C00(J){switch(J){case"line":return K5.Line;case"block":return K5.Block;case"underline":return K5.Underline;case"line-thin":return K5.LineThin;case"block-outline":return K5.BlockOutline;case"underline-thin":return K5.UnderlineThin}}function v00(J){if(J==="ctrlCmd")return r0?"metaKey":"ctrlKey";return"altKey"}function NZ(J){let $=J.get(97);if($==="editable")return J.get(90);return $==="on"?!1:!0}function $b(J,$){if(typeof J!=="string")return $;switch(J){case"hidden":return 2;case"visible":return 3;default:return 1}}function SG(J,$,Q){let X=Q.indexOf(J);if(X===-1)return $;return Q[X]}function e(J){return hX[J.id]=J,J}var VQ=8,D1,a1,z4,V7,W6,lU,Xb,Yb,K5,Zb,Gb,qb,n8,U4,Ub,zb,oJ,Hb,jb,_Z,Vb,jQ,Wb,Bb,Fb,Kb,Ab,Pb,Db,Rb,Mb,_b,Ob,Nb,Tb,wb,n4="inUntrustedWorkspace",RZ,Lb,kb,Eb,Ib,yb,xb,bb,Sb,Cb,vb,h00="Consolas, 'Courier New', monospace",f00="Menlo, Monaco, 'Courier New', monospace",g00="'Droid Sans Mono', 'monospace', monospace",y8,hX,o4;var t5=N(()=>{U1();j7();M1();mU();bG();g0();D1=class D1 extends OZ{constructor(J,$,Q,X=void 0){if(typeof X!=="undefined")X.type="boolean",X.default=Q;super(J,$,Q,X)}validate(J){return O0(J,this.defaultValue)}};a1=class a1 extends OZ{static clampedInt(J,$,Q,X){return vX(J,$,Q,X)}constructor(J,$,Q,X,Y,Z=void 0){if(typeof Z!=="undefined")Z.type="integer",Z.default=Q,Z.minimum=X,Z.maximum=Y;super(J,$,Q,Z);this.minimum=X,this.maximum=Y}validate(J){return a1.clampedInt(J,this.defaultValue,this.minimum,this.maximum)}};z4=class z4 extends OZ{static clamp(J,$,Q){if(J<$)return $;if(J>Q)return Q;return J}static float(J,$){if(typeof J==="number")return J;if(typeof J==="undefined")return $;let Q=parseFloat(J);return isNaN(Q)?$:Q}constructor(J,$,Q,X,Y){if(typeof Y!=="undefined")Y.type="number",Y.default=Q;super(J,$,Q,Y);this.validationFn=X}validate(J){return this.validationFn(z4.float(J,this.defaultValue))}};V7=class V7 extends OZ{static string(J,$){if(typeof J!=="string")return $;return J}constructor(J,$,Q,X=void 0){if(typeof X!=="undefined")X.type="string",X.default=Q;super(J,$,Q,X)}validate(J){return V7.string(J,this.defaultValue)}};W6=class W6 extends OZ{constructor(J,$,Q,X,Y=void 0){if(typeof Y!=="undefined")Y.type="string",Y.enum=X,Y.default=Q;super(J,$,Q,Y);this._allowedValues=X}validate(J){return E6(J,this.defaultValue,this._allowedValues)}};lU=class lU extends U6{constructor(J,$,Q,X,Y,Z,G=void 0){if(typeof G!=="undefined")G.type="string",G.enum=Y,G.default=X;super(J,$,Q,G);this._allowedValues=Y,this._convert=Z}validate(J){if(typeof J!=="string")return this.defaultValue;if(this._allowedValues.indexOf(J)===-1)return this.defaultValue;return this._convert(J)}};Xb=class Xb extends U6{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[F("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),F("accessibilitySupport.on","Optimize for usage with a Screen Reader."),F("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:F("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(J){switch(J){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(J,$,Q){if(Q===0)return J.accessibilitySupport;return Q}};Yb=class Yb extends U6{constructor(){let J={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",J,{"editor.comments.insertSpace":{type:"boolean",default:J.insertSpace,description:F("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:J.ignoreEmptyLines,description:F("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{insertSpace:O0($.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:O0($.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(K5||(K5={}));Zb=class Zb extends CG{constructor(){super(140)}compute(J,$,Q){let X=["monaco-editor"];if($.get(39))X.push($.get(39));if(J.extraEditorClassName)X.push(J.extraEditorClassName);if($.get(73)==="default")X.push("mouse-default");else if($.get(73)==="copy")X.push("mouse-copy");if($.get(110))X.push("showUnused");if($.get(138))X.push("showDeprecated");return X.join(" ")}};Gb=class Gb extends D1{constructor(){super(37,"emptySelectionClipboard",!0,{description:F("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(J,$,Q){return Q&&J.emptySelectionClipboard}};qb=class qb extends U6{constructor(){let J={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",J,{"editor.find.cursorMoveOnType":{type:"boolean",default:J.cursorMoveOnType,description:F("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:J.seedSearchStringFromSelection,enumDescriptions:[F("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),F("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),F("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:F("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:J.autoFindInSelection,enumDescriptions:[F("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),F("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),F("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:F("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:J.globalFindClipboard,description:F("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r0},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:J.addExtraSpaceOnTop,description:F("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:J.loop,description:F("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{cursorMoveOnType:O0($.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof J.seedSearchStringFromSelection==="boolean"?J.seedSearchStringFromSelection?"always":"never":E6($.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof J.autoFindInSelection==="boolean"?J.autoFindInSelection?"always":"never":E6($.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:O0($.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:O0($.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:O0($.loop,this.defaultValue.loop)}}};n8=class n8 extends U6{constructor(){super(51,"fontLigatures",n8.OFF,{anyOf:[{type:"boolean",description:F("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:F("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:F("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false"||J.length===0)return n8.OFF;if(J==="true")return n8.ON;return J}if(Boolean(J))return n8.ON;return n8.OFF}};n8.OFF='"liga" off, "calt" off';n8.ON='"liga" on, "calt" on';U4=class U4 extends U6{constructor(){super(54,"fontVariations",U4.OFF,{anyOf:[{type:"boolean",description:F("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:F("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:F("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false")return U4.OFF;if(J==="true")return U4.TRANSLATE;return J}if(Boolean(J))return U4.TRANSLATE;return U4.OFF}compute(J,$,Q){return J.fontInfo.fontVariationSettings}};U4.OFF="normal";U4.TRANSLATE="translate";Ub=class Ub extends CG{constructor(){super(50)}compute(J,$,Q){return J.fontInfo}};zb=class zb extends OZ{constructor(){super(52,"fontSize",y8.fontSize,{type:"number",minimum:6,maximum:100,default:y8.fontSize,description:F("fontSize","Controls the font size in pixels.")})}validate(J){let $=z4.float(J,this.defaultValue);if($===0)return y8.fontSize;return z4.clamp($,6,100)}compute(J,$,Q){return J.fontInfo.fontSize}};oJ=class oJ extends U6{constructor(){super(53,"fontWeight",y8.fontWeight,{anyOf:[{type:"number",minimum:oJ.MINIMUM_VALUE,maximum:oJ.MAXIMUM_VALUE,errorMessage:F("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:oJ.SUGGESTION_VALUES}],default:y8.fontWeight,description:F("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(J){if(J==="normal"||J==="bold")return J;return String(a1.clampedInt(J,y8.fontWeight,oJ.MINIMUM_VALUE,oJ.MAXIMUM_VALUE))}};oJ.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];oJ.MINIMUM_VALUE=1;oJ.MAXIMUM_VALUE=1000;Hb=class Hb extends U6{constructor(){let J={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$={type:"string",enum:["peek","gotoAndPeek","goto"],default:J.multiple,enumDescriptions:[F("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),F("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),F("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Q=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",J,{"editor.gotoLocation.multiple":{deprecationMessage:F("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:F("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleTypeDefinitions":{description:F("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleDeclarations":{description:F("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleImplementations":{description:F("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleReferences":{description:F("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...$},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:J.alternativeDefinitionCommand,enum:Q,description:F("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:J.alternativeTypeDefinitionCommand,enum:Q,description:F("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:J.alternativeDeclarationCommand,enum:Q,description:F("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:J.alternativeImplementationCommand,enum:Q,description:F("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:J.alternativeReferenceCommand,enum:Q,description:F("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(J){var $,Q,X,Y,Z;if(!J||typeof J!=="object")return this.defaultValue;let G=J;return{multiple:E6(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:($=G.multipleDefinitions)!==null&&$!==void 0?$:E6(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Q=G.multipleTypeDefinitions)!==null&&Q!==void 0?Q:E6(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(X=G.multipleDeclarations)!==null&&X!==void 0?X:E6(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Y=G.multipleImplementations)!==null&&Y!==void 0?Y:E6(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Z=G.multipleReferences)!==null&&Z!==void 0?Z:E6(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:V7.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:V7.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:V7.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:V7.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:V7.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}};jb=class jb extends U6{constructor(){let J={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",J,{"editor.hover.enabled":{type:"boolean",default:J.enabled,description:F("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:J.delay,minimum:0,maximum:1e4,description:F("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:J.sticky,description:F("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:J.hidingDelay,description:F("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:J.above,description:F("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),delay:a1.clampedInt($.delay,this.defaultValue.delay,0,1e4),sticky:O0($.sticky,this.defaultValue.sticky),hidingDelay:a1.clampedInt($.hidingDelay,this.defaultValue.hidingDelay,0,600000),above:O0($.above,this.defaultValue.above)}}};_Z=class _Z extends CG{constructor(){super(143)}compute(J,$,Q){return _Z.computeLayout($,{memory:J.memory,outerWidth:J.outerWidth,outerHeight:J.outerHeight,isDominatedByLongLines:J.isDominatedByLongLines,lineHeight:J.fontInfo.lineHeight,viewLineCount:J.viewLineCount,lineNumbersDigitCount:J.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:J.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:J.fontInfo.maxDigitWidth,pixelRatio:J.pixelRatio,glyphMarginDecorationLaneCount:J.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(J){let $=J.height/J.lineHeight,Q=Math.floor(J.paddingTop/J.lineHeight),X=Math.floor(J.paddingBottom/J.lineHeight);if(J.scrollBeyondLastLine)X=Math.max(X,$-1);let Y=(Q+J.viewLineCount+X)/(J.pixelRatio*J.height),Z=Math.floor(J.viewLineCount/Y);return{typicalViewportLineCount:$,extraLinesBeforeFirstLine:Q,extraLinesBeyondLastLine:X,desiredRatio:Y,minimapLineCount:Z}}static _computeMinimapLayout(J,$){let{outerWidth:Q,outerHeight:X,pixelRatio:Y}=J;if(!J.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Y*X),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:X};let Z=$.stableMinimapLayoutInput,G=Z&&J.outerHeight===Z.outerHeight&&J.lineHeight===Z.lineHeight&&J.typicalHalfwidthCharacterWidth===Z.typicalHalfwidthCharacterWidth&&J.pixelRatio===Z.pixelRatio&&J.scrollBeyondLastLine===Z.scrollBeyondLastLine&&J.paddingTop===Z.paddingTop&&J.paddingBottom===Z.paddingBottom&&J.minimap.enabled===Z.minimap.enabled&&J.minimap.side===Z.minimap.side&&J.minimap.size===Z.minimap.size&&J.minimap.showSlider===Z.minimap.showSlider&&J.minimap.renderCharacters===Z.minimap.renderCharacters&&J.minimap.maxColumn===Z.minimap.maxColumn&&J.minimap.scale===Z.minimap.scale&&J.verticalScrollbarWidth===Z.verticalScrollbarWidth&&J.isViewportWrapping===Z.isViewportWrapping,q=J.lineHeight,U=J.typicalHalfwidthCharacterWidth,z=J.scrollBeyondLastLine,H=J.minimap.renderCharacters,j=Y>=2?Math.round(J.minimap.scale*2):J.minimap.scale,V=J.minimap.maxColumn,W=J.minimap.size,B=J.minimap.side,K=J.verticalScrollbarWidth,P=J.viewLineCount,A=J.remainingWidth,D=J.isViewportWrapping,R=H?2:3,M=Math.floor(Y*X),_=M/Y,T=!1,w=!1,b=R*j,S=j/Y,g=1;if(W==="fill"||W==="fit"){let{typicalViewportLineCount:R0,extraLinesBeforeFirstLine:T0,extraLinesBeyondLastLine:A0,desiredRatio:f0,minimapLineCount:d0}=_Z.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:z,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:X,lineHeight:q,pixelRatio:Y});if(P/d0>1)T=!0,w=!0,j=1,b=1,S=j/Y;else{let z0=!1,B8=j+1;if(W==="fit"){let C5=Math.ceil((T0+P+A0)*b);if(D&&G&&A<=$.stableFitRemainingWidth)z0=!0,B8=$.stableFitMaxMinimapScale;else z0=C5>M}if(W==="fill"||z0){T=!0;let C5=j;if(b=Math.min(q*Y,Math.max(1,Math.floor(1/f0))),D&&G&&A<=$.stableFitRemainingWidth)B8=$.stableFitMaxMinimapScale;if(j=Math.min(B8,Math.max(1,Math.floor(b/R))),j>C5)g=Math.min(2,j/C5);if(S=j/Y/g,M=Math.ceil(Math.max(R0,T0+P+A0)*b),D)$.stableMinimapLayoutInput=J,$.stableFitRemainingWidth=A,$.stableFitMaxMinimapScale=j;else $.stableMinimapLayoutInput=null,$.stableFitRemainingWidth=0}}}let c=Math.floor(V*S),C=Math.min(c,Math.max(0,Math.floor((A-K-2)*S/(U+S)))+VQ),u=Math.floor(Y*C),i=u/Y;u=Math.floor(u*g);let Y0=H?1:2,P0=B==="left"?0:Q-C-K;return{renderMinimap:Y0,minimapLeft:P0,minimapWidth:C,minimapHeightIsEditorHeight:T,minimapIsSampling:w,minimapScale:j,minimapLineHeight:b,minimapCanvasInnerWidth:u,minimapCanvasInnerHeight:M,minimapCanvasOuterWidth:i,minimapCanvasOuterHeight:_}}static computeLayout(J,$){let Q=$.outerWidth|0,X=$.outerHeight|0,Y=$.lineHeight|0,Z=$.lineNumbersDigitCount|0,G=$.typicalHalfwidthCharacterWidth,q=$.maxDigitWidth,U=$.pixelRatio,z=$.viewLineCount,H=J.get(135),j=H==="inherit"?J.get(134):H,V=j==="inherit"?J.get(130):j,W=J.get(133),B=$.isDominatedByLongLines,K=J.get(57),P=J.get(67).renderType!==0,A=J.get(68),D=J.get(104),R=J.get(83),M=J.get(72),_=J.get(102),T=_.verticalScrollbarSize,w=_.verticalHasArrows,b=_.arrowSize,S=_.horizontalScrollbarSize,g=J.get(43),c=J.get(109)!=="never",C=J.get(65);if(g&&c)C+=16;let u=0;if(P){let I1=Math.max(Z,A);u=Math.round(I1*q)}let i=0;if(K)i=Y*$.glyphMarginDecorationLaneCount;let Y0=0,P0=Y0+i,R0=P0+u,T0=R0+C,A0=Q-i-u-C,f0=!1,d0=!1,x0=-1;if(j==="inherit"&&B)f0=!0,d0=!0;else if(V==="on"||V==="bounded")d0=!0;else if(V==="wordWrapColumn")x0=W;let z0=_Z._computeMinimapLayout({outerWidth:Q,outerHeight:X,lineHeight:Y,typicalHalfwidthCharacterWidth:G,pixelRatio:U,scrollBeyondLastLine:D,paddingTop:R.top,paddingBottom:R.bottom,minimap:M,verticalScrollbarWidth:T,viewLineCount:z,remainingWidth:A0,isViewportWrapping:d0},$.memory||new LW);if(z0.renderMinimap!==0&&z0.minimapLeft===0)Y0+=z0.minimapWidth,P0+=z0.minimapWidth,R0+=z0.minimapWidth,T0+=z0.minimapWidth;let B8=A0-z0.minimapWidth,C5=Math.max(1,Math.floor((B8-T-2)/G)),F8=w?b:0;if(d0){if(x0=Math.max(1,C5),V==="bounded")x0=Math.min(x0,W)}return{width:Q,height:X,glyphMarginLeft:Y0,glyphMarginWidth:i,glyphMarginDecorationLaneCount:$.glyphMarginDecorationLaneCount,lineNumbersLeft:P0,lineNumbersWidth:u,decorationsLeft:R0,decorationsWidth:C,contentLeft:T0,contentWidth:B8,minimap:z0,viewportColumn:C5,isWordWrapMinified:f0,isViewportWrapping:d0,wrappingColumn:x0,verticalScrollbarWidth:T,horizontalScrollbarHeight:S,overviewRuler:{top:F8,width:T,height:X-2*F8,right:0}}}};Vb=class Vb extends U6{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[F("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),F("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:F("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(J){return E6(J,"simple",["simple","advanced"])}compute(J,$,Q){if($.get(2)===2)return"advanced";return Q}};(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(jQ||(jQ={}));Wb=class Wb extends U6{constructor(){let J={enabled:jQ.OnCode};super(64,"lightbulb",J,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[jQ.Off,jQ.OnCode,jQ.On],default:J.enabled,enumDescriptions:[F("editor.lightbulb.enabled.off","Disable the code action menu."),F("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),F("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:F("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{enabled:E6(J.enabled,this.defaultValue.enabled,[jQ.Off,jQ.OnCode,jQ.On])}}};Bb=class Bb extends U6{constructor(){let J={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",J,{"editor.stickyScroll.enabled":{type:"boolean",default:J.enabled,description:F("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:J.maxLineCount,minimum:1,maximum:10,description:F("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:J.defaultModel,description:F("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:J.scrollWithEditor,description:F("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),maxLineCount:a1.clampedInt($.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:E6($.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:O0($.scrollWithEditor,this.defaultValue.scrollWithEditor)}}};Fb=class Fb extends U6{constructor(){let J={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",J,{"editor.inlayHints.enabled":{type:"string",default:J.enabled,description:F("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[F("editor.inlayHints.on","Inlay hints are enabled"),F("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",r0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",r0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:J.fontSize,markdownDescription:F("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:J.fontFamily,markdownDescription:F("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:J.padding,description:F("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;if(typeof $.enabled==="boolean")$.enabled=$.enabled?"on":"off";return{enabled:E6($.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:a1.clampedInt($.fontSize,this.defaultValue.fontSize,0,100),fontFamily:V7.string($.fontFamily,this.defaultValue.fontFamily),padding:O0($.padding,this.defaultValue.padding)}}};Kb=class Kb extends U6{constructor(){super(65,"lineDecorationsWidth",10)}validate(J){if(typeof J==="string"&&/^\d+(\.\d+)?ch$/.test(J))return-parseFloat(J.substring(0,J.length-2));else return a1.clampedInt(J,this.defaultValue,0,1000)}compute(J,$,Q){if(Q<0)return a1.clampedInt(-Q*J.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1000);else return Q}};Ab=class Ab extends z4{constructor(){super(66,"lineHeight",y8.lineHeight,(J)=>z4.clamp(J,0,150),{markdownDescription:F("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(J,$,Q){return J.fontInfo.lineHeight}};Pb=class Pb extends U6{constructor(){let J={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",J,{"editor.minimap.enabled":{type:"boolean",default:J.enabled,description:F("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:J.autohide,description:F("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[F("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),F("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),F("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:J.size,description:F("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:J.side,description:F("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:J.showSlider,description:F("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:J.scale,minimum:1,maximum:3,enum:[1,2,3],description:F("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:J.renderCharacters,description:F("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:J.maxColumn,description:F("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),autohide:O0($.autohide,this.defaultValue.autohide),size:E6($.size,this.defaultValue.size,["proportional","fill","fit"]),side:E6($.side,this.defaultValue.side,["right","left"]),showSlider:E6($.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:O0($.renderCharacters,this.defaultValue.renderCharacters),scale:a1.clampedInt($.scale,1,1,3),maxColumn:a1.clampedInt($.maxColumn,this.defaultValue.maxColumn,1,1e4)}}};Db=class Db extends U6{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{top:a1.clampedInt($.top,0,0,1000),bottom:a1.clampedInt($.bottom,0,0,1000)}}};Rb=class Rb extends U6{constructor(){let J={enabled:!0,cycle:!0};super(85,"parameterHints",J,{"editor.parameterHints.enabled":{type:"boolean",default:J.enabled,description:F("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:J.cycle,description:F("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),cycle:O0($.cycle,this.defaultValue.cycle)}}};Mb=class Mb extends CG{constructor(){super(141)}compute(J,$,Q){return J.pixelRatio}};_b=class _b extends U6{constructor(){let J={other:"on",comments:"off",strings:"off"},$=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[F("on","Quick suggestions show inside the suggest widget"),F("inline","Quick suggestions show as ghost text"),F("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",J,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:$,default:J.strings,description:F("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:$,default:J.comments,description:F("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:$,default:J.other,description:F("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:J,markdownDescription:F("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")});this.defaultValue=J}validate(J){if(typeof J==="boolean"){let U=J?"on":"off";return{comments:U,strings:U,other:U}}if(!J||typeof J!=="object")return this.defaultValue;let{other:$,comments:Q,strings:X}=J,Y=["on","inline","off"],Z,G,q;if(typeof $==="boolean")Z=$?"on":"off";else Z=E6($,this.defaultValue.other,Y);if(typeof Q==="boolean")G=Q?"on":"off";else G=E6(Q,this.defaultValue.comments,Y);if(typeof X==="boolean")q=X?"on":"off";else q=E6(X,this.defaultValue.strings,Y);return{other:Z,comments:G,strings:q}}};Ob=class Ob extends U6{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[F("lineNumbers.off","Line numbers are not rendered."),F("lineNumbers.on","Line numbers are rendered as absolute number."),F("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),F("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:F("lineNumbers","Controls the display of line numbers.")})}validate(J){let $=this.defaultValue.renderType,Q=this.defaultValue.renderFn;if(typeof J!=="undefined")if(typeof J==="function")$=4,Q=J;else if(J==="interval")$=3;else if(J==="relative")$=2;else if(J==="on")$=1;else $=0;return{renderType:$,renderFn:Q}}};Nb=class Nb extends U6{constructor(){let J=[],$={type:"number",description:F("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",J,{type:"array",items:{anyOf:[$,{type:["object"],properties:{column:$,color:{type:"string",description:F("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:J,description:F("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(J){if(Array.isArray(J)){let $=[];for(let Q of J)if(typeof Q==="number")$.push({column:a1.clampedInt(Q,0,0,1e4),color:null});else if(Q&&typeof Q==="object"){let X=Q;$.push({column:a1.clampedInt(X.column,0,0,1e4),color:X.color})}return $.sort((Q,X)=>Q.column-X.column),$}return this.defaultValue}};Tb=class Tb extends U6{constructor(){super(91,"readOnlyMessage",void 0)}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return J}};wb=class wb extends U6{constructor(){let J={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",J,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),F("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),F("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),F("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),F("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:J.verticalScrollbarSize,description:F("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:J.horizontalScrollbarSize,description:F("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:J.scrollByPage,description:F("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:J.ignoreHorizontalScrollbarInContentHeight,description:F("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J,Q=a1.clampedInt($.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1000),X=a1.clampedInt($.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1000);return{arrowSize:a1.clampedInt($.arrowSize,this.defaultValue.arrowSize,0,1000),vertical:$b($.vertical,this.defaultValue.vertical),horizontal:$b($.horizontal,this.defaultValue.horizontal),useShadows:O0($.useShadows,this.defaultValue.useShadows),verticalHasArrows:O0($.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:O0($.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:O0($.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:O0($.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Q,horizontalSliderSize:a1.clampedInt($.horizontalSliderSize,Q,0,1000),verticalScrollbarSize:X,verticalSliderSize:a1.clampedInt($.verticalSliderSize,X,0,1000),scrollByPage:O0($.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:O0($.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};RZ={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};Lb=class Lb extends U6{constructor(){let J={nonBasicASCII:n4,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:n4,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",J,{[RZ.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,n4],default:J.nonBasicASCII,description:F("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[RZ.invisibleCharacters]:{restricted:!0,type:"boolean",default:J.invisibleCharacters,description:F("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[RZ.ambiguousCharacters]:{restricted:!0,type:"boolean",default:J.ambiguousCharacters,description:F("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[RZ.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,n4],default:J.includeComments,description:F("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[RZ.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,n4],default:J.includeStrings,description:F("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[RZ.allowedCharacters]:{restricted:!0,type:"object",default:J.allowedCharacters,description:F("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[RZ.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:J.allowedLocales,description:F("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(J,$){let Q=!1;if($.allowedCharacters&&J){if(!L5(J.allowedCharacters,$.allowedCharacters))J={...J,allowedCharacters:$.allowedCharacters},Q=!0}if($.allowedLocales&&J){if(!L5(J.allowedLocales,$.allowedLocales))J={...J,allowedLocales:$.allowedLocales},Q=!0}let X=super.applyUpdate(J,$);if(Q)return new MZ(X.newValue,!0);return X}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{nonBasicASCII:SG($.nonBasicASCII,n4,[!0,!1,n4]),invisibleCharacters:O0($.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:O0($.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:SG($.includeComments,n4,[!0,!1,n4]),includeStrings:SG($.includeStrings,n4,[!0,!1,n4]),allowedCharacters:this.validateBooleanMap(J.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(J.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(J,$){if(typeof J!=="object"||!J)return $;let Q={};for(let[X,Y]of Object.entries(J))if(Y===!0)Q[X]=!0;return Q}};kb=class kb extends U6{constructor(){let J={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",J,{"editor.inlineSuggest.enabled":{type:"boolean",default:J.enabled,description:F("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:J.showToolbar,enum:["always","onHover","never"],enumDescriptions:[F("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),F("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),F("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:F("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:J.suppressSuggestions,description:F("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:J.fontFamily,description:F("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),mode:E6($.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:E6($.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:O0($.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:O0($.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:V7.string($.fontFamily,this.defaultValue.fontFamily)}}};Eb=class Eb extends U6{constructor(){let J={enabled:F5.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:F5.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",J,{"editor.bracketPairColorization.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:J.independentColorPoolPerBracketType,description:F("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:O0($.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}};Ib=class Ib extends U6{constructor(){let J={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",J,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairs.true","Enables bracket pair guides."),F("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),F("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:J.bracketPairs,description:F("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),F("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),F("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:J.bracketPairsHorizontal,description:F("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:J.highlightActiveBracketPair,description:F("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:J.indentation,description:F("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[F("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),F("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),F("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:J.highlightActiveIndentation,description:F("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{bracketPairs:SG($.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:SG($.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:O0($.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:O0($.indentation,this.defaultValue.indentation),highlightActiveIndentation:SG($.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}};yb=class yb extends U6{constructor(){let J={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",J,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[F("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),F("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:J.insertMode,description:F("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:J.filterGraceful,description:F("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:J.localityBonus,description:F("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:J.shareSuggestSelections,markdownDescription:F("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[F("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),F("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:J.selectionMode,markdownDescription:F("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:J.snippetsPreventQuickSuggestions,description:F("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:J.showIcons,description:F("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:J.showStatusBar,description:F("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:J.preview,description:F("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:J.showInlineDetails,description:F("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:F("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:F("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{insertMode:E6($.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:O0($.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:O0($.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:O0($.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:O0($.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:E6($.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:O0($.showIcons,this.defaultValue.showIcons),showStatusBar:O0($.showStatusBar,this.defaultValue.showStatusBar),preview:O0($.preview,this.defaultValue.preview),previewMode:E6($.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:O0($.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:O0($.showMethods,this.defaultValue.showMethods),showFunctions:O0($.showFunctions,this.defaultValue.showFunctions),showConstructors:O0($.showConstructors,this.defaultValue.showConstructors),showDeprecated:O0($.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:O0($.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:O0($.showFields,this.defaultValue.showFields),showVariables:O0($.showVariables,this.defaultValue.showVariables),showClasses:O0($.showClasses,this.defaultValue.showClasses),showStructs:O0($.showStructs,this.defaultValue.showStructs),showInterfaces:O0($.showInterfaces,this.defaultValue.showInterfaces),showModules:O0($.showModules,this.defaultValue.showModules),showProperties:O0($.showProperties,this.defaultValue.showProperties),showEvents:O0($.showEvents,this.defaultValue.showEvents),showOperators:O0($.showOperators,this.defaultValue.showOperators),showUnits:O0($.showUnits,this.defaultValue.showUnits),showValues:O0($.showValues,this.defaultValue.showValues),showConstants:O0($.showConstants,this.defaultValue.showConstants),showEnums:O0($.showEnums,this.defaultValue.showEnums),showEnumMembers:O0($.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:O0($.showKeywords,this.defaultValue.showKeywords),showWords:O0($.showWords,this.defaultValue.showWords),showColors:O0($.showColors,this.defaultValue.showColors),showFiles:O0($.showFiles,this.defaultValue.showFiles),showReferences:O0($.showReferences,this.defaultValue.showReferences),showFolders:O0($.showFolders,this.defaultValue.showFolders),showTypeParameters:O0($.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:O0($.showSnippets,this.defaultValue.showSnippets),showUsers:O0($.showUsers,this.defaultValue.showUsers),showIssues:O0($.showIssues,this.defaultValue.showIssues)}}};xb=class xb extends U6{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:F("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:F("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{selectLeadingAndTrailingWhitespace:O0(J.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:O0(J.selectSubwords,this.defaultValue.selectSubwords)}}};bb=class bb extends U6{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[F("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),F("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),F("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),F("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:F("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(J){switch(J){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(J,$,Q){if($.get(2)===2)return 0;return Q}};Sb=class Sb extends CG{constructor(){super(144)}compute(J,$,Q){let X=$.get(143);return{isDominatedByLongLines:J.isDominatedByLongLines,isWordWrapMinified:X.isWordWrapMinified,isViewportWrapping:X.isViewportWrapping,wrappingColumn:X.wrappingColumn}}};Cb=class Cb extends U6{constructor(){let J={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",J,{"editor.dropIntoEditor.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:F("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[F("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),F("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),showDropSelector:E6($.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}};vb=class vb extends U6{constructor(){let J={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",J,{"editor.pasteAs.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:F("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[F("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),F("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;let $=J;return{enabled:O0($.enabled,this.defaultValue.enabled),showPasteSelector:E6($.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}};y8={fontFamily:r0?f00:V6?g00:h00,fontWeight:"normal",fontSize:r0?12:14,lineHeight:0,letterSpacing:0},hX=[];o4={acceptSuggestionOnCommitCharacter:e(new D1(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:F("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:e(new W6(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",F("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:F("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:e(new Xb),accessibilityPageSize:e(new a1(3,"accessibilityPageSize",10,1,1073741824,{description:F("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:e(new V7(4,"ariaLabel",F("editorViewAccessibleLabel","Editor content"))),ariaRequired:e(new D1(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:e(new D1(8,"screenReaderAnnounceInlineSuggestion",!0,{description:F("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:e(new W6(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),F("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:F("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:e(new W6(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),F("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:F("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:e(new W6(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:e(new W6(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:e(new W6(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),F("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:F("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:e(new lU(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],b00,{enumDescriptions:[F("editor.autoIndent.none","The editor will not insert indentation automatically."),F("editor.autoIndent.keep","The editor will keep the current line's indentation."),F("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),F("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),F("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:F("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:e(new D1(13,"automaticLayout",!1)),autoSurround:e(new W6(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[F("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),F("editor.autoSurround.quotes","Surround with quotes but not brackets."),F("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:F("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:e(new Eb),bracketPairGuides:e(new Ib),stickyTabStops:e(new D1(115,"stickyTabStops",!1,{description:F("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:e(new D1(17,"codeLens",!0,{description:F("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:e(new V7(18,"codeLensFontFamily","",{description:F("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:e(new a1(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:F("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:e(new D1(20,"colorDecorators",!0,{description:F("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:e(new W6(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[F("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),F("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),F("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:F("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:e(new a1(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:F("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:e(new D1(22,"columnSelection",!1,{description:F("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:e(new Yb),contextmenu:e(new D1(24,"contextmenu",!0)),copyWithSyntaxHighlighting:e(new D1(25,"copyWithSyntaxHighlighting",!0,{description:F("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:e(new lU(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],S00,{description:F("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:e(new W6(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[F("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),F("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),F("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:F("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:e(new lU(28,"cursorStyle",K5.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],C00,{description:F("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:e(new a1(29,"cursorSurroundingLines",0,0,1073741824,{description:F("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:e(new W6(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[F("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),F("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:F("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:e(new a1(31,"cursorWidth",0,0,1073741824,{markdownDescription:F("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:e(new D1(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:e(new D1(33,"disableMonospaceOptimizations",!1)),domReadOnly:e(new D1(34,"domReadOnly",!1)),dragAndDrop:e(new D1(35,"dragAndDrop",!0,{description:F("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:e(new Gb),dropIntoEditor:e(new Cb),stickyScroll:e(new Bb),experimentalWhitespaceRendering:e(new W6(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[F("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),F("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),F("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:F("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:e(new V7(39,"extraEditorClassName","")),fastScrollSensitivity:e(new z4(40,"fastScrollSensitivity",5,(J)=>J<=0?5:J,{markdownDescription:F("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:e(new qb),fixedOverflowWidgets:e(new D1(42,"fixedOverflowWidgets",!1)),folding:e(new D1(43,"folding",!0,{description:F("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:e(new W6(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[F("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),F("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:F("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:e(new D1(45,"foldingHighlight",!0,{description:F("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:e(new D1(46,"foldingImportsByDefault",!1,{description:F("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:e(new a1(47,"foldingMaximumRegions",5000,10,65000,{description:F("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:e(new D1(48,"unfoldOnClickAfterEndOfLine",!1,{description:F("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:e(new V7(49,"fontFamily",y8.fontFamily,{description:F("fontFamily","Controls the font family.")})),fontInfo:e(new Ub),fontLigatures2:e(new n8),fontSize:e(new zb),fontWeight:e(new oJ),fontVariations:e(new U4),formatOnPaste:e(new D1(55,"formatOnPaste",!1,{description:F("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:e(new D1(56,"formatOnType",!1,{description:F("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:e(new D1(57,"glyphMargin",!0,{description:F("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:e(new Hb),hideCursorInOverviewRuler:e(new D1(59,"hideCursorInOverviewRuler",!1,{description:F("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:e(new jb),inDiffEditor:e(new D1(61,"inDiffEditor",!1)),letterSpacing:e(new z4(63,"letterSpacing",y8.letterSpacing,(J)=>z4.clamp(J,-5,20),{description:F("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:e(new Wb),lineDecorationsWidth:e(new Kb),lineHeight:e(new Ab),lineNumbers:e(new Ob),lineNumbersMinChars:e(new a1(68,"lineNumbersMinChars",5,1,300)),linkedEditing:e(new D1(69,"linkedEditing",!1,{description:F("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:e(new D1(70,"links",!0,{description:F("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:e(new W6(71,"matchBrackets","always",["always","near","never"],{description:F("matchBrackets","Highlight matching brackets.")})),minimap:e(new Pb),mouseStyle:e(new W6(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:e(new z4(74,"mouseWheelScrollSensitivity",1,(J)=>J===0?1:J,{markdownDescription:F("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:e(new D1(75,"mouseWheelZoom",!1,{markdownDescription:r0?F("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):F("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:e(new D1(76,"multiCursorMergeOverlapping",!0,{description:F("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:e(new lU(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],v00,{markdownEnumDescriptions:[F("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:F({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:e(new W6(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[F("multiCursorPaste.spread","Each cursor pastes a single line of the text."),F("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:F("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:e(new a1(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:F("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:e(new W6(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[F("occurrencesHighlight.off","Does not highlight occurrences."),F("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),F("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:F("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:e(new D1(81,"overviewRulerBorder",!0,{description:F("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:e(new a1(82,"overviewRulerLanes",3,0,3)),padding:e(new Db),pasteAs:e(new vb),parameterHints:e(new Rb),peekWidgetDefaultFocus:e(new W6(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[F("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),F("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:F("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:e(new D1(87,"definitionLinkOpensInPeek",!1,{description:F("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:e(new _b),quickSuggestionsDelay:e(new a1(89,"quickSuggestionsDelay",10,0,1073741824,{description:F("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:e(new D1(90,"readOnly",!1)),readOnlyMessage:e(new Tb),renameOnType:e(new D1(92,"renameOnType",!1,{description:F("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:F("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:e(new D1(93,"renderControlCharacters",!0,{description:F("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:e(new W6(94,"renderFinalNewline",V6?"dimmed":"on",["off","on","dimmed"],{description:F("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:e(new W6(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",F("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:F("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:e(new D1(96,"renderLineHighlightOnlyWhenFocus",!1,{description:F("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:e(new W6(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:e(new W6(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",F("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),F("renderWhitespace.selection","Render whitespace characters only on selected text."),F("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:F("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:e(new a1(99,"revealHorizontalRightPadding",15,0,1000)),roundedSelection:e(new D1(100,"roundedSelection",!0,{description:F("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:e(new Nb),scrollbar:e(new wb),scrollBeyondLastColumn:e(new a1(103,"scrollBeyondLastColumn",4,0,1073741824,{description:F("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:e(new D1(104,"scrollBeyondLastLine",!0,{description:F("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:e(new D1(105,"scrollPredominantAxis",!0,{description:F("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:e(new D1(106,"selectionClipboard",!0,{description:F("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:V6})),selectionHighlight:e(new D1(107,"selectionHighlight",!0,{description:F("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:e(new D1(108,"selectOnLineNumbers",!0)),showFoldingControls:e(new W6(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[F("showFoldingControls.always","Always show the folding controls."),F("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),F("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:F("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:e(new D1(110,"showUnused",!0,{description:F("showUnused","Controls fading out of unused code.")})),showDeprecated:e(new D1(138,"showDeprecated",!0,{description:F("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:e(new Fb),snippetSuggestions:e(new W6(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[F("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),F("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),F("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),F("snippetSuggestions.none","Do not show snippet suggestions.")],description:F("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:e(new xb),smoothScrolling:e(new D1(113,"smoothScrolling",!1,{description:F("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:e(new a1(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:e(new yb),inlineSuggest:e(new kb),inlineCompletionsAccessibilityVerbose:e(new D1(147,"inlineCompletionsAccessibilityVerbose",!1,{description:F("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:e(new a1(118,"suggestFontSize",0,0,1000,{markdownDescription:F("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:e(new a1(119,"suggestLineHeight",0,0,1000,{markdownDescription:F("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:e(new D1(120,"suggestOnTriggerCharacters",!0,{description:F("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:e(new W6(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[F("suggestSelection.first","Always select the first suggestion."),F("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),F("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:F("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:e(new W6(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[F("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),F("tabCompletion.off","Disable tab completions."),F("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:F("tabCompletion","Enables tab completions.")})),tabIndex:e(new a1(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:e(new Lb),unusualLineTerminators:e(new W6(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[F("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),F("unusualLineTerminators.off","Unusual line terminators are ignored."),F("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:F("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:e(new D1(126,"useShadowDOM",!0)),useTabStops:e(new D1(127,"useTabStops",!0,{description:F("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:e(new W6(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[F("wordBreak.normal","Use the default line break rule."),F("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:F("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:e(new V7(129,"wordSeparators",eR,{description:F("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:e(new W6(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),F({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:F({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:e(new V7(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:e(new V7(132,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:e(new a1(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:F({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:e(new W6(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:e(new W6(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:e(new Zb),defaultColorDecorators:e(new D1(145,"defaultColorDecorators",!1,{markdownDescription:F("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:e(new Mb),tabFocusMode:e(new D1(142,"tabFocusMode",!1,{markdownDescription:F("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:e(new _Z),wrappingInfo:e(new Sb),wrappingIndent:e(new bb),wrappingStrategy:e(new Vb)}});class hb{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(J){setTimeout(()=>{if(J.stack){if(vG.isErrorNoTelemetry(J))throw new vG(J.message+`

`+J.stack);throw new Error(J.message+`

`+J.stack)}throw J},0)}}emit(J){this.listeners.forEach(($)=>{$(J)})}onUnexpectedError(J){this.unexpectedErrorHandler(J),this.emit(J)}onUnexpectedExternalError(J){this.unexpectedErrorHandler(J)}}function o0(J){if(!eJ(J))fb.onUnexpectedError(J);return}function tJ(J){if(!eJ(J))fb.onUnexpectedExternalError(J);return}function JM(J){if(J instanceof Error){let{name:$,message:Q}=J,X=J.stacktrace||J.stack;return{$isError:!0,name:$,message:Q,stack:X,noTelemetry:vG.isErrorNoTelemetry(J)}}return J}function eJ(J){if(J instanceof WQ)return!0;return J instanceof Error&&J.name===EW&&J.message===EW}function gb(){let J=new Error(EW);return J.name=J.message,J}function t4(J){if(J)return new Error(`Illegal argument: ${J}`);else return new Error("Illegal argument")}function hG(J){if(J)return new Error(`Illegal state: ${J}`);else return new Error("Illegal state")}var fb,EW="Canceled",WQ,$M,vG,S1;var P1=N(()=>{fb=new hb;WQ=class WQ extends Error{constructor(){super(EW);this.name=this.message}};$M=class $M extends Error{constructor(J){super("NotSupported");if(J)this.message=J}};vG=class vG extends Error{constructor(J){super(J);this.name="CodeExpectedError"}static fromError(J){if(J instanceof vG)return J;let $=new vG;return $.message=J.message,$.stack=J.stack,$}static isErrorNoTelemetry(J){return J.name==="CodeExpectedError"}};S1=class S1 extends Error{constructor(J){super(J||"An unexpected bug occurred.");Object.setPrototypeOf(this,S1.prototype)}}});function e4(J,$){let Q=this,X=!1,Y;return function(){if(X)return Y;if(X=!0,$)try{Y=J.apply(Q,arguments)}finally{$()}else Y=J.apply(Q,arguments);return Y}}function u00(J){E7=J}function TZ(J){return E7===null||E7===void 0||E7.trackDisposable(J),J}function wZ(J){E7===null||E7===void 0||E7.markAsDisposed(J)}function IW(J,$){E7===null||E7===void 0||E7.setParent(J,$)}function c00(J,$){if(!E7)return;for(let Q of J)E7.setParent(Q,$)}function LZ(J){return E7===null||E7===void 0||E7.markAsSingleton(J),J}function yW(J){return typeof J.dispose==="function"&&J.dispose.length===0}function k1(J){if(W1.is(J)){let $=[];for(let Q of J)if(Q)try{Q.dispose()}catch(X){$.push(X)}if($.length===1)throw $[0];else if($.length>1)throw new AggregateError($,"Encountered errors while disposing of store");return Array.isArray(J)?[]:J}else if(J)return J.dispose(),J}function x8(...J){let $=K0(()=>k1(J));return c00(J,$),$}function K0(J){let $=TZ({dispose:e4(()=>{wZ($),J()})});return $}class r{constructor(){this._toDispose=new Set,this._isDisposed=!1,TZ(this)}dispose(){if(this._isDisposed)return;wZ(this),this._isDisposed=!0,this.clear()}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size===0)return;try{k1(this._toDispose)}finally{this._toDispose.clear()}}add(J){if(!J)return J;if(J===this)throw new Error("Cannot register a disposable on itself!");if(IW(J,this),this._isDisposed){if(!r.DISABLE_DISPOSED_WARNING)console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack)}else this._toDispose.add(J);return J}deleteAndLeak(J){if(!J)return;if(this._toDispose.has(J))this._toDispose.delete(J),IW(J,null)}}class h{constructor(){this._store=new r,TZ(this),IW(this._store,this)}dispose(){wZ(this),this._store.dispose()}_register(J){if(J===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(J)}}class f5{constructor(){this._isDisposed=!1,TZ(this)}get value(){return this._isDisposed?void 0:this._value}set value(J){var $;if(this._isDisposed||J===this._value)return;if(($=this._value)===null||$===void 0||$.dispose(),J)IW(J,this);this._value=J}clear(){this.value=void 0}dispose(){var J;this._isDisposed=!0,wZ(this),(J=this._value)===null||J===void 0||J.dispose(),this._value=void 0}}class QM{constructor(J){this.object=J}dispose(){}}var m00=!1,E7=null,kZ;var Q0=N(()=>{N9();if(m00)u00(new class{trackDisposable($){let Q=new Error("Potentially leaked disposable").stack;setTimeout(()=>{if(!$.__is_disposable_tracked__)console.log(Q)},3000)}setParent($,Q){if($&&$!==h.None)try{$.__is_disposable_tracked__=!0}catch(X){}}markAsDisposed($){if($&&$!==h.None)try{$.__is_disposable_tracked__=!0}catch(Q){}}markAsSingleton($){}});r.DISABLE_DISPOSED_WARNING=!1;h.None=Object.freeze({dispose(){}});kZ=class kZ{constructor(){this._store=new Map,this._isDisposed=!1,TZ(this)}dispose(){wZ(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!this._store.size)return;try{k1(this._store.values())}finally{this._store.clear()}}get(J){return this._store.get(J)}set(J,$,Q=!1){var X;if(this._isDisposed)console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack);if(!Q)(X=this._store.get(J))===null||X===void 0||X.dispose();this._store.set(J,$)}deleteAndDispose(J){var $;($=this._store.get(J))===null||$===void 0||$.dispose(),this._store.delete(J)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}});class G5{static create(J){return new G5(J)}constructor(J){this._now=l00&&J===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){if(this._stopTime!==-1)return this._stopTime-this._startTime;return this._now()-this._startTime}}var l00;var J$=N(()=>{l00=globalThis.performance&&typeof globalThis.performance.now==="function"});class fG{constructor(J){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${J}_${fG._idPool++}`,fG.all.add(this)}start(J){this._stopWatch=new G5,this.listenerCount=J}stop(){if(this._stopWatch){let J=this._stopWatch.elapsed();this.durations.push(J),this.elapsedOverall+=J,this.invocationCount+=1,this._stopWatch=void 0}}}class ub{constructor(J,$=Math.random().toString(18).slice(2,5)){this.threshold=J,this.name=$,this._warnCountdown=0}dispose(){var J;(J=this._stacks)===null||J===void 0||J.clear()}check(J,$){let Q=this.threshold;if(Q<=0||$<Q)return;if(!this._stacks)this._stacks=new Map;let X=this._stacks.get(J.value)||0;if(this._stacks.set(J.value,X+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=Q*0.5;let Y,Z=0;for(let[G,q]of this._stacks)if(!Y||Z<q)Y=G,Z=q;console.warn(`[${this.name}] potential listener LEAK detected, having ${$} listeners already. MOST frequent listener (${Z}):`),console.warn(Y)}return()=>{let Y=this._stacks.get(J.value)||0;this._stacks.set(J.value,Y-1)}}}class aU{static create(){var J;return new aU((J=new Error().stack)!==null&&J!==void 0?J:"")}constructor(J){this.value=J}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class sU{constructor(J){this.value=J}}class y{constructor(J){var $,Q,X,Y,Z;this._size=0,this._options=J,this._leakageMon=mb>0||(($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)?new ub((X=(Q=this._options)===null||Q===void 0?void 0:Q.leakWarningThreshold)!==null&&X!==void 0?X:mb):void 0,this._perfMon=((Y=this._options)===null||Y===void 0?void 0:Y._profName)?new fG(this._options._profName):void 0,this._deliveryQueue=(Z=this._options)===null||Z===void 0?void 0:Z.deliveryQueue}dispose(){var J,$,Q,X;if(!this._disposed){if(this._disposed=!0,((J=this._deliveryQueue)===null||J===void 0?void 0:J.current)===this)this._deliveryQueue.reset();if(this._listeners){if(pb){let Y=this._listeners;queueMicrotask(()=>{a00(Y,(Z)=>{var G;return(G=Z.stack)===null||G===void 0?void 0:G.print()})})}this._listeners=void 0,this._size=0}(Q=($=this._options)===null||$===void 0?void 0:$.onDidRemoveLastListener)===null||Q===void 0||Q.call($),(X=this._leakageMon)===null||X===void 0||X.dispose()}}get event(){var J;return(J=this._event)!==null&&J!==void 0||(this._event=($,Q,X)=>{var Y,Z,G,q,U;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),h.None;if(this._disposed)return h.None;if(Q)$=$.bind(Q);let z=new sU($),H,j;if(this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*0.2))z.stack=aU.create(),H=this._leakageMon.check(z.stack,this._size+1);if(pb)z.stack=j!==null&&j!==void 0?j:aU.create();if(!this._listeners)(Z=(Y=this._options)===null||Y===void 0?void 0:Y.onWillAddFirstListener)===null||Z===void 0||Z.call(Y,this),this._listeners=z,(q=(G=this._options)===null||G===void 0?void 0:G.onDidAddFirstListener)===null||q===void 0||q.call(G,this);else if(this._listeners instanceof sU)(U=this._deliveryQueue)!==null&&U!==void 0||(this._deliveryQueue=new XM),this._listeners=[this._listeners,z];else this._listeners.push(z);this._size++;let V=K0(()=>{H===null||H===void 0||H(),this._removeListener(z)});if(X instanceof r)X.add(V);else if(Array.isArray(X))X.push(V);return V}),this._event}_removeListener(J){var $,Q,X,Y;if((Q=($=this._options)===null||$===void 0?void 0:$.onWillRemoveListener)===null||Q===void 0||Q.call($,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(Y=(X=this._options)===null||X===void 0?void 0:X.onDidRemoveLastListener)===null||Y===void 0||Y.call(X,this),this._size=0;return}let Z=this._listeners,G=Z.indexOf(J);if(G===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,Z[G]=void 0;let q=this._deliveryQueue.current===this;if(this._size*s00<=Z.length){let U=0;for(let z=0;z<Z.length;z++)if(Z[z])Z[U++]=Z[z];else if(q){if(this._deliveryQueue.end--,U<this._deliveryQueue.i)this._deliveryQueue.i--}Z.length=U}}_deliver(J,$){var Q;if(!J)return;let X=((Q=this._options)===null||Q===void 0?void 0:Q.onListenerError)||o0;if(!X){J.value($);return}try{J.value($)}catch(Y){X(Y)}}_deliverQueue(J){let $=J.current._listeners;while(J.i<J.end)this._deliver($[J.i++],J.value);J.reset()}fire(J){var $,Q,X,Y;if(($=this._deliveryQueue)===null||$===void 0?void 0:$.current)this._deliverQueue(this._deliveryQueue),(Q=this._perfMon)===null||Q===void 0||Q.stop();if((X=this._perfMon)===null||X===void 0||X.start(this._size),!this._listeners);else if(this._listeners instanceof sU)this._deliver(this._listeners,J);else{let Z=this._deliveryQueue;Z.enqueue(this,J,this._listeners.length),this._deliverQueue(Z)}(Y=this._perfMon)===null||Y===void 0||Y.stop()}hasListeners(){return this._size>0}}class XM{constructor(){this.i=-1,this.end=0}enqueue(J,$,Q){this.i=0,this.end=Q,this.current=J,this.value=$}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class ZM{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new y({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(J){let $={event:J,listener:null};if(this.events.push($),this.hasListeners)this.hook($);return K0(e4(()=>{if(this.hasListeners)this.unhook($);let X=this.events.indexOf($);this.events.splice(X,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((J)=>this.hook(J))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((J)=>this.unhook(J))}hook(J){J.listener=J.event(($)=>this.emitter.fire($))}unhook(J){if(J.listener)J.listener.dispose();J.listener=null}dispose(){this.emitter.dispose()}}class EZ{constructor(){this.buffers=[]}wrapEvent(J){return($,Q,X)=>{return J((Y)=>{let Z=this.buffers[this.buffers.length-1];if(Z)Z.push(()=>$.call(Q,Y));else $.call(Q,Y)},void 0,X)}}bufferEvents(J){let $=[];this.buffers.push($);let Q=J();return this.buffers.pop(),$.forEach((X)=>X()),Q}}class xW{constructor(){this.listening=!1,this.inputEvent=J0.None,this.inputEventListener=h.None,this.emitter=new y({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(J){if(this.inputEvent=J,this.listening)this.inputEventListener.dispose(),this.inputEventListener=J(this.emitter.fire,this.emitter)}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}var pb=!1,d00=!1,J0,mb=-1,s00=2,a00=(J,$)=>{if(J instanceof sU)$(J);else for(let Q=0;Q<J.length;Q++){let X=J[Q];if(X)$(X)}},cb=()=>new XM,H4,rU,YM;var F0=N(()=>{P1();Q0();T9();J$();(function(J){J.None=()=>h.None;function $(C){if(d00){let{onDidAddListener:u}=C,i=aU.create(),Y0=0;C.onDidAddListener=()=>{if(++Y0===2)console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),i.print();u===null||u===void 0||u()}}}function Q(C,u){return V(C,()=>{return},0,void 0,!0,void 0,u)}J.defer=Q;function X(C){return(u,i=null,Y0)=>{let P0=!1,R0=void 0;if(R0=C((T0)=>{if(P0)return;else if(R0)R0.dispose();else P0=!0;return u.call(i,T0)},null,Y0),P0)R0.dispose();return R0}}J.once=X;function Y(C,u,i){return H((Y0,P0=null,R0)=>C((T0)=>Y0.call(P0,u(T0)),null,R0),i)}J.map=Y;function Z(C,u,i){return H((Y0,P0=null,R0)=>C((T0)=>{u(T0),Y0.call(P0,T0)},null,R0),i)}J.forEach=Z;function G(C,u,i){return H((Y0,P0=null,R0)=>C((T0)=>u(T0)&&Y0.call(P0,T0),null,R0),i)}J.filter=G;function q(C){return C}J.signal=q;function U(...C){return(u,i=null,Y0)=>{let P0=x8(...C.map((R0)=>R0((T0)=>u.call(i,T0))));return j(P0,Y0)}}J.any=U;function z(C,u,i,Y0){let P0=i;return Y(C,(R0)=>{return P0=u(P0,R0),P0},Y0)}J.reduce=z;function H(C,u){let i,Y0={onWillAddFirstListener(){i=C(P0.fire,P0)},onDidRemoveLastListener(){i===null||i===void 0||i.dispose()}};if(!u)$(Y0);let P0=new y(Y0);return u===null||u===void 0||u.add(P0),P0.event}function j(C,u){if(u instanceof Array)u.push(C);else if(u)u.add(C);return C}function V(C,u,i=100,Y0=!1,P0=!1,R0,T0){let A0,f0=void 0,d0=void 0,x0=0,z0,B8={leakWarningThreshold:R0,onWillAddFirstListener(){A0=C((F8)=>{if(x0++,f0=u(f0,F8),Y0&&!d0)C5.fire(f0),f0=void 0;if(z0=()=>{let I1=f0;if(f0=void 0,d0=void 0,!Y0||x0>1)C5.fire(I1);x0=0},typeof i==="number")clearTimeout(d0),d0=setTimeout(z0,i);else if(d0===void 0)d0=0,queueMicrotask(z0)})},onWillRemoveListener(){if(P0&&x0>0)z0===null||z0===void 0||z0()},onDidRemoveLastListener(){z0=void 0,A0.dispose()}};if(!T0)$(B8);let C5=new y(B8);return T0===null||T0===void 0||T0.add(C5),C5.event}J.debounce=V;function W(C,u=0,i){return J.debounce(C,(Y0,P0)=>{if(!Y0)return[P0];return Y0.push(P0),Y0},u,void 0,!0,void 0,i)}J.accumulate=W;function B(C,u=(Y0,P0)=>Y0===P0,i){let Y0=!0,P0;return G(C,(R0)=>{let T0=Y0||!u(R0,P0);return Y0=!1,P0=R0,T0},i)}J.latch=B;function K(C,u,i){return[J.filter(C,u,i),J.filter(C,(Y0)=>!u(Y0),i)]}J.split=K;function P(C,u=!1,i=[],Y0){let P0=i.slice(),R0=C((f0)=>{if(P0)P0.push(f0);else A0.fire(f0)});if(Y0)Y0.add(R0);let T0=()=>{P0===null||P0===void 0||P0.forEach((f0)=>A0.fire(f0)),P0=null},A0=new y({onWillAddFirstListener(){if(!R0){if(R0=C((f0)=>A0.fire(f0)),Y0)Y0.add(R0)}},onDidAddFirstListener(){if(P0)if(u)setTimeout(T0);else T0()},onDidRemoveLastListener(){if(R0)R0.dispose();R0=null}});if(Y0)Y0.add(A0);return A0.event}J.buffer=P;function A(C,u){return(Y0,P0,R0)=>{let T0=u(new R);return C(function(A0){let f0=T0.evaluate(A0);if(f0!==D)Y0.call(P0,f0)},void 0,R0)}}J.chain=A;let D=Symbol("HaltChainable");class R{constructor(){this.steps=[]}map(C){return this.steps.push(C),this}forEach(C){return this.steps.push((u)=>{return C(u),u}),this}filter(C){return this.steps.push((u)=>C(u)?u:D),this}reduce(C,u){let i=u;return this.steps.push((Y0)=>{return i=C(i,Y0),i}),this}latch(C=(u,i)=>u===i){let u=!0,i;return this.steps.push((Y0)=>{let P0=u||!C(Y0,i);return u=!1,i=Y0,P0?Y0:D}),this}evaluate(C){for(let u of this.steps)if(C=u(C),C===D)break;return C}}function M(C,u,i=(Y0)=>Y0){let Y0=(...A0)=>T0.fire(i(...A0)),T0=new y({onWillAddFirstListener:()=>C.on(u,Y0),onDidRemoveLastListener:()=>C.removeListener(u,Y0)});return T0.event}J.fromNodeEventEmitter=M;function _(C,u,i=(Y0)=>Y0){let Y0=(...A0)=>T0.fire(i(...A0)),T0=new y({onWillAddFirstListener:()=>C.addEventListener(u,Y0),onDidRemoveLastListener:()=>C.removeEventListener(u,Y0)});return T0.event}J.fromDOMEventEmitter=_;function T(C){return new Promise((u)=>X(C)(u))}J.toPromise=T;function w(C){let u=new y;return C.then((i)=>{u.fire(i)},()=>{u.fire(void 0)}).finally(()=>{u.dispose()}),u.event}J.fromPromise=w;function b(C,u,i){return u(i),C((Y0)=>u(Y0))}J.runAndSubscribe=b;class S{constructor(C,u){this._observable=C,this._counter=0,this._hasChanged=!1;let i={onWillAddFirstListener:()=>{C.addObserver(this)},onDidRemoveLastListener:()=>{C.removeObserver(this)}};if(!u)$(i);if(this.emitter=new y(i),u)u.add(this.emitter)}beginUpdate(C){this._counter++}handlePossibleChange(C){}handleChange(C,u){this._hasChanged=!0}endUpdate(C){if(this._counter--,this._counter===0){if(this._observable.reportChanges(),this._hasChanged)this._hasChanged=!1,this.emitter.fire(this._observable.get())}}}function g(C,u){return new S(C,u).emitter.event}J.fromObservable=g;function c(C){return(u,i,Y0)=>{let P0=0,R0=!1,T0={beginUpdate(){P0++},endUpdate(){if(P0--,P0===0){if(C.reportChanges(),R0)R0=!1,u.call(i)}},handlePossibleChange(){},handleChange(){R0=!0}};C.addObserver(T0),C.reportChanges();let A0={dispose(){C.removeObserver(T0)}};if(Y0 instanceof r)Y0.add(A0);else if(Array.isArray(Y0))Y0.push(A0);return A0}}J.fromObservableLight=c})(J0||(J0={}));fG.all=new Set;fG._idPool=0;H4=class H4 extends y{constructor(J){super(J);this._isPaused=0,this._eventQueue=new k6,this._mergeFn=J===null||J===void 0?void 0:J.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){let J=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(J))}}else while(!this._isPaused&&this._eventQueue.size!==0)super.fire(this._eventQueue.shift())}fire(J){if(this._size)if(this._isPaused!==0)this._eventQueue.push(J);else super.fire(J)}};rU=class rU extends H4{constructor(J){var $;super(J);this._delay=($=J.delay)!==null&&$!==void 0?$:100}fire(J){if(!this._handle)this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay);super.fire(J)}};YM=class YM extends y{constructor(J){super(J);this._queuedEvents=[],this._mergeFn=J===null||J===void 0?void 0:J.merge}fire(J){if(!this.hasListeners())return;if(this._queuedEvents.push(J),this._queuedEvents.length===1)queueMicrotask(()=>{if(this._mergeFn)super.fire(this._mergeFn(this._queuedEvents));else this._queuedEvents.forEach(($)=>super.fire($));this._queuedEvents=[]})}}});class iU{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return lb;if(!this._emitter)this._emitter=new y;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=null}}class q5{constructor(J){this._token=void 0,this._parentListener=void 0,this._parentListener=J&&J.onCancellationRequested(this.cancel,this)}get token(){if(!this._token)this._token=new iU;return this._token}cancel(){if(!this._token)this._token=n6.Cancelled;else if(this._token instanceof iU)this._token.cancel()}dispose(J=!1){var $;if(J)this.cancel();if(($=this._parentListener)===null||$===void 0||$.dispose(),!this._token)this._token=n6.None;else if(this._token instanceof iU)this._token.dispose()}}var lb,n6;var e5=N(()=>{F0();lb=Object.freeze(function(J,$){let Q=setTimeout(J.bind($),0);return{dispose(){clearTimeout(Q)}}});(function(J){function $(Q){if(Q===J.None||Q===J.Cancelled)return!0;if(Q instanceof iU)return!0;if(!Q||typeof Q!=="object")return!1;return typeof Q.isCancellationRequested==="boolean"&&typeof Q.onCancellationRequested==="function"}J.isCancellationToken=$,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:J0.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:lb})})(n6||(n6={}))});class SW{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(J,$){this._keyCodeToStr[J]=$,this._strToKeyCode[$.toLowerCase()]=J}keyCodeToStr(J){return this._keyCodeToStr[J]}strToKeyCode(J){return this._strToKeyCode[J.toLowerCase()]||0}}function b8(J,$){let Q=($&65535)<<16>>>0;return(J|Q)>>>0}var bW,GM,qM,zM,i00,n00,o00,t00,CW,UM,j4;var IZ=N(()=>{bW=new SW,GM=new SW,qM=new SW,zM=new Array(230),i00={},n00=[],o00=Object.create(null),t00=Object.create(null),CW=[],UM=[];for(let J=0;J<=193;J++)CW[J]=-1;for(let J=0;J<=132;J++)UM[J]=-1;(function(){let $=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[1,1,"Hyper",0,"",0,"","",""],[1,2,"Super",0,"",0,"","",""],[1,3,"Fn",0,"",0,"","",""],[1,4,"FnLock",0,"",0,"","",""],[1,5,"Suspend",0,"",0,"","",""],[1,6,"Resume",0,"",0,"","",""],[1,7,"Turbo",0,"",0,"","",""],[1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[1,9,"WakeUp",0,"",0,"","",""],[0,10,"KeyA",31,"A",65,"VK_A","",""],[0,11,"KeyB",32,"B",66,"VK_B","",""],[0,12,"KeyC",33,"C",67,"VK_C","",""],[0,13,"KeyD",34,"D",68,"VK_D","",""],[0,14,"KeyE",35,"E",69,"VK_E","",""],[0,15,"KeyF",36,"F",70,"VK_F","",""],[0,16,"KeyG",37,"G",71,"VK_G","",""],[0,17,"KeyH",38,"H",72,"VK_H","",""],[0,18,"KeyI",39,"I",73,"VK_I","",""],[0,19,"KeyJ",40,"J",74,"VK_J","",""],[0,20,"KeyK",41,"K",75,"VK_K","",""],[0,21,"KeyL",42,"L",76,"VK_L","",""],[0,22,"KeyM",43,"M",77,"VK_M","",""],[0,23,"KeyN",44,"N",78,"VK_N","",""],[0,24,"KeyO",45,"O",79,"VK_O","",""],[0,25,"KeyP",46,"P",80,"VK_P","",""],[0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[0,27,"KeyR",48,"R",82,"VK_R","",""],[0,28,"KeyS",49,"S",83,"VK_S","",""],[0,29,"KeyT",50,"T",84,"VK_T","",""],[0,30,"KeyU",51,"U",85,"VK_U","",""],[0,31,"KeyV",52,"V",86,"VK_V","",""],[0,32,"KeyW",53,"W",87,"VK_W","",""],[0,33,"KeyX",54,"X",88,"VK_X","",""],[0,34,"KeyY",55,"Y",89,"VK_Y","",""],[0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[0,36,"Digit1",22,"1",49,"VK_1","",""],[0,37,"Digit2",23,"2",50,"VK_2","",""],[0,38,"Digit3",24,"3",51,"VK_3","",""],[0,39,"Digit4",25,"4",52,"VK_4","",""],[0,40,"Digit5",26,"5",53,"VK_5","",""],[0,41,"Digit6",27,"6",54,"VK_6","",""],[0,42,"Digit7",28,"7",55,"VK_7","",""],[0,43,"Digit8",29,"8",56,"VK_8","",""],[0,44,"Digit9",30,"9",57,"VK_9","",""],[0,45,"Digit0",21,"0",48,"VK_0","",""],[1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[1,50,"Space",10,"Space",32,"VK_SPACE","",""],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,"",0,"","",""],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[1,64,"F1",59,"F1",112,"VK_F1","",""],[1,65,"F2",60,"F2",113,"VK_F2","",""],[1,66,"F3",61,"F3",114,"VK_F3","",""],[1,67,"F4",62,"F4",115,"VK_F4","",""],[1,68,"F5",63,"F5",116,"VK_F5","",""],[1,69,"F6",64,"F6",117,"VK_F6","",""],[1,70,"F7",65,"F7",118,"VK_F7","",""],[1,71,"F8",66,"F8",119,"VK_F8","",""],[1,72,"F9",67,"F9",120,"VK_F9","",""],[1,73,"F10",68,"F10",121,"VK_F10","",""],[1,74,"F11",69,"F11",122,"VK_F11","",""],[1,75,"F12",70,"F12",123,"VK_F12","",""],[1,76,"PrintScreen",0,"",0,"","",""],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL","",""],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[1,80,"Home",14,"Home",36,"VK_HOME","",""],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[1,83,"End",13,"End",35,"VK_END","",""],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK","",""],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE","",""],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD","",""],[1,94,"NumpadEnter",3,"",0,"","",""],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1","",""],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2","",""],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3","",""],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4","",""],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5","",""],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6","",""],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7","",""],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8","",""],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9","",""],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0","",""],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL","",""],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102","",""],[1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[1,108,"Power",0,"",0,"","",""],[1,109,"NumpadEqual",0,"",0,"","",""],[1,110,"F13",71,"F13",124,"VK_F13","",""],[1,111,"F14",72,"F14",125,"VK_F14","",""],[1,112,"F15",73,"F15",126,"VK_F15","",""],[1,113,"F16",74,"F16",127,"VK_F16","",""],[1,114,"F17",75,"F17",128,"VK_F17","",""],[1,115,"F18",76,"F18",129,"VK_F18","",""],[1,116,"F19",77,"F19",130,"VK_F19","",""],[1,117,"F20",78,"F20",131,"VK_F20","",""],[1,118,"F21",79,"F21",132,"VK_F21","",""],[1,119,"F22",80,"F22",133,"VK_F22","",""],[1,120,"F23",81,"F23",134,"VK_F23","",""],[1,121,"F24",82,"F24",135,"VK_F24","",""],[1,122,"Open",0,"",0,"","",""],[1,123,"Help",0,"",0,"","",""],[1,124,"Select",0,"",0,"","",""],[1,125,"Again",0,"",0,"","",""],[1,126,"Undo",0,"",0,"","",""],[1,127,"Cut",0,"",0,"","",""],[1,128,"Copy",0,"",0,"","",""],[1,129,"Paste",0,"",0,"","",""],[1,130,"Find",0,"",0,"","",""],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR","",""],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1","",""],[1,136,"KanaMode",0,"",0,"","",""],[0,137,"IntlYen",0,"",0,"","",""],[1,138,"Convert",0,"",0,"","",""],[1,139,"NonConvert",0,"",0,"","",""],[1,140,"Lang1",0,"",0,"","",""],[1,141,"Lang2",0,"",0,"","",""],[1,142,"Lang3",0,"",0,"","",""],[1,143,"Lang4",0,"",0,"","",""],[1,144,"Lang5",0,"",0,"","",""],[1,145,"Abort",0,"",0,"","",""],[1,146,"Props",0,"",0,"","",""],[1,147,"NumpadParenLeft",0,"",0,"","",""],[1,148,"NumpadParenRight",0,"",0,"","",""],[1,149,"NumpadBackspace",0,"",0,"","",""],[1,150,"NumpadMemoryStore",0,"",0,"","",""],[1,151,"NumpadMemoryRecall",0,"",0,"","",""],[1,152,"NumpadMemoryClear",0,"",0,"","",""],[1,153,"NumpadMemoryAdd",0,"",0,"","",""],[1,154,"NumpadMemorySubtract",0,"",0,"","",""],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR","",""],[1,156,"NumpadClearEntry",0,"",0,"","",""],[1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[1,0,"",4,"Shift",16,"VK_SHIFT","",""],[1,0,"",6,"Alt",18,"VK_MENU","",""],[1,0,"",57,"Meta",91,"VK_COMMAND","",""],[1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[1,163,"AltRight",6,"",0,"VK_RMENU","",""],[1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[1,165,"BrightnessUp",0,"",0,"","",""],[1,166,"BrightnessDown",0,"",0,"","",""],[1,167,"MediaPlay",0,"",0,"","",""],[1,168,"MediaRecord",0,"",0,"","",""],[1,169,"MediaFastForward",0,"",0,"","",""],[1,170,"MediaRewind",0,"",0,"","",""],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP","",""],[1,174,"Eject",0,"",0,"","",""],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[1,180,"SelectTask",0,"",0,"","",""],[1,181,"LaunchScreenSaver",0,"",0,"","",""],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME","",""],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK","",""],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[1,189,"ZoomToggle",0,"",0,"","",""],[1,190,"MailReply",0,"",0,"","",""],[1,191,"MailForward",0,"",0,"","",""],[1,192,"MailSend",0,"",0,"","",""],[1,0,"",114,"KeyInComposition",229,"","",""],[1,0,"",116,"ABNT_C2",194,"VK_ABNT_C2","",""],[1,0,"",96,"OEM_8",223,"VK_OEM_8","",""],[1,0,"",0,"",0,"VK_KANA","",""],[1,0,"",0,"",0,"VK_HANGUL","",""],[1,0,"",0,"",0,"VK_JUNJA","",""],[1,0,"",0,"",0,"VK_FINAL","",""],[1,0,"",0,"",0,"VK_HANJA","",""],[1,0,"",0,"",0,"VK_KANJI","",""],[1,0,"",0,"",0,"VK_CONVERT","",""],[1,0,"",0,"",0,"VK_NONCONVERT","",""],[1,0,"",0,"",0,"VK_ACCEPT","",""],[1,0,"",0,"",0,"VK_MODECHANGE","",""],[1,0,"",0,"",0,"VK_SELECT","",""],[1,0,"",0,"",0,"VK_PRINT","",""],[1,0,"",0,"",0,"VK_EXECUTE","",""],[1,0,"",0,"",0,"VK_SNAPSHOT","",""],[1,0,"",0,"",0,"VK_HELP","",""],[1,0,"",0,"",0,"VK_APPS","",""],[1,0,"",0,"",0,"VK_PROCESSKEY","",""],[1,0,"",0,"",0,"VK_PACKET","",""],[1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[1,0,"",0,"",0,"VK_ATTN","",""],[1,0,"",0,"",0,"VK_CRSEL","",""],[1,0,"",0,"",0,"VK_EXSEL","",""],[1,0,"",0,"",0,"VK_EREOF","",""],[1,0,"",0,"",0,"VK_PLAY","",""],[1,0,"",0,"",0,"VK_ZOOM","",""],[1,0,"",0,"",0,"VK_NONAME","",""],[1,0,"",0,"",0,"VK_PA1","",""],[1,0,"",0,"",0,"VK_OEM_CLEAR","",""]],Q=[],X=[];for(let Y of $){let[Z,G,q,U,z,H,j,V,W]=Y;if(!X[G]){if(X[G]=!0,n00[G]=q,o00[q]=G,t00[q.toLowerCase()]=G,Z){if(CW[G]=U,U!==0&&U!==3&&U!==5&&U!==4&&U!==6&&U!==57)UM[U]=G}}if(!Q[U]){if(Q[U]=!0,!z)throw new Error(`String representation missing for key code ${U} around scan code ${q}`);bW.define(U,z),GM.define(U,V||z),qM.define(U,W||V||z)}if(H)zM[H]=U;if(j)i00[j]=U}UM[3]=46})();(function(J){function $(q){return bW.keyCodeToStr(q)}J.toString=$;function Q(q){return bW.strToKeyCode(q)}J.fromString=Q;function X(q){return GM.keyCodeToStr(q)}J.toUserSettingsUS=X;function Y(q){return qM.keyCodeToStr(q)}J.toUserSettingsGeneral=Y;function Z(q){return GM.strToKeyCode(q)||qM.strToKeyCode(q)}J.fromUserSettings=Z;function G(q){if(q>=98&&q<=113)return null;switch(q){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return bW.keyCodeToStr(q)}J.toElectronAccelerator=G})(j4||(j4={}))});var gG,HM,nU,oU,db;var jM=N(()=>{M1();HM=globalThis.vscode;if(typeof HM!=="undefined"&&typeof HM.process!=="undefined"){let J=HM.process;gG={get platform(){return J.platform},get arch(){return J.arch},get env(){return J.env},cwd(){return J.cwd()}}}else if(typeof process!=="undefined")gG={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}};else gG={get platform(){return L6?"win32":r0?"darwin":"linux"},get arch(){return},get env(){return{}},cwd(){return"/"}};nU=gG.cwd,oU=gG.env,db=gG.platform});function Z10(J,$){if(J===null||typeof J!=="object")throw new WM($,"Object",J)}function k5(J,$){if(typeof J!=="string")throw new WM($,"string",J)}function h1(J){return J===S8||J===J9}function VM(J){return J===S8}function gX(J){return J>=J10&&J<=Q10||J>=$10&&J<=X10}function vW(J,$,Q,X){let Y="",Z=0,G=-1,q=0,U=0;for(let z=0;z<=J.length;++z){if(z<J.length)U=J.charCodeAt(z);else if(X(U))break;else U=S8;if(X(U)){if(G===z-1||q===1);else if(q===2){if(Y.length<2||Z!==2||Y.charCodeAt(Y.length-1)!==pX||Y.charCodeAt(Y.length-2)!==pX){if(Y.length>2){let H=Y.lastIndexOf(Q);if(H===-1)Y="",Z=0;else Y=Y.slice(0,H),Z=Y.length-1-Y.lastIndexOf(Q);G=z,q=0;continue}else if(Y.length!==0){Y="",Z=0,G=z,q=0;continue}}if($)Y+=Y.length>0?`${Q}..`:"..",Z=2}else{if(Y.length>0)Y+=`${Q}${J.slice(G+1,z)}`;else Y=J.slice(G+1,z);Z=z-G-1}G=z,q=0}else if(U===pX&&q!==-1)++q;else q=-1}return Y}function sb(J,$){Z10($,"pathObject");let Q=$.dir||$.root,X=$.base||`${$.name||""}${$.ext||""}`;if(!Q)return X;return Q===$.root?`${Q}${X}`:`${Q}${J}${X}`}var J10=65,$10=97,Q10=90,X10=122,pX=46,S8=47,J9=92,fX=58,Y10=63,WM,mX,W7,G10,R6,hW,ab,rb,fW,V4,ib,JJ;var BQ=N(()=>{jM();WM=class WM extends Error{constructor(J,$,Q){let X;if(typeof $==="string"&&$.indexOf("not ")===0)X="must not be",$=$.replace(/^not /,"");else X="must be";let Y=J.indexOf(".")!==-1?"property":"argument",Z=`The "${J}" ${Y} ${X} of type ${$}`;Z+=`. Received type ${typeof Q}`;super(Z);this.code="ERR_INVALID_ARG_TYPE"}};mX=db==="win32";W7={resolve(...J){let $="",Q="",X=!1;for(let Y=J.length-1;Y>=-1;Y--){let Z;if(Y>=0){if(Z=J[Y],k5(Z,"path"),Z.length===0)continue}else if($.length===0)Z=nU();else if(Z=oU[`=${$}`]||nU(),Z===void 0||Z.slice(0,2).toLowerCase()!==$.toLowerCase()&&Z.charCodeAt(2)===J9)Z=`${$}\\`;let G=Z.length,q=0,U="",z=!1,H=Z.charCodeAt(0);if(G===1){if(h1(H))q=1,z=!0}else if(h1(H))if(z=!0,h1(Z.charCodeAt(1))){let j=2,V=j;while(j<G&&!h1(Z.charCodeAt(j)))j++;if(j<G&&j!==V){let W=Z.slice(V,j);V=j;while(j<G&&h1(Z.charCodeAt(j)))j++;if(j<G&&j!==V){V=j;while(j<G&&!h1(Z.charCodeAt(j)))j++;if(j===G||j!==V)U=`\\\\${W}\\${Z.slice(V,j)}`,q=j}}}else q=1;else if(gX(H)&&Z.charCodeAt(1)===fX){if(U=Z.slice(0,2),q=2,G>2&&h1(Z.charCodeAt(2)))z=!0,q=3}if(U.length>0)if($.length>0){if(U.toLowerCase()!==$.toLowerCase())continue}else $=U;if(X){if($.length>0)break}else if(Q=`${Z.slice(q)}\\${Q}`,X=z,z&&$.length>0)break}return Q=vW(Q,!X,"\\",h1),X?`${$}\\${Q}`:`${$}${Q}`||"."},normalize(J){k5(J,"path");let $=J.length;if($===0)return".";let Q=0,X,Y=!1,Z=J.charCodeAt(0);if($===1)return VM(Z)?"\\":J;if(h1(Z))if(Y=!0,h1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){let z=J.slice(U,q);U=q;while(q<$&&h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q===$)return`\\\\${z}\\${J.slice(U)}\\`;if(q!==U)X=`\\\\${z}\\${J.slice(U,q)}`,Q=q}}}else Q=1;else if(gX(Z)&&J.charCodeAt(1)===fX){if(X=J.slice(0,2),Q=2,$>2&&h1(J.charCodeAt(2)))Y=!0,Q=3}let G=Q<$?vW(J.slice(Q),!Y,"\\",h1):"";if(G.length===0&&!Y)G=".";if(G.length>0&&h1(J.charCodeAt($-1)))G+="\\";if(X===void 0)return Y?`\\${G}`:G;return Y?`${X}\\${G}`:`${X}${G}`},isAbsolute(J){k5(J,"path");let $=J.length;if($===0)return!1;let Q=J.charCodeAt(0);return h1(Q)||$>2&&gX(Q)&&J.charCodeAt(1)===fX&&h1(J.charCodeAt(2))},join(...J){if(J.length===0)return".";let $,Q;for(let Z=0;Z<J.length;++Z){let G=J[Z];if(k5(G,"path"),G.length>0)if($===void 0)$=Q=G;else $+=`\\${G}`}if($===void 0)return".";let X=!0,Y=0;if(typeof Q==="string"&&h1(Q.charCodeAt(0))){++Y;let Z=Q.length;if(Z>1&&h1(Q.charCodeAt(1))){if(++Y,Z>2)if(h1(Q.charCodeAt(2)))++Y;else X=!1}}if(X){while(Y<$.length&&h1($.charCodeAt(Y)))Y++;if(Y>=2)$=`\\${$.slice(Y)}`}return W7.normalize($)},relative(J,$){if(k5(J,"from"),k5($,"to"),J===$)return"";let Q=W7.resolve(J),X=W7.resolve($);if(Q===X)return"";if(J=Q.toLowerCase(),$=X.toLowerCase(),J===$)return"";let Y=0;while(Y<J.length&&J.charCodeAt(Y)===J9)Y++;let Z=J.length;while(Z-1>Y&&J.charCodeAt(Z-1)===J9)Z--;let G=Z-Y,q=0;while(q<$.length&&$.charCodeAt(q)===J9)q++;let U=$.length;while(U-1>q&&$.charCodeAt(U-1)===J9)U--;let z=U-q,H=G<z?G:z,j=-1,V=0;for(;V<H;V++){let B=J.charCodeAt(Y+V);if(B!==$.charCodeAt(q+V))break;else if(B===J9)j=V}if(V!==H){if(j===-1)return X}else{if(z>H){if($.charCodeAt(q+V)===J9)return X.slice(q+V+1);if(V===2)return X.slice(q+V)}if(G>H){if(J.charCodeAt(Y+V)===J9)j=V;else if(V===2)j=3}if(j===-1)j=0}let W="";for(V=Y+j+1;V<=Z;++V)if(V===Z||J.charCodeAt(V)===J9)W+=W.length===0?"..":"\\..";if(q+=j,W.length>0)return`${W}${X.slice(q,U)}`;if(X.charCodeAt(q)===J9)++q;return X.slice(q,U)},toNamespacedPath(J){if(typeof J!=="string"||J.length===0)return J;let $=W7.resolve(J);if($.length<=2)return J;if($.charCodeAt(0)===J9){if($.charCodeAt(1)===J9){let Q=$.charCodeAt(2);if(Q!==Y10&&Q!==pX)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(gX($.charCodeAt(0))&&$.charCodeAt(1)===fX&&$.charCodeAt(2)===J9)return`\\\\?\\${$}`;return J},dirname(J){k5(J,"path");let $=J.length;if($===0)return".";let Q=-1,X=0,Y=J.charCodeAt(0);if($===1)return h1(Y)?J:".";if(h1(Y)){if(Q=X=1,h1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q===$)return J;if(q!==U)Q=X=q+1}}}}else if(gX(Y)&&J.charCodeAt(1)===fX)Q=$>2&&h1(J.charCodeAt(2))?3:2,X=Q;let Z=-1,G=!0;for(let q=$-1;q>=X;--q)if(h1(J.charCodeAt(q))){if(!G){Z=q;break}}else G=!1;if(Z===-1){if(Q===-1)return".";Z=Q}return J.slice(0,Z)},basename(J,$){if($!==void 0)k5($,"ext");k5(J,"path");let Q=0,X=-1,Y=!0,Z;if(J.length>=2&&gX(J.charCodeAt(0))&&J.charCodeAt(1)===fX)Q=2;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=Q;--Z){let U=J.charCodeAt(Z);if(h1(U)){if(!Y){Q=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)X=Z}else G=-1,X=q}}if(Q===X)X=q;else if(X===-1)X=J.length;return J.slice(Q,X)}for(Z=J.length-1;Z>=Q;--Z)if(h1(J.charCodeAt(Z))){if(!Y){Q=Z+1;break}}else if(X===-1)Y=!1,X=Z+1;if(X===-1)return"";return J.slice(Q,X)},extname(J){k5(J,"path");let $=0,Q=-1,X=0,Y=-1,Z=!0,G=0;if(J.length>=2&&J.charCodeAt(1)===fX&&gX(J.charCodeAt(0)))$=X=2;for(let q=J.length-1;q>=$;--q){let U=J.charCodeAt(q);if(h1(U)){if(!Z){X=q+1;break}continue}if(Y===-1)Z=!1,Y=q+1;if(U===pX){if(Q===-1)Q=q;else if(G!==1)G=1}else if(Q!==-1)G=-1}if(Q===-1||Y===-1||G===0||G===1&&Q===Y-1&&Q===X+1)return"";return J.slice(Q,Y)},format:sb.bind(null,"\\"),parse(J){k5(J,"path");let $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;let Q=J.length,X=0,Y=J.charCodeAt(0);if(Q===1){if(h1(Y))return $.root=$.dir=J,$;return $.base=$.name=J,$}if(h1(Y)){if(X=1,h1(J.charCodeAt(1))){let j=2,V=j;while(j<Q&&!h1(J.charCodeAt(j)))j++;if(j<Q&&j!==V){V=j;while(j<Q&&h1(J.charCodeAt(j)))j++;if(j<Q&&j!==V){V=j;while(j<Q&&!h1(J.charCodeAt(j)))j++;if(j===Q)X=j;else if(j!==V)X=j+1}}}}else if(gX(Y)&&J.charCodeAt(1)===fX){if(Q<=2)return $.root=$.dir=J,$;if(X=2,h1(J.charCodeAt(2))){if(Q===3)return $.root=$.dir=J,$;X=3}}if(X>0)$.root=J.slice(0,X);let Z=-1,G=X,q=-1,U=!0,z=J.length-1,H=0;for(;z>=X;--z){if(Y=J.charCodeAt(z),h1(Y)){if(!U){G=z+1;break}continue}if(q===-1)U=!1,q=z+1;if(Y===pX){if(Z===-1)Z=z;else if(H!==1)H=1}else if(Z!==-1)H=-1}if(q!==-1)if(Z===-1||H===0||H===1&&Z===q-1&&Z===G+1)$.base=$.name=J.slice(G,q);else $.name=J.slice(G,Z),$.base=J.slice(G,q),$.ext=J.slice(Z,q);if(G>0&&G!==X)$.dir=J.slice(0,G-1);else $.dir=$.root;return $},sep:"\\",delimiter:";",win32:null,posix:null},G10=(()=>{if(mX){let J=/\\/g;return()=>{let $=nU().replace(J,"/");return $.slice($.indexOf("/"))}}return()=>nU()})(),R6={resolve(...J){let $="",Q=!1;for(let X=J.length-1;X>=-1&&!Q;X--){let Y=X>=0?J[X]:G10();if(k5(Y,"path"),Y.length===0)continue;$=`${Y}/${$}`,Q=Y.charCodeAt(0)===S8}if($=vW($,!Q,"/",VM),Q)return`/${$}`;return $.length>0?$:"."},normalize(J){if(k5(J,"path"),J.length===0)return".";let $=J.charCodeAt(0)===S8,Q=J.charCodeAt(J.length-1)===S8;if(J=vW(J,!$,"/",VM),J.length===0){if($)return"/";return Q?"./":"."}if(Q)J+="/";return $?`/${J}`:J},isAbsolute(J){return k5(J,"path"),J.length>0&&J.charCodeAt(0)===S8},join(...J){if(J.length===0)return".";let $;for(let Q=0;Q<J.length;++Q){let X=J[Q];if(k5(X,"path"),X.length>0)if($===void 0)$=X;else $+=`/${X}`}if($===void 0)return".";return R6.normalize($)},relative(J,$){if(k5(J,"from"),k5($,"to"),J===$)return"";if(J=R6.resolve(J),$=R6.resolve($),J===$)return"";let Q=1,X=J.length,Y=X-Q,Z=1,G=$.length-Z,q=Y<G?Y:G,U=-1,z=0;for(;z<q;z++){let j=J.charCodeAt(Q+z);if(j!==$.charCodeAt(Z+z))break;else if(j===S8)U=z}if(z===q){if(G>q){if($.charCodeAt(Z+z)===S8)return $.slice(Z+z+1);if(z===0)return $.slice(Z+z)}else if(Y>q){if(J.charCodeAt(Q+z)===S8)U=z;else if(z===0)U=0}}let H="";for(z=Q+U+1;z<=X;++z)if(z===X||J.charCodeAt(z)===S8)H+=H.length===0?"..":"/..";return`${H}${$.slice(Z+U)}`},toNamespacedPath(J){return J},dirname(J){if(k5(J,"path"),J.length===0)return".";let $=J.charCodeAt(0)===S8,Q=-1,X=!0;for(let Y=J.length-1;Y>=1;--Y)if(J.charCodeAt(Y)===S8){if(!X){Q=Y;break}}else X=!1;if(Q===-1)return $?"/":".";if($&&Q===1)return"//";return J.slice(0,Q)},basename(J,$){if($!==void 0)k5($,"ext");k5(J,"path");let Q=0,X=-1,Y=!0,Z;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=0;--Z){let U=J.charCodeAt(Z);if(U===S8){if(!Y){Q=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)X=Z}else G=-1,X=q}}if(Q===X)X=q;else if(X===-1)X=J.length;return J.slice(Q,X)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===S8){if(!Y){Q=Z+1;break}}else if(X===-1)Y=!1,X=Z+1;if(X===-1)return"";return J.slice(Q,X)},extname(J){k5(J,"path");let $=-1,Q=0,X=-1,Y=!0,Z=0;for(let G=J.length-1;G>=0;--G){let q=J.charCodeAt(G);if(q===S8){if(!Y){Q=G+1;break}continue}if(X===-1)Y=!1,X=G+1;if(q===pX){if($===-1)$=G;else if(Z!==1)Z=1}else if($!==-1)Z=-1}if($===-1||X===-1||Z===0||Z===1&&$===X-1&&$===Q+1)return"";return J.slice($,X)},format:sb.bind(null,"/"),parse(J){k5(J,"path");let $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;let Q=J.charCodeAt(0)===S8,X;if(Q)$.root="/",X=1;else X=0;let Y=-1,Z=0,G=-1,q=!0,U=J.length-1,z=0;for(;U>=X;--U){let H=J.charCodeAt(U);if(H===S8){if(!q){Z=U+1;break}continue}if(G===-1)q=!1,G=U+1;if(H===pX){if(Y===-1)Y=U;else if(z!==1)z=1}else if(Y!==-1)z=-1}if(G!==-1){let H=Z===0&&Q?1:Z;if(Y===-1||z===0||z===1&&Y===G-1&&Y===Z+1)$.base=$.name=J.slice(H,G);else $.name=J.slice(H,Y),$.base=J.slice(H,G),$.ext=J.slice(Y,G)}if(Z>0)$.dir=J.slice(0,Z-1);else if(Q)$.dir="/";return $},sep:"/",delimiter:":",win32:null,posix:null};R6.win32=W7.win32=W7;R6.posix=W7.posix=R6;hW=mX?W7.normalize:R6.normalize,ab=mX?W7.resolve:R6.resolve,rb=mX?W7.relative:R6.relative,fW=mX?W7.dirname:R6.dirname,V4=mX?W7.basename:R6.basename,ib=mX?W7.extname:R6.extname,JJ=mX?W7.sep:R6.sep});function H10(J,$){if(!J.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${J.authority}", path: "${J.path}", query: "${J.query}", fragment: "${J.fragment}"}`);if(J.scheme&&!q10.test(J.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(J.path){if(J.authority){if(!U10.test(J.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(z10.test(J.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function j10(J,$){if(!J&&!$)return"file";return J}function V10(J,$){switch(J){case"https":case"http":case"file":if(!$)$=$J;else if($[0]!==$J)$=$J+$;break}return $}class I0{static isUri(J){if(J instanceof I0)return!0;if(!J)return!1;return typeof J.authority==="string"&&typeof J.fragment==="string"&&typeof J.path==="string"&&typeof J.query==="string"&&typeof J.scheme==="string"&&typeof J.fsPath==="string"&&typeof J.with==="function"&&typeof J.toString==="function"}constructor(J,$,Q,X,Y,Z=!1){if(typeof J==="object")this.scheme=J.scheme||c6,this.authority=J.authority||c6,this.path=J.path||c6,this.query=J.query||c6,this.fragment=J.fragment||c6;else this.scheme=j10(J,Z),this.authority=$||c6,this.path=V10(this.scheme,Q||c6),this.query=X||c6,this.fragment=Y||c6,H10(this,Z)}get fsPath(){return tU(this,!1)}with(J){if(!J)return this;let{scheme:$,authority:Q,path:X,query:Y,fragment:Z}=J;if($===void 0)$=this.scheme;else if($===null)$=c6;if(Q===void 0)Q=this.authority;else if(Q===null)Q=c6;if(X===void 0)X=this.path;else if(X===null)X=c6;if(Y===void 0)Y=this.query;else if(Y===null)Y=c6;if(Z===void 0)Z=this.fragment;else if(Z===null)Z=c6;if($===this.scheme&&Q===this.authority&&X===this.path&&Y===this.query&&Z===this.fragment)return this;return new yZ($,Q,X,Y,Z)}static parse(J,$=!1){let Q=W10.exec(J);if(!Q)return new yZ(c6,c6,c6,c6,c6);return new yZ(Q[2]||c6,gW(Q[4]||c6),gW(Q[5]||c6),gW(Q[7]||c6),gW(Q[9]||c6),$)}static file(J){let $=c6;if(L6)J=J.replace(/\\/g,$J);if(J[0]===$J&&J[1]===$J){let Q=J.indexOf($J,2);if(Q===-1)$=J.substring(2),J=$J;else $=J.substring(2,Q),J=J.substring(Q)||$J}return new yZ("file",$,J,c6,c6)}static from(J,$){return new yZ(J.scheme,J.authority,J.path,J.query,J.fragment,$)}static joinPath(J,...$){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Q;if(L6&&J.scheme==="file")Q=I0.file(W7.join(tU(J,!0),...$)).path;else Q=R6.join(J.path,...$);return J.with({path:Q})}toString(J=!1){return FM(this,J)}toJSON(){return this}static revive(J){var $,Q;if(!J)return J;else if(J instanceof I0)return J;else{let X=new yZ(J);return X._formatted=($=J.external)!==null&&$!==void 0?$:null,X._fsPath=J._sep===tb?(Q=J.fsPath)!==null&&Q!==void 0?Q:null:null,X}}}function nb(J,$,Q){let X=void 0,Y=-1;for(let Z=0;Z<J.length;Z++){let G=J.charCodeAt(Z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||$&&G===47||Q&&G===91||Q&&G===93||Q&&G===58){if(Y!==-1)X+=encodeURIComponent(J.substring(Y,Z)),Y=-1;if(X!==void 0)X+=J.charAt(Z)}else{if(X===void 0)X=J.substr(0,Z);let q=eb[G];if(q!==void 0){if(Y!==-1)X+=encodeURIComponent(J.substring(Y,Z)),Y=-1;X+=q}else if(Y===-1)Y=Z}}if(Y!==-1)X+=encodeURIComponent(J.substring(Y));return X!==void 0?X:J}function B10(J){let $=void 0;for(let Q=0;Q<J.length;Q++){let X=J.charCodeAt(Q);if(X===35||X===63){if($===void 0)$=J.substr(0,Q);$+=eb[X]}else if($!==void 0)$+=J[Q]}return $!==void 0?$:J}function tU(J,$){let Q;if(J.authority&&J.path.length>1&&J.scheme==="file")Q=`//${J.authority}${J.path}`;else if(J.path.charCodeAt(0)===47&&(J.path.charCodeAt(1)>=65&&J.path.charCodeAt(1)<=90||J.path.charCodeAt(1)>=97&&J.path.charCodeAt(1)<=122)&&J.path.charCodeAt(2)===58)if(!$)Q=J.path[1].toLowerCase()+J.path.substr(2);else Q=J.path.substr(1);else Q=J.path;if(L6)Q=Q.replace(/\//g,"\\");return Q}function FM(J,$){let Q=!$?nb:B10,X="",{scheme:Y,authority:Z,path:G,query:q,fragment:U}=J;if(Y)X+=Y,X+=":";if(Z||Y==="file")X+=$J,X+=$J;if(Z){let z=Z.indexOf("@");if(z!==-1){let H=Z.substr(0,z);if(Z=Z.substr(z+1),z=H.lastIndexOf(":"),z===-1)X+=Q(H,!1,!1);else X+=Q(H.substr(0,z),!1,!1),X+=":",X+=Q(H.substr(z+1),!1,!0);X+="@"}if(Z=Z.toLowerCase(),z=Z.lastIndexOf(":"),z===-1)X+=Q(Z,!1,!0);else X+=Q(Z.substr(0,z),!1,!0),X+=Z.substr(z)}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58){let z=G.charCodeAt(1);if(z>=65&&z<=90)G=`/${String.fromCharCode(z+32)}:${G.substr(3)}`}else if(G.length>=2&&G.charCodeAt(1)===58){let z=G.charCodeAt(0);if(z>=65&&z<=90)G=`${String.fromCharCode(z+32)}:${G.substr(2)}`}X+=Q(G,!0,!1)}if(q)X+="?",X+=Q(q,!1,!1);if(U)X+="#",X+=!$?nb(U,!1,!1):U;return X}function JS(J){try{return decodeURIComponent(J)}catch($){if(J.length>3)return J.substr(0,3)+JS(J.substr(3));else return J}}function gW(J){if(!J.match(ob))return J;return J.replace(ob,($)=>JS($))}var q10,U10,z10,c6="",$J="/",W10,tb,yZ,eb,ob;var o6=N(()=>{BQ();M1();q10=/^\w[\w\d+.-]*$/,U10=/^\//,z10=/^\/\//;W10=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;tb=L6?1:void 0;yZ=class yZ extends I0{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){if(!this._fsPath)this._fsPath=tU(this,!1);return this._fsPath}toString(J=!1){if(!J){if(!this._formatted)this._formatted=FM(this,!1);return this._formatted}else return FM(this,!0)}toJSON(){let J={$mid:1};if(this._fsPath)J.fsPath=this._fsPath,J._sep=tb;if(this._formatted)J.external=this._formatted;if(this.path)J.path=this.path;if(this.scheme)J.scheme=this.scheme;if(this.authority)J.authority=this.authority;if(this.query)J.query=this.query;if(this.fragment)J.fragment=this.fragment;return J}};eb={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};ob=/(%[0-9A-Za-z][0-9A-Za-z])+/g});class v{constructor(J,$){this.lineNumber=J,this.column=$}with(J=this.lineNumber,$=this.column){if(J===this.lineNumber&&$===this.column)return this;else return new v(J,$)}delta(J=0,$=0){return this.with(this.lineNumber+J,this.column+$)}equals(J){return v.equals(this,J)}static equals(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.lineNumber===$.lineNumber&&J.column===$.column}isBefore(J){return v.isBefore(this,J)}static isBefore(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<$.column}isBeforeOrEqual(J){return v.isBeforeOrEqual(this,J)}static isBeforeOrEqual(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<=$.column}static compare(J,$){let Q=J.lineNumber|0,X=$.lineNumber|0;if(Q===X){let Y=J.column|0,Z=$.column|0;return Y-Z}return Q-X}clone(){return new v(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(J){return new v(J.lineNumber,J.column)}static isIPosition(J){return J&&typeof J.lineNumber==="number"&&typeof J.column==="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}class L{constructor(J,$,Q,X){if(J>Q||J===Q&&$>X)this.startLineNumber=Q,this.startColumn=X,this.endLineNumber=J,this.endColumn=$;else this.startLineNumber=J,this.startColumn=$,this.endLineNumber=Q,this.endColumn=X}isEmpty(){return L.isEmpty(this)}static isEmpty(J){return J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn}containsPosition(J){return L.containsPosition(this,J)}static containsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>J.endColumn)return!1;return!0}static strictContainsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<=J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>=J.endColumn)return!1;return!0}containsRange(J){return L.containsRange(this,J)}static containsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>J.endColumn)return!1;return!0}strictContainsRange(J){return L.strictContainsRange(this,J)}static strictContainsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<=J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>=J.endColumn)return!1;return!0}plusRange(J){return L.plusRange(this,J)}static plusRange(J,$){let Q,X,Y,Z;if($.startLineNumber<J.startLineNumber)Q=$.startLineNumber,X=$.startColumn;else if($.startLineNumber===J.startLineNumber)Q=$.startLineNumber,X=Math.min($.startColumn,J.startColumn);else Q=J.startLineNumber,X=J.startColumn;if($.endLineNumber>J.endLineNumber)Y=$.endLineNumber,Z=$.endColumn;else if($.endLineNumber===J.endLineNumber)Y=$.endLineNumber,Z=Math.max($.endColumn,J.endColumn);else Y=J.endLineNumber,Z=J.endColumn;return new L(Q,X,Y,Z)}intersectRanges(J){return L.intersectRanges(this,J)}static intersectRanges(J,$){let{startLineNumber:Q,startColumn:X,endLineNumber:Y,endColumn:Z}=J,G=$.startLineNumber,q=$.startColumn,U=$.endLineNumber,z=$.endColumn;if(Q<G)Q=G,X=q;else if(Q===G)X=Math.max(X,q);if(Y>U)Y=U,Z=z;else if(Y===U)Z=Math.min(Z,z);if(Q>Y)return null;if(Q===Y&&X>Z)return null;return new L(Q,X,Y,Z)}equalsRange(J){return L.equalsRange(this,J)}static equalsRange(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.startLineNumber===$.startLineNumber&&J.startColumn===$.startColumn&&J.endLineNumber===$.endLineNumber&&J.endColumn===$.endColumn}getEndPosition(){return L.getEndPosition(this)}static getEndPosition(J){return new v(J.endLineNumber,J.endColumn)}getStartPosition(){return L.getStartPosition(this)}static getStartPosition(J){return new v(J.startLineNumber,J.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(J,$){return new L(this.startLineNumber,this.startColumn,J,$)}setStartPosition(J,$){return new L(J,$,this.endLineNumber,this.endColumn)}collapseToStart(){return L.collapseToStart(this)}static collapseToStart(J){return new L(J.startLineNumber,J.startColumn,J.startLineNumber,J.startColumn)}collapseToEnd(){return L.collapseToEnd(this)}static collapseToEnd(J){return new L(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn)}delta(J){return new L(this.startLineNumber+J,this.startColumn,this.endLineNumber+J,this.endColumn)}static fromPositions(J,$=J){return new L(J.lineNumber,J.column,$.lineNumber,$.column)}static lift(J){if(!J)return null;return new L(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)}static isIRange(J){return J&&typeof J.startLineNumber==="number"&&typeof J.startColumn==="number"&&typeof J.endLineNumber==="number"&&typeof J.endColumn==="number"}static areIntersectingOrTouching(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<J.startColumn)return!1;return!0}static areIntersecting(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<=$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<=J.startColumn)return!1;return!0}static compareRangesUsingStarts(J,$){if(J&&$){let Y=J.startLineNumber|0,Z=$.startLineNumber|0;if(Y===Z){let G=J.startColumn|0,q=$.startColumn|0;if(G===q){let U=J.endLineNumber|0,z=$.endLineNumber|0;if(U===z){let H=J.endColumn|0,j=$.endColumn|0;return H-j}return U-z}return G-q}return Y-Z}return(J?1:0)-($?1:0)}static compareRangesUsingEnds(J,$){if(J.endLineNumber===$.endLineNumber){if(J.endColumn===$.endColumn){if(J.startLineNumber===$.startLineNumber)return J.startColumn-$.startColumn;return J.startLineNumber-$.startLineNumber}return J.endColumn-$.endColumn}return J.endLineNumber-$.endLineNumber}static spansMultipleLines(J){return J.endLineNumber>J.startLineNumber}toJSON(){return this}}var l0=()=>{};var v0;var E5=N(()=>{l0();v0=class v0 extends L{constructor(J,$,Q,X){super(J,$,Q,X);this.selectionStartLineNumber=J,this.selectionStartColumn=$,this.positionLineNumber=Q,this.positionColumn=X}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(J){return v0.selectionsEqual(this,J)}static selectionsEqual(J,$){return J.selectionStartLineNumber===$.selectionStartLineNumber&&J.selectionStartColumn===$.selectionStartColumn&&J.positionLineNumber===$.positionLineNumber&&J.positionColumn===$.positionColumn}getDirection(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn)return 0;return 1}setEndPosition(J,$){if(this.getDirection()===0)return new v0(this.startLineNumber,this.startColumn,J,$);return new v0(J,$,this.startLineNumber,this.startColumn)}getPosition(){return new v(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new v(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(J,$){if(this.getDirection()===0)return new v0(J,$,this.endLineNumber,this.endColumn);return new v0(this.endLineNumber,this.endColumn,J,$)}static fromPositions(J,$=J){return new v0(J.lineNumber,J.column,$.lineNumber,$.column)}static fromRange(J,$){if($===0)return new v0(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);else return new v0(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}static liftSelection(J){return new v0(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn)}static selectionsArrEqual(J,$){if(J&&!$||!J&&$)return!1;if(!J&&!$)return!0;if(J.length!==$.length)return!1;for(let Q=0,X=J.length;Q<X;Q++)if(!this.selectionsEqual(J[Q],$[Q]))return!1;return!0}static isISelection(J){return J&&typeof J.selectionStartLineNumber==="number"&&typeof J.selectionStartColumn==="number"&&typeof J.positionLineNumber==="number"&&typeof J.positionColumn==="number"}static createWithDirection(J,$,Q,X,Y){if(Y===0)return new v0(J,$,Q,X);return new v0(Q,X,J,$)}}});function O(J,$){if(Y5($)){let Q=KM[$];if(Q===void 0)throw new Error(`${J} references an unknown codicon: ${$}`);$=Q}return KM[J]=$,{id:J}}function pW(){return KM}var KM,U0;var U5=N(()=>{KM=Object.create(null);U0={add:O("add",60000),plus:O("plus",60000),gistNew:O("gist-new",60000),repoCreate:O("repo-create",60000),lightbulb:O("lightbulb",60001),lightBulb:O("light-bulb",60001),repo:O("repo",60002),repoDelete:O("repo-delete",60002),gistFork:O("gist-fork",60003),repoForked:O("repo-forked",60003),gitPullRequest:O("git-pull-request",60004),gitPullRequestAbandoned:O("git-pull-request-abandoned",60004),recordKeys:O("record-keys",60005),keyboard:O("keyboard",60005),tag:O("tag",60006),tagAdd:O("tag-add",60006),tagRemove:O("tag-remove",60006),gitPullRequestLabel:O("git-pull-request-label",60006),person:O("person",60007),personFollow:O("person-follow",60007),personOutline:O("person-outline",60007),personFilled:O("person-filled",60007),gitBranch:O("git-branch",60008),gitBranchCreate:O("git-branch-create",60008),gitBranchDelete:O("git-branch-delete",60008),sourceControl:O("source-control",60008),mirror:O("mirror",60009),mirrorPublic:O("mirror-public",60009),star:O("star",60010),starAdd:O("star-add",60010),starDelete:O("star-delete",60010),starEmpty:O("star-empty",60010),comment:O("comment",60011),commentAdd:O("comment-add",60011),alert:O("alert",60012),warning:O("warning",60012),search:O("search",60013),searchSave:O("search-save",60013),logOut:O("log-out",60014),signOut:O("sign-out",60014),logIn:O("log-in",60015),signIn:O("sign-in",60015),eye:O("eye",60016),eyeUnwatch:O("eye-unwatch",60016),eyeWatch:O("eye-watch",60016),circleFilled:O("circle-filled",60017),primitiveDot:O("primitive-dot",60017),closeDirty:O("close-dirty",60017),debugBreakpoint:O("debug-breakpoint",60017),debugBreakpointDisabled:O("debug-breakpoint-disabled",60017),debugBreakpointPending:O("debug-breakpoint-pending",60377),debugHint:O("debug-hint",60017),primitiveSquare:O("primitive-square",60018),edit:O("edit",60019),pencil:O("pencil",60019),info:O("info",60020),issueOpened:O("issue-opened",60020),gistPrivate:O("gist-private",60021),gitForkPrivate:O("git-fork-private",60021),lock:O("lock",60021),mirrorPrivate:O("mirror-private",60021),close:O("close",60022),removeClose:O("remove-close",60022),x:O("x",60022),repoSync:O("repo-sync",60023),sync:O("sync",60023),clone:O("clone",60024),desktopDownload:O("desktop-download",60024),beaker:O("beaker",60025),microscope:O("microscope",60025),vm:O("vm",60026),deviceDesktop:O("device-desktop",60026),file:O("file",60027),fileText:O("file-text",60027),more:O("more",60028),ellipsis:O("ellipsis",60028),kebabHorizontal:O("kebab-horizontal",60028),mailReply:O("mail-reply",60029),reply:O("reply",60029),organization:O("organization",60030),organizationFilled:O("organization-filled",60030),organizationOutline:O("organization-outline",60030),newFile:O("new-file",60031),fileAdd:O("file-add",60031),newFolder:O("new-folder",60032),fileDirectoryCreate:O("file-directory-create",60032),trash:O("trash",60033),trashcan:O("trashcan",60033),history:O("history",60034),clock:O("clock",60034),folder:O("folder",60035),fileDirectory:O("file-directory",60035),symbolFolder:O("symbol-folder",60035),logoGithub:O("logo-github",60036),markGithub:O("mark-github",60036),github:O("github",60036),terminal:O("terminal",60037),console:O("console",60037),repl:O("repl",60037),zap:O("zap",60038),symbolEvent:O("symbol-event",60038),error:O("error",60039),stop:O("stop",60039),variable:O("variable",60040),symbolVariable:O("symbol-variable",60040),array:O("array",60042),symbolArray:O("symbol-array",60042),symbolModule:O("symbol-module",60043),symbolPackage:O("symbol-package",60043),symbolNamespace:O("symbol-namespace",60043),symbolObject:O("symbol-object",60043),symbolMethod:O("symbol-method",60044),symbolFunction:O("symbol-function",60044),symbolConstructor:O("symbol-constructor",60044),symbolBoolean:O("symbol-boolean",60047),symbolNull:O("symbol-null",60047),symbolNumeric:O("symbol-numeric",60048),symbolNumber:O("symbol-number",60048),symbolStructure:O("symbol-structure",60049),symbolStruct:O("symbol-struct",60049),symbolParameter:O("symbol-parameter",60050),symbolTypeParameter:O("symbol-type-parameter",60050),symbolKey:O("symbol-key",60051),symbolText:O("symbol-text",60051),symbolReference:O("symbol-reference",60052),goToFile:O("go-to-file",60052),symbolEnum:O("symbol-enum",60053),symbolValue:O("symbol-value",60053),symbolRuler:O("symbol-ruler",60054),symbolUnit:O("symbol-unit",60054),activateBreakpoints:O("activate-breakpoints",60055),archive:O("archive",60056),arrowBoth:O("arrow-both",60057),arrowDown:O("arrow-down",60058),arrowLeft:O("arrow-left",60059),arrowRight:O("arrow-right",60060),arrowSmallDown:O("arrow-small-down",60061),arrowSmallLeft:O("arrow-small-left",60062),arrowSmallRight:O("arrow-small-right",60063),arrowSmallUp:O("arrow-small-up",60064),arrowUp:O("arrow-up",60065),bell:O("bell",60066),bold:O("bold",60067),book:O("book",60068),bookmark:O("bookmark",60069),debugBreakpointConditionalUnverified:O("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:O("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:O("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:O("debug-breakpoint-data-unverified",60072),debugBreakpointData:O("debug-breakpoint-data",60073),debugBreakpointDataDisabled:O("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:O("debug-breakpoint-log-unverified",60074),debugBreakpointLog:O("debug-breakpoint-log",60075),debugBreakpointLogDisabled:O("debug-breakpoint-log-disabled",60075),briefcase:O("briefcase",60076),broadcast:O("broadcast",60077),browser:O("browser",60078),bug:O("bug",60079),calendar:O("calendar",60080),caseSensitive:O("case-sensitive",60081),check:O("check",60082),checklist:O("checklist",60083),chevronDown:O("chevron-down",60084),dropDownButton:O("drop-down-button",60084),chevronLeft:O("chevron-left",60085),chevronRight:O("chevron-right",60086),chevronUp:O("chevron-up",60087),chromeClose:O("chrome-close",60088),chromeMaximize:O("chrome-maximize",60089),chromeMinimize:O("chrome-minimize",60090),chromeRestore:O("chrome-restore",60091),circle:O("circle",60092),circleOutline:O("circle-outline",60092),debugBreakpointUnverified:O("debug-breakpoint-unverified",60092),circleSlash:O("circle-slash",60093),circuitBoard:O("circuit-board",60094),clearAll:O("clear-all",60095),clippy:O("clippy",60096),closeAll:O("close-all",60097),cloudDownload:O("cloud-download",60098),cloudUpload:O("cloud-upload",60099),code:O("code",60100),collapseAll:O("collapse-all",60101),colorMode:O("color-mode",60102),commentDiscussion:O("comment-discussion",60103),compareChanges:O("compare-changes",60157),creditCard:O("credit-card",60105),dash:O("dash",60108),dashboard:O("dashboard",60109),database:O("database",60110),debugContinue:O("debug-continue",60111),debugDisconnect:O("debug-disconnect",60112),debugPause:O("debug-pause",60113),debugRestart:O("debug-restart",60114),debugStart:O("debug-start",60115),debugStepInto:O("debug-step-into",60116),debugStepOut:O("debug-step-out",60117),debugStepOver:O("debug-step-over",60118),debugStop:O("debug-stop",60119),debug:O("debug",60120),deviceCameraVideo:O("device-camera-video",60121),deviceCamera:O("device-camera",60122),deviceMobile:O("device-mobile",60123),diffAdded:O("diff-added",60124),diffIgnored:O("diff-ignored",60125),diffModified:O("diff-modified",60126),diffRemoved:O("diff-removed",60127),diffRenamed:O("diff-renamed",60128),diff:O("diff",60129),discard:O("discard",60130),editorLayout:O("editor-layout",60131),emptyWindow:O("empty-window",60132),exclude:O("exclude",60133),extensions:O("extensions",60134),eyeClosed:O("eye-closed",60135),fileBinary:O("file-binary",60136),fileCode:O("file-code",60137),fileMedia:O("file-media",60138),filePdf:O("file-pdf",60139),fileSubmodule:O("file-submodule",60140),fileSymlinkDirectory:O("file-symlink-directory",60141),fileSymlinkFile:O("file-symlink-file",60142),fileZip:O("file-zip",60143),files:O("files",60144),filter:O("filter",60145),flame:O("flame",60146),foldDown:O("fold-down",60147),foldUp:O("fold-up",60148),fold:O("fold",60149),folderActive:O("folder-active",60150),folderOpened:O("folder-opened",60151),gear:O("gear",60152),gift:O("gift",60153),gistSecret:O("gist-secret",60154),gist:O("gist",60155),gitCommit:O("git-commit",60156),gitCompare:O("git-compare",60157),gitMerge:O("git-merge",60158),githubAction:O("github-action",60159),githubAlt:O("github-alt",60160),globe:O("globe",60161),grabber:O("grabber",60162),graph:O("graph",60163),gripper:O("gripper",60164),heart:O("heart",60165),home:O("home",60166),horizontalRule:O("horizontal-rule",60167),hubot:O("hubot",60168),inbox:O("inbox",60169),issueClosed:O("issue-closed",60324),issueReopened:O("issue-reopened",60171),issues:O("issues",60172),italic:O("italic",60173),jersey:O("jersey",60174),json:O("json",60175),bracket:O("bracket",60175),kebabVertical:O("kebab-vertical",60176),key:O("key",60177),law:O("law",60178),lightbulbAutofix:O("lightbulb-autofix",60179),linkExternal:O("link-external",60180),link:O("link",60181),listOrdered:O("list-ordered",60182),listUnordered:O("list-unordered",60183),liveShare:O("live-share",60184),loading:O("loading",60185),location:O("location",60186),mailRead:O("mail-read",60187),mail:O("mail",60188),markdown:O("markdown",60189),megaphone:O("megaphone",60190),mention:O("mention",60191),milestone:O("milestone",60192),gitPullRequestMilestone:O("git-pull-request-milestone",60192),mortarBoard:O("mortar-board",60193),move:O("move",60194),multipleWindows:O("multiple-windows",60195),mute:O("mute",60196),noNewline:O("no-newline",60197),note:O("note",60198),octoface:O("octoface",60199),openPreview:O("open-preview",60200),package:O("package",60201),paintcan:O("paintcan",60202),pin:O("pin",60203),play:O("play",60204),run:O("run",60204),plug:O("plug",60205),preserveCase:O("preserve-case",60206),preview:O("preview",60207),project:O("project",60208),pulse:O("pulse",60209),question:O("question",60210),quote:O("quote",60211),radioTower:O("radio-tower",60212),reactions:O("reactions",60213),references:O("references",60214),refresh:O("refresh",60215),regex:O("regex",60216),remoteExplorer:O("remote-explorer",60217),remote:O("remote",60218),remove:O("remove",60219),replaceAll:O("replace-all",60220),replace:O("replace",60221),repoClone:O("repo-clone",60222),repoForcePush:O("repo-force-push",60223),repoPull:O("repo-pull",60224),repoPush:O("repo-push",60225),report:O("report",60226),requestChanges:O("request-changes",60227),rocket:O("rocket",60228),rootFolderOpened:O("root-folder-opened",60229),rootFolder:O("root-folder",60230),rss:O("rss",60231),ruby:O("ruby",60232),saveAll:O("save-all",60233),saveAs:O("save-as",60234),save:O("save",60235),screenFull:O("screen-full",60236),screenNormal:O("screen-normal",60237),searchStop:O("search-stop",60238),server:O("server",60240),settingsGear:O("settings-gear",60241),settings:O("settings",60242),shield:O("shield",60243),smiley:O("smiley",60244),sortPrecedence:O("sort-precedence",60245),splitHorizontal:O("split-horizontal",60246),splitVertical:O("split-vertical",60247),squirrel:O("squirrel",60248),starFull:O("star-full",60249),starHalf:O("star-half",60250),symbolClass:O("symbol-class",60251),symbolColor:O("symbol-color",60252),symbolCustomColor:O("symbol-customcolor",60252),symbolConstant:O("symbol-constant",60253),symbolEnumMember:O("symbol-enum-member",60254),symbolField:O("symbol-field",60255),symbolFile:O("symbol-file",60256),symbolInterface:O("symbol-interface",60257),symbolKeyword:O("symbol-keyword",60258),symbolMisc:O("symbol-misc",60259),symbolOperator:O("symbol-operator",60260),symbolProperty:O("symbol-property",60261),wrench:O("wrench",60261),wrenchSubaction:O("wrench-subaction",60261),symbolSnippet:O("symbol-snippet",60262),tasklist:O("tasklist",60263),telescope:O("telescope",60264),textSize:O("text-size",60265),threeBars:O("three-bars",60266),thumbsdown:O("thumbsdown",60267),thumbsup:O("thumbsup",60268),tools:O("tools",60269),triangleDown:O("triangle-down",60270),triangleLeft:O("triangle-left",60271),triangleRight:O("triangle-right",60272),triangleUp:O("triangle-up",60273),twitter:O("twitter",60274),unfold:O("unfold",60275),unlock:O("unlock",60276),unmute:O("unmute",60277),unverified:O("unverified",60278),verified:O("verified",60279),versions:O("versions",60280),vmActive:O("vm-active",60281),vmOutline:O("vm-outline",60282),vmRunning:O("vm-running",60283),watch:O("watch",60284),whitespace:O("whitespace",60285),wholeWord:O("whole-word",60286),window:O("window",60287),wordWrap:O("word-wrap",60288),zoomIn:O("zoom-in",60289),zoomOut:O("zoom-out",60290),listFilter:O("list-filter",60291),listFlat:O("list-flat",60292),listSelection:O("list-selection",60293),selection:O("selection",60293),listTree:O("list-tree",60294),debugBreakpointFunctionUnverified:O("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:O("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:O("debug-breakpoint-function-disabled",60296),debugStackframeActive:O("debug-stackframe-active",60297),circleSmallFilled:O("circle-small-filled",60298),debugStackframeDot:O("debug-stackframe-dot",60298),debugStackframe:O("debug-stackframe",60299),debugStackframeFocused:O("debug-stackframe-focused",60299),debugBreakpointUnsupported:O("debug-breakpoint-unsupported",60300),symbolString:O("symbol-string",60301),debugReverseContinue:O("debug-reverse-continue",60302),debugStepBack:O("debug-step-back",60303),debugRestartFrame:O("debug-restart-frame",60304),callIncoming:O("call-incoming",60306),callOutgoing:O("call-outgoing",60307),menu:O("menu",60308),expandAll:O("expand-all",60309),feedback:O("feedback",60310),gitPullRequestReviewer:O("git-pull-request-reviewer",60310),groupByRefType:O("group-by-ref-type",60311),ungroupByRefType:O("ungroup-by-ref-type",60312),account:O("account",60313),gitPullRequestAssignee:O("git-pull-request-assignee",60313),bellDot:O("bell-dot",60314),debugConsole:O("debug-console",60315),library:O("library",60316),output:O("output",60317),runAll:O("run-all",60318),syncIgnored:O("sync-ignored",60319),pinned:O("pinned",60320),githubInverted:O("github-inverted",60321),debugAlt:O("debug-alt",60305),serverProcess:O("server-process",60322),serverEnvironment:O("server-environment",60323),pass:O("pass",60324),stopCircle:O("stop-circle",60325),playCircle:O("play-circle",60326),record:O("record",60327),debugAltSmall:O("debug-alt-small",60328),vmConnect:O("vm-connect",60329),cloud:O("cloud",60330),merge:O("merge",60331),exportIcon:O("export",60332),graphLeft:O("graph-left",60333),magnet:O("magnet",60334),notebook:O("notebook",60335),redo:O("redo",60336),checkAll:O("check-all",60337),pinnedDirty:O("pinned-dirty",60338),passFilled:O("pass-filled",60339),circleLargeFilled:O("circle-large-filled",60340),circleLarge:O("circle-large",60341),circleLargeOutline:O("circle-large-outline",60341),combine:O("combine",60342),gather:O("gather",60342),table:O("table",60343),variableGroup:O("variable-group",60344),typeHierarchy:O("type-hierarchy",60345),typeHierarchySub:O("type-hierarchy-sub",60346),typeHierarchySuper:O("type-hierarchy-super",60347),gitPullRequestCreate:O("git-pull-request-create",60348),runAbove:O("run-above",60349),runBelow:O("run-below",60350),notebookTemplate:O("notebook-template",60351),debugRerun:O("debug-rerun",60352),workspaceTrusted:O("workspace-trusted",60353),workspaceUntrusted:O("workspace-untrusted",60354),workspaceUnspecified:O("workspace-unspecified",60355),terminalCmd:O("terminal-cmd",60356),terminalDebian:O("terminal-debian",60357),terminalLinux:O("terminal-linux",60358),terminalPowershell:O("terminal-powershell",60359),terminalTmux:O("terminal-tmux",60360),terminalUbuntu:O("terminal-ubuntu",60361),terminalBash:O("terminal-bash",60362),arrowSwap:O("arrow-swap",60363),copy:O("copy",60364),personAdd:O("person-add",60365),filterFilled:O("filter-filled",60366),wand:O("wand",60367),debugLineByLine:O("debug-line-by-line",60368),inspect:O("inspect",60369),layers:O("layers",60370),layersDot:O("layers-dot",60371),layersActive:O("layers-active",60372),compass:O("compass",60373),compassDot:O("compass-dot",60374),compassActive:O("compass-active",60375),azure:O("azure",60376),issueDraft:O("issue-draft",60377),gitPullRequestClosed:O("git-pull-request-closed",60378),gitPullRequestDraft:O("git-pull-request-draft",60379),debugAll:O("debug-all",60380),debugCoverage:O("debug-coverage",60381),runErrors:O("run-errors",60382),folderLibrary:O("folder-library",60383),debugContinueSmall:O("debug-continue-small",60384),beakerStop:O("beaker-stop",60385),graphLine:O("graph-line",60386),graphScatter:O("graph-scatter",60387),pieChart:O("pie-chart",60388),bracketDot:O("bracket-dot",60389),bracketError:O("bracket-error",60390),lockSmall:O("lock-small",60391),azureDevops:O("azure-devops",60392),verifiedFilled:O("verified-filled",60393),newLine:O("newline",60394),layout:O("layout",60395),layoutActivitybarLeft:O("layout-activitybar-left",60396),layoutActivitybarRight:O("layout-activitybar-right",60397),layoutPanelLeft:O("layout-panel-left",60398),layoutPanelCenter:O("layout-panel-center",60399),layoutPanelJustify:O("layout-panel-justify",60400),layoutPanelRight:O("layout-panel-right",60401),layoutPanel:O("layout-panel",60402),layoutSidebarLeft:O("layout-sidebar-left",60403),layoutSidebarRight:O("layout-sidebar-right",60404),layoutStatusbar:O("layout-statusbar",60405),layoutMenubar:O("layout-menubar",60406),layoutCentered:O("layout-centered",60407),layoutSidebarRightOff:O("layout-sidebar-right-off",60416),layoutPanelOff:O("layout-panel-off",60417),layoutSidebarLeftOff:O("layout-sidebar-left-off",60418),target:O("target",60408),indent:O("indent",60409),recordSmall:O("record-small",60410),errorSmall:O("error-small",60411),arrowCircleDown:O("arrow-circle-down",60412),arrowCircleLeft:O("arrow-circle-left",60413),arrowCircleRight:O("arrow-circle-right",60414),arrowCircleUp:O("arrow-circle-up",60415),heartFilled:O("heart-filled",60420),map:O("map",60421),mapFilled:O("map-filled",60422),circleSmall:O("circle-small",60423),bellSlash:O("bell-slash",60424),bellSlashDot:O("bell-slash-dot",60425),commentUnresolved:O("comment-unresolved",60426),gitPullRequestGoToChanges:O("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:O("git-pull-request-new-changes",60428),searchFuzzy:O("search-fuzzy",60429),commentDraft:O("comment-draft",60430),send:O("send",60431),sparkle:O("sparkle",60432),insert:O("insert",60433),mic:O("mic",60434),thumbsDownFilled:O("thumbsdown-filled",60435),thumbsUpFilled:O("thumbsup-filled",60436),coffee:O("coffee",60437),snake:O("snake",60438),game:O("game",60439),vr:O("vr",60440),chip:O("chip",60441),piano:O("piano",60442),music:O("music",60443),micFilled:O("mic-filled",60444),gitFetch:O("git-fetch",60445),copilot:O("copilot",60446),lightbulbSparkle:O("lightbulb-sparkle",60447),lightbulbSparkleAutofix:O("lightbulb-sparkle-autofix",60447),robot:O("robot",60448),sparkleFilled:O("sparkle-filled",60449),diffSingle:O("diff-single",60450),diffMultiple:O("diff-multiple",60451),surroundWith:O("surround-with",60452),gitStash:O("git-stash",60454),gitStashApply:O("git-stash-apply",60455),gitStashPop:O("git-stash-pop",60456),dialogError:O("dialog-error","error"),dialogWarning:O("dialog-warning","warning"),dialogInfo:O("dialog-info","info"),dialogClose:O("dialog-close","close"),treeItemExpanded:O("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:O("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:O("tree-filter-on-type-off","list-selection"),treeFilterClear:O("tree-filter-clear","close"),treeItemLoading:O("tree-item-loading","loading"),menuSelection:O("menu-selection","check"),menuSubmenu:O("menu-submenu","chevron-right"),menuBarMore:O("menubar-more","more"),scrollbarButtonLeft:O("scrollbar-button-left","triangle-left"),scrollbarButtonRight:O("scrollbar-button-right","triangle-right"),scrollbarButtonUp:O("scrollbar-button-up","triangle-up"),scrollbarButtonDown:O("scrollbar-button-down","triangle-down"),toolBarMore:O("toolbar-more","more"),quickInputBack:O("quick-input-back","arrow-left")}});class AM{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(J){this._onDidChange.fire({changedLanguages:J,changedColorMap:!1})}register(J,$){return this._tokenizationSupports.set(J,$),this.handleChange([J]),K0(()=>{if(this._tokenizationSupports.get(J)!==$)return;this._tokenizationSupports.delete(J),this.handleChange([J])})}get(J){return this._tokenizationSupports.get(J)||null}registerFactory(J,$){var Q;(Q=this._factories.get(J))===null||Q===void 0||Q.dispose();let X=new $S(this,J,$);return this._factories.set(J,X),K0(()=>{let Y=this._factories.get(J);if(!Y||Y!==X)return;this._factories.delete(J),Y.dispose()})}async getOrCreate(J){let $=this.get(J);if($)return $;let Q=this._factories.get(J);if(!Q||Q.isResolved)return null;return await Q.resolve(),this.get(J)}isResolved(J){if(this.get(J))return!0;let Q=this._factories.get(J);if(!Q||Q.isResolved)return!0;return!1}setColorMap(J){this._colorMap=J,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2)return this._colorMap[2];return null}}var $S;var QS=N(()=>{F0();Q0();$S=class $S extends h{get isResolved(){return this._isResolved}constructor(J,$,Q){super();this._registry=J,this._languageId=$,this._factory=Q,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){if(!this._resolvePromise)this._resolvePromise=this._create();return this._resolvePromise}async _create(){let J=await this._factory.tokenizationSupport;if(this._isResolved=!0,J&&!this._isDisposed)this._register(this._registry.register(this._languageId,J))}}});class $${constructor(J,$,Q){this.offset=J,this.type=$,this.language=Q,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class bZ{constructor(J,$){this.tokens=J,this.endState=$,this._tokenizationResultBrand=void 0}}class uX{constructor(J,$){this.tokens=J,this.endState=$,this._encodedTokenizationResultBrand=void 0}}class PM{constructor(J,$,Q,X){this.range=J,this.text=$,this.completionKind=Q,this.isSnippetText=X}equals(J){return L.lift(this.range).equalsRange(J.range)&&this.text===J.text&&this.completionKind===J.completionKind&&this.isSnippetText===J.isSnippetText}}class A8{static fromValue(J){switch(J){case"comment":return A8.Comment;case"imports":return A8.Imports;case"region":return A8.Region}return new A8(J)}constructor(J){this.value=J}}class DM{constructor(J){this.createSupport=J,this._tokenizationSupport=null}dispose(){if(this._tokenizationSupport)this._tokenizationSupport.then((J)=>{if(J)J.dispose()})}get tokenizationSupport(){if(!this._tokenizationSupport)this._tokenizationSupport=this.createSupport();return this._tokenizationSupport}}var xZ,XS,YS,ZS,z20,mW,GS,qS,c1;var P8=N(()=>{U5();o6();l0();QS();g0();(function(J){let $=new Map;$.set(0,U0.symbolMethod),$.set(1,U0.symbolFunction),$.set(2,U0.symbolConstructor),$.set(3,U0.symbolField),$.set(4,U0.symbolVariable),$.set(5,U0.symbolClass),$.set(6,U0.symbolStruct),$.set(7,U0.symbolInterface),$.set(8,U0.symbolModule),$.set(9,U0.symbolProperty),$.set(10,U0.symbolEvent),$.set(11,U0.symbolOperator),$.set(12,U0.symbolUnit),$.set(13,U0.symbolValue),$.set(15,U0.symbolEnum),$.set(14,U0.symbolConstant),$.set(15,U0.symbolEnum),$.set(16,U0.symbolEnumMember),$.set(17,U0.symbolKeyword),$.set(27,U0.symbolSnippet),$.set(18,U0.symbolText),$.set(19,U0.symbolColor),$.set(20,U0.symbolFile),$.set(21,U0.symbolReference),$.set(22,U0.symbolCustomColor),$.set(23,U0.symbolFolder),$.set(24,U0.symbolTypeParameter),$.set(25,U0.account),$.set(26,U0.issues);function Q(Z){let G=$.get(Z);if(!G)console.info("No codicon found for CompletionItemKind "+Z),G=U0.symbolProperty;return G}J.toIcon=Q;let X=new Map;X.set("method",0),X.set("function",1),X.set("constructor",2),X.set("field",3),X.set("variable",4),X.set("class",5),X.set("struct",6),X.set("interface",7),X.set("module",8),X.set("property",9),X.set("event",10),X.set("operator",11),X.set("unit",12),X.set("value",13),X.set("constant",14),X.set("enum",15),X.set("enum-member",16),X.set("enumMember",16),X.set("keyword",17),X.set("snippet",27),X.set("text",18),X.set("color",19),X.set("file",20),X.set("reference",21),X.set("customcolor",22),X.set("folder",23),X.set("type-parameter",24),X.set("typeParameter",24),X.set("account",25),X.set("issue",26);function Y(Z,G){let q=X.get(Z);if(typeof q==="undefined"&&!G)q=9;return q}J.fromString=Y})(xZ||(xZ={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(XS||(XS={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(YS||(YS={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(ZS||(ZS={}));z20={[17]:F("Array","array"),[16]:F("Boolean","boolean"),[4]:F("Class","class"),[13]:F("Constant","constant"),[8]:F("Constructor","constructor"),[9]:F("Enum","enumeration"),[21]:F("EnumMember","enumeration member"),[23]:F("Event","event"),[7]:F("Field","field"),[0]:F("File","file"),[11]:F("Function","function"),[10]:F("Interface","interface"),[19]:F("Key","key"),[5]:F("Method","method"),[1]:F("Module","module"),[2]:F("Namespace","namespace"),[20]:F("Null","null"),[15]:F("Number","number"),[18]:F("Object","object"),[24]:F("Operator","operator"),[3]:F("Package","package"),[6]:F("Property","property"),[14]:F("String","string"),[22]:F("Struct","struct"),[25]:F("TypeParameter","type parameter"),[12]:F("Variable","variable")};(function(J){let $=new Map;$.set(0,U0.symbolFile),$.set(1,U0.symbolModule),$.set(2,U0.symbolNamespace),$.set(3,U0.symbolPackage),$.set(4,U0.symbolClass),$.set(5,U0.symbolMethod),$.set(6,U0.symbolProperty),$.set(7,U0.symbolField),$.set(8,U0.symbolConstructor),$.set(9,U0.symbolEnum),$.set(10,U0.symbolInterface),$.set(11,U0.symbolFunction),$.set(12,U0.symbolVariable),$.set(13,U0.symbolConstant),$.set(14,U0.symbolString),$.set(15,U0.symbolNumber),$.set(16,U0.symbolBoolean),$.set(17,U0.symbolArray),$.set(18,U0.symbolObject),$.set(19,U0.symbolKey),$.set(20,U0.symbolNull),$.set(21,U0.symbolEnumMember),$.set(22,U0.symbolStruct),$.set(23,U0.symbolEvent),$.set(24,U0.symbolOperator),$.set(25,U0.symbolTypeParameter);function Q(X){let Y=$.get(X);if(!Y)console.info("No codicon found for SymbolKind "+X),Y=U0.symbolProperty;return Y}J.toIcon=Q})(mW||(mW={}));A8.Comment=new A8("comment");A8.Imports=new A8("imports");A8.Region=new A8("region");(function(J){function $(Q){if(!Q||typeof Q!=="object")return!1;return typeof Q.id==="string"&&typeof Q.title==="string"}J.is=$})(GS||(GS={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(qS||(qS={}));c1=new AM});var uW,cW,lW,dW,sW,aW,rW,iW,nW,oW,tW,eW,JB,$B,QB,XB,YB,ZB,GB,qB,UB,zB,HB,jB,VB,WB,BB,FB,KB,AB,PB,DB,RB,MB,_B,OB,NB,TB,wB,LB;var kB=N(()=>{(function(J){J[J.Unknown=0]="Unknown",J[J.Disabled=1]="Disabled",J[J.Enabled=2]="Enabled"})(uW||(uW={}));(function(J){J[J.Invoke=1]="Invoke",J[J.Auto=2]="Auto"})(cW||(cW={}));(function(J){J[J.None=0]="None",J[J.KeepWhitespace=1]="KeepWhitespace",J[J.InsertAsSnippet=4]="InsertAsSnippet"})(lW||(lW={}));(function(J){J[J.Method=0]="Method",J[J.Function=1]="Function",J[J.Constructor=2]="Constructor",J[J.Field=3]="Field",J[J.Variable=4]="Variable",J[J.Class=5]="Class",J[J.Struct=6]="Struct",J[J.Interface=7]="Interface",J[J.Module=8]="Module",J[J.Property=9]="Property",J[J.Event=10]="Event",J[J.Operator=11]="Operator",J[J.Unit=12]="Unit",J[J.Value=13]="Value",J[J.Constant=14]="Constant",J[J.Enum=15]="Enum",J[J.EnumMember=16]="EnumMember",J[J.Keyword=17]="Keyword",J[J.Text=18]="Text",J[J.Color=19]="Color",J[J.File=20]="File",J[J.Reference=21]="Reference",J[J.Customcolor=22]="Customcolor",J[J.Folder=23]="Folder",J[J.TypeParameter=24]="TypeParameter",J[J.User=25]="User",J[J.Issue=26]="Issue",J[J.Snippet=27]="Snippet"})(dW||(dW={}));(function(J){J[J.Deprecated=1]="Deprecated"})(sW||(sW={}));(function(J){J[J.Invoke=0]="Invoke",J[J.TriggerCharacter=1]="TriggerCharacter",J[J.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(aW||(aW={}));(function(J){J[J.EXACT=0]="EXACT",J[J.ABOVE=1]="ABOVE",J[J.BELOW=2]="BELOW"})(rW||(rW={}));(function(J){J[J.NotSet=0]="NotSet",J[J.ContentFlush=1]="ContentFlush",J[J.RecoverFromMarkers=2]="RecoverFromMarkers",J[J.Explicit=3]="Explicit",J[J.Paste=4]="Paste",J[J.Undo=5]="Undo",J[J.Redo=6]="Redo"})(iW||(iW={}));(function(J){J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(nW||(nW={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(oW||(oW={}));(function(J){J[J.None=0]="None",J[J.Keep=1]="Keep",J[J.Brackets=2]="Brackets",J[J.Advanced=3]="Advanced",J[J.Full=4]="Full"})(tW||(tW={}));(function(J){J[J.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",J[J.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",J[J.accessibilitySupport=2]="accessibilitySupport",J[J.accessibilityPageSize=3]="accessibilityPageSize",J[J.ariaLabel=4]="ariaLabel",J[J.ariaRequired=5]="ariaRequired",J[J.autoClosingBrackets=6]="autoClosingBrackets",J[J.autoClosingComments=7]="autoClosingComments",J[J.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",J[J.autoClosingDelete=9]="autoClosingDelete",J[J.autoClosingOvertype=10]="autoClosingOvertype",J[J.autoClosingQuotes=11]="autoClosingQuotes",J[J.autoIndent=12]="autoIndent",J[J.automaticLayout=13]="automaticLayout",J[J.autoSurround=14]="autoSurround",J[J.bracketPairColorization=15]="bracketPairColorization",J[J.guides=16]="guides",J[J.codeLens=17]="codeLens",J[J.codeLensFontFamily=18]="codeLensFontFamily",J[J.codeLensFontSize=19]="codeLensFontSize",J[J.colorDecorators=20]="colorDecorators",J[J.colorDecoratorsLimit=21]="colorDecoratorsLimit",J[J.columnSelection=22]="columnSelection",J[J.comments=23]="comments",J[J.contextmenu=24]="contextmenu",J[J.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",J[J.cursorBlinking=26]="cursorBlinking",J[J.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",J[J.cursorStyle=28]="cursorStyle",J[J.cursorSurroundingLines=29]="cursorSurroundingLines",J[J.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",J[J.cursorWidth=31]="cursorWidth",J[J.disableLayerHinting=32]="disableLayerHinting",J[J.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",J[J.domReadOnly=34]="domReadOnly",J[J.dragAndDrop=35]="dragAndDrop",J[J.dropIntoEditor=36]="dropIntoEditor",J[J.emptySelectionClipboard=37]="emptySelectionClipboard",J[J.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",J[J.extraEditorClassName=39]="extraEditorClassName",J[J.fastScrollSensitivity=40]="fastScrollSensitivity",J[J.find=41]="find",J[J.fixedOverflowWidgets=42]="fixedOverflowWidgets",J[J.folding=43]="folding",J[J.foldingStrategy=44]="foldingStrategy",J[J.foldingHighlight=45]="foldingHighlight",J[J.foldingImportsByDefault=46]="foldingImportsByDefault",J[J.foldingMaximumRegions=47]="foldingMaximumRegions",J[J.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",J[J.fontFamily=49]="fontFamily",J[J.fontInfo=50]="fontInfo",J[J.fontLigatures=51]="fontLigatures",J[J.fontSize=52]="fontSize",J[J.fontWeight=53]="fontWeight",J[J.fontVariations=54]="fontVariations",J[J.formatOnPaste=55]="formatOnPaste",J[J.formatOnType=56]="formatOnType",J[J.glyphMargin=57]="glyphMargin",J[J.gotoLocation=58]="gotoLocation",J[J.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",J[J.hover=60]="hover",J[J.inDiffEditor=61]="inDiffEditor",J[J.inlineSuggest=62]="inlineSuggest",J[J.letterSpacing=63]="letterSpacing",J[J.lightbulb=64]="lightbulb",J[J.lineDecorationsWidth=65]="lineDecorationsWidth",J[J.lineHeight=66]="lineHeight",J[J.lineNumbers=67]="lineNumbers",J[J.lineNumbersMinChars=68]="lineNumbersMinChars",J[J.linkedEditing=69]="linkedEditing",J[J.links=70]="links",J[J.matchBrackets=71]="matchBrackets",J[J.minimap=72]="minimap",J[J.mouseStyle=73]="mouseStyle",J[J.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",J[J.mouseWheelZoom=75]="mouseWheelZoom",J[J.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",J[J.multiCursorModifier=77]="multiCursorModifier",J[J.multiCursorPaste=78]="multiCursorPaste",J[J.multiCursorLimit=79]="multiCursorLimit",J[J.occurrencesHighlight=80]="occurrencesHighlight",J[J.overviewRulerBorder=81]="overviewRulerBorder",J[J.overviewRulerLanes=82]="overviewRulerLanes",J[J.padding=83]="padding",J[J.pasteAs=84]="pasteAs",J[J.parameterHints=85]="parameterHints",J[J.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",J[J.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",J[J.quickSuggestions=88]="quickSuggestions",J[J.quickSuggestionsDelay=89]="quickSuggestionsDelay",J[J.readOnly=90]="readOnly",J[J.readOnlyMessage=91]="readOnlyMessage",J[J.renameOnType=92]="renameOnType",J[J.renderControlCharacters=93]="renderControlCharacters",J[J.renderFinalNewline=94]="renderFinalNewline",J[J.renderLineHighlight=95]="renderLineHighlight",J[J.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",J[J.renderValidationDecorations=97]="renderValidationDecorations",J[J.renderWhitespace=98]="renderWhitespace",J[J.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",J[J.roundedSelection=100]="roundedSelection",J[J.rulers=101]="rulers",J[J.scrollbar=102]="scrollbar",J[J.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",J[J.scrollBeyondLastLine=104]="scrollBeyondLastLine",J[J.scrollPredominantAxis=105]="scrollPredominantAxis",J[J.selectionClipboard=106]="selectionClipboard",J[J.selectionHighlight=107]="selectionHighlight",J[J.selectOnLineNumbers=108]="selectOnLineNumbers",J[J.showFoldingControls=109]="showFoldingControls",J[J.showUnused=110]="showUnused",J[J.snippetSuggestions=111]="snippetSuggestions",J[J.smartSelect=112]="smartSelect",J[J.smoothScrolling=113]="smoothScrolling",J[J.stickyScroll=114]="stickyScroll",J[J.stickyTabStops=115]="stickyTabStops",J[J.stopRenderingLineAfter=116]="stopRenderingLineAfter",J[J.suggest=117]="suggest",J[J.suggestFontSize=118]="suggestFontSize",J[J.suggestLineHeight=119]="suggestLineHeight",J[J.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",J[J.suggestSelection=121]="suggestSelection",J[J.tabCompletion=122]="tabCompletion",J[J.tabIndex=123]="tabIndex",J[J.unicodeHighlighting=124]="unicodeHighlighting",J[J.unusualLineTerminators=125]="unusualLineTerminators",J[J.useShadowDOM=126]="useShadowDOM",J[J.useTabStops=127]="useTabStops",J[J.wordBreak=128]="wordBreak",J[J.wordSeparators=129]="wordSeparators",J[J.wordWrap=130]="wordWrap",J[J.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",J[J.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",J[J.wordWrapColumn=133]="wordWrapColumn",J[J.wordWrapOverride1=134]="wordWrapOverride1",J[J.wordWrapOverride2=135]="wordWrapOverride2",J[J.wrappingIndent=136]="wrappingIndent",J[J.wrappingStrategy=137]="wrappingStrategy",J[J.showDeprecated=138]="showDeprecated",J[J.inlayHints=139]="inlayHints",J[J.editorClassName=140]="editorClassName",J[J.pixelRatio=141]="pixelRatio",J[J.tabFocusMode=142]="tabFocusMode",J[J.layoutInfo=143]="layoutInfo",J[J.wrappingInfo=144]="wrappingInfo",J[J.defaultColorDecorators=145]="defaultColorDecorators",J[J.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",J[J.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(eW||(eW={}));(function(J){J[J.TextDefined=0]="TextDefined",J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(JB||(JB={}));(function(J){J[J.LF=0]="LF",J[J.CRLF=1]="CRLF"})($B||($B={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(QB||(QB={}));(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(XB||(XB={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(YB||(YB={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(ZB||(ZB={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(GB||(GB={}));(function(J){J[J.DependsOnKbLayout=-1]="DependsOnKbLayout",J[J.Unknown=0]="Unknown",J[J.Backspace=1]="Backspace",J[J.Tab=2]="Tab",J[J.Enter=3]="Enter",J[J.Shift=4]="Shift",J[J.Ctrl=5]="Ctrl",J[J.Alt=6]="Alt",J[J.PauseBreak=7]="PauseBreak",J[J.CapsLock=8]="CapsLock",J[J.Escape=9]="Escape",J[J.Space=10]="Space",J[J.PageUp=11]="PageUp",J[J.PageDown=12]="PageDown",J[J.End=13]="End",J[J.Home=14]="Home",J[J.LeftArrow=15]="LeftArrow",J[J.UpArrow=16]="UpArrow",J[J.RightArrow=17]="RightArrow",J[J.DownArrow=18]="DownArrow",J[J.Insert=19]="Insert",J[J.Delete=20]="Delete",J[J.Digit0=21]="Digit0",J[J.Digit1=22]="Digit1",J[J.Digit2=23]="Digit2",J[J.Digit3=24]="Digit3",J[J.Digit4=25]="Digit4",J[J.Digit5=26]="Digit5",J[J.Digit6=27]="Digit6",J[J.Digit7=28]="Digit7",J[J.Digit8=29]="Digit8",J[J.Digit9=30]="Digit9",J[J.KeyA=31]="KeyA",J[J.KeyB=32]="KeyB",J[J.KeyC=33]="KeyC",J[J.KeyD=34]="KeyD",J[J.KeyE=35]="KeyE",J[J.KeyF=36]="KeyF",J[J.KeyG=37]="KeyG",J[J.KeyH=38]="KeyH",J[J.KeyI=39]="KeyI",J[J.KeyJ=40]="KeyJ",J[J.KeyK=41]="KeyK",J[J.KeyL=42]="KeyL",J[J.KeyM=43]="KeyM",J[J.KeyN=44]="KeyN",J[J.KeyO=45]="KeyO",J[J.KeyP=46]="KeyP",J[J.KeyQ=47]="KeyQ",J[J.KeyR=48]="KeyR",J[J.KeyS=49]="KeyS",J[J.KeyT=50]="KeyT",J[J.KeyU=51]="KeyU",J[J.KeyV=52]="KeyV",J[J.KeyW=53]="KeyW",J[J.KeyX=54]="KeyX",J[J.KeyY=55]="KeyY",J[J.KeyZ=56]="KeyZ",J[J.Meta=57]="Meta",J[J.ContextMenu=58]="ContextMenu",J[J.F1=59]="F1",J[J.F2=60]="F2",J[J.F3=61]="F3",J[J.F4=62]="F4",J[J.F5=63]="F5",J[J.F6=64]="F6",J[J.F7=65]="F7",J[J.F8=66]="F8",J[J.F9=67]="F9",J[J.F10=68]="F10",J[J.F11=69]="F11",J[J.F12=70]="F12",J[J.F13=71]="F13",J[J.F14=72]="F14",J[J.F15=73]="F15",J[J.F16=74]="F16",J[J.F17=75]="F17",J[J.F18=76]="F18",J[J.F19=77]="F19",J[J.F20=78]="F20",J[J.F21=79]="F21",J[J.F22=80]="F22",J[J.F23=81]="F23",J[J.F24=82]="F24",J[J.NumLock=83]="NumLock",J[J.ScrollLock=84]="ScrollLock",J[J.Semicolon=85]="Semicolon",J[J.Equal=86]="Equal",J[J.Comma=87]="Comma",J[J.Minus=88]="Minus",J[J.Period=89]="Period",J[J.Slash=90]="Slash",J[J.Backquote=91]="Backquote",J[J.BracketLeft=92]="BracketLeft",J[J.Backslash=93]="Backslash",J[J.BracketRight=94]="BracketRight",J[J.Quote=95]="Quote",J[J.OEM_8=96]="OEM_8",J[J.IntlBackslash=97]="IntlBackslash",J[J.Numpad0=98]="Numpad0",J[J.Numpad1=99]="Numpad1",J[J.Numpad2=100]="Numpad2",J[J.Numpad3=101]="Numpad3",J[J.Numpad4=102]="Numpad4",J[J.Numpad5=103]="Numpad5",J[J.Numpad6=104]="Numpad6",J[J.Numpad7=105]="Numpad7",J[J.Numpad8=106]="Numpad8",J[J.Numpad9=107]="Numpad9",J[J.NumpadMultiply=108]="NumpadMultiply",J[J.NumpadAdd=109]="NumpadAdd",J[J.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",J[J.NumpadSubtract=111]="NumpadSubtract",J[J.NumpadDecimal=112]="NumpadDecimal",J[J.NumpadDivide=113]="NumpadDivide",J[J.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",J[J.ABNT_C1=115]="ABNT_C1",J[J.ABNT_C2=116]="ABNT_C2",J[J.AudioVolumeMute=117]="AudioVolumeMute",J[J.AudioVolumeUp=118]="AudioVolumeUp",J[J.AudioVolumeDown=119]="AudioVolumeDown",J[J.BrowserSearch=120]="BrowserSearch",J[J.BrowserHome=121]="BrowserHome",J[J.BrowserBack=122]="BrowserBack",J[J.BrowserForward=123]="BrowserForward",J[J.MediaTrackNext=124]="MediaTrackNext",J[J.MediaTrackPrevious=125]="MediaTrackPrevious",J[J.MediaStop=126]="MediaStop",J[J.MediaPlayPause=127]="MediaPlayPause",J[J.LaunchMediaPlayer=128]="LaunchMediaPlayer",J[J.LaunchMail=129]="LaunchMail",J[J.LaunchApp2=130]="LaunchApp2",J[J.Clear=131]="Clear",J[J.MAX_VALUE=132]="MAX_VALUE"})(qB||(qB={}));(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(UB||(UB={}));(function(J){J[J.Unnecessary=1]="Unnecessary",J[J.Deprecated=2]="Deprecated"})(zB||(zB={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(HB||(HB={}));(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.TEXTAREA=1]="TEXTAREA",J[J.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",J[J.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",J[J.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",J[J.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",J[J.CONTENT_TEXT=6]="CONTENT_TEXT",J[J.CONTENT_EMPTY=7]="CONTENT_EMPTY",J[J.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",J[J.CONTENT_WIDGET=9]="CONTENT_WIDGET",J[J.OVERVIEW_RULER=10]="OVERVIEW_RULER",J[J.SCROLLBAR=11]="SCROLLBAR",J[J.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",J[J.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(jB||(jB={}));(function(J){J[J.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",J[J.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",J[J.TOP_CENTER=2]="TOP_CENTER"})(VB||(VB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(WB||(WB={}));(function(J){J[J.Left=0]="Left",J[J.Right=1]="Right",J[J.None=2]="None",J[J.LeftOfInjectedText=3]="LeftOfInjectedText",J[J.RightOfInjectedText=4]="RightOfInjectedText"})(BB||(BB={}));(function(J){J[J.Off=0]="Off",J[J.On=1]="On",J[J.Relative=2]="Relative",J[J.Interval=3]="Interval",J[J.Custom=4]="Custom"})(FB||(FB={}));(function(J){J[J.None=0]="None",J[J.Text=1]="Text",J[J.Blocks=2]="Blocks"})(KB||(KB={}));(function(J){J[J.Smooth=0]="Smooth",J[J.Immediate=1]="Immediate"})(AB||(AB={}));(function(J){J[J.Auto=1]="Auto",J[J.Hidden=2]="Hidden",J[J.Visible=3]="Visible"})(PB||(PB={}));(function(J){J[J.LTR=0]="LTR",J[J.RTL=1]="RTL"})(DB||(DB={}));(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(RB||(RB={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(MB||(MB={}));(function(J){J[J.File=0]="File",J[J.Module=1]="Module",J[J.Namespace=2]="Namespace",J[J.Package=3]="Package",J[J.Class=4]="Class",J[J.Method=5]="Method",J[J.Property=6]="Property",J[J.Field=7]="Field",J[J.Constructor=8]="Constructor",J[J.Enum=9]="Enum",J[J.Interface=10]="Interface",J[J.Function=11]="Function",J[J.Variable=12]="Variable",J[J.Constant=13]="Constant",J[J.String=14]="String",J[J.Number=15]="Number",J[J.Boolean=16]="Boolean",J[J.Array=17]="Array",J[J.Object=18]="Object",J[J.Key=19]="Key",J[J.Null=20]="Null",J[J.EnumMember=21]="EnumMember",J[J.Struct=22]="Struct",J[J.Event=23]="Event",J[J.Operator=24]="Operator",J[J.TypeParameter=25]="TypeParameter"})(_B||(_B={}));(function(J){J[J.Deprecated=1]="Deprecated"})(OB||(OB={}));(function(J){J[J.Hidden=0]="Hidden",J[J.Blink=1]="Blink",J[J.Smooth=2]="Smooth",J[J.Phase=3]="Phase",J[J.Expand=4]="Expand",J[J.Solid=5]="Solid"})(NB||(NB={}));(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(TB||(TB={}));(function(J){J[J.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",J[J.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",J[J.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",J[J.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(wB||(wB={}));(function(J){J[J.None=0]="None",J[J.Same=1]="Same",J[J.Indent=2]="Indent",J[J.DeepIndent=3]="DeepIndent"})(LB||(LB={}))});class pG{static chord(J,$){return b8(J,$)}}function EB(){return{editor:void 0,languages:void 0,CancellationTokenSource:q5,Emitter:y,KeyCode:qB,KeyMod:pG,Position:v,Range:L,Selection:v0,SelectionDirection:DB,MarkerSeverity:UB,MarkerTag:zB,Uri:I0,Token:$$}}var _M=N(()=>{e5();F0();IZ();o6();l0();E5();P8();kB();pG.CtrlCmd=2048;pG.Shift=1024;pG.Alt=512;pG.WinCtrl=256});function US(J,$){let Q=J;if(typeof Q.vscodeWindowId!=="number")Object.defineProperty(Q,"vscodeWindowId",{get:()=>$})}var z1,FQ;var J8=N(()=>{z1=window,FQ=z1});class OM{constructor(J){this.fn=J,this.lastCache=void 0,this.lastArgKey=void 0}get(J){let $=JSON.stringify(J);if(this.lastArgKey!==$)this.lastArgKey=$,this.lastCache=this.fn(J);return this.lastCache}}class IB{get cachedValues(){return this._map}constructor(J){this.fn=J,this._map=new Map}get(J){if(this._map.has(J))return this._map.get(J);let $=this.fn(J);return this._map.set(J,$),$}}class $9{constructor(J){this.executor=J,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(J){this._error=J}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function yB(J){if(!J||typeof J!=="string")return!0;return J.trim().length===0}function lX(J,...$){if($.length===0)return J;return J.replace(F10,function(Q,X){let Y=parseInt(X,10);return isNaN(Y)||Y<0||Y>=$.length?Q:$[Y]})}function HS(J){return J.replace(/[<>"'&]/g,($)=>{switch($){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return $})}function CZ(J){return J.replace(/[<>&]/g,function($){switch($){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $}})}function o8(J){return J.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function dX(J,$){if(!J||!$)return J;let Q=$.length;if(Q===0||J.length===0)return J;let X=0;while(J.indexOf($,X)===X)X=X+Q;return J.substring(X)}function jS(J,$){if(!J||!$)return J;let Q=$.length,X=J.length;if(Q===0||X===0)return J;let Y=X,Z=-1;while(!0){if(Z=J.lastIndexOf($,Y-1),Z===-1||Z+Q!==Y)break;if(Z===0)return"";Y=Z}return J.substring(0,Y)}function VS(J){return J.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function xB(J,$,Q={}){if(!J)throw new Error("Cannot create regex from empty string");if(!$)J=o8(J);if(Q.wholeWord){if(!/\B/.test(J.charAt(0)))J="\\b"+J;if(!/\B/.test(J.charAt(J.length-1)))J=J+"\\b"}let X="";if(Q.global)X+="g";if(!Q.matchCase)X+="i";if(Q.multiline)X+="m";if(Q.unicode)X+="u";return new RegExp(J,X)}function WS(J){if(J.source==="^"||J.source==="^$"||J.source==="$"||J.source==="^\\s*$")return!1;return!!(J.exec("")&&J.lastIndex===0)}function Q9(J){return J.split(/\r\n|\r|\n/)}function I6(J){for(let $=0,Q=J.length;$<Q;$++){let X=J.charCodeAt($);if(X!==32&&X!==9)return $}return-1}function t6(J,$=0,Q=J.length){for(let X=$;X<Q;X++){let Y=J.charCodeAt(X);if(Y!==32&&Y!==9)return J.substring($,X)}return J.substring($,Q)}function X9(J,$=J.length-1){for(let Q=$;Q>=0;Q--){let X=J.charCodeAt(Q);if(X!==32&&X!==9)return Q}return-1}function eU(J,$){if(J<$)return-1;else if(J>$)return 1;else return 0}function bB(J,$,Q=0,X=J.length,Y=0,Z=$.length){for(;Q<X&&Y<Z;Q++,Y++){let U=J.charCodeAt(Q),z=$.charCodeAt(Y);if(U<z)return-1;else if(U>z)return 1}let G=X-Q,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function Jz(J,$){return uG(J,$,0,J.length,0,$.length)}function uG(J,$,Q=0,X=J.length,Y=0,Z=$.length){for(;Q<X&&Y<Z;Q++,Y++){let U=J.charCodeAt(Q),z=$.charCodeAt(Y);if(U===z)continue;if(U>=128||z>=128)return bB(J.toLowerCase(),$.toLowerCase(),Q,X,Y,Z);if(SZ(U))U-=32;if(SZ(z))z-=32;let H=U-z;if(H===0)continue;return H}let G=X-Q,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function $z(J){return J>=48&&J<=57}function SZ(J){return J>=97&&J<=122}function Q$(J){return J>=65&&J<=90}function AQ(J,$){return J.length===$.length&&uG(J,$)===0}function cG(J,$){let Q=$.length;if($.length>J.length)return!1;return uG(J,$,0,Q)===0}function vZ(J,$){let Q=Math.min(J.length,$.length),X;for(X=0;X<Q;X++)if(J.charCodeAt(X)!==$.charCodeAt(X))return X;return Q}function Qz(J,$){let Q=Math.min(J.length,$.length),X,Y=J.length-1,Z=$.length-1;for(X=0;X<Q;X++)if(J.charCodeAt(Y-X)!==$.charCodeAt(Z-X))return X;return Q}function G6(J){return 55296<=J&&J<=56319}function X$(J){return 56320<=J&&J<=57343}function SB(J,$){return(J-55296<<10)+($-56320)+65536}function lG(J,$,Q){let X=J.charCodeAt(Q);if(G6(X)&&Q+1<$){let Y=J.charCodeAt(Q+1);if(X$(Y))return SB(X,Y)}return X}function K10(J,$){let Q=J.charCodeAt($-1);if(X$(Q)&&$>1){let X=J.charCodeAt($-2);if(G6(X))return SB(X,Q)}return Q}class CB{get offset(){return this._offset}constructor(J,$=0){this._str=J,this._len=J.length,this._offset=$}setOffset(J){this._offset=J}prevCodePoint(){let J=K10(this._str,this._offset);return this._offset-=J>=65536?2:1,J}nextCodePoint(){let J=lG(this._str,this._len,this._offset);return this._offset+=J>=65536?2:1,J}eol(){return this._offset>=this._len}}class dG{get offset(){return this._iterator.offset}constructor(J,$=0){this._iterator=new CB(J,$)}nextGraphemeLength(){let J=cX.getInstance(),$=this._iterator,Q=$.offset,X=J.getGraphemeBreakType($.nextCodePoint());while(!$.eol()){let Y=$.offset,Z=J.getGraphemeBreakType($.nextCodePoint());if(zS(X,Z)){$.setOffset(Y);break}X=Z}return $.offset-Q}prevGraphemeLength(){let J=cX.getInstance(),$=this._iterator,Q=$.offset,X=J.getGraphemeBreakType($.prevCodePoint());while($.offset>0){let Y=$.offset,Z=J.getGraphemeBreakType($.prevCodePoint());if(zS(Z,X)){$.setOffset(Y);break}X=Z}return Q-$.offset}eol(){return this._iterator.eol()}}function Xz(J,$){return new dG(J,$).nextGraphemeLength()}function TM(J,$){return new dG(J,$).prevGraphemeLength()}function BS(J,$){if($>0&&X$(J.charCodeAt($)))$--;let Q=$+Xz(J,$);return[Q-TM(J,Q),Q]}function A10(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function PQ(J){if(!NM)NM=A10();return NM.test(J)}function sG(J){return P10.test(J)}function vB(J){return wM.test(J)}function w9(J){return J>=11904&&J<=55215||J>=63744&&J<=64255||J>=65281&&J<=65374}function Yz(J){return J>=127462&&J<=127487||J===8986||J===8987||J===9200||J===9203||J>=9728&&J<=10175||J===11088||J===11093||J>=127744&&J<=128591||J>=128640&&J<=128764||J>=128992&&J<=129008||J>=129280&&J<=129535||J>=129648&&J<=129782}function aG(J){return!!(J&&J.length>0&&J.charCodeAt(0)===65279)}function hB(J){if(J=J%52,J<26)return String.fromCharCode(97+J);return String.fromCharCode(65+J-26)}function zS(J,$){if(J===0)return $!==5&&$!==7;if(J===2){if($===3)return!1}if(J===4||J===2||J===3)return!0;if($===4||$===2||$===3)return!0;if(J===8){if($===8||$===9||$===11||$===12)return!1}if(J===11||J===9){if($===9||$===10)return!1}if(J===12||J===10){if($===10)return!1}if($===5||$===13)return!1;if($===7)return!1;if(J===1)return!1;if(J===13&&$===14)return!1;if(J===6&&$===6)return!1;return!0}class cX{static getInstance(){if(!cX._INSTANCE)cX._INSTANCE=new cX;return cX._INSTANCE}constructor(){this._data=D10()}getGraphemeBreakType(J){if(J<32){if(J===10)return 3;if(J===13)return 2;return 4}if(J<127)return 0;let $=this._data,Q=$.length/3,X=1;while(X<=Q)if(J<$[3*X])X=2*X;else if(J>$[3*X+1])X=2*X+1;else return $[3*X+2];return 0}}function D10(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function KS(J,$){if(J===0)return 0;let Q=R10(J,$);if(Q!==void 0)return Q;let X=new CB($,J);return X.prevCodePoint(),X.offset}function R10(J,$){let Q=new CB($,J),X=Q.prevCodePoint();while(M10(X)||X===65039||X===8419){if(Q.offset===0)return;X=Q.prevCodePoint()}if(!Yz(X))return;let Y=Q.offset;if(Y>0){if(Q.prevCodePoint()===8205)Y=Q.offset}return Y}function M10(J){return 127995<=J&&J<=127999}class DQ{static getInstance(J){return mG.cache.get(Array.from(J))}static getLocales(){return mG._locales.value}constructor(J){this.confusableDictionary=J}isAmbiguous(J){return this.confusableDictionary.has(J)}getPrimaryConfusable(J){return this.confusableDictionary.get(J)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class KQ{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){if(!this._data)this._data=new Set(KQ.getRawData());return this._data}static isInvisibleCharacter(J){return KQ.getData().has(J)}static get codePoints(){return KQ.getData()}}var mG,F10,NM=void 0,P10,wM,FS;var t0=N(()=>{F10=/{(\d+)}/g;P10=/^[\t\n\r\x20-\x7E]*$/;wM=/[\u2028\u2029]/;FS=String.fromCharCode(65279);cX._INSTANCE=null;mG=DQ;DQ.ambiguousCharacterData=new $9(()=>{return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')});DQ.cache=new OM((J)=>{function $(z){let H=new Map;for(let j=0;j<z.length;j+=2)H.set(z[j],z[j+1]);return H}function Q(z,H){let j=new Map(z);for(let[V,W]of H)j.set(V,W);return j}function X(z,H){if(!z)return H;let j=new Map;for(let[V,W]of z)if(H.has(V))j.set(V,W);return j}let Y=mG.ambiguousCharacterData.value,Z=J.filter((z)=>!z.startsWith("_")&&(z in Y));if(Z.length===0)Z=["_default"];let G=void 0;for(let z of Z){let H=$(Y[z]);G=X(G,H)}let q=$(Y._common),U=Q(q,G);return new mG(U)});DQ._locales=new $9(()=>Object.keys(mG.ambiguousCharacterData.value).filter((J)=>!J.startsWith("_")));KQ._data=void 0});var AS=N(()=>{j0('.monaco-editor{--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace;font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif}.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);width:1px;height:1px;margin:-1px;padding:0;top:0;overflow:hidden;position:absolute!important}.monaco-editor,.monaco-diff-editor .synthetic-focus,.monaco-editor,.monaco-diff-editor [tabindex="0"]:focus,.monaco-editor,.monaco-diff-editor [tabindex="-1"]:focus,.monaco-editor,.monaco-diff-editor button:focus,.monaco-editor,.monaco-diff-editor input[type=button]:focus,.monaco-editor,.monaco-diff-editor input[type=checkbox]:focus,.monaco-editor,.monaco-diff-editor input[type=search]:focus,.monaco-editor,.monaco-diff-editor input[type=text]:focus,.monaco-editor,.monaco-diff-editor select:focus,.monaco-editor,.monaco-diff-editor textarea:focus{outline-offset:-1px;outline-width:1px;outline-style:solid;outline-color:var(--vscode-focusBorder);opacity:1}')});class gB{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(J){var $;return($=this.mapWindowIdToZoomFactor.get(this.getWindowId(J)))!==null&&$!==void 0?$:1}getWindowId(J){return J.vscodeWindowId}}class RS{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){if(!this._pixelRatioMonitor)this._pixelRatioMonitor=LZ(new DS);return this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function LM(J,$,Q){if(typeof $==="string")$=J.matchMedia($);$.addEventListener("change",Q)}function MS(J){return gB.INSTANCE.getZoomFactor(J)}function _S(){return fB}var PS,DS,rG,iG,g5,QJ,Y$,I7,pB,k20,kM,fB=!1;var B7=N(()=>{J8();F0();Q0();gB.INSTANCE=new gB;PS=class PS extends h{constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(J){var $;if(($=this._mediaQueryList)===null||$===void 0||$.removeEventListener("change",this._listener),this._mediaQueryList=FQ.matchMedia(`(resolution: ${FQ.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),J)this._onDidChange.fire()}};DS=class DS extends h{get value(){return this._value}constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();let J=this._register(new PS);this._register(J.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){let J=document.createElement("canvas").getContext("2d"),$=FQ.devicePixelRatio||1,Q=J.webkitBackingStorePixelRatio||J.mozBackingStorePixelRatio||J.msBackingStorePixelRatio||J.oBackingStorePixelRatio||J.backingStorePixelRatio||1;return $/Q}};rG=new RS;iG=navigator.userAgent,g5=iG.indexOf("Firefox")>=0,QJ=iG.indexOf("AppleWebKit")>=0,Y$=iG.indexOf("Chrome")>=0,I7=!Y$&&iG.indexOf("Safari")>=0,pB=!Y$&&!I7&&QJ,k20=iG.indexOf("Electron/")>=0,kM=iG.indexOf("Android")>=0;if(typeof z1.matchMedia==="function"){let J=z1.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),$=z1.matchMedia("(display-mode: fullscreen)");fB=J.matches,LM(z1,J,({matches:Q})=>{if(fB&&$.matches)return;fB=Q})}});class mB{constructor(J){this.domNode=J,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(J){let $=XJ(J);if(this._maxWidth===$)return;this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth}setWidth(J){let $=XJ(J);if(this._width===$)return;this._width=$,this.domNode.style.width=this._width}setHeight(J){let $=XJ(J);if(this._height===$)return;this._height=$,this.domNode.style.height=this._height}setTop(J){let $=XJ(J);if(this._top===$)return;this._top=$,this.domNode.style.top=this._top}setLeft(J){let $=XJ(J);if(this._left===$)return;this._left=$,this.domNode.style.left=this._left}setBottom(J){let $=XJ(J);if(this._bottom===$)return;this._bottom=$,this.domNode.style.bottom=this._bottom}setRight(J){let $=XJ(J);if(this._right===$)return;this._right=$,this.domNode.style.right=this._right}setPaddingLeft(J){let $=XJ(J);if(this._paddingLeft===$)return;this._paddingLeft=$,this.domNode.style.paddingLeft=this._paddingLeft}setFontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.domNode.style.fontFamily=this._fontFamily}setFontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.domNode.style.fontWeight=this._fontWeight}setFontSize(J){let $=XJ(J);if(this._fontSize===$)return;this._fontSize=$,this.domNode.style.fontSize=this._fontSize}setFontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J,this.domNode.style.fontStyle=this._fontStyle}setFontFeatureSettings(J){if(this._fontFeatureSettings===J)return;this._fontFeatureSettings=J,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings}setFontVariationSettings(J){if(this._fontVariationSettings===J)return;this._fontVariationSettings=J,this.domNode.style.fontVariationSettings=this._fontVariationSettings}setTextDecoration(J){if(this._textDecoration===J)return;this._textDecoration=J,this.domNode.style.textDecoration=this._textDecoration}setLineHeight(J){let $=XJ(J);if(this._lineHeight===$)return;this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight}setLetterSpacing(J){let $=XJ(J);if(this._letterSpacing===$)return;this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing}setClassName(J){if(this._className===J)return;this._className=J,this.domNode.className=this._className}toggleClassName(J,$){this.domNode.classList.toggle(J,$),this._className=this.domNode.className}setDisplay(J){if(this._display===J)return;this._display=J,this.domNode.style.display=this._display}setPosition(J){if(this._position===J)return;this._position=J,this.domNode.style.position=this._position}setVisibility(J){if(this._visibility===J)return;this._visibility=J,this.domNode.style.visibility=this._visibility}setColor(J){if(this._color===J)return;this._color=J,this.domNode.style.color=this._color}setBackgroundColor(J){if(this._backgroundColor===J)return;this._backgroundColor=J,this.domNode.style.backgroundColor=this._backgroundColor}setLayerHinting(J){if(this._layerHint===J)return;this._layerHint=J,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":""}setBoxShadow(J){if(this._boxShadow===J)return;this._boxShadow=J,this.domNode.style.boxShadow=J}setContain(J){if(this._contain===J)return;this._contain=J,this.domNode.style.contain=this._contain}setAttribute(J,$){this.domNode.setAttribute(J,$)}removeAttribute(J){this.domNode.removeAttribute(J)}appendChild(J){this.domNode.appendChild(J.domNode)}removeChild(J){this.domNode.removeChild(J.domNode)}}function XJ(J){return typeof J==="number"?`${J}px`:J}function e0(J){return new mB(J)}function M6(J,$){if(J instanceof mB)J.setFontFamily($.getMassagedFontFamily()),J.setFontWeight($.fontWeight),J.setFontSize($.fontSize),J.setFontFeatureSettings($.fontFeatureSettings),J.setFontVariationSettings($.fontVariationSettings),J.setLineHeight($.lineHeight),J.setLetterSpacing($.letterSpacing);else J.style.fontFamily=$.getMassagedFontFamily(),J.style.fontWeight=$.fontWeight,J.style.fontSize=$.fontSize+"px",J.style.fontFeatureSettings=$.fontFeatureSettings,J.style.fontVariationSettings=$.fontVariationSettings,J.style.lineHeight=$.lineHeight+"px",J.style.letterSpacing=$.letterSpacing+"px"}var W4=()=>{};class EM{constructor(J,$){this.chr=J,this.type=$,this.width=0}fulfill(J){this.width=J}}class IM{constructor(J,$){this._bareFontInfo=J,this._requests=$,this._container=null,this._testElements=null}read(){this._createDomElements(),FQ.document.body.appendChild(this._container),this._readFromDomElements(),FQ.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){let J=document.createElement("div");J.style.position="absolute",J.style.top="-50000px",J.style.width="50000px";let $=document.createElement("div");M6($,this._bareFontInfo),J.appendChild($);let Q=document.createElement("div");M6(Q,this._bareFontInfo),Q.style.fontWeight="bold",J.appendChild(Q);let X=document.createElement("div");M6(X,this._bareFontInfo),X.style.fontStyle="italic",J.appendChild(X);let Y=[];for(let Z of this._requests){let G;if(Z.type===0)G=$;if(Z.type===2)G=Q;if(Z.type===1)G=X;G.appendChild(document.createElement("br"));let q=document.createElement("span");IM._render(q,Z),G.appendChild(q),Y.push(q)}this._container=J,this._testElements=Y}static _render(J,$){if($.chr===" "){let Q=" ";for(let X=0;X<8;X++)Q+=Q;J.innerText=Q}else{let Q=$.chr;for(let X=0;X<8;X++)Q+=Q;J.textContent=Q}}_readFromDomElements(){for(let J=0,$=this._requests.length;J<$;J++){let Q=this._requests[J],X=this._testElements[J];Q.fulfill(X.offsetWidth/256)}}}function OS(J,$){new IM(J,$).read()}var NS=N(()=>{J8();W4()});var B4;var Zz=N(()=>{F0();B4=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(J){if(J=Math.min(Math.max(-5,J),20),this._zoomLevel===J)return;this._zoomLevel=J,this._onDidChangeZoomLevel.fire(this._zoomLevel)}}});class MQ{static createFromValidatedSettings(J,$,Q){let X=J.get(49),Y=J.get(53),Z=J.get(52),G=J.get(51),q=J.get(54),U=J.get(66),z=J.get(63);return MQ._create(X,Y,Z,G,q,U,z,$,Q)}static _create(J,$,Q,X,Y,Z,G,q,U){if(Z===0)Z=_10*Q;else if(Z<yM)Z=Z*Q;if(Z=Math.round(Z),Z<yM)Z=yM;let z=1+(U?0:B4.getZoomLevel()*0.1);if(Q*=z,Z*=z,Y===U4.TRANSLATE)if($==="normal"||$==="bold")Y=U4.OFF;else Y=`'wght' ${parseInt($,10)}`,$="normal";return new MQ({pixelRatio:q,fontFamily:J,fontWeight:$,fontSize:Q,fontFeatureSettings:X,fontVariationSettings:Y,lineHeight:Z,letterSpacing:G})}constructor(J){this._bareFontInfoBrand=void 0,this.pixelRatio=J.pixelRatio,this.fontFamily=String(J.fontFamily),this.fontWeight=String(J.fontWeight),this.fontSize=J.fontSize,this.fontFeatureSettings=J.fontFeatureSettings,this.fontVariationSettings=J.fontVariationSettings,this.lineHeight=J.lineHeight|0,this.letterSpacing=J.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){let J=y8.fontFamily,$=MQ._wrapInQuotes(this.fontFamily);if(J&&this.fontFamily!==J)return`${$}, ${J}`;return $}static _wrapInQuotes(J){if(/[,"']/.test(J))return J;if(/[+ ]/.test(J))return`"${J}"`;return J}}var _10,yM=8,O10=2,nG;var uB=N(()=>{M1();t5();Zz();_10=r0?1.5:1.35;nG=class nG extends MQ{constructor(J,$){super(J);this._editorStylingBrand=void 0,this.version=O10,this.isTrusted=$,this.isMonospace=J.isMonospace,this.typicalHalfwidthCharacterWidth=J.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=J.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=J.canUseHalfwidthRightwardsArrow,this.spaceWidth=J.spaceWidth,this.middotWidth=J.middotWidth,this.wsmiddotWidth=J.wsmiddotWidth,this.maxDigitWidth=J.maxDigitWidth}equals(J){return this.fontFamily===J.fontFamily&&this.fontWeight===J.fontWeight&&this.fontSize===J.fontSize&&this.fontFeatureSettings===J.fontFeatureSettings&&this.fontVariationSettings===J.fontVariationSettings&&this.lineHeight===J.lineHeight&&this.letterSpacing===J.letterSpacing&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===J.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.maxDigitWidth===J.maxDigitWidth}}});class xM{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(J){let $=J.getId();return!!this._values[$]}get(J){let $=J.getId();return this._values[$]}put(J,$){let Q=J.getId();this._keys[Q]=J,this._values[Q]=$}remove(J){let $=J.getId();delete this._keys[$],delete this._values[$]}getValues(){return Object.keys(this._keys).map((J)=>this._values[J])}}var TS,Gz;var bM=N(()=>{B7();J8();F0();Q0();NS();t5();uB();TS=class TS extends h{constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._cache=new xM,this._evictUntrustedReadingsTimeout=-1}dispose(){if(this._evictUntrustedReadingsTimeout!==-1)clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1;super.dispose()}clearAllFontInfos(){this._cache=new xM,this._onDidChange.fire()}_writeToCache(J,$){if(this._cache.put(J,$),!$.isTrusted&&this._evictUntrustedReadingsTimeout===-1)this._evictUntrustedReadingsTimeout=z1.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5000)}_evictUntrustedReadings(){let J=this._cache.getValues(),$=!1;for(let Q of J)if(!Q.isTrusted)$=!0,this._cache.remove(Q);if($)this._onDidChange.fire()}readFontInfo(J){if(!this._cache.has(J)){let $=this._actualReadFontInfo(J);if($.typicalHalfwidthCharacterWidth<=2||$.typicalFullwidthCharacterWidth<=2||$.spaceWidth<=2||$.maxDigitWidth<=2)$=new nG({pixelRatio:rG.value,fontFamily:$.fontFamily,fontWeight:$.fontWeight,fontSize:$.fontSize,fontFeatureSettings:$.fontFeatureSettings,fontVariationSettings:$.fontVariationSettings,lineHeight:$.lineHeight,letterSpacing:$.letterSpacing,isMonospace:$.isMonospace,typicalHalfwidthCharacterWidth:Math.max($.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max($.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:$.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max($.spaceWidth,5),middotWidth:Math.max($.middotWidth,5),wsmiddotWidth:Math.max($.wsmiddotWidth,5),maxDigitWidth:Math.max($.maxDigitWidth,5)},!1);this._writeToCache(J,$)}return this._cache.get(J)}_createRequest(J,$,Q,X){let Y=new EM(J,$);return Q.push(Y),X===null||X===void 0||X.push(Y),Y}_actualReadFontInfo(J){let $=[],Q=[],X=this._createRequest("n",0,$,Q),Y=this._createRequest("ｍ",0,$,null),Z=this._createRequest(" ",0,$,Q),G=this._createRequest("0",0,$,Q),q=this._createRequest("1",0,$,Q),U=this._createRequest("2",0,$,Q),z=this._createRequest("3",0,$,Q),H=this._createRequest("4",0,$,Q),j=this._createRequest("5",0,$,Q),V=this._createRequest("6",0,$,Q),W=this._createRequest("7",0,$,Q),B=this._createRequest("8",0,$,Q),K=this._createRequest("9",0,$,Q),P=this._createRequest("→",0,$,Q),A=this._createRequest("￫",0,$,null),D=this._createRequest("·",0,$,Q),R=this._createRequest(String.fromCharCode(11825),0,$,null),M="|/-_ilm%";for(let S=0,g=8;S<g;S++)this._createRequest("|/-_ilm%".charAt(S),0,$,Q),this._createRequest("|/-_ilm%".charAt(S),1,$,Q),this._createRequest("|/-_ilm%".charAt(S),2,$,Q);OS(J,$);let _=Math.max(G.width,q.width,U.width,z.width,H.width,j.width,V.width,W.width,B.width,K.width),T=J.fontFeatureSettings===n8.OFF,w=Q[0].width;for(let S=1,g=Q.length;T&&S<g;S++){let c=w-Q[S].width;if(c<-0.001||c>0.001){T=!1;break}}let b=!0;if(T&&A.width!==w)b=!1;if(A.width>P.width)b=!1;return new nG({pixelRatio:rG.value,fontFamily:J.fontFamily,fontWeight:J.fontWeight,fontSize:J.fontSize,fontFeatureSettings:J.fontFeatureSettings,fontVariationSettings:J.fontVariationSettings,lineHeight:J.lineHeight,letterSpacing:J.letterSpacing,isMonospace:T,typicalHalfwidthCharacterWidth:X.width,typicalFullwidthCharacterWidth:Y.width,canUseHalfwidthRightwardsArrow:b,spaceWidth:Z.width,middotWidth:D.width,wsmiddotWidth:R.width,maxDigitWidth:_},!0)}};Gz=new TS});function N10(J,$,Q){if($[F4.DI_TARGET]===$)$[F4.DI_DEPENDENCIES].push({id:J,index:Q});else $[F4.DI_DEPENDENCIES]=[{id:J,index:Q}],$[F4.DI_TARGET]=$}function M0(J){if(F4.serviceIds.has(J))return F4.serviceIds.get(J);let $=function(Q,X,Y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");N10($,Q,Y)};return $.toString=()=>J,F4.serviceIds.set(J,$),$}var F4,p0;var u0=N(()=>{(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function $(Q){return Q[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=$})(F4||(F4={}));p0=M0("instantiationService")});var l1;var Y9=N(()=>{u0();l1=M0("codeEditorService")});var z5;var _Q=N(()=>{u0();z5=M0("modelService")});var OQ;var qz=N(()=>{u0();OQ=M0("textModelService")});class l6{constructor(){this.id=l6.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...J){let $=[];for(let Q of J)if(!Q.length);else if($.length)$=[...$,new l6,...Q];else $=Q;return $}async run(){}}class NQ{get actions(){return this._actions}constructor(J,$,Q,X){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=J,this.label=$,this.class=X,this._actions=Q}async run(){}}function hZ(J){var $,Q;return{id:J.id,label:J.label,class:J.class,enabled:($=J.enabled)!==null&&$!==void 0?$:!0,checked:(Q=J.checked)!==null&&Q!==void 0?Q:!1,run:async(...X)=>J.run(...X),tooltip:J.label}}var F7,Z9,Uz;var t8=N(()=>{F0();Q0();g0();F7=class F7 extends h{constructor(J,$="",Q="",X=!0,Y){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=J,this._label=$,this._cssClass=Q,this._enabled=X,this._actionCallback=Y}get id(){return this._id}get label(){return this._label}set label(J){this._setLabel(J)}_setLabel(J){if(this._label!==J)this._label=J,this._onDidChange.fire({label:J})}get tooltip(){return this._tooltip||""}set tooltip(J){this._setTooltip(J)}_setTooltip(J){if(this._tooltip!==J)this._tooltip=J,this._onDidChange.fire({tooltip:J})}get class(){return this._cssClass}set class(J){this._setClass(J)}_setClass(J){if(this._cssClass!==J)this._cssClass=J,this._onDidChange.fire({class:J})}get enabled(){return this._enabled}set enabled(J){this._setEnabled(J)}_setEnabled(J){if(this._enabled!==J)this._enabled=J,this._onDidChange.fire({enabled:J})}get checked(){return this._checked}set checked(J){this._setChecked(J)}_setChecked(J){if(this._checked!==J)this._checked=J,this._onDidChange.fire({checked:J})}async run(J,$){if(this._actionCallback)await this._actionCallback(J)}};Z9=class Z9 extends h{constructor(){super(...arguments);this._onWillRun=this._register(new y),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new y),this.onDidRun=this._onDidRun.event}async run(J,$){if(!J.enabled)return;this._onWillRun.fire({action:J});let Q=void 0;try{await this.runAction(J,$)}catch(X){Q=X}this._onDidRun.fire({action:J,error:Q})}async runAction(J,$){await J.run($)}};l6.ID="vs.actions.separator";Uz=class Uz extends F7{constructor(){super(Uz.ID,F("submenu.empty","(empty)"),void 0,!1)}};Uz.ID="vs.actions.empty"});var SM,b0;var H5=N(()=>{U5();(function(J){function $(Q){return Q&&typeof Q==="object"&&typeof Q.id==="string"}J.isThemeColor=$})(SM||(SM={}));(function(J){J.iconNameSegment="[A-Za-z0-9]+",J.iconNameExpression="[A-Za-z0-9-]+",J.iconModifierExpression="~[A-Za-z]+",J.iconNameCharacter="[A-Za-z0-9~-]";let $=new RegExp(`^(${J.iconNameExpression})(${J.iconModifierExpression})?$`);function Q(V){let W=$.exec(V.id);if(!W)return Q(U0.error);let[,B,K]=W,P=["codicon","codicon-"+B];if(K)P.push("codicon-modifier-"+K.substring(1));return P}J.asClassNameArray=Q;function X(V){return Q(V).join(" ")}J.asClassName=X;function Y(V){return"."+Q(V).join(".")}J.asCSSSelector=Y;function Z(V){return V&&typeof V==="object"&&typeof V.id==="string"&&(typeof V.color==="undefined"||SM.isThemeColor(V.color))}J.isThemeIcon=Z;let G=new RegExp(`^\\$\\((${J.iconNameExpression}(?:${J.iconModifierExpression})?)\\)$`);function q(V){let W=G.exec(V);if(!W)return;let[,B]=W;return{id:B}}J.fromString=q;function U(V){return{id:V}}J.fromId=U;function z(V,W){let B=V.id,K=B.lastIndexOf("~");if(K!==-1)B=B.substring(0,K);if(W)B=`${B}~${W}`;return{id:B}}J.modify=z;function H(V){let W=V.id.lastIndexOf("~");if(W!==-1)return V.id.substring(W+1);return}J.getModifier=H;function j(V,W){var B,K;return V.id===W.id&&((B=V.color)===null||B===void 0?void 0:B.id)===((K=W.color)===null||K===void 0?void 0:K.id)}J.isEqual=j})(b0||(b0={}))});var j5,z6;var e8=N(()=>{F0();N9();Q0();T9();u0();j5=M0("commandService"),z6=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(J,$){if(!J)throw new Error("invalid command");if(typeof J==="string"){if(!$)throw new Error("invalid command");return this.registerCommand({id:J,handler:$})}if(J.metadata&&Array.isArray(J.metadata.args)){let G=[];for(let U of J.metadata.args)G.push(U.constraint);let q=J.handler;J.handler=function(U,...z){return hx(z,G),q(U,...z)}}let{id:Q}=J,X=this._commands.get(Q);if(!X)X=new k6,this._commands.set(Q,X);let Y=X.unshift(J),Z=K0(()=>{Y();let G=this._commands.get(Q);if(G===null||G===void 0?void 0:G.isEmpty())this._commands.delete(Q)});return this._onDidRegisterCommand.fire(Q),Z}registerCommandAlias(J,$){return z6.registerCommand(J,(Q,...X)=>Q.get(j5).executeCommand($,...X))}getCommand(J){let $=this._commands.get(J);if(!$||$.isEmpty())return;return W1.first($)}getCommands(){let J=new Map;for(let $ of this._commands.keys()){let Q=this.getCommand($);if(Q)J.set($,Q)}return J}};z6.registerCommand("noop",()=>{})});function CM(...J){switch(J.length){case 1:return F("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",J[0]);case 2:return F("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",J[0],J[1]);case 3:return F("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",J[0],J[1],J[2]);default:return}}class YJ{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(J){switch(J.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return J.isTripleEq?"===":"==";case 4:return J.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return J.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return J.lexeme;case 18:return J.lexeme;case 19:return J.lexeme;case 20:return"EOF";default:throw hG(`unhandled token type: ${JSON.stringify(J)}; have you forgotten to add a case?`)}}reset(J){return this._input=J,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){while(!this._isAtEnd())switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let $=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:$})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let $=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$})}else if(this._match(126))this._addToken(9);else this._error(CM("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:if(this._match(38))this._addToken(15);else this._error(CM("&&"));break;case 124:if(this._match(124))this._addToken(16);else this._error(CM("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(J){if(this._isAtEnd())return!1;if(this._input.charCodeAt(this._current)!==J)return!1;return this._current++,!0}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(J){this._tokens.push({type:J,offset:this._start})}_error(J){let $=this._start,Q=this._input.substring(this._start,this._current),X={type:19,offset:this._start,lexeme:Q};this._errors.push({offset:$,lexeme:Q,additionalInfo:J}),this._tokens.push(X)}_string(){this.stringRe.lastIndex=this._start;let J=this.stringRe.exec(this._input);if(J){this._current=this._start+J[0].length;let $=this._input.substring(this._start,this._current),Q=YJ._keywords.get($);if(Q)this._addToken(Q);else this._tokens.push({type:17,lexeme:$,offset:this._start})}}_quotedString(){while(this._peek()!==39&&!this._isAtEnd())this._advance();if(this._isAtEnd()){this._error(T10);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let J=this._current,$=!1,Q=!1;while(!0){if(J>=this._input.length){this._current=J,this._error(w10);return}let Y=this._input.charCodeAt(J);if($)$=!1;else if(Y===47&&!Q){J++;break}else if(Y===91)Q=!0;else if(Y===92)$=!0;else if(Y===93)Q=!1;J++}while(J<this._input.length&&YJ._regexFlags.has(this._input.charCodeAt(J)))J++;this._current=J;let X=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:X,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var T10,w10;var wS=N(()=>{P1();g0();T10=F("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),w10=F("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");YJ._regexFlags=new Set(["i","g","s","m","y","u"].map((J)=>J.charCodeAt(0)));YJ._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])});class fZ{constructor(J=k10){this._config=J,this._scanner=new YJ,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(J){if(J===""){this._parsingErrors.push({message:E10,offset:0,lexeme:"",additionalInfo:I10});return}this._tokens=this._scanner.reset(J).scan(),this._current=0,this._parsingErrors=[];try{let $=this._expr();if(!this._isAtEnd()){let Q=this._peek(),X=Q.type===17?b10:void 0;throw this._parsingErrors.push({message:x10,offset:Q.offset,lexeme:YJ.getLexeme(Q),additionalInfo:X}),fZ._parseError}return $}catch($){if($!==fZ._parseError)throw $;return}}_expr(){return this._or()}_or(){let J=[this._and()];while(this._matchOne(16)){let $=this._and();J.push($)}return J.length===1?J[0]:N0.or(...J)}_and(){let J=[this._term()];while(this._matchOne(15)){let $=this._term();J.push($)}return J.length===1?J[0]:N0.and(...J)}_term(){if(this._matchOne(2)){let J=this._peek();switch(J.type){case 11:return this._advance(),C8.INSTANCE;case 12:return this._advance(),J7.INSTANCE;case 0:{this._advance();let $=this._expr();return this._consume(1,LS),$===null||$===void 0?void 0:$.negate()}case 17:return this._advance(),mZ.create(J.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",J)}}return this._primary()}_primary(){let J=this._peek();switch(J.type){case 11:return this._advance(),N0.true();case 12:return this._advance(),N0.false();case 0:{this._advance();let $=this._expr();return this._consume(1,LS),$}case 17:{let $=J.lexeme;if(this._advance(),this._matchOne(9)){let X=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),X.type!==10)throw this._errExpectedButGot("REGEX",X);let Y=X.lexeme,Z=Y.lastIndexOf("/"),G=Z===Y.length-1?void 0:this._removeFlagsGY(Y.substring(Z+1)),q;try{q=new RegExp(Y.substring(1,Z),G)}catch(U){throw this._errExpectedButGot("REGEX",X)}return Hz.create($,q)}switch(X.type){case 10:case 19:{let Y=[X.lexeme];this._advance();let Z=this._peek(),G=0;for(let j=0;j<X.lexeme.length;j++)if(X.lexeme.charCodeAt(j)===40)G++;else if(X.lexeme.charCodeAt(j)===41)G--;while(!this._isAtEnd()&&Z.type!==15&&Z.type!==16){switch(Z.type){case 0:G++;break;case 1:G--;break;case 10:case 18:for(let j=0;j<Z.lexeme.length;j++)if(Z.lexeme.charCodeAt(j)===40)G++;else if(X.lexeme.charCodeAt(j)===41)G--}if(G<0)break;Y.push(YJ.getLexeme(Z)),this._advance(),Z=this._peek()}let q=Y.join(""),U=q.lastIndexOf("/"),z=U===q.length-1?void 0:this._removeFlagsGY(q.substring(U+1)),H;try{H=new RegExp(q.substring(1,U),z)}catch(j){throw this._errExpectedButGot("REGEX",X)}return N0.regex($,H)}case 18:{let Y=X.lexeme;this._advance();let Z=null;if(!yB(Y)){let G=Y.indexOf("/"),q=Y.lastIndexOf("/");if(G!==q&&G>=0){let U=Y.slice(G+1,q),z=Y[q+1]==="i"?"i":"";try{Z=new RegExp(U,z)}catch(H){throw this._errExpectedButGot("REGEX",X)}}}if(Z===null)throw this._errExpectedButGot("REGEX",X);return Hz.create($,Z)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,y10);let X=this._value();return N0.notIn($,X)}switch(this._peek().type){case 3:{this._advance();let X=this._value();if(this._previous().type===18)return N0.equals($,X);switch(X){case"true":return N0.has($);case"false":return N0.not($);default:return N0.equals($,X)}}case 4:{this._advance();let X=this._value();if(this._previous().type===18)return N0.notEquals($,X);switch(X){case"true":return N0.not($);case"false":return N0.has($);default:return N0.notEquals($,X)}}case 5:return this._advance(),nB.create($,this._value());case 6:return this._advance(),oB.create($,this._value());case 7:return this._advance(),rB.create($,this._value());case 8:return this._advance(),iB.create($,this._value());case 13:return this._advance(),N0.in($,this._value());default:return N0.has($)}}case 20:throw this._parsingErrors.push({message:S10,offset:J.offset,lexeme:"",additionalInfo:C10}),fZ._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
\t| KEY '=~' REGEX 
\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let J=this._peek();switch(J.type){case 17:case 18:return this._advance(),J.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(J){return J.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(J){if(this._check(J))return this._advance(),!0;return!1}_advance(){if(!this._isAtEnd())this._current++;return this._previous()}_consume(J,$){if(this._check(J))return this._advance();throw this._errExpectedButGot($,this._peek())}_errExpectedButGot(J,$,Q){let X=F("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,J,YJ.getLexeme($)),Y=$.offset,Z=YJ.getLexeme($);return this._parsingErrors.push({message:X,offset:Y,lexeme:Z,additionalInfo:Q}),fZ._parseError}_check(J){return this._peek().type===J}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class N0{static false(){return C8.INSTANCE}static true(){return J7.INSTANCE}static has(J){return pZ.create(J)}static equals(J,$){return jz.create(J,$)}static notEquals(J,$){return sB.create(J,$)}static regex(J,$){return Hz.create(J,$)}static in(J,$){return lB.create(J,$)}static notIn(J,$){return dB.create(J,$)}static not(J){return mZ.create(J)}static and(...J){return gZ.create(J,null,!0)}static or(...J){return TQ.create(J,null,!0)}static deserialize(J){if(J===void 0||J===null)return;return this._parser.parse(J)}}function IS(J,$){let Q=J?J.substituteConstants():void 0,X=$?$.substituteConstants():void 0;if(!Q&&!X)return!0;if(!Q||!X)return!1;return Q.equals(X)}function zz(J,$){return J.cmp($)}class C8{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return J7.INSTANCE}}class J7{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return C8.INSTANCE}}class pZ{static create(J,$=null){let Q=D8.get(J);if(typeof Q==="boolean")return Q?J7.INSTANCE:C8.INSTANCE;return new pZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=2}cmp(J){if(J.type!==this.type)return this.type-J.type;return xS(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){let J=D8.get(this.key);if(typeof J==="boolean")return J?J7.INSTANCE:C8.INSTANCE;return this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){if(!this.negated)this.negated=mZ.create(this.key,this);return this.negated}}class jz{static create(J,$,Q=null){if(typeof $==="boolean")return $?pZ.create(J,Q):mZ.create(J,Q);let X=D8.get(J);if(typeof X==="boolean")return $===(X?"true":"false")?J7.INSTANCE:C8.INSTANCE;return new jz(J,$,Q)}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=4}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){let J=D8.get(this.key);if(typeof J==="boolean"){let $=J?"true":"false";return this.value===$?J7.INSTANCE:C8.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=sB.create(this.key,this.value,this);return this.negated}}class lB{static create(J,$){return new lB(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=10,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.valueKey,J.key,J.valueKey)}equals(J){if(J.type===this.type)return this.key===J.key&&this.valueKey===J.valueKey;return!1}substituteConstants(){return this}evaluate(J){let $=J.getValue(this.valueKey),Q=J.getValue(this.key);if(Array.isArray($))return $.includes(Q);if(typeof Q==="string"&&typeof $==="object"&&$!==null)return L10.call($,Q);return!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){if(!this.negated)this.negated=dB.create(this.key,this.valueKey);return this.negated}}class dB{static create(J,$){return new dB(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=11,this._negated=lB.create(J,$)}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._negated.cmp(J._negated)}equals(J){if(J.type===this.type)return this._negated.equals(J._negated);return!1}substituteConstants(){return this}evaluate(J){return!this._negated.evaluate(J)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class sB{static create(J,$,Q=null){if(typeof $==="boolean"){if($)return mZ.create(J,Q);return pZ.create(J,Q)}let X=D8.get(J);if(typeof X==="boolean")return $===(X?"true":"false")?C8.INSTANCE:J7.INSTANCE;return new sB(J,$,Q)}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=5}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){let J=D8.get(this.key);if(typeof J==="boolean"){let $=J?"true":"false";return this.value===$?C8.INSTANCE:J7.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=jz.create(this.key,this.value,this);return this.negated}}class mZ{static create(J,$=null){let Q=D8.get(J);if(typeof Q==="boolean")return Q?C8.INSTANCE:J7.INSTANCE;return new mZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=3}cmp(J){if(J.type!==this.type)return this.type-J.type;return xS(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){let J=D8.get(this.key);if(typeof J==="boolean")return J?C8.INSTANCE:J7.INSTANCE;return this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=pZ.create(this.key,this);return this.negated}}function aB(J,$){if(typeof J==="string"){let Q=parseFloat(J);if(!isNaN(Q))J=Q}if(typeof J==="string"||typeof J==="number")return $(J);return C8.INSTANCE}class rB{static create(J,$,Q=null){return aB($,(X)=>new rB(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=12}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=oB.create(this.key,this.value,this);return this.negated}}class iB{static create(J,$,Q=null){return aB($,(X)=>new iB(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=13}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=nB.create(this.key,this.value,this);return this.negated}}class nB{static create(J,$,Q=null){return aB($,(X)=>new nB(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=14}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=iB.create(this.key,this.value,this);return this.negated}}class oB{static create(J,$,Q=null){return aB($,(X)=>new oB(J,X,Q))}constructor(J,$,Q){this.key=J,this.value=$,this.negated=Q,this.type=15}cmp(J){if(J.type!==this.type)return this.type-J.type;return uZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=rB.create(this.key,this.value,this);return this.negated}}class Hz{static create(J,$){return new Hz(J,$)}constructor(J,$){this.key=J,this.regexp=$,this.type=7,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;let $=this.regexp?this.regexp.source:"",Q=J.regexp?J.regexp.source:"";if($<Q)return-1;if($>Q)return 1;return 0}equals(J){if(J.type===this.type){let $=this.regexp?this.regexp.source:"",Q=J.regexp?J.regexp.source:"";return this.key===J.key&&$===Q}return!1}substituteConstants(){return this}evaluate(J){let $=J.getValue(this.key);return this.regexp?this.regexp.test($):!1}serialize(){let J=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=vM.create(this);return this.negated}}class vM{static create(J){return new vM(J)}constructor(J){this._actual=J,this.type=8}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._actual.cmp(J._actual)}equals(J){if(J.type===this.type)return this._actual.equals(J._actual);return!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function yS(J){let $=null;for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q].substituteConstants();if(J[Q]!==Y){if($===null){$=[];for(let Z=0;Z<Q;Z++)$[Z]=J[Z]}}if($!==null)$[Q]=Y}if($===null)return J;return $}class gZ{static create(J,$,Q){return gZ._normalizeArr(J,$,Q)}constructor(J,$){this.expr=J,this.negated=$,this.type=6}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,Q=this.expr.length;$<Q;$++){let X=zz(this.expr[$],J.expr[$]);if(X!==0)return X}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){let J=yS(this.expr);if(J===this.expr)return this;return gZ.create(J,this.negated,!1)}evaluate(J){for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].evaluate(J))return!1;return!0}static _normalizeArr(J,$,Q){let X=[],Y=!1;for(let Z of J){if(!Z)continue;if(Z.type===1){Y=!0;continue}if(Z.type===0)return C8.INSTANCE;if(Z.type===6){X.push(...Z.expr);continue}X.push(Z)}if(X.length===0&&Y)return J7.INSTANCE;if(X.length===0)return;if(X.length===1)return X[0];X.sort(zz);for(let Z=1;Z<X.length;Z++)if(X[Z-1].equals(X[Z]))X.splice(Z,1),Z--;if(X.length===1)return X[0];while(X.length>1){let Z=X[X.length-1];if(Z.type!==9)break;X.pop();let G=X.pop(),q=X.length===0,U=TQ.create(Z.expr.map((z)=>gZ.create([z,G],null,Q)),null,q);if(U)X.push(U),X.sort(zz)}if(X.length===1)return X[0];if(Q){for(let Z=0;Z<X.length;Z++)for(let G=Z+1;G<X.length;G++)if(X[Z].negate().equals(X[G]))return C8.INSTANCE;if(X.length===1)return X[0]}return new gZ(X,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" && ")}keys(){let J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){let J=[];for(let $ of this.expr)J.push($.negate());this.negated=TQ.create(J,this,!0)}return this.negated}}class TQ{static create(J,$,Q){return TQ._normalizeArr(J,$,Q)}constructor(J,$){this.expr=J,this.negated=$,this.type=9}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,Q=this.expr.length;$<Q;$++){let X=zz(this.expr[$],J.expr[$]);if(X!==0)return X}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,Q=this.expr.length;$<Q;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){let J=yS(this.expr);if(J===this.expr)return this;return TQ.create(J,this.negated,!1)}evaluate(J){for(let $=0,Q=this.expr.length;$<Q;$++)if(this.expr[$].evaluate(J))return!0;return!1}static _normalizeArr(J,$,Q){let X=[],Y=!1;if(J){for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z];if(!q)continue;if(q.type===0){Y=!0;continue}if(q.type===1)return J7.INSTANCE;if(q.type===9){X=X.concat(q.expr);continue}X.push(q)}if(X.length===0&&Y)return C8.INSTANCE;X.sort(zz)}if(X.length===0)return;if(X.length===1)return X[0];for(let Z=1;Z<X.length;Z++)if(X[Z-1].equals(X[Z]))X.splice(Z,1),Z--;if(X.length===1)return X[0];if(Q){for(let Z=0;Z<X.length;Z++)for(let G=Z+1;G<X.length;G++)if(X[Z].negate().equals(X[G]))return J7.INSTANCE;if(X.length===1)return X[0]}return new TQ(X,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" || ")}keys(){let J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){let J=[];for(let $ of this.expr)J.push($.negate());while(J.length>1){let $=J.shift(),Q=J.shift(),X=[];for(let Y of ES($))for(let Z of ES(Q))X.push(gZ.create([Y,Z],null,!1));J.unshift(TQ.create(X,null,!1))}this.negated=TQ.create(J,this,!0)}return this.negated}}function xS(J,$){if(J<$)return-1;if(J>$)return 1;return 0}function uZ(J,$,Q,X){if(J<Q)return-1;if(J>Q)return 1;if($<X)return-1;if($>X)return 1;return 0}function cB(J,$){if(J.type===0||$.type===1)return!0;if(J.type===9){if($.type===9)return kS(J.expr,$.expr);return!1}if($.type===9){for(let Q of $.expr)if(cB(J,Q))return!0;return!1}if(J.type===6){if($.type===6)return kS($.expr,J.expr);for(let Q of J.expr)if(cB(Q,$))return!0;return!1}return J.equals($)}function kS(J,$){let Q=0,X=0;while(Q<J.length&&X<$.length){let Y=J[Q].cmp($[X]);if(Y<0)return!1;else if(Y===0)Q++,X++;else X++}return Q===J.length}function ES(J){if(J.type===9)return J.expr;return[J]}var D8,L10,k10,E10,I10,y10,LS,x10,b10,S10,C10,H0,h0;var m1=N(()=>{M1();t0();wS();u0();g0();D8=new Map;D8.set("false",!1);D8.set("true",!0);D8.set("isMac",r0);D8.set("isLinux",V6);D8.set("isWindows",L6);D8.set("isWeb",nJ);D8.set("isMacNative",r0&&!nJ);D8.set("isEdge",tx);D8.set("isFirefox",nx);D8.set("isChrome",tR);D8.set("isSafari",ox);L10=Object.prototype.hasOwnProperty,k10={regexParsingWithErrorRecovery:!0},E10=F("contextkey.parser.error.emptyString","Empty context key expression"),I10=F("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),y10=F("contextkey.parser.error.noInAfterNot","'in' after 'not'."),LS=F("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),x10=F("contextkey.parser.error.unexpectedToken","Unexpected token"),b10=F("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),S10=F("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),C10=F("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");fZ._parseError=new Error;N0._parser=new fZ({regexParsingWithErrorRecovery:!1});C8.INSTANCE=new C8;J7.INSTANCE=new J7;H0=class H0 extends pZ{static all(){return H0._info.values()}constructor(J,$,Q){super(J,null);if(this._defaultValue=$,typeof Q==="object")H0._info.push({...Q,key:J});else if(Q!==!0)H0._info.push({key:J,description:Q,type:$!==null&&$!==void 0?typeof $:void 0})}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return jz.create(this.key,J)}};H0._info=[];h0=M0("contextKeyService")});function Vz(J,$){if(typeof J==="number"){if(J===0)return null;let Q=(J&65535)>>>0,X=(J&4294901760)>>>16;if(X!==0)return new eB([tB(Q,$),tB(X,$)]);return new eB([tB(Q,$)])}else{let Q=[];for(let X=0;X<J.length;X++)Q.push(tB(J[X],$));return new eB(Q)}}function tB(J,$){let Q=J&2048?!0:!1,X=J&256?!0:!1,Y=$===2?X:Q,Z=J&1024?!0:!1,G=J&512?!0:!1,q=$===2?Q:X,U=J&255;return new L9(Y,Z,G,q,U)}class L9{constructor(J,$,Q,X,Y){this.ctrlKey=J,this.shiftKey=$,this.altKey=Q,this.metaKey=X,this.keyCode=Y}equals(J){return J instanceof L9&&this.ctrlKey===J.ctrlKey&&this.shiftKey===J.shiftKey&&this.altKey===J.altKey&&this.metaKey===J.metaKey&&this.keyCode===J.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class eB{constructor(J){if(J.length===0)throw t4("chords");this.chords=J}}class hM{constructor(J,$,Q,X,Y,Z){this.ctrlKey=J,this.shiftKey=$,this.altKey=Q,this.metaKey=X,this.keyLabel=Y,this.keyAriaLabel=Z}}class fM{}var cZ=N(()=>{P1()});function JF(J,$){if(!J)throw new Error($?`Assertion failed (${$})`:"Assertion Failed")}function oG(J,$="Unreachable"){throw new Error($)}function gM(J){if(!J)o0(new S1("Assertion Failed"))}function Z$(J){if(!J()){debugger;J(),o0(new S1("Assertion Failed"))}}function $F(J,$){let Q=0;while(Q<J.length-1){let X=J[Q],Y=J[Q+1];if(!$(X,Y))return!1;Q++}return!0}var G$=N(()=>{P1()});class bS{constructor(){this.data=new Map}add(J,$){JF(Y5(J)),JF(r6($)),JF(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,$)}as(J){return this.data.get(J)||null}}var r1;var $7=N(()=>{G$();r1=new bS});class pM{constructor(){this._coreKeybindings=new k6,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(J){if(I8===1){if(J&&J.win)return J.win}else if(I8===2){if(J&&J.mac)return J.mac}else if(J&&J.linux)return J.linux;return J}registerKeybindingRule(J){let $=pM.bindToCurrentPlatform(J),Q=new r;if($&&$.primary){let X=Vz($.primary,I8);if(X)Q.add(this._registerDefaultKeybinding(X,J.id,J.args,J.weight,0,J.when))}if($&&Array.isArray($.secondary))for(let X=0,Y=$.secondary.length;X<Y;X++){let Z=$.secondary[X],G=Vz(Z,I8);if(G)Q.add(this._registerDefaultKeybinding(G,J.id,J.args,J.weight,-X-1,J.when))}return Q}registerCommandAndKeybindingRule(J){return x8(this.registerKeybindingRule(J),z6.registerCommand(J))}_registerDefaultKeybinding(J,$,Q,X,Y,Z){let G=this._coreKeybindings.push({keybinding:J,command:$,commandArgs:Q,when:Z,weight1:X,weight2:Y,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,K0(()=>{G(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){if(!this._cachedMergedKeybindings)this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(f10);return this._cachedMergedKeybindings.slice(0)}}function f10(J,$){if(J.weight1!==$.weight1)return J.weight1-$.weight1;if(J.command&&$.command){if(J.command<$.command)return-1;if(J.command>$.command)return 1}return J.weight2-$.weight2}var ZJ,h10;var tG=N(()=>{cZ();M1();e8();$7();Q0();T9();ZJ=new pM,h10={EditorModes:"platform.keybindingsRegistry"};r1.add(h10.EditorModes,ZJ)});function eG(J){return J.command!==void 0}function CS(J){return J.submenu!==void 0}class I{constructor(J){if(I._instances.has(J))throw new TypeError(`MenuId with identifier '${J}' already exists. Use MenuId.for(ident) or a unique identifier`);I._instances.set(J,this),this.id=J}}class wQ{static for(J){let $=this._all.get(J);if(!$)$=new wQ(J),this._all.set(J,$);return $}static merge(J){let $=new Set;for(let Q of J)if(Q instanceof wQ)$.add(Q.id);return $}constructor(J){this.id=J,this.has=($)=>$===J}}var g10=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},SS=function(J,$){return function(Q,X){$(Q,X,J)}},XF,A4,q$,lZ,K4;var P4=N(()=>{t8();H5();F0();Q0();T9();e8();m1();u0();tG();I._instances=new Map;I.CommandPalette=new I("CommandPalette");I.DebugBreakpointsContext=new I("DebugBreakpointsContext");I.DebugCallStackContext=new I("DebugCallStackContext");I.DebugConsoleContext=new I("DebugConsoleContext");I.DebugVariablesContext=new I("DebugVariablesContext");I.DebugHoverContext=new I("DebugHoverContext");I.DebugWatchContext=new I("DebugWatchContext");I.DebugToolBar=new I("DebugToolBar");I.DebugToolBarStop=new I("DebugToolBarStop");I.EditorContext=new I("EditorContext");I.SimpleEditorContext=new I("SimpleEditorContext");I.EditorContent=new I("EditorContent");I.EditorLineNumberContext=new I("EditorLineNumberContext");I.EditorContextCopy=new I("EditorContextCopy");I.EditorContextPeek=new I("EditorContextPeek");I.EditorContextShare=new I("EditorContextShare");I.EditorTitle=new I("EditorTitle");I.EditorTitleRun=new I("EditorTitleRun");I.EditorTitleContext=new I("EditorTitleContext");I.EditorTitleContextShare=new I("EditorTitleContextShare");I.EmptyEditorGroup=new I("EmptyEditorGroup");I.EmptyEditorGroupContext=new I("EmptyEditorGroupContext");I.EditorTabsBarContext=new I("EditorTabsBarContext");I.EditorTabsBarShowTabsSubmenu=new I("EditorTabsBarShowTabsSubmenu");I.EditorTabsBarShowTabsZenModeSubmenu=new I("EditorTabsBarShowTabsZenModeSubmenu");I.EditorActionsPositionSubmenu=new I("EditorActionsPositionSubmenu");I.ExplorerContext=new I("ExplorerContext");I.ExplorerContextShare=new I("ExplorerContextShare");I.ExtensionContext=new I("ExtensionContext");I.GlobalActivity=new I("GlobalActivity");I.CommandCenter=new I("CommandCenter");I.CommandCenterCenter=new I("CommandCenterCenter");I.LayoutControlMenuSubmenu=new I("LayoutControlMenuSubmenu");I.LayoutControlMenu=new I("LayoutControlMenu");I.MenubarMainMenu=new I("MenubarMainMenu");I.MenubarAppearanceMenu=new I("MenubarAppearanceMenu");I.MenubarDebugMenu=new I("MenubarDebugMenu");I.MenubarEditMenu=new I("MenubarEditMenu");I.MenubarCopy=new I("MenubarCopy");I.MenubarFileMenu=new I("MenubarFileMenu");I.MenubarGoMenu=new I("MenubarGoMenu");I.MenubarHelpMenu=new I("MenubarHelpMenu");I.MenubarLayoutMenu=new I("MenubarLayoutMenu");I.MenubarNewBreakpointMenu=new I("MenubarNewBreakpointMenu");I.PanelAlignmentMenu=new I("PanelAlignmentMenu");I.PanelPositionMenu=new I("PanelPositionMenu");I.ActivityBarPositionMenu=new I("ActivityBarPositionMenu");I.MenubarPreferencesMenu=new I("MenubarPreferencesMenu");I.MenubarRecentMenu=new I("MenubarRecentMenu");I.MenubarSelectionMenu=new I("MenubarSelectionMenu");I.MenubarShare=new I("MenubarShare");I.MenubarSwitchEditorMenu=new I("MenubarSwitchEditorMenu");I.MenubarSwitchGroupMenu=new I("MenubarSwitchGroupMenu");I.MenubarTerminalMenu=new I("MenubarTerminalMenu");I.MenubarViewMenu=new I("MenubarViewMenu");I.MenubarHomeMenu=new I("MenubarHomeMenu");I.OpenEditorsContext=new I("OpenEditorsContext");I.OpenEditorsContextShare=new I("OpenEditorsContextShare");I.ProblemsPanelContext=new I("ProblemsPanelContext");I.SCMInputBox=new I("SCMInputBox");I.SCMIncomingChanges=new I("SCMIncomingChanges");I.SCMOutgoingChanges=new I("SCMOutgoingChanges");I.SCMIncomingChangesAllChangesContext=new I("SCMIncomingChangesAllChangesContext");I.SCMIncomingChangesHistoryItemContext=new I("SCMIncomingChangesHistoryItemContext");I.SCMOutgoingChangesAllChangesContext=new I("SCMOutgoingChangesAllChangesContext");I.SCMOutgoingChangesHistoryItemContext=new I("SCMOutgoingChangesHistoryItemContext");I.SCMChangeContext=new I("SCMChangeContext");I.SCMResourceContext=new I("SCMResourceContext");I.SCMResourceContextShare=new I("SCMResourceContextShare");I.SCMResourceFolderContext=new I("SCMResourceFolderContext");I.SCMResourceGroupContext=new I("SCMResourceGroupContext");I.SCMSourceControl=new I("SCMSourceControl");I.SCMSourceControlInline=new I("SCMSourceControlInline");I.SCMTitle=new I("SCMTitle");I.SearchContext=new I("SearchContext");I.SearchActionMenu=new I("SearchActionContext");I.StatusBarWindowIndicatorMenu=new I("StatusBarWindowIndicatorMenu");I.StatusBarRemoteIndicatorMenu=new I("StatusBarRemoteIndicatorMenu");I.StickyScrollContext=new I("StickyScrollContext");I.TestItem=new I("TestItem");I.TestItemGutter=new I("TestItemGutter");I.TestMessageContext=new I("TestMessageContext");I.TestMessageContent=new I("TestMessageContent");I.TestPeekElement=new I("TestPeekElement");I.TestPeekTitle=new I("TestPeekTitle");I.TouchBarContext=new I("TouchBarContext");I.TitleBarContext=new I("TitleBarContext");I.TitleBarTitleContext=new I("TitleBarTitleContext");I.TunnelContext=new I("TunnelContext");I.TunnelPrivacy=new I("TunnelPrivacy");I.TunnelProtocol=new I("TunnelProtocol");I.TunnelPortInline=new I("TunnelInline");I.TunnelTitle=new I("TunnelTitle");I.TunnelLocalAddressInline=new I("TunnelLocalAddressInline");I.TunnelOriginInline=new I("TunnelOriginInline");I.ViewItemContext=new I("ViewItemContext");I.ViewContainerTitle=new I("ViewContainerTitle");I.ViewContainerTitleContext=new I("ViewContainerTitleContext");I.ViewTitle=new I("ViewTitle");I.ViewTitleContext=new I("ViewTitleContext");I.CommentEditorActions=new I("CommentEditorActions");I.CommentThreadTitle=new I("CommentThreadTitle");I.CommentThreadActions=new I("CommentThreadActions");I.CommentThreadAdditionalActions=new I("CommentThreadAdditionalActions");I.CommentThreadTitleContext=new I("CommentThreadTitleContext");I.CommentThreadCommentContext=new I("CommentThreadCommentContext");I.CommentTitle=new I("CommentTitle");I.CommentActions=new I("CommentActions");I.InteractiveToolbar=new I("InteractiveToolbar");I.InteractiveCellTitle=new I("InteractiveCellTitle");I.InteractiveCellDelete=new I("InteractiveCellDelete");I.InteractiveCellExecute=new I("InteractiveCellExecute");I.InteractiveInputExecute=new I("InteractiveInputExecute");I.NotebookToolbar=new I("NotebookToolbar");I.NotebookStickyScrollContext=new I("NotebookStickyScrollContext");I.NotebookCellTitle=new I("NotebookCellTitle");I.NotebookCellDelete=new I("NotebookCellDelete");I.NotebookCellInsert=new I("NotebookCellInsert");I.NotebookCellBetween=new I("NotebookCellBetween");I.NotebookCellListTop=new I("NotebookCellTop");I.NotebookCellExecute=new I("NotebookCellExecute");I.NotebookCellExecutePrimary=new I("NotebookCellExecutePrimary");I.NotebookDiffCellInputTitle=new I("NotebookDiffCellInputTitle");I.NotebookDiffCellMetadataTitle=new I("NotebookDiffCellMetadataTitle");I.NotebookDiffCellOutputsTitle=new I("NotebookDiffCellOutputsTitle");I.NotebookOutputToolbar=new I("NotebookOutputToolbar");I.NotebookEditorLayoutConfigure=new I("NotebookEditorLayoutConfigure");I.NotebookKernelSource=new I("NotebookKernelSource");I.BulkEditTitle=new I("BulkEditTitle");I.BulkEditContext=new I("BulkEditContext");I.TimelineItemContext=new I("TimelineItemContext");I.TimelineTitle=new I("TimelineTitle");I.TimelineTitleContext=new I("TimelineTitleContext");I.TimelineFilterSubMenu=new I("TimelineFilterSubMenu");I.AccountsContext=new I("AccountsContext");I.SidebarTitle=new I("SidebarTitle");I.PanelTitle=new I("PanelTitle");I.AuxiliaryBarTitle=new I("AuxiliaryBarTitle");I.TerminalInstanceContext=new I("TerminalInstanceContext");I.TerminalEditorInstanceContext=new I("TerminalEditorInstanceContext");I.TerminalNewDropdownContext=new I("TerminalNewDropdownContext");I.TerminalTabContext=new I("TerminalTabContext");I.TerminalTabEmptyAreaContext=new I("TerminalTabEmptyAreaContext");I.TerminalStickyScrollContext=new I("TerminalStickyScrollContext");I.WebviewContext=new I("WebviewContext");I.InlineCompletionsActions=new I("InlineCompletionsActions");I.NewFile=new I("NewFile");I.MergeInput1Toolbar=new I("MergeToolbar1Toolbar");I.MergeInput2Toolbar=new I("MergeToolbar2Toolbar");I.MergeBaseToolbar=new I("MergeBaseToolbar");I.MergeInputResultToolbar=new I("MergeToolbarResultToolbar");I.InlineSuggestionToolbar=new I("InlineSuggestionToolbar");I.ChatContext=new I("ChatContext");I.ChatCodeBlock=new I("ChatCodeblock");I.ChatMessageTitle=new I("ChatMessageTitle");I.ChatExecute=new I("ChatExecute");I.ChatInputSide=new I("ChatInputSide");I.AccessibleView=new I("AccessibleView");I.MultiDiffEditorFileToolbar=new I("MultiDiffEditorFileToolbar");A4=M0("menuService");wQ._all=new Map;q$=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new YM({merge:wQ.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(J){return this._commands.set(J.id,J),this._onDidChangeMenu.fire(wQ.for(I.CommandPalette)),K0(()=>{if(this._commands.delete(J.id))this._onDidChangeMenu.fire(wQ.for(I.CommandPalette))})}getCommand(J){return this._commands.get(J)}getCommands(){let J=new Map;return this._commands.forEach(($,Q)=>J.set(Q,$)),J}appendMenuItem(J,$){let Q=this._menuItems.get(J);if(!Q)Q=new k6,this._menuItems.set(J,Q);let X=Q.push($);return this._onDidChangeMenu.fire(wQ.for(J)),K0(()=>{X(),this._onDidChangeMenu.fire(wQ.for(J))})}appendMenuItems(J){let $=new r;for(let{id:Q,item:X}of J)$.add(this.appendMenuItem(Q,X));return $}getMenuItems(J){let $;if(this._menuItems.has(J))$=[...this._menuItems.get(J)];else $=[];if(J===I.CommandPalette)this._appendImplicitItems($);return $}_appendImplicitItems(J){let $=new Set;for(let Q of J)if(eG(Q)){if($.add(Q.command.id),Q.alt)$.add(Q.alt.id)}this._commands.forEach((Q,X)=>{if(!$.has(X))J.push({command:Q})})}};lZ=class lZ extends NQ{constructor(J,$,Q){super(`submenuitem.${J.submenu.id}`,typeof J.title==="string"?J.title:J.title.value,Q,"submenu");this.item=J,this.hideActions=$}};K4=XF=class J{static label($,Q){return(Q===null||Q===void 0?void 0:Q.renderShortTitle)&&$.shortTitle?typeof $.shortTitle==="string"?$.shortTitle:$.shortTitle.value:typeof $.title==="string"?$.title:$.title.value}constructor($,Q,X,Y,Z,G){var q,U;this.hideActions=Y,this._commandService=G,this.id=$.id,this.label=XF.label($,X),this.tooltip=(U=typeof $.tooltip==="string"?$.tooltip:(q=$.tooltip)===null||q===void 0?void 0:q.value)!==null&&U!==void 0?U:"",this.enabled=!$.precondition||Z.contextMatchesRules($.precondition),this.checked=void 0;let z;if($.toggled){let H=$.toggled.condition?$.toggled:{condition:$.toggled};if(this.checked=Z.contextMatchesRules(H.condition),this.checked&&H.tooltip)this.tooltip=typeof H.tooltip==="string"?H.tooltip:H.tooltip.value;if(this.checked&&b0.isThemeIcon(H.icon))z=H.icon;if(this.checked&&H.title)this.label=typeof H.title==="string"?H.title:H.title.value}if(!z)z=b0.isThemeIcon($.icon)?$.icon:void 0;this.item=$,this.alt=Q?new XF(Q,void 0,X,Y,Z,G):void 0,this._options=X,this.class=z&&b0.asClassName(z)}run(...$){var Q,X;let Y=[];if((Q=this._options)===null||Q===void 0?void 0:Q.arg)Y=[...Y,this._options.arg];if((X=this._options)===null||X===void 0?void 0:X.shouldForwardArgs)Y=[...Y,...$];return this._commandService.executeCommand(this.id,...Y)}};K4=XF=g10([SS(4,h0),SS(5,j5)],K4)});var Q7;var sX=N(()=>{u0();Q7=M0("telemetryService")});function p10(J){switch(J){case p5.Trace:return"trace";case p5.Debug:return"debug";case p5.Info:return"info";case p5.Warning:return"warn";case p5.Error:return"error";case p5.Off:return"off"}}var Q5,p5,vS,mM,uM,cM,nG0;var G9=N(()=>{F0();Q0();m1();u0();Q5=M0("logService");(function(J){J[J.Off=0]="Off",J[J.Trace=1]="Trace",J[J.Debug=2]="Debug",J[J.Info=3]="Info",J[J.Warning=4]="Warning",J[J.Error=5]="Error"})(p5||(p5={}));vS=p5.Info;mM=class mM extends h{constructor(){super(...arguments);this.level=vS,this._onDidChangeLogLevel=this._register(new y),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(J){if(this.level!==J)this.level=J,this._onDidChangeLogLevel.fire(this.level)}getLevel(){return this.level}checkLogLevel(J){return this.level!==p5.Off&&this.level<=J}};uM=class uM extends mM{constructor(J=vS,$=!0){super();this.useColors=$,this.setLevel(J)}trace(J,...$){if(this.checkLogLevel(p5.Trace))if(this.useColors)console.log("%cTRACE","color: #888",J,...$);else console.log(J,...$)}debug(J,...$){if(this.checkLogLevel(p5.Debug))if(this.useColors)console.log("%cDEBUG","background: #eee; color: #888",J,...$);else console.log(J,...$)}info(J,...$){if(this.checkLogLevel(p5.Info))if(this.useColors)console.log("%c INFO","color: #33f",J,...$);else console.log(J,...$)}warn(J,...$){if(this.checkLogLevel(p5.Warning))if(this.useColors)console.log("%c WARN","color: #993",J,...$);else console.log(J,...$)}error(J,...$){if(this.checkLogLevel(p5.Error))if(this.useColors)console.log("%c  ERR","color: #f33",J,...$);else console.error(J,...$)}};cM=class cM extends mM{constructor(J){super();if(this.loggers=J,J.length)this.setLevel(J[0].getLevel())}setLevel(J){for(let $ of this.loggers)$.setLevel(J);super.setLevel(J)}trace(J,...$){for(let Q of this.loggers)Q.trace(J,...$)}debug(J,...$){for(let Q of this.loggers)Q.debug(J,...$)}info(J,...$){for(let Q of this.loggers)Q.info(J,...$)}warn(J,...$){for(let Q of this.loggers)Q.warn(J,...$)}error(J,...$){for(let Q of this.loggers)Q.error(J,...$)}dispose(){for(let J of this.loggers)J.dispose();super.dispose()}};nG0=new H0("logLevel",p10(p5.Info))});var Jq;var YF=N(()=>{B7();J8();M1();Jq={clipboard:{writeText:SX||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:SX||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>{if(SX||_S())return 0;if(navigator.keyboard||I7)return 1;return 2})(),touch:"ontouchstart"in z1||navigator.maxTouchPoints>0,pointerEvents:z1.PointerEvent&&(("ontouchstart"in z1)||navigator.maxTouchPoints>0)}});function m10(J){if(J.charCode){let Q=String.fromCharCode(J.charCode).toUpperCase();return j4.fromString(Q)}let $=J.keyCode;if($===3)return 7;else if(g5)switch($){case 59:return 85;case 60:if(V6)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(r0)return 57;break}else if(QJ){if(r0&&$===93)return 57;else if(!r0&&$===92)return 57}return zM[$]||0}class K1{constructor(J){this._standardKeyboardEventBrand=!0;let $=J;this.browserEvent=$,this.target=$.target,this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,this.altGraphKey=$.getModifierState("AltGraph"),this.keyCode=m10($),this.code=$.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){if(this.browserEvent&&this.browserEvent.preventDefault)this.browserEvent.preventDefault()}stopPropagation(){if(this.browserEvent&&this.browserEvent.stopPropagation)this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(J){return this._asKeybinding===J}_computeKeybinding(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;let $=0;if(this.ctrlKey)$|=u10;if(this.altKey)$|=c10;if(this.shiftKey)$|=l10;if(this.metaKey)$|=d10;return $|=J,$}_computeKeyCodeChord(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;return new L9(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,J)}}var u10,c10=512,l10=1024,d10;var R8=N(()=>{B7();IZ();cZ();M1();u10=r0?256:2048,d10=r0?2048:256});function s10(J){if(!J.parent||J.parent===J)return null;try{let $=J.location,Q=J.parent.location;if($.origin!=="null"&&Q.origin!=="null"&&$.origin!==Q.origin)return null}catch($){return null}return J.parent}class lM{static getSameOriginWindowChain(J){let $=hS.get(J);if(!$){$=[],hS.set(J,$);let Q=J,X;do{if(X=s10(Q),X)$.push({window:new WeakRef(Q),iframeElement:Q.frameElement||null});else $.push({window:new WeakRef(Q),iframeElement:null});Q=X}while(Q)}return $.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(J,$){var Q,X;if(!$||J===$)return{top:0,left:0};let Y=0,Z=0,G=this.getSameOriginWindowChain(J);for(let q of G){let U=q.window.deref();if(Y+=(Q=U===null||U===void 0?void 0:U.scrollY)!==null&&Q!==void 0?Q:0,Z+=(X=U===null||U===void 0?void 0:U.scrollX)!==null&&X!==void 0?X:0,U===$)break;if(!q.iframeElement)break;let z=q.iframeElement.getBoundingClientRect();Y+=z.top,Z+=z.left}return{top:Y,left:Z}}}var hS;var fS=N(()=>{hS=new WeakMap});class $8{constructor(J,$){if(this.timestamp=Date.now(),this.browserEvent=$,this.leftButton=$.button===0,this.middleButton=$.button===1,this.rightButton=$.button===2,this.buttons=$.buttons,this.target=$.target,this.detail=$.detail||1,$.type==="dblclick")this.detail=2;if(this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,typeof $.pageX==="number")this.posx=$.pageX,this.posy=$.pageY;else this.posx=$.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=$.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop;let Q=lM.getPositionOfChildWindowRelativeToAncestorWindow(J,$.view);this.posx-=Q.left,this.posy-=Q.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class D4{constructor(J,$=0,Q=0){var X;if(this.browserEvent=J||null,this.target=J?J.target||J.targetNode||J.srcElement:null,this.deltaY=Q,this.deltaX=$,J){let Y=J,Z=J,G=((X=J.view)===null||X===void 0?void 0:X.devicePixelRatio)||1;if(typeof Y.wheelDeltaY!=="undefined")if(Y$)this.deltaY=Y.wheelDeltaY/(120*G);else this.deltaY=Y.wheelDeltaY/120;else if(typeof Z.VERTICAL_AXIS!=="undefined"&&Z.axis===Z.VERTICAL_AXIS)this.deltaY=-Z.detail/3;else if(J.type==="wheel"){let q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(g5&&!r0)this.deltaY=-J.deltaY/3;else this.deltaY=-J.deltaY;else this.deltaY=-J.deltaY/40}if(typeof Y.wheelDeltaX!=="undefined")if(I7&&L6)this.deltaX=-(Y.wheelDeltaX/120);else if(Y$)this.deltaX=Y.wheelDeltaX/(120*G);else this.deltaX=Y.wheelDeltaX/120;else if(typeof Z.HORIZONTAL_AXIS!=="undefined"&&Z.axis===Z.HORIZONTAL_AXIS)this.deltaX=-J.detail/3;else if(J.type==="wheel"){let q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(g5&&!r0)this.deltaX=-J.deltaX/3;else this.deltaX=-J.deltaX;else this.deltaX=-J.deltaX/40}if(this.deltaY===0&&this.deltaX===0&&J.wheelDelta)if(Y$)this.deltaY=J.wheelDelta/(120*G);else this.deltaY=J.wheelDelta/120}}preventDefault(){var J;(J=this.browserEvent)===null||J===void 0||J.preventDefault()}stopPropagation(){var J;(J=this.browserEvent)===null||J===void 0||J.stopPropagation()}}var k9=N(()=>{B7();fS();M1()});var ZF;var dM=N(()=>{ZF=Symbol("MicrotaskDelay")});function qF(J){return!!J&&typeof J.then==="function"}function dZ(J){let $=new q5,Q=J($.token),X=new Promise((Y,Z)=>{let G=$.token.onCancellationRequested(()=>{G.dispose(),Z(new WQ)});Promise.resolve(Q).then((q)=>{G.dispose(),$.dispose(),Y(q)},(q)=>{G.dispose(),$.dispose(),Z(q)})});return new class{cancel(){$.cancel(),$.dispose()}then(Y,Z){return X.then(Y,Z)}catch(Y){return this.then(void 0,Y)}finally(Y){return X.finally(Y)}}}class gS{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(J){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=J,!this.queuedPromise){let $=()=>{if(this.queuedPromise=null,this.isDisposed)return;let Q=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,Q};this.queuedPromise=new Promise((Q)=>{this.activePromise.then($,$).then(Q)})}return new Promise(($,Q)=>{this.queuedPromise.then($,Q)})}return this.activePromise=J(),new Promise(($,Q)=>{this.activePromise.then((X)=>{this.activePromise=null,$(X)},(X)=>{this.activePromise=null,Q(X)})})}dispose(){this.isDisposed=!0}}class R4{constructor(J){this.defaultDelay=J,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(J,$=this.defaultDelay){if(this.task=J,this.cancelTimeout(),!this.completionPromise)this.completionPromise=new Promise((X,Y)=>{this.doResolve=X,this.doReject=Y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let X=this.task;return this.task=null,X()}return});let Q=()=>{var X;this.deferred=null,(X=this.doResolve)===null||X===void 0||X.call(this,null)};return this.deferred=$===ZF?r10(Q):a10($,Q),this.completionPromise}isTriggered(){var J;return!!((J=this.deferred)===null||J===void 0?void 0:J.isTriggered())}cancel(){var J;if(this.cancelTimeout(),this.completionPromise)(J=this.doReject)===null||J===void 0||J.call(this,new WQ),this.completionPromise=null}cancelTimeout(){var J;(J=this.deferred)===null||J===void 0||J.dispose(),this.deferred=null}dispose(){this.cancel()}}class Wz{constructor(J){this.delayer=new R4(J),this.throttler=new gS}trigger(J,$){return this.delayer.trigger(()=>this.throttler.queue(J),$)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function LQ(J,$){if(!$)return dZ((Q)=>LQ(J,Q));return new Promise((Q,X)=>{let Y=setTimeout(()=>{Z.dispose(),Q()},J),Z=$.onCancellationRequested(()=>{clearTimeout(Y),Z.dispose(),X(new WQ)})})}function aX(J,$=0,Q){let X=setTimeout(()=>{if(J(),Q)Y.dispose()},$),Y=K0(()=>{clearTimeout(X),Q===null||Q===void 0||Q.deleteAndLeak(Y)});return Q===null||Q===void 0||Q.add(Y),Y}class M8{constructor(J,$){if(this._token=-1,typeof J==="function"&&typeof $==="number")this.setIfNotSet(J,$)}dispose(){this.cancel()}cancel(){if(this._token!==-1)clearTimeout(this._token),this._token=-1}cancelAndSet(J,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,J()},$)}setIfNotSet(J,$){if(this._token!==-1)return;this._token=setTimeout(()=>{this._token=-1,J()},$)}}class sZ{constructor(){this.disposable=void 0}cancel(){var J;(J=this.disposable)===null||J===void 0||J.dispose(),this.disposable=void 0}cancelAndSet(J,$,Q=globalThis){this.cancel();let X=Q.setInterval(()=>{J()},$);this.disposable=K0(()=>{Q.clearInterval(X),this.disposable=void 0})}dispose(){this.cancel()}}class t1{constructor(J,$){this.timeoutToken=-1,this.runner=J,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){if(this.isScheduled())clearTimeout(this.timeoutToken),this.timeoutToken=-1}schedule(J=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,J)}get delay(){return this.timeout}set delay(J){this.timeout=J}isScheduled(){return this.timeoutToken!==-1}onTimeout(){if(this.timeoutToken=-1,this.runner)this.doRun()}doRun(){var J;(J=this.runner)===null||J===void 0||J.call(this)}}class UF{constructor(J,$){this._didRun=!1,this._executor=()=>{try{this._value=$()}catch(Q){this._error=Q}finally{this._didRun=!0}},this._handle=$q(J,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(!this._didRun)this._handle.dispose(),this._executor();if(this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class Bz{get isRejected(){var J;return((J=this.outcome)===null||J===void 0?void 0:J.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((J,$)=>{this.completeCallback=J,this.errorCallback=$})}complete(J){return new Promise(($)=>{this.completeCallback(J),this.outcome={outcome:0,value:J},$()})}error(J){return new Promise(($)=>{this.errorCallback(J),this.outcome={outcome:1,value:J},$()})}cancel(){return this.error(new WQ)}}var a10=(J,$)=>{let Q=!0,X=setTimeout(()=>{Q=!1,$()},J);return{isTriggered:()=>Q,dispose:()=>{clearTimeout(X),Q=!1}}},r10=(J)=>{let $=!0;return queueMicrotask(()=>{if($)$=!1,J()}),{isTriggered:()=>$,dispose:()=>{$=!1}}},sM,$q,aM,GF,q9;var u1=N(()=>{e5();P1();F0();Q0();M1();dM();(function(){if(typeof globalThis.requestIdleCallback!=="function"||typeof globalThis.cancelIdleCallback!=="function")$q=(J,$)=>{wW(()=>{if(Q)return;let X=Date.now()+15;$(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,X-Date.now())}}))});let Q=!1;return{dispose(){if(Q)return;Q=!0}}};else $q=(J,$,Q)=>{let X=J.requestIdleCallback($,typeof Q==="number"?{timeout:Q}:void 0),Y=!1;return{dispose(){if(Y)return;Y=!0,J.cancelIdleCallback(X)}}};sM=(J)=>$q(globalThis,J)})();aM=class aM extends UF{constructor(J){super(globalThis,J)}};(function(J){async function $(X){let Y=void 0,Z=await Promise.all(X.map((G)=>G.then((q)=>q,(q)=>{if(!Y)Y=q;return})));if(typeof Y!=="undefined")throw Y;return Z}J.settled=$;function Q(X){return new Promise(async(Y,Z)=>{try{await X(Y,Z)}catch(G){Z(G)}})}J.withAsyncBody=Q})(GF||(GF={}));q9=class q9{static fromArray(J){return new q9(($)=>{$.emitMany(J)})}static fromPromise(J){return new q9(async($)=>{$.emitMany(await J)})}static fromPromises(J){return new q9(async($)=>{await Promise.all(J.map(async(Q)=>$.emitOne(await Q)))})}static merge(J){return new q9(async($)=>{await Promise.all(J.map(async(Q)=>{for await(let X of Q)$.emitOne(X)}))})}constructor(J){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y,queueMicrotask(async()=>{let $={emitOne:(Q)=>this.emitOne(Q),emitMany:(Q)=>this.emitMany(Q),reject:(Q)=>this.reject(Q)};try{await Promise.resolve(J($)),this.resolve()}catch(Q){this.reject(Q)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}})}[Symbol.asyncIterator](){let J=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(J<this._results.length)return{done:!1,value:this._results[J++]};if(this._state===1)return{done:!0,value:void 0};await J0.toPromise(this._onStateChanged.event)}while(!0)}}}static map(J,$){return new q9(async(Q)=>{for await(let X of J)Q.emitOne($(X))})}map(J){return q9.map(this,J)}static filter(J,$){return new q9(async(Q)=>{for await(let X of J)if($(X))Q.emitOne(X)})}filter(J){return q9.filter(this,J)}static coalesce(J){return q9.filter(J,($)=>!!$)}coalesce(){return q9.coalesce(this)}static async toPromise(J){let $=[];for await(let Q of J)$.push(Q);return $}toPromise(){return q9.toPromise(this)}emitOne(J){if(this._state!==0)return;this._results.push(J),this._onStateChanged.fire()}emitMany(J){if(this._state!==0)return;this._results=this._results.concat(J),this._onStateChanged.fire()}resolve(){if(this._state!==0)return;this._state=1,this._onStateChanged.fire()}reject(J){if(this._state!==0)return;this._state=2,this._error=J,this._onStateChanged.fire()}};q9.EMPTY=q9.fromArray([])});function M4(J){return function($){for(var Q=arguments.length,X=new Array(Q>1?Q-1:0),Y=1;Y<Q;Y++)X[Y-1]=arguments[Y];return eM(J,$,X)}}function X60(J){return function(){for(var $=arguments.length,Q=new Array($),X=0;X<$;X++)Q[X]=arguments[X];return J_(J,Q)}}function g1(J,$,Q){var X;if(Q=(X=Q)!==null&&X!==void 0?X:jF,pS)pS(J,null);let Y=$.length;while(Y--){let Z=$[Y];if(typeof Z==="string"){let G=Q(Z);if(G!==Z){if(!i10($))$[Y]=G;Z=G}}J[Z]=!0}return J}function Qq(J){let $=t10(null);for(let[Q,X]of aS(J))$[Q]=X;return $}function zF(J,$){while(J!==null){let X=o10(J,$);if(X){if(X.get)return M4(X.get);if(typeof X.value==="function")return M4(X.value)}J=n10(J)}function Q(X){return console.warn("fallback value for",X),null}return Q}function nS(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W60(),$=(V1)=>nS(V1);if($.version="3.0.5",$.removed=[],!J||!J.document||J.document.nodeType!==9)return $.isSupported=!1,$;let Q=J.document,X=Q.currentScript,{document:Y}=J,{DocumentFragment:Z,HTMLTemplateElement:G,Node:q,Element:U,NodeFilter:z,NamedNodeMap:H=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:j,DOMParser:V,trustedTypes:W}=J,B=U.prototype,K=zF(B,"cloneNode"),P=zF(B,"nextSibling"),A=zF(B,"childNodes"),D=zF(B,"parentNode");if(typeof G==="function"){let V1=Y.createElement("template");if(V1.content&&V1.content.ownerDocument)Y=V1.content.ownerDocument}let R,M="",{implementation:_,createNodeIterator:T,createDocumentFragment:w,getElementsByTagName:b}=Y,{importNode:S}=Q,g={};$.isSupported=typeof aS==="function"&&typeof D==="function"&&_&&_.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:c,ERB_EXPR:C,TMPLIT_EXPR:u,DATA_ATTR:i,ARIA_ATTR:Y0,IS_SCRIPT_OR_DATA:P0,ATTR_WHITESPACE:R0}=sS,{IS_ALLOWED_URI:T0}=sS,A0=null,f0=g1({},[...uS,...iM,...nM,...oM,...cS]),d0=null,x0=g1({},[...lS,...tM,...dS,...HF]),z0=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B8=null,C5=null,F8=!0,I1=!0,v5=!1,a8=!0,h5=!1,X1=!1,Q4=!1,X4=!1,o7=!1,ZQ=!1,T5=!1,s4=!0,VW=!1,fR="user-content-",o=!0,s=!1,d={},k=null,x=g1({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),p=null,f=g1({},["audio","video","img","source","image","track"]),t=null,W0=g1({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),k0="http://www.w3.org/1998/Math/MathML",C0="http://www.w3.org/2000/svg",q1="http://www.w3.org/1999/xhtml",Z1=q1,o1=!1,s1=null,a0=g1({},[k0,C0,q1],rM),C6,v6=["application/xhtml+xml","text/html"],Y4="text/html",b1,X5=null,BZ=Y.createElement("form"),FZ=function V1(a){return a instanceof RegExp||a instanceof Function},a4=function V1(a){if(X5&&X5===a)return;if(!a||typeof a!=="object")a={};if(a=Qq(a),C6=v6.indexOf(a.PARSER_MEDIA_TYPE)===-1?C6=Y4:C6=a.PARSER_MEDIA_TYPE,b1=C6==="application/xhtml+xml"?rM:jF,A0="ALLOWED_TAGS"in a?g1({},a.ALLOWED_TAGS,b1):f0,d0="ALLOWED_ATTR"in a?g1({},a.ALLOWED_ATTR,b1):x0,s1="ALLOWED_NAMESPACES"in a?g1({},a.ALLOWED_NAMESPACES,rM):a0,t="ADD_URI_SAFE_ATTR"in a?g1(Qq(W0),a.ADD_URI_SAFE_ATTR,b1):W0,p="ADD_DATA_URI_TAGS"in a?g1(Qq(f),a.ADD_DATA_URI_TAGS,b1):f,k="FORBID_CONTENTS"in a?g1({},a.FORBID_CONTENTS,b1):x,B8="FORBID_TAGS"in a?g1({},a.FORBID_TAGS,b1):{},C5="FORBID_ATTR"in a?g1({},a.FORBID_ATTR,b1):{},d="USE_PROFILES"in a?a.USE_PROFILES:!1,F8=a.ALLOW_ARIA_ATTR!==!1,I1=a.ALLOW_DATA_ATTR!==!1,v5=a.ALLOW_UNKNOWN_PROTOCOLS||!1,a8=a.ALLOW_SELF_CLOSE_IN_ATTR!==!1,h5=a.SAFE_FOR_TEMPLATES||!1,X1=a.WHOLE_DOCUMENT||!1,o7=a.RETURN_DOM||!1,ZQ=a.RETURN_DOM_FRAGMENT||!1,T5=a.RETURN_TRUSTED_TYPE||!1,X4=a.FORCE_BODY||!1,s4=a.SANITIZE_DOM!==!1,VW=a.SANITIZE_NAMED_PROPS||!1,o=a.KEEP_CONTENT!==!1,s=a.IN_PLACE||!1,T0=a.ALLOWED_URI_REGEXP||rS,Z1=a.NAMESPACE||q1,z0=a.CUSTOM_ELEMENT_HANDLING||{},a.CUSTOM_ELEMENT_HANDLING&&FZ(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck))z0.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&FZ(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))z0.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")z0.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(h5)I1=!1;if(ZQ)o7=!0;if(d){if(A0=g1({},[...cS]),d0=[],d.html===!0)g1(A0,uS),g1(d0,lS);if(d.svg===!0)g1(A0,iM),g1(d0,tM),g1(d0,HF);if(d.svgFilters===!0)g1(A0,nM),g1(d0,tM),g1(d0,HF);if(d.mathMl===!0)g1(A0,oM),g1(d0,dS),g1(d0,HF)}if(a.ADD_TAGS){if(A0===f0)A0=Qq(A0);g1(A0,a.ADD_TAGS,b1)}if(a.ADD_ATTR){if(d0===x0)d0=Qq(d0);g1(d0,a.ADD_ATTR,b1)}if(a.ADD_URI_SAFE_ATTR)g1(t,a.ADD_URI_SAFE_ATTR,b1);if(a.FORBID_CONTENTS){if(k===x)k=Qq(k);g1(k,a.FORBID_CONTENTS,b1)}if(o)A0["#text"]=!0;if(X1)g1(A0,["html","head","body"]);if(A0.table)g1(A0,["tbody"]),delete B8.tbody;if(a.TRUSTED_TYPES_POLICY){if(typeof a.TRUSTED_TYPES_POLICY.createHTML!=="function")throw Kz('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof a.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw Kz('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=a.TRUSTED_TYPES_POLICY,M=R.createHTML("")}else{if(R===void 0)R=B60(W,X);if(R!==null&&typeof M==="string")M=R.createHTML("")}if(y7)y7(a);X5=a},yX=g1({},["mi","mo","mn","ms","mtext"]),KZ=g1({},["foreignobject","desc","title","annotation-xml"]),AZ=g1({},["title","style","font","a","script"]),kG=g1({},iM);g1(kG,nM),g1(kG,Y60);let PZ=g1({},oM);g1(PZ,Z60);let gR=function V1(a){let _0=D(a);if(!_0||!_0.tagName)_0={namespaceURI:Z1,tagName:"template"};let m0=jF(a.tagName),h6=jF(_0.tagName);if(!s1[a.namespaceURI])return!1;if(a.namespaceURI===C0){if(_0.namespaceURI===q1)return m0==="svg";if(_0.namespaceURI===k0)return m0==="svg"&&(h6==="annotation-xml"||yX[h6]);return Boolean(kG[m0])}if(a.namespaceURI===k0){if(_0.namespaceURI===q1)return m0==="math";if(_0.namespaceURI===C0)return m0==="math"&&KZ[h6];return Boolean(PZ[m0])}if(a.namespaceURI===q1){if(_0.namespaceURI===C0&&!KZ[h6])return!1;if(_0.namespaceURI===k0&&!yX[h6])return!1;return!PZ[m0]&&(AZ[m0]||!kG[m0])}if(C6==="application/xhtml+xml"&&s1[a.namespaceURI])return!0;return!1},sJ=function V1(a){Fz($.removed,{element:a});try{a.parentNode.removeChild(a)}catch(_0){a.remove()}},xU=function V1(a,_0){try{Fz($.removed,{attribute:_0.getAttributeNode(a),from:_0})}catch(m0){Fz($.removed,{attribute:null,from:_0})}if(_0.removeAttribute(a),a==="is"&&!d0[a])if(o7||ZQ)try{sJ(_0)}catch(m0){}else try{_0.setAttribute(a,"")}catch(m0){}},bU=function V1(a){let _0,m0;if(X4)a="<remove></remove>"+a;else{let Z4=J60(a,/^[\r\n\t ]+/);m0=Z4&&Z4[0]}if(C6==="application/xhtml+xml"&&Z1===q1)a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>";let h6=R?R.createHTML(a):a;if(Z1===q1)try{_0=new V().parseFromString(h6,C6)}catch(Z4){}if(!_0||!_0.documentElement){_0=_.createDocument(Z1,"template",null);try{_0.documentElement.innerHTML=o1?M:h6}catch(Z4){}}let E8=_0.body||_0.documentElement;if(a&&m0)E8.insertBefore(Y.createTextNode(m0),E8.childNodes[0]||null);if(Z1===q1)return b.call(_0,X1?"html":"body")[0];return X1?_0.documentElement:E8},WW=function V1(a){return T.call(a.ownerDocument||a,a,z.SHOW_ELEMENT|z.SHOW_COMMENT|z.SHOW_TEXT,null,!1)},F00=function V1(a){return a instanceof j&&(typeof a.nodeName!=="string"||typeof a.textContent!=="string"||typeof a.removeChild!=="function"||!(a.attributes instanceof H)||typeof a.removeAttribute!=="function"||typeof a.setAttribute!=="function"||typeof a.namespaceURI!=="string"||typeof a.insertBefore!=="function"||typeof a.hasChildNodes!=="function")},BW=function V1(a){return typeof q==="object"?a instanceof q:a&&typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"},GQ=function V1(a,_0,m0){if(!g[a])return;e10(g[a],(h6)=>{h6.call($,_0,m0,X5)})},Ox=function V1(a){let _0;if(GQ("beforeSanitizeElements",a,null),F00(a))return sJ(a),!0;let m0=b1(a.nodeName);if(GQ("uponSanitizeElement",a,{tagName:m0,allowedTags:A0}),a.hasChildNodes()&&!BW(a.firstElementChild)&&(!BW(a.content)||!BW(a.content.firstElementChild))&&E9(/<[/\w]/g,a.innerHTML)&&E9(/<[/\w]/g,a.textContent))return sJ(a),!0;if(!A0[m0]||B8[m0]){if(!B8[m0]&&Tx(m0)){if(z0.tagNameCheck instanceof RegExp&&E9(z0.tagNameCheck,m0))return!1;if(z0.tagNameCheck instanceof Function&&z0.tagNameCheck(m0))return!1}if(o&&!k[m0]){let h6=D(a)||a.parentNode,E8=A(a)||a.childNodes;if(E8&&h6){let Z4=E8.length;for(let B5=Z4-1;B5>=0;--B5)h6.insertBefore(K(E8[B5],!0),P(a))}}return sJ(a),!0}if(a instanceof U&&!gR(a))return sJ(a),!0;if((m0==="noscript"||m0==="noembed"||m0==="noframes")&&E9(/<\/no(script|embed|frames)/i,a.innerHTML))return sJ(a),!0;if(h5&&a.nodeType===3){if(_0=a.textContent,_0=GJ(_0,c," "),_0=GJ(_0,C," "),_0=GJ(_0,u," "),a.textContent!==_0)Fz($.removed,{element:a.cloneNode()}),a.textContent=_0}return GQ("afterSanitizeElements",a,null),!1},Nx=function V1(a,_0,m0){if(s4&&(_0==="id"||_0==="name")&&((m0 in Y)||(m0 in BZ)))return!1;if(I1&&!C5[_0]&&E9(i,_0));else if(F8&&E9(Y0,_0));else if(!d0[_0]||C5[_0])if(Tx(a)&&(z0.tagNameCheck instanceof RegExp&&E9(z0.tagNameCheck,a)||z0.tagNameCheck instanceof Function&&z0.tagNameCheck(a))&&(z0.attributeNameCheck instanceof RegExp&&E9(z0.attributeNameCheck,_0)||z0.attributeNameCheck instanceof Function&&z0.attributeNameCheck(_0))||_0==="is"&&z0.allowCustomizedBuiltInElements&&(z0.tagNameCheck instanceof RegExp&&E9(z0.tagNameCheck,m0)||z0.tagNameCheck instanceof Function&&z0.tagNameCheck(m0)));else return!1;else if(t[_0]);else if(E9(T0,GJ(m0,R0,"")));else if((_0==="src"||_0==="xlink:href"||_0==="href")&&a!=="script"&&$60(m0,"data:")===0&&p[a]);else if(v5&&!E9(P0,GJ(m0,R0,"")));else if(m0)return!1;return!0},Tx=function V1(a){return a.indexOf("-")>0},wx=function V1(a){let _0,m0,h6,E8;GQ("beforeSanitizeAttributes",a,null);let{attributes:Z4}=a;if(!Z4)return;let B5={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:d0};E8=Z4.length;while(E8--){_0=Z4[E8];let{name:aJ,namespaceURI:pR}=_0;if(m0=aJ==="value"?_0.value:Q60(_0.value),h6=b1(aJ),B5.attrName=h6,B5.attrValue=m0,B5.keepAttr=!0,B5.forceKeepAttr=void 0,GQ("uponSanitizeAttribute",a,B5),m0=B5.attrValue,B5.forceKeepAttr)continue;if(xU(aJ,a),!B5.keepAttr)continue;if(!a8&&E9(/\/>/i,m0)){xU(aJ,a);continue}if(h5)m0=GJ(m0,c," "),m0=GJ(m0,C," "),m0=GJ(m0,u," ");let Lx=b1(a.nodeName);if(!Nx(Lx,h6,m0))continue;if(VW&&(h6==="id"||h6==="name"))xU(aJ,a),m0=fR+m0;if(R&&typeof W==="object"&&typeof W.getAttributeType==="function")if(pR);else switch(W.getAttributeType(Lx,h6)){case"TrustedHTML":{m0=R.createHTML(m0);break}case"TrustedScriptURL":{m0=R.createScriptURL(m0);break}}try{if(pR)a.setAttributeNS(pR,aJ,m0);else a.setAttribute(aJ,m0);mS($.removed)}catch(WZ0){}}GQ("afterSanitizeAttributes",a,null)},K00=function V1(a){let _0,m0=WW(a);GQ("beforeSanitizeShadowDOM",a,null);while(_0=m0.nextNode()){if(GQ("uponSanitizeShadowNode",_0,null),Ox(_0))continue;if(_0.content instanceof Z)V1(_0.content);wx(_0)}GQ("afterSanitizeShadowDOM",a,null)};return $.sanitize=function(V1){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_0,m0,h6,E8;if(o1=!V1,o1)V1="<!-->";if(typeof V1!=="string"&&!BW(V1))if(typeof V1.toString==="function"){if(V1=V1.toString(),typeof V1!=="string")throw Kz("dirty is not a string, aborting")}else throw Kz("toString is not a function");if(!$.isSupported)return V1;if(!Q4)a4(a);if($.removed=[],typeof V1==="string")s=!1;if(s){if(V1.nodeName){let aJ=b1(V1.nodeName);if(!A0[aJ]||B8[aJ])throw Kz("root node is forbidden and cannot be sanitized in-place")}}else if(V1 instanceof q)if(_0=bU("<!---->"),m0=_0.ownerDocument.importNode(V1,!0),m0.nodeType===1&&m0.nodeName==="BODY")_0=m0;else if(m0.nodeName==="HTML")_0=m0;else _0.appendChild(m0);else{if(!o7&&!h5&&!X1&&V1.indexOf("<")===-1)return R&&T5?R.createHTML(V1):V1;if(_0=bU(V1),!_0)return o7?null:T5?M:""}if(_0&&X4)sJ(_0.firstChild);let Z4=WW(s?V1:_0);while(h6=Z4.nextNode()){if(Ox(h6))continue;if(h6.content instanceof Z)K00(h6.content);wx(h6)}if(s)return V1;if(o7){if(ZQ){E8=w.call(_0.ownerDocument);while(_0.firstChild)E8.appendChild(_0.firstChild)}else E8=_0;if(d0.shadowroot||d0.shadowrootmode)E8=S.call(Q,E8,!0);return E8}let B5=X1?_0.outerHTML:_0.innerHTML;if(X1&&A0["!doctype"]&&_0.ownerDocument&&_0.ownerDocument.doctype&&_0.ownerDocument.doctype.name&&E9(iS,_0.ownerDocument.doctype.name))B5="<!DOCTYPE "+_0.ownerDocument.doctype.name+`>
`+B5;if(h5)B5=GJ(B5,c," "),B5=GJ(B5,C," "),B5=GJ(B5,u," ");return R&&T5?R.createHTML(B5):B5},$.setConfig=function(V1){a4(V1),Q4=!0},$.clearConfig=function(){X5=null,Q4=!1},$.isValidAttribute=function(V1,a,_0){if(!X5)a4({});let m0=b1(V1),h6=b1(a);return Nx(m0,h6,_0)},$.addHook=function(V1,a){if(typeof a!=="function")return;g[V1]=g[V1]||[],Fz(g[V1],a)},$.removeHook=function(V1){if(g[V1])return mS(g[V1])},$.removeHooks=function(V1){if(g[V1])g[V1]=[]},$.removeAllHooks=function(){g={}},$}var aS,pS,i10,n10,o10,y7,qJ,t10,eM,J_,e10,mS,Fz,jF,rM,J60,GJ,$60,Q60,E9,Kz,uS,iM,nM,Y60,oM,Z60,cS,lS,tM,dS,HF,G60,q60,U60,z60,H60,rS,j60,V60,iS,sS,W60=()=>typeof window==="undefined"?null:window,B60=function J($,Q){if(typeof $!=="object"||typeof $.createPolicy!=="function")return null;let X=null,Y="data-tt-policy-suffix";if(Q&&Q.hasAttribute(Y))X=Q.getAttribute(Y);let Z="dompurify"+(X?"#"+X:"");try{return $.createPolicy(Z,{createHTML(G){return G},createScriptURL(G){return G}})}catch(G){return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},U$,Fq0,Kq0,VF,Aq0,Pq0,Dq0,Az,WF,Rq0,Mq0;var BF=N(()=>{/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */({entries:aS,setPrototypeOf:pS,isFrozen:i10,getPrototypeOf:n10,getOwnPropertyDescriptor:o10}=Object),{freeze:y7,seal:qJ,create:t10}=Object,{apply:eM,construct:J_}=typeof Reflect!=="undefined"&&Reflect;if(!eM)eM=function J($,Q,X){return $.apply(Q,X)};if(!y7)y7=function J($){return $};if(!qJ)qJ=function J($){return $};if(!J_)J_=function J($,Q){return new $(...Q)};e10=M4(Array.prototype.forEach),mS=M4(Array.prototype.pop),Fz=M4(Array.prototype.push),jF=M4(String.prototype.toLowerCase),rM=M4(String.prototype.toString),J60=M4(String.prototype.match),GJ=M4(String.prototype.replace),$60=M4(String.prototype.indexOf),Q60=M4(String.prototype.trim),E9=M4(RegExp.prototype.test),Kz=X60(TypeError);uS=y7(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),iM=y7(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nM=y7(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Y60=y7(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),oM=y7(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Z60=y7(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cS=y7(["#text"]),lS=y7(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),tM=y7(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dS=y7(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),HF=y7(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G60=qJ(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q60=qJ(/<%[\w\W]*|[\w\W]*%>/gm),U60=qJ(/\${[\w\W]*}/gm),z60=qJ(/^data-[\-\w.\u00B7-\uFFFF]/),H60=qJ(/^aria-[\-\w]+$/),rS=qJ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j60=qJ(/^(?:\w+script|data):/i),V60=qJ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iS=qJ(/^html$/i),sS=Object.freeze({__proto__:null,MUSTACHE_EXPR:G60,ERB_EXPR:q60,TMPLIT_EXPR:U60,DATA_ATTR:z60,ARIA_ATTR:H60,IS_ALLOWED_URI:rS,IS_SCRIPT_OR_DATA:j60,ATTR_WHITESPACE:V60,DOCTYPE_NAME:iS});U$=nS(),Fq0=U$.version,Kq0=U$.isSupported,VF=U$.sanitize,Aq0=U$.setConfig,Pq0=U$.clearConfig,Dq0=U$.isValidAttribute,Az=U$.addHook,WF=U$.removeHook,Rq0=U$.removeHooks,Mq0=U$.removeAllHooks});function Dz(J,$){if(I0.isUri(J))return AQ(J.scheme,$);else return cG(J,$+":")}function $_(J,...$){return $.some((Q)=>Dz(J,Q))}class eS{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${$1.vscodeRemoteResource}`}setPreferredWebSchema(J){this._preferredWebSchema=J}rewrite(J){if(this._delegate)try{return this._delegate(J)}catch(G){return o0(G),J}let $=J.authority,Q=this._hosts[$];if(Q&&Q.indexOf(":")!==-1&&Q.indexOf("[")===-1)Q=`[${Q}]`;let X=this._ports[$],Y=this._connectionTokens[$],Z=`path=${encodeURIComponent(J.path)}`;if(typeof Y==="string")Z+=`&${F60}=${encodeURIComponent(Y)}`;return I0.from({scheme:nJ?this._preferredWebSchema:$1.vscodeRemoteResource,authority:`${Q}:${X}`,path:this._remoteResourcesPath,query:Z})}}class Pz{uriToBrowserUri(J){if(J.scheme===$1.vscodeRemote)return Q_.rewrite(J);if(J.scheme===$1.file&&(SX||rx===`${$1.vscodeFileResource}://${Pz.FALLBACK_AUTHORITY}`))return J.with({scheme:$1.vscodeFileResource,authority:J.authority||Pz.FALLBACK_AUTHORITY,query:null,fragment:null});return J}}var $1,F60="tkn",Q_,K60="vscode-app",FF,tS;var U9=N(()=>{P1();M1();t0();o6();(function(J){J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm"})($1||($1={}));Q_=new eS;Pz.FALLBACK_AUTHORITY=K60;FF=new Pz;(function(J){let $=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);J.CoopAndCoep=Object.freeze($.get("3"));let Q="vscode-coi";function X(Z){let G;if(typeof Z==="string")G=new URL(Z).searchParams;else if(Z instanceof URL)G=Z.searchParams;else if(I0.isUri(Z))G=new URL(Z.toString(!0)).searchParams;let q=G===null||G===void 0?void 0:G.get(Q);if(!q)return;return $.get(q)}J.getHeadersFromQuery=X;function Y(Z,G,q){if(!globalThis.crossOriginIsolated)return;let U=G&&q?"3":q?"2":"1";if(Z instanceof URLSearchParams)Z.set(Q,U);else Z[Q]=U}J.addSearchParam=Y})(tS||(tS={}))});function rX(J){return Mz(J,0)}function Mz(J,$){switch(typeof J){case"object":if(J===null)return kQ(349,$);else if(Array.isArray(J))return P60(J,$);return D60(J,$);case"string":return KF(J,$);case"boolean":return A60(J,$);case"number":return kQ(J,$);case"undefined":return kQ(937,$);default:return kQ(617,$)}}function kQ(J,$){return($<<5)-$+J|0}function A60(J,$){return kQ(J?433:863,$)}function KF(J,$){$=kQ(149417,$);for(let Q=0,X=J.length;Q<X;Q++)$=kQ(J.charCodeAt(Q),$);return $}function P60(J,$){return $=kQ(104579,$),J.reduce((Q,X)=>Mz(X,Q),$)}function D60(J,$){return $=kQ(181387,$),Object.keys(J).sort().reduce((Q,X)=>{return Q=KF(X,Q),Mz(J[X],Q)},$)}function X_(J,$,Q=32){let X=Q-$,Y=~((1<<X)-1);return(J<<$|(Y&J)>>>X)>>>0}function JC(J,$=0,Q=J.byteLength,X=0){for(let Y=0;Y<Q;Y++)J[$+Y]=X}function R60(J,$,Q="0"){while(J.length<$)J=Q+J;return J}function Rz(J,$=32){if(J instanceof ArrayBuffer)return Array.from(new Uint8Array(J)).map((Q)=>Q.toString(16).padStart(2,"0")).join("");return R60((J>>>0).toString(16),$/4)}class _z{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(J){let $=J.length;if($===0)return;let Q=this._buff,X=this._buffLen,Y=this._leftoverHighSurrogate,Z,G;if(Y!==0)Z=Y,G=-1,Y=0;else Z=J.charCodeAt(0),G=0;while(!0){let q=Z;if(G6(Z))if(G+1<$){let U=J.charCodeAt(G+1);if(X$(U))G++,q=SB(Z,U);else q=65533}else{Y=Z;break}else if(X$(Z))q=65533;if(X=this._push(Q,X,q),G++,G<$)Z=J.charCodeAt(G);else break}this._buffLen=X,this._leftoverHighSurrogate=Y}_push(J,$,Q){if(Q<128)J[$++]=Q;else if(Q<2048)J[$++]=192|(Q&1984)>>>6,J[$++]=128|(Q&63)>>>0;else if(Q<65536)J[$++]=224|(Q&61440)>>>12,J[$++]=128|(Q&4032)>>>6,J[$++]=128|(Q&63)>>>0;else J[$++]=240|(Q&1835008)>>>18,J[$++]=128|(Q&258048)>>>12,J[$++]=128|(Q&4032)>>>6,J[$++]=128|(Q&63)>>>0;if($>=64)this._step(),$-=64,this._totalLen+=64,J[0]=J[64],J[1]=J[65],J[2]=J[66];return $}digest(){if(!this._finished){if(this._finished=!0,this._leftoverHighSurrogate)this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533);this._totalLen+=this._buffLen,this._wrapUp()}return Rz(this._h0)+Rz(this._h1)+Rz(this._h2)+Rz(this._h3)+Rz(this._h4)}_wrapUp(){if(this._buff[this._buffLen++]=128,JC(this._buff,this._buffLen),this._buffLen>56)this._step(),JC(this._buff);let J=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(J/4294967296),!1),this._buffDV.setUint32(60,J%4294967296,!1),this._step()}_step(){let J=_z._bigBlock32,$=this._buffDV;for(let H=0;H<64;H+=4)J.setUint32(H,$.getUint32(H,!1),!1);for(let H=64;H<320;H+=4)J.setUint32(H,X_(J.getUint32(H-12,!1)^J.getUint32(H-32,!1)^J.getUint32(H-56,!1)^J.getUint32(H-64,!1),1),!1);let Q=this._h0,X=this._h1,Y=this._h2,Z=this._h3,G=this._h4,q,U,z;for(let H=0;H<80;H++){if(H<20)q=X&Y|~X&Z,U=1518500249;else if(H<40)q=X^Y^Z,U=1859775393;else if(H<60)q=X&Y|X&Z|Y&Z,U=2400959708;else q=X^Y^Z,U=3395469782;z=X_(Q,5)+q+G+U+J.getUint32(H*4,!1)&4294967295,G=Z,Z=Y,Y=X_(X,30),X=Q,Q=z}this._h0=this._h0+Q&4294967295,this._h1=this._h1+X&4294967295,this._h2=this._h2+Y&4294967295,this._h3=this._h3+Z&4294967295,this._h4=this._h4+G&4294967295}}var iX=N(()=>{t0();_z._bigBlock32=new DataView(new ArrayBuffer(320))});function I5(J){while(J.firstChild)J.firstChild.remove()}class ZC{constructor(J,$,Q,X){this._node=J,this._type=$,this._handler=Q,this._options=X||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){if(!this._handler)return;this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null}}function m(J,$,Q,X){return new ZC(J,$,Q,X)}function _60(J,$){return function(Q){return $(new $8(J,Q))}}function O60(J){return function($){return J(new K1($))}}function Nz(J,$,Q){return $q(J,$,Q)}class AF{constructor(J,$=0){this._runner=J,this.priority=$,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(this._canceled)return;try{this._runner()}catch(J){o0(J)}}static sort(J,$){return $.priority-J.priority}}function Z_(J){return B0(J).getComputedStyle(J,null)}function H$(J,$){let Q=B0(J),X=Q.document;if(J!==X.body)return new d1(J.clientWidth,J.clientHeight);if(O9&&(Q===null||Q===void 0?void 0:Q.visualViewport))return new d1(Q.visualViewport.width,Q.visualViewport.height);if((Q===null||Q===void 0?void 0:Q.innerWidth)&&Q.innerHeight)return new d1(Q.innerWidth,Q.innerHeight);if(X.body&&X.body.clientWidth&&X.body.clientHeight)return new d1(X.body.clientWidth,X.body.clientHeight);if(X.documentElement&&X.documentElement.clientWidth&&X.documentElement.clientHeight)return new d1(X.documentElement.clientWidth,X.documentElement.clientHeight);if($)return H$($);throw new Error("Unable to figure out browser width and height")}class g6{static convertToPixels(J,$){return parseFloat($)||0}static getDimension(J,$,Q){let X=Z_(J),Y=X?X.getPropertyValue($):"0";return g6.convertToPixels(J,Y)}static getBorderLeftWidth(J){return g6.getDimension(J,"border-left-width","borderLeftWidth")}static getBorderRightWidth(J){return g6.getDimension(J,"border-right-width","borderRightWidth")}static getBorderTopWidth(J){return g6.getDimension(J,"border-top-width","borderTopWidth")}static getBorderBottomWidth(J){return g6.getDimension(J,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(J){return g6.getDimension(J,"padding-left","paddingLeft")}static getPaddingRight(J){return g6.getDimension(J,"padding-right","paddingRight")}static getPaddingTop(J){return g6.getDimension(J,"padding-top","paddingTop")}static getPaddingBottom(J){return g6.getDimension(J,"padding-bottom","paddingBottom")}static getMarginLeft(J){return g6.getDimension(J,"margin-left","marginLeft")}static getMarginTop(J){return g6.getDimension(J,"margin-top","marginTop")}static getMarginRight(J){return g6.getDimension(J,"margin-right","marginRight")}static getMarginBottom(J){return g6.getDimension(J,"margin-bottom","marginBottom")}}class d1{constructor(J,$){this.width=J,this.height=$}with(J=this.width,$=this.height){if(J!==this.width||$!==this.height)return new d1(J,$);else return this}static is(J){return typeof J==="object"&&typeof J.height==="number"&&typeof J.width==="number"}static lift(J){if(J instanceof d1)return J;else return new d1(J.width,J.height)}static equals(J,$){if(J===$)return!0;if(!J||!$)return!1;return J.width===$.width&&J.height===$.height}}function GC(J){let{offsetParent:$,offsetTop:Q,offsetLeft:X}=J;while((J=J.parentNode)!==null&&J!==J.ownerDocument.body&&J!==J.ownerDocument.documentElement){Q-=J.scrollTop;let Y=zC(J)?null:Z_(J);if(Y)X-=Y.direction!=="rtl"?J.scrollLeft:-J.scrollLeft;if(J===$)X+=g6.getBorderLeftWidth(J),Q+=g6.getBorderTopWidth(J),Q+=J.offsetTop,X+=J.offsetLeft,$=J.offsetParent}return{left:X,top:Q}}function qC(J,$,Q){if(typeof $==="number")J.style.width=`${$}px`;if(typeof Q==="number")J.style.height=`${Q}px`}function P5(J){let $=J.getBoundingClientRect(),Q=B0(J);return{left:$.left+Q.scrollX,top:$.top+Q.scrollY,width:$.width,height:$.height}}function DF(J){let $=J,Q=1;do{let X=Z_($).zoom;if(X!==null&&X!==void 0&&X!=="1")Q*=X;$=$.parentElement}while($!==null&&$!==$.ownerDocument.documentElement);return Q}function Yq(J){let $=g6.getMarginLeft(J)+g6.getMarginRight(J);return J.offsetWidth+$}function RF(J){let $=g6.getBorderLeftWidth(J)+g6.getBorderRightWidth(J),Q=g6.getPaddingLeft(J)+g6.getPaddingRight(J);return J.offsetWidth-$-Q}function UC(J){let $=g6.getBorderTopWidth(J)+g6.getBorderBottomWidth(J),Q=g6.getPaddingTop(J)+g6.getPaddingBottom(J);return J.offsetHeight-$-Q}function wz(J){let $=g6.getMarginTop(J)+g6.getMarginBottom(J);return J.offsetHeight+$}function p6(J,$){return Boolean($===null||$===void 0?void 0:$.contains(J))}function N60(J,$,Q){while(J&&J.nodeType===J.ELEMENT_NODE){if(J.classList.contains($))return J;if(Q){if(typeof Q==="string"){if(J.classList.contains(Q))return null}else if(J===Q)return null}J=J.parentNode}return null}function MF(J,$,Q){return!!N60(J,$,Q)}function zC(J){return J&&!!J.host&&!!J.mode}function iZ(J){return!!EQ(J)}function EQ(J){var $;while(J.parentNode){if(J===(($=J.ownerDocument)===null||$===void 0?void 0:$.body))return null;J=J.parentNode}return zC(J)?J:null}function e6(){let J=OF().activeElement;while(J===null||J===void 0?void 0:J.shadowRoot)J=J.shadowRoot.activeElement;return J}function nZ(J){return e6()===J}function _F(J){return p6(e6(),J)}function OF(){var J;if(M60()<=1)return z1.document;return(J=Array.from(XC()).map(({window:Q})=>Q.document).find((Q)=>Q.hasFocus()))!==null&&J!==void 0?J:z1.document}function HC(){var J,$;return($=(J=OF().defaultView)===null||J===void 0?void 0:J.window)!==null&&$!==void 0?$:z1}function D5(J=z1.document.head,$,Q){let X=document.createElement("style");if(X.type="text/css",X.media="screen",$===null||$===void 0||$(X),J.appendChild(X),Q)Q.add(K0(()=>J.removeChild(X)));if(J===z1.document.head){let Y=new Set;jC.set(X,Y);for(let{window:Z,disposables:G}of XC()){if(Z===z1)continue;let q=G.add(T60(X,Y,Z));Q===null||Q===void 0||Q.add(q)}}return X}function T60(J,$,Q){var X,Y;let Z=new r,G=J.cloneNode(!0);Q.document.head.appendChild(G),Z.add(K0(()=>Q.document.head.removeChild(G)));for(let q of k60(J))(X=G.sheet)===null||X===void 0||X.insertRule(q.cssText,(Y=G.sheet)===null||Y===void 0?void 0:Y.cssRules.length);return Z.add(w60.observe(J,Z,{childList:!0})(()=>{G.textContent=J.textContent})),$.add(G),Z.add(K0(()=>$.delete(G))),Z}function L60(){if(!Y_)Y_=D5();return Y_}function k60(J){var $,Q;if(($=J===null||J===void 0?void 0:J.sheet)===null||$===void 0?void 0:$.rules)return J.sheet.rules;if((Q=J===null||J===void 0?void 0:J.sheet)===null||Q===void 0?void 0:Q.cssRules)return J.sheet.cssRules;return[]}function NF(J,$,Q=L60()){var X,Y;if(!Q||!$)return;(X=Q.sheet)===null||X===void 0||X.insertRule(`${J} {${$}}`,0);for(let Z of(Y=jC.get(Q))!==null&&Y!==void 0?Y:[])NF(J,$,Z)}function Zq(J){return J instanceof MouseEvent||J instanceof B0(J).MouseEvent}function Gq(J){return J instanceof KeyboardEvent||J instanceof B0(J).KeyboardEvent}function VC(J){let $=J;return!!($&&typeof $.preventDefault==="function"&&typeof $.stopPropagation==="function")}function WC(J){let $=[];for(let Q=0;J&&J.nodeType===J.ELEMENT_NODE;Q++)$[Q]=J.scrollTop,J=J.parentNode;return $}function BC(J,$){for(let Q=0;J&&J.nodeType===J.ELEMENT_NODE;Q++){if(J.scrollTop!==$[Q])J.scrollTop=$[Q];J=J.parentNode}}function IQ(J){return new PF(J)}function FC(J,$){return J.after($),$}function Z0(J,...$){if(J.append(...$),$.length===1&&typeof $[0]!=="string")return $[0]}function qq(J,$){return J.insertBefore($,J.firstChild),$}function V5(J,...$){J.innerText="",Z0(J,...$)}function KC(J,$,Q,...X){let Y=E60.exec($);if(!Y)throw new Error("Bad use of emmet");let Z=Y[1]||"div",G;if(J!==Oz.HTML)G=document.createElementNS(J,Z);else G=document.createElement(Z);if(Y[3])G.id=Y[3];if(Y[4])G.className=Y[4].replace(/\./g," ").trim();if(Q)Object.entries(Q).forEach(([q,U])=>{if(typeof U==="undefined")return;if(/^on\w+$/.test(q))G[q]=U;else if(q==="selected"){if(U)G.setAttribute(q,"true")}else G.setAttribute(q,U)});return G.append(...X),G}function q0(J,$,...Q){return KC(Oz.HTML,J,$,...Q)}function x7(...J){for(let $ of J)$.style.display="",$.removeAttribute("aria-hidden")}function b7(...J){for(let $ of J)$.style.display="none",$.setAttribute("aria-hidden","true")}function G_(J,$){let Q=J.devicePixelRatio*$;return Math.max(1,Math.floor(Q))/J.devicePixelRatio}function TF(J){z1.open(J,"_blank","noopener")}function AC(J,$){let Q=()=>{$(),X=A5(J,Q)},X=A5(J,Q);return K0(()=>X.dispose())}function _4(J){if(!J)return"url('')";return`url('${FF.uriToBrowserUri(J).toString(!0).replace(/'/g,"%27")}')`}function q_(J){return`'${J.replace(/'/g,"%27")}'`}function I9(J,$){if(J!==void 0){let Q=J.match(/^\s*var\((.+)\)$/);if(Q){let X=Q[1].split(",",2);if(X.length===2)$=I9(X[1].trim(),$);return`var(${X[0]}, ${$})`}return J}return $}function PC(J,$=!1){let Q=document.createElement("a");return Az("afterSanitizeAttributes",(X)=>{for(let Y of["href","src"])if(X.hasAttribute(Y)){let Z=X.getAttribute(Y);if(Y==="href"&&Z.startsWith("#"))continue;if(Q.href=Z,!J.includes(Q.protocol.replace(/:$/,""))){if($&&Y==="src"&&Q.href.startsWith("data:"))continue;X.removeAttribute(Y)}}}),K0(()=>{WF("afterSanitizeAttributes")})}function p1(J,...$){let Q,X;if(Array.isArray($[0]))Q={},X=$[0];else Q=$[0]||{},X=$[1];let Y=I60.exec(J);if(!Y||!Y.groups)throw new Error("Bad use of h");let Z=Y.groups.tag||"div",G=document.createElement(Z);if(Y.groups.id)G.id=Y.groups.id;let q=[];if(Y.groups.class){for(let z of Y.groups.class.split("."))if(z!=="")q.push(z)}if(Q.className!==void 0){for(let z of Q.className.split("."))if(z!=="")q.push(z)}if(q.length>0)G.className=q.join(" ");let U={};if(Y.groups.name)U[Y.groups.name]=G;if(X){for(let z of X)if(z instanceof HTMLElement)G.appendChild(z);else if(typeof z==="string")G.append(z);else if("root"in z)Object.assign(U,z),G.appendChild(z.root)}for(let[z,H]of Object.entries(Q))if(z==="className")continue;else if(z==="style")for(let[j,V]of Object.entries(H))G.style.setProperty(QC(j),typeof V==="number"?V+"px":""+V);else if(z==="tabIndex")G.tabIndex=H;else G.setAttribute(QC(z),H.toString());return U.root=G,U}function QC(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Cq0,B0,vq0,XC,M60,$C,hq0,fq0,aZ,YC,gq0,i1=function J($,Q,X,Y){let Z=X;if(Q==="click"||Q==="mousedown")Z=_60(B0($),X);else if(Q==="keydown"||Q==="keypress"||Q==="keyup")Z=O60(X);return m($,Q,Z,Y)},Tz,Xq,A5,rZ,jC,w60,Y_=null,$0,c0,PF,E60,Oz,DC,pq0,z$,U_,I60;var D0=N(()=>{B7();YF();R8();k9();u1();P1();F0();BF();Q0();U9();M1();iX();J8();({registerWindow:Cq0,getWindow:B0,getDocument:vq0,getWindows:XC,getWindowsCount:M60,getWindowId:$C,getWindowById:hq0,hasWindow:fq0,onDidRegisterWindow:aZ,onWillUnregisterWindow:YC,onDidUnregisterWindow:gq0}=function(){let J=new Map;US(z1,1),J.set(z1.vscodeWindowId,{window:z1,disposables:new r});let $=new y,Q=new y,X=new y;return{onDidRegisterWindow:$.event,onWillUnregisterWindow:X.event,onDidUnregisterWindow:Q.event,registerWindow(Y){if(J.has(Y.vscodeWindowId))return h.None;let Z=new r,G={window:Y,disposables:Z.add(new r)};return J.set(Y.vscodeWindowId,G),Z.add(K0(()=>{J.delete(Y.vscodeWindowId),Q.fire(Y)})),Z.add(m(Y,$0.BEFORE_UNLOAD,()=>{X.fire(Y)})),$.fire(G),Z},getWindows(){return J.values()},getWindowsCount(){return J.size},getWindowId(Y){return Y.vscodeWindowId},hasWindow(Y){return J.has(Y)},getWindowById(Y){return J.get(Y)},getWindow(Y){var Z;let G=Y;if((Z=G===null||G===void 0?void 0:G.ownerDocument)===null||Z===void 0?void 0:Z.defaultView)return G.ownerDocument.defaultView.window;let q=Y;if(q===null||q===void 0?void 0:q.view)return q.view.window;return z1},getDocument(Y){return B0(Y).document}}}());Tz=class Tz extends UF{constructor(J,$){super(J,$)}};rZ=class rZ extends sZ{constructor(J){super();this.defaultTarget=J&&B0(J)}cancelAndSet(J,$,Q){return super.cancelAndSet(J,$,Q!==null&&Q!==void 0?Q:this.defaultTarget)}};(function(){let J=new Map,$=new Map,Q=new Map,X=new Map,Y=(Z)=>{var G;Q.set(Z,!1);let q=(G=J.get(Z))!==null&&G!==void 0?G:[];$.set(Z,q),J.set(Z,[]),X.set(Z,!0);while(q.length>0)q.sort(AF.sort),q.shift().execute();X.set(Z,!1)};A5=(Z,G,q=0)=>{let U=$C(Z),z=new AF(G,q),H=J.get(U);if(!H)H=[],J.set(U,H);if(H.push(z),!Q.get(U))Q.set(U,!0),Z.requestAnimationFrame(()=>Y(U));return z},Xq=(Z,G,q)=>{let U=$C(Z);if(X.get(U)){let z=new AF(G,q),H=$.get(U);if(!H)H=[],$.set(U,H);return H.push(z),z}else return A5(Z,G,q)}})();d1.None=new d1(0,0);jC=new Map;w60=new class{constructor(){this.mutationObservers=new Map}observe(J,$,Q){let X=this.mutationObservers.get(J);if(!X)X=new Map,this.mutationObservers.set(J,X);let Y=rX(Q),Z=X.get(Y);if(!Z){let G=new y,q=new MutationObserver((z)=>G.fire(z));q.observe(J,Q);let U=Z={users:1,observer:q,onDidMutate:G.event};$.add(K0(()=>{if(U.users-=1,U.users===0){if(G.dispose(),q.disconnect(),X===null||X===void 0||X.delete(Y),(X===null||X===void 0?void 0:X.size)===0)this.mutationObservers.delete(J)}})),X.set(Y,Z)}else Z.users+=1;return Z.onDidMutate}};$0={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:QJ?"webkitAnimationStart":"animationstart",ANIMATION_END:QJ?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:QJ?"webkitAnimationIteration":"animationiteration"};c0={stop:(J,$)=>{if(J.preventDefault(),$)J.stopPropagation();return J}};PF=class PF extends h{static hasFocusWithin(J){if(J instanceof HTMLElement){let $=EQ(J),Q=$?$.activeElement:J.ownerDocument.activeElement;return p6(Q,J)}else{let $=J;return p6($.document.activeElement,$.document)}}constructor(J){super();this._onDidFocus=this._register(new y),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event;let $=PF.hasFocusWithin(J),Q=!1,X=()=>{if(Q=!1,!$)$=!0,this._onDidFocus.fire()},Y=()=>{if($)Q=!0,(J instanceof HTMLElement?B0(J):J).setTimeout(()=>{if(Q)Q=!1,$=!1,this._onDidBlur.fire()},0)};if(this._refreshStateHandler=()=>{if(PF.hasFocusWithin(J)!==$)if($)Y();else X()},this._register(m(J,$0.FOCUS,X,!0)),this._register(m(J,$0.BLUR,Y,!0)),J instanceof HTMLElement)this._register(m(J,$0.FOCUS_IN,()=>this._refreshStateHandler())),this._register(m(J,$0.FOCUS_OUT,()=>this._refreshStateHandler()))}};E60=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(J){J.HTML="http://www.w3.org/1999/xhtml",J.SVG="http://www.w3.org/2000/svg"})(Oz||(Oz={}));q0.SVG=function(J,$,...Q){return KC(Oz.SVG,J,$,...Q)};Q_.setPreferredWebSchema(/^https:/.test(z1.location.href)?"https":"http");DC=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),pq0=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});z$=class z$ extends y{constructor(){super();this._subscriptions=new r,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(J0.runAndSubscribe(aZ,({window:J,disposables:$})=>this.registerListeners(J,$),{window:z1,disposables:this._subscriptions}))}registerListeners(J,$){$.add(m(J,"keydown",(Q)=>{if(Q.defaultPrevented)return;let X=new K1(Q);if(X.keyCode===6&&Q.repeat)return;if(Q.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Q.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Q.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Q.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(X.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;if(this._keyStatus.altKey=Q.altKey,this._keyStatus.ctrlKey=Q.ctrlKey,this._keyStatus.metaKey=Q.metaKey,this._keyStatus.shiftKey=Q.shiftKey,this._keyStatus.lastKeyPressed)this._keyStatus.event=Q,this.fire(this._keyStatus)},!0)),$.add(m(J,"keyup",(Q)=>{if(Q.defaultPrevented)return;if(!Q.altKey&&this._keyStatus.altKey)this._keyStatus.lastKeyReleased="alt";else if(!Q.ctrlKey&&this._keyStatus.ctrlKey)this._keyStatus.lastKeyReleased="ctrl";else if(!Q.metaKey&&this._keyStatus.metaKey)this._keyStatus.lastKeyReleased="meta";else if(!Q.shiftKey&&this._keyStatus.shiftKey)this._keyStatus.lastKeyReleased="shift";else this._keyStatus.lastKeyReleased=void 0;if(this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased)this._keyStatus.lastKeyPressed=void 0;if(this._keyStatus.altKey=Q.altKey,this._keyStatus.ctrlKey=Q.ctrlKey,this._keyStatus.metaKey=Q.metaKey,this._keyStatus.shiftKey=Q.shiftKey,this._keyStatus.lastKeyReleased)this._keyStatus.event=Q,this.fire(this._keyStatus)},!0)),$.add(m(J.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J.document.body,"mousemove",(Q)=>{if(Q.buttons)this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){if(!z$.instance)z$.instance=new z$;return z$.instance}dispose(){super.dispose(),this._subscriptions.dispose()}};U_=class U_ extends h{constructor(J,$){super();this.element=J,this.callbacks=$,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){if(this.callbacks.onDragStart)this._register(m(this.element,$0.DRAG_START,(J)=>{var $,Q;(Q=($=this.callbacks).onDragStart)===null||Q===void 0||Q.call($,J)}));if(this.callbacks.onDrag)this._register(m(this.element,$0.DRAG,(J)=>{var $,Q;(Q=($=this.callbacks).onDrag)===null||Q===void 0||Q.call($,J)}));this._register(m(this.element,$0.DRAG_ENTER,(J)=>{var $,Q;this.counter++,this.dragStartTime=J.timeStamp,(Q=($=this.callbacks).onDragEnter)===null||Q===void 0||Q.call($,J)})),this._register(m(this.element,$0.DRAG_OVER,(J)=>{var $,Q;J.preventDefault(),(Q=($=this.callbacks).onDragOver)===null||Q===void 0||Q.call($,J,J.timeStamp-this.dragStartTime)})),this._register(m(this.element,$0.DRAG_LEAVE,(J)=>{var $,Q;if(this.counter--,this.counter===0)this.dragStartTime=0,(Q=($=this.callbacks).onDragLeave)===null||Q===void 0||Q.call($,J)})),this._register(m(this.element,$0.DRAG_END,(J)=>{var $,Q;this.counter=0,this.dragStartTime=0,(Q=($=this.callbacks).onDragEnd)===null||Q===void 0||Q.call($,J)})),this._register(m(this.element,$0.DROP,(J)=>{var $,Q;this.counter=0,this.dragStartTime=0,(Q=($=this.callbacks).onDrop)===null||Q===void 0||Q.call($,J)}))}};I60=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/});class Uq{constructor(J){this.id=J.id,this.precondition=J.precondition,this._kbOpts=J.kbOpts,this._menuOpts=J.menuOpts,this.metadata=J.metadata}register(){if(Array.isArray(this._menuOpts))this._menuOpts.forEach(this._registerMenuItem,this);else if(this._menuOpts)this._registerMenuItem(this._menuOpts);if(this._kbOpts){let J=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let $ of J){let Q=$.kbExpr;if(this.precondition)if(Q)Q=N0.and(Q,this.precondition);else Q=this.precondition;let X={id:this.id,weight:$.weight,args:$.args,when:Q,primary:$.primary,secondary:$.secondary,win:$.win,linux:$.linux,mac:$.mac};ZJ.registerKeybindingRule(X)}}z6.registerCommand({id:this.id,handler:(J,$)=>this.runCommand(J,$),metadata:this.metadata})}_registerMenuItem(J){q$.appendMenuItem(J.menuId,{group:J.group,command:{id:this.id,title:J.title,icon:J.icon,precondition:this.precondition},when:J.when,order:J.order})}}function w0(J){return y9.INSTANCE.registerEditorCommand(J),J}function J5(J){let $=new J;return y9.INSTANCE.registerEditorAction($),$}function RC(J){y9.INSTANCE.registerEditorAction(J)}function x9(J,$,Q){y9.INSTANCE.registerEditorContribution(J,$,Q)}class y9{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(J,$,Q){this.editorContributions.push({id:J,ctor:$,instantiation:Q})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(J){J.register(),this.editorActions.push(J)}getEditorActions(){return this.editorActions}registerEditorCommand(J){J.register(),this.editorCommands[J.id]=J}getEditorCommand(J){return this.editorCommands[J]||null}}function Lz(J){return J.register(),J}var wF,z_,S7,O4,nX,y60,H_,j_,MC;var b9=N(()=>{g0();o6();Y9();_Q();qz();P4();e8();m1();u0();tG();$7();sX();G9();D0();wF=class wF extends Uq{constructor(){super(...arguments);this._implementations=[]}addImplementation(J,$,Q,X){return this._implementations.push({priority:J,name:$,implementation:Q,when:X}),this._implementations.sort((Y,Z)=>Z.priority-Y.priority),{dispose:()=>{for(let Y=0;Y<this._implementations.length;Y++)if(this._implementations[Y].implementation===Q){this._implementations.splice(Y,1);return}}}}runCommand(J,$){let Q=J.get(Q5),X=J.get(h0);Q.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let Y of this._implementations){if(Y.when){let G=X.getContext(e6());if(!Y.when.evaluate(G))continue}let Z=Y.implementation(J,$);if(Z){if(Q.trace(`Command '${this.id}' was handled by '${Y.name}'.`),typeof Z==="boolean")return;return Z}}Q.trace(`The Command '${this.id}' was not handled by any implementation.`)}};z_=class z_ extends Uq{constructor(J,$){super($);this.command=J}runCommand(J,$){return this.command.runCommand(J,$)}};S7=class S7 extends Uq{static bindToContribution(J){return class $ extends S7{constructor(Q){super(Q);this._callback=Q.handler}runEditorCommand(Q,X,Y){let Z=J(X);if(Z)this._callback(Z,Y)}}}static runEditorCommand(J,$,Q,X){let Y=J.get(l1),Z=Y.getFocusedCodeEditor()||Y.getActiveCodeEditor();if(!Z)return;return Z.invokeWithinContext((G)=>{if(!G.get(h0).contextMatchesRules(Q!==null&&Q!==void 0?Q:void 0))return;return X(G,Z,$)})}runCommand(J,$){return S7.runEditorCommand(J,$,this.precondition,(Q,X,Y)=>this.runEditorCommand(Q,X,Y))}};O4=class O4 extends S7{static convertOptions(J){let $;if(Array.isArray(J.menuOpts))$=J.menuOpts;else if(J.menuOpts)$=[J.menuOpts];else $=[];function Q(X){if(!X.menuId)X.menuId=I.EditorContext;if(!X.title)X.title=J.label;return X.when=N0.and(J.precondition,X.when),X}if(Array.isArray(J.contextMenuOpts))$.push(...J.contextMenuOpts.map(Q));else if(J.contextMenuOpts)$.push(Q(J.contextMenuOpts));return J.menuOpts=$,J}constructor(J){super(O4.convertOptions(J));this.label=J.label,this.alias=J.alias}runEditorCommand(J,$,Q){return this.reportTelemetry(J,$),this.run(J,$,Q||{})}reportTelemetry(J,$){J.get(Q7).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}};(function(J){function $(G){return y9.INSTANCE.getEditorCommand(G)}J.getEditorCommand=$;function Q(){return y9.INSTANCE.getEditorActions()}J.getEditorActions=Q;function X(){return y9.INSTANCE.getEditorContributions()}J.getEditorContributions=X;function Y(G){return y9.INSTANCE.getEditorContributions().filter((q)=>G.indexOf(q.id)>=0)}J.getSomeEditorContributions=Y;function Z(){return y9.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Z})(nX||(nX={}));y60={EditorCommonContributions:"editor.contributions"};y9.INSTANCE=new y9;r1.add(y60.EditorCommonContributions,y9.INSTANCE);H_=Lz(new wF({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:I.MenubarEditMenu,group:"1_do",title:F({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:I.CommandPalette,group:"",title:F("undo","Undo"),order:1}]}));Lz(new z_(H_,{id:"default:undo",precondition:void 0}));j_=Lz(new wF({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:I.MenubarEditMenu,group:"1_do",title:F({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:I.CommandPalette,group:"",title:F("redo","Redo"),order:1}]}));Lz(new z_(j_,{id:"default:redo",precondition:void 0}));MC=Lz(new wF({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:I.MenubarSelectionMenu,group:"1_basic",title:F({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:I.CommandPalette,group:"",title:F("selectAll","Select All"),order:1}]}))});function kz(J){if(!nJ)return;if(!_C)_C=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq");console.warn(J.message)}class NC{constructor(J,$,Q,X){this.vsWorker=J,this.req=$,this.method=Q,this.args=X,this.type=0}}class V_{constructor(J,$,Q,X){this.vsWorker=J,this.seq=$,this.res=Q,this.err=X,this.type=1}}class TC{constructor(J,$,Q,X){this.vsWorker=J,this.req=$,this.eventName=Q,this.arg=X,this.type=2}}class wC{constructor(J,$,Q){this.vsWorker=J,this.req=$,this.event=Q,this.type=3}}class LC{constructor(J,$){this.vsWorker=J,this.req=$,this.type=4}}class W_{constructor(J){this._workerId=-1,this._handler=J,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(J){this._workerId=J}sendMessage(J,$){let Q=String(++this._lastSentReq);return new Promise((X,Y)=>{this._pendingReplies[Q]={resolve:X,reject:Y},this._send(new NC(this._workerId,Q,J,$))})}listen(J,$){let Q=null,X=new y({onWillAddFirstListener:()=>{Q=String(++this._lastSentReq),this._pendingEmitters.set(Q,X),this._send(new TC(this._workerId,Q,J,$))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Q),this._send(new LC(this._workerId,Q)),Q=null}});return X.event}handleMessage(J){if(!J||!J.vsWorker)return;if(this._workerId!==-1&&J.vsWorker!==this._workerId)return;this._handleMessage(J)}_handleMessage(J){switch(J.type){case 1:return this._handleReplyMessage(J);case 0:return this._handleRequestMessage(J);case 2:return this._handleSubscribeEventMessage(J);case 3:return this._handleEventMessage(J);case 4:return this._handleUnsubscribeEventMessage(J)}}_handleReplyMessage(J){if(!this._pendingReplies[J.seq]){console.warn("Got reply to unknown seq");return}let $=this._pendingReplies[J.seq];if(delete this._pendingReplies[J.seq],J.err){let Q=J.err;if(J.err.$isError)Q=new Error,Q.name=J.err.name,Q.message=J.err.message,Q.stack=J.err.stack;$.reject(Q);return}$.resolve(J.res)}_handleRequestMessage(J){let $=J.req;this._handler.handleMessage(J.method,J.args).then((X)=>{this._send(new V_(this._workerId,$,X,void 0))},(X)=>{if(X.detail instanceof Error)X.detail=JM(X.detail);this._send(new V_(this._workerId,$,void 0,JM(X)))})}_handleSubscribeEventMessage(J){let $=J.req,Q=this._handler.handleEvent(J.eventName,J.arg)((X)=>{this._send(new wC(this._workerId,$,X))});this._pendingEvents.set($,Q)}_handleEventMessage(J){if(!this._pendingEmitters.has(J.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(J.req).fire(J.event)}_handleUnsubscribeEventMessage(J){if(!this._pendingEvents.has(J.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(J.req).dispose(),this._pendingEvents.delete(J.req)}_send(J){let $=[];if(J.type===0){for(let Q=0;Q<J.args.length;Q++)if(J.args[Q]instanceof ArrayBuffer)$.push(J.args[Q])}else if(J.type===1){if(J.res instanceof ArrayBuffer)$.push(J.res)}this._handler.sendMessage(J,$)}}function F_(J){return J[0]==="o"&&J[1]==="n"&&Q$(J.charCodeAt(2))}function K_(J){return/^onDynamic/.test(J)&&Q$(J.charCodeAt(9))}function kC(J,$,Q){let X=(G)=>{return function(){let q=Array.prototype.slice.call(arguments,0);return $(G,q)}},Y=(G)=>{return function(q){return Q(G,q)}},Z={};for(let G of J){if(K_(G)){Z[G]=Y(G);continue}if(F_(G)){Z[G]=Q(G,void 0);continue}Z[G]=X(G)}return Z}class x60{constructor(J,$){this._requestHandlerFactory=$,this._requestHandler=null,this._protocol=new W_({sendMessage:(Q,X)=>{J(Q,X)},handleMessage:(Q,X)=>this._handleMessage(Q,X),handleEvent:(Q,X)=>this._handleEvent(Q,X)})}onmessage(J){this._protocol.handleMessage(J)}_handleMessage(J,$){if(J===OC)return this.initialize($[0],$[1],$[2],$[3]);if(!this._requestHandler||typeof this._requestHandler[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._requestHandler[J].apply(this._requestHandler,$))}catch(Q){return Promise.reject(Q)}}_handleEvent(J,$){if(!this._requestHandler)throw new Error("Missing requestHandler");if(K_(J)){let Q=this._requestHandler[J].call(this._requestHandler,$);if(typeof Q!=="function")throw new Error(`Missing dynamic event ${J} on request handler.`);return Q}if(F_(J)){let Q=this._requestHandler[J];if(typeof Q!=="function")throw new Error(`Missing event ${J} on request handler.`);return Q}throw new Error(`Malformed event name ${J}`)}initialize(J,$,Q,X){this._protocol.setWorkerId(J);let G=kC(X,(q,U)=>{return this._protocol.sendMessage(q,U)},(q,U)=>{return this._protocol.listen(q,U)});if(this._requestHandlerFactory)return this._requestHandler=this._requestHandlerFactory(G),Promise.resolve(bX(this._requestHandler));if($){if(typeof $.baseUrl!=="undefined")delete $.baseUrl;if(typeof $.paths!=="undefined"){if(typeof $.paths.vs!=="undefined")delete $.paths.vs}if(typeof $.trustedTypesPolicy!=="undefined")delete $.trustedTypesPolicy;$.catchError=!0,globalThis.require.config($)}return new Promise((q,U)=>{let z=globalThis.require;z([Q],(H)=>{if(this._requestHandler=H.create(G),!this._requestHandler){U(new Error("No RequestHandler!"));return}q(bX(this._requestHandler))},U)})}}var OC="$initialize",_C=!1,B_;var A_=N(()=>{P1();F0();Q0();j7();M1();t0();B_=class B_ extends h{constructor(J,$,Q){super();let X=null;this._worker=this._register(J.create("vs/base/common/worker/simpleWorker",(z)=>{this._protocol.handleMessage(z)},(z)=>{X===null||X===void 0||X(z)})),this._protocol=new W_({sendMessage:(z,H)=>{this._worker.postMessage(z,H)},handleMessage:(z,H)=>{if(typeof Q[z]!=="function")return Promise.reject(new Error("Missing method "+z+" on main thread host."));try{return Promise.resolve(Q[z].apply(Q,H))}catch(j){return Promise.reject(j)}},handleEvent:(z,H)=>{if(K_(z)){let j=Q[z].call(Q,H);if(typeof j!=="function")throw new Error(`Missing dynamic event ${z} on main thread host.`);return j}if(F_(z)){let j=Q[z];if(typeof j!=="function")throw new Error(`Missing event ${z} on main thread host.`);return j}throw new Error(`Malformed event name ${z}`)}}),this._protocol.setWorkerId(this._worker.getId());let Y=null,Z=globalThis.require;if(typeof Z!=="undefined"&&typeof Z.getConfig==="function")Y=Z.getConfig();else if(typeof globalThis.requirejs!=="undefined")Y=globalThis.requirejs.s.contexts._.config;let G=bX(Q);this._onModuleLoaded=this._protocol.sendMessage(OC,[this._worker.getId(),JSON.parse(JSON.stringify(Y)),$,G]);let q=(z,H)=>{return this._request(z,H)},U=(z,H)=>{return this._protocol.listen(z,H)};this._lazyProxy=new Promise((z,H)=>{X=H,this._onModuleLoaded.then((j)=>{z(kC(j,q,U))},(j)=>{H(j),this._onError("Worker failed to load "+$,j)})})}getProxyObject(){return this._lazyProxy}_request(J,$){return new Promise((Q,X)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(J,$).then(Q,X)},X)})}_onError(J,$){console.error(J),console.info($)}}});function z9(J,$){var Q;let X=globalThis.MonacoEnvironment;if(X===null||X===void 0?void 0:X.createTrustedTypesPolicy)try{return X.createTrustedTypesPolicy(J,$)}catch(Y){o0(Y);return}try{return(Q=z1.trustedTypes)===null||Q===void 0?void 0:Q.createPolicy(J,$)}catch(Y){o0(Y);return}}var oX=N(()=>{J8();P1()});function b60(J){let $=globalThis.MonacoEnvironment;if($){if(typeof $.getWorker==="function")return $.getWorker("workerMain.js",J);if(typeof $.getWorkerUrl==="function"){let Q=$.getWorkerUrl("workerMain.js",J);return new Worker(EC?EC.createScriptURL(Q):Q,{name:J})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function S60(J){if(typeof J.then==="function")return!0;return!1}class Ez{constructor(J){this._label=J,this._webWorkerFailedBeforeError=!1}create(J,$,Q){let X=++Ez.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new IC(J,X,this._label||"anonymous"+X,$,(Y)=>{kz(Y),this._webWorkerFailedBeforeError=Y,Q(Y)})}}var EC,IC;var yC=N(()=>{oX();P1();A_();Q0();EC=z9("defaultWorkerFactory",{createScriptURL:(J)=>J});IC=class IC extends h{constructor(J,$,Q,X,Y){super();this.id=$,this.label=Q;let Z=b60(Q);if(S60(Z))this.worker=Z;else this.worker=Promise.resolve(Z);this.postMessage(J,[]),this.worker.then((G)=>{if(G.onmessage=function(q){X(q.data)},G.onmessageerror=Y,typeof G.addEventListener==="function")G.addEventListener("error",Y)}),this._register(K0(()=>{var G;(G=this.worker)===null||G===void 0||G.then((q)=>{q.onmessage=null,q.onmessageerror=null,q.removeEventListener("error",Y),q.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(J,$){var Q;(Q=this.worker)===null||Q===void 0||Q.then((X)=>{try{X.postMessage(J,$)}catch(Y){o0(Y),o0(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Y}))}})}};Ez.LAST_WORKER_ID=0});class yz{constructor(J){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=J.open,this.close=J.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(J.notIn))for(let $=0,Q=J.notIn.length;$<Q;$++)switch(J.notIn[$]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(J){switch(J){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(J,$){if(J.getTokenCount()===0)return!0;let Q=J.findTokenIndexAtOffset($-2),X=J.getStandardTokenType(Q);return this.isOK(X)}_findNeutralCharacterInRange(J,$){for(let Q=J;Q<=$;Q++){let X=String.fromCharCode(Q);if(!this.open.includes(X)&&!this.close.includes(X))return X}return null}findNeutralCharacter(){if(!this._neutralCharacterSearched){if(this._neutralCharacterSearched=!0,!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(48,57);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(97,122);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(65,90)}return this._neutralCharacter}}class P_{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let $ of J)if(Iz(this.autoClosingPairsOpenByStart,$.open.charAt(0),$),Iz(this.autoClosingPairsOpenByEnd,$.open.charAt($.open.length-1),$),Iz(this.autoClosingPairsCloseByStart,$.close.charAt(0),$),Iz(this.autoClosingPairsCloseByEnd,$.close.charAt($.close.length-1),$),$.close.length===1&&$.open.length===1)Iz(this.autoClosingPairsCloseSingleChar,$.close,$)}}function Iz(J,$,Q){if(J.has($))J.get($).push(Q);else J.set($,[Q])}var m5;var oZ=N(()=>{(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(m5||(m5={}))});function tX(J,$){let Q=J.getCount(),X=J.findTokenIndexAtOffset($),Y=J.getLanguageId(X),Z=X;while(Z+1<Q&&J.getLanguageId(Z+1)===Y)Z++;let G=X;while(G>0&&J.getLanguageId(G-1)===Y)G--;return new xC(J,Y,G,Z+1,J.getStartOffset(G),J.getEndOffset(Z))}class xC{constructor(J,$,Q,X,Y,Z){this._scopedLineTokensBrand=void 0,this._actual=J,this.languageId=$,this._firstTokenIndex=Q,this._lastTokenIndex=X,this.firstCharOffset=Y,this._lastCharOffset=Z}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(J){return this._actual.getLineContent().substring(0,this.firstCharOffset+J)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(J){return this._actual.findTokenIndexAtOffset(J+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(J){return this._actual.getStandardTokenType(J+this._firstTokenIndex)}}function N4(J){return(J&3)!==0}class tZ{constructor(J){if(J.autoClosingPairs)this._autoClosingPairs=J.autoClosingPairs.map(($)=>new yz($));else if(J.brackets)this._autoClosingPairs=J.brackets.map(($)=>new yz({open:$[0],close:$[1]}));else this._autoClosingPairs=[];if(J.__electricCharacterSupport&&J.__electricCharacterSupport.docComment){let $=J.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new yz({open:$.open,close:$.close||""}))}this._autoCloseBeforeForQuotes=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:tZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:tZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=J.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(J){return J?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var bC=N(()=>{oZ();tZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
\t`;tZ.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
\t`});class LF{static wrap(J){if(SC&&!Buffer.isBuffer(J))J=Buffer.from(J.buffer,J.byteOffset,J.byteLength);return new LF(J)}constructor(J){this.buffer=J,this.byteLength=this.buffer.byteLength}toString(){if(SC)return this.buffer.toString();else{if(!D_)D_=new TextDecoder;return D_.decode(this.buffer)}}}function CC(J,$){return J[$+0]<<0>>>0|J[$+1]<<8>>>0}function vC(J,$,Q){J[Q+0]=$&255,$=$>>>8,J[Q+1]=$&255}function S9(J,$){return J[$]*16777216+J[$+1]*65536+J[$+2]*256+J[$+3]}function C9(J,$,Q){J[Q+3]=$,$=$>>>8,J[Q+2]=$,$=$>>>8,J[Q+1]=$,$=$>>>8,J[Q]=$}function R_(J,$){return J[$]}function M_(J,$,Q){J[Q]=$}var SC,N30,D_;var xz=N(()=>{SC=typeof Buffer!=="undefined",N30=new $9(()=>new Uint8Array(256))});function hC(){if(!O_)O_=new TextDecoder("UTF-16LE");return O_}function C60(){if(!N_)N_=new TextDecoder("UTF-16BE");return N_}function w_(){if(!T_)T_=ix()?hC():C60();return T_}function fC(J,$,Q){let X=new Uint16Array(J.buffer,$,Q);if(Q>0&&(X[0]===65279||X[0]===65534))return v60(J,$,Q);return hC().decode(X)}function v60(J,$,Q){let X=[],Y=0;for(let Z=0;Z<Q;Z++){let G=CC(J,$);$+=2,X[Y++]=String.fromCharCode(G)}return X.join("")}class yQ{constructor(J){this._capacity=J|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){if(this._completedStrings!==null)return this._flushBuffer(),this._completedStrings.join("");return this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";let J=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return w_().decode(J)}_flushBuffer(){let J=this._buildBuffer();if(this._bufferLength=0,this._completedStrings===null)this._completedStrings=[J];else this._completedStrings[this._completedStrings.length]=J}appendCharCode(J){let $=this._capacity-this._bufferLength;if($<=1){if($===0||G6(J))this._flushBuffer()}this._buffer[this._bufferLength++]=J}appendASCIICharCode(J){if(this._bufferLength===this._capacity)this._flushBuffer();this._buffer[this._bufferLength++]=J}appendString(J){let $=J.length;if(this._bufferLength+$>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=J;return}for(let Q=0;Q<$;Q++)this._buffer[this._bufferLength++]=J.charCodeAt(Q)}}var O_,N_,T_;var eZ=N(()=>{t0();M1();xz()});class kF{constructor(J,$,Q,X,Y,Z){this._richEditBracketBrand=void 0,this.languageId=J,this.index=$,this.open=Q,this.close=X,this.forwardRegex=Y,this.reversedRegex=Z,this._openSet=kF._toSet(this.open),this._closeSet=kF._toSet(this.close)}isOpen(J){return this._openSet.has(J)}isClose(J){return this._closeSet.has(J)}static _toSet(J){let $=new Set;for(let Q of J)$.add(Q);return $}}function f60(J){let $=J.length;J=J.map((G)=>[G[0].toLowerCase(),G[1].toLowerCase()]);let Q=[];for(let G=0;G<$;G++)Q[G]=G;let X=(G,q)=>{let[U,z]=G,[H,j]=q;return U===H||U===j||z===H||z===j},Y=(G,q)=>{let U=Math.min(G,q),z=Math.max(G,q);for(let H=0;H<$;H++)if(Q[H]===z)Q[H]=U};for(let G=0;G<$;G++){let q=J[G];for(let U=G+1;U<$;U++){let z=J[U];if(X(q,z))Y(Q[G],Q[U])}}let Z=[];for(let G=0;G<$;G++){let q=[],U=[];for(let z=0;z<$;z++)if(Q[z]===G){let[H,j]=J[z];q.push(H),U.push(j)}if(q.length>0)Z.push({open:q,close:U})}return Z}class L_{constructor(J,$){this._richEditBracketsBrand=void 0;let Q=f60($);this.brackets=Q.map((X,Y)=>{return new kF(J,Y,X.open,X.close,g60(X.open,X.close,Q,Y),p60(X.open,X.close,Q,Y))}),this.forwardRegex=m60(this.brackets),this.reversedRegex=u60(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let X of this.brackets){for(let Y of X.open)this.textIsBracket[Y]=X,this.textIsOpenBracket[Y]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length);for(let Y of X.close)this.textIsBracket[Y]=X,this.textIsOpenBracket[Y]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length)}}}function gC(J,$,Q,X){for(let Y=0,Z=$.length;Y<Z;Y++){if(Y===Q)continue;let G=$[Y];for(let q of G.open)if(q.indexOf(J)>=0)X.push(q);for(let q of G.close)if(q.indexOf(J)>=0)X.push(q)}}function pC(J,$){return J.length-$.length}function EF(J){if(J.length<=1)return J;let $=[],Q=new Set;for(let X of J){if(Q.has(X))continue;$.push(X),Q.add(X)}return $}function g60(J,$,Q,X){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)gC(Y[Z],Q,X,Y);return Y=EF(Y),Y.sort(pC),Y.reverse(),IF(Y)}function p60(J,$,Q,X){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)gC(Y[Z],Q,X,Y);return Y=EF(Y),Y.sort(pC),Y.reverse(),IF(Y.map(k_))}function m60(J){let $=[];for(let Q of J){for(let X of Q.open)$.push(X);for(let X of Q.close)$.push(X)}return $=EF($),IF($)}function u60(J){let $=[];for(let Q of J){for(let X of Q.open)$.push(X);for(let X of Q.close)$.push(X)}return $=EF($),IF($.map(k_))}function c60(J){let $=/^[\w ]+$/.test(J);return J=o8(J),$?`\\b${J}\\b`:J}function IF(J){let $=`(${J.map(c60).join(")|(")})`;return xB($,!0)}class C7{static _findPrevBracketInText(J,$,Q,X){let Y=Q.match(J);if(!Y)return null;let Z=Q.length-(Y.index||0),G=Y[0].length,q=X+Z;return new L($,q-G+1,$,q+1)}static findPrevBracketInRange(J,$,Q,X,Y){let G=k_(Q).substring(Q.length-Y,Q.length-X);return this._findPrevBracketInText(J,$,G,X)}static findNextBracketInText(J,$,Q,X){let Y=Q.match(J);if(!Y)return null;let Z=Y.index||0,G=Y[0].length;if(G===0)return null;let q=X+Z;return new L($,q+1,$,q+1+G)}static findNextBracketInRange(J,$,Q,X,Y){let Z=Q.substring(X,Y);return this.findNextBracketInText(J,$,Z,X)}}var k_;var yF=N(()=>{t0();eZ();l0();k_=function(){function J(X){let Y=new Uint16Array(X.length),Z=0;for(let G=X.length-1;G>=0;G--)Y[Z++]=X.charCodeAt(G);return w_().decode(Y)}let $=null,Q=null;return function X(Y){if($!==Y)$=Y,Q=J($);return Q}}()});class E_{constructor(J){this._richEditBrackets=J}getElectricCharacters(){let J=[];if(this._richEditBrackets)for(let $ of this._richEditBrackets.brackets)for(let Q of $.close){let X=Q.charAt(Q.length-1);J.push(X)}return q4(J)}onElectricCharacter(J,$,Q){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let X=$.findTokenIndexAtOffset(Q-1);if(N4($.getStandardTokenType(X)))return null;let Y=this._richEditBrackets.reversedRegex,Z=$.getLineContent().substring(0,Q-1)+J,G=C7.findPrevBracketInRange(Y,1,Z,0,Z.length);if(!G)return null;let q=Z.substring(G.startColumn-1,G.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[q])return null;let z=$.getActualLineContentBefore(G.startColumn-1);if(!/^\s*$/.test(z))return null;return{matchOpenBracket:q}}}var mC=N(()=>{U1();yF()});function xF(J){if(J.global)J.lastIndex=0;return!0}class I_{constructor(J){this._indentationRules=J}shouldIncrease(J){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&xF(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(J))return!0}return!1}shouldDecrease(J){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&xF(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(J))return!0;return!1}shouldIndentNextLine(J){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&xF(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(J))return!0;return!1}shouldIgnore(J){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&xF(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(J))return!0;return!1}getIndentMetadata(J){let $=0;if(this.shouldIncrease(J))$+=1;if(this.shouldDecrease(J))$+=2;if(this.shouldIndentNextLine(J))$+=4;if(this.shouldIgnore(J))$+=8;return $}}class J2{constructor(J){J=J||{},J.brackets=J.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],J.brackets.forEach(($)=>{let Q=J2._createOpenBracketRegExp($[0]),X=J2._createCloseBracketRegExp($[1]);if(Q&&X)this._brackets.push({open:$[0],openRegExp:Q,close:$[1],closeRegExp:X})}),this._regExpRules=J.onEnterRules||[]}onEnter(J,$,Q,X){if(J>=3)for(let Y=0,Z=this._regExpRules.length;Y<Z;Y++){let G=this._regExpRules[Y];if([{reg:G.beforeText,text:Q},{reg:G.afterText,text:X},{reg:G.previousLineText,text:$}].every((U)=>{if(!U.reg)return!0;return U.reg.lastIndex=0,U.reg.test(U.text)}))return G.action}if(J>=2){if(Q.length>0&&X.length>0)for(let Y=0,Z=this._brackets.length;Y<Z;Y++){let G=this._brackets[Y];if(G.openRegExp.test(Q)&&G.closeRegExp.test(X))return{indentAction:m5.IndentOutdent}}}if(J>=2){if(Q.length>0){for(let Y=0,Z=this._brackets.length;Y<Z;Y++)if(this._brackets[Y].openRegExp.test(Q))return{indentAction:m5.Indent}}}return null}static _createOpenBracketRegExp(J){let $=o8(J);if(!/\B/.test($.charAt(0)))$="\\b"+$;return $+="\\s*$",J2._safeRegExp($)}static _createCloseBracketRegExp(J){let $=o8(J);if(!/\B/.test($.charAt($.length-1)))$=$+"\\b";return $="^\\s*"+$,J2._safeRegExp($)}static _safeRegExp(J){try{return new RegExp(J)}catch($){return o0($),null}}}var uC=N(()=>{P1();t0();oZ()});function bF(J,$){let Q=Object.create(null);for(let X in J)y_(Q,X,J[X],$);return Q}function y_(J,$,Q,X){let Y=$.split("."),Z=Y.pop(),G=J;for(let q=0;q<Y.length;q++){let U=Y[q],z=G[U];switch(typeof z){case"undefined":z=G[U]=Object.create(null);break;case"object":break;default:X(`Ignoring ${$} as ${Y.slice(0,q+1).join(".")} is ${JSON.stringify(z)}`);return}G=z}if(typeof G==="object"&&G!==null)try{G[Z]=Q}catch(q){X(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}else X(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}function cC(J,$){let Q=$.split(".");lC(J,Q)}function lC(J,$){let Q=$.shift();if($.length===0){delete J[Q];return}if(Object.keys(J).indexOf(Q)!==-1){let X=J[Q];if(typeof X==="object"&&!Array.isArray(X)){if(lC(X,$),Object.keys(X).length===0)delete J[Q]}}}function x_(J,$,Q){function X(G,q){let U=G;for(let z of q){if(typeof U!=="object"||U===null)return;U=U[z]}return U}let Y=$.split("."),Z=X(J,Y);return typeof Z==="undefined"?Q:Z}function dC(J){return J.replace(/[\[\]]/g,"")}var y1;var v8=N(()=>{u0();y1=M0("configurationService")});var e1;var v9=N(()=>{u0();e1=M0("languageService")});class H9{constructor(J,$=[],Q=!1){this.ctor=J,this.staticArguments=$,this.supportsDelayedInstantiation=Q}}function H1(J,$,Q){if(!($ instanceof H9))$=new H9($,[],Boolean(Q));sC.push([J,$])}function b_(){return sC}var sC;var h9=N(()=>{sC=[]});var f9;var bz=N(()=>{f9=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})});function l60(J){if(J.length>0&&J.charAt(J.length-1)==="#")return J.substring(0,J.length-1);return J}class aC{constructor(){this._onDidChangeSchema=new y,this.schemasById={}}registerSchema(J,$){this.schemasById[l60(J)]=$,this._onDidChangeSchema.fire(J)}notifySchemaChanged(J){this._onDidChangeSchema.fire(J)}}var $2,d60;var SF=N(()=>{F0();$7();$2={JSONContribution:"base.contributions.json"};d60=new aC;r1.add($2.JSONContribution,d60)});class nC{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new y,this._onDidUpdateConfiguration=new y,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:F("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},rC.registerSchema(Sz,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(J,$=!0){this.registerConfigurations([J],$)}registerConfigurations(J,$=!0){let Q=new Set;this.doRegisterConfigurations(J,$,Q),rC.registerSchema(Sz,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Q})}registerDefaultConfigurations(J){let $=new Set;this.doRegisterDefaultConfigurations(J,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(J,$){var Q;let X=[];for(let{overrides:Y,source:Z}of J)for(let G in Y)if($.add(G),xQ.test(G)){let q=this.configurationDefaultsOverrides.get(G),U=(Q=q===null||q===void 0?void 0:q.valuesSources)!==null&&Q!==void 0?Q:new Map;if(Z)for(let V of Object.keys(Y[G]))U.set(V,Z);let z={...(q===null||q===void 0?void 0:q.value)||{},...Y[G]};this.configurationDefaultsOverrides.set(G,{source:Z,value:z,valuesSources:U});let H=dC(G),j={type:"object",default:z,description:F("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",H),$ref:Sz,defaultDefaultValue:z,source:Y5(Z)?void 0:Z,defaultValueSource:Z};X.push(...Cz(G)),this.configurationProperties[G]=j,this.defaultLanguageConfigurationOverridesNode.properties[G]=j}else{this.configurationDefaultsOverrides.set(G,{value:Y[G],source:Z});let q=this.configurationProperties[G];if(q)this.updatePropertyDefaultValue(G,q),this.updateSchema(G,q)}this.doRegisterOverrideIdentifiers(X)}registerOverrideIdentifiers(J){this.doRegisterOverrideIdentifiers(J),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(J){for(let $ of J)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(J,$,Q){J.forEach((X)=>{this.validateAndRegisterProperties(X,$,X.extensionInfo,X.restrictedProperties,void 0,Q),this.configurationContributors.push(X),this.registerJSONConfiguration(X)})}validateAndRegisterProperties(J,$=!0,Q,X,Y=3,Z){var G;Y=K8(J.scope)?Y:J.scope;let q=J.properties;if(q)for(let z in q){let H=q[z];if($&&a60(z,H)){delete q[z];continue}if(H.source=Q,H.defaultDefaultValue=q[z].default,this.updatePropertyDefaultValue(z,H),xQ.test(z))H.scope=void 0;else H.scope=K8(H.scope)?Y:H.scope,H.restricted=K8(H.restricted)?!!(X===null||X===void 0?void 0:X.includes(z)):H.restricted;if(q[z].hasOwnProperty("included")&&!q[z].included){this.excludedConfigurationProperties[z]=q[z],delete q[z];continue}else if(this.configurationProperties[z]=q[z],(G=q[z].policy)===null||G===void 0?void 0:G.name)this.policyConfigurations.set(q[z].policy.name,z);if(!q[z].deprecationMessage&&q[z].markdownDeprecationMessage)q[z].deprecationMessage=q[z].markdownDeprecationMessage;Z.add(z)}let U=J.allOf;if(U)for(let z of U)this.validateAndRegisterProperties(z,$,Q,X,Y,Z)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(J){let $=(Q)=>{let X=Q.properties;if(X)for(let Z in X)this.updateSchema(Z,X[Z]);let Y=Q.allOf;Y===null||Y===void 0||Y.forEach($)};$(J)}updateSchema(J,$){switch(S_.properties[J]=$,$.scope){case 1:C_.properties[J]=$;break;case 2:v_.properties[J]=$;break;case 6:h_.properties[J]=$;break;case 3:f_.properties[J]=$;break;case 4:CF.properties[J]=$;break;case 5:CF.properties[J]=$,this.resourceLanguageSettingsSchema.properties[J]=$;break}}updateOverridePropertyPatternKey(){for(let J of this.overrideIdentifiers.values()){let $=`[${J}]`,Q={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Sz};this.updatePropertyDefaultValue($,Q),S_.properties[$]=Q,C_.properties[$]=Q,v_.properties[$]=Q,h_.properties[$]=Q,f_.properties[$]=Q,CF.properties[$]=Q}}registerOverridePropertyPatternKey(){let J={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Sz};S_.patternProperties[Q2]=J,C_.patternProperties[Q2]=J,v_.patternProperties[Q2]=J,h_.patternProperties[Q2]=J,f_.patternProperties[Q2]=J,CF.patternProperties[Q2]=J,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(J,$){let Q=this.configurationDefaultsOverrides.get(J),X=Q===null||Q===void 0?void 0:Q.value,Y=Q===null||Q===void 0?void 0:Q.source;if(o5(X))X=$.defaultDefaultValue,Y=void 0;if(o5(X))X=s60($.type);$.default=X,$.defaultValueSource=Y}}function Cz(J){let $=[];if(xQ.test(J)){let Q=iC.exec(J);while(Q===null||Q===void 0?void 0:Q.length){let X=Q[1].trim();if(X)$.push(X);Q=iC.exec(J)}}return q4($)}function s60(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function a60(J,$){var Q,X,Y,Z;if(!J.trim())return F("config.property.empty","Cannot register an empty property");if(xQ.test(J))return F("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J);if(vF.getConfigurationProperties()[J]!==void 0)return F("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J);if(((Q=$.policy)===null||Q===void 0?void 0:Q.name)&&vF.getPolicyConfigurations().get((X=$.policy)===null||X===void 0?void 0:X.name)!==void 0)return F("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(Y=$.policy)===null||Y===void 0?void 0:Y.name,vF.getPolicyConfigurations().get((Z=$.policy)===null||Z===void 0?void 0:Z.name));return null}var g9,S_,C_,v_,h_,f_,CF,Sz="vscode://schemas/settings/resourceLanguage",rC,oC="\\[([^\\]]+)\\]",iC,Q2,xQ,vF;var X2=N(()=>{U1();F0();g0();v8();SF();$7();g9={Configuration:"base.contributions.configuration"},S_={properties:{},patternProperties:{}},C_={properties:{},patternProperties:{}},v_={properties:{},patternProperties:{}},h_={properties:{},patternProperties:{}},f_={properties:{},patternProperties:{}},CF={properties:{},patternProperties:{}},rC=r1.as($2.JSONContribution);iC=new RegExp(oC,"g"),Q2=`^(${oC})+$`,xQ=new RegExp(Q2);vF=new nC;r1.add(g9.Configuration,vF)});class tC{constructor(){this._onDidChangeLanguages=new y,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(J){return this._languages.push(J),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let $=0,Q=this._languages.length;$<Q;$++)if(this._languages[$]===J){this._languages.splice($,1);return}}}}getLanguages(){return this._languages}}var r60,eX,R5="plaintext",i60=".txt";var T4=N(()=>{g0();F0();$7();bz();X2();r60={ModesRegistry:"editor.modesRegistry"};eX=new tC;r1.add(r60.ModesRegistry,eX);eX.registerLanguage({id:R5,extensions:[i60],aliases:[F("plainText.alias","Plain Text"),"text"],mimetypes:[f9.text]});r1.as(g9.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});class g_{constructor(J,$){this.languageId=J;let Q=$.brackets?eC($.brackets):[],X=new IB((G)=>{let q=new Set;return{info:new Jv(this,G,q),closing:q}}),Y=new IB((G)=>{let q=new Set,U=new Set;return{info:new $v(this,G,q,U),opening:q,openingColorized:U}});for(let[G,q]of Q){let U=X.get(G),z=Y.get(q);U.closing.add(z.info),z.opening.add(U.info)}let Z=$.colorizedBracketPairs?eC($.colorizedBracketPairs):Q.filter((G)=>!(G[0]==="<"&&G[1]===">"));for(let[G,q]of Z){let U=X.get(G),z=Y.get(q);U.closing.add(z.info),z.openingColorized.add(U.info),z.opening.add(U.info)}this._openingBrackets=new Map([...X.cachedValues].map(([G,q])=>[G,q.info])),this._closingBrackets=new Map([...Y.cachedValues].map(([G,q])=>[G,q.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(J){return this._openingBrackets.get(J)}getClosingBracketInfo(J){return this._closingBrackets.get(J)}getBracketInfo(J){return this.getOpeningBracketInfo(J)||this.getClosingBracketInfo(J)}}function eC(J){return J.filter(([$,Q])=>$!==""&&Q!=="")}class p_{constructor(J,$){this.config=J,this.bracketText=$}get languageId(){return this.config.languageId}}var Jv,$v;var Qv=N(()=>{Jv=class Jv extends p_{constructor(J,$,Q){super(J,$);this.openedBrackets=Q,this.isOpeningBracket=!0}};$v=class $v extends p_{constructor(J,$,Q,X){super(J,$);this.openingBrackets=Q,this.openingColorizedBrackets=X,this.isOpeningBracket=!1}closes(J){if(J.config!==this.config)return!1;return this.openingBrackets.has(J)}closesColorized(J){if(J.config!==this.config)return!1;return this.openingColorizedBrackets.has(J)}getOpeningBrackets(){return[...this.openingBrackets]}}});class hF{constructor(J){this.languageId=J}affects(J){return!this.languageId?!0:this.languageId===J}}function o60(J,$,Q,X){let Y=$.getLanguageConfiguration(J);if(!Y){if(!X.isRegisteredLanguageId(J))return new zq(J,{});Y=new zq(J,{})}let Z=t60(Y.languageId,Q),G=Gv([Y.underlyingConfig,Z]);return new zq(Y.languageId,G)}function t60(J,$){let Q=$.getValue(u_.brackets,{overrideIdentifier:J}),X=$.getValue(u_.colorizedBracketPairs,{overrideIdentifier:J});return{brackets:Yv(Q),colorizedBracketPairs:Yv(X)}}function Yv(J){if(!Array.isArray(J))return;return J.map(($)=>{if(!Array.isArray($)||$.length!==2)return;return[$[0],$[1]]}).filter(($)=>!!$)}function fF(J,$,Q){let X=J.getLineContent($),Y=t6(X);if(Y.length>Q-1)Y=Y.substring(0,Q-1);return Y}function JY(J,$,Q){J.tokenization.forceTokenization($);let X=J.tokenization.getLineTokens($),Y=typeof Q==="undefined"?J.getLineMaxColumn($)-1:Q-1;return tX(X,Y)}class Zv{constructor(J){this.languageId=J,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(J,$){let Q=new c_(J,$,++this._order);return this._entries.push(Q),this._resolved=null,K0(()=>{for(let X=0;X<this._entries.length;X++)if(this._entries[X]===Q){this._entries.splice(X,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let J=this._resolve();if(J)this._resolved=new zq(this.languageId,J)}return this._resolved}_resolve(){if(this._entries.length===0)return null;return this._entries.sort(c_.cmp),Gv(this._entries.map((J)=>J.configuration))}}function Gv(J){let $={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let Q of J)$={comments:Q.comments||$.comments,brackets:Q.brackets||$.brackets,wordPattern:Q.wordPattern||$.wordPattern,indentationRules:Q.indentationRules||$.indentationRules,onEnterRules:Q.onEnterRules||$.onEnterRules,autoClosingPairs:Q.autoClosingPairs||$.autoClosingPairs,surroundingPairs:Q.surroundingPairs||$.surroundingPairs,autoCloseBefore:Q.autoCloseBefore||$.autoCloseBefore,folding:Q.folding||$.folding,colorizedBracketPairs:Q.colorizedBracketPairs||$.colorizedBracketPairs,__electricCharacterSupport:Q.__electricCharacterSupport||$.__electricCharacterSupport};return $}class c_{constructor(J,$,Q){this.configuration=J,this.priority=$,this.order=Q}static cmp(J,$){if(J.priority===$.priority)return J.order-$.order;return J.priority-$.priority}}class l_{constructor(J){this.languageId=J}}class zq{constructor(J,$){if(this.languageId=J,this.underlyingConfig=$,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new J2(this.underlyingConfig):null,this.comments=zq._handleComments(this.underlyingConfig),this.characterPair=new tZ(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||uU,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules)this.indentRulesSupport=new I_(this.underlyingConfig.indentationRules);else this.indentRulesSupport=null;this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new g_(J,this.underlyingConfig)}getWordDefinition(){return cU(this.wordDefinition)}get brackets(){if(!this._brackets&&this.underlyingConfig.brackets)this._brackets=new L_(this.languageId,this.underlyingConfig.brackets);return this._brackets}get electricCharacter(){if(!this._electricCharacter)this._electricCharacter=new E_(this.brackets);return this._electricCharacter}onEnter(J,$,Q,X){if(!this._onEnterSupport)return null;return this._onEnterSupport.onEnter(J,$,Q,X)}getAutoClosingPairs(){return new P_(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(J){return this.characterPair.getAutoCloseBeforeSet(J)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(J){let $=J.comments;if(!$)return null;let Q={};if($.lineComment)Q.lineCommentToken=$.lineComment;if($.blockComment){let[X,Y]=$.blockComment;Q.blockCommentStartToken=X,Q.blockCommentEndToken=Y}return Q}}var n60=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Xv=function(J,$){return function(Q,X){$(Q,X,J)}},_6,m_,u_,qv;var h8=N(()=>{F0();Q0();t0();bG();oZ();bC();mC();uC();yF();u0();v8();v9();h9();T4();Qv();_6=M0("languageConfigurationService"),m_=class J extends h{constructor($,Q){super();this.configurationService=$,this.languageService=Q,this._registry=this._register(new qv),this.onDidChangeEmitter=this._register(new y),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;let X=new Set(Object.values(u_));this._register(this.configurationService.onDidChangeConfiguration((Y)=>{let Z=Y.change.keys.some((q)=>X.has(q)),G=Y.change.overrides.filter(([q,U])=>U.some((z)=>X.has(z))).map(([q])=>q);if(Z)this.configurations.clear(),this.onDidChangeEmitter.fire(new hF(void 0));else for(let q of G)if(this.languageService.isRegisteredLanguageId(q))this.configurations.delete(q),this.onDidChangeEmitter.fire(new hF(q))})),this._register(this._registry.onDidChange((Y)=>{this.configurations.delete(Y.languageId),this.onDidChangeEmitter.fire(new hF(Y.languageId))}))}register($,Q,X){return this._registry.register($,Q,X)}getLanguageConfiguration($){let Q=this.configurations.get($);if(!Q)Q=o60($,this._registry,this.configurationService,this.languageService),this.configurations.set($,Q);return Q}};m_=n60([Xv(0,y1),Xv(1,e1)],m_);u_={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};qv=class qv extends h{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._register(this.register(R5,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(J,$,Q=0){let X=this._entries.get(J);if(!X)X=new Zv(J),this._entries.set(J,X);let Y=X.register($,Q);return this._onDidChange.fire(new l_(J)),K0(()=>{Y.dispose(),this._onDidChange.fire(new l_(J))})}getLanguageConfiguration(J){let $=this._entries.get(J);return($===null||$===void 0?void 0:$.getResolvedConfiguration())||null}};H1(_6,m_,1)});class j${constructor(J,$,Q,X){this.originalStart=J,this.originalLength=$,this.modifiedStart=Q,this.modifiedLength=X}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class d_{constructor(J){this.source=J}getElements(){let J=this.source,$=new Int32Array(J.length);for(let Q=0,X=J.length;Q<X;Q++)$[Q]=J.charCodeAt(Q);return $}}function Uv(J,$,Q){return new UJ(new d_(J),new d_($)).ComputeDiff(Q).changes}class Y2{static Assert(J,$){if(!J)throw new Error($)}}class Z2{static Copy(J,$,Q,X,Y){for(let Z=0;Z<Y;Z++)Q[X+Z]=J[$+Z]}static Copy2(J,$,Q,X,Y){for(let Z=0;Z<Y;Z++)Q[X+Z]=J[$+Z]}}class s_{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.m_changes.push(new j$(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount));this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_originalCount++}AddModifiedElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_modifiedCount++}getChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes}getReverseChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes.reverse(),this.m_changes}}class UJ{constructor(J,$,Q=null){this.ContinueProcessingPredicate=Q,this._originalSequence=J,this._modifiedSequence=$;let[X,Y,Z]=UJ._getElements(J),[G,q,U]=UJ._getElements($);this._hasStrings=Z&&U,this._originalStringElements=X,this._originalElementsOrHash=Y,this._modifiedStringElements=G,this._modifiedElementsOrHash=q,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(J){return J.length>0&&typeof J[0]==="string"}static _getElements(J){let $=J.getElements();if(UJ._isStringArray($)){let Q=new Int32Array($.length);for(let X=0,Y=$.length;X<Y;X++)Q[X]=KF($[X],0);return[$,Q,!0]}if($ instanceof Int32Array)return[[],$,!1];return[[],new Int32Array($),!1]}ElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._modifiedStringElements[$]:!0}ElementsAreStrictEqual(J,$){if(!this.ElementsAreEqual(J,$))return!1;let Q=UJ._getStrictElement(this._originalSequence,J),X=UJ._getStrictElement(this._modifiedSequence,$);return Q===X}static _getStrictElement(J,$){if(typeof J.getStrictElement==="function")return J.getStrictElement($);return null}OriginalElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._originalElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._originalStringElements[$]:!0}ModifiedElementsAreEqual(J,$){if(this._modifiedElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._modifiedStringElements[J]===this._modifiedStringElements[$]:!0}ComputeDiff(J){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,J)}_ComputeDiff(J,$,Q,X,Y){let Z=[!1],G=this.ComputeDiffRecursive(J,$,Q,X,Z);if(Y)G=this.PrettifyChanges(G);return{quitEarly:Z[0],changes:G}}ComputeDiffRecursive(J,$,Q,X,Y){Y[0]=!1;while(J<=$&&Q<=X&&this.ElementsAreEqual(J,Q))J++,Q++;while($>=J&&X>=Q&&this.ElementsAreEqual($,X))$--,X--;if(J>$||Q>X){let H;if(Q<=X)Y2.Assert(J===$+1,"originalStart should only be one more than originalEnd"),H=[new j$(J,0,Q,X-Q+1)];else if(J<=$)Y2.Assert(Q===X+1,"modifiedStart should only be one more than modifiedEnd"),H=[new j$(J,$-J+1,Q,0)];else Y2.Assert(J===$+1,"originalStart should only be one more than originalEnd"),Y2.Assert(Q===X+1,"modifiedStart should only be one more than modifiedEnd"),H=[];return H}let Z=[0],G=[0],q=this.ComputeRecursionPoint(J,$,Q,X,Z,G,Y),U=Z[0],z=G[0];if(q!==null)return q;else if(!Y[0]){let H=this.ComputeDiffRecursive(J,U,Q,z,Y),j=[];if(!Y[0])j=this.ComputeDiffRecursive(U+1,$,z+1,X,Y);else j=[new j$(U+1,$-(U+1)+1,z+1,X-(z+1)+1)];return this.ConcatenateChanges(H,j)}return[new j$(J,$-J+1,Q,X-Q+1)]}WALKTRACE(J,$,Q,X,Y,Z,G,q,U,z,H,j,V,W,B,K,P,A){let D=null,R=null,M=new s_,_=$,T=Q,w=V[0]-K[0]-X,b=-1073741824,S=this.m_forwardHistory.length-1;do{let g=w+J;if(g===_||g<T&&U[g-1]<U[g+1]){if(H=U[g+1],W=H-w-X,H<b)M.MarkNextChange();b=H,M.AddModifiedElement(H+1,W),w=g+1-J}else{if(H=U[g-1]+1,W=H-w-X,H<b)M.MarkNextChange();b=H-1,M.AddOriginalElement(H,W+1),w=g-1-J}if(S>=0)U=this.m_forwardHistory[S],J=U[0],_=1,T=U.length-1}while(--S>=-1);if(D=M.getReverseChanges(),A[0]){let g=V[0]+1,c=K[0]+1;if(D!==null&&D.length>0){let C=D[D.length-1];g=Math.max(g,C.getOriginalEnd()),c=Math.max(c,C.getModifiedEnd())}R=[new j$(g,j-g+1,c,B-c+1)]}else{M=new s_,_=Z,T=G,w=V[0]-K[0]-q,b=1073741824,S=P?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let g=w+Y;if(g===_||g<T&&z[g-1]>=z[g+1]){if(H=z[g+1]-1,W=H-w-q,H>b)M.MarkNextChange();b=H+1,M.AddOriginalElement(H+1,W+1),w=g+1-Y}else{if(H=z[g-1],W=H-w-q,H>b)M.MarkNextChange();b=H,M.AddModifiedElement(H+1,W+1),w=g-1-Y}if(S>=0)z=this.m_reverseHistory[S],Y=z[0],_=1,T=z.length-1}while(--S>=-1);R=M.getChanges()}return this.ConcatenateChanges(D,R)}ComputeRecursionPoint(J,$,Q,X,Y,Z,G){let q=0,U=0,z=0,H=0,j=0,V=0;J--,Q--,Y[0]=0,Z[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let W=$-J+(X-Q),B=W+1,K=new Int32Array(B),P=new Int32Array(B),A=X-Q,D=$-J,R=J-Q,M=$-X,T=(D-A)%2===0;K[A]=J,P[D]=$,G[0]=!1;for(let w=1;w<=W/2+1;w++){let b=0,S=0;z=this.ClipDiagonalBound(A-w,w,A,B),H=this.ClipDiagonalBound(A+w,w,A,B);for(let c=z;c<=H;c+=2){if(c===z||c<H&&K[c-1]<K[c+1])q=K[c+1];else q=K[c-1]+1;U=q-(c-A)-R;let C=q;while(q<$&&U<X&&this.ElementsAreEqual(q+1,U+1))q++,U++;if(K[c]=q,q+U>b+S)b=q,S=U;if(!T&&Math.abs(c-D)<=w-1){if(q>=P[c])if(Y[0]=q,Z[0]=U,C<=P[c]&&1447>0&&w<=1448)return this.WALKTRACE(A,z,H,R,D,j,V,M,K,P,q,$,Y,U,X,Z,T,G);else return null}}let g=(b-J+(S-Q)-w)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(b,g))if(G[0]=!0,Y[0]=b,Z[0]=S,g>0&&1447>0&&w<=1448)return this.WALKTRACE(A,z,H,R,D,j,V,M,K,P,q,$,Y,U,X,Z,T,G);else return J++,Q++,[new j$(J,$-J+1,Q,X-Q+1)];j=this.ClipDiagonalBound(D-w,w,D,B),V=this.ClipDiagonalBound(D+w,w,D,B);for(let c=j;c<=V;c+=2){if(c===j||c<V&&P[c-1]>=P[c+1])q=P[c+1]-1;else q=P[c-1];U=q-(c-D)-M;let C=q;while(q>J&&U>Q&&this.ElementsAreEqual(q,U))q--,U--;if(P[c]=q,T&&Math.abs(c-A)<=w){if(q<=K[c])if(Y[0]=q,Z[0]=U,C>=K[c]&&1447>0&&w<=1448)return this.WALKTRACE(A,z,H,R,D,j,V,M,K,P,q,$,Y,U,X,Z,T,G);else return null}}if(w<=1447){let c=new Int32Array(H-z+2);c[0]=A-z+1,Z2.Copy2(K,z,c,1,H-z+1),this.m_forwardHistory.push(c),c=new Int32Array(V-j+2),c[0]=D-j+1,Z2.Copy2(P,j,c,1,V-j+1),this.m_reverseHistory.push(c)}}return this.WALKTRACE(A,z,H,R,D,j,V,M,K,P,q,$,Y,U,X,Z,T,G)}PrettifyChanges(J){for(let $=0;$<J.length;$++){let Q=J[$],X=$<J.length-1?J[$+1].originalStart:this._originalElementsOrHash.length,Y=$<J.length-1?J[$+1].modifiedStart:this._modifiedElementsOrHash.length,Z=Q.originalLength>0,G=Q.modifiedLength>0;while(Q.originalStart+Q.originalLength<X&&Q.modifiedStart+Q.modifiedLength<Y&&(!Z||this.OriginalElementsAreEqual(Q.originalStart,Q.originalStart+Q.originalLength))&&(!G||this.ModifiedElementsAreEqual(Q.modifiedStart,Q.modifiedStart+Q.modifiedLength))){let U=this.ElementsAreStrictEqual(Q.originalStart,Q.modifiedStart);if(this.ElementsAreStrictEqual(Q.originalStart+Q.originalLength,Q.modifiedStart+Q.modifiedLength)&&!U)break;Q.originalStart++,Q.modifiedStart++}let q=[null];if($<J.length-1&&this.ChangesOverlap(J[$],J[$+1],q)){J[$]=q[0],J.splice($+1,1),$--;continue}}for(let $=J.length-1;$>=0;$--){let Q=J[$],X=0,Y=0;if($>0){let H=J[$-1];X=H.originalStart+H.originalLength,Y=H.modifiedStart+H.modifiedLength}let Z=Q.originalLength>0,G=Q.modifiedLength>0,q=0,U=this._boundaryScore(Q.originalStart,Q.originalLength,Q.modifiedStart,Q.modifiedLength);for(let H=1;;H++){let j=Q.originalStart-H,V=Q.modifiedStart-H;if(j<X||V<Y)break;if(Z&&!this.OriginalElementsAreEqual(j,j+Q.originalLength))break;if(G&&!this.ModifiedElementsAreEqual(V,V+Q.modifiedLength))break;let B=(j===X&&V===Y?5:0)+this._boundaryScore(j,Q.originalLength,V,Q.modifiedLength);if(B>U)U=B,q=H}Q.originalStart-=q,Q.modifiedStart-=q;let z=[null];if($>0&&this.ChangesOverlap(J[$-1],J[$],z)){J[$-1]=z[0],J.splice($,1),$++;continue}}if(this._hasStrings)for(let $=1,Q=J.length;$<Q;$++){let X=J[$-1],Y=J[$],Z=Y.originalStart-X.originalStart-X.originalLength,G=X.originalStart,q=Y.originalStart+Y.originalLength,U=q-G,z=X.modifiedStart,H=Y.modifiedStart+Y.modifiedLength,j=H-z;if(Z<5&&U<20&&j<20){let V=this._findBetterContiguousSequence(G,U,z,j,Z);if(V){let[W,B]=V;if(W!==X.originalStart+X.originalLength||B!==X.modifiedStart+X.modifiedLength)X.originalLength=W-X.originalStart,X.modifiedLength=B-X.modifiedStart,Y.originalStart=W+Z,Y.modifiedStart=B+Z,Y.originalLength=q-Y.originalStart,Y.modifiedLength=H-Y.modifiedStart}}}return J}_findBetterContiguousSequence(J,$,Q,X,Y){if($<Y||X<Y)return null;let Z=J+$-Y+1,G=Q+X-Y+1,q=0,U=0,z=0;for(let H=J;H<Z;H++)for(let j=Q;j<G;j++){let V=this._contiguousSequenceScore(H,j,Y);if(V>0&&V>q)q=V,U=H,z=j}if(q>0)return[U,z];return null}_contiguousSequenceScore(J,$,Q){let X=0;for(let Y=0;Y<Q;Y++){if(!this.ElementsAreEqual(J+Y,$+Y))return 0;X+=this._originalStringElements[J+Y].length}return X}_OriginalIsBoundary(J){if(J<=0||J>=this._originalElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._originalStringElements[J])}_OriginalRegionIsBoundary(J,$){if(this._OriginalIsBoundary(J)||this._OriginalIsBoundary(J-1))return!0;if($>0){let Q=J+$;if(this._OriginalIsBoundary(Q-1)||this._OriginalIsBoundary(Q))return!0}return!1}_ModifiedIsBoundary(J){if(J<=0||J>=this._modifiedElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[J])}_ModifiedRegionIsBoundary(J,$){if(this._ModifiedIsBoundary(J)||this._ModifiedIsBoundary(J-1))return!0;if($>0){let Q=J+$;if(this._ModifiedIsBoundary(Q-1)||this._ModifiedIsBoundary(Q))return!0}return!1}_boundaryScore(J,$,Q,X){let Y=this._OriginalRegionIsBoundary(J,$)?1:0,Z=this._ModifiedRegionIsBoundary(Q,X)?1:0;return Y+Z}ConcatenateChanges(J,$){let Q=[];if(J.length===0||$.length===0)return $.length>0?$:J;else if(this.ChangesOverlap(J[J.length-1],$[0],Q)){let X=new Array(J.length+$.length-1);return Z2.Copy(J,0,X,0,J.length-1),X[J.length-1]=Q[0],Z2.Copy($,1,X,J.length,$.length-1),X}else{let X=new Array(J.length+$.length);return Z2.Copy(J,0,X,0,J.length),Z2.Copy($,0,X,J.length,$.length),X}}ChangesOverlap(J,$,Q){if(Y2.Assert(J.originalStart<=$.originalStart,"Left change is not less than or equal to right change"),Y2.Assert(J.modifiedStart<=$.modifiedStart,"Left change is not less than or equal to right change"),J.originalStart+J.originalLength>=$.originalStart||J.modifiedStart+J.modifiedLength>=$.modifiedStart){let{originalStart:X,originalLength:Y,modifiedStart:Z,modifiedLength:G}=J;if(J.originalStart+J.originalLength>=$.originalStart)Y=$.originalStart+$.originalLength-J.originalStart;if(J.modifiedStart+J.modifiedLength>=$.modifiedStart)G=$.modifiedStart+$.modifiedLength-J.modifiedStart;return Q[0]=new j$(X,Y,Z,G),!0}else return Q[0]=null,!1}ClipDiagonalBound(J,$,Q,X){if(J>=0&&J<X)return J;let Y=Q,Z=X-Q-1,G=$%2===0;if(J<0){let q=Y%2===0;return G===q?0:1}else{let q=Z%2===0;return G===q?X-1:X-2}}}var gF=N(()=>{iX()});function G2(J){if(J<0)return 0;if(J>255)return 255;return J|0}function q2(J){if(J<0)return 0;if(J>4294967295)return 4294967295;return J|0}class a_{constructor(J){this.values=J,this.prefixSum=new Uint32Array(J.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(J,$){J=q2(J);let Q=this.values,X=this.prefixSum,Y=$.length;if(Y===0)return!1;if(this.values=new Uint32Array(Q.length+Y),this.values.set(Q.subarray(0,J),0),this.values.set(Q.subarray(J),J+Y),this.values.set($,J),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0)this.prefixSum.set(X.subarray(0,this.prefixSumValidIndex[0]+1));return!0}setValue(J,$){if(J=q2(J),$=q2($),this.values[J]===$)return!1;if(this.values[J]=$,J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;return!0}removeValues(J,$){J=q2(J),$=q2($);let Q=this.values,X=this.prefixSum;if(J>=Q.length)return!1;let Y=Q.length-J;if($>=Y)$=Y;if($===0)return!1;if(this.values=new Uint32Array(Q.length-$),this.values.set(Q.subarray(0,J),0),this.values.set(Q.subarray(J+$),J),this.prefixSum=new Uint32Array(this.values.length),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSumValidIndex[0]>=0)this.prefixSum.set(X.subarray(0,this.prefixSumValidIndex[0]+1));return!0}getTotalSum(){if(this.values.length===0)return 0;return this._getPrefixSum(this.values.length-1)}getPrefixSum(J){if(J<0)return 0;return J=q2(J),this._getPrefixSum(J)}_getPrefixSum(J){if(J<=this.prefixSumValidIndex[0])return this.prefixSum[J];let $=this.prefixSumValidIndex[0]+1;if($===0)this.prefixSum[0]=this.values[0],$++;if(J>=this.values.length)J=this.values.length-1;for(let Q=$;Q<=J;Q++)this.prefixSum[Q]=this.prefixSum[Q-1]+this.values[Q];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],J),this.prefixSum[J]}getIndexOf(J){J=Math.floor(J),this.getTotalSum();let $=0,Q=this.values.length-1,X=0,Y=0,Z=0;while($<=Q)if(X=$+(Q-$)/2|0,Y=this.prefixSum[X],Z=Y-this.values[X],J<Z)Q=X-1;else if(J>=Y)$=X+1;else break;return new i_(X,J-Z)}}class r_{constructor(J){this._values=J,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(J){if(this._ensureValid(),J===0)return 0;return this._prefixSum[J-1]}getIndexOf(J){this._ensureValid();let $=this._indexBySum[J],Q=$>0?this._prefixSum[$-1]:0;return new i_($,J-Q)}removeValues(J,$){this._values.splice(J,$),this._invalidate(J)}insertValues(J,$){this._values=xX(this._values,J,$),this._invalidate(J)}_invalidate(J){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,J-1)}_ensureValid(){if(this._isValid)return;for(let J=this._validEndIndex+1,$=this._values.length;J<$;J++){let Q=this._values[J],X=J>0?this._prefixSum[J-1]:0;this._prefixSum[J]=X+Q;for(let Y=0;Y<Q;Y++)this._indexBySum[X+Y]=J}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}setValue(J,$){if(this._values[J]===$)return;this._values[J]=$,this._invalidate(J)}}class i_{constructor(J,$){this.index=J,this.remainder=$,this._prefixSumIndexOfResultBrand=void 0,this.index=J,this.remainder=$}}var n_=N(()=>{U1()});class o_{constructor(J,$,Q,X){this._uri=J,this._lines=$,this._eol=Q,this._versionId=X,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){if(this._cachedTextValue===null)this._cachedTextValue=this._lines.join(this._eol);return this._cachedTextValue}onEvents(J){if(J.eol&&J.eol!==this._eol)this._eol=J.eol,this._lineStarts=null;let $=J.changes;for(let Q of $)this._acceptDeleteRange(Q.range),this._acceptInsertText(new v(Q.range.startLineNumber,Q.range.startColumn),Q.text);this._versionId=J.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let J=this._eol.length,$=this._lines.length,Q=new Uint32Array($);for(let X=0;X<$;X++)Q[X]=this._lines[X].length+J;this._lineStarts=new a_(Q)}}_setLineText(J,$){if(this._lines[J]=$,this._lineStarts)this._lineStarts.setValue(J,this._lines[J].length+this._eol.length)}_acceptDeleteRange(J){if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.startLineNumber-1].substring(J.endColumn-1));return}if(this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.endLineNumber-1].substring(J.endColumn-1)),this._lines.splice(J.startLineNumber,J.endLineNumber-J.startLineNumber),this._lineStarts)this._lineStarts.removeValues(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$){if($.length===0)return;let Q=Q9($);if(Q.length===1){this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+Q[0]+this._lines[J.lineNumber-1].substring(J.column-1));return}Q[Q.length-1]+=this._lines[J.lineNumber-1].substring(J.column-1),this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+Q[0]);let X=new Uint32Array(Q.length-1);for(let Y=1;Y<Q.length;Y++)this._lines.splice(J.lineNumber+Y-1,0,Q[Y]),X[Y-1]=Q[Y].length+this._eol.length;if(this._lineStarts)this._lineStarts.insertValues(J.lineNumber,X)}}var zv=N(()=>{t0();n_()});class bQ{constructor(J){let $=G2(J);this._defaultValue=$,this._asciiMap=bQ._createAsciiMap($),this._map=new Map}static _createAsciiMap(J){let $=new Uint8Array(256);return $.fill(J),$}set(J,$){let Q=G2($);if(J>=0&&J<256)this._asciiMap[J]=Q;else this._map.set(J,Q)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else return this._map.get(J)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class vz{constructor(){this._actual=new bQ(0)}add(J){this._actual.set(J,1)}has(J){return this._actual.get(J)===1}clear(){return this._actual.clear()}}var Hq=()=>{};class Hv{constructor(J,$,Q){let X=new Uint8Array(J*$);for(let Y=0,Z=J*$;Y<Z;Y++)X[Y]=Q;this._data=X,this.rows=J,this.cols=$}get(J,$){return this._data[J*this.cols+$]}set(J,$,Q){this._data[J*this.cols+$]=Q}}class jv{constructor(J){let $=0,Q=0;for(let Y=0,Z=J.length;Y<Z;Y++){let[G,q,U]=J[Y];if(q>$)$=q;if(G>Q)Q=G;if(U>Q)Q=U}$++,Q++;let X=new Hv(Q,$,0);for(let Y=0,Z=J.length;Y<Z;Y++){let[G,q,U]=J[Y];X.set(G,q,U)}this._states=X,this._maxCharCode=$}nextState(J,$){if($<0||$>=this._maxCharCode)return 0;return this._states.get(J,$)}}function e60(){if(t_===null)t_=new jv([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]);return t_}function J50(){if(hz===null){hz=new bQ(0);let J=` \t<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;for(let Q=0;Q<J.length;Q++)hz.set(J.charCodeAt(Q),1);let $=".,;:";for(let Q=0;Q<$.length;Q++)hz.set($.charCodeAt(Q),2)}return hz}class pF{static _createLink(J,$,Q,X,Y){let Z=Y-1;do{let G=$.charCodeAt(Z);if(J.get(G)!==2)break;Z--}while(Z>X);if(X>0){let G=$.charCodeAt(X-1),q=$.charCodeAt(Z);if(G===40&&q===41||G===91&&q===93||G===123&&q===125)Z--}return{range:{startLineNumber:Q,startColumn:X+1,endLineNumber:Q,endColumn:Z+2},url:$.substring(X,Z+1)}}static computeLinks(J,$=e60()){let Q=J50(),X=[];for(let Y=1,Z=J.getLineCount();Y<=Z;Y++){let G=J.getLineContent(Y),q=G.length,U=0,z=0,H=0,j=1,V=!1,W=!1,B=!1,K=!1;while(U<q){let P=!1,A=G.charCodeAt(U);if(j===13){let D;switch(A){case 40:V=!0,D=0;break;case 41:D=V?0:1;break;case 91:B=!0,W=!0,D=0;break;case 93:B=!1,D=W?0:1;break;case 123:K=!0,D=0;break;case 125:D=K?0:1;break;case 39:case 34:case 96:if(H===A)D=1;else if(H===39||H===34||H===96)D=0;else D=1;break;case 42:D=H===42?1:0;break;case 124:D=H===124?1:0;break;case 32:D=B?0:1;break;default:D=Q.get(A)}if(D===1)X.push(pF._createLink(Q,G,Y,z,U)),P=!0}else if(j===12){let D;if(A===91)W=!0,D=0;else D=Q.get(A);if(D===1)P=!0;else j=13}else if(j=$.nextState(j,A),j===0)P=!0;if(P)j=1,V=!1,W=!1,K=!1,z=U+1,H=A;U++}if(j===13)X.push(pF._createLink(Q,G,Y,z,q))}return X}}function Vv(J){if(!J||typeof J.getLineCount!=="function"||typeof J.getLineContent!=="function")return[];return pF.computeLinks(J)}var t_=null,hz=null;var Wv=N(()=>{Hq()});class fz{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(J,$,Q,X,Y){if(J&&$){let Z=this.doNavigateValueSet($,Y);if(Z)return{range:J,value:Z}}if(Q&&X){let Z=this.doNavigateValueSet(X,Y);if(Z)return{range:Q,value:Z}}return null}doNavigateValueSet(J,$){let Q=this.numberReplace(J,$);if(Q!==null)return Q;return this.textReplace(J,$)}numberReplace(J,$){let Q=Math.pow(10,J.length-(J.lastIndexOf(".")+1)),X=Number(J),Y=parseFloat(J);if(!isNaN(X)&&!isNaN(Y)&&X===Y)if(X===0&&!$)return null;else return X=Math.floor(X*Q),X+=$?Q:-Q,String(X/Q);return null}textReplace(J,$){return this.valueSetsReplace(this._defaultValueSet,J,$)}valueSetsReplace(J,$,Q){let X=null;for(let Y=0,Z=J.length;X===null&&Y<Z;Y++)X=this.valueSetReplace(J[Y],$,Q);return X}valueSetReplace(J,$,Q){let X=J.indexOf($);if(X>=0){if(X+=Q?1:-1,X<0)X=J.length-1;else X%=J.length;return J[X]}return null}}var Bv=N(()=>{fz.INSTANCE=new fz});function $50(J){let $={};return(Q)=>{if(!$.hasOwnProperty(Q))$[Q]=J(Q);return $[Q]}}var Fv,V$;var gz=N(()=>{Hq();Fv=class Fv extends bQ{constructor(J){super(0);for(let $=0,Q=J.length;$<Q;$++)this.set(J.charCodeAt($),2);this.set(32,1),this.set(9,1)}};V$=$50((J)=>new Fv(J))});class z2{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(J){if(this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,J.tabSize|0),J.indentSize==="tabSize")this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0;else this.indentSize=Math.max(1,J.indentSize|0),this._indentSizeIsTabSize=!1;this.insertSpaces=Boolean(J.insertSpaces),this.defaultEOL=J.defaultEOL|0,this.trimAutoWhitespace=Boolean(J.trimAutoWhitespace),this.bracketPairColorizationOptions=J.bracketPairColorizationOptions}equals(J){return this.tabSize===J.tabSize&&this._indentSizeIsTabSize===J._indentSizeIsTabSize&&this.indentSize===J.indentSize&&this.insertSpaces===J.insertSpaces&&this.defaultEOL===J.defaultEOL&&this.trimAutoWhitespace===J.trimAutoWhitespace&&L5(this.bracketPairColorizationOptions,J.bracketPairColorizationOptions)}createChangeEvent(J){return{tabSize:this.tabSize!==J.tabSize,indentSize:this.indentSize!==J.indentSize,insertSpaces:this.insertSpaces!==J.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==J.trimAutoWhitespace}}}class SQ{constructor(J,$){this._findMatchBrand=void 0,this.range=J,this.matches=$}}function Kv(J){return J&&typeof J.read==="function"}class pz{constructor(J,$,Q,X,Y,Z){this.identifier=J,this.range=$,this.text=Q,this.forceMoveMarkers=X,this.isAutoWhitespaceEdit=Y,this._isTracked=Z}}class e_{constructor(J,$,Q){this.regex=J,this.wordSeparators=$,this.simpleSearch=Q}}class JO{constructor(J,$,Q){this.reverseEdits=J,this.changes=$,this.trimAutoWhitespaceLineNumbers=Q}}function Av(J){return!J.isTooLargeForSyncing()&&!J.isForSimpleWidget}var jq,p9,w4,U2;var v7=N(()=>{j7();(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(jq||(jq={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(p9||(p9={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(w4||(w4={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(U2||(U2={}))});class QY{constructor(J,$,Q,X){this.searchString=J,this.isRegex=$,this.matchCase=Q,this.wordSeparators=X}parseSearchRequest(){if(this.searchString==="")return null;let J;if(this.isRegex)J=Y50(this.searchString);else J=this.searchString.indexOf(`
`)>=0;let $=null;try{$=xB(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:J,global:!0,unicode:!0})}catch(X){return null}if(!$)return null;let Q=!this.isRegex&&!J;if(Q&&this.searchString.toLowerCase()!==this.searchString.toUpperCase())Q=this.matchCase;return new e_($,this.wordSeparators?V$(this.wordSeparators):null,Q?this.searchString:null)}}function Y50(J){if(!J||J.length===0)return!1;for(let $=0,Q=J.length;$<Q;$++){let X=J.charCodeAt($);if(X===10)return!0;if(X===92){if($++,$>=Q)break;let Y=J.charCodeAt($);if(Y===110||Y===114||Y===87)return!0}}return!1}function $Y(J,$,Q){if(!Q)return new SQ(J,null);let X=[];for(let Y=0,Z=$.length;Y<Z;Y++)X[Y]=$[Y];return new SQ(J,X)}class $O{constructor(J){let $=[],Q=0;for(let X=0,Y=J.length;X<Y;X++)if(J.charCodeAt(X)===10)$[Q++]=X;this._lineFeedsOffsets=$}findLineFeedCountBeforeOffset(J){let $=this._lineFeedsOffsets,Q=0,X=$.length-1;if(X===-1)return 0;if(J<=$[0])return 0;while(Q<X){let Y=Q+((X-Q)/2>>0);if($[Y]>=J)X=Y-1;else if($[Y+1]>=J)Q=Y,X=Y;else Q=Y+1}return Q+1}}class Vq{static findMatches(J,$,Q,X,Y){let Z=$.parseSearchRequest();if(!Z)return[];if(Z.regex.multiline)return this._doFindMatchesMultiline(J,Q,new CQ(Z.wordSeparators,Z.regex),X,Y);return this._doFindMatchesLineByLine(J,Q,Z,X,Y)}static _getMultilineMatchRange(J,$,Q,X,Y,Z){let G,q=0;if(X)q=X.findLineFeedCountBeforeOffset(Y),G=$+Y+q;else G=$+Y;let U;if(X){let V=X.findLineFeedCountBeforeOffset(Y+Z.length)-q;U=G+Z.length+V}else U=G+Z.length;let z=J.getPositionAt(G),H=J.getPositionAt(U);return new L(z.lineNumber,z.column,H.lineNumber,H.column)}static _doFindMatchesMultiline(J,$,Q,X,Y){let Z=J.getOffsetAt($.getStartPosition()),G=J.getValueInRange($,1),q=J.getEOL()===`\r
`?new $O(G):null,U=[],z=0,H;Q.reset(0);while(H=Q.next(G))if(U[z++]=$Y(this._getMultilineMatchRange(J,Z,G,q,H.index,H[0]),H,X),z>=Y)return U;return U}static _doFindMatchesLineByLine(J,$,Q,X,Y){let Z=[],G=0;if($.startLineNumber===$.endLineNumber){let U=J.getLineContent($.startLineNumber).substring($.startColumn-1,$.endColumn-1);return G=this._findMatchesInLine(Q,U,$.startLineNumber,$.startColumn-1,G,Z,X,Y),Z}let q=J.getLineContent($.startLineNumber).substring($.startColumn-1);G=this._findMatchesInLine(Q,q,$.startLineNumber,$.startColumn-1,G,Z,X,Y);for(let U=$.startLineNumber+1;U<$.endLineNumber&&G<Y;U++)G=this._findMatchesInLine(Q,J.getLineContent(U),U,0,G,Z,X,Y);if(G<Y){let U=J.getLineContent($.endLineNumber).substring(0,$.endColumn-1);G=this._findMatchesInLine(Q,U,$.endLineNumber,0,G,Z,X,Y)}return Z}static _findMatchesInLine(J,$,Q,X,Y,Z,G,q){let U=J.wordSeparators;if(!G&&J.simpleSearch){let j=J.simpleSearch,V=j.length,W=$.length,B=-V;while((B=$.indexOf(j,B+V))!==-1)if(!U||mF(U,$,W,B,V)){if(Z[Y++]=new SQ(new L(Q,B+1+X,Q,B+1+V+X),null),Y>=q)return Y}return Y}let z=new CQ(J.wordSeparators,J.regex),H;z.reset(0);do if(H=z.next($),H){if(Z[Y++]=$Y(new L(Q,H.index+1+X,Q,H.index+1+H[0].length+X),H,G),Y>=q)return Y}while(H);return Y}static findNextMatch(J,$,Q,X){let Y=$.parseSearchRequest();if(!Y)return null;let Z=new CQ(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindNextMatchMultiline(J,Q,Z,X);return this._doFindNextMatchLineByLine(J,Q,Z,X)}static _doFindNextMatchMultiline(J,$,Q,X){let Y=new v($.lineNumber,1),Z=J.getOffsetAt(Y),G=J.getLineCount(),q=J.getValueInRange(new L(Y.lineNumber,Y.column,G,J.getLineMaxColumn(G)),1),U=J.getEOL()===`\r
`?new $O(q):null;Q.reset($.column-1);let z=Q.next(q);if(z)return $Y(this._getMultilineMatchRange(J,Z,q,U,z.index,z[0]),z,X);if($.lineNumber!==1||$.column!==1)return this._doFindNextMatchMultiline(J,new v(1,1),Q,X);return null}static _doFindNextMatchLineByLine(J,$,Q,X){let Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z),q=this._findFirstMatchInLine(Q,G,Z,$.column,X);if(q)return q;for(let U=1;U<=Y;U++){let z=(Z+U-1)%Y,H=J.getLineContent(z+1),j=this._findFirstMatchInLine(Q,H,z+1,1,X);if(j)return j}return null}static _findFirstMatchInLine(J,$,Q,X,Y){J.reset(X-1);let Z=J.next($);if(Z)return $Y(new L(Q,Z.index+1,Q,Z.index+1+Z[0].length),Z,Y);return null}static findPreviousMatch(J,$,Q,X){let Y=$.parseSearchRequest();if(!Y)return null;let Z=new CQ(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindPreviousMatchMultiline(J,Q,Z,X);return this._doFindPreviousMatchLineByLine(J,Q,Z,X)}static _doFindPreviousMatchMultiline(J,$,Q,X){let Y=this._doFindMatchesMultiline(J,new L(1,1,$.lineNumber,$.column),Q,X,10*X50);if(Y.length>0)return Y[Y.length-1];let Z=J.getLineCount();if($.lineNumber!==Z||$.column!==J.getLineMaxColumn(Z))return this._doFindPreviousMatchMultiline(J,new v(Z,J.getLineMaxColumn(Z)),Q,X);return null}static _doFindPreviousMatchLineByLine(J,$,Q,X){let Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z).substring(0,$.column-1),q=this._findLastMatchInLine(Q,G,Z,X);if(q)return q;for(let U=1;U<=Y;U++){let z=(Y+Z-U-1)%Y,H=J.getLineContent(z+1),j=this._findLastMatchInLine(Q,H,z+1,X);if(j)return j}return null}static _findLastMatchInLine(J,$,Q,X){let Y=null,Z;J.reset(0);while(Z=J.next($))Y=$Y(new L(Q,Z.index+1,Q,Z.index+1+Z[0].length),Z,X);return Y}}function Z50(J,$,Q,X,Y){if(X===0)return!0;let Z=$.charCodeAt(X-1);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){let G=$.charCodeAt(X);if(J.get(G)!==0)return!0}return!1}function G50(J,$,Q,X,Y){if(X+Y===Q)return!0;let Z=$.charCodeAt(X+Y);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){let G=$.charCodeAt(X+Y-1);if(J.get(G)!==0)return!0}return!1}function mF(J,$,Q,X,Y){return Z50(J,$,Q,X,Y)&&G50(J,$,Q,X,Y)}class CQ{constructor(J,$){this._wordSeparators=J,this._searchRegex=$,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(J){this._searchRegex.lastIndex=J,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(J){let $=J.length,Q;do{if(this._prevMatchStartIndex+this._prevMatchLength===$)return null;if(Q=this._searchRegex.exec(J),!Q)return null;let X=Q.index,Y=Q[0].length;if(X===this._prevMatchStartIndex&&Y===this._prevMatchLength){if(Y===0){if(lG(J,$,this._searchRegex.lastIndex)>65535)this._searchRegex.lastIndex+=2;else this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=X,this._prevMatchLength=Y,!this._wordSeparators||mF(this._wordSeparators,J,$,X,Y))return Q}while(Q);return null}}var X50=999;var uF=N(()=>{t0();gz();l0();v7()});class XO{static computeUnicodeHighlights(J,$,Q){let X=Q?Q.startLineNumber:1,Y=Q?Q.endLineNumber:J.getLineCount(),Z=new QO($),G=Z.getCandidateCodePoints(),q;if(G==="allNonBasicAscii")q=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g");else q=new RegExp(`${q50(Array.from(G))}`,"g");let U=new CQ(null,q),z=[],H=!1,j,V=0,W=0,B=0;J:for(let K=X,P=Y;K<=P;K++){let A=J.getLineContent(K),D=A.length;U.reset(0);do if(j=U.next(A),j){let R=j.index,M=j.index+j[0].length;if(R>0){let b=A.charCodeAt(R-1);if(G6(b))R--}if(M+1<D){let b=A.charCodeAt(M-1);if(G6(b))M++}let _=A.substring(R,M),T=CX(R+1,uU,A,0);if(T&&T.endColumn<=R+1)T=null;let w=Z.shouldHighlightNonBasicASCII(_,T?T.word:null);if(w!==0){if(w===3)V++;else if(w===2)W++;else if(w===1)B++;else oG(w);let b=1000;if(z.length>=b){H=!0;break J}z.push(new L(K,R+1,K,M+1))}}while(j)}return{ranges:z,hasMore:H,ambiguousCharacterCount:V,invisibleCharacterCount:W,nonBasicAsciiCharacterCount:B}}static computeUnicodeHighlightReason(J,$){let Q=new QO($);switch(Q.shouldHighlightNonBasicASCII(J,null)){case 0:return null;case 2:return{kind:1};case 3:{let Y=J.codePointAt(0),Z=Q.ambiguousCharacters.getPrimaryConfusable(Y),G=DQ.getLocales().filter((q)=>!DQ.getInstance(new Set([...$.allowedLocales,q])).isAmbiguous(Y));return{kind:0,confusableWith:String.fromCodePoint(Z),notAmbiguousInLocales:G}}case 1:return{kind:2}}}}function q50(J,$){return`[${o8(J.map((X)=>String.fromCodePoint(X)).join(""))}]`}class QO{constructor(J){this.options=J,this.allowedCodePoints=new Set(J.allowedCodePoints),this.ambiguousCharacters=DQ.getInstance(new Set(J.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let J=new Set;if(this.options.invisibleCharacters){for(let $ of KQ.codePoints)if(!Pv(String.fromCodePoint($)))J.add($)}if(this.options.ambiguousCharacters)for(let $ of this.ambiguousCharacters.getConfusableCodePoints())J.add($);for(let $ of this.allowedCodePoints)J.delete($);return J}shouldHighlightNonBasicASCII(J,$){let Q=J.codePointAt(0);if(this.allowedCodePoints.has(Q))return 0;if(this.options.nonBasicASCII)return 1;let X=!1,Y=!1;if($)for(let Z of $){let G=Z.codePointAt(0),q=sG(Z);if(X=X||q,!q&&!this.ambiguousCharacters.isAmbiguous(G)&&!KQ.isInvisibleCharacter(G))Y=!0}if(!X&&Y)return 0;if(this.options.invisibleCharacters){if(!Pv(J)&&KQ.isInvisibleCharacter(Q))return 2}if(this.options.ambiguousCharacters){if(this.ambiguousCharacters.isAmbiguous(Q))return 3}return 0}}function Pv(J){return J===" "||J===`
`||J==="\t"}var Dv=N(()=>{l0();uF();t0();G$();bG()});class H2{constructor(J,$,Q){this.changes=J,this.moves=$,this.hitTimeout=Q}}class mz{constructor(J,$){this.lineRangeMapping=J,this.changes=$}}class s0{static addRange(J,$){let Q=0;while(Q<$.length&&$[Q].endExclusive<J.start)Q++;let X=Q;while(X<$.length&&$[X].start<=J.endExclusive)X++;if(Q===X)$.splice(Q,0,J);else{let Y=Math.min(J.start,$[Q].start),Z=Math.max(J.endExclusive,$[X-1].endExclusive);$.splice(Q,X-Q,new s0(Y,Z))}}static ofLength(J){return new s0(0,J)}static ofStartAndLength(J,$){return new s0(J,J+$)}constructor(J,$){if(this.start=J,this.endExclusive=$,J>$)throw new S1(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(J){return new s0(this.start+J,this.endExclusive+J)}deltaStart(J){return new s0(this.start+J,this.endExclusive)}deltaEnd(J){return new s0(this.start,this.endExclusive+J)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(J){return this.start<=J&&J<this.endExclusive}join(J){return new s0(Math.min(this.start,J.start),Math.max(this.endExclusive,J.endExclusive))}intersect(J){let $=Math.max(this.start,J.start),Q=Math.min(this.endExclusive,J.endExclusive);if($<=Q)return new s0($,Q);return}intersects(J){let $=Math.max(this.start,J.start),Q=Math.min(this.endExclusive,J.endExclusive);return $<Q}isBefore(J){return this.endExclusive<=J.start}isAfter(J){return this.start>=J.endExclusive}slice(J){return J.slice(this.start,this.endExclusive)}clip(J){if(this.isEmpty)throw new S1(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,J))}clipCyclic(J){if(this.isEmpty)throw new S1(`Invalid clipping range: ${this.toString()}`);if(J<this.start)return this.endExclusive-(this.start-J)%this.length;if(J>=this.endExclusive)return this.start+(J-this.start)%this.length;return J}forEach(J){for(let $=this.start;$<this.endExclusive;$++)J($)}}class cF{constructor(){this._sortedRanges=[]}addRange(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<J.start)$++;let Q=$;while(Q<this._sortedRanges.length&&this._sortedRanges[Q].start<=J.endExclusive)Q++;if($===Q)this._sortedRanges.splice($,0,J);else{let X=Math.min(J.start,this._sortedRanges[$].start),Y=Math.max(J.endExclusive,this._sortedRanges[Q-1].endExclusive);this._sortedRanges.splice($,Q-$,new s0(X,Y))}}toString(){return this._sortedRanges.map((J)=>J.toString()).join(", ")}intersectsStrict(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<=J.start)$++;return $<this._sortedRanges.length&&this._sortedRanges[$].start<J.endExclusive}intersectWithRange(J){let $=new cF;for(let Q of this._sortedRanges){let X=Q.intersect(J);if(X)$.addRange(X)}return $}intersectWithRangeLength(J){return this.intersectWithRange(J).length}get length(){return this._sortedRanges.reduce((J,$)=>J+$.length,0)}}var m9=N(()=>{P1()});function j2(J,$,Q){let X=U50(J,$);if(X===-1)return;return J[X]}function U50(J,$,Q=J.length-1){for(let X=Q;X>=0;X--){let Y=J[X];if($(Y))return X}return-1}function vQ(J,$){let Q=V2(J,$);return Q===-1?void 0:J[Q]}function V2(J,$,Q=0,X=J.length){let Y=Q,Z=X;while(Y<Z){let G=Math.floor((Y+Z)/2);if($(J[G]))Y=G+1;else Z=G}return Y-1}function Rv(J,$){let Q=Wq(J,$);return Q===J.length?void 0:J[Q]}function Wq(J,$,Q=0,X=J.length){let Y=Q,Z=X;while(Y<Z){let G=Math.floor((Y+Z)/2);if($(J[G]))Z=G;else Y=G+1}return Y}class Bq{constructor(J){this._array=J,this._findLastMonotonousLastIdx=0}findLastMonotonous(J){if(Bq.assertInvariants){if(this._prevFindLastPredicate){for(let Q of this._array)if(this._prevFindLastPredicate(Q)&&!J(Q))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=J}let $=V2(this._array,J,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=$+1,$===-1?void 0:this._array[$]}}function YO(J,$){if(J.length===0)return;let Q=J[0];for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,Q)>0)Q=Y}return Q}function Mv(J,$){if(J.length===0)return;let Q=J[0];for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,Q)>=0)Q=Y}return Q}function _v(J,$){return YO(J,(Q,X)=>-$(Q,X))}function Ov(J,$){if(J.length===0)return-1;let Q=0;for(let X=1;X<J.length;X++){let Y=J[X];if($(Y,J[Q])>0)Q=X}return Q}var zJ=N(()=>{Bq.assertInvariants=!1});class S0{static fromRangeInclusive(J){return new S0(J.startLineNumber,J.endLineNumber+1)}static joinMany(J){if(J.length===0)return[];let $=new h7(J[0].slice());for(let Q=1;Q<J.length;Q++)$=$.getUnion(new h7(J[Q].slice()));return $.ranges}static ofLength(J,$){return new S0(J,J+$)}static deserialize(J){return new S0(J[0],J[1])}constructor(J,$){if(J>$)throw new S1(`startLineNumber ${J} cannot be after endLineNumberExclusive ${$}`);this.startLineNumber=J,this.endLineNumberExclusive=$}contains(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(J){return new S0(this.startLineNumber+J,this.endLineNumberExclusive+J)}deltaLength(J){return new S0(this.startLineNumber,this.endLineNumberExclusive+J)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(J){return new S0(Math.min(this.startLineNumber,J.startLineNumber),Math.max(this.endLineNumberExclusive,J.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(J){let $=Math.max(this.startLineNumber,J.startLineNumber),Q=Math.min(this.endLineNumberExclusive,J.endLineNumberExclusive);if($<=Q)return new S0($,Q);return}intersectsStrict(J){return this.startLineNumber<J.endLineNumberExclusive&&J.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(J){return this.startLineNumber<=J.endLineNumberExclusive&&J.startLineNumber<=this.endLineNumberExclusive}equals(J){return this.startLineNumber===J.startLineNumber&&this.endLineNumberExclusive===J.endLineNumberExclusive}toInclusiveRange(){if(this.isEmpty)return null;return new L(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new L(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(J){let $=[];for(let Q=this.startLineNumber;Q<this.endLineNumberExclusive;Q++)$.push(J(Q));return $}forEach(J){for(let $=this.startLineNumber;$<this.endLineNumberExclusive;$++)J($)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}toOffsetRange(){return new s0(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class h7{constructor(J=[]){this._normalizedRanges=J}get ranges(){return this._normalizedRanges}addRange(J){if(J.length===0)return;let $=Wq(this._normalizedRanges,(X)=>X.endLineNumberExclusive>=J.startLineNumber),Q=V2(this._normalizedRanges,(X)=>X.startLineNumber<=J.endLineNumberExclusive)+1;if($===Q)this._normalizedRanges.splice($,0,J);else if($===Q-1){let X=this._normalizedRanges[$];this._normalizedRanges[$]=X.join(J)}else{let X=this._normalizedRanges[$].join(this._normalizedRanges[Q-1]).join(J);this._normalizedRanges.splice($,Q-$,X)}}contains(J){let $=vQ(this._normalizedRanges,(Q)=>Q.startLineNumber<=J);return!!$&&$.endLineNumberExclusive>J}intersects(J){let $=vQ(this._normalizedRanges,(Q)=>Q.startLineNumber<J.endLineNumberExclusive);return!!$&&$.endLineNumberExclusive>J.startLineNumber}getUnion(J){if(this._normalizedRanges.length===0)return J;if(J._normalizedRanges.length===0)return this;let $=[],Q=0,X=0,Y=null;while(Q<this._normalizedRanges.length||X<J._normalizedRanges.length){let Z=null;if(Q<this._normalizedRanges.length&&X<J._normalizedRanges.length){let G=this._normalizedRanges[Q],q=J._normalizedRanges[X];if(G.startLineNumber<q.startLineNumber)Z=G,Q++;else Z=q,X++}else if(Q<this._normalizedRanges.length)Z=this._normalizedRanges[Q],Q++;else Z=J._normalizedRanges[X],X++;if(Y===null)Y=Z;else if(Y.endLineNumberExclusive>=Z.startLineNumber)Y=new S0(Y.startLineNumber,Math.max(Y.endLineNumberExclusive,Z.endLineNumberExclusive));else $.push(Y),Y=Z}if(Y!==null)$.push(Y);return new h7($)}subtractFrom(J){let $=Wq(this._normalizedRanges,(Z)=>Z.endLineNumberExclusive>=J.startLineNumber),Q=V2(this._normalizedRanges,(Z)=>Z.startLineNumber<=J.endLineNumberExclusive)+1;if($===Q)return new h7([J]);let X=[],Y=J.startLineNumber;for(let Z=$;Z<Q;Z++){let G=this._normalizedRanges[Z];if(G.startLineNumber>Y)X.push(new S0(Y,G.startLineNumber));Y=G.endLineNumberExclusive}if(Y<J.endLineNumberExclusive)X.push(new S0(Y,J.endLineNumberExclusive));return new h7(X)}toString(){return this._normalizedRanges.map((J)=>J.toString()).join(", ")}getIntersection(J){let $=[],Q=0,X=0;while(Q<this._normalizedRanges.length&&X<J._normalizedRanges.length){let Y=this._normalizedRanges[Q],Z=J._normalizedRanges[X],G=Y.intersect(Z);if(G&&!G.isEmpty)$.push(G);if(Y.endLineNumberExclusive<Z.endLineNumberExclusive)Q++;else X++}return new h7($)}getWithDelta(J){return new h7(this._normalizedRanges.map(($)=>$.delta(J)))}}var f7=N(()=>{P1();m9();l0();zJ()});class Q8{static inverse(J,$,Q){let X=[],Y=1,Z=1;for(let q of J){let U=new Q8(new S0(Y,q.original.startLineNumber),new S0(Z,q.modified.startLineNumber));if(!U.modified.isEmpty)X.push(U);Y=q.original.endLineNumberExclusive,Z=q.modified.endLineNumberExclusive}let G=new Q8(new S0(Y,$+1),new S0(Z,Q+1));if(!G.modified.isEmpty)X.push(G);return X}static clip(J,$,Q){let X=[];for(let Y of J){let Z=Y.original.intersect($),G=Y.modified.intersect(Q);if(Z&&!Z.isEmpty&&G&&!G.isEmpty)X.push(new Q8(Z,G))}return X}constructor(J,$){this.original=J,this.modified=$}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new Q8(this.modified,this.original)}join(J){return new Q8(this.original.join(J.original),this.modified.join(J.modified))}}class u9{constructor(J,$){this.originalRange=J,this.modifiedRange=$}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new u9(this.modifiedRange,this.originalRange)}}var K7;var XY=N(()=>{f7();K7=class K7 extends Q8{constructor(J,$,Q){super(J,$);this.innerChanges=Q}flip(){var J;return new K7(this.modified,this.original,(J=this.innerChanges)===null||J===void 0?void 0:J.map(($)=>$.flip()))}}});class UO{computeDiff(J,$,Q){var X;let Z=new Lv(J,$,{maxComputationTime:Q.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Q.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),G=[],q=null;for(let U of Z.changes){let z;if(U.originalEndLineNumber===0)z=new S0(U.originalStartLineNumber+1,U.originalStartLineNumber+1);else z=new S0(U.originalStartLineNumber,U.originalEndLineNumber+1);let H;if(U.modifiedEndLineNumber===0)H=new S0(U.modifiedStartLineNumber+1,U.modifiedStartLineNumber+1);else H=new S0(U.modifiedStartLineNumber,U.modifiedEndLineNumber+1);let j=new K7(z,H,(X=U.charChanges)===null||X===void 0?void 0:X.map((V)=>new u9(new L(V.originalStartLineNumber,V.originalStartColumn,V.originalEndLineNumber,V.originalEndColumn),new L(V.modifiedStartLineNumber,V.modifiedStartColumn,V.modifiedEndLineNumber,V.modifiedEndColumn))));if(q){if(q.modified.endLineNumberExclusive===j.modified.startLineNumber||q.original.endLineNumberExclusive===j.original.startLineNumber)j=new K7(q.original.join(j.original),q.modified.join(j.modified),q.innerChanges&&j.innerChanges?q.innerChanges.concat(j.innerChanges):void 0),G.pop()}G.push(j),q=j}return Z$(()=>{return $F(G,(U,z)=>z.original.startLineNumber-U.original.endLineNumberExclusive===z.modified.startLineNumber-U.modified.endLineNumberExclusive&&U.original.endLineNumberExclusive<z.original.startLineNumber&&U.modified.endLineNumberExclusive<z.modified.startLineNumber)}),new H2(G,[],Z.quitEarly)}}function Tv(J,$,Q,X){return new UJ(J,$,Q).ComputeDiff(X)}class ZO{constructor(J){let $=[],Q=[];for(let X=0,Y=J.length;X<Y;X++)$[X]=GO(J[X],1),Q[X]=qO(J[X],1);this.lines=J,this._startColumns=$,this._endColumns=Q}getElements(){let J=[];for(let $=0,Q=this.lines.length;$<Q;$++)J[$]=this.lines[$].substring(this._startColumns[$]-1,this._endColumns[$]-1);return J}getStrictElement(J){return this.lines[J]}getStartLineNumber(J){return J+1}getEndLineNumber(J){return J+1}createCharSequence(J,$,Q){let X=[],Y=[],Z=[],G=0;for(let q=$;q<=Q;q++){let U=this.lines[q],z=J?this._startColumns[q]:1,H=J?this._endColumns[q]:U.length+1;for(let j=z;j<H;j++)X[G]=U.charCodeAt(j-1),Y[G]=q+1,Z[G]=j,G++;if(!J&&q<Q)X[G]=10,Y[G]=q+1,Z[G]=U.length+1,G++}return new wv(X,Y,Z)}}class wv{constructor(J,$,Q){this._charCodes=J,this._lineNumbers=$,this._columns=Q}toString(){return"["+this._charCodes.map((J,$)=>(J===10?"\\n":String.fromCharCode(J))+`-(${this._lineNumbers[$]},${this._columns[$]})`).join(", ")+"]"}_assertIndex(J,$){if(J<0||J>=$.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(J){if(J>0&&J===this._lineNumbers.length)return this.getEndLineNumber(J-1);return this._assertIndex(J,this._lineNumbers),this._lineNumbers[J]}getEndLineNumber(J){if(J===-1)return this.getStartLineNumber(J+1);if(this._assertIndex(J,this._lineNumbers),this._charCodes[J]===10)return this._lineNumbers[J]+1;return this._lineNumbers[J]}getStartColumn(J){if(J>0&&J===this._columns.length)return this.getEndColumn(J-1);return this._assertIndex(J,this._columns),this._columns[J]}getEndColumn(J){if(J===-1)return this.getStartColumn(J+1);if(this._assertIndex(J,this._columns),this._charCodes[J]===10)return 1;return this._columns[J]+1}}class Fq{constructor(J,$,Q,X,Y,Z,G,q){this.originalStartLineNumber=J,this.originalStartColumn=$,this.originalEndLineNumber=Q,this.originalEndColumn=X,this.modifiedStartLineNumber=Y,this.modifiedStartColumn=Z,this.modifiedEndLineNumber=G,this.modifiedEndColumn=q}static createFromDiffChange(J,$,Q){let X=$.getStartLineNumber(J.originalStart),Y=$.getStartColumn(J.originalStart),Z=$.getEndLineNumber(J.originalStart+J.originalLength-1),G=$.getEndColumn(J.originalStart+J.originalLength-1),q=Q.getStartLineNumber(J.modifiedStart),U=Q.getStartColumn(J.modifiedStart),z=Q.getEndLineNumber(J.modifiedStart+J.modifiedLength-1),H=Q.getEndColumn(J.modifiedStart+J.modifiedLength-1);return new Fq(X,Y,Z,G,q,U,z,H)}}function H50(J){if(J.length<=1)return J;let $=[J[0]],Q=$[0];for(let X=1,Y=J.length;X<Y;X++){let Z=J[X],G=Z.originalStart-(Q.originalStart+Q.originalLength),q=Z.modifiedStart-(Q.modifiedStart+Q.modifiedLength);if(Math.min(G,q)<z50)Q.originalLength=Z.originalStart+Z.originalLength-Q.originalStart,Q.modifiedLength=Z.modifiedStart+Z.modifiedLength-Q.modifiedStart;else $.push(Z),Q=Z}return $}class uz{constructor(J,$,Q,X,Y){this.originalStartLineNumber=J,this.originalEndLineNumber=$,this.modifiedStartLineNumber=Q,this.modifiedEndLineNumber=X,this.charChanges=Y}static createFromDiffResult(J,$,Q,X,Y,Z,G){let q,U,z,H,j=void 0;if($.originalLength===0)q=Q.getStartLineNumber($.originalStart)-1,U=0;else q=Q.getStartLineNumber($.originalStart),U=Q.getEndLineNumber($.originalStart+$.originalLength-1);if($.modifiedLength===0)z=X.getStartLineNumber($.modifiedStart)-1,H=0;else z=X.getStartLineNumber($.modifiedStart),H=X.getEndLineNumber($.modifiedStart+$.modifiedLength-1);if(Z&&$.originalLength>0&&$.originalLength<20&&$.modifiedLength>0&&$.modifiedLength<20&&Y()){let V=Q.createCharSequence(J,$.originalStart,$.originalStart+$.originalLength-1),W=X.createCharSequence(J,$.modifiedStart,$.modifiedStart+$.modifiedLength-1);if(V.getElements().length>0&&W.getElements().length>0){let B=Tv(V,W,Y,!0).changes;if(G)B=H50(B);j=[];for(let K=0,P=B.length;K<P;K++)j.push(Fq.createFromDiffChange(B[K],V,W))}}return new uz(q,U,z,H,j)}}class Lv{constructor(J,$,Q){this.shouldComputeCharChanges=Q.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Q.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Q.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Q.shouldMakePrettyDiff,this.originalLines=J,this.modifiedLines=$,this.original=new ZO(J),this.modified=new ZO($),this.continueLineDiff=Nv(Q.maxComputationTime),this.continueCharDiff=Nv(Q.maxComputationTime===0?0:Math.min(Q.maxComputationTime,5000))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0){if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[]};return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]}}if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};let J=Tv(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),$=J.changes,Q=J.quitEarly;if(this.shouldIgnoreTrimWhitespace){let G=[];for(let q=0,U=$.length;q<U;q++)G.push(uz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,$[q],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Q,changes:G}}let X=[],Y=0,Z=0;for(let G=-1,q=$.length;G<q;G++){let U=G+1<q?$[G+1]:null,z=U?U.originalStart:this.originalLines.length,H=U?U.modifiedStart:this.modifiedLines.length;while(Y<z&&Z<H){let j=this.originalLines[Y],V=this.modifiedLines[Z];if(j!==V){{let W=GO(j,1),B=GO(V,1);while(W>1&&B>1){let K=j.charCodeAt(W-2),P=V.charCodeAt(B-2);if(K!==P)break;W--,B--}if(W>1||B>1)this._pushTrimWhitespaceCharChange(X,Y+1,1,W,Z+1,1,B)}{let W=qO(j,1),B=qO(V,1),K=j.length+1,P=V.length+1;while(W<K&&B<P){let A=j.charCodeAt(W-1),D=j.charCodeAt(B-1);if(A!==D)break;W++,B++}if(W<K||B<P)this._pushTrimWhitespaceCharChange(X,Y+1,W,K,Z+1,B,P)}}Y++,Z++}if(U)X.push(uz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,U,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Y+=U.originalLength,Z+=U.modifiedLength}return{quitEarly:Q,changes:X}}_pushTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G){if(this._mergeTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G))return;let q=void 0;if(this.shouldComputeCharChanges)q=[new Fq($,Q,$,X,Y,Z,Y,G)];J.push(new uz($,$,Y,Y,q))}_mergeTrimWhitespaceCharChange(J,$,Q,X,Y,Z,G){let q=J.length;if(q===0)return!1;let U=J[q-1];if(U.originalEndLineNumber===0||U.modifiedEndLineNumber===0)return!1;if(U.originalEndLineNumber===$&&U.modifiedEndLineNumber===Y){if(this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new Fq($,Q,$,X,Y,Z,Y,G));return!0}if(U.originalEndLineNumber+1===$&&U.modifiedEndLineNumber+1===Y){if(U.originalEndLineNumber=$,U.modifiedEndLineNumber=Y,this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new Fq($,Q,$,X,Y,Z,Y,G));return!0}return!1}}function GO(J,$){let Q=I6(J);if(Q===-1)return $;return Q+1}function qO(J,$){let Q=X9(J);if(Q===-1)return $;return Q+2}function Nv(J){if(J===0)return()=>!0;let $=Date.now();return()=>{return Date.now()-$<J}}var z50=3;var kv=N(()=>{gF();XY();t0();l0();G$();f7()});class HJ{static trivial(J,$){return new HJ([new m6(s0.ofLength(J.length),s0.ofLength($.length))],!1)}static trivialTimedOut(J,$){return new HJ([new m6(s0.ofLength(J.length),s0.ofLength($.length))],!0)}constructor(J,$){this.diffs=J,this.hitTimeout=$}}class m6{static invert(J,$){let Q=[];return AW(J,(X,Y)=>{Q.push(m6.fromOffsetPairs(X?X.getEndExclusives():j9.zero,Y?Y.getStarts():new j9($,(X?X.seq2Range.endExclusive-X.seq1Range.endExclusive:0)+$)))}),Q}static fromOffsetPairs(J,$){return new m6(new s0(J.offset1,$.offset1),new s0(J.offset2,$.offset2))}constructor(J,$){this.seq1Range=J,this.seq2Range=$}swap(){return new m6(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(J){return new m6(this.seq1Range.join(J.seq1Range),this.seq2Range.join(J.seq2Range))}delta(J){if(J===0)return this;return new m6(this.seq1Range.delta(J),this.seq2Range.delta(J))}deltaStart(J){if(J===0)return this;return new m6(this.seq1Range.deltaStart(J),this.seq2Range.deltaStart(J))}deltaEnd(J){if(J===0)return this;return new m6(this.seq1Range.deltaEnd(J),this.seq2Range.deltaEnd(J))}intersect(J){let $=this.seq1Range.intersect(J.seq1Range),Q=this.seq2Range.intersect(J.seq2Range);if(!$||!Q)return;return new m6($,Q)}getStarts(){return new j9(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new j9(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class j9{constructor(J,$){this.offset1=J,this.offset2=$}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(J){if(J===0)return this;return new j9(this.offset1+J,this.offset2+J)}equals(J){return this.offset1===J.offset1&&this.offset2===J.offset2}}class hQ{isValid(){return!0}}class zO{constructor(J){if(this.timeout=J,this.startTime=Date.now(),this.valid=!0,J<=0)throw new S1("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}var Kq=N(()=>{U1();P1();m9();j9.zero=new j9(0,0);j9.max=new j9(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);hQ.instance=new hQ});class cz{constructor(J,$){this.width=J,this.height=$,this.array=[],this.array=new Array(J*$)}get(J,$){return this.array[J+$*this.width]}set(J,$,Q){this.array[J+$*this.width]=Q}}function lz(J){return J===32||J===9}class W2{static getKey(J){let $=this.chrKeys.get(J);if($===void 0)$=this.chrKeys.size,this.chrKeys.set(J,$);return $}constructor(J,$,Q){this.range=J,this.lines=$,this.source=Q,this.histogram=[];let X=0;for(let Y=J.startLineNumber-1;Y<J.endLineNumberExclusive-1;Y++){let Z=$[Y];for(let q=0;q<Z.length;q++){X++;let U=Z[q],z=W2.getKey(U);this.histogram[z]=(this.histogram[z]||0)+1}X++;let G=W2.getKey(`
`);this.histogram[G]=(this.histogram[G]||0)+1}this.totalCount=X}computeSimilarity(J){var $,Q;let X=0,Y=Math.max(this.histogram.length,J.histogram.length);for(let Z=0;Z<Y;Z++)X+=Math.abs((($=this.histogram[Z])!==null&&$!==void 0?$:0)-((Q=J.histogram[Z])!==null&&Q!==void 0?Q:0));return 1-X/(this.totalCount+J.totalCount)}}var lF=N(()=>{W2.chrKeys=new Map});class HO{compute(J,$,Q=hQ.instance,X){if(J.length===0||$.length===0)return HJ.trivial(J,$);let Y=new cz(J.length,$.length),Z=new cz(J.length,$.length),G=new cz(J.length,$.length);for(let W=0;W<J.length;W++)for(let B=0;B<$.length;B++){if(!Q.isValid())return HJ.trivialTimedOut(J,$);let K=W===0?0:Y.get(W-1,B),P=B===0?0:Y.get(W,B-1),A;if(J.getElement(W)===$.getElement(B)){if(W===0||B===0)A=0;else A=Y.get(W-1,B-1);if(W>0&&B>0&&Z.get(W-1,B-1)===3)A+=G.get(W-1,B-1);A+=X?X(W,B):1}else A=-1;let D=Math.max(K,P,A);if(D===A){let R=W>0&&B>0?G.get(W-1,B-1):0;G.set(W,B,R+1),Z.set(W,B,3)}else if(D===K)G.set(W,B,0),Z.set(W,B,1);else if(D===P)G.set(W,B,0),Z.set(W,B,2);Y.set(W,B,D)}let q=[],U=J.length,z=$.length;function H(W,B){if(W+1!==U||B+1!==z)q.push(new m6(new s0(W+1,U),new s0(B+1,z)));U=W,z=B}let j=J.length-1,V=$.length-1;while(j>=0&&V>=0)if(Z.get(j,V)===3)H(j,V),j--,V--;else if(Z.get(j,V)===1)j--;else V--;return H(-1,-1),q.reverse(),new HJ(q,!1)}}var Ev=N(()=>{m9();Kq();lF()});class dz{compute(J,$,Q=hQ.instance){if(J.length===0||$.length===0)return HJ.trivial(J,$);let X=J,Y=$;function Z(B,K){while(B<X.length&&K<Y.length&&X.getElement(B)===Y.getElement(K))B++,K++;return B}let G=0,q=new Iv;q.set(0,Z(0,0));let U=new yv;U.set(0,q.get(0)===0?null:new jO(null,0,0,q.get(0)));let z=0;J:while(!0){if(G++,!Q.isValid())return HJ.trivialTimedOut(X,Y);let B=-Math.min(G,Y.length+G%2),K=Math.min(G,X.length+G%2);for(z=B;z<=K;z+=2){let P=0,A=z===K?-1:q.get(z+1),D=z===B?-1:q.get(z-1)+1;P++;let R=Math.min(Math.max(A,D),X.length),M=R-z;if(P++,R>X.length||M>Y.length)continue;let _=Z(R,M);q.set(z,_);let T=R===A?U.get(z+1):U.get(z-1);if(U.set(z,_!==R?new jO(T,R,M,_-R):T),q.get(z)===X.length&&q.get(z)-z===Y.length)break J}}let H=U.get(z),j=[],V=X.length,W=Y.length;while(!0){let B=H?H.x+H.length:0,K=H?H.y+H.length:0;if(B!==V||K!==W)j.push(new m6(new s0(B,V),new s0(K,W)));if(!H)break;V=H.x,W=H.y,H=H.prev}return j.reverse(),new HJ(j,!1)}}class jO{constructor(J,$,Q,X){this.prev=J,this.x=$,this.y=Q,this.length=X}}class Iv{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0){if(J=-J-1,J>=this.negativeArr.length){let Q=this.negativeArr;this.negativeArr=new Int32Array(Q.length*2),this.negativeArr.set(Q)}this.negativeArr[J]=$}else{if(J>=this.positiveArr.length){let Q=this.positiveArr;this.positiveArr=new Int32Array(Q.length*2),this.positiveArr.set(Q)}this.positiveArr[J]=$}}}class yv{constructor(){this.positiveArr=[],this.negativeArr=[]}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0)J=-J-1,this.negativeArr[J]=$;else this.positiveArr[J]=$}}var VO=N(()=>{m9();Kq()});class Sv{constructor(J,$){this.uri=J,this.value=$}}function j50(J){return Array.isArray(J)}class WO{constructor(J){if(this._m1=new Map,this._m2=new Map,J)for(let[$,Q]of J)this.set($,Q)}clear(){this._m1.clear(),this._m2.clear()}set(J,$){this._m1.set(J,$),this._m2.set($,J)}get(J){return this._m1.get(J)}getKey(J){return this._m2.get(J)}delete(J){let $=this._m1.get(J);if($===void 0)return!1;return this._m1.delete(J),this._m2.delete($),!0}keys(){return this._m1.keys()}values(){return this._m1.values()}}class sz{constructor(){this.map=new Map}add(J,$){let Q=this.map.get(J);if(!Q)Q=new Set,this.map.set(J,Q);Q.add($)}delete(J,$){let Q=this.map.get(J);if(!Q)return;if(Q.delete($),Q.size===0)this.map.delete(J)}forEach(J,$){let Q=this.map.get(J);if(!Q)return;Q.forEach($)}get(J){let $=this.map.get(J);if(!$)return new Set;return $}}var xv,bv,y5,Cv,fQ;var jJ=N(()=>{y5=class y5{constructor(J,$){if(this[xv]="ResourceMap",J instanceof y5)this.map=new Map(J.map),this.toKey=$!==null&&$!==void 0?$:y5.defaultToKey;else if(j50(J)){this.map=new Map,this.toKey=$!==null&&$!==void 0?$:y5.defaultToKey;for(let[Q,X]of J)this.set(Q,X)}else this.map=new Map,this.toKey=J!==null&&J!==void 0?J:y5.defaultToKey}set(J,$){return this.map.set(this.toKey(J),new Sv(J,$)),this}get(J){var $;return($=this.map.get(this.toKey(J)))===null||$===void 0?void 0:$.value}has(J){return this.map.has(this.toKey(J))}get size(){return this.map.size}clear(){this.map.clear()}delete(J){return this.map.delete(this.toKey(J))}forEach(J,$){if(typeof $!=="undefined")J=J.bind($);for(let[Q,X]of this.map)J(X.value,X.uri,this)}*values(){for(let J of this.map.values())yield J.value}*keys(){for(let J of this.map.values())yield J.uri}*entries(){for(let J of this.map.values())yield[J.uri,J.value]}*[(xv=Symbol.toStringTag,Symbol.iterator)](){for(let[,J]of this.map)yield[J.uri,J.value]}};y5.defaultToKey=(J)=>J.toString();Cv=class Cv{constructor(){this[bv]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var J;return(J=this._head)===null||J===void 0?void 0:J.value}get last(){var J;return(J=this._tail)===null||J===void 0?void 0:J.value}has(J){return this._map.has(J)}get(J,$=0){let Q=this._map.get(J);if(!Q)return;if($!==0)this.touch(Q,$);return Q.value}set(J,$,Q=0){let X=this._map.get(J);if(X){if(X.value=$,Q!==0)this.touch(X,Q)}else{switch(X={key:J,value:$,next:void 0,previous:void 0},Q){case 0:this.addItemLast(X);break;case 1:this.addItemFirst(X);break;case 2:this.addItemLast(X);break;default:this.addItemLast(X);break}this._map.set(J,X),this._size++}return this}delete(J){return!!this.remove(J)}remove(J){let $=this._map.get(J);if(!$)return;return this._map.delete(J),this.removeItem($),this._size--,$.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let J=this._head;return this._map.delete(J.key),this.removeItem(J),this._size--,J.value}forEach(J,$){let Q=this._state,X=this._head;while(X){if($)J.bind($)(X.value,X.key,this);else J(X.value,X.key,this);if(this._state!==Q)throw new Error("LinkedMap got modified during iteration.");X=X.next}}keys(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(Q){let Y={value:Q.key,done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}values(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(Q){let Y={value:Q.value,done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}entries(){let J=this,$=this._state,Q=this._head,X={[Symbol.iterator](){return X},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(Q){let Y={value:[Q.key,Q.value],done:!1};return Q=Q.next,Y}else return{value:void 0,done:!0}}};return X}[(bv=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(J){if(J>=this.size)return;if(J===0){this.clear();return}let $=this._head,Q=this.size;while($&&Q>J)this._map.delete($.key),$=$.next,Q--;if(this._head=$,this._size=Q,$)$.previous=void 0;this._state++}addItemFirst(J){if(!this._head&&!this._tail)this._tail=J;else if(!this._head)throw new Error("Invalid list");else J.next=this._head,this._head.previous=J;this._head=J,this._state++}addItemLast(J){if(!this._head&&!this._tail)this._head=J;else if(!this._tail)throw new Error("Invalid list");else J.previous=this._tail,this._tail.next=J;this._tail=J,this._state++}removeItem(J){if(J===this._head&&J===this._tail)this._head=void 0,this._tail=void 0;else if(J===this._head){if(!J.next)throw new Error("Invalid list");J.next.previous=void 0,this._head=J.next}else if(J===this._tail){if(!J.previous)throw new Error("Invalid list");J.previous.next=void 0,this._tail=J.previous}else{let{next:$,previous:Q}=J;if(!$||!Q)throw new Error("Invalid list");$.previous=Q,Q.next=$}J.next=void 0,J.previous=void 0,this._state++}touch(J,$){if(!this._head||!this._tail)throw new Error("Invalid list");if($!==1&&$!==2)return;if($===1){if(J===this._head)return;let{next:Q,previous:X}=J;if(J===this._tail)X.next=void 0,this._tail=X;else Q.previous=X,X.next=Q;J.previous=void 0,J.next=this._head,this._head.previous=J,this._head=J,this._state++}else if($===2){if(J===this._tail)return;let{next:Q,previous:X}=J;if(J===this._head)Q.previous=void 0,this._head=Q;else Q.previous=X,X.next=Q;J.next=void 0,J.previous=this._tail,this._tail.next=J,this._tail=J,this._state++}}toJSON(){let J=[];return this.forEach(($,Q)=>{J.push([Q,$])}),J}fromJSON(J){this.clear();for(let[$,Q]of J)this.set($,Q)}};fQ=class fQ extends Cv{constructor(J,$=1){super();this._limit=J,this._ratio=Math.min(Math.max(0,$),1)}get limit(){return this._limit}set limit(J){this._limit=J,this.checkTrim()}get(J,$=2){return super.get(J,$)}peek(J){return super.get(J,0)}set(J,$){return super.set(J,$,2),this.checkTrim(),this}checkTrim(){if(this.size>this._limit)this.trimOld(Math.round(this._limit*this._ratio))}}});class B2{constructor(J,$,Q){this.lines=J,this.considerWhitespaceChanges=Q,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let X=!1;if($.start>0&&$.endExclusive>=J.length)$=new s0($.start-1,$.endExclusive),X=!0;this.lineRange=$,this.firstCharOffsetByLine[0]=0;for(let Y=this.lineRange.start;Y<this.lineRange.endExclusive;Y++){let Z=J[Y],G=0;if(X)G=Z.length,Z="",X=!1;else if(!Q){let q=Z.trimStart();G=Z.length-q.length,Z=q.trimEnd()}this.additionalOffsetByLine.push(G);for(let q=0;q<Z.length;q++)this.elements.push(Z.charCodeAt(q));if(Y<J.length-1)this.elements.push(10),this.firstCharOffsetByLine[Y-this.lineRange.start+1]=this.elements.length}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new s0(0,this.length))}getText(J){return this.elements.slice(J.start,J.endExclusive).map(($)=>String.fromCharCode($)).join("")}getElement(J){return this.elements[J]}get length(){return this.elements.length}getBoundaryScore(J){let $=hv(J>0?this.elements[J-1]:-1),Q=hv(J<this.elements.length?this.elements[J]:-1);if($===7&&Q===8)return 0;if($===8)return 150;let X=0;if($!==Q){if(X+=10,$===0&&Q===1)X+=1}return X+=vv($),X+=vv(Q),X}translateOffset(J){if(this.lineRange.isEmpty)return new v(this.lineRange.start+1,1);let $=V2(this.firstCharOffsetByLine,(Q)=>Q<=J);return new v(this.lineRange.start+$+1,J-this.firstCharOffsetByLine[$]+this.additionalOffsetByLine[$]+1)}translateRange(J){return L.fromPositions(this.translateOffset(J.start),this.translateOffset(J.endExclusive))}findWordContaining(J){if(J<0||J>=this.elements.length)return;if(!BO(this.elements[J]))return;let $=J;while($>0&&BO(this.elements[$-1]))$--;let Q=J;while(Q<this.elements.length&&BO(this.elements[Q]))Q++;return new s0($,Q)}countLinesIn(J){return this.translateOffset(J.endExclusive).lineNumber-this.translateOffset(J.start).lineNumber}isStronglyEqual(J,$){return this.elements[J]===this.elements[$]}extendToFullLines(J){var $,Q;let X=($=vQ(this.firstCharOffsetByLine,(Z)=>Z<=J.start))!==null&&$!==void 0?$:0,Y=(Q=Rv(this.firstCharOffsetByLine,(Z)=>J.endExclusive<=Z))!==null&&Q!==void 0?Q:this.elements.length;return new s0(X,Y)}}function BO(J){return J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57}function vv(J){return V50[J]}function hv(J){if(J===10)return 8;else if(J===13)return 7;else if(lz(J))return 6;else if(J>=97&&J<=122)return 0;else if(J>=65&&J<=90)return 1;else if(J>=48&&J<=57)return 2;else if(J===-1)return 3;else if(J===44||J===59)return 5;else return 4}var V50;var FO=N(()=>{zJ();m9();l0();lF();V50={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:30,[6]:3,[7]:10,[8]:10}});function gv(J,$,Q,X,Y,Z){let{moves:G,excludedChanges:q}=B50(J,$,Q,Z);if(!Z.isValid())return[];let U=J.filter((H)=>!q.has(H)),z=F50(U,X,Y,$,Q,Z);return vU(G,z),G=K50(G),G=G.filter((H)=>{let j=H.original.toOffsetRange().slice($).map((W)=>W.trim());return j.join(`
`).length>=15&&W50(j,(W)=>W.length>=2)>=2}),G=A50(J,G),G}function W50(J,$){let Q=0;for(let X of J)if($(X))Q++;return Q}function B50(J,$,Q,X){let Y=[],Z=J.filter((U)=>U.modified.isEmpty&&U.original.length>=3).map((U)=>new W2(U.original,$,U)),G=new Set(J.filter((U)=>U.original.isEmpty&&U.modified.length>=3).map((U)=>new W2(U.modified,Q,U))),q=new Set;for(let U of Z){let z=-1,H;for(let j of G){let V=U.computeSimilarity(j);if(V>z)z=V,H=j}if(z>0.9&&H)G.delete(H),Y.push(new Q8(U.range,H.range)),q.add(U.source),q.add(H.source);if(!X.isValid())return{moves:Y,excludedChanges:q}}return{moves:Y,excludedChanges:q}}function F50(J,$,Q,X,Y,Z){let G=[],q=new sz;for(let V of J)for(let W=V.original.startLineNumber;W<V.original.endLineNumberExclusive-2;W++){let B=`${$[W-1]}:${$[W+1-1]}:${$[W+2-1]}`;q.add(B,{range:new S0(W,W+3)})}let U=[];J.sort(k7((V)=>V.modified.startLineNumber,qQ));for(let V of J){let W=[];for(let B=V.modified.startLineNumber;B<V.modified.endLineNumberExclusive-2;B++){let K=`${Q[B-1]}:${Q[B+1-1]}:${Q[B+2-1]}`,P=new S0(B,B+3),A=[];q.forEach(K,({range:D})=>{for(let M of W)if(M.originalLineRange.endLineNumberExclusive+1===D.endLineNumberExclusive&&M.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){M.originalLineRange=new S0(M.originalLineRange.startLineNumber,D.endLineNumberExclusive),M.modifiedLineRange=new S0(M.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),A.push(M);return}let R={modifiedLineRange:P,originalLineRange:D};U.push(R),A.push(R)}),W=A}if(!Z.isValid())return[]}U.sort(Cx(k7((V)=>V.modifiedLineRange.length,qQ)));let z=new h7,H=new h7;for(let V of U){let W=V.modifiedLineRange.startLineNumber-V.originalLineRange.startLineNumber,B=z.subtractFrom(V.modifiedLineRange),K=H.subtractFrom(V.originalLineRange).getWithDelta(W),P=B.getIntersection(K);for(let A of P.ranges){if(A.length<3)continue;let D=A,R=A.delta(-W);G.push(new Q8(R,D)),z.addRange(D),H.addRange(R)}}G.sort(k7((V)=>V.original.startLineNumber,qQ));let j=new Bq(J);for(let V=0;V<G.length;V++){let W=G[V],B=j.findLastMonotonous((T)=>T.original.startLineNumber<=W.original.startLineNumber),K=vQ(J,(T)=>T.modified.startLineNumber<=W.modified.startLineNumber),P=Math.max(W.original.startLineNumber-B.original.startLineNumber,W.modified.startLineNumber-K.modified.startLineNumber),A=j.findLastMonotonous((T)=>T.original.startLineNumber<W.original.endLineNumberExclusive),D=vQ(J,(T)=>T.modified.startLineNumber<W.modified.endLineNumberExclusive),R=Math.max(A.original.endLineNumberExclusive-W.original.endLineNumberExclusive,D.modified.endLineNumberExclusive-W.modified.endLineNumberExclusive),M;for(M=0;M<P;M++){let T=W.original.startLineNumber-M-1,w=W.modified.startLineNumber-M-1;if(T>X.length||w>Y.length)break;if(z.contains(w)||H.contains(T))break;if(!fv(X[T-1],Y[w-1],Z))break}if(M>0)H.addRange(new S0(W.original.startLineNumber-M,W.original.startLineNumber)),z.addRange(new S0(W.modified.startLineNumber-M,W.modified.startLineNumber));let _;for(_=0;_<R;_++){let T=W.original.endLineNumberExclusive+_,w=W.modified.endLineNumberExclusive+_;if(T>X.length||w>Y.length)break;if(z.contains(w)||H.contains(T))break;if(!fv(X[T-1],Y[w-1],Z))break}if(_>0)H.addRange(new S0(W.original.endLineNumberExclusive,W.original.endLineNumberExclusive+_)),z.addRange(new S0(W.modified.endLineNumberExclusive,W.modified.endLineNumberExclusive+_));if(M>0||_>0)G[V]=new Q8(new S0(W.original.startLineNumber-M,W.original.endLineNumberExclusive+_),new S0(W.modified.startLineNumber-M,W.modified.endLineNumberExclusive+_))}return G}function fv(J,$,Q){if(J.trim()===$.trim())return!0;if(J.length>300&&$.length>300)return!1;let Y=new dz().compute(new B2([J],new s0(0,1),!1),new B2([$],new s0(0,1),!1),Q),Z=0,G=m6.invert(Y.diffs,J.length);for(let H of G)H.seq1Range.forEach((j)=>{if(!lz(J.charCodeAt(j)))Z++});function q(H){let j=0;for(let V=0;V<J.length;V++)if(!lz(H.charCodeAt(V)))j++;return j}let U=q(J.length>$.length?J:$);return Z/U>0.6&&U>10}function K50(J){if(J.length===0)return J;J.sort(k7((Q)=>Q.original.startLineNumber,qQ));let $=[J[0]];for(let Q=1;Q<J.length;Q++){let X=$[$.length-1],Y=J[Q],Z=Y.original.startLineNumber-X.original.endLineNumberExclusive,G=Y.modified.startLineNumber-X.modified.endLineNumberExclusive;if(Z>=0&&G>=0&&Z+G<=2){$[$.length-1]=X.join(Y);continue}$.push(Y)}return $}function A50(J,$){let Q=new Bq(J);return $=$.filter((X)=>{let Y=Q.findLastMonotonous((q)=>q.original.startLineNumber<X.original.endLineNumberExclusive)||new Q8(new S0(1,1),new S0(1,1)),Z=vQ(J,(q)=>q.modified.startLineNumber<X.modified.endLineNumberExclusive);return Y!==Z}),$}var pv=N(()=>{Kq();XY();U1();zJ();jJ();f7();m9();FO();lF();VO()});function az(J,$,Q){let X=Q;return X=mv(J,$,X),X=mv(J,$,X),X=P50(J,$,X),X}function mv(J,$,Q){if(Q.length===0)return Q;let X=[];X.push(Q[0]);for(let Z=1;Z<Q.length;Z++){let G=X[X.length-1],q=Q[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){let U=q.seq1Range.start-G.seq1Range.endExclusive,z;for(z=1;z<=U;z++)if(J.getElement(q.seq1Range.start-z)!==J.getElement(q.seq1Range.endExclusive-z)||$.getElement(q.seq2Range.start-z)!==$.getElement(q.seq2Range.endExclusive-z))break;if(z--,z===U){X[X.length-1]=new m6(new s0(G.seq1Range.start,q.seq1Range.endExclusive-U),new s0(G.seq2Range.start,q.seq2Range.endExclusive-U));continue}q=q.delta(-z)}X.push(q)}let Y=[];for(let Z=0;Z<X.length-1;Z++){let G=X[Z+1],q=X[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){let U=G.seq1Range.start-q.seq1Range.endExclusive,z;for(z=0;z<U;z++)if(!J.isStronglyEqual(q.seq1Range.start+z,q.seq1Range.endExclusive+z)||!$.isStronglyEqual(q.seq2Range.start+z,q.seq2Range.endExclusive+z))break;if(z===U){X[Z+1]=new m6(new s0(q.seq1Range.start+U,G.seq1Range.endExclusive),new s0(q.seq2Range.start+U,G.seq2Range.endExclusive));continue}if(z>0)q=q.delta(z)}Y.push(q)}if(X.length>0)Y.push(X[X.length-1]);return Y}function P50(J,$,Q){if(!J.getBoundaryScore||!$.getBoundaryScore)return Q;for(let X=0;X<Q.length;X++){let Y=X>0?Q[X-1]:void 0,Z=Q[X],G=X+1<Q.length?Q[X+1]:void 0,q=new s0(Y?Y.seq1Range.endExclusive+1:0,G?G.seq1Range.start-1:J.length),U=new s0(Y?Y.seq2Range.endExclusive+1:0,G?G.seq2Range.start-1:$.length);if(Z.seq1Range.isEmpty)Q[X]=uv(Z,J,$,q,U);else if(Z.seq2Range.isEmpty)Q[X]=uv(Z.swap(),$,J,U,q).swap()}return Q}function uv(J,$,Q,X,Y){let G=1;while(J.seq1Range.start-G>=X.start&&J.seq2Range.start-G>=Y.start&&Q.isStronglyEqual(J.seq2Range.start-G,J.seq2Range.endExclusive-G)&&G<100)G++;G--;let q=0;while(J.seq1Range.start+q<X.endExclusive&&J.seq2Range.endExclusive+q<Y.endExclusive&&Q.isStronglyEqual(J.seq2Range.start+q,J.seq2Range.endExclusive+q)&&q<100)q++;if(G===0&&q===0)return J;let U=0,z=-1;for(let H=-G;H<=q;H++){let j=J.seq2Range.start+H,V=J.seq2Range.endExclusive+H,W=J.seq1Range.start+H,B=$.getBoundaryScore(W)+Q.getBoundaryScore(j)+Q.getBoundaryScore(V);if(B>z)z=B,U=H}return J.delta(U)}function cv(J,$,Q){let X=[];for(let Y of Q){let Z=X[X.length-1];if(!Z){X.push(Y);continue}if(Y.seq1Range.start-Z.seq1Range.endExclusive<=2||Y.seq2Range.start-Z.seq2Range.endExclusive<=2)X[X.length-1]=new m6(Z.seq1Range.join(Y.seq1Range),Z.seq2Range.join(Y.seq2Range));else X.push(Y)}return X}function lv(J,$,Q){let X=m6.invert(Q,J.length),Y=[],Z=new j9(0,0);function G(U,z){if(U.offset1<Z.offset1||U.offset2<Z.offset2)return;let H=J.findWordContaining(U.offset1),j=$.findWordContaining(U.offset2);if(!H||!j)return;let V=new m6(H,j),W=V.intersect(z),B=W.seq1Range.length,K=W.seq2Range.length;while(X.length>0){let P=X[0];if(!(P.seq1Range.intersects(H)||P.seq2Range.intersects(j)))break;let D=J.findWordContaining(P.seq1Range.start),R=$.findWordContaining(P.seq2Range.start),M=new m6(D,R),_=M.intersect(P);if(B+=_.seq1Range.length,K+=_.seq2Range.length,V=V.join(M),V.seq1Range.endExclusive>=P.seq1Range.endExclusive)X.shift();else break}if(B+K<(V.seq1Range.length+V.seq2Range.length)*2/3)Y.push(V);Z=V.getEndExclusives()}while(X.length>0){let U=X.shift();if(U.seq1Range.isEmpty)continue;G(U.getStarts(),U),G(U.getEndExclusives().delta(-1),U)}return D50(Q,Y)}function D50(J,$){let Q=[];while(J.length>0||$.length>0){let X=J[0],Y=$[0],Z;if(X&&(!Y||X.seq1Range.start<Y.seq1Range.start))Z=J.shift();else Z=$.shift();if(Q.length>0&&Q[Q.length-1].seq1Range.endExclusive>=Z.seq1Range.start)Q[Q.length-1]=Q[Q.length-1].join(Z);else Q.push(Z)}return Q}function dv(J,$,Q){let X=Q;if(X.length===0)return X;let Y=0,Z;do{Z=!1;let G=[X[0]];for(let q=1;q<X.length;q++){let H=function(V,W){let B=new s0(z.seq1Range.endExclusive,U.seq1Range.start);if(J.getText(B).replace(/\s/g,"").length<=4&&(V.seq1Range.length+V.seq2Range.length>5||W.seq1Range.length+W.seq2Range.length>5))return!0;return!1},U=X[q],z=G[G.length-1];if(H(z,U))Z=!0,G[G.length-1]=G[G.length-1].join(U);else G.push(U)}X=G}while(Y++<10&&Z);return X}function sv(J,$,Q){let X=Q;if(X.length===0)return X;let Y=0,Z;do{Z=!1;let q=[X[0]];for(let U=1;U<X.length;U++){let j=function(W,B){let K=new s0(H.seq1Range.endExclusive,z.seq1Range.start);if(J.countLinesIn(K)>5||K.length>500)return!1;let A=J.getText(K).trim();if(A.length>20||A.split(/\r\n|\r|\n/).length>1)return!1;let D=J.countLinesIn(W.seq1Range),R=W.seq1Range.length,M=$.countLinesIn(W.seq2Range),_=W.seq2Range.length,T=J.countLinesIn(B.seq1Range),w=B.seq1Range.length,b=$.countLinesIn(B.seq2Range),S=B.seq2Range.length,g=130;function c(C){return Math.min(C,g)}if(Math.pow(Math.pow(c(D*40+R),1.5)+Math.pow(c(M*40+_),1.5),1.5)+Math.pow(Math.pow(c(T*40+w),1.5)+Math.pow(c(b*40+S),1.5),1.5)>(g**1.5)**1.5*1.3)return!0;return!1},z=X[U],H=q[q.length-1];if(j(H,z))Z=!0,q[q.length-1]=q[q.length-1].join(z);else q.push(z)}X=q}while(Y++<10&&Z);let G=[];return Ix(X,(q,U,z)=>{let H=U;function j(A){return A.length>0&&A.trim().length<=3&&U.seq1Range.length+U.seq2Range.length>100}let V=J.extendToFullLines(U.seq1Range),W=J.getText(new s0(V.start,U.seq1Range.start));if(j(W))H=H.deltaStart(-W.length);let B=J.getText(new s0(U.seq1Range.endExclusive,V.endExclusive));if(j(B))H=H.deltaEnd(B.length);let K=m6.fromOffsetPairs(q?q.getEndExclusives():j9.zero,z?z.getStarts():j9.max),P=H.intersect(K);if(G.length>0&&P.getStarts().equals(G[G.length-1].getEndExclusives()))G[G.length-1]=G[G.length-1].join(P);else G.push(P)}),G}var KO=N(()=>{U1();m9();Kq()});class dF{constructor(J,$){this.trimmedHash=J,this.lines=$}getElement(J){return this.trimmedHash[J]}get length(){return this.trimmedHash.length}getBoundaryScore(J){let $=J===0?0:av(this.lines[J-1]),Q=J===this.lines.length?0:av(this.lines[J]);return 1000-($+Q)}getText(J){return this.lines.slice(J.start,J.endExclusive).join(`
`)}isStronglyEqual(J,$){return this.lines[J]===this.lines[$]}}function av(J){let $=0;while($<J.length&&(J.charCodeAt($)===32||J.charCodeAt($)===9))$++;return $}class rz{constructor(){this.dynamicProgrammingDiffing=new HO,this.myersDiffingAlgorithm=new dz}computeDiff(J,$,Q){if(J.length<=1&&Q6(J,$,(M,_)=>M===_))return new H2([],[],!1);if(J.length===1&&J[0].length===0||$.length===1&&$[0].length===0)return new H2([new K7(new S0(1,J.length+1),new S0(1,$.length+1),[new u9(new L(1,1,J.length,J[0].length+1),new L(1,1,$.length,$[0].length+1))])],[],!1);let X=Q.maxComputationTimeMs===0?hQ.instance:new zO(Q.maxComputationTimeMs),Y=!Q.ignoreTrimWhitespace,Z=new Map;function G(M){let _=Z.get(M);if(_===void 0)_=Z.size,Z.set(M,_);return _}let q=J.map((M)=>G(M.trim())),U=$.map((M)=>G(M.trim())),z=new dF(q,J),H=new dF(U,$),j=(()=>{if(z.length+H.length<1700)return this.dynamicProgrammingDiffing.compute(z,H,X,(M,_)=>J[M]===$[_]?$[_].length===0?0.1:1+Math.log(1+$[_].length):0.99);return this.myersDiffingAlgorithm.compute(z,H)})(),V=j.diffs,W=j.hitTimeout;V=az(z,H,V),V=dv(z,H,V);let B=[],K=(M)=>{if(!Y)return;for(let _=0;_<M;_++){let T=P+_,w=A+_;if(J[T]!==$[w]){let b=this.refineDiff(J,$,new m6(new s0(T,T+1),new s0(w,w+1)),X,Y);for(let S of b.mappings)B.push(S);if(b.hitTimeout)W=!0}}},P=0,A=0;for(let M of V){Z$(()=>M.seq1Range.start-P===M.seq2Range.start-A);let _=M.seq1Range.start-P;K(_),P=M.seq1Range.endExclusive,A=M.seq2Range.endExclusive;let T=this.refineDiff(J,$,M,X,Y);if(T.hitTimeout)W=!0;for(let w of T.mappings)B.push(w)}K(J.length-P);let D=rv(B,J,$),R=[];if(Q.computeMoves)R=this.computeMoves(D,J,$,q,U,X,Y);return Z$(()=>{function M(T,w){if(T.lineNumber<1||T.lineNumber>w.length)return!1;let b=w[T.lineNumber-1];if(T.column<1||T.column>b.length+1)return!1;return!0}function _(T,w){if(T.startLineNumber<1||T.startLineNumber>w.length+1)return!1;if(T.endLineNumberExclusive<1||T.endLineNumberExclusive>w.length+1)return!1;return!0}for(let T of D){if(!T.innerChanges)return!1;for(let w of T.innerChanges)if(!(M(w.modifiedRange.getStartPosition(),$)&&M(w.modifiedRange.getEndPosition(),$)&&M(w.originalRange.getStartPosition(),J)&&M(w.originalRange.getEndPosition(),J)))return!1;if(!_(T.modified,$)||!_(T.original,J))return!1}return!0}),new H2(D,R,W)}computeMoves(J,$,Q,X,Y,Z,G){return gv(J,$,Q,X,Y,Z).map((z)=>{let H=this.refineDiff($,Q,new m6(z.original.toOffsetRange(),z.modified.toOffsetRange()),Z,G),j=rv(H.mappings,$,Q,!0);return new mz(z,j)})}refineDiff(J,$,Q,X,Y){let Z=new B2(J,Q.seq1Range,Y),G=new B2($,Q.seq2Range,Y),q=Z.length+G.length<500?this.dynamicProgrammingDiffing.compute(Z,G,X):this.myersDiffingAlgorithm.compute(Z,G,X),U=q.diffs;return U=az(Z,G,U),U=lv(Z,G,U),U=cv(Z,G,U),U=sv(Z,G,U),{mappings:U.map((H)=>new u9(Z.translateRange(H.seq1Range),G.translateRange(H.seq2Range))),hitTimeout:q.hitTimeout}}}function rv(J,$,Q,X=!1){let Y=[];for(let Z of EG(J.map((G)=>R50(G,$,Q)),(G,q)=>G.original.overlapOrTouch(q.original)||G.modified.overlapOrTouch(q.modified))){let G=Z[0],q=Z[Z.length-1];Y.push(new K7(G.original.join(q.original),G.modified.join(q.modified),Z.map((U)=>U.innerChanges[0])))}return Z$(()=>{if(!X){if(Y.length>0&&Y[0].original.startLineNumber!==Y[0].modified.startLineNumber)return!1}return $F(Y,(Z,G)=>G.original.startLineNumber-Z.original.endLineNumberExclusive===G.modified.startLineNumber-Z.modified.endLineNumberExclusive&&Z.original.endLineNumberExclusive<G.original.startLineNumber&&Z.modified.endLineNumberExclusive<G.modified.startLineNumber)}),Y}function R50(J,$,Q){let X=0,Y=0;if(J.modifiedRange.endColumn===1&&J.originalRange.endColumn===1&&J.originalRange.startLineNumber+X<=J.originalRange.endLineNumber&&J.modifiedRange.startLineNumber+X<=J.modifiedRange.endLineNumber)Y=-1;if(J.modifiedRange.startColumn-1>=Q[J.modifiedRange.startLineNumber-1].length&&J.originalRange.startColumn-1>=$[J.originalRange.startLineNumber-1].length&&J.originalRange.startLineNumber<=J.originalRange.endLineNumber+Y&&J.modifiedRange.startLineNumber<=J.modifiedRange.endLineNumber+Y)X=1;let Z=new S0(J.originalRange.startLineNumber+X,J.originalRange.endLineNumber+1+Y),G=new S0(J.modifiedRange.startLineNumber+X,J.modifiedRange.endLineNumber+1+Y);return new K7(Z,G,[J])}var AO=N(()=>{U1();G$();f7();m9();l0();Kq();Ev();VO();pv();KO();XY();FO()});var PO;var iv=N(()=>{kv();AO();PO={getLegacy:()=>new UO,getDefault:()=>new rz}});function YY(J,$){let Q=Math.pow(10,$);return Math.round(J*Q)/Q}class _1{constructor(J,$,Q,X=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,J))|0,this.g=Math.min(255,Math.max(0,$))|0,this.b=Math.min(255,Math.max(0,Q))|0,this.a=YY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.r===$.r&&J.g===$.g&&J.b===$.b&&J.a===$.a}}class c9{constructor(J,$,Q,X){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=YY(Math.max(Math.min(1,$),0),3),this.l=YY(Math.max(Math.min(1,Q),0),3),this.a=YY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.l===$.l&&J.a===$.a}static fromRGBA(J){let $=J.r/255,Q=J.g/255,X=J.b/255,Y=J.a,Z=Math.max($,Q,X),G=Math.min($,Q,X),q=0,U=0,z=(G+Z)/2,H=Z-G;if(H>0){switch(U=Math.min(z<=0.5?H/(2*z):H/(2-2*z),1),Z){case $:q=(Q-X)/H+(Q<X?6:0);break;case Q:q=(X-$)/H+2;break;case X:q=($-Q)/H+4;break}q*=60,q=Math.round(q)}return new c9(q,U,z,Y)}static _hue2rgb(J,$,Q){if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<0.16666666666666666)return J+($-J)*6*Q;if(Q<0.5)return $;if(Q<0.6666666666666666)return J+($-J)*(0.6666666666666666-Q)*6;return J}static toRGBA(J){let $=J.h/360,{s:Q,l:X,a:Y}=J,Z,G,q;if(Q===0)Z=G=q=X;else{let U=X<0.5?X*(1+Q):X+Q-X*Q,z=2*X-U;Z=c9._hue2rgb(z,U,$+0.3333333333333333),G=c9._hue2rgb(z,U,$),q=c9._hue2rgb(z,U,$-0.3333333333333333)}return new _1(Math.round(Z*255),Math.round(G*255),Math.round(q*255),Y)}}class Aq{constructor(J,$,Q,X){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=YY(Math.max(Math.min(1,$),0),3),this.v=YY(Math.max(Math.min(1,Q),0),3),this.a=YY(Math.max(Math.min(1,X),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.v===$.v&&J.a===$.a}static fromRGBA(J){let $=J.r/255,Q=J.g/255,X=J.b/255,Y=Math.max($,Q,X),Z=Math.min($,Q,X),G=Y-Z,q=Y===0?0:G/Y,U;if(G===0)U=0;else if(Y===$)U=((Q-X)/G%6+6)%6;else if(Y===Q)U=(X-$)/G+2;else U=($-Q)/G+4;return new Aq(Math.round(U*60),q,Y,J.a)}static toRGBA(J){let{h:$,s:Q,v:X,a:Y}=J,Z=X*Q,G=Z*(1-Math.abs($/60%2-1)),q=X-Z,[U,z,H]=[0,0,0];if($<60)U=Z,z=G;else if($<120)U=G,z=Z;else if($<180)z=Z,H=G;else if($<240)z=G,H=Z;else if($<300)U=G,H=Z;else if($<=360)U=Z,H=G;return U=Math.round((U+q)*255),z=Math.round((z+q)*255),H=Math.round((H+q)*255),new _1(U,z,H,Y)}}class l{static fromHex(J){return l.Format.CSS.parseHex(J)||l.red}static equals(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;return J.equals($)}get hsla(){if(this._hsla)return this._hsla;else return c9.fromRGBA(this.rgba)}get hsva(){if(this._hsva)return this._hsva;return Aq.fromRGBA(this.rgba)}constructor(J){if(!J)throw new Error("Color needs a value");else if(J instanceof _1)this.rgba=J;else if(J instanceof c9)this._hsla=J,this.rgba=c9.toRGBA(J);else if(J instanceof Aq)this._hsva=J,this.rgba=Aq.toRGBA(J);else throw new Error("Invalid color ctor argument")}equals(J){return!!J&&_1.equals(this.rgba,J.rgba)&&c9.equals(this.hsla,J.hsla)&&Aq.equals(this.hsva,J.hsva)}getRelativeLuminance(){let J=l._relativeLuminanceForComponent(this.rgba.r),$=l._relativeLuminanceForComponent(this.rgba.g),Q=l._relativeLuminanceForComponent(this.rgba.b),X=0.2126*J+0.7152*$+0.0722*Q;return YY(X,4)}static _relativeLuminanceForComponent(J){let $=J/255;return $<=0.03928?$/12.92:Math.pow(($+0.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1000>=128}isLighterThan(J){let $=this.getRelativeLuminance(),Q=J.getRelativeLuminance();return $>Q}isDarkerThan(J){let $=this.getRelativeLuminance(),Q=J.getRelativeLuminance();return $<Q}lighten(J){return new l(new c9(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*J,this.hsla.a))}darken(J){return new l(new c9(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*J,this.hsla.a))}transparent(J){let{r:$,g:Q,b:X,a:Y}=this.rgba;return new l(new _1($,Q,X,Y*J))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new l(new _1(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(J){if(this.isOpaque()||J.rgba.a!==1)return this;let{r:$,g:Q,b:X,a:Y}=this.rgba;return new l(new _1(J.rgba.r-Y*(J.rgba.r-$),J.rgba.g-Y*(J.rgba.g-Q),J.rgba.b-Y*(J.rgba.b-X),1))}toString(){if(!this._toString)this._toString=l.Format.CSS.format(this);return this._toString}static getLighterColor(J,$,Q){if(J.isLighterThan($))return J;Q=Q?Q:0.5;let X=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return Q=Q*(Y-X)/Y,J.lighten(Q)}static getDarkerColor(J,$,Q){if(J.isDarkerThan($))return J;Q=Q?Q:0.5;let X=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return Q=Q*(X-Y)/X,J.darken(Q)}}var g7=N(()=>{l.white=new l(new _1(255,255,255,1));l.black=new l(new _1(0,0,0,1));l.red=new l(new _1(255,0,0,1));l.blue=new l(new _1(0,0,255,1));l.green=new l(new _1(0,255,0,1));l.cyan=new l(new _1(0,255,255,1));l.lightgrey=new l(new _1(211,211,211,1));l.transparent=new l(new _1(0,0,0,0));(function(J){let $;(function(Q){let X;(function(Y){function Z(K){if(K.rgba.a===1)return`rgb(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b})`;return J.Format.CSS.formatRGBA(K)}Y.formatRGB=Z;function G(K){return`rgba(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b}, ${+K.rgba.a.toFixed(2)})`}Y.formatRGBA=G;function q(K){if(K.hsla.a===1)return`hsl(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%)`;return J.Format.CSS.formatHSLA(K)}Y.formatHSL=q;function U(K){return`hsla(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%, ${K.hsla.a.toFixed(2)})`}Y.formatHSLA=U;function z(K){let P=K.toString(16);return P.length!==2?"0"+P:P}function H(K){return`#${z(K.rgba.r)}${z(K.rgba.g)}${z(K.rgba.b)}`}Y.formatHex=H;function j(K,P=!1){if(P&&K.rgba.a===1)return J.Format.CSS.formatHex(K);return`#${z(K.rgba.r)}${z(K.rgba.g)}${z(K.rgba.b)}${z(Math.round(K.rgba.a*255))}`}Y.formatHexA=j;function V(K){if(K.isOpaque())return J.Format.CSS.formatHex(K);return J.Format.CSS.formatRGBA(K)}Y.format=V;function W(K){let P=K.length;if(P===0)return null;if(K.charCodeAt(0)!==35)return null;if(P===7){let A=16*B(K.charCodeAt(1))+B(K.charCodeAt(2)),D=16*B(K.charCodeAt(3))+B(K.charCodeAt(4)),R=16*B(K.charCodeAt(5))+B(K.charCodeAt(6));return new J(new _1(A,D,R,1))}if(P===9){let A=16*B(K.charCodeAt(1))+B(K.charCodeAt(2)),D=16*B(K.charCodeAt(3))+B(K.charCodeAt(4)),R=16*B(K.charCodeAt(5))+B(K.charCodeAt(6)),M=16*B(K.charCodeAt(7))+B(K.charCodeAt(8));return new J(new _1(A,D,R,M/255))}if(P===4){let A=B(K.charCodeAt(1)),D=B(K.charCodeAt(2)),R=B(K.charCodeAt(3));return new J(new _1(16*A+A,16*D+D,16*R+R))}if(P===5){let A=B(K.charCodeAt(1)),D=B(K.charCodeAt(2)),R=B(K.charCodeAt(3)),M=B(K.charCodeAt(4));return new J(new _1(16*A+A,16*D+D,16*R+R,(16*M+M)/255))}return null}Y.parseHex=W;function B(K){switch(K){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(X=Q.CSS||(Q.CSS={}))})($=J.Format||(J.Format={}))})(l||(l={}))});function tv(J){let $=[];for(let Q of J){let X=Number(Q);if(X||X===0&&Q.replace(/\s/g,"")!=="")$.push(X)}return $}function DO(J,$,Q,X){return{red:J/255,blue:Q/255,green:$/255,alpha:X}}function iz(J,$){let Q=$.index,X=$[0].length;if(!Q)return;let Y=J.positionAt(Q);return{startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column+X}}function M50(J,$){if(!J)return;let Q=l.Format.CSS.parseHex($);if(!Q)return;return{range:J,color:DO(Q.rgba.r,Q.rgba.g,Q.rgba.b,Q.rgba.a)}}function nv(J,$,Q){if(!J||$.length!==1)return;let Y=$[0].values(),Z=tv(Y);return{range:J,color:DO(Z[0],Z[1],Z[2],Q?Z[3]:1)}}function ov(J,$,Q){if(!J||$.length!==1)return;let Y=$[0].values(),Z=tv(Y),G=new l(new c9(Z[0],Z[1]/100,Z[2]/100,Q?Z[3]:1));return{range:J,color:DO(G.rgba.r,G.rgba.g,G.rgba.b,G.rgba.a)}}function nz(J,$){if(typeof J==="string")return[...J.matchAll($)];else return J.findMatches($)}function _50(J){let $=[],X=nz(J,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(X.length>0)for(let Y of X){let Z=Y.filter((z)=>z!==void 0),G=Z[1],q=Z[2];if(!q)continue;let U;if(G==="rgb"){let z=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;U=nv(iz(J,Y),nz(q,z),!1)}else if(G==="rgba"){let z=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=nv(iz(J,Y),nz(q,z),!0)}else if(G==="hsl"){let z=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;U=ov(iz(J,Y),nz(q,z),!1)}else if(G==="hsla"){let z=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=ov(iz(J,Y),nz(q,z),!0)}else if(G==="#")U=M50(iz(J,Y),G+q);if(U)$.push(U)}return $}function ev(J){if(!J||typeof J.getValue!=="function"||typeof J.positionAt!=="function")return[];return _50(J)}var Jh=N(()=>{g7()});class gQ{constructor(J,$){this._host=J,this._models=Object.create(null),this._foreignModuleFactory=$,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(J){return this._models[J]}_getModels(){let J=[];return Object.keys(this._models).forEach(($)=>J.push(this._models[$])),J}acceptNewModel(J){this._models[J.url]=new $h(I0.parse(J.url),J.lines,J.EOL,J.versionId)}acceptModelChanged(J,$){if(!this._models[J])return;this._models[J].onEvents($)}acceptRemovedModel(J){if(!this._models[J])return;delete this._models[J]}async computeUnicodeHighlights(J,$,Q){let X=this._getModel(J);if(!X)return{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};return XO.computeUnicodeHighlights(X,$,Q)}async computeDiff(J,$,Q,X){let Y=this._getModel(J),Z=this._getModel($);if(!Y||!Z)return null;return gQ.computeDiff(Y,Z,Q,X)}static computeDiff(J,$,Q,X){let Y=X==="advanced"?PO.getDefault():PO.getLegacy(),Z=J.getLinesContent(),G=$.getLinesContent(),q=Y.computeDiff(Z,G,Q),U=q.changes.length>0?!1:this._modelsAreIdentical(J,$);function z(H){return H.map((j)=>{var V;return[j.original.startLineNumber,j.original.endLineNumberExclusive,j.modified.startLineNumber,j.modified.endLineNumberExclusive,(V=j.innerChanges)===null||V===void 0?void 0:V.map((W)=>[W.originalRange.startLineNumber,W.originalRange.startColumn,W.originalRange.endLineNumber,W.originalRange.endColumn,W.modifiedRange.startLineNumber,W.modifiedRange.startColumn,W.modifiedRange.endLineNumber,W.modifiedRange.endColumn])]})}return{identical:U,quitEarly:q.hitTimeout,changes:z(q.changes),moves:q.moves.map((H)=>[H.lineRangeMapping.original.startLineNumber,H.lineRangeMapping.original.endLineNumberExclusive,H.lineRangeMapping.modified.startLineNumber,H.lineRangeMapping.modified.endLineNumberExclusive,z(H.changes)])}}static _modelsAreIdentical(J,$){let Q=J.getLineCount(),X=$.getLineCount();if(Q!==X)return!1;for(let Y=1;Y<=Q;Y++){let Z=J.getLineContent(Y),G=$.getLineContent(Y);if(Z!==G)return!1}return!0}async computeMoreMinimalEdits(J,$,Q){let X=this._getModel(J);if(!X)return $;let Y=[],Z=void 0;$=$.slice(0).sort((q,U)=>{if(q.range&&U.range)return L.compareRangesUsingStarts(q.range,U.range);let z=q.range?0:1,H=U.range?0:1;return z-H});let G=0;for(let q=1;q<$.length;q++)if(L.getEndPosition($[G].range).equals(L.getStartPosition($[q].range)))$[G].range=L.fromPositions(L.getStartPosition($[G].range),L.getEndPosition($[q].range)),$[G].text+=$[q].text;else G++,$[G]=$[q];$.length=G+1;for(let{range:q,text:U,eol:z}of $){if(typeof z==="number")Z=z;if(L.isEmpty(q)&&!U)continue;let H=X.getValueInRange(q);if(U=U.replace(/\r\n|\n|\r/g,X.eol),H===U)continue;if(Math.max(U.length,H.length)>gQ._diffLimit){Y.push({range:q,text:U});continue}let j=Uv(H,U,Q),V=X.offsetAt(L.lift(q).getStartPosition());for(let W of j){let B=X.positionAt(V+W.originalStart),K=X.positionAt(V+W.originalStart+W.originalLength),P={text:U.substr(W.modifiedStart,W.modifiedLength),range:{startLineNumber:B.lineNumber,startColumn:B.column,endLineNumber:K.lineNumber,endColumn:K.column}};if(X.getValueInRange(P.range)!==P.text)Y.push(P)}}if(typeof Z==="number")Y.push({eol:Z,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});return Y}async computeLinks(J){let $=this._getModel(J);if(!$)return null;return Vv($)}async computeDefaultDocumentColors(J){let $=this._getModel(J);if(!$)return null;return ev($)}async textualSuggest(J,$,Q,X){let Y=new G5,Z=new RegExp(Q,X),G=new Set;J:for(let q of J){let U=this._getModel(q);if(!U)continue;for(let z of U.words(Z)){if(z===$||!isNaN(Number(z)))continue;if(G.add(z),G.size>gQ._suggestionsLimit)break J}}return{words:Array.from(G),duration:Y.elapsed()}}async computeWordRanges(J,$,Q,X){let Y=this._getModel(J);if(!Y)return Object.create(null);let Z=new RegExp(Q,X),G=Object.create(null);for(let q=$.startLineNumber;q<$.endLineNumber;q++){let U=Y.getLineWords(q,Z);for(let z of U){if(!isNaN(Number(z.word)))continue;let H=G[z.word];if(!H)H=[],G[z.word]=H;H.push({startLineNumber:q,startColumn:z.startColumn,endLineNumber:q,endColumn:z.endColumn})}}return G}async navigateValueSet(J,$,Q,X,Y){let Z=this._getModel(J);if(!Z)return null;let G=new RegExp(X,Y);if($.startColumn===$.endColumn)$={startLineNumber:$.startLineNumber,startColumn:$.startColumn,endLineNumber:$.endLineNumber,endColumn:$.endColumn+1};let q=Z.getValueInRange($),U=Z.getWordAtPosition({lineNumber:$.startLineNumber,column:$.startColumn},G);if(!U)return null;let z=Z.getValueInRange(U);return fz.INSTANCE.navigateValueSet($,q,U,z,Q)}loadForeignModule(J,$,Q){let Z={host:px(Q,(G,q)=>{return this._host.fhr(G,q)}),getMirrorModels:()=>{return this._getModels()}};if(this._foreignModuleFactory)return this._foreignModule=this._foreignModuleFactory(Z,$),Promise.resolve(bX(this._foreignModule));return Promise.reject(new Error("Unexpected usage"))}fmr(J,$){if(!this._foreignModule||typeof this._foreignModule[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._foreignModule[J].apply(this._foreignModule,$))}catch(Q){return Promise.reject(Q)}}}var $h;var Qh=N(()=>{gF();o6();l0();zv();bG();Wv();Bv();_M();J$();Dv();iv();j7();Jh();$h=class $h extends o_{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(J){let $=[];for(let Q=0;Q<this._lines.length;Q++){let X=this._lines[Q],Y=this.offsetAt(new v(Q+1,1)),Z=X.matchAll(J);for(let G of Z){if(G.index||G.index===0)G.index=G.index+Y;$.push(G)}}return $}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(J){return this._lines[J-1]}getWordAtPosition(J,$){let Q=CX(J.column,cU($),this._lines[J.lineNumber-1],0);if(Q)return new L(J.lineNumber,Q.startColumn,J.lineNumber,Q.endColumn);return null}words(J){let $=this._lines,Q=this._wordenize.bind(this),X=0,Y="",Z=0,G=[];return{*[Symbol.iterator](){while(!0)if(Z<G.length){let q=Y.substring(G[Z].start,G[Z].end);Z+=1,yield q}else if(X<$.length)Y=$[X],G=Q(Y,J),Z=0,X+=1;else break}}}getLineWords(J,$){let Q=this._lines[J-1],X=this._wordenize(Q,$),Y=[];for(let Z of X)Y.push({word:Q.substring(Z.start,Z.end),startColumn:Z.start+1,endColumn:Z.end+1});return Y}_wordenize(J,$){let Q=[],X;$.lastIndex=0;while(X=$.exec(J)){if(X[0].length===0)break;Q.push({start:X.index,end:X.index+X[0].length})}return Q}getValueInRange(J){if(J=this._validateRange(J),J.startLineNumber===J.endLineNumber)return this._lines[J.startLineNumber-1].substring(J.startColumn-1,J.endColumn-1);let $=this._eol,Q=J.startLineNumber-1,X=J.endLineNumber-1,Y=[];Y.push(this._lines[Q].substring(J.startColumn-1));for(let Z=Q+1;Z<X;Z++)Y.push(this._lines[Z]);return Y.push(this._lines[X].substring(0,J.endColumn-1)),Y.join($)}offsetAt(J){return J=this._validatePosition(J),this._ensureLineStarts(),this._lineStarts.getPrefixSum(J.lineNumber-2)+(J.column-1)}positionAt(J){J=Math.floor(J),J=Math.max(0,J),this._ensureLineStarts();let $=this._lineStarts.getIndexOf(J),Q=this._lines[$.index].length;return{lineNumber:1+$.index,column:1+Math.min($.remainder,Q)}}_validateRange(J){let $=this._validatePosition({lineNumber:J.startLineNumber,column:J.startColumn}),Q=this._validatePosition({lineNumber:J.endLineNumber,column:J.endColumn});if($.lineNumber!==J.startLineNumber||$.column!==J.startColumn||Q.lineNumber!==J.endLineNumber||Q.column!==J.endColumn)return{startLineNumber:$.lineNumber,startColumn:$.column,endLineNumber:Q.lineNumber,endColumn:Q.column};return J}_validatePosition(J){if(!v.isIPosition(J))throw new Error("bad position");let{lineNumber:$,column:Q}=J,X=!1;if($<1)$=1,Q=1,X=!0;else if($>this._lines.length)$=this._lines.length,Q=this._lines[$-1].length+1,X=!0;else{let Y=this._lines[$-1].length+1;if(Q<1)Q=1,X=!0;else if(Q>Y)Q=Y,X=!0}if(!X)return J;else return{lineNumber:$,column:Q}}};gQ._diffLimit=1e5;gQ._suggestionsLimit=1e4;if(typeof importScripts==="function")globalThis.monaco=EB()});var sF,aF;var rF=N(()=>{u0();sF=M0("textResourceConfigurationService"),aF=M0("textResourcePropertiesService")});var F1;var l9=N(()=>{u0();F1=M0("ILanguageFeaturesService")});function F2(J,$){let Q=J.getModel($);if(!Q)return!1;if(Q.isTooLargeForSyncing())return!1;return!0}class Zh{constructor(J,$,Q,X){this.languageConfigurationService=X,this._debugDisplayName="wordbasedCompletions",this._workerManager=J,this._configurationService=$,this._modelService=Q}async provideCompletionItems(J,$){let Q=this._configurationService.getValue(J.uri,$,"editor");if(Q.wordBasedSuggestions==="off")return;let X=[];if(Q.wordBasedSuggestions==="currentDocument"){if(F2(this._modelService,J.uri))X.push(J.uri)}else for(let H of this._modelService.getModels()){if(!F2(this._modelService,H.uri))continue;if(H===J)X.unshift(H.uri);else if(Q.wordBasedSuggestions==="allDocuments"||H.getLanguageId()===J.getLanguageId())X.push(H.uri)}if(X.length===0)return;let Y=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),Z=J.getWordAtPosition($),G=!Z?L.fromPositions($):new L($.lineNumber,Z.startColumn,$.lineNumber,Z.endColumn),q=G.setEndPosition($.lineNumber,$.column),z=await(await this._workerManager.withWorker()).textualSuggest(X,Z===null||Z===void 0?void 0:Z.word,Y);if(!z)return;return{duration:z.duration,suggestions:z.words.map((H)=>{return{kind:18,label:H,insertText:H,range:{insert:q,replace:G}}})}}}class RO{constructor(J){this._instance=J,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class iF{constructor(J){this._workerClient=J}fhr(J,$){return this._workerClient.fhr(J,$)}}var O50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},oz=function(J,$){return function(Q,X){$(Q,X,J)}},Xh=60000,Yh=300000,nF,Gh,qh,oF;var MO=N(()=>{u1();Q0();A_();yC();l0();h8();Qh();_Q();rF();U1();G9();J$();P1();l9();XY();f7();J8();D0();nF=class J extends h{constructor($,Q,X,Y,Z){super();this._modelService=$,this._workerManager=this._register(new Gh(this._modelService,Y)),this._logService=X,this._register(Z.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(G,q)=>{if(!F2(this._modelService,G.uri))return Promise.resolve({links:[]});return this._workerManager.withWorker().then((U)=>U.computeLinks(G.uri)).then((U)=>{return U&&{links:U}})}})),this._register(Z.completionProvider.register("*",new Zh(this._workerManager,Q,this._modelService,Y)))}dispose(){super.dispose()}canComputeUnicodeHighlights($){return F2(this._modelService,$)}computedUnicodeHighlights($,Q,X){return this._workerManager.withWorker().then((Y)=>Y.computedUnicodeHighlights($,Q,X))}async computeDiff($,Q,X,Y){let Z=await this._workerManager.withWorker().then((U)=>U.computeDiff($,Q,X,Y));if(!Z)return null;return{identical:Z.identical,quitEarly:Z.quitEarly,changes:q(Z.changes),moves:Z.moves.map((U)=>new mz(new Q8(new S0(U[0],U[1]),new S0(U[2],U[3])),q(U[4])))};function q(U){return U.map((z)=>{var H;return new K7(new S0(z[0],z[1]),new S0(z[2],z[3]),(H=z[4])===null||H===void 0?void 0:H.map((j)=>new u9(new L(j[0],j[1],j[2],j[3]),new L(j[4],j[5],j[6],j[7]))))})}}computeMoreMinimalEdits($,Q,X=!1){if(_9(Q)){if(!F2(this._modelService,$))return Promise.resolve(Q);let Y=G5.create(),Z=this._workerManager.withWorker().then((G)=>G.computeMoreMinimalEdits($,Q,X));return Z.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",$.toString(!0),Y.elapsed())),Promise.race([Z,LQ(1000).then(()=>Q)])}else return Promise.resolve(void 0)}canNavigateValueSet($){return F2(this._modelService,$)}navigateValueSet($,Q,X){return this._workerManager.withWorker().then((Y)=>Y.navigateValueSet($,Q,X))}canComputeWordRanges($){return F2(this._modelService,$)}computeWordRanges($,Q){return this._workerManager.withWorker().then((X)=>X.computeWordRanges($,Q))}};nF=O50([oz(0,z5),oz(1,sF),oz(2,Q5),oz(3,_6),oz(4,F1)],nF);Gh=class Gh extends h{constructor(J,$){super();this.languageConfigurationService=$,this._modelService=J,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new rZ).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Yh/2),FQ),this._register(this._modelService.onModelRemoved((X)=>this._checkStopEmptyWorker()))}dispose(){if(this._editorWorkerClient)this._editorWorkerClient.dispose(),this._editorWorkerClient=null;super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;if(this._modelService.getModels().length===0)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;if(new Date().getTime()-this._lastWorkerUsedTime>Yh)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}withWorker(){if(this._lastWorkerUsedTime=new Date().getTime(),!this._editorWorkerClient)this._editorWorkerClient=new oF(this._modelService,!1,"editorWorkerService",this.languageConfigurationService);return Promise.resolve(this._editorWorkerClient)}};qh=class qh extends h{constructor(J,$,Q){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=J,this._modelService=$,!Q){let X=new sZ;X.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Xh/2)),this._register(X)}}dispose(){for(let J in this._syncedModels)k1(this._syncedModels[J]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(J,$){for(let Q of J){let X=Q.toString();if(!this._syncedModels[X])this._beginModelSync(Q,$);if(this._syncedModels[X])this._syncedModelsLastUsedTime[X]=new Date().getTime()}}_checkStopModelSync(){let J=new Date().getTime(),$=[];for(let Q in this._syncedModelsLastUsedTime)if(J-this._syncedModelsLastUsedTime[Q]>Xh)$.push(Q);for(let Q of $)this._stopModelSync(Q)}_beginModelSync(J,$){let Q=this._modelService.getModel(J);if(!Q)return;if(!$&&Q.isTooLargeForSyncing())return;let X=J.toString();this._proxy.acceptNewModel({url:Q.uri.toString(),lines:Q.getLinesContent(),EOL:Q.getEOL(),versionId:Q.getVersionId()});let Y=new r;Y.add(Q.onDidChangeContent((Z)=>{this._proxy.acceptModelChanged(X.toString(),Z)})),Y.add(Q.onWillDispose(()=>{this._stopModelSync(X)})),Y.add(K0(()=>{this._proxy.acceptRemovedModel(X)})),this._syncedModels[X]=Y}_stopModelSync(J){let $=this._syncedModels[J];delete this._syncedModels[J],delete this._syncedModelsLastUsedTime[J],k1($)}};oF=class oF extends h{constructor(J,$,Q,X){super();this.languageConfigurationService=X,this._disposed=!1,this._modelService=J,this._keepIdleModels=$,this._workerFactory=new Ez(Q),this._worker=null,this._modelManager=null}fhr(J,$){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new B_(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new iF(this)))}catch(J){kz(J),this._worker=new RO(new gQ(new iF(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(J)=>{return kz(J),this._worker=new RO(new gQ(new iF(this),null)),this._getOrCreateWorker().getProxyObject()})}_getOrCreateModelManager(J){if(!this._modelManager)this._modelManager=this._register(new qh(J,this._modelService,this._keepIdleModels));return this._modelManager}async _withSyncedResources(J,$=!1){if(this._disposed)return Promise.reject(gb());return this._getProxy().then((Q)=>{return this._getOrCreateModelManager(Q).ensureSyncedResources(J,$),Q})}computedUnicodeHighlights(J,$,Q){return this._withSyncedResources([J]).then((X)=>{return X.computeUnicodeHighlights(J.toString(),$,Q)})}computeDiff(J,$,Q,X){return this._withSyncedResources([J,$],!0).then((Y)=>{return Y.computeDiff(J.toString(),$.toString(),Q,X)})}computeMoreMinimalEdits(J,$,Q){return this._withSyncedResources([J]).then((X)=>{return X.computeMoreMinimalEdits(J.toString(),$,Q)})}computeLinks(J){return this._withSyncedResources([J]).then(($)=>{return $.computeLinks(J.toString())})}computeDefaultDocumentColors(J){return this._withSyncedResources([J]).then(($)=>{return $.computeDefaultDocumentColors(J.toString())})}async textualSuggest(J,$,Q){let X=await this._withSyncedResources(J),Y=Q.source,Z=Q.flags;return X.textualSuggest(J.map((G)=>G.toString()),$,Y,Z)}computeWordRanges(J,$){return this._withSyncedResources([J]).then((Q)=>{let X=this._modelService.getModel(J);if(!X)return Promise.resolve(null);let Y=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId()).getWordDefinition(),Z=Y.source,G=Y.flags;return Q.computeWordRanges(J.toString(),$,Z,G)})}navigateValueSet(J,$,Q){return this._withSyncedResources([J]).then((X)=>{let Y=this._modelService.getModel(J);if(!Y)return null;let Z=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition(),G=Z.source,q=Z.flags;return X.navigateValueSet(J.toString(),$,Q,G,q)})}dispose(){super.dispose(),this._disposed=!0}}});function Uh(J,$,Q){return new zh(J,$,Q)}var zh;var Hh=N(()=>{j7();MO();zh=class zh extends oF{constructor(J,$,Q){super(J,Q.keepIdleModels||!1,Q.label,$);this._foreignModuleId=Q.moduleId,this._foreignModuleCreateData=Q.createData||null,this._foreignModuleHost=Q.host||null,this._foreignProxy=null}fhr(J,$){if(!this._foreignModuleHost||typeof this._foreignModuleHost[J]!=="function")return Promise.reject(new Error("Missing method "+J+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[J].apply(this._foreignModuleHost,$))}catch(Q){return Promise.reject(Q)}}_getForeignProxy(){if(!this._foreignProxy)this._foreignProxy=this._getProxy().then((J)=>{let $=this._foreignModuleHost?bX(this._foreignModuleHost):[];return J.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,$).then((Q)=>{this._foreignModuleCreateData=null;let X=(G,q)=>{return J.fmr(G,q)},Y=(G,q)=>{return function(){let U=Array.prototype.slice.call(arguments,0);return q(G,U)}},Z={};for(let G of Q)Z[G]=Y(G,X);return Z})});return this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(J){return this._withSyncedResources(J).then(($)=>this.getProxy())}}});var ZY;var tz=N(()=>{ZY={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function tF(J,$){return new bZ([new $$(0,"",J)],$)}function Pq(J,$){let Q=new Uint32Array(2);return Q[0]=0,Q[1]=(J<<0|0|0|32768|33554432)>>>0,new uX(Q,$===null?GY:$)}var GY;var ez=N(()=>{P8();GY=new class{clone(){return this}equals(J){return this===J}}});class u5{static getLanguageId(J){return(J&255)>>>0}static getTokenType(J){return(J&768)>>>8}static containsBalancedBrackets(J){return(J&1024)!==0}static getFontStyle(J){return(J&30720)>>>11}static getForeground(J){return(J&16744448)>>>15}static getBackground(J){return(J&4278190080)>>>24}static getClassNameFromMetadata(J){let Q="mtk"+this.getForeground(J),X=this.getFontStyle(J);if(X&1)Q+=" mtki";if(X&2)Q+=" mtkb";if(X&4)Q+=" mtku";if(X&8)Q+=" mtks";return Q}static getInlineStyleFromMetadata(J,$){let Q=this.getForeground(J),X=this.getFontStyle(J),Y=`color: ${$[Q]};`;if(X&1)Y+="font-style: italic;";if(X&2)Y+="font-weight: bold;";let Z="";if(X&4)Z+=" underline";if(X&8)Z+=" line-through";if(Z)Y+=`text-decoration:${Z};`;return Y}static getPresentationFromMetadata(J){let $=this.getForeground(J),Q=this.getFontStyle(J);return{foreground:$,italic:Boolean(Q&1),bold:Boolean(Q&2),underline:Boolean(Q&4),strikethrough:Boolean(Q&8)}}}class O6{static createEmpty(J,$){let Q=O6.defaultTokenMetadata,X=new Uint32Array(2);return X[0]=J.length,X[1]=Q,new O6(X,J,$)}constructor(J,$,Q){this._lineTokensBrand=void 0,this._tokens=J,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=Q}equals(J){if(J instanceof O6)return this.slicedEquals(J,0,this._tokensCount);return!1}slicedEquals(J,$,Q){if(this._text!==J._text)return!1;if(this._tokensCount!==J._tokensCount)return!1;let X=$<<1,Y=X+(Q<<1);for(let Z=X;Z<Y;Z++)if(this._tokens[Z]!==J._tokens[Z])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(J){if(J>0)return this._tokens[J-1<<1];return 0}getMetadata(J){return this._tokens[(J<<1)+1]}getLanguageId(J){let $=this._tokens[(J<<1)+1],Q=u5.getLanguageId($);return this._languageIdCodec.decodeLanguageId(Q)}getStandardTokenType(J){let $=this._tokens[(J<<1)+1];return u5.getTokenType($)}getForeground(J){let $=this._tokens[(J<<1)+1];return u5.getForeground($)}getClassName(J){let $=this._tokens[(J<<1)+1];return u5.getClassNameFromMetadata($)}getInlineStyle(J,$){let Q=this._tokens[(J<<1)+1];return u5.getInlineStyleFromMetadata(Q,$)}getPresentation(J){let $=this._tokens[(J<<1)+1];return u5.getPresentationFromMetadata($)}getEndOffset(J){return this._tokens[J<<1]}findTokenIndexAtOffset(J){return O6.findIndexInTokensArray(this._tokens,J)}inflate(){return this}sliceAndInflate(J,$,Q){return new _O(this,J,$,Q)}static convertToEndOffset(J,$){let X=(J.length>>>1)-1;for(let Y=0;Y<X;Y++)J[Y<<1]=J[Y+1<<1];J[X<<1]=$}static findIndexInTokensArray(J,$){if(J.length<=2)return 0;let Q=0,X=(J.length>>>1)-1;while(Q<X){let Y=Q+Math.floor((X-Q)/2),Z=J[Y<<1];if(Z===$)return Y+1;else if(Z<$)Q=Y+1;else if(Z>$)X=Y}return Q}withInserted(J){if(J.length===0)return this;let $=0,Q=0,X="",Y=new Array,Z=0;while(!0){let G=$<this._tokensCount?this._tokens[$<<1]:-1,q=Q<J.length?J[Q]:null;if(G!==-1&&(q===null||G<=q.offset)){X+=this._text.substring(Z,G);let U=this._tokens[($<<1)+1];Y.push(X.length,U),$++,Z=G}else if(q){if(q.offset>Z){X+=this._text.substring(Z,q.offset);let U=this._tokens[($<<1)+1];Y.push(X.length,U),Z=q.offset}X+=q.text,Y.push(X.length,q.tokenMetadata),Q++}else break}return new O6(new Uint32Array(Y),X,this._languageIdCodec)}}class _O{constructor(J,$,Q,X){this._source=J,this._startOffset=$,this._endOffset=Q,this._deltaOffset=X,this._firstTokenIndex=J.findTokenIndexAtOffset($),this._tokensCount=0;for(let Y=this._firstTokenIndex,Z=J.getCount();Y<Z;Y++){if(J.getStartOffset(Y)>=Q)break;this._tokensCount++}}getMetadata(J){return this._source.getMetadata(this._firstTokenIndex+J)}getLanguageId(J){return this._source.getLanguageId(this._firstTokenIndex+J)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(J){if(J instanceof _O)return this._startOffset===J._startOffset&&this._endOffset===J._endOffset&&this._deltaOffset===J._deltaOffset&&this._source.slicedEquals(J._source,this._firstTokenIndex,this._tokensCount);return!1}getCount(){return this._tokensCount}getForeground(J){return this._source.getForeground(this._firstTokenIndex+J)}getEndOffset(J){let $=this._source.getEndOffset(this._firstTokenIndex+J);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(J){return this._source.getClassName(this._firstTokenIndex+J)}getInlineStyle(J,$){return this._source.getInlineStyle(this._firstTokenIndex+J,$)}getPresentation(J){return this._source.getPresentation(this._firstTokenIndex+J)}findTokenIndexAtOffset(J){return this._source.findTokenIndexAtOffset(J+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}var pQ=N(()=>{O6.defaultTokenMetadata=33587200});class p7{constructor(J,$,Q,X){this.startColumn=J,this.endColumn=$,this.className=Q,this.type=X,this._lineDecorationBrand=void 0}static _equals(J,$){return J.startColumn===$.startColumn&&J.endColumn===$.endColumn&&J.className===$.className&&J.type===$.type}static equalsArr(J,$){let Q=J.length,X=$.length;if(Q!==X)return!1;for(let Y=0;Y<Q;Y++)if(!p7._equals(J[Y],$[Y]))return!1;return!0}static extractWrapped(J,$,Q){if(J.length===0)return J;let X=$+1,Y=Q+1,Z=Q-$,G=[],q=0;for(let U of J){if(U.endColumn<=X||U.startColumn>=Y)continue;G[q++]=new p7(Math.max(1,U.startColumn-X+1),Math.min(Z+1,U.endColumn-X+1),U.className,U.type)}return G}static filter(J,$,Q,X){if(J.length===0)return[];let Y=[],Z=0;for(let G=0,q=J.length;G<q;G++){let U=J[G],z=U.range;if(z.endLineNumber<$||z.startLineNumber>$)continue;if(z.isEmpty()&&(U.type===0||U.type===3))continue;let H=z.startLineNumber===$?z.startColumn:Q,j=z.endLineNumber===$?z.endColumn:X;Y[Z++]=new p7(H,j,U.inlineClassName,U.type)}return Y}static _typeCompare(J,$){let Q=[2,0,1,3];return Q[J]-Q[$]}static compare(J,$){if(J.startColumn!==$.startColumn)return J.startColumn-$.startColumn;if(J.endColumn!==$.endColumn)return J.endColumn-$.endColumn;let Q=p7._typeCompare(J.type,$.type);if(Q!==0)return Q;if(J.className!==$.className)return J.className<$.className?-1:1;return 0}}class OO{constructor(J,$,Q,X){this.startOffset=J,this.endOffset=$,this.className=Q,this.metadata=X}}class eF{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(J){let $=0;for(let Q=0,X=J.length;Q<X;Q++)$|=J[Q];return $}consumeLowerThan(J,$,Q){while(this.count>0&&this.stopOffsets[0]<J){let X=0;while(X+1<this.count&&this.stopOffsets[X]===this.stopOffsets[X+1])X++;Q.push(new OO($,this.stopOffsets[X],this.classNames.join(" "),eF._metadata(this.metadata))),$=this.stopOffsets[X]+1,this.stopOffsets.splice(0,X+1),this.classNames.splice(0,X+1),this.metadata.splice(0,X+1),this.count-=X+1}if(this.count>0&&$<J)Q.push(new OO($,J-1,this.classNames.join(" "),eF._metadata(this.metadata))),$=J;return $}insert(J,$,Q){if(this.count===0||this.stopOffsets[this.count-1]<=J)this.stopOffsets.push(J),this.classNames.push($),this.metadata.push(Q);else for(let X=0;X<this.count;X++)if(this.stopOffsets[X]>=J){this.stopOffsets.splice(X,0,J),this.classNames.splice(X,0,$),this.metadata.splice(X,0,Q);break}this.count++;return}}class NO{static normalize(J,$){if($.length===0)return[];let Q=[],X=new eF,Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z],U=q.startColumn,z=q.endColumn,H=q.className,j=q.type===1?2:q.type===2?4:0;if(U>1){let B=J.charCodeAt(U-2);if(G6(B))U--}if(z>1){let B=J.charCodeAt(z-2);if(G6(B))z--}let V=U-1,W=z-2;if(Y=X.consumeLowerThan(V,Y,Q),X.count===0)Y=V;X.insert(W,H,j)}return X.consumeLowerThan(1073741824,Y,Q),Q}}var JK=N(()=>{t0()});class W5{constructor(J,$,Q,X){this.endIndex=J,this.type=$,this.metadata=Q,this.containsRTL=X,this._linePartBrand=void 0}isWhitespace(){return this.metadata&1?!0:!1}isPseudoAfter(){return this.metadata&4?!0:!1}}class JH{constructor(J,$){this.startOffset=J,this.endOffset=$}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class VJ{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,V,W,B,K,P,A,D){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=Q,this.continuesWithWrappedLine=X,this.isBasicASCII=Y,this.containsRTL=Z,this.fauxIndentLength=G,this.lineTokens=q,this.lineDecorations=U.sort(p7.compare),this.tabSize=z,this.startVisibleColumn=H,this.spaceWidth=j,this.stopRenderingLineAfter=B,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=P,this.fontLigatures=A,this.selectionsOnLine=D&&D.sort((_,T)=>_.startOffset<T.startOffset?-1:1);let R=Math.abs(W-j),M=Math.abs(V-j);if(R<M)this.renderSpaceWidth=W,this.renderSpaceCharCode=11825;else this.renderSpaceWidth=V,this.renderSpaceCharCode=183}sameSelection(J){if(this.selectionsOnLine===null)return J===null;if(J===null)return!1;if(J.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(J[$]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&p7.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class QK{constructor(J,$){this.partIndex=J,this.charIndex=$}}class W${static getPartIndex(J){return(J&4294901760)>>>16}static getCharIndex(J){return(J&65535)>>>0}constructor(J,$){this.length=J,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(J,$,Q,X){let Y=($<<16|Q<<0)>>>0;this._data[J-1]=Y,this._horizontalOffset[J-1]=X}getHorizontalOffset(J){if(this._horizontalOffset.length===0)return 0;return this._horizontalOffset[J-1]}charOffsetToPartData(J){if(this.length===0)return 0;if(J<0)return this._data[0];if(J>=this.length)return this._data[this.length-1];return this._data[J]}getDomPosition(J){let $=this.charOffsetToPartData(J-1),Q=W$.getPartIndex($),X=W$.getCharIndex($);return new QK(Q,X)}getColumn(J,$){return this.partDataToCharOffset(J.partIndex,$,J.charIndex)+1}partDataToCharOffset(J,$,Q){if(this.length===0)return 0;let X=(J<<16|Q<<0)>>>0,Y=0,Z=this.length-1;while(Y+1<Z){let B=Y+Z>>>1,K=this._data[B];if(K===X)return B;else if(K>X)Z=B;else Y=B}if(Y===Z)return Y;let G=this._data[Y],q=this._data[Z];if(G===X)return Y;if(q===X)return Z;let U=W$.getPartIndex(G),z=W$.getCharIndex(G),H=W$.getPartIndex(q),j;if(U!==H)j=$;else j=W$.getCharIndex(q);let V=Q-z,W=j-Q;if(V<=W)return Y;return Z}}class $K{constructor(J,$,Q){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=$,this.containsForeignElements=Q}}function $H(J,$){if(J.lineContent.length===0){if(J.lineDecorations.length>0){$.appendString("<span>");let Q=0,X=0,Y=0;for(let G of J.lineDecorations)if(G.type===1||G.type===2){if($.appendString('<span class="'),$.appendString(G.className),$.appendString('"></span>'),G.type===1)Y|=1,Q++;if(G.type===2)Y|=2,X++}$.appendString("</span>");let Z=new W$(1,Q+X);return Z.setColumnInfo(1,Q,0,0),new $K(Z,!1,Y)}return $.appendString("<span><span></span></span>"),new $K(new W$(0,0),!1,0)}return I50(N50(J),$)}class Vh{constructor(J,$,Q,X){this.characterMapping=J,this.html=$,this.containsRTL=Q,this.containsForeignElements=X}}function Dq(J){let $=new yQ(1e4),Q=$H(J,$);return new Vh(Q.characterMapping,$.build(),Q.containsRTL,Q.containsForeignElements)}class Wh{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,V,W,B,K){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=Q,this.len=X,this.isOverflowing=Y,this.overflowingCharCount=Z,this.parts=G,this.containsForeignElements=q,this.fauxIndentLength=U,this.tabSize=z,this.startVisibleColumn=H,this.containsRTL=j,this.spaceWidth=V,this.renderSpaceCharCode=W,this.renderWhitespace=B,this.renderControlCharacters=K}}function N50(J){let $=J.lineContent,Q,X,Y;if(J.stopRenderingLineAfter!==-1&&J.stopRenderingLineAfter<$.length)Q=!0,X=$.length-J.stopRenderingLineAfter,Y=J.stopRenderingLineAfter;else Q=!1,X=0,Y=$.length;let Z=T50($,J.containsRTL,J.lineTokens,J.fauxIndentLength,Y);if(J.renderControlCharacters&&!J.isBasicASCII)Z=L50($,Z);if(J.renderWhitespace===4||J.renderWhitespace===1||J.renderWhitespace===2&&!!J.selectionsOnLine||J.renderWhitespace===3&&!J.continuesWithWrappedLine)Z=k50(J,$,Y,Z);let G=0;if(J.lineDecorations.length>0){for(let q=0,U=J.lineDecorations.length;q<U;q++){let z=J.lineDecorations[q];if(z.type===3)G|=1;else if(z.type===1)G|=1;else if(z.type===2)G|=2}Z=E50($,Y,Z,J.lineDecorations)}if(!J.containsRTL)Z=w50($,Z,!J.isBasicASCII||J.fontLigatures);return new Wh(J.useMonospaceOptimizations,J.canUseHalfwidthRightwardsArrow,$,Y,Q,X,Z,G,J.fauxIndentLength,J.tabSize,J.startVisibleColumn,J.containsRTL,J.spaceWidth,J.renderSpaceCharCode,J.renderWhitespace,J.renderControlCharacters)}function T50(J,$,Q,X,Y){let Z=[],G=0;if(X>0)Z[G++]=new W5(X,"",0,!1);let q=X;for(let U=0,z=Q.getCount();U<z;U++){let H=Q.getEndOffset(U);if(H<=X)continue;let j=Q.getClassName(U);if(H>=Y){let W=$?PQ(J.substring(q,Y)):!1;Z[G++]=new W5(Y,j,0,W);break}let V=$?PQ(J.substring(q,H)):!1;Z[G++]=new W5(H,j,0,V),q=H}return Z}function w50(J,$,Q){let X=0,Y=[],Z=0;if(Q)for(let G=0,q=$.length;G<q;G++){let U=$[G],z=U.endIndex;if(X+50<z){let{type:H,metadata:j,containsRTL:V}=U,W=-1,B=X;for(let K=X;K<z;K++){if(J.charCodeAt(K)===32)W=K;if(W!==-1&&K-B>=50)Y[Z++]=new W5(W+1,H,j,V),B=W+1,W=-1}if(B!==z)Y[Z++]=new W5(z,H,j,V)}else Y[Z++]=U;X=z}else for(let G=0,q=$.length;G<q;G++){let U=$[G],z=U.endIndex,H=z-X;if(H>50){let{type:j,metadata:V,containsRTL:W}=U,B=Math.ceil(H/50);for(let K=1;K<B;K++){let P=X+K*50;Y[Z++]=new W5(P,j,V,W)}Y[Z++]=new W5(z,j,V,W)}else Y[Z++]=U;X=z}return Y}function Bh(J){if(J<32)return J!==9;if(J===127)return!0;if(J>=8234&&J<=8238||J>=8294&&J<=8297||J>=8206&&J<=8207||J===1564)return!0;return!1}function L50(J,$){let Q=[],X=new W5(0,"",0,!1),Y=0;for(let Z of $){let G=Z.endIndex;for(;Y<G;Y++){let q=J.charCodeAt(Y);if(Bh(q)){if(Y>X.endIndex)X=new W5(Y,Z.type,Z.metadata,Z.containsRTL),Q.push(X);X=new W5(Y+1,"mtkcontrol",Z.metadata,!1),Q.push(X)}}if(Y>X.endIndex)X=new W5(G,Z.type,Z.metadata,Z.containsRTL),Q.push(X)}return Q}function k50(J,$,Q,X){let{continuesWithWrappedLine:Y,fauxIndentLength:Z,tabSize:G,startVisibleColumn:q,useMonospaceOptimizations:U,selectionsOnLine:z}=J,H=J.renderWhitespace===1,j=J.renderWhitespace===3,V=J.renderSpaceWidth!==J.spaceWidth,W=[],B=0,K=0,P=X[K].type,A=X[K].containsRTL,D=X[K].endIndex,R=X.length,M=!1,_=I6($),T;if(_===-1)M=!0,_=Q,T=Q;else T=X9($);let w=!1,b=0,S=z&&z[b],g=q%G;for(let C=Z;C<Q;C++){let u=$.charCodeAt(C);if(S&&C>=S.endOffset)b++,S=z&&z[b];let i;if(C<_||C>T)i=!0;else if(u===9)i=!0;else if(u===32)if(H)if(w)i=!0;else{let Y0=C+1<Q?$.charCodeAt(C+1):0;i=Y0===32||Y0===9}else i=!0;else i=!1;if(i&&z)i=!!S&&S.startOffset<=C&&S.endOffset>C;if(i&&j)i=M||C>T;if(i&&A){if(C>=_&&C<=T)i=!1}if(w){if(!i||!U&&g>=G){if(V){let Y0=B>0?W[B-1].endIndex:Z;for(let P0=Y0+1;P0<=C;P0++)W[B++]=new W5(P0,"mtkw",1,!1)}else W[B++]=new W5(C,"mtkw",1,!1);g=g%G}}else if(C===D||i&&C>Z)W[B++]=new W5(C,P,0,A),g=g%G;if(u===9)g=G;else if(w9(u))g+=2;else g++;w=i;while(C===D)if(K++,K<R)P=X[K].type,A=X[K].containsRTL,D=X[K].endIndex;else break}let c=!1;if(w)if(Y&&H){let C=Q>0?$.charCodeAt(Q-1):0,u=Q>1?$.charCodeAt(Q-2):0;if(!(C===32&&(u!==32&&u!==9)))c=!0}else c=!0;if(c)if(V){let C=B>0?W[B-1].endIndex:Z;for(let u=C+1;u<=Q;u++)W[B++]=new W5(u,"mtkw",1,!1)}else W[B++]=new W5(Q,"mtkw",1,!1);else W[B++]=new W5(Q,P,0,A);return W}function E50(J,$,Q,X){X.sort(p7.compare);let Y=NO.normalize(J,X),Z=Y.length,G=0,q=[],U=0,z=0;for(let j=0,V=Q.length;j<V;j++){let W=Q[j],B=W.endIndex,K=W.type,P=W.metadata,A=W.containsRTL;while(G<Z&&Y[G].startOffset<B){let D=Y[G];if(D.startOffset>z)z=D.startOffset,q[U++]=new W5(z,K,P,A);if(D.endOffset+1<=B)z=D.endOffset+1,q[U++]=new W5(z,K+" "+D.className,P|D.metadata,A),G++;else{z=B,q[U++]=new W5(z,K+" "+D.className,P|D.metadata,A);break}}if(B>z)z=B,q[U++]=new W5(z,K,P,A)}let H=Q[Q.length-1].endIndex;if(G<Z&&Y[G].startOffset===H)while(G<Z&&Y[G].startOffset===H){let j=Y[G];q[U++]=new W5(z,j.className,j.metadata,!1),G++}return q}function I50(J,$){let{fontIsMonospace:Q,canUseHalfwidthRightwardsArrow:X,containsForeignElements:Y,lineContent:Z,len:G,isOverflowing:q,overflowingCharCount:U,parts:z,fauxIndentLength:H,tabSize:j,startVisibleColumn:V,containsRTL:W,spaceWidth:B,renderSpaceCharCode:K,renderWhitespace:P,renderControlCharacters:A}=J,D=new W$(G+1,z.length),R=!1,M=0,_=V,T=0,w=0,b=0;if(W)$.appendString('<span dir="ltr">');else $.appendString("<span>");for(let S=0,g=z.length;S<g;S++){let c=z[S],C=c.endIndex,u=c.type,i=c.containsRTL,Y0=P!==0&&c.isWhitespace(),P0=Y0&&!Q&&(u==="mtkw"||!Y),R0=M===C&&c.isPseudoAfter();if(T=0,$.appendString("<span "),i)$.appendString('style="unicode-bidi:isolate" ');if($.appendString('class="'),$.appendString(P0?"mtkz":u),$.appendASCIICharCode(34),Y0){let T0=0;{let A0=M,f0=_;for(;A0<C;A0++){let x0=(Z.charCodeAt(A0)===9?j-f0%j:1)|0;if(T0+=x0,A0>=H)f0+=x0}}if(P0)$.appendString(' style="width:'),$.appendString(String(B*T0)),$.appendString('px"');$.appendASCIICharCode(62);for(;M<C;M++){D.setColumnInfo(M+1,S-b,T,w),b=0;let A0=Z.charCodeAt(M),f0,d0;if(A0===9){if(f0=j-_%j|0,d0=f0,!X||d0>1)$.appendCharCode(8594);else $.appendCharCode(65515);for(let x0=2;x0<=d0;x0++)$.appendCharCode(160)}else f0=2,d0=1,$.appendCharCode(K),$.appendCharCode(8204);if(T+=f0,w+=d0,M>=H)_+=d0}}else{$.appendASCIICharCode(62);for(;M<C;M++){D.setColumnInfo(M+1,S-b,T,w),b=0;let T0=Z.charCodeAt(M),A0=1,f0=1;switch(T0){case 9:A0=j-_%j,f0=A0;for(let d0=1;d0<=A0;d0++)$.appendCharCode(160);break;case 32:$.appendCharCode(160);break;case 60:$.appendString("&lt;");break;case 62:$.appendString("&gt;");break;case 38:$.appendString("&amp;");break;case 0:if(A)$.appendCharCode(9216);else $.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:$.appendCharCode(65533);break;default:if(w9(T0))f0++;if(A&&T0<32)$.appendCharCode(9216+T0);else if(A&&T0===127)$.appendCharCode(9249);else if(A&&Bh(T0))$.appendString("[U+"),$.appendString(y50(T0)),$.appendString("]"),A0=8,f0=A0;else $.appendCharCode(T0)}if(T+=A0,w+=f0,M>=H)_+=f0}}if(R0)b++;else b=0;if(M>=G&&!R&&c.isPseudoAfter())R=!0,D.setColumnInfo(M+1,S,T,w);$.appendString("</span>")}if(!R)D.setColumnInfo(G+1,z.length-1,T,w);if(q)$.appendString('<span class="mtkoverflow">'),$.appendString(F("showMore","Show more ({0})",x50(U))),$.appendString("</span>");return $.appendString("</span>"),new $K(D,W,Y)}function y50(J){return J.toString(16).toUpperCase().padStart(4,"0")}function x50(J){if(J<1024)return F("overflow.chars","{0} chars",J);if(J<1048576)return`${(J/1024).toFixed(1)} KB`;return`${(J/1024/1024).toFixed(1)} MB`}var Rq=N(()=>{g0();t0();eZ();JK()});class XK{constructor(J,$,Q,X){this._viewportBrand=void 0,this.top=J|0,this.left=$|0,this.width=Q|0,this.height=X|0}}class TO{constructor(J,$){this.tabSize=J,this.data=$}}class Mq{constructor(J,$,Q,X,Y,Z,G){this._viewLineDataBrand=void 0,this.content=J,this.continuesWithWrappedLine=$,this.minColumn=Q,this.maxColumn=X,this.startVisibleColumn=Y,this.tokens=Z,this.inlineDecorations=G}}class f8{constructor(J,$,Q,X,Y,Z,G,q,U,z){this.minColumn=J,this.maxColumn=$,this.content=Q,this.continuesWithWrappedLine=X,this.isBasicASCII=f8.isBasicASCII(Q,Z),this.containsRTL=f8.containsRTL(Q,this.isBasicASCII,Y),this.tokens=G,this.inlineDecorations=q,this.tabSize=U,this.startVisibleColumn=z}static isBasicASCII(J,$){if($)return sG(J);return!0}static containsRTL(J,$,Q){if(!$&&Q)return PQ(J);return!1}}class qY{constructor(J,$,Q){this.range=J,this.inlineClassName=$,this.type=Q}}class wO{constructor(J,$,Q,X){this.startOffset=J,this.endOffset=$,this.inlineClassName=Q,this.inlineClassNameAffectsLetterSpacing=X}toInlineDecoration(J){return new qY(new L(J,this.startOffset+1,J,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class QH{constructor(J,$){this._viewModelDecorationBrand=void 0,this.range=J,this.options=$}}class K2{constructor(J,$,Q){this.color=J,this.zIndex=$,this.data=Q}static compareByRenderingProps(J,$){if(J.zIndex===$.zIndex){if(J.color<$.color)return-1;if(J.color>$.color)return 1;return 0}return J.zIndex-$.zIndex}static equals(J,$){return J.color===$.color&&J.zIndex===$.zIndex&&Q6(J.data,$.data)}static equalsArr(J,$){return Q6(J,$,K2.equals)}}var L4=N(()=>{U1();t0();l0()});function b50(J){return Array.isArray(J)}function Fh(J){return!b50(J)}function LO(J){return typeof J==="string"}function kO(J){return!LO(J)}function A2(J){return J?!1:!0}function B$(J,$){return J.ignoreCase&&$?$.toLowerCase():$}function EO(J){return J.replace(/[&<>'"_]/g,"-")}function Kh(J,$){console.log(`${J.languageId}: ${$}`)}function n1(J,$){return new Error(`${J.languageId}: ${$}`)}function F$(J,$,Q,X,Y){let Z=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,G=null;return $.replace(Z,function(q,U,z,H,j,V,W,B,K){if(!A2(z))return"$";if(!A2(H))return B$(J,Q);if(!A2(j)&&j<X.length)return B$(J,X[j]);if(!A2(W)&&J&&typeof J[W]==="string")return J[W];if(G===null)G=Y.split("."),G.unshift(Y);if(!A2(V)&&V<G.length)return B$(J,G[V]);return""})}function XH(J,$){let Q=$;while(Q&&Q.length>0){let X=J.tokenizer[Q];if(X)return X;let Y=Q.lastIndexOf(".");if(Y<0)Q=null;else Q=Q.substr(0,Y)}return null}function Ah(J,$){let Q=$;while(Q&&Q.length>0){if(J.stateNames[Q])return!0;let Y=Q.lastIndexOf(".");if(Y<0)Q=null;else Q=Q.substr(0,Y)}return!1}class Nq{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if(J!==null&&J.depth>=this._maxCacheDepth)return new Oq(J,$);let Q=Oq.getStackElementId(J);if(Q.length>0)Q+="|";Q+=$;let X=this._entries[Q];if(X)return X;return X=new Oq(J,$),this._entries[Q]=X,X}}class Oq{constructor(J,$){this.parent=J,this.state=$,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(J){let $="";while(J!==null){if($.length>0)$+="|";$+=J.state,J=J.parent}return $}static _equals(J,$){while(J!==null&&$!==null){if(J===$)return!0;if(J.state!==$.state)return!1;J=J.parent,$=$.parent}if(J===null&&$===null)return!0;return!1}equals(J){return Oq._equals(this,J)}push(J){return Nq.create(this,J)}pop(){return this.parent}popall(){let J=this;while(J.parent)J=J.parent;return J}switchTo(J){return Nq.create(this.parent,J)}}class _q{constructor(J,$){this.languageId=J,this.state=$}equals(J){return this.languageId===J.languageId&&this.state.equals(J.state)}clone(){if(this.state.clone()===this.state)return this;return new _q(this.languageId,this.state)}}class mQ{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if($!==null)return new YH(J,$);if(J!==null&&J.depth>=this._maxCacheDepth)return new YH(J,$);let Q=Oq.getStackElementId(J),X=this._entries[Q];if(X)return X;return X=new YH(J,null),this._entries[Q]=X,X}}class YH{constructor(J,$){this.stack=J,this.embeddedLanguageData=$}clone(){if((this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData)return this;return mQ.create(this.stack,this.embeddedLanguageData)}equals(J){if(!(J instanceof YH))return!1;if(!this.stack.equals(J.stack))return!1;if(this.embeddedLanguageData===null&&J.embeddedLanguageData===null)return!0;if(this.embeddedLanguageData===null||J.embeddedLanguageData===null)return!1;return this.embeddedLanguageData.equals(J.embeddedLanguageData)}}class Rh{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(J){this._languageId=J}emit(J,$){if(this._lastTokenType===$&&this._lastTokenLanguage===this._languageId)return;this._lastTokenType=$,this._lastTokenLanguage=this._languageId,this._tokens.push(new $$(J,$,this._languageId))}nestedLanguageTokenize(J,$,Q,X){let{languageId:Y,state:Z}=Q,G=c1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(X,""),Z;let q=G.tokenize(J,$,Z);if(X!==0)for(let U of q.tokens)this._tokens.push(new $$(U.offset+X,U.type,U.language));else this._tokens=this._tokens.concat(q.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,q.endState}finalize(J){return new bZ(this._tokens,J)}}class YK{constructor(J,$){this._languageService=J,this._theme=$,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(J){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(J)}emit(J,$){let Q=this._theme.match(this._currentLanguageId,$)|1024;if(this._lastTokenMetadata===Q)return;this._lastTokenMetadata=Q,this._tokens.push(J),this._tokens.push(Q)}static _merge(J,$,Q){let X=J!==null?J.length:0,Y=$.length,Z=Q!==null?Q.length:0;if(X===0&&Y===0&&Z===0)return new Uint32Array(0);if(X===0&&Y===0)return Q;if(Y===0&&Z===0)return J;let G=new Uint32Array(X+Y+Z);if(J!==null)G.set(J);for(let q=0;q<Y;q++)G[X+q]=$[q];if(Q!==null)G.set(Q,X+Y);return G}nestedLanguageTokenize(J,$,Q,X){let{languageId:Y,state:Z}=Q,G=c1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(X,""),Z;let q=G.tokenizeEncoded(J,$,Z);if(X!==0)for(let U=0,z=q.tokens.length;U<z;U+=2)q.tokens[U]+=X;return this._prependTokens=YK._merge(this._prependTokens,this._tokens,q.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,q.endState}finalize(J){return new uX(YK._merge(this._prependTokens,this._tokens,null),J)}}function v50(J,$){if(!$)return null;$=B$(J,$);let Q=J.brackets;for(let X of Q)if(X.open===$)return{token:X.token,bracketType:1};else if(X.close===$)return{token:X.token,bracketType:-1};return null}var S50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},C50=function(J,$){return function(Q,X){$(Q,X,J)}},IO,Dh=5,P2;var yO=N(()=>{Q0();P8();ez();v8();Nq._INSTANCE=new Nq(Dh);mQ._INSTANCE=new mQ(Dh);P2=IO=class J extends h{constructor($,Q,X,Y,Z){super();this._configurationService=Z,this._languageService=$,this._standaloneThemeService=Q,this._languageId=X,this._lexer=Y,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let G=!1;this._register(c1.onDidChange((q)=>{if(G)return;let U=!1;for(let z=0,H=q.changedLanguages.length;z<H;z++){let j=q.changedLanguages[z];if(this._embeddedLanguages[j]){U=!0;break}}if(U)G=!0,c1.handleChange([this._languageId]),G=!1})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((q)=>{if(q.affectsConfiguration("editor.maxTokenizationLineLength"))this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId})}))}getLoadStatus(){let $=[];for(let Q in this._embeddedLanguages){let X=c1.get(Q);if(X){if(X instanceof IO){let Y=X.getLoadStatus();if(Y.loaded===!1)$.push(Y.promise)}continue}if(!c1.isResolved(Q))$.push(c1.getOrCreate(Q))}if($.length===0)return{loaded:!0};return{loaded:!1,promise:Promise.all($).then((Q)=>{return})}}getInitialState(){let $=Nq.create(null,this._lexer.start);return mQ.create($,null)}tokenize($,Q,X){if($.length>=this._maxTokenizationLineLength)return tF(this._languageId,X);let Y=new Rh,Z=this._tokenize($,Q,X,Y);return Y.finalize(Z)}tokenizeEncoded($,Q,X){if($.length>=this._maxTokenizationLineLength)return Pq(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),X);let Y=new YK(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Z=this._tokenize($,Q,X,Y);return Y.finalize(Z)}_tokenize($,Q,X,Y){if(X.embeddedLanguageData)return this._nestedTokenize($,Q,X,0,Y);else return this._myTokenize($,Q,X,0,Y)}_findLeavingNestedLanguageOffset($,Q){let X=this._lexer.tokenizer[Q.stack.state];if(!X){if(X=XH(this._lexer,Q.stack.state),!X)throw n1(this._lexer,"tokenizer state is not defined: "+Q.stack.state)}let Y=-1,Z=!1;for(let G of X){if(!kO(G.action)||G.action.nextEmbedded!=="@pop")continue;Z=!0;let q=G.regex,U=G.regex.source;if(U.substr(0,4)==="^(?:"&&U.substr(U.length-1,1)===")"){let H=(q.ignoreCase?"i":"")+(q.unicode?"u":"");q=new RegExp(U.substr(4,U.length-5),H)}let z=$.search(q);if(z===-1||z!==0&&G.matchOnlyAtLineStart)continue;if(Y===-1||z<Y)Y=z}if(!Z)throw n1(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+Q.stack.state);return Y}_nestedTokenize($,Q,X,Y,Z){let G=this._findLeavingNestedLanguageOffset($,X);if(G===-1){let z=Z.nestedLanguageTokenize($,Q,X.embeddedLanguageData,Y);return mQ.create(X.stack,new _q(X.embeddedLanguageData.languageId,z))}let q=$.substring(0,G);if(q.length>0)Z.nestedLanguageTokenize(q,!1,X.embeddedLanguageData,Y);let U=$.substring(G);return this._myTokenize(U,Q,X,Y+G,Z)}_safeRuleName($){if($)return $.name;return"(unknown)"}_myTokenize($,Q,X,Y,Z){Z.enterLanguage(this._languageId);let G=$.length,q=Q&&this._lexer.includeLF?$+`
`:$,U=q.length,z=X.embeddedLanguageData,H=X.stack,j=0,V=null,W=!0;while(W||j<U){let B=j,K=H.depth,P=V?V.groups.length:0,A=H.state,D=null,R=null,M=null,_=null,T=null;if(V){D=V.matches;let S=V.groups.shift();if(R=S.matched,M=S.action,_=V.rule,V.groups.length===0)V=null}else{if(!W&&j>=U)break;W=!1;let S=this._lexer.tokenizer[A];if(!S){if(S=XH(this._lexer,A),!S)throw n1(this._lexer,"tokenizer state is not defined: "+A)}let g=q.substr(j);for(let c of S)if(j===0||!c.matchOnlyAtLineStart){if(D=g.match(c.regex),D){R=D[0],M=c.action;break}}}if(!D)D=[""],R="";if(!M){if(j<U)D=[q.charAt(j)],R=D[0];M=this._lexer.defaultToken}if(R===null)break;j+=R.length;while(Fh(M)&&kO(M)&&M.test)M=M.test(R,D,A,j===U);let w=null;if(typeof M==="string"||Array.isArray(M))w=M;else if(M.group)w=M.group;else if(M.token!==null&&M.token!==void 0){if(M.tokenSubst)w=F$(this._lexer,M.token,R,D,A);else w=M.token;if(M.nextEmbedded)if(M.nextEmbedded==="@pop"){if(!z)throw n1(this._lexer,"cannot pop embedded language if not inside one");z=null}else if(z)throw n1(this._lexer,"cannot enter embedded language from within an embedded language");else T=F$(this._lexer,M.nextEmbedded,R,D,A);if(M.goBack)j=Math.max(0,j-M.goBack);if(M.switchTo&&typeof M.switchTo==="string"){let S=F$(this._lexer,M.switchTo,R,D,A);if(S[0]==="@")S=S.substr(1);if(!XH(this._lexer,S))throw n1(this._lexer,"trying to switch to a state '"+S+"' that is undefined in rule: "+this._safeRuleName(_));else H=H.switchTo(S)}else if(M.transform&&typeof M.transform==="function")throw n1(this._lexer,"action.transform not supported");else if(M.next)if(M.next==="@push")if(H.depth>=this._lexer.maxStack)throw n1(this._lexer,"maximum tokenizer stack size reached: ["+H.state+","+H.parent.state+",...]");else H=H.push(A);else if(M.next==="@pop")if(H.depth<=1)throw n1(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));else H=H.pop();else if(M.next==="@popall")H=H.popall();else{let S=F$(this._lexer,M.next,R,D,A);if(S[0]==="@")S=S.substr(1);if(!XH(this._lexer,S))throw n1(this._lexer,"trying to set a next state '"+S+"' that is undefined in rule: "+this._safeRuleName(_));else H=H.push(S)}if(M.log&&typeof M.log==="string")Kh(this._lexer,this._lexer.languageId+": "+F$(this._lexer,M.log,R,D,A))}if(w===null)throw n1(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));let b=(S)=>{let g=this._languageService.getLanguageIdByLanguageName(S)||this._languageService.getLanguageIdByMimeType(S)||S,c=this._getNestedEmbeddedLanguageData(g);if(j<U){let C=$.substr(j);return this._nestedTokenize(C,Q,mQ.create(H,c),Y+j,Z)}else return mQ.create(H,c)};if(Array.isArray(w)){if(V&&V.groups.length>0)throw n1(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if(D.length!==w.length+1)throw n1(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));let S=0;for(let g=1;g<D.length;g++)S+=D[g].length;if(S!==R.length)throw n1(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));V={rule:_,matches:D,groups:[]};for(let g=0;g<w.length;g++)V.groups[g]={action:w[g],matched:D[g+1]};j-=R.length;continue}else{if(w==="@rematch"){if(j-=R.length,R="",D=null,w="",T!==null)return b(T)}if(R.length===0)if(U===0||K!==H.depth||A!==H.state||(!V?0:V.groups.length)!==P)continue;else throw n1(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_));let S=null;if(LO(w)&&w.indexOf("@brackets")===0){let g=w.substr(9),c=v50(this._lexer,R);if(!c)throw n1(this._lexer,"@brackets token returned but no bracket defined as: "+R);S=EO(c.token+g)}else{let g=w===""?"":w+this._lexer.tokenPostfix;S=EO(g)}if(B<G)Z.emit(B+Y,S)}if(T!==null)return b(T)}return mQ.create(H,z)}_getNestedEmbeddedLanguageData($){if(!this._languageService.isRegisteredLanguageId($))return new _q($,GY);if($!==this._languageId)this._languageService.requestBasicLanguageFeatures($),c1.getOrCreate($),this._embeddedLanguages[$]=!0;let Q=c1.get($);if(Q)return new _q($,Q.getInitialState());return new _q($,GY)}};P2=IO=S50([C50(4,y1)],P2)});class ZH{static colorizeElement(J,$,Q,X){X=X||{};let Y=X.theme||"vs",Z=X.mimeType||Q.getAttribute("lang")||Q.getAttribute("data-lang");if(!Z)return console.error("Mode not detected"),Promise.resolve();let G=$.getLanguageIdByMimeType(Z)||Z;J.setTheme(Y);let q=Q.firstChild?Q.firstChild.nodeValue:"";Q.className+=" "+Y;let U=(z)=>{var H;let j=(H=xO===null||xO===void 0?void 0:xO.createHTML(z))!==null&&H!==void 0?H:z;Q.innerHTML=j};return this.colorize($,q||"",G,X).then(U,(z)=>console.error(z))}static async colorize(J,$,Q,X){let Y=J.languageIdCodec,Z=4;if(X&&typeof X.tabSize==="number")Z=X.tabSize;if(aG($))$=$.substr(1);let G=Q9($);if(!J.isRegisteredLanguageId(Q))return Mh(G,Z,Y);let q=await c1.getOrCreate(Q);if(q)return h50(G,Z,q,Y);return Mh(G,Z,Y)}static colorizeLine(J,$,Q,X,Y=4){let Z=f8.isBasicASCII(J,$),G=f8.containsRTL(J,Z,Q);return Dq(new VJ(!1,!0,J,!1,Z,G,0,X,[],Y,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(J,$,Q=4){let X=J.getLineContent($);J.tokenization.forceTokenization($);let Z=J.tokenization.getLineTokens($).inflate();return this.colorizeLine(X,J.mightContainNonBasicASCII(),J.mightContainRTL(),Z,Q)}}function h50(J,$,Q,X){return new Promise((Y,Z)=>{let G=()=>{let q=f50(J,$,Q,X);if(Q instanceof P2){let U=Q.getLoadStatus();if(U.loaded===!1){U.promise.then(G,Z);return}}Y(q)};G()})}function Mh(J,$,Q){let X=[],Y=33587200,Z=new Uint32Array(2);Z[0]=0,Z[1]=Y;for(let G=0,q=J.length;G<q;G++){let U=J[G];Z[0]=U.length;let z=new O6(Z,U,Q),H=f8.isBasicASCII(U,!0),j=f8.containsRTL(U,H,!0),V=Dq(new VJ(!1,!0,U,!1,H,j,0,z,[],$,0,0,0,0,-1,"none",!1,!1,null));X=X.concat(V.html),X.push("<br/>")}return X.join("")}function f50(J,$,Q,X){let Y=[],Z=Q.getInitialState();for(let G=0,q=J.length;G<q;G++){let U=J[G],z=Q.tokenizeEncoded(U,!0,Z);O6.convertToEndOffset(z.tokens,U.length);let H=new O6(z.tokens,U,X),j=f8.isBasicASCII(U,!0),V=f8.containsRTL(U,j,!0),W=Dq(new VJ(!1,!0,U,!1,j,V,0,H.inflate(),[],$,0,0,0,0,-1,"none",!1,!1,null));Y=Y.concat(W.html),Y.push("<br/>"),Z=z.endState}return Y.join("")}var xO;var _h=N(()=>{oX();t0();P8();pQ();Rq();L4();yO();xO=z9("standaloneColorizer",{createHTML:(J)=>J})});var Oh=N(()=>{j0(".monaco-aria-container{position:absolute;left:-999em}")});function Th(J){D2=document.createElement("div"),D2.className="monaco-aria-container";let $=()=>{let X=document.createElement("div");return X.className="monaco-alert",X.setAttribute("role","alert"),X.setAttribute("aria-atomic","true"),D2.appendChild(X),X};ZK=$(),bO=$();let Q=()=>{let X=document.createElement("div");return X.className="monaco-status",X.setAttribute("aria-live","polite"),X.setAttribute("aria-atomic","true"),D2.appendChild(X),X};GK=Q(),SO=Q(),J.appendChild(D2)}function Tq(J){if(!D2)return;if(ZK.textContent!==J)I5(bO),qK(ZK,J);else I5(ZK),qK(bO,J)}function K$(J){if(!D2)return;if(GK.textContent!==J)I5(SO),qK(GK,J);else I5(GK),qK(SO,J)}function qK(J,$){if(I5(J),$.length>Nh)$=$.substr(0,Nh);J.textContent=$,J.style.visibility="hidden",J.style.visibility="visible"}var Nh=20000,D2,ZK,bO,GK,SO;var UY=N(()=>{D0();Oh()});var UK;var CO=N(()=>{u0();UK=M0("markerDecorationsService")});var g50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},p50=function(J,$){return function(Q,X){$(Q,X,J)}},GH=class J{constructor($,Q){}dispose(){}};var Lh=N(()=>{CO();b9();GH.ID="editor.contrib.markerDecorations";GH=g50([p50(1,UK)],GH);x9(GH.ID,GH,0)});var kh=N(()=>{j0("::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{-webkit-text-size-adjust:100%;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background);position:relative;overflow:visible}.monaco-editor-background{background-color:var(--vscode-editor-background)}.monaco-editor .rangeHighlight{background-color:var(--vscode-editor-rangeHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-rangeHighlightBorder)}.monaco-editor.hc-black .rangeHighlight,.monaco-editor.hc-light .rangeHighlight{border-style:dotted}.monaco-editor .symbolHighlight{background-color:var(--vscode-editor-symbolHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-symbolHighlightBorder)}.monaco-editor.hc-black .symbolHighlight,.monaco-editor.hc-light .symbolHighlight{border-style:dotted}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .squiggly-error{border-bottom:4px double var(--vscode-editorError-border)}.monaco-editor .squiggly-error:before{content:\"\";background:var(--vscode-editorError-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-warning{border-bottom:4px double var(--vscode-editorWarning-border)}.monaco-editor .squiggly-warning:before{content:\"\";background:var(--vscode-editorWarning-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-info{border-bottom:4px double var(--vscode-editorInfo-border)}.monaco-editor .squiggly-info:before{content:\"\";background:var(--vscode-editorInfo-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-hint{border-bottom:2px dotted var(--vscode-editorHint-border)}.monaco-editor.showUnused .squiggly-unnecessary{border-bottom:2px dashed var(--vscode-editorUnnecessaryCode-border)}.monaco-editor.showDeprecated .squiggly-inline-deprecated{text-decoration:line-through;text-decoration-color:var(--vscode-editor-foreground,inherit)}")});var qH;var vO=N(()=>{Q0();F0();D0();qH=class qH extends h{constructor(J,$){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._referenceDomElement=J,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let J=null,$=()=>{if(J)this.observe({width:J.width,height:J.height});else this.observe()},Q=!1,X=!1,Y=()=>{if(Q&&!X)try{Q=!1,X=!0,$()}finally{A5(B0(this._referenceDomElement),()=>{X=!1,Y()})}};this._resizeObserver=new ResizeObserver((Z)=>{if(Z&&Z[0]&&Z[0].contentRect)J={width:Z[0].contentRect.width,height:Z[0].contentRect.height};else J=null;Q=!0,Y()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){if(this._resizeObserver)this._resizeObserver.disconnect(),this._resizeObserver=null}observe(J){this.measureReferenceDomElement(!0,J)}measureReferenceDomElement(J,$){let Q=0,X=0;if($)Q=$.width,X=$.height;else if(this._referenceDomElement)Q=this._referenceDomElement.clientWidth,X=this._referenceDomElement.clientHeight;if(Q=Math.max(5,Q),X=Math.max(5,X),this._width!==Q||this._height!==X){if(this._width=Q,this._height=X,J)this._onDidChange.fire()}}}});class zY{constructor(J,$){this.key=J,this.migrate=$}apply(J){let $=zY._read(J,this.key),Q=(Y)=>zY._read(J,Y),X=(Y,Z)=>zY._write(J,Y,Z);this.migrate($,Q,X)}static _read(J,$){if(typeof J==="undefined")return;let Q=$.indexOf(".");if(Q>=0){let X=$.substring(0,Q);return this._read(J[X],$.substring(Q+1))}return J[$]}static _write(J,$,Q){let X=$.indexOf(".");if(X>=0){let Y=$.substring(0,X);J[Y]=J[Y]||{},this._write(J[Y],$.substring(X+1),Q);return}J[$]=Q}}function WJ(J,$){zY.items.push(new zY(J,$))}function m7(J,$){WJ(J,(Q,X,Y)=>{if(typeof Q!=="undefined"){for(let[Z,G]of $)if(Q===Z){Y(J,G);return}}})}function Eh(J){zY.items.forEach(($)=>$.apply(J))}var m50;var Ih=N(()=>{zY.items=[];m7("wordWrap",[[!0,"on"],[!1,"off"]]);m7("lineNumbers",[[!0,"on"],[!1,"off"]]);m7("cursorBlinking",[["visible","solid"]]);m7("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);m7("renderLineHighlight",[[!0,"line"],[!1,"none"]]);m7("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);m7("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);m7("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);m7("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);m7("autoIndent",[[!1,"advanced"],[!0,"full"]]);m7("matchBrackets",[[!0,"always"],[!1,"never"]]);m7("renderFinalNewline",[[!0,"on"],[!1,"off"]]);m7("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);m7("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);m7("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);WJ("autoClosingBrackets",(J,$,Q)=>{if(J===!1){if(Q("autoClosingBrackets","never"),typeof $("autoClosingQuotes")==="undefined")Q("autoClosingQuotes","never");if(typeof $("autoSurround")==="undefined")Q("autoSurround","never")}});WJ("renderIndentGuides",(J,$,Q)=>{if(typeof J!=="undefined"){if(Q("renderIndentGuides",void 0),typeof $("guides.indentation")==="undefined")Q("guides.indentation",!!J)}});WJ("highlightActiveIndentGuide",(J,$,Q)=>{if(typeof J!=="undefined"){if(Q("highlightActiveIndentGuide",void 0),typeof $("guides.highlightActiveIndentation")==="undefined")Q("guides.highlightActiveIndentation",!!J)}});m50={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};WJ("suggest.filteredTypes",(J,$,Q)=>{if(J&&typeof J==="object"){for(let X of Object.entries(m50))if(J[X[0]]===!1){if(typeof $(`suggest.${X[1]}`)==="undefined")Q(`suggest.${X[1]}`,!1)}Q("suggest.filteredTypes",void 0)}});WJ("quickSuggestions",(J,$,Q)=>{if(typeof J==="boolean"){let X=J?"on":"off";Q("quickSuggestions",{comments:X,strings:X,other:X})}});WJ("experimental.stickyScroll.enabled",(J,$,Q)=>{if(typeof J==="boolean"){if(Q("experimental.stickyScroll.enabled",void 0),typeof $("stickyScroll.enabled")==="undefined")Q("stickyScroll.enabled",J)}});WJ("experimental.stickyScroll.maxLineCount",(J,$,Q)=>{if(typeof J==="number"){if(Q("experimental.stickyScroll.maxLineCount",void 0),typeof $("stickyScroll.maxLineCount")==="undefined")Q("stickyScroll.maxLineCount",J)}});WJ("codeActionsOnSave",(J,$,Q)=>{if(J&&typeof J==="object"){let X=!1,Y={};for(let Z of Object.entries(J))if(typeof Z[1]==="boolean")X=!0,Y[Z[0]]=Z[1]?"explicit":"never";else Y[Z[0]]=Z[1];if(X)Q("codeActionsOnSave",Y)}});WJ("codeActionWidget.includeNearbyQuickfixes",(J,$,Q)=>{if(typeof J==="boolean"){if(Q("codeActionWidget.includeNearbyQuickfixes",void 0),typeof $("codeActionWidget.includeNearbyQuickFixes")==="undefined")Q("codeActionWidget.includeNearbyQuickFixes",J)}});WJ("lightbulb.enabled",(J,$,Q)=>{if(typeof J==="boolean")Q("lightbulb.enabled",J?void 0:"off")})});class yh{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new y,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(J){this._tabFocus=J,this._onDidChangeTabFocus.fire(this._tabFocus)}}var wq;var hO=N(()=>{F0();wq=new yh});var _8,xh;var BJ=N(()=>{m1();u0();_8=M0("accessibilityService"),xh=new H0("accessibilityModeEnabled",!1)});function l50(J){let $=0;while(J)J=Math.floor(J/10),$++;return $?$:1}function d50(){let J="";if(!I7&&!pB)J+="no-user-select ";if(I7)J+="no-minimap-shadow ",J+="enable-user-select ";if(r0)J+="mac ";return J}class Sh{constructor(){this._values=[]}_read(J){return this._values[J]}get(J){return this._values[J]}_write(J,$){this._values[J]=$}}class Ch{constructor(){this._values=[]}_read(J){if(J>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[J]}get(J){return this._read(J)}_write(J,$){this._values[J]=$}}class HY{static validateOptions(J){let $=new Sh;for(let Q of hX){let X=Q.name==="_never_"?void 0:J[Q.name];$._write(Q.id,Q.validate(X))}return $}static computeOptions(J,$){let Q=new Ch;for(let X of hX)Q._write(X.id,X.compute($,Q,J._read(X.id)));return Q}static _deepEquals(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return J===$;if(Array.isArray(J)||Array.isArray($))return Array.isArray(J)&&Array.isArray($)?Q6(J,$):!1;if(Object.keys(J).length!==Object.keys($).length)return!1;for(let Q in J)if(!HY._deepEquals(J[Q],$[Q]))return!1;return!0}static checkEquals(J,$){let Q=[],X=!1;for(let Y of hX){let Z=!HY._deepEquals(J._read(Y.id),$._read(Y.id));if(Q[Y.id]=Z,Z)X=!0}return X?new dU(Q):null}static applyUpdate(J,$){let Q=!1;for(let X of hX)if($.hasOwnProperty(X.name)){let Y=X.applyUpdate(J[X.name],$[X.name]);J[X.name]=Y.newValue,Q=Q||Y.didChange}return Q}}function bh(J){let $=rJ(J);return Eh($),$}var u50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},c50=function(J,$){return function(Q,X){$(Q,X,J)}},zK;var vh=N(()=>{B7();U1();F0();Q0();j7();M1();vO();bM();Ih();hO();t5();Zz();uB();BJ();zK=class J extends h{constructor($,Q,X,Y){super();if(this._accessibilityService=Y,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new LW,this.isSimpleWidget=$,this._containerObserver=this._register(new qH(X,Q.dimension)),this._rawOptions=bh(Q),this._validatedOptions=HY.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13))this._containerObserver.startObserving();this._register(B4.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(wq.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(Gz.onDidChange(()=>this._recomputeOptions())),this._register(rG.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){let $=this._computeOptions(),Q=HY.checkEquals(this.options,$);if(Q===null)return;this.options=$,this._onDidChangeFast.fire(Q),this._onDidChange.fire(Q)}_computeOptions(){let $=this._readEnvConfiguration(),Q=MQ.createFromValidatedSettings(this._validatedOptions,$.pixelRatio,this.isSimpleWidget),X=this._readFontInfo(Q),Y={memory:this._computeOptionsMemory,outerWidth:$.outerWidth,outerHeight:$.outerHeight-this._reservedHeight,fontInfo:X,extraEditorClassName:$.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:$.emptySelectionClipboard,pixelRatio:$.pixelRatio,tabFocusMode:wq.getTabFocusMode(),accessibilitySupport:$.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return HY.computeOptions(this._validatedOptions,Y)}_readEnvConfiguration(){return{extraEditorClassName:d50(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:QJ||g5,pixelRatio:rG.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo($){return Gz.readFontInfo($)}getRawOptions(){return this._rawOptions}updateOptions($){let Q=bh($);if(!HY.applyUpdate(this._rawOptions,Q))return;this._validatedOptions=HY.validateOptions(this._rawOptions),this._recomputeOptions()}observeContainer($){this._containerObserver.observe($)}setIsDominatedByLongLines($){if(this._isDominatedByLongLines===$)return;this._isDominatedByLongLines=$,this._recomputeOptions()}setModelLineCount($){let Q=l50($);if(this._lineNumbersDigitCount===Q)return;this._lineNumbersDigitCount=Q,this._recomputeOptions()}setViewLineCount($){if(this._viewLineCount===$)return;this._viewLineCount=$,this._recomputeOptions()}setReservedHeight($){if(this._reservedHeight===$)return;this._reservedHeight=$,this._recomputeOptions()}setGlyphMarginDecorationLaneCount($){if(this._glyphMarginDecorationLaneCount===$)return;this._glyphMarginDecorationLaneCount=$,this._recomputeOptions()}};zK=u50([c50(3,_8)],zK)});var A$;var fO=N(()=>{(function(J){let $={total:0,min:Number.MAX_VALUE,max:0},Q={...$},X={...$},Y={...$},Z=0,G={keydown:0,input:0,render:0};function q(){A(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),G.keydown=1,queueMicrotask(U)}J.onKeyDown=q;function U(){if(G.keydown===1)performance.mark("keydown/end"),G.keydown=2}function z(){performance.mark("input/start"),G.input=1,P()}J.onBeforeInput=z;function H(){if(G.input===0)z();queueMicrotask(j)}J.onInput=H;function j(){if(G.input===1)performance.mark("input/end"),G.input=2}function V(){A()}J.onKeyUp=V;function W(){A()}J.onSelectionChange=W;function B(){if(G.keydown===2&&G.input===2&&G.render===0)performance.mark("render/start"),G.render=1,queueMicrotask(K),P()}J.onRenderStart=B;function K(){if(G.render===1)performance.mark("render/end"),G.render=2}function P(){setTimeout(A)}function A(){if(G.keydown===2&&G.input===2&&G.render===2)performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),D("keydown",$),D("input",Q),D("render",X),D("inputlatency",Y),Z++,R()}function D(w,b){let S=performance.getEntriesByName(w)[0].duration;b.total+=S,b.min=Math.min(b.min,S),b.max=Math.max(b.max,S)}function R(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),G.keydown=0,G.input=0,G.render=0}function M(){if(Z===0)return;let w={keydown:_($),input:_(Q),render:_(X),total:_(Y),sampleCount:Z};return T($),T(Q),T(X),T(Y),Z=0,w}J.getAndClearMeasurements=M;function _(w){return{average:w.total/Z,max:w.max,min:w.min}}function T(w){w.total=0,w.min=Number.MAX_VALUE,w.max=0}})(A$||(A$={}))});class uQ{constructor(){this._hooks=new r,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(J,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let Q=this._onStopCallback;if(this._onStopCallback=null,J&&Q)Q($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(J,$,Q,X,Y){if(this.isMonitoring())this.stopMonitoring(!1);this._pointerMoveCallback=X,this._onStopCallback=Y;let Z=J;try{J.setPointerCapture($),this._hooks.add(K0(()=>{try{J.releasePointerCapture($)}catch(G){}}))}catch(G){Z=B0(J)}this._hooks.add(m(Z,$0.POINTER_MOVE,(G)=>{if(G.buttons!==Q){this.stopMonitoring(!0);return}G.preventDefault(),this._pointerMoveCallback(G)})),this._hooks.add(m(Z,$0.POINTER_UP,(G)=>this.stopMonitoring(!0)))}}var UH=N(()=>{D0();Q0()});function FK(J){return`--vscode-${J.replace(/\./g,"-")}`}function V0(J){return`var(${FK(J)})`}function sh(J,$){return`var(${FK(J)}, ${$})`}class ah{constructor(){this._onDidChangeSchema=new y,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(J,$,Q,X=!1,Y){let Z={id:J,description:Q,defaults:$,needsTransparency:X,deprecationMessage:Y};this.colorsById[J]=Z;let G={type:"string",description:Q,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};if(Y)G.deprecationMessage=Y;if(X)G.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",G.patternErrorMessage="This color must be transparent or it will obscure content";return this.colorSchema.properties[J]=G,this.colorReferenceSchema.enum.push(J),this.colorReferenceSchema.enumDescriptions.push(Q),this._onDidChangeSchema.fire(),J}getColors(){return Object.keys(this.colorsById).map((J)=>this.colorsById[J])}resolveDefaultColor(J,$){let Q=this.colorsById[J];if(Q&&Q.defaults){let X=Q.defaults[$.type];return FJ(X,$)}return}getColorSchema(){return this.colorSchema}toString(){let J=($,Q)=>{let X=$.indexOf(".")===-1?0:1,Y=Q.indexOf(".")===-1?0:1;if(X!==Y)return X-Y;return $.localeCompare(Q)};return Object.keys(this.colorsById).sort(J).map(($)=>`- \`${$}\`: ${this.colorsById[$].description}`).join(`
`)}}function E(J,$,Q,X,Y){return KK.registerColor(J,$,Q,X,Y)}function s50(J,$){var Q,X,Y,Z;switch(J.op){case 0:return(Q=FJ(J.value,$))===null||Q===void 0?void 0:Q.darken(J.factor);case 1:return(X=FJ(J.value,$))===null||X===void 0?void 0:X.lighten(J.factor);case 2:return(Y=FJ(J.value,$))===null||Y===void 0?void 0:Y.transparent(J.factor);case 3:{let G=FJ(J.background,$);if(!G)return FJ(J.value,$);return(Z=FJ(J.value,$))===null||Z===void 0?void 0:Z.makeOpaque(G)}case 4:for(let G of J.values){let q=FJ(G,$);if(q)return q}return;case 6:return FJ($.defines(J.if)?J.then:J.else,$);case 5:{let G=FJ(J.value,$);if(!G)return;let q=FJ(J.background,$);if(!q)return G.transparent(J.factor*J.transparency);return G.isDarkerThan(q)?l.getLighterColor(G,q,J.factor).transparent(J.transparency):l.getDarkerColor(G,q,J.factor).transparent(J.transparency)}default:throw oG(J)}}function R2(J,$){return{op:0,value:J,factor:$}}function RJ(J,$){return{op:1,value:J,factor:$}}function L0(J,$){return{op:2,value:J,factor:$}}function ch(...J){return{op:4,values:J}}function a50(J,$,Q){return{op:6,if:J,then:$,else:Q}}function lh(J,$,Q,X){return{op:5,value:J,background:$,factor:Q,transparency:X}}function FJ(J,$){if(J===null)return;else if(typeof J==="string"){if(J[0]==="#")return l.fromHex(J);return $.getColor(J)}else if(J instanceof l)return J;else if(typeof J==="object")return s50(J,$);return}var gO,KK,X0,WV0,BV0,FV0,KJ,V9,O1,H6,KV0,AV0,rh,PV0,DV0,RV0,MV0,_V0,OV0,P$,ih,nh,oh,th,eh,NV0,Jf,$f,TV0,Qf,Xf,Yf,Zf,Gf,qf,Uf,zf,Hf,AJ,jf,D$,jY,Lq,Vf,kq,Wf,Bf,Ff,VK,Kf,zH,Af,Eq,Iq,yq,xq,Pf,wV0,R$,LV0,VH,O8,HH,kV0,u7,jH,Df,EV0,IV0,c5,O$,yV0,xV0,bV0,SV0,y6,M$,PJ,CV0,pO,Rf,Mf,AK,_f,Of,Nf,Tf,wf,cQ,Lf,mO,uO,vV0,hV0,lQ,fV0,gV0,bq,pV0,mV0,uV0,cV0,lV0,hh,dV0,kf,sV0,aV0,VY,WY,rV0,iV0,nV0,oV0,HK,tV0,eV0,WK,BK,Ef,If,JW0,$W0,QW0,XW0,yf,xf,YW0,ZW0,GW0,qW0,UW0,zW0,HW0,bf,Sf,Cf,vf,_$,DJ,Sq,hf,ff,gf,pf,mf,cO,lO,uf,cf,dQ,WH,jW0,VW0,WW0,lf,df,sf,af,BW0,FW0,Cq,rf,nf,of,KW0,tf,AW0,ef,Jg,PW0,fh,N$,sQ,T$,$g,Qg,Xg,Yg,Zg,Gg,qg,gh,DW0,RW0,MW0,_W0,OW0,NW0,Ug,zg,dO,Hg,TW0,jg=0.5,ph,mh,uh,k4=0.4,gq=1,vq,wW0,hq,LW0,fq,kW0,pq,EW0,IW0,yW0,xW0,bW0,jK,SW0,sO,Vg,Wg,Bg,Fg,Kg,CW0,vW0,hW0,Ag,Pg,Dg,fW0,gW0,pW0,mW0,uW0,cW0,lW0,dW0,Rg="vscode://schemas/workbench-colors",Mg,dh;var N8=N(()=>{G$();u1();g7();F0();g0();SF();$7();gO={ColorContribution:"base.contributions.colors"};KK=new ah;r1.add(gO.ColorContribution,KK);X0=E("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},F("foreground","Overall foreground color. This color is only used if not overridden by a component.")),WV0=E("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},F("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),BV0=E("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},F("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),FV0=E("descriptionForeground",{light:"#717171",dark:L0(X0,0.7),hcDark:L0(X0,0.7),hcLight:L0(X0,0.7)},F("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),KJ=E("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},F("iconForeground","The default color for icons in the workbench.")),V9=E("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},F("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),O1=E("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},F("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),H6=E("contrastActiveBorder",{light:null,dark:null,hcDark:V9,hcLight:V9},F("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),KV0=E("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},F("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),AV0=E("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:l.black,hcLight:"#292929"},F("textSeparatorForeground","Color for text separators.")),rh=E("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkForeground","Foreground color for links in text.")),PV0=E("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),DV0=E("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},F("textPreformatForeground","Foreground color for preformatted text segments.")),RV0=E("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},F("textPreformatBackground","Background color for preformatted text segments.")),MV0=E("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},F("textBlockQuoteBackground","Background color for block quotes in text.")),_V0=E("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:l.white,hcLight:"#292929"},F("textBlockQuoteBorder","Border color for block quotes in text.")),OV0=E("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:l.black,hcLight:"#F2F2F2"},F("textCodeBlockBackground","Background color for code blocks in text.")),P$=E("widget.shadow",{dark:L0(l.black,0.36),light:L0(l.black,0.16),hcDark:null,hcLight:null},F("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),ih=E("widget.border",{dark:null,light:null,hcDark:O1,hcLight:O1},F("widgetBorder","Border color of widgets such as find/replace inside the editor.")),nh=E("input.background",{dark:"#3C3C3C",light:l.white,hcDark:l.black,hcLight:l.white},F("inputBoxBackground","Input box background.")),oh=E("input.foreground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("inputBoxForeground","Input box foreground.")),th=E("input.border",{dark:null,light:null,hcDark:O1,hcLight:O1},F("inputBoxBorder","Input box border.")),eh=E("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:O1,hcLight:O1},F("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),NV0=E("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},F("inputOption.hoverBackground","Background color of activated options in input fields.")),Jf=E("inputOption.activeBackground",{dark:L0(V9,0.4),light:L0(V9,0.2),hcDark:l.transparent,hcLight:l.transparent},F("inputOption.activeBackground","Background hover color of options in input fields.")),$f=E("inputOption.activeForeground",{dark:l.white,light:l.black,hcDark:X0,hcLight:X0},F("inputOption.activeForeground","Foreground color of activated options in input fields.")),TV0=E("input.placeholderForeground",{light:L0(X0,0.5),dark:L0(X0,0.5),hcDark:L0(X0,0.7),hcLight:L0(X0,0.7)},F("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Qf=E("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:l.black,hcLight:l.white},F("inputValidationInfoBackground","Input validation background color for information severity.")),Xf=E("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:X0},F("inputValidationInfoForeground","Input validation foreground color for information severity.")),Yf=E("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:O1,hcLight:O1},F("inputValidationInfoBorder","Input validation border color for information severity.")),Zf=E("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:l.black,hcLight:l.white},F("inputValidationWarningBackground","Input validation background color for warning severity.")),Gf=E("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:X0},F("inputValidationWarningForeground","Input validation foreground color for warning severity.")),qf=E("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:O1,hcLight:O1},F("inputValidationWarningBorder","Input validation border color for warning severity.")),Uf=E("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:l.black,hcLight:l.white},F("inputValidationErrorBackground","Input validation background color for error severity.")),zf=E("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:X0},F("inputValidationErrorForeground","Input validation foreground color for error severity.")),Hf=E("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:O1,hcLight:O1},F("inputValidationErrorBorder","Input validation border color for error severity.")),AJ=E("dropdown.background",{dark:"#3C3C3C",light:l.white,hcDark:l.black,hcLight:l.white},F("dropdownBackground","Dropdown background.")),jf=E("dropdown.listBackground",{dark:null,light:null,hcDark:l.black,hcLight:l.white},F("dropdownListBackground","Dropdown list background.")),D$=E("dropdown.foreground",{dark:"#F0F0F0",light:X0,hcDark:l.white,hcLight:X0},F("dropdownForeground","Dropdown foreground.")),jY=E("dropdown.border",{dark:AJ,light:"#CECECE",hcDark:O1,hcLight:O1},F("dropdownBorder","Dropdown border.")),Lq=E("button.foreground",{dark:l.white,light:l.white,hcDark:l.white,hcLight:l.white},F("buttonForeground","Button foreground color.")),Vf=E("button.separator",{dark:L0(Lq,0.4),light:L0(Lq,0.4),hcDark:L0(Lq,0.4),hcLight:L0(Lq,0.4)},F("buttonSeparator","Button separator color.")),kq=E("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},F("buttonBackground","Button background color.")),Wf=E("button.hoverBackground",{dark:RJ(kq,0.2),light:R2(kq,0.2),hcDark:kq,hcLight:kq},F("buttonHoverBackground","Button background color when hovering.")),Bf=E("button.border",{dark:O1,light:O1,hcDark:O1,hcLight:O1},F("buttonBorder","Button border color.")),Ff=E("button.secondaryForeground",{dark:l.white,light:l.white,hcDark:l.white,hcLight:X0},F("buttonSecondaryForeground","Secondary button foreground color.")),VK=E("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:l.white},F("buttonSecondaryBackground","Secondary button background color.")),Kf=E("button.secondaryHoverBackground",{dark:RJ(VK,0.2),light:R2(VK,0.2),hcDark:null,hcLight:null},F("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),zH=E("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:l.black,hcLight:"#0F4A85"},F("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Af=E("badge.foreground",{dark:l.white,light:"#333",hcDark:l.white,hcLight:l.white},F("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Eq=E("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},F("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Iq=E("scrollbarSlider.background",{dark:l.fromHex("#797979").transparent(0.4),light:l.fromHex("#646464").transparent(0.4),hcDark:L0(O1,0.6),hcLight:L0(O1,0.4)},F("scrollbarSliderBackground","Scrollbar slider background color.")),yq=E("scrollbarSlider.hoverBackground",{dark:l.fromHex("#646464").transparent(0.7),light:l.fromHex("#646464").transparent(0.7),hcDark:L0(O1,0.8),hcLight:L0(O1,0.8)},F("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),xq=E("scrollbarSlider.activeBackground",{dark:l.fromHex("#BFBFBF").transparent(0.4),light:l.fromHex("#000000").transparent(0.6),hcDark:O1,hcLight:O1},F("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Pf=E("progressBar.background",{dark:l.fromHex("#0E70C0"),light:l.fromHex("#0E70C0"),hcDark:O1,hcLight:O1},F("progressBarBackground","Background color of the progress bar that can show for long running operations.")),wV0=E("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),R$=E("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},F("editorError.foreground","Foreground color of error squigglies in the editor.")),LV0=E("editorError.border",{dark:null,light:null,hcDark:l.fromHex("#E47777").transparent(0.8),hcLight:"#B5200D"},F("errorBorder","If set, color of double underlines for errors in the editor.")),VH=E("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),O8=E("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},F("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),HH=E("editorWarning.border",{dark:null,light:null,hcDark:l.fromHex("#FFCC00").transparent(0.8),hcLight:l.fromHex("#FFCC00").transparent(0.8)},F("warningBorder","If set, color of double underlines for warnings in the editor.")),kV0=E("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),u7=E("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},F("editorInfo.foreground","Foreground color of info squigglies in the editor.")),jH=E("editorInfo.border",{dark:null,light:null,hcDark:l.fromHex("#3794FF").transparent(0.8),hcLight:"#292929"},F("infoBorder","If set, color of double underlines for infos in the editor.")),Df=E("editorHint.foreground",{dark:l.fromHex("#eeeeee").transparent(0.7),light:"#6c6c6c",hcDark:null,hcLight:null},F("editorHint.foreground","Foreground color of hint squigglies in the editor.")),EV0=E("editorHint.border",{dark:null,light:null,hcDark:l.fromHex("#eeeeee").transparent(0.8),hcLight:"#292929"},F("hintBorder","If set, color of double underlines for hints in the editor.")),IV0=E("sash.hoverBorder",{dark:V9,light:V9,hcDark:V9,hcLight:V9},F("sashActiveBorder","Border color of active sashes.")),c5=E("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:l.black,hcLight:l.white},F("editorBackground","Editor background color.")),O$=E("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:l.white,hcLight:X0},F("editorForeground","Editor default foreground color.")),yV0=E("editorStickyScroll.background",{light:c5,dark:c5,hcDark:c5,hcLight:c5},F("editorStickyScrollBackground","Background color of sticky scroll in the editor")),xV0=E("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),bV0=E("editorStickyScroll.border",{dark:null,light:null,hcDark:O1,hcLight:O1},F("editorStickyScrollBorder","Border color of sticky scroll in the editor")),SV0=E("editorStickyScroll.shadow",{dark:Eq,light:Eq,hcDark:Eq,hcLight:Eq},F("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),y6=E("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:l.white},F("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),M$=E("editorWidget.foreground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),PJ=E("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:O1,hcLight:O1},F("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),CV0=E("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},F("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),pO=E("quickInput.background",{dark:y6,light:y6,hcDark:y6,hcLight:y6},F("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Rf=E("quickInput.foreground",{dark:M$,light:M$,hcDark:M$,hcLight:M$},F("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Mf=E("quickInputTitle.background",{dark:new l(new _1(255,255,255,0.105)),light:new l(new _1(0,0,0,0.06)),hcDark:"#000000",hcLight:l.white},F("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),AK=E("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:l.white,hcLight:"#0F4A85"},F("pickerGroupForeground","Quick picker color for grouping labels.")),_f=E("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:l.white,hcLight:"#0F4A85"},F("pickerGroupBorder","Quick picker color for grouping borders.")),Of=E("keybindingLabel.background",{dark:new l(new _1(128,128,128,0.17)),light:new l(new _1(221,221,221,0.4)),hcDark:l.transparent,hcLight:l.transparent},F("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Nf=E("keybindingLabel.foreground",{dark:l.fromHex("#CCCCCC"),light:l.fromHex("#555555"),hcDark:l.white,hcLight:X0},F("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Tf=E("keybindingLabel.border",{dark:new l(new _1(51,51,51,0.6)),light:new l(new _1(204,204,204,0.4)),hcDark:new l(new _1(111,195,223)),hcLight:O1},F("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),wf=E("keybindingLabel.bottomBorder",{dark:new l(new _1(68,68,68,0.6)),light:new l(new _1(187,187,187,0.4)),hcDark:new l(new _1(111,195,223)),hcLight:X0},F("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),cQ=E("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},F("editorSelectionBackground","Color of the editor selection.")),Lf=E("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:l.white},F("editorSelectionForeground","Color of the selected text for high contrast.")),mO=E("editor.inactiveSelectionBackground",{light:L0(cQ,0.5),dark:L0(cQ,0.5),hcDark:L0(cQ,0.7),hcLight:L0(cQ,0.5)},F("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),uO=E("editor.selectionHighlightBackground",{light:lh(cQ,c5,0.3,0.6),dark:lh(cQ,c5,0.3,0.6),hcDark:null,hcLight:null},F("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),vV0=E("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:H6,hcLight:H6},F("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),hV0=E("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},F("editorFindMatch","Color of the current search match.")),lQ=E("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},F("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),fV0=E("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},F("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),gV0=E("editor.findMatchBorder",{light:null,dark:null,hcDark:H6,hcLight:H6},F("editorFindMatchBorder","Border color of the current search match.")),bq=E("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:H6,hcLight:H6},F("findMatchHighlightBorder","Border color of the other search matches.")),pV0=E("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:L0(H6,0.4),hcLight:L0(H6,0.4)},F("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),mV0=E("searchEditor.findMatchBackground",{light:L0(lQ,0.66),dark:L0(lQ,0.66),hcDark:lQ,hcLight:lQ},F("searchEditor.queryMatch","Color of the Search Editor query matches.")),uV0=E("searchEditor.findMatchBorder",{light:L0(bq,0.66),dark:L0(bq,0.66),hcDark:bq,hcLight:bq},F("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),cV0=E("search.resultsInfoForeground",{light:X0,dark:L0(X0,0.65),hcDark:X0,hcLight:X0},F("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),lV0=E("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},F("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),hh=E("editorHoverWidget.background",{light:y6,dark:y6,hcDark:y6,hcLight:y6},F("hoverBackground","Background color of the editor hover.")),dV0=E("editorHoverWidget.foreground",{light:M$,dark:M$,hcDark:M$,hcLight:M$},F("hoverForeground","Foreground color of the editor hover.")),kf=E("editorHoverWidget.border",{light:PJ,dark:PJ,hcDark:PJ,hcLight:PJ},F("hoverBorder","Border color of the editor hover.")),sV0=E("editorHoverWidget.statusBarBackground",{dark:RJ(hh,0.2),light:R2(hh,0.05),hcDark:y6,hcLight:y6},F("statusBarBackground","Background color of the editor hover status bar.")),aV0=E("editorLink.activeForeground",{dark:"#4E94CE",light:l.blue,hcDark:l.cyan,hcLight:"#292929"},F("activeLinkForeground","Color of active links.")),VY=E("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:l.white,hcLight:l.black},F("editorInlayHintForeground","Foreground color of inline hints")),WY=E("editorInlayHint.background",{dark:L0(zH,0.1),light:L0(zH,0.1),hcDark:L0(l.white,0.1),hcLight:L0(zH,0.1)},F("editorInlayHintBackground","Background color of inline hints")),rV0=E("editorInlayHint.typeForeground",{dark:VY,light:VY,hcDark:VY,hcLight:VY},F("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),iV0=E("editorInlayHint.typeBackground",{dark:WY,light:WY,hcDark:WY,hcLight:WY},F("editorInlayHintBackgroundTypes","Background color of inline hints for types")),nV0=E("editorInlayHint.parameterForeground",{dark:VY,light:VY,hcDark:VY,hcLight:VY},F("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),oV0=E("editorInlayHint.parameterBackground",{dark:WY,light:WY,hcDark:WY,hcLight:WY},F("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),HK=E("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},F("editorLightBulbForeground","The color used for the lightbulb actions icon.")),tV0=E("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),eV0=E("editorLightBulbAi.foreground",{dark:HK,light:HK,hcDark:HK,hcLight:HK},F("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),WK=new l(new _1(155,185,85,0.2)),BK=new l(new _1(255,0,0,0.2)),Ef=E("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},F("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),If=E("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},F("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),JW0=E("diffEditor.insertedLineBackground",{dark:WK,light:WK,hcDark:null,hcLight:null},F("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),$W0=E("diffEditor.removedLineBackground",{dark:BK,light:BK,hcDark:null,hcLight:null},F("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),QW0=E("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),XW0=E("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),yf=E("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),xf=E("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),YW0=E("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},F("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ZW0=E("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},F("diffEditorRemovedOutline","Outline color for text that got removed.")),GW0=E("diffEditor.border",{dark:null,light:null,hcDark:O1,hcLight:O1},F("diffEditorBorder","Border color between the two text editors.")),qW0=E("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},F("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),UW0=E("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},F("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),zW0=E("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},F("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),HW0=E("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},F("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),bf=E("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sf=E("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Cf=E("list.focusOutline",{dark:V9,light:V9,hcDark:H6,hcLight:H6},F("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vf=E("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),_$=E("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DJ=E("list.activeSelectionForeground",{dark:l.white,light:l.white,hcDark:null,hcLight:null},F("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sq=E("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hf=E("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ff=E("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gf=E("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),pf=E("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mf=E("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),cO=E("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:l.white.transparent(0.1),hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listHoverBackground","List/Tree background when hovering over items using the mouse.")),lO=E("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),uf=E("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},F("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),cf=E("list.dropBetweenBackground",{dark:KJ,light:KJ,hcDark:null,hcLight:null},F("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),dQ=E("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:V9,hcLight:V9},F("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),WH=E("list.focusHighlightForeground",{dark:dQ,light:a50(_$,dQ,"#BBE7FF"),hcDark:dQ,hcLight:dQ},F("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),jW0=E("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},F("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),VW0=E("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},F("listErrorForeground","Foreground color of list items containing errors.")),WW0=E("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},F("listWarningForeground","Foreground color of list items containing warnings.")),lf=E("listFilterWidget.background",{light:R2(y6,0),dark:RJ(y6,0),hcDark:y6,hcLight:y6},F("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),df=E("listFilterWidget.outline",{dark:l.transparent,light:l.transparent,hcDark:"#f38518",hcLight:"#007ACC"},F("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),sf=E("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:O1,hcLight:O1},F("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),af=E("listFilterWidget.shadow",{dark:P$,light:P$,hcDark:P$,hcLight:P$},F("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),BW0=E("list.filterMatchBackground",{dark:lQ,light:lQ,hcDark:null,hcLight:null},F("listFilterMatchHighlight","Background color of the filtered match.")),FW0=E("list.filterMatchBorder",{dark:bq,light:bq,hcDark:O1,hcLight:H6},F("listFilterMatchHighlightBorder","Border color of the filtered match.")),Cq=E("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},F("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),rf=E("tree.inactiveIndentGuidesStroke",{dark:L0(Cq,0.4),light:L0(Cq,0.4),hcDark:L0(Cq,0.4),hcLight:L0(Cq,0.4)},F("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),nf=E("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},F("tableColumnsBorder","Table border color between columns.")),of=E("tree.tableOddRowsBackground",{dark:L0(X0,0.04),light:L0(X0,0.04),hcDark:null,hcLight:null},F("tableOddRowsBackgroundColor","Background color for odd table rows.")),KW0=E("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},F("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),tf=E("checkbox.background",{dark:AJ,light:AJ,hcDark:AJ,hcLight:AJ},F("checkbox.background","Background color of checkbox widget.")),AW0=E("checkbox.selectBackground",{dark:y6,light:y6,hcDark:y6,hcLight:y6},F("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),ef=E("checkbox.foreground",{dark:D$,light:D$,hcDark:D$,hcLight:D$},F("checkbox.foreground","Foreground color of checkbox widget.")),Jg=E("checkbox.border",{dark:jY,light:jY,hcDark:jY,hcLight:jY},F("checkbox.border","Border color of checkbox widget.")),PW0=E("checkbox.selectBorder",{dark:KJ,light:KJ,hcDark:KJ,hcLight:KJ},F("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),fh=E("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,F("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),N$=E("quickInputList.focusForeground",{dark:DJ,light:DJ,hcDark:DJ,hcLight:DJ},F("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),sQ=E("quickInputList.focusIconForeground",{dark:Sq,light:Sq,hcDark:Sq,hcLight:Sq},F("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),T$=E("quickInputList.focusBackground",{dark:ch(fh,_$),light:ch(fh,_$),hcDark:null,hcLight:null},F("quickInput.listFocusBackground","Quick picker background color for the focused item.")),$g=E("menu.border",{dark:null,light:null,hcDark:O1,hcLight:O1},F("menuBorder","Border color of menus.")),Qg=E("menu.foreground",{dark:D$,light:D$,hcDark:D$,hcLight:D$},F("menuForeground","Foreground color of menu items.")),Xg=E("menu.background",{dark:AJ,light:AJ,hcDark:AJ,hcLight:AJ},F("menuBackground","Background color of menu items.")),Yg=E("menu.selectionForeground",{dark:DJ,light:DJ,hcDark:DJ,hcLight:DJ},F("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Zg=E("menu.selectionBackground",{dark:_$,light:_$,hcDark:_$,hcLight:_$},F("menuSelectionBackground","Background color of the selected menu item in menus.")),Gg=E("menu.selectionBorder",{dark:null,light:null,hcDark:H6,hcLight:H6},F("menuSelectionBorder","Border color of the selected menu item in menus.")),qg=E("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:O1,hcLight:O1},F("menuSeparatorBackground","Color of a separator menu item in menus.")),gh=E("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},F("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),DW0=E("toolbar.hoverOutline",{dark:null,light:null,hcDark:H6,hcLight:H6},F("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),RW0=E("toolbar.activeBackground",{dark:RJ(gh,0.1),light:R2(gh,0.1),hcDark:null,hcLight:null},F("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),MW0=E("editor.snippetTabstopHighlightBackground",{dark:new l(new _1(124,124,124,0.3)),light:new l(new _1(10,50,100,0.2)),hcDark:new l(new _1(124,124,124,0.3)),hcLight:new l(new _1(10,50,100,0.2))},F("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),_W0=E("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),OW0=E("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),NW0=E("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new l(new _1(10,50,100,0.5)),hcDark:"#525252",hcLight:"#292929"},F("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Ug=E("breadcrumb.foreground",{light:L0(X0,0.8),dark:L0(X0,0.8),hcDark:L0(X0,0.8),hcLight:L0(X0,0.8)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),zg=E("breadcrumb.background",{light:c5,dark:c5,hcDark:c5,hcLight:c5},F("breadcrumbsBackground","Background color of breadcrumb items.")),dO=E("breadcrumb.focusForeground",{light:R2(X0,0.2),dark:RJ(X0,0.1),hcDark:RJ(X0,0.1),hcLight:RJ(X0,0.1)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Hg=E("breadcrumb.activeSelectionForeground",{light:R2(X0,0.2),dark:RJ(X0,0.1),hcDark:RJ(X0,0.1),hcLight:RJ(X0,0.1)},F("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),TW0=E("breadcrumbPicker.background",{light:y6,dark:y6,hcDark:y6,hcLight:y6},F("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),ph=l.fromHex("#40C8AE").transparent(jg),mh=l.fromHex("#40A6FF").transparent(jg),uh=l.fromHex("#606060").transparent(0.4),vq=E("merge.currentHeaderBackground",{dark:ph,light:ph,hcDark:null,hcLight:null},F("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),wW0=E("merge.currentContentBackground",{dark:L0(vq,k4),light:L0(vq,k4),hcDark:L0(vq,k4),hcLight:L0(vq,k4)},F("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),hq=E("merge.incomingHeaderBackground",{dark:mh,light:mh,hcDark:null,hcLight:null},F("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),LW0=E("merge.incomingContentBackground",{dark:L0(hq,k4),light:L0(hq,k4),hcDark:L0(hq,k4),hcLight:L0(hq,k4)},F("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),fq=E("merge.commonHeaderBackground",{dark:uh,light:uh,hcDark:null,hcLight:null},F("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),kW0=E("merge.commonContentBackground",{dark:L0(fq,k4),light:L0(fq,k4),hcDark:L0(fq,k4),hcLight:L0(fq,k4)},F("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),pq=E("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},F("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),EW0=E("editorOverviewRuler.currentContentForeground",{dark:L0(vq,gq),light:L0(vq,gq),hcDark:pq,hcLight:pq},F("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),IW0=E("editorOverviewRuler.incomingContentForeground",{dark:L0(hq,gq),light:L0(hq,gq),hcDark:pq,hcLight:pq},F("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),yW0=E("editorOverviewRuler.commonContentForeground",{dark:L0(fq,gq),light:L0(fq,gq),hcDark:pq,hcLight:pq},F("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),xW0=E("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},F("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),bW0=E("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},F("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),jK=E("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},F("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),SW0=E("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),sO=E("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Vg=E("minimap.infoHighlight",{dark:u7,light:u7,hcDark:jH,hcLight:jH},F("minimapInfo","Minimap marker color for infos.")),Wg=E("minimap.warningHighlight",{dark:O8,light:O8,hcDark:HH,hcLight:HH},F("overviewRuleWarning","Minimap marker color for warnings.")),Bg=E("minimap.errorHighlight",{dark:new l(new _1(255,18,18,0.7)),light:new l(new _1(255,18,18,0.7)),hcDark:new l(new _1(255,50,50,1)),hcLight:"#B5200D"},F("minimapError","Minimap marker color for errors.")),Fg=E("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},F("minimapBackground","Minimap background color.")),Kg=E("minimap.foregroundOpacity",{dark:l.fromHex("#000f"),light:l.fromHex("#000f"),hcDark:l.fromHex("#000f"),hcLight:l.fromHex("#000f")},F("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),CW0=E("minimapSlider.background",{light:L0(Iq,0.5),dark:L0(Iq,0.5),hcDark:L0(Iq,0.5),hcLight:L0(Iq,0.5)},F("minimapSliderBackground","Minimap slider background color.")),vW0=E("minimapSlider.hoverBackground",{light:L0(yq,0.5),dark:L0(yq,0.5),hcDark:L0(yq,0.5),hcLight:L0(yq,0.5)},F("minimapSliderHoverBackground","Minimap slider background color when hovering.")),hW0=E("minimapSlider.activeBackground",{light:L0(xq,0.5),dark:L0(xq,0.5),hcDark:L0(xq,0.5),hcLight:L0(xq,0.5)},F("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Ag=E("problemsErrorIcon.foreground",{dark:R$,light:R$,hcDark:R$,hcLight:R$},F("problemsErrorIconForeground","The color used for the problems error icon.")),Pg=E("problemsWarningIcon.foreground",{dark:O8,light:O8,hcDark:O8,hcLight:O8},F("problemsWarningIconForeground","The color used for the problems warning icon.")),Dg=E("problemsInfoIcon.foreground",{dark:u7,light:u7,hcDark:u7,hcLight:u7},F("problemsInfoIconForeground","The color used for the problems info icon.")),fW0=E("charts.foreground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("chartsForeground","The foreground color used in charts.")),gW0=E("charts.lines",{dark:L0(X0,0.5),light:L0(X0,0.5),hcDark:L0(X0,0.5),hcLight:L0(X0,0.5)},F("chartsLines","The color used for horizontal lines in charts.")),pW0=E("charts.red",{dark:R$,light:R$,hcDark:R$,hcLight:R$},F("chartsRed","The red color used in chart visualizations.")),mW0=E("charts.blue",{dark:u7,light:u7,hcDark:u7,hcLight:u7},F("chartsBlue","The blue color used in chart visualizations.")),uW0=E("charts.yellow",{dark:O8,light:O8,hcDark:O8,hcLight:O8},F("chartsYellow","The yellow color used in chart visualizations.")),cW0=E("charts.orange",{dark:jK,light:jK,hcDark:jK,hcLight:jK},F("chartsOrange","The orange color used in chart visualizations.")),lW0=E("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},F("chartsGreen","The green color used in chart visualizations.")),dW0=E("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("chartsPurple","The purple color used in chart visualizations."));Mg=r1.as($2.JSONContribution);Mg.registerSchema(Rg,KK.getColorSchema());dh=new t1(()=>Mg.notifySchemaChanged(Rg),200);KK.onDidChangeSchema(()=>{if(!dh.isScheduled())dh.schedule()})});class M2{constructor(J,$){this.x=J,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(J){return new PK(this.x-J.scrollX,this.y-J.scrollY)}}class PK{constructor(J,$){this.clientX=J,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(J){return new M2(this.clientX+J.scrollX,this.clientY+J.scrollY)}}class _g{constructor(J,$,Q,X){this.x=J,this.y=$,this.width=Q,this.height=X,this._editorPagePositionBrand=void 0}}class Og{constructor(J,$){this.x=J,this.y=$,this._positionRelativeToEditorBrand=void 0}}function DK(J){let $=P5(J);return new _g($.left,$.top,$.width,$.height)}function RK(J,$,Q){let X=$.width/J.offsetWidth,Y=$.height/J.offsetHeight,Z=(Q.x-$.x)/X,G=(Q.y-$.y)/Y;return new Og(Z,G)}class aO{constructor(J){this._editorViewDomNode=J}_create(J){return new MJ(J,!1,this._editorViewDomNode)}onContextMenu(J,$){return m(J,"contextmenu",(Q)=>{$(this._create(Q))})}onMouseUp(J,$){return m(J,"mouseup",(Q)=>{$(this._create(Q))})}onMouseDown(J,$){return m(J,$0.MOUSE_DOWN,(Q)=>{$(this._create(Q))})}onPointerDown(J,$){return m(J,$0.POINTER_DOWN,(Q)=>{$(this._create(Q),Q.pointerId)})}onMouseLeave(J,$){return m(J,$0.MOUSE_LEAVE,(Q)=>{$(this._create(Q))})}onMouseMove(J,$){return m(J,"mousemove",(Q)=>$(this._create(Q)))}}class rO{constructor(J){this._editorViewDomNode=J}_create(J){return new MJ(J,!1,this._editorViewDomNode)}onPointerUp(J,$){return m(J,"pointerup",(Q)=>{$(this._create(Q))})}onPointerDown(J,$){return m(J,$0.POINTER_DOWN,(Q)=>{$(this._create(Q),Q.pointerId)})}onPointerLeave(J,$){return m(J,$0.POINTER_LEAVE,(Q)=>{$(this._create(Q))})}onPointerMove(J,$){return m(J,"pointermove",(Q)=>$(this._create(Q)))}}class nO{constructor(J){this._editor=J,this._instanceId=++nO._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new t1(()=>this.garbageCollect(),1000)}createClassNameRef(J){let $=this.getOrCreateRule(J);return $.increaseRefCount(),{className:$.className,dispose:()=>{$.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(J){let $=this.computeUniqueKey(J),Q=this._rules.get($);if(!Q){let X=this._counter++;Q=new Ng($,`dyn-rule-${this._instanceId}-${X}`,iZ(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,J),this._rules.set($,Q)}return Q}computeUniqueKey(J){return JSON.stringify(J)}garbageCollect(){for(let J of this._rules.values())if(!J.hasReferences())this._rules.delete(J.key),J.dispose()}}class Ng{constructor(J,$,Q,X){this.key=J,this.className=$,this.properties=X,this._referenceCount=0,this._styleElementDisposables=new r,this._styleElement=D5(Q,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(J,$){let Q=`.${J} {`;for(let X in $){let Y=$[X],Z;if(typeof Y==="object")Z=V0(Y.id);else Z=Y;let G=r50(X);Q+=`
\t${G}: ${Z};`}return Q+=`
}`,Q}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function r50(J){return J.replace(/(^[A-Z])/,([$])=>$.toLowerCase()).replace(/([A-Z])/g,([$])=>`-${$.toLowerCase()}`)}var MJ,iO;var MK=N(()=>{D0();UH();k9();u1();Q0();N8();MJ=class MJ extends $8{constructor(J,$,Q){super(B0(Q),J);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=$,this.pos=new M2(this.posx,this.posy),this.editorPos=DK(Q),this.relativePos=RK(Q,this.editorPos,this.pos)}};iO=class iO extends h{constructor(J){super();this._editorViewDomNode=J,this._globalPointerMoveMonitor=this._register(new uQ),this._keydownListener=null}startMonitoring(J,$,Q,X,Y){this._keydownListener=i1(J.ownerDocument,"keydown",(Z)=>{if(Z.toKeyCodeChord().isModifierKey())return;this._globalPointerMoveMonitor.stopMonitoring(!0,Z.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(J,$,Q,(Z)=>{X(new MJ(Z,!0,this._editorViewDomNode))},(Z)=>{this._keydownListener.dispose(),Y(Z)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}};nO._idPool=0});var _J;var mq=N(()=>{Q0();_J=class _J extends h{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(J){return!1}onCompositionEnd(J){return!1}onConfigurationChanged(J){return!1}onCursorStateChanged(J){return!1}onDecorationsChanged(J){return!1}onFlushed(J){return!1}onFocusChanged(J){return!1}onLanguageConfigurationChanged(J){return!1}onLineMappingChanged(J){return!1}onLinesChanged(J){return!1}onLinesDeleted(J){return!1}onLinesInserted(J){return!1}onRevealRangeRequest(J){return!1}onScrollChanged(J){return!1}onThemeChanged(J){return!1}onTokensChanged(J){return!1}onTokensColorsChanged(J){return!1}onZonesChanged(J){return!1}handleEvents(J){let $=!1;for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];switch(Y.type){case 0:if(this.onCompositionStart(Y))$=!0;break;case 1:if(this.onCompositionEnd(Y))$=!0;break;case 2:if(this.onConfigurationChanged(Y))$=!0;break;case 3:if(this.onCursorStateChanged(Y))$=!0;break;case 4:if(this.onDecorationsChanged(Y))$=!0;break;case 5:if(this.onFlushed(Y))$=!0;break;case 6:if(this.onFocusChanged(Y))$=!0;break;case 7:if(this.onLanguageConfigurationChanged(Y))$=!0;break;case 8:if(this.onLineMappingChanged(Y))$=!0;break;case 9:if(this.onLinesChanged(Y))$=!0;break;case 10:if(this.onLinesDeleted(Y))$=!0;break;case 11:if(this.onLinesInserted(Y))$=!0;break;case 12:if(this.onRevealRangeRequest(Y))$=!0;break;case 13:if(this.onScrollChanged(Y))$=!0;break;case 15:if(this.onTokensChanged(Y))$=!0;break;case 14:if(this.onThemeChanged(Y))$=!0;break;case 16:if(this.onTokensColorsChanged(Y))$=!0;break;case 17:if(this.onZonesChanged(Y))$=!0;break;default:console.info("View received unknown event: "),console.info(Y)}}if($)this._shouldRender=!0}}});class X8{static write(J,$){J.setAttribute("data-mprt",String($))}static read(J){let $=J.getAttribute("data-mprt");if($===null)return 0;return parseInt($,10)}static collect(J,$){let Q=[],X=0;while(J&&J!==J.ownerDocument.body){if(J===$)break;if(J.nodeType===J.ELEMENT_NODE)Q[X++]=this.read(J);J=J.parentElement}let Y=new Uint8Array(X);for(let Z=0;Z<X;Z++)Y[Z]=Q[X-Z-1];return Y}}var B6;var g8=N(()=>{mq();B6=class B6 extends _J{constructor(J){super();this._context=J,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}});class Tg{constructor(J,$){this._restrictedRenderingContextBrand=void 0,this._viewLayout=J,this.viewportData=$,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;let Q=this._viewLayout.getCurrentViewport();this.scrollTop=Q.top,this.scrollLeft=Q.left,this.viewportWidth=Q.width,this.viewportHeight=Q.height}getScrolledTopFromAbsoluteTop(J){return J-this.scrollTop}getVerticalOffsetForLineNumber(J,$){return this._viewLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$){return this._viewLayout.getVerticalOffsetAfterLineNumber(J,$)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class tO{constructor(J,$,Q,X){this.outsideRenderedLine=J,this.lineNumber=$,this.ranges=Q,this.continuesOnNextLine=X}}class uq{static from(J){let $=new Array(J.length);for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=new uq(Y.left,Y.width)}return $}constructor(J,$){this._horizontalRangeBrand=void 0,this.left=Math.round(J),this.width=Math.round($)}toString(){return`[${this.left},${this.width}]`}}class w${constructor(J,$){this._floatHorizontalRangeBrand=void 0,this.left=J,this.width=$}toString(){return`[${this.left},${this.width}]`}static compare(J,$){return J.left-$.left}}class eO{constructor(J,$){this.outsideRenderedLine=J,this.originalLeft=$,this.left=Math.round(this.originalLeft)}}class _K{constructor(J,$){this.outsideRenderedLine=J,this.ranges=$}}var oO;var cq=N(()=>{oO=class oO extends Tg{constructor(J,$,Q){super(J,$);this._renderingContextBrand=void 0,this._viewLines=Q}linesVisibleRangesForRange(J,$){return this._viewLines.linesVisibleRangesForRange(J,$)}visibleRangeForPosition(J){return this._viewLines.visibleRangeForPosition(J)}}});class lq{static _createRange(){if(!this._handyReadyRange)this._handyReadyRange=document.createRange();return this._handyReadyRange}static _detachRange(J,$){J.selectNodeContents($)}static _readClientRects(J,$,Q,X,Y){let Z=this._createRange();try{return Z.setStart(J,$),Z.setEnd(Q,X),Z.getClientRects()}catch(G){return null}finally{this._detachRange(Z,Y)}}static _mergeAdjacentRanges(J){if(J.length===1)return J;J.sort(w$.compare);let $=[],Q=0,X=J[0];for(let Y=1,Z=J.length;Y<Z;Y++){let G=J[Y];if(X.left+X.width+0.9>=G.left)X.width=Math.max(X.width,G.left+G.width-X.left);else $[Q++]=X,X=G}return $[Q++]=X,$}static _createHorizontalRangesFromClientRects(J,$,Q){if(!J||J.length===0)return null;let X=[];for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y];X[Y]=new w$(Math.max(0,(G.left-$)/Q),G.width/Q)}return this._mergeAdjacentRanges(X)}static readHorizontalRanges(J,$,Q,X,Y,Z){let q=J.children.length-1;if(0>q)return null;if($=Math.min(q,Math.max(0,$)),X=Math.min(q,Math.max(0,X)),$===X&&Q===Y&&Q===0&&!J.children[$].firstChild){let j=J.children[$].getClientRects();return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(j,Z.clientRectDeltaLeft,Z.clientRectScale)}if($!==X){if(X>0&&Y===0)X--,Y=1073741824}let U=J.children[$].firstChild,z=J.children[X].firstChild;if(!U||!z){if(!U&&Q===0&&$>0)U=J.children[$-1].firstChild,Q=1073741824;if(!z&&Y===0&&X>0)z=J.children[X-1].firstChild,Y=1073741824}if(!U||!z)return null;Q=Math.min(U.textContent.length,Math.max(0,Q)),Y=Math.min(z.textContent.length,Math.max(0,Y));let H=this._readClientRects(U,Q,z,Y,Z.endNode);return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(H,Z.clientRectDeltaLeft,Z.clientRectScale)}}var wg=N(()=>{cq()});function E4(J){return J===c7.HIGH_CONTRAST_DARK||J===c7.HIGH_CONTRAST_LIGHT}function _2(J){return J===c7.DARK||J===c7.HIGH_CONTRAST_DARK}var c7;var aQ=N(()=>{(function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"})(c7||(c7={}))});class OK{constructor(J,$){this.themeType=$;let Q=J.options,X=Q.get(50);if(Q.get(38)==="off")this.renderWhitespace=Q.get(98);else this.renderWhitespace="none";this.renderControlCharacters=Q.get(93),this.spaceWidth=X.spaceWidth,this.middotWidth=X.middotWidth,this.wsmiddotWidth=X.wsmiddotWidth,this.useMonospaceOptimizations=X.isMonospace&&!Q.get(33),this.canUseHalfwidthRightwardsArrow=X.canUseHalfwidthRightwardsArrow,this.lineHeight=Q.get(66),this.stopRenderingLineAfter=Q.get(116),this.fontLigatures=Q.get(51)}equals(J){return this.themeType===J.themeType&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.fontLigatures===J.fontLigatures}}class l7{constructor(J){this._options=J,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){if(this._renderedViewLine&&this._renderedViewLine.domNode)return this._renderedViewLine.domNode.domNode;return null}setDomNode(J){if(this._renderedViewLine)this._renderedViewLine.domNode=e0(J);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(J){this._isMaybeInvalid=!0,this._options=J}onSelectionChanged(){if(E4(this._options.themeType)||this._options.renderWhitespace==="selection")return this._isMaybeInvalid=!0,!0;return!1}renderLine(J,$,Q,X){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;let Y=Q.getViewLineRenderingData(J),Z=this._options,G=p7.filter(Y.inlineDecorations,J,Y.minColumn,Y.maxColumn),q=null;if(E4(Z.themeType)||this._options.renderWhitespace==="selection"){let j=Q.selections;for(let V of j){if(V.endLineNumber<J||V.startLineNumber>J)continue;let W=V.startLineNumber===J?V.startColumn:Y.minColumn,B=V.endLineNumber===J?V.endColumn:Y.maxColumn;if(W<B){if(E4(Z.themeType))G.push(new p7(W,B,"inline-selected-text",0));if(this._options.renderWhitespace==="selection"){if(!q)q=[];q.push(new JH(W-1,B-1))}}}}let U=new VJ(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,Y.content,Y.continuesWithWrappedLine,Y.isBasicASCII,Y.containsRTL,Y.minColumn-1,Y.tokens,G,Y.tabSize,Y.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==n8.OFF,q);if(this._renderedViewLine&&this._renderedViewLine.input.equals(U))return!1;X.appendString('<div style="top:'),X.appendString(String($)),X.appendString("px;height:"),X.appendString(String(this._options.lineHeight)),X.appendString('px;" class="'),X.appendString(l7.CLASS_NAME),X.appendString('">');let z=$H(U,X);X.appendString("</div>");let H=null;if(dq&&i50&&Y.isBasicASCII&&Z.useMonospaceOptimizations&&z.containsForeignElements===0)H=new BH(this._renderedViewLine?this._renderedViewLine.domNode:null,U,z.characterMapping);if(!H)H=kg(this._renderedViewLine?this._renderedViewLine.domNode:null,U,z.characterMapping,z.containsRTL,z.containsForeignElements);return this._renderedViewLine=H,!0}layoutLine(J,$){if(this._renderedViewLine&&this._renderedViewLine.domNode)this._renderedViewLine.domNode.setTop($),this._renderedViewLine.domNode.setHeight(this._options.lineHeight)}getWidth(J){if(!this._renderedViewLine)return 0;return this._renderedViewLine.getWidth(J)}getWidthIsFast(){if(!this._renderedViewLine)return!0;return this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){if(!this._renderedViewLine)return!1;return this._renderedViewLine instanceof BH}monospaceAssumptionsAreValid(){if(!this._renderedViewLine)return dq;if(this._renderedViewLine instanceof BH)return this._renderedViewLine.monospaceAssumptionsAreValid();return dq}onMonospaceAssumptionsInvalidated(){if(this._renderedViewLine&&this._renderedViewLine instanceof BH)this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine()}getVisibleRangesForRange(J,$,Q,X){if(!this._renderedViewLine)return null;$=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,$)),Q=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,Q));let Y=this._renderedViewLine.input.stopRenderingLineAfter;if(Y!==-1&&$>Y+1&&Q>Y+1)return new _K(!0,[new w$(this.getWidth(X),0)]);if(Y!==-1&&$>Y+1)$=Y+1;if(Y!==-1&&Q>Y+1)Q=Y+1;let Z=this._renderedViewLine.getVisibleRangesForRange(J,$,Q,X);if(Z&&Z.length>0)return new _K(!1,Z);return null}getColumnOfNodeOffset(J,$){if(!this._renderedViewLine)return 1;return this._renderedViewLine.getColumnOfNodeOffset(J,$)}}class BH{constructor(J,$,Q){this._cachedWidth=-1,this.domNode=J,this.input=$;let X=Math.floor($.lineContent.length/300);if(X>0){this._keyColumnPixelOffsetCache=new Float32Array(X);for(let Y=0;Y<X;Y++)this._keyColumnPixelOffsetCache[Y]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=Q,this._charWidth=$.spaceWidth}getWidth(J){if(!this.domNode||this.input.lineContent.length<300){let $=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*$)}if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return dq;if(this.input.lineContent.length<300){let J=this.getWidth(null),$=this.domNode.domNode.firstChild.offsetWidth;if(Math.abs(J-$)>=2)console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),dq=!1}return dq}toSlowRenderedLine(){return kg(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(J,$,Q,X){let Y=this._getColumnPixelOffset(J,$,X),Z=this._getColumnPixelOffset(J,Q,X);return[new w$(Y,Z-Y)]}_getColumnPixelOffset(J,$,Q){if($<=300){let U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}let X=Math.floor(($-1)/300)-1,Y=(X+1)*300+1,Z=-1;if(this._keyColumnPixelOffsetCache){if(Z=this._keyColumnPixelOffsetCache[X],Z===-1)Z=this._actualReadPixelOffset(J,Y,Q),this._keyColumnPixelOffsetCache[X]=Z}if(Z===-1){let U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}let G=this._characterMapping.getHorizontalOffset(Y),q=this._characterMapping.getHorizontalOffset($);return Z+this._charWidth*(q-G)}_getReadingTarget(J){return J.domNode.firstChild}_actualReadPixelOffset(J,$,Q){if(!this.domNode)return-1;let X=this._characterMapping.getDomPosition($),Y=lq.readHorizontalRanges(this._getReadingTarget(this.domNode),X.partIndex,X.charIndex,X.partIndex,X.charIndex,Q);if(!Y||Y.length===0)return-1;return Y[0].left}getColumnOfNodeOffset(J,$){return Eg(this._characterMapping,J,$)}}class JN{constructor(J,$,Q,X,Y){if(this.domNode=J,this.input=$,this._characterMapping=Q,this._isWhitespaceOnly=/^\s*$/.test($.lineContent),this._containsForeignElements=Y,this._cachedWidth=-1,this._pixelOffsetCache=null,!X||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,G=this._characterMapping.length;Z<=G;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(J){return J.domNode.firstChild}getWidth(J){if(!this.domNode)return 0;if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){if(this._cachedWidth===-1)return!1;return!0}getVisibleRangesForRange(J,$,Q,X){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){let Y=this._readPixelOffset(this.domNode,J,$,X);if(Y===-1)return null;let Z=this._readPixelOffset(this.domNode,J,Q,X);if(Z===-1)return null;return[new w$(Y,Z-Y)]}return this._readVisibleRangesForRange(this.domNode,J,$,Q,X)}_readVisibleRangesForRange(J,$,Q,X,Y){if(Q===X){let Z=this._readPixelOffset(J,$,Q,Y);if(Z===-1)return null;else return[new w$(Z,0)]}else return this._readRawVisibleRangesForRange(J,Q,X,Y)}_readPixelOffset(J,$,Q,X){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(X);let Y=this._getReadingTarget(J);if(Y.firstChild)return X.markDidDomLayout(),Y.firstChild.offsetWidth;else return 0}if(this._pixelOffsetCache!==null){let Y=this._pixelOffsetCache[Q];if(Y!==-1)return Y;let Z=this._actualReadPixelOffset(J,$,Q,X);return this._pixelOffsetCache[Q]=Z,Z}return this._actualReadPixelOffset(J,$,Q,X)}_actualReadPixelOffset(J,$,Q,X){if(this._characterMapping.length===0){let q=lq.readHorizontalRanges(this._getReadingTarget(J),0,0,0,0,X);if(!q||q.length===0)return-1;return q[0].left}if(Q===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(X);let Y=this._characterMapping.getDomPosition(Q),Z=lq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Y.partIndex,Y.charIndex,X);if(!Z||Z.length===0)return-1;let G=Z[0].left;if(this.input.isBasicASCII){let q=this._characterMapping.getHorizontalOffset(Q),U=Math.round(this.input.spaceWidth*q);if(Math.abs(U-G)<=1)return U}return G}_readRawVisibleRangesForRange(J,$,Q,X){if($===1&&Q===this._characterMapping.length)return[new w$(0,this.getWidth(X))];let Y=this._characterMapping.getDomPosition($),Z=this._characterMapping.getDomPosition(Q);return lq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Z.partIndex,Z.charIndex,X)}getColumnOfNodeOffset(J,$){return Eg(this._characterMapping,J,$)}}function n50(J,$,Q,X,Y){return new Lg(J,$,Q,X,Y)}function o50(J,$,Q,X,Y){return new JN(J,$,Q,X,Y)}function Eg(J,$,Q){let X=$.textContent.length,Y=-1;while($)$=$.previousSibling,Y++;return J.getColumn(new QK(Y,Q),X)}var i50,dq=!0,Lg,kg;var $N=N(()=>{B7();M1();wg();cq();JK();Rq();aQ();t5();i50=function(){if(SX)return!0;if(V6||g5||I7)return!1;return!0}();l7.CLASS_NAME="view-line";Lg=class Lg extends JN{_readVisibleRangesForRange(J,$,Q,X,Y){let Z=super._readVisibleRangesForRange(J,$,Q,X,Y);if(!Z||Z.length===0||Q===X||Q===1&&X===this._characterMapping.length)return Z;if(!this.input.containsRTL){let G=this._readPixelOffset(J,$,X,Y);if(G!==-1){let q=Z[Z.length-1];if(q.left<G)q.width=G-q.left}}return Z}};kg=function(){if(QJ)return n50;return o50}()});class f1{static _nextVisibleColumn(J,$,Q){if(J===9)return f1.nextRenderTabStop($,Q);if(w9(J)||Yz(J))return $+2;return $+1}static visibleColumnFromColumn(J,$,Q){let X=Math.min($-1,J.length),Y=J.substring(0,X),Z=new dG(Y),G=0;while(!Z.eol()){let q=lG(Y,X,Z.offset);Z.nextGraphemeLength(),G=this._nextVisibleColumn(q,G,Q)}return G}static columnFromVisibleColumn(J,$,Q){if($<=0)return 1;let X=J.length,Y=new dG(J),Z=0,G=1;while(!Y.eol()){let q=lG(J,X,Y.offset);Y.nextGraphemeLength();let U=this._nextVisibleColumn(q,Z,Q),z=Y.offset+1;if(U>=$){let H=$-Z;if(U-$<H)return z;else return G}Z=U,G=z}return X+1}static nextRenderTabStop(J,$){return J+$-J%$}static nextIndentTabStop(J,$){return J+$-J%$}static prevRenderTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}static prevIndentTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}}var I4=N(()=>{t0()});class O2{static whitespaceVisibleColumn(J,$,Q){let X=J.length,Y=0,Z=-1,G=-1;for(let q=0;q<X;q++){if(q===$)return[Z,G,Y];if(Y%Q===0)Z=q,G=Y;switch(J.charCodeAt(q)){case 32:Y+=1;break;case 9:Y=f1.nextRenderTabStop(Y,Q);break;default:return[-1,-1,-1]}}if($===X)return[Z,G,Y];return[-1,-1,-1]}static atomicPosition(J,$,Q,X){let Y=J.length,[Z,G,q]=O2.whitespaceVisibleColumn(J,$,Q);if(q===-1)return-1;let U;switch(X){case 0:U=!0;break;case 1:U=!1;break;case 2:if(q%Q===0)return $;U=q%Q<=Q/2;break}if(U){if(Z===-1)return-1;let j=G;for(let V=Z;V<Y;++V){if(j===G+Q)return Z;switch(J.charCodeAt(V)){case 32:j+=1;break;case 9:j=f1.nextRenderTabStop(j,Q);break;default:return-1}}if(j===G+Q)return Z;return-1}let z=f1.nextRenderTabStop(q,Q),H=q;for(let j=$;j<Y;j++){if(H===z)return j;switch(J.charCodeAt(j)){case 32:H+=1;break;case 9:H=f1.nextRenderTabStop(H,Q);break;default:return-1}}if(H===z)return Y;return-1}}var QN=N(()=>{I4()});class rQ{constructor(J=null){this.hitTarget=J,this.type=0}}class YN{constructor(J,$,Q){this.position=J,this.spanNode=$,this.injectedText=Q,this.type=1}}class ZN{constructor(J,$){this.lastViewCursorsRenderData=J,this.lastTextareaPosition=$}}class Y8{static _deduceRage(J,$=null){if(!$&&J)return new L(J.lineNumber,J.column,J.lineNumber,J.column);return $!==null&&$!==void 0?$:null}static createUnknown(J,$,Q){return{type:0,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q)}}static createTextarea(J,$){return{type:1,element:J,mouseColumn:$,position:null,range:null}}static createMargin(J,$,Q,X,Y,Z){return{type:J,element:$,mouseColumn:Q,position:X,range:Y,detail:Z}}static createViewZone(J,$,Q,X,Y){return{type:J,element:$,mouseColumn:Q,position:X,range:this._deduceRage(X),detail:Y}}static createContentText(J,$,Q,X,Y){return{type:6,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q,X),detail:Y}}static createContentEmpty(J,$,Q,X){return{type:7,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q),detail:X}}static createContentWidget(J,$,Q){return{type:9,element:J,mouseColumn:$,position:null,range:null,detail:Q}}static createScrollbar(J,$,Q){return{type:11,element:J,mouseColumn:$,position:Q,range:this._deduceRage(Q)}}static createOverlayWidget(J,$,Q){return{type:12,element:J,mouseColumn:$,position:null,range:null,detail:Q}}static createOutsideEditor(J,$,Q,X){return{type:13,element:null,mouseColumn:J,position:$,range:this._deduceRage($),outsidePosition:Q,outsideDistance:X}}static _typeToString(J){if(J===1)return"TEXTAREA";if(J===2)return"GUTTER_GLYPH_MARGIN";if(J===3)return"GUTTER_LINE_NUMBERS";if(J===4)return"GUTTER_LINE_DECORATIONS";if(J===5)return"GUTTER_VIEW_ZONE";if(J===6)return"CONTENT_TEXT";if(J===7)return"CONTENT_EMPTY";if(J===8)return"CONTENT_VIEW_ZONE";if(J===9)return"CONTENT_WIDGET";if(J===10)return"OVERVIEW_RULER";if(J===11)return"SCROLLBAR";if(J===12)return"OVERLAY_WIDGET";return"UNKNOWN"}static toString(J){return this._typeToString(J.type)+": "+J.position+" - "+J.range+" - "+JSON.stringify(J.detail)}}class p8{static isTextArea(J){return J.length===2&&J[0]===3&&J[1]===7}static isChildOfViewLines(J){return J.length>=4&&J[0]===3&&J[3]===8}static isStrictChildOfViewLines(J){return J.length>4&&J[0]===3&&J[3]===8}static isChildOfScrollableElement(J){return J.length>=2&&J[0]===3&&J[1]===6}static isChildOfMinimap(J){return J.length>=2&&J[0]===3&&J[1]===9}static isChildOfContentWidgets(J){return J.length>=4&&J[0]===3&&J[3]===1}static isChildOfOverflowGuard(J){return J.length>=1&&J[0]===3}static isChildOfOverflowingContentWidgets(J){return J.length>=1&&J[0]===2}static isChildOfOverlayWidgets(J){return J.length>=2&&J[0]===3&&J[1]===4}static isChildOfOverflowingOverlayWidgets(J){return J.length>=1&&J[0]===5}}class w2{constructor(J,$,Q){this.viewModel=J.viewModel;let X=J.configuration.options;this.layoutInfo=X.get(143),this.viewDomNode=$.viewDomNode,this.lineHeight=X.get(66),this.stickyTabStops=X.get(115),this.typicalHalfwidthCharacterWidth=X.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=Q,this._context=J,this._viewHelper=$}getZoneAtCoord(J){return w2.getZoneAtCoord(this._context,J)}static getZoneAtCoord(J,$){let Q=J.viewLayout.getWhitespaceAtVerticalOffset($);if(Q){let X=Q.verticalOffset+Q.height/2,Y=J.viewModel.getLineCount(),Z=null,G,q=null;if(Q.afterLineNumber!==Y)q=new v(Q.afterLineNumber+1,1);if(Q.afterLineNumber>0)Z=new v(Q.afterLineNumber,J.viewModel.getLineMaxColumn(Q.afterLineNumber));if(q===null)G=Z;else if(Z===null)G=q;else if($<X)G=Z;else G=q;return{viewZoneId:Q.id,afterLineNumber:Q.afterLineNumber,positionBefore:Z,positionAfter:q,position:G}}return null}getFullLineRangeAtCoord(J){if(this._context.viewLayout.isAfterLines(J)){let X=this._context.viewModel.getLineCount(),Y=this._context.viewModel.getLineMaxColumn(X);return{range:new L(X,Y,X,Y),isAfterLines:!0}}let $=this._context.viewLayout.getLineNumberAtVerticalOffset(J),Q=this._context.viewModel.getLineMaxColumn($);return{range:new L($,1,$,Q),isAfterLines:!1}}getLineNumberAtVerticalOffset(J){return this._context.viewLayout.getLineNumberAtVerticalOffset(J)}isAfterLines(J){return this._context.viewLayout.isAfterLines(J)}isInTopPadding(J){return this._context.viewLayout.isInTopPadding(J)}isInBottomPadding(J){return this._context.viewLayout.isInBottomPadding(J)}getVerticalOffsetForLineNumber(J){return this._context.viewLayout.getVerticalOffsetForLineNumber(J)}findAttribute(J,$){return w2._findAttribute(J,$,this._viewHelper.viewDomNode)}static _findAttribute(J,$,Q){while(J&&J!==J.ownerDocument.body){if(J.hasAttribute&&J.hasAttribute($))return J.getAttribute($);if(J===Q)return null;J=J.parentNode}return null}getLineWidth(J){return this._viewHelper.getLineWidth(J)}visibleRangeForPosition(J,$){return this._viewHelper.visibleRangeForPosition(J,$)}getPositionFromDOMInfo(J,$){return this._viewHelper.getPositionFromDOMInfo(J,$)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class yg{constructor(J,$,Q,X){this.editorPos=$,this.pos=Q,this.relativePos=X,this.mouseVerticalOffset=Math.max(0,J.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=J.getCurrentScrollLeft()+this.relativePos.x-J.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<J.layoutInfo.contentLeft&&this.relativePos.x>=J.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,l5._getMouseColumn(this.mouseContentHorizontalOffset,J.typicalHalfwidthCharacterWidth))}}function XN(J){return{isAfterLines:!1,horizontalDistanceToText:J}}class l5{constructor(J,$){this._context=J,this._viewHelper=$}mouseTargetIsWidget(J){let $=J.target,Q=X8.collect($,this._viewHelper.viewDomNode);if(p8.isChildOfContentWidgets(Q)||p8.isChildOfOverflowingContentWidgets(Q))return!0;if(p8.isChildOfOverlayWidgets(Q)||p8.isChildOfOverflowingOverlayWidgets(Q))return!0;return!1}createMouseTarget(J,$,Q,X,Y){let Z=new w2(this._context,this._viewHelper,J),G=new GN(Z,$,Q,X,Y);try{let q=l5._createMouseTarget(Z,G,!1);if(q.type===6){if(Z.stickyTabStops&&q.position!==null){let U=l5._snapToSoftTabBoundary(q.position,Z.viewModel),z=L.fromPositions(U,U).plusRange(q.range);return G.fulfillContentText(U,z,q.detail)}}return q}catch(q){return G.fulfillUnknown()}}static _createMouseTarget(J,$,Q){if($.target===null){if(Q)return $.fulfillUnknown();let Z=l5._doHitTest(J,$);if(Z.type===1)return l5.createMouseTargetFromHitTestPosition(J,$,Z.spanNode,Z.position,Z.injectedText);return this._createMouseTarget(J,$.withTarget(Z.hitTarget),!0)}let X=$,Y=null;if(!p8.isChildOfOverflowGuard($.targetPath)&&!p8.isChildOfOverflowingContentWidgets($.targetPath)&&!p8.isChildOfOverflowingOverlayWidgets($.targetPath))Y=Y||$.fulfillUnknown();return Y=Y||l5._hitTestContentWidget(J,X),Y=Y||l5._hitTestOverlayWidget(J,X),Y=Y||l5._hitTestMinimap(J,X),Y=Y||l5._hitTestScrollbarSlider(J,X),Y=Y||l5._hitTestViewZone(J,X),Y=Y||l5._hitTestMargin(J,X),Y=Y||l5._hitTestViewCursor(J,X),Y=Y||l5._hitTestTextArea(J,X),Y=Y||l5._hitTestViewLines(J,X,Q),Y=Y||l5._hitTestScrollbar(J,X),Y||$.fulfillUnknown()}static _hitTestContentWidget(J,$){if(p8.isChildOfContentWidgets($.targetPath)||p8.isChildOfOverflowingContentWidgets($.targetPath)){let Q=J.findAttribute($.target,"widgetId");if(Q)return $.fulfillContentWidget(Q);else return $.fulfillUnknown()}return null}static _hitTestOverlayWidget(J,$){if(p8.isChildOfOverlayWidgets($.targetPath)||p8.isChildOfOverflowingOverlayWidgets($.targetPath)){let Q=J.findAttribute($.target,"widgetId");if(Q)return $.fulfillOverlayWidget(Q);else return $.fulfillUnknown()}return null}static _hitTestViewCursor(J,$){if($.target){let Q=J.lastRenderData.lastViewCursorsRenderData;for(let X of Q)if($.target===X.domNode)return $.fulfillContentText(X.position,null,{mightBeForeignElement:!1,injectedText:null})}if($.isInContentArea){let Q=J.lastRenderData.lastViewCursorsRenderData,X=$.mouseContentHorizontalOffset,Y=$.mouseVerticalOffset;for(let Z of Q){if(X<Z.contentLeft)continue;if(X>Z.contentLeft+Z.width)continue;let G=J.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(G<=Y&&Y<=G+Z.height)return $.fulfillContentText(Z.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(J,$){let Q=J.getZoneAtCoord($.mouseVerticalOffset);if(Q){let X=$.isInContentArea?8:5;return $.fulfillViewZone(X,Q.position,Q)}return null}static _hitTestTextArea(J,$){if(p8.isTextArea($.targetPath)){if(J.lastRenderData.lastTextareaPosition)return $.fulfillContentText(J.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null});return $.fulfillTextarea()}return null}static _hitTestMargin(J,$){if($.isInMarginArea){let Q=J.getFullLineRangeAtCoord($.mouseVerticalOffset),X=Q.range.getStartPosition(),Y=Math.abs($.relativePos.x),Z={isAfterLines:Q.isAfterLines,glyphMarginLeft:J.layoutInfo.glyphMarginLeft,glyphMarginWidth:J.layoutInfo.glyphMarginWidth,lineNumbersWidth:J.layoutInfo.lineNumbersWidth,offsetX:Y};if(Y-=J.layoutInfo.glyphMarginLeft,Y<=J.layoutInfo.glyphMarginWidth){let G=J.viewModel.coordinatesConverter.convertViewPositionToModelPosition(Q.range.getStartPosition()),q=J.viewModel.glyphLanes.getLanesAtLine(G.lineNumber);return Z.glyphMarginLane=q[Math.floor(Y/J.lineHeight)],$.fulfillMargin(2,X,Q.range,Z)}if(Y-=J.layoutInfo.glyphMarginWidth,Y<=J.layoutInfo.lineNumbersWidth)return $.fulfillMargin(3,X,Q.range,Z);return Y-=J.layoutInfo.lineNumbersWidth,$.fulfillMargin(4,X,Q.range,Z)}return null}static _hitTestViewLines(J,$,Q){if(!p8.isChildOfViewLines($.targetPath))return null;if(J.isInTopPadding($.mouseVerticalOffset))return $.fulfillContentEmpty(new v(1,1),Ig);if(J.isAfterLines($.mouseVerticalOffset)||J.isInBottomPadding($.mouseVerticalOffset)){let Y=J.viewModel.getLineCount(),Z=J.viewModel.getLineMaxColumn(Y);return $.fulfillContentEmpty(new v(Y,Z),Ig)}if(Q){if(p8.isStrictChildOfViewLines($.targetPath)){let Y=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset);if(J.viewModel.getLineLength(Y)===0){let G=J.getLineWidth(Y),q=XN($.mouseContentHorizontalOffset-G);return $.fulfillContentEmpty(new v(Y,1),q)}let Z=J.getLineWidth(Y);if($.mouseContentHorizontalOffset>=Z){let G=XN($.mouseContentHorizontalOffset-Z),q=new v(Y,J.viewModel.getLineMaxColumn(Y));return $.fulfillContentEmpty(q,G)}}return $.fulfillUnknown()}let X=l5._doHitTest(J,$);if(X.type===1)return l5.createMouseTargetFromHitTestPosition(J,$,X.spanNode,X.position,X.injectedText);return this._createMouseTarget(J,$.withTarget(X.hitTarget),!0)}static _hitTestMinimap(J,$){if(p8.isChildOfMinimap($.targetPath)){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new v(Q,X))}return null}static _hitTestScrollbarSlider(J,$){if(p8.isChildOfScrollableElement($.targetPath)){if($.target&&$.target.nodeType===1){let Q=$.target.className;if(Q&&/\b(slider|scrollbar)\b/.test(Q)){let X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Y=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new v(X,Y))}}}return null}static _hitTestScrollbar(J,$){if(p8.isChildOfScrollableElement($.targetPath)){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new v(Q,X))}return null}getMouseColumn(J){let $=this._context.configuration.options,Q=$.get(143),X=this._context.viewLayout.getCurrentScrollLeft()+J.x-Q.contentLeft;return l5._getMouseColumn(X,$.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(J,$){if(J<0)return 1;return Math.round(J/$)+1}static createMouseTargetFromHitTestPosition(J,$,Q,X,Y){let{lineNumber:Z,column:G}=X,q=J.getLineWidth(Z);if($.mouseContentHorizontalOffset>q){let P=XN($.mouseContentHorizontalOffset-q);return $.fulfillContentEmpty(X,P)}let U=J.visibleRangeForPosition(Z,G);if(!U)return $.fulfillUnknown(X);let z=U.left;if(Math.abs($.mouseContentHorizontalOffset-z)<1)return $.fulfillContentText(X,null,{mightBeForeignElement:!!Y,injectedText:Y});let H=[];if(H.push({offset:U.left,column:G}),G>1){let P=J.visibleRangeForPosition(Z,G-1);if(P)H.push({offset:P.left,column:G-1})}let j=J.viewModel.getLineMaxColumn(Z);if(G<j){let P=J.visibleRangeForPosition(Z,G+1);if(P)H.push({offset:P.left,column:G+1})}H.sort((P,A)=>P.offset-A.offset);let V=$.pos.toClientCoordinates(B0(J.viewDomNode)),W=Q.getBoundingClientRect(),B=W.left<=V.clientX&&V.clientX<=W.right,K=null;for(let P=1;P<H.length;P++){let A=H[P-1],D=H[P];if(A.offset<=$.mouseContentHorizontalOffset&&$.mouseContentHorizontalOffset<=D.offset){K=new L(Z,A.column,Z,D.column);let R=Math.abs(A.offset-$.mouseContentHorizontalOffset),M=Math.abs(D.offset-$.mouseContentHorizontalOffset);X=R<M?new v(Z,A.column):new v(Z,D.column);break}}return $.fulfillContentText(X,K,{mightBeForeignElement:!B||!!Y,injectedText:Y})}static _doHitTestWithCaretRangeFromPoint(J,$){let Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),X=J.getVerticalOffsetForLineNumber(Q),Y=X+J.lineHeight;if(!(Q===J.viewModel.getLineCount()&&$.mouseVerticalOffset>Y)){let G=Math.floor((X+Y)/2),q=$.pos.y+(G-$.mouseVerticalOffset);if(q<=$.editorPos.y)q=$.editorPos.y+1;if(q>=$.editorPos.y+$.editorPos.height)q=$.editorPos.y+$.editorPos.height-1;let U=new M2($.pos.x,q),z=this._actualDoHitTestWithCaretRangeFromPoint(J,U.toClientCoordinates(B0(J.viewDomNode)));if(z.type===1)return z}return this._actualDoHitTestWithCaretRangeFromPoint(J,$.pos.toClientCoordinates(B0(J.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(J,$){let Q=EQ(J.viewDomNode),X;if(Q)if(typeof Q.caretRangeFromPoint==="undefined")X=t50(Q,$.clientX,$.clientY);else X=Q.caretRangeFromPoint($.clientX,$.clientY);else X=J.viewDomNode.ownerDocument.caretRangeFromPoint($.clientX,$.clientY);if(!X||!X.startContainer)return new rQ;let Y=X.startContainer;if(Y.nodeType===Y.TEXT_NODE){let Z=Y.parentNode,G=Z?Z.parentNode:null,q=G?G.parentNode:null;if((q&&q.nodeType===q.ELEMENT_NODE?q.className:null)===l7.CLASS_NAME)return N2.createFromDOMInfo(J,Z,X.startOffset);else return new rQ(Y.parentNode)}else if(Y.nodeType===Y.ELEMENT_NODE){let Z=Y.parentNode,G=Z?Z.parentNode:null;if((G&&G.nodeType===G.ELEMENT_NODE?G.className:null)===l7.CLASS_NAME)return N2.createFromDOMInfo(J,Y,Y.textContent.length);else return new rQ(Y)}return new rQ}static _doHitTestWithCaretPositionFromPoint(J,$){let Q=J.viewDomNode.ownerDocument.caretPositionFromPoint($.clientX,$.clientY);if(Q.offsetNode.nodeType===Q.offsetNode.TEXT_NODE){let X=Q.offsetNode.parentNode,Y=X?X.parentNode:null,Z=Y?Y.parentNode:null;if((Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===l7.CLASS_NAME)return N2.createFromDOMInfo(J,Q.offsetNode.parentNode,Q.offset);else return new rQ(Q.offsetNode.parentNode)}if(Q.offsetNode.nodeType===Q.offsetNode.ELEMENT_NODE){let X=Q.offsetNode.parentNode,Y=X&&X.nodeType===X.ELEMENT_NODE?X.className:null,Z=X?X.parentNode:null,G=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(Y===l7.CLASS_NAME){let q=Q.offsetNode.childNodes[Math.min(Q.offset,Q.offsetNode.childNodes.length-1)];if(q)return N2.createFromDOMInfo(J,q,0)}else if(G===l7.CLASS_NAME)return N2.createFromDOMInfo(J,Q.offsetNode,0)}return new rQ(Q.offsetNode)}static _snapToSoftTabBoundary(J,$){let Q=$.getLineContent(J.lineNumber),{tabSize:X}=$.model.getOptions(),Y=O2.atomicPosition(Q,J.column-1,X,2);if(Y!==-1)return new v(J.lineNumber,Y+1);return J}static _doHitTest(J,$){let Q=new rQ;if(typeof J.viewDomNode.ownerDocument.caretRangeFromPoint==="function")Q=this._doHitTestWithCaretRangeFromPoint(J,$);else if(J.viewDomNode.ownerDocument.caretPositionFromPoint)Q=this._doHitTestWithCaretPositionFromPoint(J,$.pos.toClientCoordinates(B0(J.viewDomNode)));if(Q.type===1){let X=J.viewModel.getInjectedTextAt(Q.position),Y=J.viewModel.normalizePosition(Q.position,2);if(X||!Y.equals(Q.position))Q=new YN(Y,Q.spanNode,X)}return Q}}function t50(J,$,Q){let X=document.createRange(),Y=J.elementFromPoint($,Q);if(Y!==null){while(Y&&Y.firstChild&&Y.firstChild.nodeType!==Y.firstChild.TEXT_NODE&&Y.lastChild&&Y.lastChild.firstChild)Y=Y.lastChild;let Z=Y.getBoundingClientRect(),G=B0(Y),q=G.getComputedStyle(Y,null).getPropertyValue("font-style"),U=G.getComputedStyle(Y,null).getPropertyValue("font-variant"),z=G.getComputedStyle(Y,null).getPropertyValue("font-weight"),H=G.getComputedStyle(Y,null).getPropertyValue("font-size"),j=G.getComputedStyle(Y,null).getPropertyValue("line-height"),V=G.getComputedStyle(Y,null).getPropertyValue("font-family"),W=`${q} ${U} ${z} ${H}/${j} ${V}`,B=Y.innerText,K=Z.left,P=0,A;if($>Z.left+Z.width)P=B.length;else{let D=T2.getInstance();for(let R=0;R<B.length+1;R++){if(A=D.getCharWidth(B.charAt(R),W)/2,K+=A,$<K){P=R;break}K+=A}}X.setStart(Y.firstChild,P),X.setEnd(Y.firstChild,P)}return X}class T2{static getInstance(){if(!T2._INSTANCE)T2._INSTANCE=new T2;return T2._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(J,$){let Q=J+$;if(this._cache[Q])return this._cache[Q];let X=this._canvas.getContext("2d");X.font=$;let Z=X.measureText(J).width;return this._cache[Q]=Z,Z}}var N2,GN,Ig;var qN=N(()=>{MK();g8();$N();l0();I4();D0();QN();(function(J){function $(Q,X,Y){let Z=Q.getPositionFromDOMInfo(X,Y);if(Z)return new YN(Z,X,null);return new rQ(X)}J.createFromDOMInfo=$})(N2||(N2={}));GN=class GN extends yg{constructor(J,$,Q,X,Y){super(J,$,Q,X);if(this._ctx=J,Y)this.target=Y,this.targetPath=X8.collect(Y,J.viewDomNode);else this.target=null,this.targetPath=new Uint8Array(0)}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(J=null){if(J&&J.column<this._ctx.viewModel.getLineMaxColumn(J.lineNumber))return f1.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(J.lineNumber),J.column,this._ctx.viewModel.model.getOptions().tabSize)+1;return this.mouseColumn}fulfillUnknown(J=null){return Y8.createUnknown(this.target,this._getMouseColumn(J),J)}fulfillTextarea(){return Y8.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(J,$,Q,X){return Y8.createMargin(J,this.target,this._getMouseColumn($),$,Q,X)}fulfillViewZone(J,$,Q){return Y8.createViewZone(J,this.target,this._getMouseColumn($),$,Q)}fulfillContentText(J,$,Q){return Y8.createContentText(this.target,this._getMouseColumn(J),J,$,Q)}fulfillContentEmpty(J,$){return Y8.createContentEmpty(this.target,this._getMouseColumn(J),J,$)}fulfillContentWidget(J){return Y8.createContentWidget(this.target,this._getMouseColumn(),J)}fulfillScrollbar(J){return Y8.createScrollbar(this.target,this._getMouseColumn(J),J)}fulfillOverlayWidget(J){return Y8.createOverlayWidget(this.target,this._getMouseColumn(),J)}withTarget(J){return new GN(this._ctx,this.editorPos,this.pos,this.relativePos,J)}};Ig={isAfterLines:!0};T2._INSTANCE=null});function X6(J,$,Q){let X=null,Y=null;if(typeof Q.value==="function"){if(X="value",Y=Q.value,Y.length!==0)console.warn("Memoize should only be used in functions with zero parameters")}else if(typeof Q.get==="function")X="get",Y=Q.get;if(!Y)throw new Error("not supported");let Z=`$memoize$${$}`;Q[X]=function(...G){if(!this.hasOwnProperty(Z))Object.defineProperty(this,Z,{configurable:!1,enumerable:!1,writable:!1,value:Y.apply(this,G)});return this[Z]}}var e50=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},E1,T1;var d9=N(()=>{D0();J8();U1();F0();Q0();T9();(function(J){J.Tap="-monaco-gesturetap",J.Change="-monaco-gesturechange",J.Start="-monaco-gesturestart",J.End="-monaco-gesturesend",J.Contextmenu="-monaco-gesturecontextmenu"})(E1||(E1={}));T1=class T1 extends h{constructor(){super();this.dispatched=!1,this.targets=new k6,this.ignoreTargets=new k6,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(J0.runAndSubscribe(aZ,({window:J,disposables:$})=>{$.add(m(J.document,"touchstart",(Q)=>this.onTouchStart(Q),{passive:!1})),$.add(m(J.document,"touchend",(Q)=>this.onTouchEnd(J,Q))),$.add(m(J.document,"touchmove",(Q)=>this.onTouchMove(Q),{passive:!1}))},{window:z1,disposables:this._store}))}static addTarget(J){if(!T1.isTouchDevice())return h.None;if(!T1.INSTANCE)T1.INSTANCE=LZ(new T1);let $=T1.INSTANCE.targets.push(J);return K0($)}static ignoreTarget(J){if(!T1.isTouchDevice())return h.None;if(!T1.INSTANCE)T1.INSTANCE=LZ(new T1);let $=T1.INSTANCE.ignoreTargets.push(J);return K0($)}static isTouchDevice(){return"ontouchstart"in z1||navigator.maxTouchPoints>0}dispose(){if(this.handle)this.handle.dispose(),this.handle=null;super.dispose()}onTouchStart(J){let $=Date.now();if(this.handle)this.handle.dispose(),this.handle=null;for(let Q=0,X=J.targetTouches.length;Q<X;Q++){let Y=J.targetTouches.item(Q);this.activeTouches[Y.identifier]={id:Y.identifier,initialTarget:Y.target,initialTimeStamp:$,initialPageX:Y.pageX,initialPageY:Y.pageY,rollingTimestamps:[$],rollingPageX:[Y.pageX],rollingPageY:[Y.pageY]};let Z=this.newGestureEvent(E1.Start,Y.target);Z.pageX=Y.pageX,Z.pageY=Y.pageY,this.dispatchEvent(Z)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}onTouchEnd(J,$){let Q=Date.now(),X=Object.keys(this.activeTouches).length;for(let Y=0,Z=$.changedTouches.length;Y<Z;Y++){let G=$.changedTouches.item(Y);if(!this.activeTouches.hasOwnProperty(String(G.identifier))){console.warn("move of an UNKNOWN touch",G);continue}let q=this.activeTouches[G.identifier],U=Date.now()-q.initialTimeStamp;if(U<T1.HOLD_DELAY&&Math.abs(q.initialPageX-t7(q.rollingPageX))<30&&Math.abs(q.initialPageY-t7(q.rollingPageY))<30){let z=this.newGestureEvent(E1.Tap,q.initialTarget);z.pageX=t7(q.rollingPageX),z.pageY=t7(q.rollingPageY),this.dispatchEvent(z)}else if(U>=T1.HOLD_DELAY&&Math.abs(q.initialPageX-t7(q.rollingPageX))<30&&Math.abs(q.initialPageY-t7(q.rollingPageY))<30){let z=this.newGestureEvent(E1.Contextmenu,q.initialTarget);z.pageX=t7(q.rollingPageX),z.pageY=t7(q.rollingPageY),this.dispatchEvent(z)}else if(X===1){let z=t7(q.rollingPageX),H=t7(q.rollingPageY),j=t7(q.rollingTimestamps)-q.rollingTimestamps[0],V=z-q.rollingPageX[0],W=H-q.rollingPageY[0],B=[...this.targets].filter((K)=>q.initialTarget instanceof Node&&K.contains(q.initialTarget));this.inertia(J,B,Q,Math.abs(V)/j,V>0?1:-1,z,Math.abs(W)/j,W>0?1:-1,H)}this.dispatchEvent(this.newGestureEvent(E1.End,q.initialTarget)),delete this.activeTouches[G.identifier]}if(this.dispatched)$.preventDefault(),$.stopPropagation(),this.dispatched=!1}newGestureEvent(J,$){let Q=document.createEvent("CustomEvent");return Q.initEvent(J,!1,!0),Q.initialTarget=$,Q.tapCount=0,Q}dispatchEvent(J){if(J.type===E1.Tap){let $=new Date().getTime(),Q=0;if($-this._lastSetTapCountTime>T1.CLEAR_TAP_COUNT_TIME)Q=1;else Q=2;this._lastSetTapCountTime=$,J.tapCount=Q}else if(J.type===E1.Change||J.type===E1.Contextmenu)this._lastSetTapCountTime=0;if(J.initialTarget instanceof Node){for(let $ of this.ignoreTargets)if($.contains(J.initialTarget))return;for(let $ of this.targets)if($.contains(J.initialTarget))$.dispatchEvent(J),this.dispatched=!0}}inertia(J,$,Q,X,Y,Z,G,q,U){this.handle=A5(J,()=>{let z=Date.now(),H=z-Q,j=0,V=0,W=!0;if(X+=T1.SCROLL_FRICTION*H,G+=T1.SCROLL_FRICTION*H,X>0)W=!1,j=Y*X*H;if(G>0)W=!1,V=q*G*H;let B=this.newGestureEvent(E1.Change);if(B.translationX=j,B.translationY=V,$.forEach((K)=>K.dispatchEvent(B)),!W)this.inertia(J,$,z,X,Y,Z+j,G,q,U+V)})}onTouchMove(J){let $=Date.now();for(let Q=0,X=J.changedTouches.length;Q<X;Q++){let Y=J.changedTouches.item(Q);if(!this.activeTouches.hasOwnProperty(String(Y.identifier))){console.warn("end of an UNKNOWN touch",Y);continue}let Z=this.activeTouches[Y.identifier],G=this.newGestureEvent(E1.Change,Z.initialTarget);if(G.translationX=Y.pageX-t7(Z.rollingPageX),G.translationY=Y.pageY-t7(Z.rollingPageY),G.pageX=Y.pageX,G.pageY=Y.pageY,this.dispatchEvent(G),Z.rollingPageX.length>3)Z.rollingPageX.shift(),Z.rollingPageY.shift(),Z.rollingTimestamps.shift();Z.rollingPageX.push(Y.pageX),Z.rollingPageY.push(Y.pageY),Z.rollingTimestamps.push($)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}};T1.SCROLL_FRICTION=-0.005;T1.HOLD_DELAY=700;T1.CLEAR_TAP_COUNT_TIME=400;e50([X6],T1,"isTouchDevice",null)});var Z8;var L$=N(()=>{D0();R8();k9();d9();Q0();Z8=class Z8 extends h{onclick(J,$){this._register(m(J,$0.CLICK,(Q)=>$(new $8(B0(J),Q))))}onmousedown(J,$){this._register(m(J,$0.MOUSE_DOWN,(Q)=>$(new $8(B0(J),Q))))}onmouseover(J,$){this._register(m(J,$0.MOUSE_OVER,(Q)=>$(new $8(B0(J),Q))))}onmouseleave(J,$){this._register(m(J,$0.MOUSE_LEAVE,(Q)=>$(new $8(B0(J),Q))))}onkeydown(J,$){this._register(m(J,$0.KEY_DOWN,(Q)=>$(new K1(Q))))}onkeyup(J,$){this._register(m(J,$0.KEY_UP,(Q)=>$(new K1(Q))))}oninput(J,$){this._register(m(J,$0.INPUT,$))}onblur(J,$){this._register(m(J,$0.BLUR,$))}onfocus(J,$){this._register(m(J,$0.FOCUS,$))}ignoreGesture(J){return T1.ignoreTarget(J)}}});var BY=11,UN;var NK=N(()=>{UH();L$();u1();H5();D0();UN=class UN extends Z8{constructor(J){super();if(this._onActivate=J.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=J.bgWidth+"px",this.bgDomNode.style.height=J.bgHeight+"px",typeof J.top!=="undefined")this.bgDomNode.style.top="0px";if(typeof J.left!=="undefined")this.bgDomNode.style.left="0px";if(typeof J.bottom!=="undefined")this.bgDomNode.style.bottom="0px";if(typeof J.right!=="undefined")this.bgDomNode.style.right="0px";if(this.domNode=document.createElement("div"),this.domNode.className=J.className,this.domNode.classList.add(...b0.asClassNameArray(J.icon)),this.domNode.style.position="absolute",this.domNode.style.width=BY+"px",this.domNode.style.height=BY+"px",typeof J.top!=="undefined")this.domNode.style.top=J.top+"px";if(typeof J.left!=="undefined")this.domNode.style.left=J.left+"px";if(typeof J.bottom!=="undefined")this.domNode.style.bottom=J.bottom+"px";if(typeof J.right!=="undefined")this.domNode.style.right=J.right+"px";this._pointerMoveMonitor=this._register(new uQ),this._register(i1(this.bgDomNode,$0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._register(i1(this.domNode,$0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._pointerdownRepeatTimer=this._register(new rZ),this._pointerdownScheduleRepeatTimer=this._register(new M8)}_arrowPointerDown(J){if(!J.target||!(J.target instanceof Element))return;let $=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664,B0(J))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet($,200),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Q)=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),J.preventDefault()}}});var zN;var xg=N(()=>{u1();Q0();zN=class zN extends h{constructor(J,$,Q){super();this._visibility=J,this._visibleClassName=$,this._invisibleClassName=Q,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new M8)}setVisibility(J){if(this._visibility!==J)this._visibility=J,this._updateShouldBeVisible()}setShouldBeVisible(J){this._rawShouldBeVisible=J,this._updateShouldBeVisible()}_applyVisibilitySetting(){if(this._visibility===2)return!1;if(this._visibility===3)return!0;return this._rawShouldBeVisible}_updateShouldBeVisible(){let J=this._applyVisibilitySetting();if(this._shouldBeVisible!==J)this._shouldBeVisible=J,this.ensureVisibility()}setIsNeeded(J){if(this._isNeeded!==J)this._isNeeded=J,this.ensureVisibility()}setDomNode(J){this._domNode=J,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}if(this._shouldBeVisible)this._reveal();else this._hide(!0)}_reveal(){if(this._isVisible)return;this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var J;(J=this._domNode)===null||J===void 0||J.setClassName(this._visibleClassName)},0)}_hide(J){var $;if(this._revealTimer.cancel(),!this._isVisible)return;this._isVisible=!1,($=this._domNode)===null||$===void 0||$.setClassName(this._invisibleClassName+(J?" fade":""))}}});var J80=140,FH;var HN=N(()=>{D0();UH();NK();xg();L$();M1();FH=class FH extends Z8{constructor(J){super();this._lazyRender=J.lazyRender,this._host=J.host,this._scrollable=J.scrollable,this._scrollByPage=J.scrollByPage,this._scrollbarState=J.scrollbarState,this._visibilityController=this._register(new zN(J.visibility,"visible scrollbar "+J.extraScrollbarClassName,"invisible scrollbar "+J.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new uQ),this._shouldRender=!0,this.domNode=e0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(m(this.domNode.domNode,$0.POINTER_DOWN,($)=>this._domNodePointerDown($)))}_createArrow(J){let $=this._register(new UN(J));this.domNode.domNode.appendChild($.bgDomNode),this.domNode.domNode.appendChild($.domNode)}_createSlider(J,$,Q,X){if(this.slider=e0(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(J),this.slider.setLeft($),typeof Q==="number")this.slider.setWidth(Q);if(typeof X==="number")this.slider.setHeight(X);this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(m(this.slider.domNode,$0.POINTER_DOWN,(Y)=>{if(Y.button===0)Y.preventDefault(),this._sliderPointerDown(Y)})),this.onclick(this.slider.domNode,(Y)=>{if(Y.leftButton)Y.stopPropagation()})}_onElementSize(J){if(this._scrollbarState.setVisibleSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollSize(J){if(this._scrollbarState.setScrollSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollPosition(J){if(this._scrollbarState.setScrollPosition(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){if(!this._shouldRender)return;this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())}_domNodePointerDown(J){if(J.target!==this.domNode.domNode)return;this._onPointerDown(J)}delegatePointerDown(J){let $=this.domNode.domNode.getClientRects()[0].top,Q=$+this._scrollbarState.getSliderPosition(),X=$+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Y=this._sliderPointerPosition(J);if(Q<=Y&&Y<=X){if(J.button===0)J.preventDefault(),this._sliderPointerDown(J)}else this._onPointerDown(J)}_onPointerDown(J){let $,Q;if(J.target===this.domNode.domNode&&typeof J.offsetX==="number"&&typeof J.offsetY==="number")$=J.offsetX,Q=J.offsetY;else{let Y=P5(this.domNode.domNode);$=J.pageX-Y.left,Q=J.pageY-Y.top}let X=this._pointerDownRelativePosition($,Q);if(this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(X):this._scrollbarState.getDesiredScrollPositionFromOffset(X)),J.button===0)J.preventDefault(),this._sliderPointerDown(J)}_sliderPointerDown(J){if(!J.target||!(J.target instanceof Element))return;let $=this._sliderPointerPosition(J),Q=this._sliderOrthogonalPointerPosition(J),X=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Y)=>{let Z=this._sliderOrthogonalPointerPosition(Y),G=Math.abs(Z-Q);if(L6&&G>J80){this._setDesiredScrollPositionNow(X.getScrollPosition());return}let U=this._sliderPointerPosition(Y)-$;this._setDesiredScrollPositionNow(X.getDesiredScrollPositionFromDelta(U))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(J){let $={};this.writeScrollPosition($,J),this._scrollable.setScrollPositionNow($)}updateScrollbarSize(J){if(this._updateScrollbarSize(J),this._scrollbarState.setScrollbarSize(J),this._shouldRender=!0,!this._lazyRender)this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}});class iQ{constructor(J,$,Q,X,Y,Z){this._scrollbarSize=Math.round($),this._oppositeScrollbarSize=Math.round(Q),this._arrowSize=Math.round(J),this._visibleSize=X,this._scrollSize=Y,this._scrollPosition=Z,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new iQ(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(J){let $=Math.round(J);if(this._visibleSize!==$)return this._visibleSize=$,this._refreshComputedValues(),!0;return!1}setScrollSize(J){let $=Math.round(J);if(this._scrollSize!==$)return this._scrollSize=$,this._refreshComputedValues(),!0;return!1}setScrollPosition(J){let $=Math.round(J);if(this._scrollPosition!==$)return this._scrollPosition=$,this._refreshComputedValues(),!0;return!1}setScrollbarSize(J){this._scrollbarSize=Math.round(J)}setOppositeScrollbarSize(J){this._oppositeScrollbarSize=Math.round(J)}static _computeValues(J,$,Q,X,Y){let Z=Math.max(0,Q-J),G=Math.max(0,Z-2*$),q=X>0&&X>Q;if(!q)return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(G),computedSliderRatio:0,computedSliderPosition:0};let U=Math.round(Math.max(20,Math.floor(Q*G/X))),z=(G-U)/(X-Q),H=Y*z;return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(U),computedSliderRatio:z,computedSliderPosition:Math.round(H)}}_refreshComputedValues(){let J=iQ._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=J.computedAvailableSize,this._computedIsNeeded=J.computedIsNeeded,this._computedSliderSize=J.computedSliderSize,this._computedSliderRatio=J.computedSliderRatio,this._computedSliderPosition=J.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(J){if(!this._computedIsNeeded)return 0;let $=J-this._arrowSize-this._computedSliderSize/2;return Math.round($/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(J){if(!this._computedIsNeeded)return 0;let $=J-this._arrowSize,Q=this._scrollPosition;if($<this._computedSliderPosition)Q-=this._visibleSize;else Q+=this._visibleSize;return Q}getDesiredScrollPositionFromDelta(J){if(!this._computedIsNeeded)return 0;let $=this._computedSliderPosition+J;return Math.round($/this._computedSliderRatio)}}var jN;var bg=N(()=>{k9();HN();NK();U5();jN=class jN extends FH{constructor(J,$,Q){let X=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:Q,scrollbarState:new iQ($.horizontalHasArrows?$.arrowSize:0,$.horizontal===2?0:$.horizontalScrollbarSize,$.vertical===2?0:$.verticalScrollbarSize,X.width,X.scrollWidth,Y.scrollLeft),visibility:$.horizontal,extraScrollbarClassName:"horizontal",scrollable:J,scrollByPage:$.scrollByPage});if($.horizontalHasArrows){let Z=($.arrowSize-BY)/2,G=($.horizontalScrollbarSize-BY)/2;this._createArrow({className:"scra",icon:U0.scrollbarButtonLeft,top:G,left:Z,bottom:void 0,right:void 0,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new D4(null,1,0))}),this._createArrow({className:"scra",icon:U0.scrollbarButtonRight,top:G,left:void 0,bottom:void 0,right:Z,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new D4(null,-1,0))})}this._createSlider(Math.floor(($.horizontalScrollbarSize-$.horizontalSliderSize)/2),0,void 0,$.horizontalSliderSize)}_updateSlider(J,$){this.slider.setWidth(J),this.slider.setLeft($)}_renderDomNode(J,$){this.domNode.setWidth(J),this.domNode.setHeight($),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(J.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return J}_sliderPointerPosition(J){return J.pageX}_sliderOrthogonalPointerPosition(J){return J.pageY}_updateScrollbarSize(J){this.slider.setHeight(J)}writeScrollPosition(J,$){J.scrollLeft=$}updateOptions(J){this.updateScrollbarSize(J.horizontal===2?0:J.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._visibilityController.setVisibility(J.horizontal),this._scrollByPage=J.scrollByPage}}});var VN;var Sg=N(()=>{k9();HN();NK();U5();VN=class VN extends FH{constructor(J,$,Q){let X=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:Q,scrollbarState:new iQ($.verticalHasArrows?$.arrowSize:0,$.vertical===2?0:$.verticalScrollbarSize,0,X.height,X.scrollHeight,Y.scrollTop),visibility:$.vertical,extraScrollbarClassName:"vertical",scrollable:J,scrollByPage:$.scrollByPage});if($.verticalHasArrows){let Z=($.arrowSize-BY)/2,G=($.verticalScrollbarSize-BY)/2;this._createArrow({className:"scra",icon:U0.scrollbarButtonUp,top:Z,left:G,bottom:void 0,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new D4(null,0,1))}),this._createArrow({className:"scra",icon:U0.scrollbarButtonDown,top:void 0,left:G,bottom:Z,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new D4(null,0,-1))})}this._createSlider(0,Math.floor(($.verticalScrollbarSize-$.verticalSliderSize)/2),$.verticalSliderSize,void 0)}_updateSlider(J,$){this.slider.setHeight(J),this.slider.setTop($)}_renderDomNode(J,$){this.domNode.setWidth($),this.domNode.setHeight(J),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(J.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return $}_sliderPointerPosition(J){return J.pageY}_sliderOrthogonalPointerPosition(J){return J.pageX}_updateScrollbarSize(J){this.slider.setWidth(J)}writeScrollPosition(J,$){J.scrollTop=$}updateOptions(J){this.updateScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(J.vertical),this._scrollByPage=J.scrollByPage}}});class TK{constructor(J,$,Q,X,Y,Z,G){if(this._forceIntegerValues=J,this._scrollStateBrand=void 0,this._forceIntegerValues)$=$|0,Q=Q|0,X=X|0,Y=Y|0,Z=Z|0,G=G|0;if(this.rawScrollLeft=X,this.rawScrollTop=G,$<0)$=0;if(X+$>Q)X=Q-$;if(X<0)X=0;if(Y<0)Y=0;if(G+Y>Z)G=Z-Y;if(G<0)G=0;this.width=$,this.scrollWidth=Q,this.scrollLeft=X,this.height=Y,this.scrollHeight=Z,this.scrollTop=G}equals(J){return this.rawScrollLeft===J.rawScrollLeft&&this.rawScrollTop===J.rawScrollTop&&this.width===J.width&&this.scrollWidth===J.scrollWidth&&this.scrollLeft===J.scrollLeft&&this.height===J.height&&this.scrollHeight===J.scrollHeight&&this.scrollTop===J.scrollTop}withScrollDimensions(J,$){return new TK(this._forceIntegerValues,typeof J.width!=="undefined"?J.width:this.width,typeof J.scrollWidth!=="undefined"?J.scrollWidth:this.scrollWidth,$?this.rawScrollLeft:this.scrollLeft,typeof J.height!=="undefined"?J.height:this.height,typeof J.scrollHeight!=="undefined"?J.scrollHeight:this.scrollHeight,$?this.rawScrollTop:this.scrollTop)}withScrollPosition(J){return new TK(this._forceIntegerValues,this.width,this.scrollWidth,typeof J.scrollLeft!=="undefined"?J.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof J.scrollTop!=="undefined"?J.scrollTop:this.rawScrollTop)}createScrollEvent(J,$){let Q=this.width!==J.width,X=this.scrollWidth!==J.scrollWidth,Y=this.scrollLeft!==J.scrollLeft,Z=this.height!==J.height,G=this.scrollHeight!==J.scrollHeight,q=this.scrollTop!==J.scrollTop;return{inSmoothScrolling:$,oldWidth:J.width,oldScrollWidth:J.scrollWidth,oldScrollLeft:J.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:J.height,oldScrollHeight:J.scrollHeight,oldScrollTop:J.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:Q,scrollWidthChanged:X,scrollLeftChanged:Y,heightChanged:Z,scrollHeightChanged:G,scrollTopChanged:q}}}class BN{constructor(J,$,Q){this.scrollLeft=J,this.scrollTop=$,this.isDone=Q}}function WN(J,$){let Q=$-J;return function(X){return J+Q*X80(X)}}function $80(J,$,Q){return function(X){if(X<Q)return J(X/Q);return $((X-Q)/(1-Q))}}class KH{constructor(J,$,Q,X){this.from=J,this.to=$,this.duration=X,this.startTime=Q,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(J,$,Q){if(Math.abs(J-$)>2.5*Q){let Y,Z;if(J<$)Y=J+0.75*Q,Z=$-0.75*Q;else Y=J-0.75*Q,Z=$+0.75*Q;return $80(WN(J,Y),WN(Z,$),0.33)}return WN(J,$)}dispose(){if(this.animationFrameDisposable!==null)this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null}acceptScrollDimensions(J){this.to=J.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(J){let $=(J-this.startTime)/this.duration;if($<1){let Q=this.scrollLeft($),X=this.scrollTop($);return new BN(Q,X,!1)}return new BN(this.to.scrollLeft,this.to.scrollTop,!0)}combine(J,$,Q){return KH.start(J,$,Q)}static start(J,$,Q){Q=Q+10;let X=Date.now()-10;return new KH(J,$,X,Q)}}function Q80(J){return Math.pow(J,3)}function X80(J){return 1-Q80(1-J)}var y4;var sq=N(()=>{F0();Q0();y4=class y4 extends h{constructor(J){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y),this.onScroll=this._onScroll.event,this._smoothScrollDuration=J.smoothScrollDuration,this._scheduleAtNextAnimationFrame=J.scheduleAtNextAnimationFrame,this._state=new TK(J.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;super.dispose()}setSmoothScrollDuration(J){this._smoothScrollDuration=J}validateScrollPosition(J){return this._state.withScrollPosition(J)}getScrollDimensions(){return this._state}setScrollDimensions(J,$){var Q;let X=this._state.withScrollDimensions(J,$);this._setState(X,Boolean(this._smoothScrolling)),(Q=this._smoothScrolling)===null||Q===void 0||Q.acceptScrollDimensions(this._state)}getFutureScrollPosition(){if(this._smoothScrolling)return this._smoothScrolling.to;return this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(J){let $=this._state.withScrollPosition(J);if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;this._setState($,!1)}setScrollPositionSmooth(J,$){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(J);if(this._smoothScrolling){J={scrollLeft:typeof J.scrollLeft==="undefined"?this._smoothScrolling.to.scrollLeft:J.scrollLeft,scrollTop:typeof J.scrollTop==="undefined"?this._smoothScrolling.to.scrollTop:J.scrollTop};let Q=this._state.withScrollPosition(J);if(this._smoothScrolling.to.scrollLeft===Q.scrollLeft&&this._smoothScrolling.to.scrollTop===Q.scrollTop)return;let X;if($)X=new KH(this._smoothScrolling.from,Q,this._smoothScrolling.startTime,this._smoothScrolling.duration);else X=this._smoothScrolling.combine(this._state,Q,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=X}else{let Q=this._state.withScrollPosition(J);this._smoothScrolling=KH.start(this._state,Q,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;let J=this._smoothScrolling.tick(),$=this._state.withScrollPosition(J);if(this._setState($,!0),!this._smoothScrolling)return;if(J.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}_setState(J,$){let Q=this._state;if(Q.equals(J))return;this._state=J,this._onScroll.fire(this._state.createScrollEvent(Q,$))}}});var Cg=N(()=>{j0(".monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;z-index:11;background:0 0;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{display:none;position:absolute}.monaco-scrollable-element>.shadow.top{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;width:100%;height:3px;display:block;top:0;left:3px}.monaco-scrollable-element>.shadow.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset;width:3px;height:100%;display:block;top:3px;left:0}.monaco-scrollable-element>.shadow.top-left-corner{width:3px;height:3px;display:block;top:0;left:0}.monaco-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset}.monaco-scrollable-element>.scrollbar>.slider{background:var(--vscode-scrollbarSlider-background)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-scrollable-element>.scrollbar>.slider.active{background:var(--vscode-scrollbarSlider-activeBackground)}")});class fg{constructor(J,$,Q){this.timestamp=J,this.deltaX=$,this.deltaY=Q,this.score=0}}class aq{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let J=1,$=0,Q=1,X=this._rear;do{let Y=X===this._front?J:Math.pow(2,-Q);if(J-=Y,$+=this._memory[X].score*Y,X===this._front)break;X=(this._capacity+X-1)%this._capacity,Q++}while(!0);return $<=0.5}acceptStandardWheelEvent(J){if(Y$){let $=B0(J.browserEvent),Q=MS($);this.accept(Date.now(),J.deltaX*Q,J.deltaY*Q)}else this.accept(Date.now(),J.deltaX,J.deltaY)}accept(J,$,Q){let X=new fg(J,$,Q);if(X.score=this._computeScore(X),this._front===-1&&this._rear===-1)this._memory[0]=X,this._front=0,this._rear=0;else{if(this._rear=(this._rear+1)%this._capacity,this._rear===this._front)this._front=(this._front+1)%this._capacity;this._memory[this._rear]=X}}_computeScore(J){if(Math.abs(J.deltaX)>0&&Math.abs(J.deltaY)>0)return 1;let $=0.5,Q=this._front===-1&&this._rear===-1?null:this._memory[this._rear];if(!this._isAlmostInt(J.deltaX)||!this._isAlmostInt(J.deltaY))$+=0.25;return Math.min(Math.max($,0),1)}_isAlmostInt(J){return Math.abs(Math.round(J)-J)<0.01}}function Z80(J){let $={lazyRender:typeof J.lazyRender!=="undefined"?J.lazyRender:!1,className:typeof J.className!=="undefined"?J.className:"",useShadows:typeof J.useShadows!=="undefined"?J.useShadows:!0,handleMouseWheel:typeof J.handleMouseWheel!=="undefined"?J.handleMouseWheel:!0,flipAxes:typeof J.flipAxes!=="undefined"?J.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof J.consumeMouseWheelIfScrollbarIsNeeded!=="undefined"?J.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof J.alwaysConsumeMouseWheel!=="undefined"?J.alwaysConsumeMouseWheel:!1,scrollYToX:typeof J.scrollYToX!=="undefined"?J.scrollYToX:!1,mouseWheelScrollSensitivity:typeof J.mouseWheelScrollSensitivity!=="undefined"?J.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof J.fastScrollSensitivity!=="undefined"?J.fastScrollSensitivity:5,scrollPredominantAxis:typeof J.scrollPredominantAxis!=="undefined"?J.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof J.mouseWheelSmoothScroll!=="undefined"?J.mouseWheelSmoothScroll:!0,arrowSize:typeof J.arrowSize!=="undefined"?J.arrowSize:11,listenOnDomNode:typeof J.listenOnDomNode!=="undefined"?J.listenOnDomNode:null,horizontal:typeof J.horizontal!=="undefined"?J.horizontal:1,horizontalScrollbarSize:typeof J.horizontalScrollbarSize!=="undefined"?J.horizontalScrollbarSize:10,horizontalSliderSize:typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:0,horizontalHasArrows:typeof J.horizontalHasArrows!=="undefined"?J.horizontalHasArrows:!1,vertical:typeof J.vertical!=="undefined"?J.vertical:1,verticalScrollbarSize:typeof J.verticalScrollbarSize!=="undefined"?J.verticalScrollbarSize:10,verticalHasArrows:typeof J.verticalHasArrows!=="undefined"?J.verticalHasArrows:!1,verticalSliderSize:typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:0,scrollByPage:typeof J.scrollByPage!=="undefined"?J.scrollByPage:!1};if($.horizontalSliderSize=typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:$.horizontalScrollbarSize,$.verticalSliderSize=typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:$.verticalScrollbarSize,r0)$.className+=" mac";return $}var Y80=500,vg=50,hg=!0,wK,FN,nQ,oQ;var OJ=N(()=>{B7();D0();k9();bg();Sg();L$();u1();F0();Q0();M1();sq();Cg();aq.INSTANCE=new aq;wK=class wK extends Z8{get options(){return this._options}constructor(J,$,Q){super();this._onScroll=this._register(new y),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y),J.style.overflow="hidden",this._options=Z80($),this._scrollable=Q,this._register(this._scrollable.onScroll((Y)=>{this._onWillScroll.fire(Y),this._onDidScroll(Y),this._onScroll.fire(Y)}));let X={onMouseWheel:(Y)=>this._onMouseWheel(Y),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};if(this._verticalScrollbar=this._register(new VN(this._scrollable,this._options,X)),this._horizontalScrollbar=this._register(new jN(this._scrollable,this._options,X)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(J),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows)this._leftShadowDomNode=e0(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=e0(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=e0(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode);else this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null;this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(Y)=>this._onMouseOver(Y)),this.onmouseleave(this._listenOnDomNode,(Y)=>this._onMouseLeave(Y)),this._hideTimeout=this._register(new M8),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=k1(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(J){this._verticalScrollbar.delegatePointerDown(J)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(J){this._scrollable.setScrollDimensions(J,!1)}updateClassName(J){if(this._options.className=J,r0)this._options.className+=" mac";this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(J){if(typeof J.handleMouseWheel!=="undefined")this._options.handleMouseWheel=J.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel);if(typeof J.mouseWheelScrollSensitivity!=="undefined")this._options.mouseWheelScrollSensitivity=J.mouseWheelScrollSensitivity;if(typeof J.fastScrollSensitivity!=="undefined")this._options.fastScrollSensitivity=J.fastScrollSensitivity;if(typeof J.scrollPredominantAxis!=="undefined")this._options.scrollPredominantAxis=J.scrollPredominantAxis;if(typeof J.horizontal!=="undefined")this._options.horizontal=J.horizontal;if(typeof J.vertical!=="undefined")this._options.vertical=J.vertical;if(typeof J.horizontalScrollbarSize!=="undefined")this._options.horizontalScrollbarSize=J.horizontalScrollbarSize;if(typeof J.verticalScrollbarSize!=="undefined")this._options.verticalScrollbarSize=J.verticalScrollbarSize;if(typeof J.scrollByPage!=="undefined")this._options.scrollByPage=J.scrollByPage;if(this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),!this._options.lazyRender)this._render()}delegateScrollFromMouseWheelEvent(J){this._onMouseWheel(new D4(J))}_setListeningToMouseWheel(J){if(this._mouseWheelToDispose.length>0===J)return;if(this._mouseWheelToDispose=k1(this._mouseWheelToDispose),J){let Q=(X)=>{this._onMouseWheel(new D4(X))};this._mouseWheelToDispose.push(m(this._listenOnDomNode,$0.MOUSE_WHEEL,Q,{passive:!1}))}}_onMouseWheel(J){var $;if(($=J.browserEvent)===null||$===void 0?void 0:$.defaultPrevented)return;let Q=aq.INSTANCE;if(hg)Q.acceptStandardWheelEvent(J);let X=!1;if(J.deltaY||J.deltaX){let Z=J.deltaY*this._options.mouseWheelScrollSensitivity,G=J.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis)if(this._options.scrollYToX&&G+Z===0)G=Z=0;else if(Math.abs(Z)>=Math.abs(G))G=0;else Z=0;if(this._options.flipAxes)[Z,G]=[G,Z];let q=!r0&&J.browserEvent&&J.browserEvent.shiftKey;if((this._options.scrollYToX||q)&&!G)G=Z,Z=0;if(J.browserEvent&&J.browserEvent.altKey)G=G*this._options.fastScrollSensitivity,Z=Z*this._options.fastScrollSensitivity;let U=this._scrollable.getFutureScrollPosition(),z={};if(Z){let H=vg*Z,j=U.scrollTop-(H<0?Math.floor(H):Math.ceil(H));this._verticalScrollbar.writeScrollPosition(z,j)}if(G){let H=vg*G,j=U.scrollLeft-(H<0?Math.floor(H):Math.ceil(H));this._horizontalScrollbar.writeScrollPosition(z,j)}if(z=this._scrollable.validateScrollPosition(z),U.scrollLeft!==z.scrollLeft||U.scrollTop!==z.scrollTop){if(hg&&this._options.mouseWheelSmoothScroll&&Q.isPhysicalMouseWheel())this._scrollable.setScrollPositionSmooth(z);else this._scrollable.setScrollPositionNow(z);X=!0}}let Y=X;if(!Y&&this._options.alwaysConsumeMouseWheel)Y=!0;if(!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded()))Y=!0;if(Y)J.preventDefault(),J.stopPropagation()}_onDidScroll(J){if(this._shouldRender=this._horizontalScrollbar.onDidScroll(J)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(J)||this._shouldRender,this._options.useShadows)this._shouldRender=!0;if(this._revealOnScroll)this._reveal();if(!this._options.lazyRender)this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!this._shouldRender)return;if(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows){let J=this._scrollable.getCurrentScrollPosition(),$=J.scrollTop>0,Q=J.scrollLeft>0,X=Q?" left":"",Y=$?" top":"",Z=Q||$?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${X}`),this._topShadowDomNode.setClassName(`shadow${Y}`),this._topLeftShadowDomNode.setClassName(`shadow${Z}${Y}${X}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(J){this._mouseIsOver=!1,this._hide()}_onMouseOver(J){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){if(!this._mouseIsOver&&!this._isDragging)this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide()}_scheduleHide(){if(!this._mouseIsOver&&!this._isDragging)this._hideTimeout.cancelAndSet(()=>this._hide(),Y80)}};FN=class FN extends wK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;let Q=new y4({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(X)=>A5(B0(J),X)});super(J,$,Q);this._register(Q)}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}};nQ=class nQ extends wK{constructor(J,$,Q){super(J,$,Q)}setScrollPosition(J){if(J.reuseAnimation)this._scrollable.setScrollPositionSmooth(J,J.reuseAnimation);else this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};oQ=class oQ extends wK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;let Q=new y4({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(X)=>A5(B0(J),X)});super(J,$,Q);this._register(Q),this._element=J,this._register(this.onScroll((X)=>{if(X.scrollTopChanged)this._element.scrollTop=X.scrollTop;if(X.scrollLeftChanged)this._element.scrollLeft=X.scrollLeft})),this.scanDomNode()}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}});class LK{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(J){this._altKey=J.altKey,this._ctrlKey=J.ctrlKey,this._metaKey=J.metaKey,this._shiftKey=J.shiftKey}setStartButtons(J){this._leftButton=J.leftButton,this._middleButton=J.middleButton}setStartedOnLineNumbers(J){this._startedOnLineNumbers=J}trySetCount(J,$){let Q=new Date().getTime();if(Q-this._lastSetMouseDownCountTime>LK.CLEAR_MOUSE_DOWN_COUNT_TIME)J=1;if(this._lastSetMouseDownCountTime=Q,J>this._lastMouseDownCount+1)J=this._lastMouseDownCount+1;if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals($))this._lastMouseDownPositionEqualCount++;else this._lastMouseDownPositionEqualCount=1;this._lastMouseDownPosition=$,this._lastMouseDownCount=Math.min(J,this._lastMouseDownPositionEqualCount)}}var AH,gg,pg,mg;var ug=N(()=>{D0();k9();Q0();M1();qN();MK();Zz();E5();mq();OJ();AH=class AH extends _J{constructor(J,$,Q){super();this._mouseLeaveMonitor=null,this._context=J,this.viewController=$,this.viewHelper=Q,this.mouseTargetFactory=new l5(this._context,Q),this._mouseDownOperation=this._register(new gg(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Z,G)=>this._createMouseTarget(Z,G),(Z)=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;let X=new aO(this.viewHelper.viewDomNode);this._register(X.onContextMenu(this.viewHelper.viewDomNode,(Z)=>this._onContextMenu(Z,!0))),this._register(X.onMouseMove(this.viewHelper.viewDomNode,(Z)=>{if(this._onMouseMove(Z),!this._mouseLeaveMonitor)this._mouseLeaveMonitor=m(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(G)=>{if(!this.viewHelper.viewDomNode.contains(G.target))this._onMouseLeave(new MJ(G,!1,this.viewHelper.viewDomNode))})})),this._register(X.onMouseUp(this.viewHelper.viewDomNode,(Z)=>this._onMouseUp(Z))),this._register(X.onMouseLeave(this.viewHelper.viewDomNode,(Z)=>this._onMouseLeave(Z)));let Y=0;this._register(X.onPointerDown(this.viewHelper.viewDomNode,(Z,G)=>{Y=G})),this._register(m(this.viewHelper.viewDomNode,$0.POINTER_UP,(Z)=>{this._mouseDownOperation.onPointerUp()})),this._register(X.onMouseDown(this.viewHelper.viewDomNode,(Z)=>this._onMouseDown(Z,Y))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){let J=aq.INSTANCE,$=0,Q=B4.getZoomLevel(),X=!1,Y=0,Z=(q)=>{if(this.viewController.emitMouseWheel(q),!this._context.configuration.options.get(75))return;let U=new D4(q);if(J.acceptStandardWheelEvent(U),J.isPhysicalMouseWheel()){if(G(q)){let z=B4.getZoomLevel(),H=U.deltaY>0?1:-1;B4.setZoomLevel(z+H),U.preventDefault(),U.stopPropagation()}}else{if(Date.now()-$>50)Q=B4.getZoomLevel(),X=G(q),Y=0;if($=Date.now(),Y+=U.deltaY,X)B4.setZoomLevel(Q+Y/5),U.preventDefault(),U.stopPropagation()}};this._register(m(this.viewHelper.viewDomNode,$0.MOUSE_WHEEL,Z,{capture:!0,passive:!1}));function G(q){return r0?(q.metaKey||q.ctrlKey)&&!q.shiftKey&&!q.altKey:q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey}}dispose(){if(this._context.removeEventHandler(this),this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;super.dispose()}onConfigurationChanged(J){if(J.hasChanged(143)){let $=this._context.configuration.options.get(143).height;if(this._height!==$)this._height=$,this._mouseDownOperation.onHeightChanged()}return!1}onCursorStateChanged(J){return this._mouseDownOperation.onCursorStateChanged(J),!1}onFocusChanged(J){return!1}getTargetAtClientPoint(J,$){let X=new PK(J,$).toPageCoordinates(B0(this.viewHelper.viewDomNode)),Y=DK(this.viewHelper.viewDomNode);if(X.y<Y.y||X.y>Y.y+Y.height||X.x<Y.x||X.x>Y.x+Y.width)return null;let Z=RK(this.viewHelper.viewDomNode,Y,X);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Y,X,Z,null)}_createMouseTarget(J,$){let Q=J.target;if(!this.viewHelper.viewDomNode.contains(Q)){let X=EQ(this.viewHelper.viewDomNode);if(X)Q=X.elementsFromPoint(J.posx,J.posy).find((Y)=>this.viewHelper.viewDomNode.contains(Y))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),J.editorPos,J.pos,J.relativePos,$?Q:null)}_getMouseColumn(J){return this.mouseTargetFactory.getMouseColumn(J.relativePos)}_onContextMenu(J,$){this.viewController.emitContextMenu({event:J,target:this._createMouseTarget(J,$)})}_onMouseMove(J){if(!this.mouseTargetFactory.mouseTargetIsWidget(J))J.preventDefault();if(this._mouseDownOperation.isActive())return;if(J.timestamp<this.lastMouseLeaveTime)return;this.viewController.emitMouseMove({event:J,target:this._createMouseTarget(J,!0)})}_onMouseLeave(J){if(this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:J,target:null})}_onMouseUp(J){this.viewController.emitMouseUp({event:J,target:this._createMouseTarget(J,!0)})}_onMouseDown(J,$){let Q=this._createMouseTarget(J,!0),X=Q.type===6||Q.type===7,Y=Q.type===2||Q.type===3||Q.type===4,Z=Q.type===3,G=this._context.configuration.options.get(108),q=Q.type===8||Q.type===5,U=Q.type===9,z=J.leftButton||J.middleButton;if(r0&&J.leftButton&&J.ctrlKey)z=!1;let H=()=>{J.preventDefault(),this.viewHelper.focusTextArea()};if(z&&(X||Z&&G))H(),this._mouseDownOperation.start(Q.type,J,$);else if(Y)J.preventDefault();else if(q){let j=Q.detail;if(z&&this.viewHelper.shouldSuppressMouseDownOnViewZone(j.viewZoneId))H(),this._mouseDownOperation.start(Q.type,J,$),J.preventDefault()}else if(U&&this.viewHelper.shouldSuppressMouseDownOnWidget(Q.detail))H(),J.preventDefault();this.viewController.emitMouseDown({event:J,target:Q})}};gg=class gg extends h{constructor(J,$,Q,X,Y,Z){super();this._context=J,this._viewController=$,this._viewHelper=Q,this._mouseTargetFactory=X,this._createMouseTarget=Y,this._getMouseColumn=Z,this._mouseMoveMonitor=this._register(new iO(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new pg(this._context,this._viewHelper,this._mouseTargetFactory,(G,q,U)=>this._dispatchMouse(G,q,U))),this._mouseState=new LK,this._currentSelection=new v0(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(J){this._lastMouseEvent=J,this._mouseState.setModifiers(J);let $=this._findMousePosition(J,!1);if(!$)return;if(this._mouseState.isDragAndDrop)this._viewController.emitMouseDrag({event:J,target:$});else if($.type===13&&($.outsidePosition==="above"||$.outsidePosition==="below"))this._topBottomDragScrolling.start($,J);else this._topBottomDragScrolling.stop(),this._dispatchMouse($,!0,1)}start(J,$,Q){this._lastMouseEvent=$,this._mouseState.setStartedOnLineNumbers(J===3),this._mouseState.setStartButtons($),this._mouseState.setModifiers($);let X=this._findMousePosition($,!0);if(!X||!X.position)return;this._mouseState.trySetCount($.detail,X.position),$.detail=this._mouseState.count;let Y=this._context.configuration.options;if(!Y.get(90)&&Y.get(35)&&!Y.get(22)&&!this._mouseState.altKey&&$.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&X.type===6&&X.position&&this._currentSelection.containsPosition(X.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,Q,$.buttons,(Z)=>this._onMouseDownThenMove(Z),(Z)=>{let G=this._findMousePosition(this._lastMouseEvent,!1);if(Gq(Z))this._viewController.emitMouseDropCanceled();else this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:G?this._createMouseTarget(this._lastMouseEvent,!0):null});this._stop()});return}if(this._mouseState.isDragAndDrop=!1,this._dispatchMouse(X,$.shiftKey,1),!this._isActive)this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,Q,$.buttons,(Z)=>this._onMouseDownThenMove(Z),()=>this._stop())}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(J){this._currentSelection=J.selections[0]}_getPositionOutsideEditor(J){let $=J.editorPos,Q=this._context.viewModel,X=this._context.viewLayout,Y=this._getMouseColumn(J);if(J.posy<$.y){let G=$.y-J.posy,q=Math.max(X.getCurrentScrollTop()-G,0),U=w2.getZoneAtCoord(this._context,q);if(U){let H=this._helpPositionJumpOverViewZone(U);if(H)return Y8.createOutsideEditor(Y,H,"above",G)}let z=X.getLineNumberAtVerticalOffset(q);return Y8.createOutsideEditor(Y,new v(z,1),"above",G)}if(J.posy>$.y+$.height){let G=J.posy-$.y-$.height,q=X.getCurrentScrollTop()+J.relativePos.y,U=w2.getZoneAtCoord(this._context,q);if(U){let H=this._helpPositionJumpOverViewZone(U);if(H)return Y8.createOutsideEditor(Y,H,"below",G)}let z=X.getLineNumberAtVerticalOffset(q);return Y8.createOutsideEditor(Y,new v(z,Q.getLineMaxColumn(z)),"below",G)}let Z=X.getLineNumberAtVerticalOffset(X.getCurrentScrollTop()+J.relativePos.y);if(J.posx<$.x){let G=$.x-J.posx;return Y8.createOutsideEditor(Y,new v(Z,1),"left",G)}if(J.posx>$.x+$.width){let G=J.posx-$.x-$.width;return Y8.createOutsideEditor(Y,new v(Z,Q.getLineMaxColumn(Z)),"right",G)}return null}_findMousePosition(J,$){let Q=this._getPositionOutsideEditor(J);if(Q)return Q;let X=this._createMouseTarget(J,$);if(!X.position)return null;if(X.type===8||X.type===5){let Z=this._helpPositionJumpOverViewZone(X.detail);if(Z)return Y8.createViewZone(X.type,X.element,X.mouseColumn,Z,X.detail)}return X}_helpPositionJumpOverViewZone(J){let $=new v(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),Q=J.positionBefore,X=J.positionAfter;if(Q&&X)if(Q.isBefore($))return Q;else return X;return null}_dispatchMouse(J,$,Q){if(!J.position)return;this._viewController.dispatchMouse({position:J.position,mouseColumn:J.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:Q,inSelectionMode:$,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:J.type===6&&J.detail.injectedText!==null})}};pg=class pg extends h{constructor(J,$,Q,X){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=Q,this._dispatchMouse=X,this._operation=null}dispose(){super.dispose(),this.stop()}start(J,$){if(this._operation)this._operation.setPosition(J,$);else this._operation=new mg(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,J,$)}stop(){if(this._operation)this._operation.dispose(),this._operation=null}};mg=class mg extends h{constructor(J,$,Q,X,Y,Z){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=Q,this._dispatchMouse=X,this._position=Y,this._mouseEvent=Z,this._lastTime=Date.now(),this._animationFrameDisposable=A5(B0(Z.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(J,$){this._position=J,this._mouseEvent=$}_tick(){let J=Date.now(),$=J-this._lastTime;return this._lastTime=J,$}_getScrollSpeed(){let J=this._context.configuration.options.get(66),$=this._context.configuration.options.get(143).height/J,Q=this._position.outsideDistance/J;if(Q<=1.5)return Math.max(30,$*(1+Q));if(Q<=3)return Math.max(60,$*(2+Q));return Math.max(200,$*(7+Q))}_execute(){let J=this._context.configuration.options.get(66),$=this._getScrollSpeed(),Q=this._tick(),X=$*(Q/1000)*J,Y=this._position.outsidePosition==="above"?-X:X;this._context.viewModel.viewLayout.deltaScrollNow(0,Y),this._viewHelper.renderNow();let Z=this._context.viewLayout.getLinesViewportData(),G=this._position.outsidePosition==="above"?Z.startLineNumber:Z.endLineNumber,q;{let U=DK(this._viewHelper.viewDomNode),z=this._context.configuration.options.get(143).horizontalScrollbarHeight,H=new M2(this._mouseEvent.pos.x,U.y+U.height-z-0.1),j=RK(this._viewHelper.viewDomNode,U,H);q=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),U,H,j,null)}if(!q.position||q.position.lineNumber!==G)if(this._position.outsidePosition==="above")q=Y8.createOutsideEditor(this._position.mouseColumn,new v(G,1),"above",this._position.outsideDistance);else q=Y8.createOutsideEditor(this._position.mouseColumn,new v(G,this._context.viewModel.getLineMaxColumn(G)),"below",this._position.outsideDistance);this._dispatchMouse(q,!0,2),this._animationFrameDisposable=A5(B0(q.element),()=>this._execute())}};LK.CLEAR_MOUSE_DOWN_COUNT_TIME=400});class G1{get event(){return this.emitter.event}constructor(J,$,Q){let X=(Y)=>this.emitter.fire(Y);this.emitter=new y({onWillAddFirstListener:()=>J.addEventListener($,X,Q),onDidRemoveLastListener:()=>J.removeEventListener($,X,Q)})}dispose(){this.emitter.dispose()}}var NJ=N(()=>{F0()});class M5{constructor(J,$,Q,X,Y){this.value=J,this.selectionStart=$,this.selectionEnd=Q,this.selection=X,this.newlineCountBeforeSelection=Y}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(J,$){let Q=J.getValue(),X=J.getSelectionStart(),Y=J.getSelectionEnd(),Z=void 0;if($){let G=Q.substring(0,X),q=$.value.substring(0,$.selectionStart);if(G===q)Z=$.newlineCountBeforeSelection}return new M5(Q,X,Y,null,Z)}collapseSelection(){if(this.selectionStart===this.value.length)return this;return new M5(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(J,$,Q){if(d7)console.log(`writeToTextArea ${J}: ${this.toString()}`);if($.setValue(J,this.value),Q)$.setSelectionRange(J,this.selectionStart,this.selectionEnd)}deduceEditorPosition(J){var $,Q,X,Y,Z,G,q,U;if(J<=this.selectionStart){let j=this.value.substring(J,this.selectionStart);return this._finishDeduceEditorPosition((Q=($=this.selection)===null||$===void 0?void 0:$.getStartPosition())!==null&&Q!==void 0?Q:null,j,-1)}if(J>=this.selectionEnd){let j=this.value.substring(this.selectionEnd,J);return this._finishDeduceEditorPosition((Y=(X=this.selection)===null||X===void 0?void 0:X.getEndPosition())!==null&&Y!==void 0?Y:null,j,1)}let z=this.value.substring(this.selectionStart,J);if(z.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((G=(Z=this.selection)===null||Z===void 0?void 0:Z.getStartPosition())!==null&&G!==void 0?G:null,z,1);let H=this.value.substring(J,this.selectionEnd);return this._finishDeduceEditorPosition((U=(q=this.selection)===null||q===void 0?void 0:q.getEndPosition())!==null&&U!==void 0?U:null,H,-1)}_finishDeduceEditorPosition(J,$,Q){let X=0,Y=-1;while((Y=$.indexOf(`
`,Y+1))!==-1)X++;return[J,Q*$.length,X]}static deduceInput(J,$,Q){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(d7)console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);let X=Math.min(vZ(J.value,$.value),J.selectionStart,$.selectionStart),Y=Math.min(Qz(J.value,$.value),J.value.length-J.selectionEnd,$.value.length-$.selectionEnd),Z=J.value.substring(X,J.value.length-Y),G=$.value.substring(X,$.value.length-Y),q=J.selectionStart-X,U=J.selectionEnd-X,z=$.selectionStart-X,H=$.selectionEnd-X;if(d7)console.log(`AFTER DIFFING PREVIOUS STATE: <${Z}>, selectionStart: ${q}, selectionEnd: ${U}`),console.log(`AFTER DIFFING CURRENT STATE: <${G}>, selectionStart: ${z}, selectionEnd: ${H}`);if(z===H){let V=J.selectionStart-X;if(d7)console.log(`REMOVE PREVIOUS: ${V} chars`);return{text:G,replacePrevCharCnt:V,replaceNextCharCnt:0,positionDelta:0}}let j=U-q;return{text:G,replacePrevCharCnt:j,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(J,$){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(d7)console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);if(J.value===$.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:$.selectionEnd-J.selectionEnd};let Q=Math.min(vZ(J.value,$.value),J.selectionEnd),X=Math.min(Qz(J.value,$.value),J.value.length-J.selectionEnd),Y=J.value.substring(Q,J.value.length-X),Z=$.value.substring(Q,$.value.length-X),G=J.selectionStart-Q,q=J.selectionEnd-Q,U=$.selectionStart-Q,z=$.selectionEnd-Q;if(d7)console.log(`AFTER DIFFING PREVIOUS STATE: <${Y}>, selectionStart: ${G}, selectionEnd: ${q}`),console.log(`AFTER DIFFING CURRENT STATE: <${Z}>, selectionStart: ${U}, selectionEnd: ${z}`);return{text:Z,replacePrevCharCnt:q,replaceNextCharCnt:Y.length-q,positionDelta:z-Z.length}}}class L2{static _getPageOfLine(J,$){return Math.floor((J-1)/$)}static _getRangeForPage(J,$){let Q=J*$,X=Q+1,Y=Q+$;return new L(X,1,Y+1,1)}static fromEditorSelection(J,$,Q,X){let Z=L2._getPageOfLine($.startLineNumber,Q),G=L2._getRangeForPage(Z,Q),q=L2._getPageOfLine($.endLineNumber,Q),U=L2._getRangeForPage(q,Q),z=G.intersectRanges(new L(1,1,$.startLineNumber,$.startColumn));if(X&&J.getValueLengthInRange(z,1)>500){let P=J.modifyPosition(z.getEndPosition(),-500);z=L.fromPositions(P,z.getEndPosition())}let H=J.getValueInRange(z,1),j=J.getLineCount(),V=J.getLineMaxColumn(j),W=U.intersectRanges(new L($.endLineNumber,$.endColumn,j,V));if(X&&J.getValueLengthInRange(W,1)>500){let P=J.modifyPosition(W.getStartPosition(),500);W=L.fromPositions(W.getStartPosition(),P)}let B=J.getValueInRange(W,1),K;if(Z===q||Z+1===q)K=J.getValueInRange($,1);else{let P=G.intersectRanges($),A=U.intersectRanges($);K=J.getValueInRange(P,1)+String.fromCharCode(8230)+J.getValueInRange(A,1)}if(X&&K.length>1000)K=K.substring(0,500)+String.fromCharCode(8230)+K.substring(K.length-500,K.length);return new M5(H+K+B,H.length,H.length+K.length,$,z.endLineNumber-z.startLineNumber)}}var d7=!1;var KN=N(()=>{t0();l0();M5.EMPTY=new M5("",0,0,null,void 0)});class DH{constructor(){this._lastState=null}set(J,$){this._lastState={lastCopiedValue:J,data:$}}get(J){if(this._lastState&&this._lastState.lastCopiedValue===J)return this._lastState.data;return this._lastState=null,null}}class sg{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(J){J=J||"";let $={text:J,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=J.length,$}}var G80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},cg=function(J,$){return function(Q,X){$(Q,X,J)}},PH,dg,kK,lg,AN;var PN=N(()=>{B7();D0();NJ();R8();fO();u1();F0();Q0();bz();t0();KN();E5();BJ();G9();(function(J){J.Tap="-monaco-textarea-synthetic-tap"})(PH||(PH={}));dg={forceCopyWithSyntaxHighlighting:!1};DH.INSTANCE=new DH;kK=class J extends h{get textAreaState(){return this._textAreaState}constructor($,Q,X,Y,Z,G){super();if(this._host=$,this._textArea=Q,this._OS=X,this._browser=Y,this._accessibilityService=Z,this._logService=G,this._onFocus=this._register(new y),this.onFocus=this._onFocus.event,this._onBlur=this._register(new y),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new y),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new y),this.onCut=this._onCut.event,this._onPaste=this._register(new y),this.onPaste=this._onPaste.event,this._onType=this._register(new y),this.onType=this._onType.event,this._onCompositionStart=this._register(new y),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new y),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new y),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new y),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new f5),this._asyncTriggerCut=this._register(new t1(()=>this._onCut.fire(),0)),this._textAreaState=M5.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized())this.writeNativeTextAreaContent("ctor");this._register(J0.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{if(this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=this._register(new t1(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0));else this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let q=null;this._register(this._textArea.onKeyDown((U)=>{let z=new K1(U);if(z.keyCode===114||this._currentComposition&&z.keyCode===1)z.stopPropagation();if(z.equals(9))z.preventDefault();q=z,this._onKeyDown.fire(z)})),this._register(this._textArea.onKeyUp((U)=>{let z=new K1(U);this._onKeyUp.fire(z)})),this._register(this._textArea.onCompositionStart((U)=>{if(d7)console.log("[compositionstart]",U);let z=new sg;if(this._currentComposition){this._currentComposition=z;return}if(this._currentComposition=z,this._OS===2&&q&&q.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===U.data&&(q.code==="ArrowRight"||q.code==="ArrowLeft")){if(d7)console.log("[compositionstart] Handling long press case on macOS + arrow key",U);z.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:U.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:U.data});return}this._onCompositionStart.fire({data:U.data})})),this._register(this._textArea.onCompositionUpdate((U)=>{if(d7)console.log("[compositionupdate]",U);let z=this._currentComposition;if(!z)return;if(this._browser.isAndroid){let j=M5.readFromTextArea(this._textArea,this._textAreaState),V=M5.deduceAndroidCompositionInput(this._textAreaState,j);this._textAreaState=j,this._onType.fire(V),this._onCompositionUpdate.fire(U);return}let H=z.handleCompositionUpdate(U.data);this._textAreaState=M5.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(H),this._onCompositionUpdate.fire(U)})),this._register(this._textArea.onCompositionEnd((U)=>{if(d7)console.log("[compositionend]",U);let z=this._currentComposition;if(!z)return;if(this._currentComposition=null,this._browser.isAndroid){let j=M5.readFromTextArea(this._textArea,this._textAreaState),V=M5.deduceAndroidCompositionInput(this._textAreaState,j);this._textAreaState=j,this._onType.fire(V),this._onCompositionEnd.fire();return}let H=z.handleCompositionUpdate(U.data);this._textAreaState=M5.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(H),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput((U)=>{if(d7)console.log("[input]",U);if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let z=M5.readFromTextArea(this._textArea,this._textAreaState),H=M5.deduceInput(this._textAreaState,z,this._OS===2);if(H.replacePrevCharCnt===0&&H.text.length===1){if(G6(H.text.charCodeAt(0))||H.text.charCodeAt(0)===127)return}if(this._textAreaState=z,H.text!==""||H.replacePrevCharCnt!==0||H.replaceNextCharCnt!==0||H.positionDelta!==0)this._onType.fire(H)})),this._register(this._textArea.onCut((U)=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(U),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy((U)=>{this._ensureClipboardGetsEditorSelection(U)})),this._register(this._textArea.onPaste((U)=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),U.preventDefault(),!U.clipboardData)return;let[z,H]=lg.getTextData(U.clipboardData);if(!z)return;H=H||DH.INSTANCE.get(z),this._onPaste.fire({text:z,metadata:H})})),this._register(this._textArea.onFocus(()=>{let U=this._hasFocus;if(this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!U&&this._hasFocus){if(!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=new t1(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0);this._asyncFocusGainWriteScreenReaderContent.value.schedule()}})),this._register(this._textArea.onBlur(()=>{if(this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire();this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{if(this._browser.isAndroid&&this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire()}))}_installSelectionChangeListener(){let $=0;return m(this._textArea.ownerDocument,"selectionchange",(Q)=>{if(A$.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;let X=Date.now(),Y=X-$;if($=X,Y<5)return;let Z=X-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Z<100)return;if(!this._textAreaState.selection)return;let G=this._textArea.getValue();if(this._textAreaState.value!==G)return;let q=this._textArea.getSelectionStart(),U=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===q&&this._textAreaState.selectionEnd===U)return;let z=this._textAreaState.deduceEditorPosition(q),H=this._host.deduceModelPosition(z[0],z[1],z[2]),j=this._textAreaState.deduceEditorPosition(U),V=this._host.deduceModelPosition(j[0],j[1],j[2]),W=new v0(H.lineNumber,H.column,V.lineNumber,V.column);this._onSelectionChangeRequest.fire(W)})}dispose(){if(super.dispose(),this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus($){if(this._hasFocus===$)return;if(this._hasFocus=$,this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null;if(this._hasFocus)this._selectionChangeListener=this._installSelectionChangeListener();if(this._hasFocus)this.writeNativeTextAreaContent("focusgain");if(this._hasFocus)this._onFocus.fire();else this._onBlur.fire()}_setAndWriteTextAreaState($,Q){if(!this._hasFocus)Q=Q.collapseSelection();Q.writeToTextArea($,this._textArea,this._hasFocus),this._textAreaState=Q}writeNativeTextAreaContent($){if(!this._accessibilityService.isScreenReaderOptimized()&&$==="render"||this._currentComposition)return;this._logService.trace(`writeTextAreaState(reason: ${$})`),this._setAndWriteTextAreaState($,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection($){let Q=this._host.getDataToCopy(),X={version:1,isFromEmptySelection:Q.isFromEmptySelection,multicursorText:Q.multicursorText,mode:Q.mode};if(DH.INSTANCE.set(this._browser.isFirefox?Q.text.replace(/\r\n/g,`
`):Q.text,X),$.preventDefault(),$.clipboardData)lg.setTextData($.clipboardData,Q.text,Q.html,X)}};kK=G80([cg(4,_8),cg(5,Q5)],kK);lg={getTextData(J){let $=J.getData(f9.text),Q=null,X=J.getData("vscode-editor-data");if(typeof X==="string")try{if(Q=JSON.parse(X),Q.version!==1)Q=null}catch(Y){}if($.length===0&&Q===null&&J.files.length>0)return[Array.prototype.slice.call(J.files,0).map((Z)=>Z.name).join(`
`),null];return[$,Q]},setTextData(J,$,Q,X){if(J.setData(f9.text,$),typeof Q==="string")J.setData("text/html",Q);J.setData("vscode-editor-data",JSON.stringify(X))}};AN=class AN extends h{get ownerDocument(){return this._actual.ownerDocument}constructor(J){super();this._actual=J,this.onKeyDown=this._register(new G1(this._actual,"keydown")).event,this.onKeyUp=this._register(new G1(this._actual,"keyup")).event,this.onCompositionStart=this._register(new G1(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new G1(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new G1(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new G1(this._actual,"beforeinput")).event,this.onInput=this._register(new G1(this._actual,"input")).event,this.onCut=this._register(new G1(this._actual,"cut")).event,this.onCopy=this._register(new G1(this._actual,"copy")).event,this.onPaste=this._register(new G1(this._actual,"paste")).event,this.onFocus=this._register(new G1(this._actual,"focus")).event,this.onBlur=this._register(new G1(this._actual,"blur")).event,this._onSyntheticTap=this._register(new y),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>A$.onKeyDown())),this._register(this.onBeforeInput(()=>A$.onBeforeInput())),this._register(this.onInput(()=>A$.onInput())),this._register(this.onKeyUp(()=>A$.onKeyUp())),this._register(m(this._actual,PH.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){let J=EQ(this._actual);if(J)return J.activeElement===this._actual;else if(this._actual.isConnected)return e6()===this._actual;else return!1}setIgnoreSelectionChangeTime(J){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(J,$){let Q=this._actual;if(Q.value===$)return;this.setIgnoreSelectionChangeTime("setValue"),Q.value=$}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(J,$,Q){let X=this._actual,Y=null,Z=EQ(X);if(Z)Y=Z.activeElement;else Y=e6();let G=B0(Y),q=Y===X,U=X.selectionStart,z=X.selectionEnd;if(q&&U===$&&z===Q){if(g5&&G.parent!==G)X.focus();return}if(q){if(this.setIgnoreSelectionChangeTime("setSelectionRange"),X.setSelectionRange($,Q),g5&&G.parent!==G)X.focus();return}try{let H=WC(X);this.setIgnoreSelectionChangeTime("setSelectionRange"),X.focus(),X.setSelectionRange($,Q),BC(X,H)}catch(H){}}}});var ag,rg,DN;var ig=N(()=>{YF();D0();d9();J8();Q0();M1();ug();PN();MK();ag=class ag extends AH{constructor(J,$,Q){super(J,$,Q);this._register(T1.addTarget(this.viewHelper.linesContentDomNode)),this._register(m(this.viewHelper.linesContentDomNode,E1.Tap,(Y)=>this.onTap(Y))),this._register(m(this.viewHelper.linesContentDomNode,E1.Change,(Y)=>this.onChange(Y))),this._register(m(this.viewHelper.linesContentDomNode,E1.Contextmenu,(Y)=>this._onContextMenu(new MJ(Y,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(m(this.viewHelper.linesContentDomNode,"pointerdown",(Y)=>{let Z=Y.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else if(Z==="touch")this._lastPointerType="touch";else this._lastPointerType="pen"}));let X=new rO(this.viewHelper.viewDomNode);this._register(X.onPointerMove(this.viewHelper.viewDomNode,(Y)=>this._onMouseMove(Y))),this._register(X.onPointerUp(this.viewHelper.viewDomNode,(Y)=>this._onMouseUp(Y))),this._register(X.onPointerLeave(this.viewHelper.viewDomNode,(Y)=>this._onMouseLeave(Y))),this._register(X.onPointerDown(this.viewHelper.viewDomNode,(Y,Z)=>this._onMouseDown(Y,Z)))}onTap(J){if(!J.initialTarget||!this.viewHelper.linesContentDomNode.contains(J.initialTarget))return;J.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(J,!1)}onChange(J){if(this._lastPointerType==="touch")this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY);if(this._lastPointerType==="pen")this._dispatchGesture(J,!0)}_dispatchGesture(J,$){let Q=this._createMouseTarget(new MJ(J,!1,this.viewHelper.viewDomNode),!1);if(Q.position)this.viewController.dispatchMouse({position:Q.position,mouseColumn:Q.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:J.tapCount,inSelectionMode:$,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:Q.type===6&&Q.detail.injectedText!==null})}_onMouseDown(J,$){if(J.browserEvent.pointerType==="touch")return;super._onMouseDown(J,$)}};rg=class rg extends AH{constructor(J,$,Q){super(J,$,Q);this._register(T1.addTarget(this.viewHelper.linesContentDomNode)),this._register(m(this.viewHelper.linesContentDomNode,E1.Tap,(X)=>this.onTap(X))),this._register(m(this.viewHelper.linesContentDomNode,E1.Change,(X)=>this.onChange(X))),this._register(m(this.viewHelper.linesContentDomNode,E1.Contextmenu,(X)=>this._onContextMenu(new MJ(X,!1,this.viewHelper.viewDomNode),!1)))}onTap(J){J.preventDefault(),this.viewHelper.focusTextArea();let $=this._createMouseTarget(new MJ(J,!1,this.viewHelper.viewDomNode),!1);if($.position){let Q=document.createEvent("CustomEvent");Q.initEvent(PH.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(Q),this.viewController.moveTo($.position,1)}}onChange(J){this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY)}};DN=class DN extends h{constructor(J,$,Q){super();if((O9||ex&&TW)&&Jq.pointerEvents)this.handler=this._register(new ag(J,$,Q));else if(z1.TouchEvent)this.handler=this._register(new rg(J,$,Q));else this.handler=this._register(new AH(J,$,Q))}getTargetAtClientPoint(J,$){return this.handler.getTargetAtClientPoint(J,$)}}});var ng=N(()=>{j0(".monaco-editor .inputarea{resize:none;color:#0000;z-index:-10;background-color:#0000;border:none;min-width:0;min-height:0;margin:0;padding:0;position:absolute;overflow:hidden;outline:none!important}.monaco-editor .inputarea.ime-input{z-index:10;caret-color:var(--vscode-editorCursor-foreground);color:var(--vscode-editor-foreground)}")});var og=N(()=>{j0(".monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;text-align:right;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%;display:inline-block;position:absolute}.monaco-editor .relative-current-line-number{text-align:left;width:100%;display:inline-block}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor .line-numbers{color:var(--vscode-editorLineNumber-foreground)}.monaco-editor .line-numbers.active-line-number{color:var(--vscode-editorLineNumber-activeForeground)}")});var s7;var FY=N(()=>{mq();s7=class s7 extends _J{}});function tQ(J){return{id:J}}function RH(J){switch(J){case c7.DARK:return"vs-dark";case c7.HIGH_CONTRAST_DARK:return"hc-black";case c7.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}class tg{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new y}onColorThemeChange(J){return this.themingParticipants.push(J),this.onThemingParticipantAddedEmitter.fire(J),K0(()=>{let $=this.themingParticipants.indexOf(J);this.themingParticipants.splice($,1)})}getThemingParticipants(){return this.themingParticipants}}function m8(J){return eg.onColorThemeChange(J)}var d6,RN,eg,MN;var s6=N(()=>{F0();Q0();u0();$7();aQ();d6=M0("themeService");RN={ThemingContribution:"base.contributions.theming"};eg=new tg;r1.add(RN.ThemingContribution,eg);MN=class MN extends h{constructor(J){super();this.themeService=J,this.theme=J.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(($)=>this.onThemeChange($)))}onThemeChange(J){this.theme=J,this.updateStyles()}updateStyles(){}}});var _N,ON,DK0,RK0,MK0,_K0,bK,Jp,k$,$p,EK,IK,k2,Qp,Xp,Yp,Zp,Gp,E2,qp,Up,zp,Hp,jp,yK,OK0,Vp,NK0,TK0,wK0,LK0,Wp,Bp,kK0,EK0,Fp,IK0,yK0,xK0,xK,bK0,Kp,Ap,Pp,SK,CK,vK,hK,fK,gK,Dp,Rp,Mp,_p,Op,Np,Tp,wp,Lp,kp,Ep,Ip,yp,SK0,CK0;var TJ=N(()=>{g0();g7();N8();s6();_N=E("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("lineHighlight","Background color for the highlight of line at the cursor position.")),ON=E("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:O1},F("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),DK0=E("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},F("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),RK0=E("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:H6,hcLight:H6},F("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),MK0=E("editor.symbolHighlightBackground",{dark:lQ,light:lQ,hcDark:null,hcLight:null},F("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),_K0=E("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:H6,hcLight:H6},F("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),bK=E("editorCursor.foreground",{dark:"#AEAFAD",light:l.black,hcDark:l.white,hcLight:"#0F4A85"},F("caret","Color of the editor cursor.")),Jp=E("editorCursor.background",null,F("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),k$=E("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},F("editorWhitespaces","Color of whitespace characters in the editor.")),$p=E("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:l.white,hcLight:"#292929"},F("editorLineNumbers","Color of editor line numbers.")),EK=E("editorIndentGuide.background",{dark:k$,light:k$,hcDark:k$,hcLight:k$},F("editorIndentGuides","Color of the editor indentation guides."),!1,F("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),IK=E("editorIndentGuide.activeBackground",{dark:k$,light:k$,hcDark:k$,hcLight:k$},F("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,F("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),k2=E("editorIndentGuide.background1",{dark:EK,light:EK,hcDark:EK,hcLight:EK},F("editorIndentGuides1","Color of the editor indentation guides (1).")),Qp=E("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides2","Color of the editor indentation guides (2).")),Xp=E("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides3","Color of the editor indentation guides (3).")),Yp=E("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides4","Color of the editor indentation guides (4).")),Zp=E("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides5","Color of the editor indentation guides (5).")),Gp=E("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides6","Color of the editor indentation guides (6).")),E2=E("editorIndentGuide.activeBackground1",{dark:IK,light:IK,hcDark:IK,hcLight:IK},F("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),qp=E("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),Up=E("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),zp=E("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),Hp=E("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),jp=E("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),yK=E("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:H6,hcLight:H6},F("editorActiveLineNumber","Color of editor active line number"),!1,F("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),OK0=E("editorLineNumber.activeForeground",{dark:yK,light:yK,hcDark:yK,hcLight:yK},F("editorActiveLineNumber","Color of editor active line number")),Vp=E("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),NK0=E("editorRuler.foreground",{dark:"#5A5A5A",light:l.lightgrey,hcDark:l.white,hcLight:"#292929"},F("editorRuler","Color of the editor rulers.")),TK0=E("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},F("editorCodeLensForeground","Foreground color of editor CodeLens")),wK0=E("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},F("editorBracketMatchBackground","Background color behind matching brackets")),LK0=E("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:O1,hcLight:O1},F("editorBracketMatchBorder","Color for matching brackets boxes")),Wp=E("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},F("editorOverviewRulerBorder","Color of the overview ruler border.")),Bp=E("editorOverviewRuler.background",null,F("editorOverviewRulerBackground","Background color of the editor overview ruler.")),kK0=E("editorGutter.background",{dark:c5,light:c5,hcDark:c5,hcLight:c5},F("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),EK0=E("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:l.fromHex("#fff").transparent(0.8),hcLight:O1},F("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Fp=E("editorUnnecessaryCode.opacity",{dark:l.fromHex("#000a"),light:l.fromHex("#0007"),hcDark:null,hcLight:null},F("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),IK0=E("editorGhostText.border",{dark:null,light:null,hcDark:l.fromHex("#fff").transparent(0.8),hcLight:l.fromHex("#292929").transparent(0.8)},F("editorGhostTextBorder","Border color of ghost text in the editor.")),yK0=E("editorGhostText.foreground",{dark:l.fromHex("#ffffff56"),light:l.fromHex("#0007"),hcDark:null,hcLight:null},F("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),xK0=E("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorGhostTextBackground","Background color of the ghost text in the editor.")),xK=new l(new _1(0,122,204,0.6)),bK0=E("editorOverviewRuler.rangeHighlightForeground",{dark:xK,light:xK,hcDark:xK,hcLight:xK},F("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Kp=E("editorOverviewRuler.errorForeground",{dark:new l(new _1(255,18,18,0.7)),light:new l(new _1(255,18,18,0.7)),hcDark:new l(new _1(255,50,50,1)),hcLight:"#B5200D"},F("overviewRuleError","Overview ruler marker color for errors.")),Ap=E("editorOverviewRuler.warningForeground",{dark:O8,light:O8,hcDark:HH,hcLight:HH},F("overviewRuleWarning","Overview ruler marker color for warnings.")),Pp=E("editorOverviewRuler.infoForeground",{dark:u7,light:u7,hcDark:jH,hcLight:jH},F("overviewRuleInfo","Overview ruler marker color for infos.")),SK=E("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},F("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),CK=E("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},F("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),vK=E("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},F("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),hK=E("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),fK=E("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),gK=E("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Dp=E("editorBracketHighlight.unexpectedBracket.foreground",{dark:new l(new _1(255,18,18,0.8)),light:new l(new _1(255,18,18,0.8)),hcDark:new l(new _1(255,50,50,1)),hcLight:""},F("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Rp=E("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Mp=E("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),_p=E("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Op=E("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Np=E("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Tp=E("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),wp=E("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Lp=E("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),kp=E("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ep=E("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ip=E("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),yp=E("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),SK0=E("editorUnicodeHighlight.border",{dark:O8,light:O8,hcDark:O8,hcLight:O8},F("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),CK0=E("editorUnicodeHighlight.background",{dark:VH,light:VH,hcDark:VH,hcLight:VH},F("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));m8((J,$)=>{let Q=J.getColor(c5),X=J.getColor(_N),Y=X&&!X.isTransparent()?X:Q;if(Y)$.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Y}; }`)})});var I2;var NN=N(()=>{og();M1();FY();l0();s6();TJ();I2=class I2 extends s7{constructor(J){super();this._context=J,this._readConfig(),this._lastCursorModelPosition=new v(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){let J=this._context.configuration.options;this._lineHeight=J.get(66);let $=J.get(67);this._renderLineNumbers=$.renderType,this._renderCustomLineNumbers=$.renderFn,this._renderFinalNewline=J.get(94);let Q=J.get(143);this._lineNumbersLeft=Q.lineNumbersLeft,this._lineNumbersWidth=Q.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return this._readConfig(),!0}onCursorStateChanged(J){let $=J.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition($);let Q=!1;if(this._activeLineNumber!==$.lineNumber)this._activeLineNumber=$.lineNumber,Q=!0;if(this._renderLineNumbers===2||this._renderLineNumbers===3)Q=!0;return Q}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onDecorationsChanged(J){return J.affectsLineNumber}_getLineRenderLineNumber(J){let $=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(J,1));if($.column!==1)return"";let Q=$.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(Q);if(this._renderLineNumbers===2){let X=Math.abs(this._lastCursorModelPosition.lineNumber-Q);if(X===0)return'<span class="relative-current-line-number">'+Q+"</span>";return String(X)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===Q)return String(Q);if(Q%10===0)return String(Q);return""}return String(Q)}prepareRender(J){if(this._renderLineNumbers===0){this._renderResult=null;return}let $=V6?this._lineHeight%2===0?" lh-even":" lh-odd":"",Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Y=this._context.viewModel.getDecorationsInViewport(J.visibleRange).filter((U)=>!!U.options.lineNumberClassName);Y.sort((U,z)=>L.compareRangesUsingEnds(U.range,z.range));let Z=0,G=this._context.viewModel.getLineCount(),q=[];for(let U=Q;U<=X;U++){let z=U-Q,H=this._getLineRenderLineNumber(U),j="";while(Z<Y.length&&Y[Z].range.endLineNumber<U)Z++;for(let V=Z;V<Y.length;V++){let{range:W,options:B}=Y[V];if(W.startLineNumber<=U)j+=" "+B.lineNumberClassName}if(!H&&!j){q[z]="";continue}if(U===G&&this._context.viewModel.getLineLength(U)===0){if(this._renderFinalNewline==="off")H="";if(this._renderFinalNewline==="dimmed")j+=" dimmed-line-number"}if(U===this._activeLineNumber)j+=" active-line-number";q[z]=`<div class="${I2.CLASS_NAME}${$}${j}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${H}</div>`}this._renderResult=q}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};I2.CLASS_NAME="line-numbers";m8((J,$)=>{let Q=J.getColor($p),X=J.getColor(Vp);if(X)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${X}; }`);else if(Q)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${Q.transparent(0.4)}; }`)})});var xp=N(()=>{j0(".monaco-editor .margin{background-color:var(--vscode-editorGutter-background)}")});var eQ;var TN=N(()=>{xp();g8();eQ=class eQ extends B6{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._canUseLayerHinting=!$.get(32),this._contentLeft=Q.contentLeft,this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._domNode=e0(document.createElement("div")),this._domNode.setClassName(eQ.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=e0(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(eQ.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._canUseLayerHinting=!$.get(32),this._contentLeft=Q.contentLeft,this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollTopChanged}prepareRender(J){}render(J){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");let $=J.scrollTop-J.bigNumbersDelta;this._domNode.setTop(-$);let Q=Math.min(J.scrollHeight,1e6);this._domNode.setHeight(Q),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(Q)}};eQ.CLASS_NAME="glyph-margin";eQ.OUTER_CLASS_NAME="margin"});var bp=N(()=>{j0(".monaco-mouse-cursor-text{cursor:text}")});var JX="monaco-mouse-cursor-text";var pK=N(()=>{bp()});class Sp{constructor(){this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}var KY;var wN=N(()=>{F0();KY=new Sp});var u6;var x4=N(()=>{u0();u6=M0("keybindingService")});class vp{constructor(J,$,Q,X,Y){this._context=J,this.modelLineNumber=$,this.distanceToModelLineStart=Q,this.widthOfHiddenLineTextBefore=X,this.distanceToModelLineEnd=Y,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(J){let $=new v(this.modelLineNumber,this.distanceToModelLineStart+1),Q=new v(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);if(this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q),this.startPosition.lineNumber===this.endPosition.lineNumber)this.visibleTextareaStart=J.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=J.visibleRangeForPosition(this.endPosition);else this.visibleTextareaStart=null,this.visibleTextareaEnd=null}definePresentation(J){if(!this._previousPresentation)if(J)this._previousPresentation=J;else this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};return this._previousPresentation}}function U80(J,$,Q,X){if($.length===0)return 0;let Y=J.createElement("div");Y.style.position="absolute",Y.style.top="-50000px",Y.style.width="50000px";let Z=J.createElement("span");M6(Z,Q),Z.style.whiteSpace="pre",Z.style.tabSize=`${X*Q.spaceWidth}px`,Z.append($),Y.appendChild(Z),J.body.appendChild(Y);let G=Z.offsetWidth;return J.body.removeChild(Y),G}var q80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Cp=function(J,$){return function(Q,X){$(Q,X,J)}},LN,mK;var hp=N(()=>{ng();g0();B7();M1();t0();W4();PN();KN();g8();NN();TN();t5();gz();l0();E5();pK();P8();g7();wN();x4();u0();LN=g5,mK=class J extends B6{constructor($,Q,X,Y,Z){super($);this._keybindingService=Y,this._instantiationService=Z,this._primaryCursorPosition=new v(1,1),this._primaryCursorVisibleRange=null,this._viewController=Q,this._visibleRangeProvider=X,this._scrollLeft=0,this._scrollTop=0;let G=this._context.configuration.options,q=G.get(143);this._setAccessibilityOptions(G),this._contentLeft=q.contentLeft,this._contentWidth=q.contentWidth,this._contentHeight=q.height,this._fontInfo=G.get(50),this._lineHeight=G.get(66),this._emptySelectionClipboard=G.get(37),this._copyWithSyntaxHighlighting=G.get(25),this._visibleTextArea=null,this._selections=[new v0(1,1,1,1)],this._modelSelections=[new v0(1,1,1,1)],this._lastRenderPosition=null,this.textArea=e0(document.createElement("textarea")),X8.write(this.textArea,7),this.textArea.setClassName(`inputarea ${JX}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:U}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${U*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(G)),this.textArea.setAttribute("aria-required",G.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(G.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",F("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",G.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=e0(document.createElement("div")),this.textAreaCover.setPosition("absolute");let z={getLineCount:()=>{return this._context.viewModel.getLineCount()},getLineMaxColumn:(V)=>{return this._context.viewModel.getLineMaxColumn(V)},getValueInRange:(V,W)=>{return this._context.viewModel.getValueInRange(V,W)},getValueLengthInRange:(V,W)=>{return this._context.viewModel.getValueLengthInRange(V,W)},modifyPosition:(V,W)=>{return this._context.viewModel.modifyPosition(V,W)}},H={getDataToCopy:()=>{let V=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L6),W=this._context.viewModel.model.getEOL(),B=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),K=Array.isArray(V)?V:null,P=Array.isArray(V)?V.join(W):V,A=void 0,D=null;if(dg.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&P.length<65536){let R=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);if(R)A=R.html,D=R.mode}return{isFromEmptySelection:B,multicursorText:K,text:P,html:A,mode:D}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){let V=this._selections[0];if(r0&&V.isEmpty()){let B=V.getStartPosition(),K=this._getWordBeforePosition(B);if(K.length===0)K=this._getCharacterBeforePosition(B);if(K.length>0)return new M5(K,K.length,K.length,L.fromPositions(B),0)}let W=500;if(r0&&!V.isEmpty()&&z.getValueLengthInRange(V,0)<W){let B=z.getValueInRange(V,0);return new M5(B,0,B.length,V,0)}if(I7&&!V.isEmpty())return new M5("vscode-placeholder",0,18,null,void 0);return M5.EMPTY}if(kM){let V=this._selections[0];if(V.isEmpty()){let W=V.getStartPosition(),[B,K]=this._getAndroidWordAtPosition(W);if(B.length>0)return new M5(B,K,K,L.fromPositions(W),0)}return M5.EMPTY}return L2.fromEditorSelection(z,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(V,W,B)=>{return this._context.viewModel.deduceModelPositionRelativeToViewPosition(V,W,B)}},j=this._register(new AN(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(kK,H,j,I8,{isAndroid:kM,isChrome:Y$,isFirefox:g5,isSafari:I7})),this._register(this._textAreaInput.onKeyDown((V)=>{this._viewController.emitKeyDown(V)})),this._register(this._textAreaInput.onKeyUp((V)=>{this._viewController.emitKeyUp(V)})),this._register(this._textAreaInput.onPaste((V)=>{let W=!1,B=null,K=null;if(V.metadata)W=this._emptySelectionClipboard&&!!V.metadata.isFromEmptySelection,B=typeof V.metadata.multicursorText!=="undefined"?V.metadata.multicursorText:null,K=V.metadata.mode;this._viewController.paste(V.text,W,B,K)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType((V)=>{if(V.replacePrevCharCnt||V.replaceNextCharCnt||V.positionDelta){if(d7)console.log(` => compositionType: <<${V.text}>>, ${V.replacePrevCharCnt}, ${V.replaceNextCharCnt}, ${V.positionDelta}`);this._viewController.compositionType(V.text,V.replacePrevCharCnt,V.replaceNextCharCnt,V.positionDelta)}else{if(d7)console.log(` => type: <<${V.text}>>`);this._viewController.type(V.text)}})),this._register(this._textAreaInput.onSelectionChangeRequest((V)=>{this._viewController.setSelection(V)})),this._register(this._textAreaInput.onCompositionStart((V)=>{let W=this.textArea.domNode,B=this._modelSelections[0],{distanceToModelLineStart:K,widthOfHiddenTextBefore:P}=(()=>{let D=W.value.substring(0,Math.min(W.selectionStart,W.selectionEnd)),R=D.lastIndexOf(`
`),M=D.substring(R+1),_=M.lastIndexOf("\t"),T=M.length-_-1,w=B.getStartPosition(),b=Math.min(w.column-1,T),S=w.column-1-b,g=M.substring(0,M.length-b),{tabSize:c}=this._context.viewModel.model.getOptions(),C=U80(this.textArea.domNode.ownerDocument,g,this._fontInfo,c);return{distanceToModelLineStart:S,widthOfHiddenTextBefore:C}})(),{distanceToModelLineEnd:A}=(()=>{let D=W.value.substring(Math.max(W.selectionStart,W.selectionEnd)),R=D.indexOf(`
`),M=R===-1?D:D.substring(0,R),_=M.indexOf("\t"),T=_===-1?M.length:M.length-_-1,w=B.getEndPosition(),b=Math.min(this._context.viewModel.model.getLineMaxColumn(w.lineNumber)-w.column,T);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(w.lineNumber)-w.column-b}})();this._context.viewModel.revealRange("keyboard",!0,L.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new vp(this._context,B.startLineNumber,K,P,A),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${JX} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate((V)=>{if(!this._visibleTextArea)return;this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${JX}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(KY.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent($){this._textAreaInput.writeNativeTextAreaContent($)}dispose(){super.dispose()}_getAndroidWordAtPosition($){let X=this._context.viewModel.getLineContent($.lineNumber),Y=V$('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?'),Z=!0,G=$.column,q=!0,U=$.column,z=0;while(z<50&&(Z||q)){if(Z&&G<=1)Z=!1;if(Z){let H=X.charCodeAt(G-2);if(Y.get(H)!==0)Z=!1;else G--}if(q&&U>X.length)q=!1;if(q){let H=X.charCodeAt(U-1);if(Y.get(H)!==0)q=!1;else U++}z++}return[X.substring(G-1,U-1),$.column-G]}_getWordBeforePosition($){let Q=this._context.viewModel.getLineContent($.lineNumber),X=V$(this._context.configuration.options.get(129)),Y=$.column,Z=0;while(Y>1){let G=Q.charCodeAt(Y-2);if(X.get(G)!==0||Z>50)return Q.substring(Y-1,$.column-1);Z++,Y--}return Q.substring(0,$.column-1)}_getCharacterBeforePosition($){if($.column>1){let X=this._context.viewModel.getLineContent($.lineNumber).charAt($.column-2);if(!G6(X.charCodeAt(0)))return X}return""}_getAriaLabel($){var Q,X,Y;if($.get(2)===1){let G=(Q=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||Q===void 0?void 0:Q.getAriaLabel(),q=(X=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||X===void 0?void 0:X.getAriaLabel(),U=(Y=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||Y===void 0?void 0:Y.getAriaLabel(),z=F("accessibilityModeOff","The editor is not accessible at this time.");if(G)return F("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",z,G);else if(q)return F("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",z,q);else if(U)return F("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",z,U);else return z}return $.get(4)}_setAccessibilityOptions($){this._accessibilitySupport=$.get(2);let Q=$.get(3);if(this._accessibilitySupport===2&&Q===o4.accessibilityPageSize.defaultValue)this._accessibilityPageSize=500;else this._accessibilityPageSize=Q;let Y=$.get(143).wrappingColumn;if(Y!==-1&&this._accessibilitySupport!==1){let Z=$.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(Y*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=LN?0:1}onConfigurationChanged($){let Q=this._context.configuration.options,X=Q.get(143);this._setAccessibilityOptions(Q),this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._contentHeight=X.height,this._fontInfo=Q.get(50),this._lineHeight=Q.get(66),this._emptySelectionClipboard=Q.get(37),this._copyWithSyntaxHighlighting=Q.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:Y}=this._context.viewModel.model.getOptions();if(this.textArea.domNode.style.tabSize=`${Y*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(Q)),this.textArea.setAttribute("aria-required",Q.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Q.get(123))),$.hasChanged(34)||$.hasChanged(90))this._ensureReadOnlyAttribute();if($.hasChanged(2))this._textAreaInput.writeNativeTextAreaContent("strategy changed");return!0}onCursorStateChanged($){return this._selections=$.selections.slice(0),this._modelSelections=$.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged($){return!0}onFlushed($){return!0}onLinesChanged($){return!0}onLinesDeleted($){return!0}onLinesInserted($){return!0}onScrollChanged($){return this._scrollLeft=$.scrollLeft,this._scrollTop=$.scrollTop,!0}onZonesChanged($){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions($){if($.activeDescendant)this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",$.activeDescendant);else this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant");if($.role)this.textArea.setAttribute("role",$.role)}_ensureReadOnlyAttribute(){let $=this._context.configuration.options;if(!KY.enabled||$.get(34)&&$.get(90))this.textArea.setAttribute("readonly","true");else this.textArea.removeAttribute("readonly")}prepareRender($){var Q;this._primaryCursorPosition=new v(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=$.visibleRangeForPosition(this._primaryCursorPosition),(Q=this._visibleTextArea)===null||Q===void 0||Q.prepareRender($)}render($){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var $;if(this._visibleTextArea){let Y=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,G=this._visibleTextArea.startPosition,q=this._visibleTextArea.endPosition;if(G&&q&&Y&&Z&&Z.left>=this._scrollLeft&&Y.left<=this._scrollLeft+this._contentWidth){let U=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,z=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),H=this._visibleTextArea.widthOfHiddenLineTextBefore,j=this._contentLeft+Y.left-this._scrollLeft,V=Z.left-Y.left+1;if(j<this._contentLeft){let D=this._contentLeft-j;j+=D,H+=D,V-=D}if(V>this._contentWidth)V=this._contentWidth;let W=this._context.viewModel.getViewLineData(G.lineNumber),B=W.tokens.findTokenIndexAtOffset(G.column-1),K=W.tokens.findTokenIndexAtOffset(q.column-1),P=B===K,A=this._visibleTextArea.definePresentation(P?W.tokens.getPresentation(B):null);this.textArea.domNode.scrollTop=z*this._lineHeight,this.textArea.domNode.scrollLeft=H,this._doRender({lastRenderPosition:null,top:U,left:j,width:V,height:this._lineHeight,useCover:!1,color:(c1.getColorMap()||[])[A.foreground],italic:A.italic,bold:A.bold,underline:A.underline,strikethrough:A.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}let Q=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(Q<this._contentLeft||Q>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}let X=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(X<0||X>this._contentHeight){this._renderAtTopLeft();return}if(r0||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:X,left:this._textAreaWrapping?this._contentLeft:Q,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let Y=($=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&$!==void 0?$:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=Y*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:X,left:this._textAreaWrapping?this._contentLeft:Q,width:this._textAreaWidth,height:LN?0:1,useCover:!1})}_newlinecount($){let Q=0,X=-1;do{if(X=$.indexOf(`
`,X+1),X===-1)break;Q++}while(!0);return Q}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:LN?0:1,useCover:!0})}_doRender($){this._lastRenderPosition=$.lastRenderPosition;let Q=this.textArea,X=this.textAreaCover;if(M6(Q,this._fontInfo),Q.setTop($.top),Q.setLeft($.left),Q.setWidth($.width),Q.setHeight($.height),Q.setColor($.color?l.Format.CSS.formatHex($.color):""),Q.setFontStyle($.italic?"italic":""),$.bold)Q.setFontWeight("bold");Q.setTextDecoration(`${$.underline?" underline":""}${$.strikethrough?" line-through":""}`),X.setTop($.useCover?$.top:0),X.setLeft($.useCover?$.left:0),X.setWidth($.useCover?$.width:0),X.setHeight($.useCover?$.height:0);let Y=this._context.configuration.options;if(Y.get(57))X.setClassName("monaco-editor-background textAreaCover "+eQ.OUTER_CLASS_NAME);else if(Y.get(67).renderType!==0)X.setClassName("monaco-editor-background textAreaCover "+I2.CLASS_NAME);else X.setClassName("monaco-editor-background textAreaCover")}};mK=q80([Cp(3,u6),Cp(4,p0)],mK)});function z80(J,$,Q){let X=0;for(let Z=0;Z<J.length;Z++)if(J.charAt(Z)==="\t")X=f1.nextIndentTabStop(X,$);else X++;let Y="";if(!Q){let Z=Math.floor(X/$);X=X%$;for(let G=0;G<Z;G++)Y+="\t"}for(let Z=0;Z<X;Z++)Y+=" ";return Y}function uK(J,$,Q){let X=I6(J);if(X===-1)X=J.length;return z80(J.substring(0,X),$,Q)+J.substring(X)}var kN=N(()=>{t0();I4()});class AY{static shouldRecreate(J){return J.hasChanged(143)||J.hasChanged(129)||J.hasChanged(37)||J.hasChanged(76)||J.hasChanged(78)||J.hasChanged(79)||J.hasChanged(6)||J.hasChanged(7)||J.hasChanged(11)||J.hasChanged(9)||J.hasChanged(10)||J.hasChanged(14)||J.hasChanged(127)||J.hasChanged(50)||J.hasChanged(90)}constructor(J,$,Q,X){var Y;this.languageConfigurationService=X,this._cursorMoveConfigurationBrand=void 0,this._languageId=J;let Z=Q.options,G=Z.get(143),q=Z.get(50);this.readOnly=Z.get(90),this.tabSize=$.tabSize,this.indentSize=$.indentSize,this.insertSpaces=$.insertSpaces,this.stickyTabStops=Z.get(115),this.lineHeight=q.lineHeight,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(G.height/this.lineHeight)-2),this.useTabStops=Z.get(127),this.wordSeparators=Z.get(129),this.emptySelectionClipboard=Z.get(37),this.copyWithSyntaxHighlighting=Z.get(25),this.multiCursorMergeOverlapping=Z.get(76),this.multiCursorPaste=Z.get(78),this.multiCursorLimit=Z.get(79),this.autoClosingBrackets=Z.get(6),this.autoClosingComments=Z.get(7),this.autoClosingQuotes=Z.get(11),this.autoClosingDelete=Z.get(9),this.autoClosingOvertype=Z.get(10),this.autoSurround=Z.get(14),this.autoIndent=Z.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(J,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(J,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(J,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(J).getAutoClosingPairs();let U=this.languageConfigurationService.getLanguageConfiguration(J).getSurroundingPairs();if(U)for(let H of U)this.surroundingPairs[H.open]=H.close;let z=this.languageConfigurationService.getLanguageConfiguration(J).comments;this.blockCommentStartToken=(Y=z===null||z===void 0?void 0:z.blockCommentStartToken)!==null&&Y!==void 0?Y:null}get electricChars(){var J;if(!this._electricChars){this._electricChars={};let $=(J=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||J===void 0?void 0:J.getElectricCharacters();if($)for(let Q of $)this._electricChars[Q]=!0}return this._electricChars}onElectricCharacter(J,$,Q){let X=tX($,Q-1),Y=this.languageConfigurationService.getLanguageConfiguration(X.languageId).electricCharacter;if(!Y)return null;return Y.onElectricCharacter(J,X,Q-X.firstCharOffset)}normalizeIndentation(J){return uK(J,this.indentSize,this.insertSpaces)}_getShouldAutoClose(J,$,Q){switch($){case"beforeWhitespace":return V80;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(J,Q);case"always":return H80;case"never":return j80}}_getLanguageDefinedShouldAutoClose(J,$){let Q=this.languageConfigurationService.getLanguageConfiguration(J).getAutoCloseBeforeSet($);return(X)=>Q.indexOf(X)!==-1}visibleColumnFromColumn(J,$){return f1.visibleColumnFromColumn(J.getLineContent($.lineNumber),$.column,this.tabSize)}columnFromVisibleColumn(J,$,Q){let X=f1.columnFromVisibleColumn(J.getLineContent($),Q,this.tabSize),Y=J.getLineMinColumn($);if(X<Y)return Y;let Z=J.getLineMaxColumn($);if(X>Z)return Z;return X}}class B1{static fromModelState(J){return new fp(J)}static fromViewState(J){return new gp(J)}static fromModelSelection(J){let $=v0.liftSelection(J),Q=new $5(L.fromPositions($.getSelectionStart()),0,0,$.getPosition(),0);return B1.fromModelState(Q)}static fromModelSelections(J){let $=[];for(let Q=0,X=J.length;Q<X;Q++)$[Q]=this.fromModelSelection(J[Q]);return $}constructor(J,$){this._cursorStateBrand=void 0,this.modelState=J,this.viewState=$}equals(J){return this.viewState.equals(J.viewState)&&this.modelState.equals(J.modelState)}}class fp{constructor(J){this.modelState=J,this.viewState=null}}class gp{constructor(J){this.modelState=null,this.viewState=J}}class $5{constructor(J,$,Q,X,Y){this.selectionStart=J,this.selectionStartKind=$,this.selectionStartLeftoverVisibleColumns=Q,this.position=X,this.leftoverVisibleColumns=Y,this._singleCursorStateBrand=void 0,this.selection=$5._computeSelection(this.selectionStart,this.position)}equals(J){return this.selectionStartLeftoverVisibleColumns===J.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===J.leftoverVisibleColumns&&this.selectionStartKind===J.selectionStartKind&&this.position.equals(J.position)&&this.selectionStart.equalsRange(J.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(J,$,Q,X){if(J)return new $5(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new v($,Q),X);else return new $5(new L($,Q,$,Q),0,X,new v($,Q),X)}static _computeSelection(J,$){if(J.isEmpty()||!$.isBeforeOrEqual(J.getStartPosition()))return v0.fromPositions(J.getStartPosition(),$);else return v0.fromPositions(J.getEndPosition(),$)}}class G8{constructor(J,$,Q){this._editOperationResultBrand=void 0,this.type=J,this.commands=$,this.shouldPushStackElementBefore=Q.shouldPushStackElementBefore,this.shouldPushStackElementAfter=Q.shouldPushStackElementAfter}}function E$(J){return J==="'"||J==='"'||J==="`"}var H80=()=>!0,j80=()=>!1,V80=(J)=>J===" "||J==="\t";var b4=N(()=>{l0();E5();I4();kN()});class PY{static columnSelect(J,$,Q,X,Y,Z){let G=Math.abs(Y-Q)+1,q=Q>Y,U=X>Z,z=X<Z,H=[];for(let j=0;j<G;j++){let V=Q+(q?-j:j),W=J.columnFromVisibleColumn($,V,X),B=J.columnFromVisibleColumn($,V,Z),K=J.visibleColumnFromColumn($,new v(V,W)),P=J.visibleColumnFromColumn($,new v(V,B));if(z){if(K>Z)continue;if(P<X)continue}if(U){if(P>X)continue;if(K<Z)continue}H.push(new $5(new L(V,W,V,W),0,0,new v(V,B),0))}if(H.length===0)for(let j=0;j<G;j++){let V=Q+(q?-j:j),W=$.getLineMaxColumn(V);H.push(new $5(new L(V,W,V,W),0,0,new v(V,W),0))}return{viewStates:H,reversed:q,fromLineNumber:Q,fromVisualColumn:X,toLineNumber:Y,toVisualColumn:Z}}static columnSelectLeft(J,$,Q){let X=Q.toViewVisualColumn;if(X>0)X--;return PY.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,X)}static columnSelectRight(J,$,Q){let X=0,Y=Math.min(Q.fromViewLineNumber,Q.toViewLineNumber),Z=Math.max(Q.fromViewLineNumber,Q.toViewLineNumber);for(let q=Y;q<=Z;q++){let U=$.getLineMaxColumn(q),z=J.visibleColumnFromColumn($,new v(q,U));X=Math.max(X,z)}let G=Q.toViewVisualColumn;if(G<X)G++;return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Q.toViewLineNumber,G)}static columnSelectUp(J,$,Q,X){let Y=X?J.pageSize:1,Z=Math.max(1,Q.toViewLineNumber-Y);return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Z,Q.toViewVisualColumn)}static columnSelectDown(J,$,Q,X){let Y=X?J.pageSize:1,Z=Math.min($.getLineCount(),Q.toViewLineNumber+Y);return this.columnSelect(J,$,Q.fromViewLineNumber,Q.fromViewVisualColumn,Z,Q.toViewVisualColumn)}}var pp=N(()=>{b4();l0()});class u8{constructor(J,$,Q=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=Q}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return v0.fromPositions(X.getEndPosition())}}class rq{constructor(J,$,Q=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=Q}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return v0.fromPositions(X.getStartPosition())}}class iq{constructor(J,$,Q,X,Y=!1){this._range=J,this._text=$,this._columnDeltaOffset=X,this._lineNumberDeltaOffset=Q,this.insertsAutoWhitespace=Y}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return v0.fromPositions(X.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class EN{constructor(J,$,Q,X=!1){this._range=J,this._text=$,this._initialSelection=Q,this._forceMoveMarkers=X,this._selectionId=null}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=$.trackSelection(this._initialSelection)}computeCursorState(J,$){return $.getTrackedSelection(this._selectionId)}}var IN=N(()=>{E5()});class cK{constructor(J,$,Q){this._cursorPositionBrand=void 0,this.lineNumber=J,this.column=$,this.leftoverVisibleColumns=Q}}class C1{static leftPosition(J,$){if($.column>J.getLineMinColumn($.lineNumber))return $.delta(void 0,-TM(J.getLineContent($.lineNumber),$.column-1));else if($.lineNumber>1){let Q=$.lineNumber-1;return new v(Q,J.getLineMaxColumn(Q))}else return $}static leftPositionAtomicSoftTabs(J,$,Q){if($.column<=J.getLineIndentColumn($.lineNumber)){let X=J.getLineMinColumn($.lineNumber),Y=J.getLineContent($.lineNumber),Z=O2.atomicPosition(Y,$.column-1,Q,0);if(Z!==-1&&Z+1>=X)return new v($.lineNumber,Z+1)}return this.leftPosition(J,$)}static left(J,$,Q){let X=J.stickyTabStops?C1.leftPositionAtomicSoftTabs($,Q,J.tabSize):C1.leftPosition($,Q);return new cK(X.lineNumber,X.column,0)}static moveLeft(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.startLineNumber,G=Q.selection.startColumn;else{let q=Q.position.delta(void 0,-(Y-1)),U=$.normalizePosition(C1.clipPositionColumn(q,$),0),z=C1.left(J,$,U);Z=z.lineNumber,G=z.column}return Q.move(X,Z,G,0)}static clipPositionColumn(J,$){return new v(J.lineNumber,C1.clipRange(J.column,$.getLineMinColumn(J.lineNumber),$.getLineMaxColumn(J.lineNumber)))}static clipRange(J,$,Q){if(J<$)return $;if(J>Q)return Q;return J}static rightPosition(J,$,Q){if(Q<J.getLineMaxColumn($))Q=Q+Xz(J.getLineContent($),Q-1);else if($<J.getLineCount())$=$+1,Q=J.getLineMinColumn($);return new v($,Q)}static rightPositionAtomicSoftTabs(J,$,Q,X,Y){if(Q<J.getLineIndentColumn($)){let Z=J.getLineContent($),G=O2.atomicPosition(Z,Q-1,X,1);if(G!==-1)return new v($,G+1)}return this.rightPosition(J,$,Q)}static right(J,$,Q){let X=J.stickyTabStops?C1.rightPositionAtomicSoftTabs($,Q.lineNumber,Q.column,J.tabSize,J.indentSize):C1.rightPosition($,Q.lineNumber,Q.column);return new cK(X.lineNumber,X.column,0)}static moveRight(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.endLineNumber,G=Q.selection.endColumn;else{let q=Q.position.delta(void 0,Y-1),U=$.normalizePosition(C1.clipPositionColumn(q,$),1),z=C1.right(J,$,U);Z=z.lineNumber,G=z.column}return Q.move(X,Z,G,0)}static vertical(J,$,Q,X,Y,Z,G,q){let U=f1.visibleColumnFromColumn($.getLineContent(Q),X,J.tabSize)+Y,z=$.getLineCount(),H=Q===1&&X===1,j=Q===z&&X===$.getLineMaxColumn(Q),V=Z<Q?H:j;if(Q=Z,Q<1)if(Q=1,G)X=$.getLineMinColumn(Q);else X=Math.min($.getLineMaxColumn(Q),X);else if(Q>z)if(Q=z,G)X=$.getLineMaxColumn(Q);else X=Math.min($.getLineMaxColumn(Q),X);else X=J.columnFromVisibleColumn($,Q,U);if(V)Y=0;else Y=U-f1.visibleColumnFromColumn($.getLineContent(Q),X,J.tabSize);if(q!==void 0){let W=new v(Q,X),B=$.normalizePosition(W,q);Y=Y+(X-B.column),Q=B.lineNumber,X=B.column}return new cK(Q,X,Y)}static down(J,$,Q,X,Y,Z,G){return this.vertical(J,$,Q,X,Y,Q+Z,G,4)}static moveDown(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.endLineNumber,G=Q.selection.endColumn;else Z=Q.position.lineNumber,G=Q.position.column;let q=0,U;do if(U=C1.down(J,$,Z+q,G,Q.leftoverVisibleColumns,Y,!0),$.normalizePosition(new v(U.lineNumber,U.column),2).lineNumber>Z)break;while(q++<10&&Z+q<$.getLineCount());return Q.move(X,U.lineNumber,U.column,U.leftoverVisibleColumns)}static translateDown(J,$,Q){let X=Q.selection,Y=C1.down(J,$,X.selectionStartLineNumber,X.selectionStartColumn,Q.selectionStartLeftoverVisibleColumns,1,!1),Z=C1.down(J,$,X.positionLineNumber,X.positionColumn,Q.leftoverVisibleColumns,1,!1);return new $5(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new v(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static up(J,$,Q,X,Y,Z,G){return this.vertical(J,$,Q,X,Y,Q-Z,G,3)}static moveUp(J,$,Q,X,Y){let Z,G;if(Q.hasSelection()&&!X)Z=Q.selection.startLineNumber,G=Q.selection.startColumn;else Z=Q.position.lineNumber,G=Q.position.column;let q=C1.up(J,$,Z,G,Q.leftoverVisibleColumns,Y,!0);return Q.move(X,q.lineNumber,q.column,q.leftoverVisibleColumns)}static translateUp(J,$,Q){let X=Q.selection,Y=C1.up(J,$,X.selectionStartLineNumber,X.selectionStartColumn,Q.selectionStartLeftoverVisibleColumns,1,!1),Z=C1.up(J,$,X.positionLineNumber,X.positionColumn,Q.leftoverVisibleColumns,1,!1);return new $5(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new v(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static _isBlankLine(J,$){if(J.getLineFirstNonWhitespaceColumn($)===0)return!0;return!1}static moveToPrevBlankLine(J,$,Q,X){let Y=Q.position.lineNumber;while(Y>1&&this._isBlankLine($,Y))Y--;while(Y>1&&!this._isBlankLine($,Y))Y--;return Q.move(X,Y,$.getLineMinColumn(Y),0)}static moveToNextBlankLine(J,$,Q,X){let Y=$.getLineCount(),Z=Q.position.lineNumber;while(Z<Y&&this._isBlankLine($,Z))Z++;while(Z<Y&&!this._isBlankLine($,Z))Z++;return Q.move(X,Z,$.getLineMinColumn(Z),0)}static moveToBeginningOfLine(J,$,Q,X){let Y=Q.position.lineNumber,Z=$.getLineMinColumn(Y),G=$.getLineFirstNonWhitespaceColumn(Y)||Z,q;if(Q.position.column===G)q=Z;else q=G;return Q.move(X,Y,q,0)}static moveToEndOfLine(J,$,Q,X,Y){let Z=Q.position.lineNumber,G=$.getLineMaxColumn(Z);return Q.move(X,Z,G,Y?1073741824-G:0)}static moveToBeginningOfBuffer(J,$,Q,X){return Q.move(X,1,1,0)}static moveToEndOfBuffer(J,$,Q,X){let Y=$.getLineCount(),Z=$.getLineMaxColumn(Y);return Q.move(X,Y,Z,0)}}var yN=N(()=>{t0();I4();l0();QN();b4()});class I${static deleteRight(J,$,Q,X){let Y=[],Z=J!==3;for(let G=0,q=X.length;G<q;G++){let U=X[G],z=U;if(z.isEmpty()){let H=U.getPosition(),j=C1.right($,Q,H);z=new L(j.lineNumber,j.column,H.lineNumber,H.column)}if(z.isEmpty()){Y[G]=null;continue}if(z.startLineNumber!==z.endLineNumber)Z=!0;Y[G]=new u8(z,"")}return[Z,Y]}static isAutoClosingPairDelete(J,$,Q,X,Y,Z,G){if($==="never"&&Q==="never")return!1;if(J==="never")return!1;for(let q=0,U=Z.length;q<U;q++){let z=Z[q],H=z.getPosition();if(!z.isEmpty())return!1;let j=Y.getLineContent(H.lineNumber);if(H.column<2||H.column>=j.length+1)return!1;let V=j.charAt(H.column-2),W=X.get(V);if(!W)return!1;if(E$(V)){if(Q==="never")return!1}else if($==="never")return!1;let B=j.charAt(H.column-1),K=!1;for(let P of W)if(P.open===V&&P.close===B)K=!0;if(!K)return!1;if(J==="auto"){let P=!1;for(let A=0,D=G.length;A<D;A++){let R=G[A];if(H.lineNumber===R.startLineNumber&&H.column===R.startColumn){P=!0;break}}if(!P)return!1}}return!0}static _runAutoClosingPairDelete(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].getPosition(),q=new L(G.lineNumber,G.column-1,G.lineNumber,G.column+1);X[Y]=new u8(q,"")}return[!0,X]}static deleteLeft(J,$,Q,X,Y){if(this.isAutoClosingPairDelete($.autoClosingDelete,$.autoClosingBrackets,$.autoClosingQuotes,$.autoClosingPairs.autoClosingPairsOpenByEnd,Q,X,Y))return this._runAutoClosingPairDelete($,Q,X);let Z=[],G=J!==2;for(let q=0,U=X.length;q<U;q++){let z=I$.getDeleteRange(X[q],Q,$);if(z.isEmpty()){Z[q]=null;continue}if(z.startLineNumber!==z.endLineNumber)G=!0;Z[q]=new u8(z,"")}return[G,Z]}static getDeleteRange(J,$,Q){if(!J.isEmpty())return J;let X=J.getPosition();if(Q.useTabStops&&X.column>1){let Y=$.getLineContent(X.lineNumber),Z=I6(Y),G=Z===-1?Y.length+1:Z+1;if(X.column<=G){let q=Q.visibleColumnFromColumn($,X),U=f1.prevIndentTabStop(q,Q.indentSize),z=Q.columnFromVisibleColumn($,X.lineNumber,U);return new L(X.lineNumber,z,X.lineNumber,X.column)}}return L.fromPositions(I$.getPositionAfterDeleteLeft(X,$),X)}static getPositionAfterDeleteLeft(J,$){if(J.column>1){let Q=KS(J.column-1,$.getLineContent(J.lineNumber));return J.with(void 0,Q+1)}else if(J.lineNumber>1){let Q=J.lineNumber-1;return new v(Q,$.getLineMaxColumn(Q))}else return J}static cut(J,$,Q){let X=[],Y=null;Q.sort((Z,G)=>v.compare(Z.getStartPosition(),G.getEndPosition()));for(let Z=0,G=Q.length;Z<G;Z++){let q=Q[Z];if(q.isEmpty())if(J.emptySelectionClipboard){let U=q.getPosition(),z,H,j,V;if(U.lineNumber<$.getLineCount())z=U.lineNumber,H=1,j=U.lineNumber+1,V=1;else if(U.lineNumber>1&&(Y===null||Y===void 0?void 0:Y.endLineNumber)!==U.lineNumber)z=U.lineNumber-1,H=$.getLineMaxColumn(U.lineNumber-1),j=U.lineNumber,V=$.getLineMaxColumn(U.lineNumber);else z=U.lineNumber,H=1,j=U.lineNumber,V=$.getLineMaxColumn(U.lineNumber);let W=new L(z,H,j,V);if(Y=W,!W.isEmpty())X[Z]=new u8(W,"");else X[Z]=null}else X[Z]=null;else X[Z]=new u8(q,"")}return new G8(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}var lK=N(()=>{t0();IN();b4();I4();yN();l0()});class x6{static _createWord(J,$,Q,X,Y){return{start:X,end:Y,wordType:$,nextCharClass:Q}}static _findPreviousWordOnLine(J,$,Q){let X=$.getLineContent(Q.lineNumber);return this._doFindPreviousWordOnLine(X,J,Q)}static _doFindPreviousWordOnLine(J,$,Q){let X=0;for(let Y=Q.column-2;Y>=0;Y--){let Z=J.charCodeAt(Y),G=$.get(Z);if(G===0){if(X===2)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1));X=1}else if(G===2){if(X===1)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1));X=2}else if(G===1){if(X!==0)return this._createWord(J,X,G,Y+1,this._findEndOfWord(J,$,X,Y+1))}}if(X!==0)return this._createWord(J,X,1,0,this._findEndOfWord(J,$,X,0));return null}static _findEndOfWord(J,$,Q,X){let Y=J.length;for(let Z=X;Z<Y;Z++){let G=J.charCodeAt(Z),q=$.get(G);if(q===1)return Z;if(Q===1&&q===2)return Z;if(Q===2&&q===0)return Z}return Y}static _findNextWordOnLine(J,$,Q){let X=$.getLineContent(Q.lineNumber);return this._doFindNextWordOnLine(X,J,Q)}static _doFindNextWordOnLine(J,$,Q){let X=0,Y=J.length;for(let Z=Q.column-1;Z<Y;Z++){let G=J.charCodeAt(Z),q=$.get(G);if(q===0){if(X===2)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z);X=1}else if(q===2){if(X===1)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z);X=2}else if(q===1){if(X!==0)return this._createWord(J,X,q,this._findStartOfWord(J,$,X,Z-1),Z)}}if(X!==0)return this._createWord(J,X,1,this._findStartOfWord(J,$,X,Y-1),Y);return null}static _findStartOfWord(J,$,Q,X){for(let Y=X;Y>=0;Y--){let Z=J.charCodeAt(Y),G=$.get(Z);if(G===1)return Y+1;if(Q===1&&G===2)return Y+1;if(Q===2&&G===0)return Y+1}return 0}static moveWordLeft(J,$,Q,X){let{lineNumber:Y,column:Z}=Q;if(Z===1){if(Y>1)Y=Y-1,Z=$.getLineMaxColumn(Y)}let G=x6._findPreviousWordOnLine(J,$,new v(Y,Z));if(X===0)return new v(Y,G?G.start+1:1);if(X===1){if(G&&G.wordType===2&&G.end-G.start===1&&G.nextCharClass===0)G=x6._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.start+1:1)}if(X===3){while(G&&G.wordType===2)G=x6._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.start+1:1)}if(G&&Z<=G.end+1)G=x6._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.end+1:1)}static _moveWordPartLeft(J,$){let Q=$.lineNumber,X=J.getLineMaxColumn(Q);if($.column===1)return Q>1?new v(Q-1,J.getLineMaxColumn(Q-1)):$;let Y=J.getLineContent(Q);for(let Z=$.column-1;Z>1;Z--){let G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G===95&&q!==95)return new v(Q,Z);if(G===45&&q!==45)return new v(Q,Z);if((SZ(G)||$z(G))&&Q$(q))return new v(Q,Z);if(Q$(G)&&Q$(q)){if(Z+1<X){let U=Y.charCodeAt(Z);if(SZ(U)||$z(U))return new v(Q,Z)}}}return new v(Q,1)}static moveWordRight(J,$,Q,X){let{lineNumber:Y,column:Z}=Q,G=!1;if(Z===$.getLineMaxColumn(Y)){if(Y<$.getLineCount())G=!0,Y=Y+1,Z=1}let q=x6._findNextWordOnLine(J,$,new v(Y,Z));if(X===2){if(q&&q.wordType===2){if(q.end-q.start===1&&q.nextCharClass===0)q=x6._findNextWordOnLine(J,$,new v(Y,q.end+1))}if(q)Z=q.end+1;else Z=$.getLineMaxColumn(Y)}else if(X===3){if(G)Z=0;while(q&&(q.wordType===2||q.start+1<=Z))q=x6._findNextWordOnLine(J,$,new v(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}else{if(q&&!G&&Z>=q.start+1)q=x6._findNextWordOnLine(J,$,new v(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}return new v(Y,Z)}static _moveWordPartRight(J,$){let Q=$.lineNumber,X=J.getLineMaxColumn(Q);if($.column===X)return Q<J.getLineCount()?new v(Q+1,1):$;let Y=J.getLineContent(Q);for(let Z=$.column+1;Z<X;Z++){let G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G!==95&&q===95)return new v(Q,Z);if(G!==45&&q===45)return new v(Q,Z);if((SZ(G)||$z(G))&&Q$(q))return new v(Q,Z);if(Q$(G)&&Q$(q)){if(Z+1<X){let U=Y.charCodeAt(Z);if(SZ(U)||$z(U))return new v(Q,Z)}}}return new v(Q,X)}static _deleteWordLeftWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=$.column-2,Y=X9(Q,X);if(Y+1<X)return new L($.lineNumber,Y+2,$.lineNumber,$.column);return null}static deleteWordLeft(J,$){let{wordSeparators:Q,model:X,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;if(I$.isAutoClosingPairDelete(J.autoClosingDelete,J.autoClosingBrackets,J.autoClosingQuotes,J.autoClosingPairs.autoClosingPairsOpenByEnd,J.model,[J.selection],J.autoClosedCharacters)){let H=J.selection.getPosition();return new L(H.lineNumber,H.column-1,H.lineNumber,H.column+1)}let G=new v(Y.positionLineNumber,Y.positionColumn),q=G.lineNumber,U=G.column;if(q===1&&U===1)return null;if(Z){let H=this._deleteWordLeftWhitespace(X,G);if(H)return H}let z=x6._findPreviousWordOnLine(Q,X,G);if($===0)if(z)U=z.start+1;else if(U>1)U=1;else q--,U=X.getLineMaxColumn(q);else{if(z&&U<=z.end+1)z=x6._findPreviousWordOnLine(Q,X,new v(q,z.start+1));if(z)U=z.end+1;else if(U>1)U=1;else q--,U=X.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static deleteInsideWord(J,$,Q){if(!Q.isEmpty())return Q;let X=new v(Q.positionLineNumber,Q.positionColumn),Y=this._deleteInsideWordWhitespace($,X);if(Y)return Y;return this._deleteInsideWordDetermineDeleteRange(J,$,X)}static _charAtIsWhitespace(J,$){let Q=J.charCodeAt($);return Q===32||Q===9}static _deleteInsideWordWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=Q.length;if(X===0)return null;let Y=Math.max($.column-2,0);if(!this._charAtIsWhitespace(Q,Y))return null;let Z=Math.min($.column-1,X-1);if(!this._charAtIsWhitespace(Q,Z))return null;while(Y>0&&this._charAtIsWhitespace(Q,Y-1))Y--;while(Z+1<X&&this._charAtIsWhitespace(Q,Z+1))Z++;return new L($.lineNumber,Y+1,$.lineNumber,Z+2)}static _deleteInsideWordDetermineDeleteRange(J,$,Q){let X=$.getLineContent(Q.lineNumber),Y=X.length;if(Y===0)if(Q.lineNumber>1)return new L(Q.lineNumber-1,$.getLineMaxColumn(Q.lineNumber-1),Q.lineNumber,1);else if(Q.lineNumber<$.getLineCount())return new L(Q.lineNumber,1,Q.lineNumber+1,1);else return new L(Q.lineNumber,1,Q.lineNumber,1);let Z=(H)=>{return H.start+1<=Q.column&&Q.column<=H.end+1},G=(H,j)=>{return H=Math.min(H,Q.column),j=Math.max(j,Q.column),new L(Q.lineNumber,H,Q.lineNumber,j)},q=(H)=>{let j=H.start+1,V=H.end+1,W=!1;while(V-1<Y&&this._charAtIsWhitespace(X,V-1))W=!0,V++;if(!W)while(j>1&&this._charAtIsWhitespace(X,j-2))j--;return G(j,V)},U=x6._findPreviousWordOnLine(J,$,Q);if(U&&Z(U))return q(U);let z=x6._findNextWordOnLine(J,$,Q);if(z&&Z(z))return q(z);if(U&&z)return G(U.end+1,z.start+1);if(U)return G(U.start+1,U.end+1);if(z)return G(z.start+1,z.end+1);return G(1,Y+1)}static _deleteWordPartLeft(J,$){if(!$.isEmpty())return $;let Q=$.getPosition(),X=x6._moveWordPartLeft(J,Q);return new L(Q.lineNumber,Q.column,X.lineNumber,X.column)}static _findFirstNonWhitespaceChar(J,$){let Q=J.length;for(let X=$;X<Q;X++){let Y=J.charAt(X);if(Y!==" "&&Y!=="\t")return X}return Q}static _deleteWordRightWhitespace(J,$){let Q=J.getLineContent($.lineNumber),X=$.column-1,Y=this._findFirstNonWhitespaceChar(Q,X);if(X+1<Y)return new L($.lineNumber,$.column,$.lineNumber,Y+1);return null}static deleteWordRight(J,$){let{wordSeparators:Q,model:X,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;let G=new v(Y.positionLineNumber,Y.positionColumn),q=G.lineNumber,U=G.column,z=X.getLineCount(),H=X.getLineMaxColumn(q);if(q===z&&U===H)return null;if(Z){let V=this._deleteWordRightWhitespace(X,G);if(V)return V}let j=x6._findNextWordOnLine(Q,X,G);if($===2)if(j)U=j.end+1;else if(U<H||q===z)U=H;else if(q++,j=x6._findNextWordOnLine(Q,X,new v(q,1)),j)U=j.start+1;else U=X.getLineMaxColumn(q);else{if(j&&U>=j.start+1)j=x6._findNextWordOnLine(Q,X,new v(q,j.end+1));if(j)U=j.start+1;else if(U<H||q===z)U=H;else if(q++,j=x6._findNextWordOnLine(Q,X,new v(q,1)),j)U=j.start+1;else U=X.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static _deleteWordPartRight(J,$){if(!$.isEmpty())return $;let Q=$.getPosition(),X=x6._moveWordPartRight(J,Q);return new L(Q.lineNumber,Q.column,X.lineNumber,X.column)}static _createWordAtPosition(J,$,Q){let X=new L($,Q.start+1,$,Q.end+1);return{word:J.getValueInRange(X),startColumn:X.startColumn,endColumn:X.endColumn}}static getWordAtPosition(J,$,Q){let X=V$($),Y=x6._findPreviousWordOnLine(X,J,Q);if(Y&&Y.wordType===1&&Y.start<=Q.column-1&&Q.column-1<=Y.end)return x6._createWordAtPosition(J,Q.lineNumber,Y);let Z=x6._findNextWordOnLine(X,J,Q);if(Z&&Z.wordType===1&&Z.start<=Q.column-1&&Q.column-1<=Z.end)return x6._createWordAtPosition(J,Q.lineNumber,Z);return null}static word(J,$,Q,X,Y){let Z=V$(J.wordSeparators),G=x6._findPreviousWordOnLine(Z,$,Y),q=x6._findNextWordOnLine(Z,$,Y);if(!X){let V,W;if(G&&G.wordType===1&&G.start<=Y.column-1&&Y.column-1<=G.end)V=G.start+1,W=G.end+1;else if(q&&q.wordType===1&&q.start<=Y.column-1&&Y.column-1<=q.end)V=q.start+1,W=q.end+1;else{if(G)V=G.end+1;else V=1;if(q)W=q.start+1;else W=$.getLineMaxColumn(Y.lineNumber)}return new $5(new L(Y.lineNumber,V,Y.lineNumber,W),1,0,new v(Y.lineNumber,W),0)}let U,z;if(G&&G.wordType===1&&G.start<Y.column-1&&Y.column-1<G.end)U=G.start+1,z=G.end+1;else if(q&&q.wordType===1&&q.start<Y.column-1&&Y.column-1<q.end)U=q.start+1,z=q.end+1;else U=Y.column,z=Y.column;let H=Y.lineNumber,j;if(Q.selectionStart.containsPosition(Y))j=Q.selectionStart.endColumn;else if(Y.isBeforeOrEqual(Q.selectionStart.getStartPosition())){j=U;let V=new v(H,j);if(Q.selectionStart.containsPosition(V))j=Q.selectionStart.endColumn}else{j=z;let V=new v(H,j);if(Q.selectionStart.containsPosition(V))j=Q.selectionStart.startColumn}return Q.move(!0,H,j,0)}}var xN=N(()=>{t0();b4();lK();gz();l0()});class d5{static addCursorDown(J,$,Q){let X=[],Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];if(X[Y++]=new B1(q.modelState,q.viewState),Q)X[Y++]=B1.fromModelState(C1.translateDown(J.cursorConfig,J.model,q.modelState));else X[Y++]=B1.fromViewState(C1.translateDown(J.cursorConfig,J,q.viewState))}return X}static addCursorUp(J,$,Q){let X=[],Y=0;for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];if(X[Y++]=new B1(q.modelState,q.viewState),Q)X[Y++]=B1.fromModelState(C1.translateUp(J.cursorConfig,J.model,q.modelState));else X[Y++]=B1.fromViewState(C1.translateUp(J.cursorConfig,J,q.viewState))}return X}static moveToBeginningOfLine(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=this._moveToLineStart(J,G,Q)}return X}static _moveToLineStart(J,$,Q){let X=$.viewState.position.column,Y=$.modelState.position.column,Z=X===Y,G=$.viewState.position.lineNumber,q=J.getLineFirstNonWhitespaceColumn(G);if(!Z&&X!==q)return this._moveToLineStartByView(J,$,Q);else return this._moveToLineStartByModel(J,$,Q)}static _moveToLineStartByView(J,$,Q){return B1.fromViewState(C1.moveToBeginningOfLine(J.cursorConfig,J,$.viewState,Q))}static _moveToLineStartByModel(J,$,Q){return B1.fromModelState(C1.moveToBeginningOfLine(J.cursorConfig,J.model,$.modelState,Q))}static moveToEndOfLine(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=this._moveToLineEnd(J,q,Q,X)}return Y}static _moveToLineEnd(J,$,Q,X){let Y=$.viewState.position,Z=J.getLineMaxColumn(Y.lineNumber),G=Y.column===Z,q=$.modelState.position,U=J.model.getLineMaxColumn(q.lineNumber),z=Z-Y.column===U-q.column;if(G||z)return this._moveToLineEndByModel(J,$,Q,X);else return this._moveToLineEndByView(J,$,Q,X)}static _moveToLineEndByView(J,$,Q,X){return B1.fromViewState(C1.moveToEndOfLine(J.cursorConfig,J,$.viewState,Q,X))}static _moveToLineEndByModel(J,$,Q,X){return B1.fromModelState(C1.moveToEndOfLine(J.cursorConfig,J.model,$.modelState,Q,X))}static expandLineSelection(J,$){let Q=[];for(let X=0,Y=$.length;X<Y;X++){let Z=$[X],G=Z.modelState.selection.startLineNumber,q=J.model.getLineCount(),U=Z.modelState.selection.endLineNumber,z;if(U===q)z=J.model.getLineMaxColumn(q);else U++,z=1;Q[X]=B1.fromModelState(new $5(new L(G,1,G,1),0,0,new v(U,z),0))}return Q}static moveToBeginningOfBuffer(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=B1.fromModelState(C1.moveToBeginningOfBuffer(J.cursorConfig,J.model,G.modelState,Q))}return X}static moveToEndOfBuffer(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];X[Y]=B1.fromModelState(C1.moveToEndOfBuffer(J.cursorConfig,J.model,G.modelState,Q))}return X}static selectAll(J,$){let Q=J.model.getLineCount(),X=J.model.getLineMaxColumn(Q);return B1.fromModelState(new $5(new L(1,1,1,1),0,0,new v(Q,X),0))}static line(J,$,Q,X,Y){let Z=J.model.validatePosition(X),G=Y?J.coordinatesConverter.validateViewPosition(new v(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);if(!Q){let U=J.model.getLineCount(),z=Z.lineNumber+1,H=1;if(z>U)z=U,H=J.model.getLineMaxColumn(z);return B1.fromModelState(new $5(new L(Z.lineNumber,1,z,H),2,0,new v(z,H),0))}let q=$.modelState.selectionStart.getStartPosition().lineNumber;if(Z.lineNumber<q)return B1.fromViewState($.viewState.move(!0,G.lineNumber,1,0));else if(Z.lineNumber>q){let U=J.getLineCount(),z=G.lineNumber+1,H=1;if(z>U)z=U,H=J.getLineMaxColumn(z);return B1.fromViewState($.viewState.move(!0,z,H,0))}else{let U=$.modelState.selectionStart.getEndPosition();return B1.fromModelState($.modelState.move(!0,U.lineNumber,U.column,0))}}static word(J,$,Q,X){let Y=J.model.validatePosition(X);return B1.fromModelState(x6.word(J.cursorConfig,J.model,$.modelState,Q,Y))}static cancelSelection(J,$){if(!$.modelState.hasSelection())return new B1($.modelState,$.viewState);let Q=$.viewState.position.lineNumber,X=$.viewState.position.column;return B1.fromViewState(new $5(new L(Q,X,Q,X),0,0,new v(Q,X),0))}static moveTo(J,$,Q,X,Y){if(Q){if($.modelState.selectionStartKind===1)return this.word(J,$,Q,X);if($.modelState.selectionStartKind===2)return this.line(J,$,Q,X,Y)}let Z=J.model.validatePosition(X),G=Y?J.coordinatesConverter.validateViewPosition(new v(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);return B1.fromViewState($.viewState.move(Q,G.lineNumber,G.column,0))}static simpleMove(J,$,Q,X,Y,Z){switch(Q){case 0:if(Z===4)return this._moveHalfLineLeft(J,$,X);else return this._moveLeft(J,$,X,Y);case 1:if(Z===4)return this._moveHalfLineRight(J,$,X);else return this._moveRight(J,$,X,Y);case 2:if(Z===2)return this._moveUpByViewLines(J,$,X,Y);else return this._moveUpByModelLines(J,$,X,Y);case 3:if(Z===2)return this._moveDownByViewLines(J,$,X,Y);else return this._moveDownByModelLines(J,$,X,Y);case 4:if(Z===2)return $.map((G)=>B1.fromViewState(C1.moveToPrevBlankLine(J.cursorConfig,J,G.viewState,X)));else return $.map((G)=>B1.fromModelState(C1.moveToPrevBlankLine(J.cursorConfig,J.model,G.modelState,X)));case 5:if(Z===2)return $.map((G)=>B1.fromViewState(C1.moveToNextBlankLine(J.cursorConfig,J,G.viewState,X)));else return $.map((G)=>B1.fromModelState(C1.moveToNextBlankLine(J.cursorConfig,J.model,G.modelState,X)));case 6:return this._moveToViewMinColumn(J,$,X);case 7:return this._moveToViewFirstNonWhitespaceColumn(J,$,X);case 8:return this._moveToViewCenterColumn(J,$,X);case 9:return this._moveToViewMaxColumn(J,$,X);case 10:return this._moveToViewLastNonWhitespaceColumn(J,$,X);default:return null}}static viewportMove(J,$,Q,X,Y){let Z=J.getCompletelyVisibleViewRange(),G=J.coordinatesConverter.convertViewRangeToModelRange(Z);switch(Q){case 11:{let q=this._firstLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 13:{let q=this._lastLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 12:{let q=Math.round((G.startLineNumber+G.endLineNumber)/2),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],X,q,U)]}case 14:{let q=[];for(let U=0,z=$.length;U<z;U++){let H=$[U];q[U]=this.findPositionInViewportIfOutside(J,H,Z,X)}return q}default:return null}}static findPositionInViewportIfOutside(J,$,Q,X){let Y=$.viewState.position.lineNumber;if(Q.startLineNumber<=Y&&Y<=Q.endLineNumber-1)return new B1($.modelState,$.viewState);else{let Z;if(Y>Q.endLineNumber-1)Z=Q.endLineNumber-1;else if(Y<Q.startLineNumber)Z=Q.startLineNumber;else Z=Y;let G=C1.vertical(J.cursorConfig,J,Y,$.viewState.position.column,$.viewState.leftoverVisibleColumns,Z,!1);return B1.fromViewState($.viewState.move(X,G.lineNumber,G.column,G.leftoverVisibleColumns))}}static _firstLineNumberInRange(J,$,Q){let X=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(X))X++;return Math.min($.endLineNumber,X+Q-1)}static _lastLineNumberInRange(J,$,Q){let X=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(X))X++;return Math.max(X,$.endLineNumber-Q+1)}static _moveLeft(J,$,Q,X){return $.map((Y)=>B1.fromViewState(C1.moveLeft(J.cursorConfig,J,Y.viewState,Q,X)))}static _moveHalfLineLeft(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);X[Y]=B1.fromViewState(C1.moveLeft(J.cursorConfig,J,G.viewState,Q,U))}return X}static _moveRight(J,$,Q,X){return $.map((Y)=>B1.fromViewState(C1.moveRight(J.cursorConfig,J,Y.viewState,Q,X)))}static _moveHalfLineRight(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);X[Y]=B1.fromViewState(C1.moveRight(J.cursorConfig,J,G.viewState,Q,U))}return X}static _moveDownByViewLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=B1.fromViewState(C1.moveDown(J.cursorConfig,J,q.viewState,Q,X))}return Y}static _moveDownByModelLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=B1.fromModelState(C1.moveDown(J.cursorConfig,J.model,q.modelState,Q,X))}return Y}static _moveUpByViewLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=B1.fromViewState(C1.moveUp(J.cursorConfig,J,q.viewState,Q,X))}return Y}static _moveUpByModelLines(J,$,Q,X){let Y=[];for(let Z=0,G=$.length;Z<G;Z++){let q=$[Z];Y[Z]=B1.fromModelState(C1.moveUp(J.cursorConfig,J.model,q.modelState,Q,X))}return Y}static _moveToViewPosition(J,$,Q,X,Y){return B1.fromViewState($.viewState.move(Q,X,Y,0))}static _moveToModelPosition(J,$,Q,X,Y){return B1.fromModelState($.modelState.move(Q,X,Y,0))}static _moveToViewMinColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMinColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewFirstNonWhitespaceColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineFirstNonWhitespaceColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewCenterColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=Math.round((J.getLineMaxColumn(q)+J.getLineMinColumn(q))/2);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewMaxColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMaxColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}static _moveToViewLastNonWhitespaceColumn(J,$,Q){let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineLastNonWhitespaceColumn(q);X[Y]=this._moveToViewPosition(J,G,Q,q,U)}return X}}var MH;var mp=N(()=>{b4();yN();xN();l0();(function(J){let $=function(X){if(!r6(X))return!1;let Y=X;if(!Y5(Y.to))return!1;if(!o5(Y.select)&&!MW(Y.select))return!1;if(!o5(Y.by)&&!Y5(Y.by))return!1;if(!o5(Y.value)&&!e7(Y.value))return!1;return!0};J.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.
\t\t\t\t\t\t\`\`\`
\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
\t\t\t\t\t\t\`\`\`
\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.
\t\t\t\t\t\t\`\`\`
\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'
\t\t\t\t\t\t\`\`\`
\t\t\t\t\t* 'value': Number of units to move. Default is '1'.
\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.
\t\t\t\t`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},J.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function Q(X){if(!X.to)return null;let Y;switch(X.to){case J.RawDirection.Left:Y=0;break;case J.RawDirection.Right:Y=1;break;case J.RawDirection.Up:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.PrevBlankLine:Y=4;break;case J.RawDirection.NextBlankLine:Y=5;break;case J.RawDirection.WrappedLineStart:Y=6;break;case J.RawDirection.WrappedLineFirstNonWhitespaceCharacter:Y=7;break;case J.RawDirection.WrappedLineColumnCenter:Y=8;break;case J.RawDirection.WrappedLineEnd:Y=9;break;case J.RawDirection.WrappedLineLastNonWhitespaceCharacter:Y=10;break;case J.RawDirection.ViewPortTop:Y=11;break;case J.RawDirection.ViewPortBottom:Y=13;break;case J.RawDirection.ViewPortCenter:Y=12;break;case J.RawDirection.ViewPortIfOutside:Y=14;break;default:return null}let Z=0;switch(X.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Character:Z=3;break;case J.RawUnit.HalfLine:Z=4;break}return{direction:Y,unit:Z,select:!!X.select,value:X.value||1}}J.parse=Q})(MH||(MH={}))});function _H(J,$,Q,X){let Y=JY($,Q.startLineNumber,Q.startColumn),Z=X.getLanguageConfiguration(Y.languageId);if(!Z)return null;let G=Y.getLineContent(),q=G.substr(0,Q.startColumn-1-Y.firstCharOffset),U;if(Q.isEmpty())U=G.substr(Q.startColumn-1-Y.firstCharOffset);else U=JY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-Y.firstCharOffset);let z="";if(Q.startLineNumber>1&&Y.firstCharOffset===0){let K=JY($,Q.startLineNumber-1);if(K.languageId===Y.languageId)z=K.getLineContent()}let H=Z.onEnter(J,z,q,U);if(!H)return null;let{indentAction:j,appendText:V}=H,W=H.removeText||0;if(!V)if(j===m5.Indent||j===m5.IndentOutdent)V="\t";else V="";else if(j===m5.Indent)V="\t"+V;let B=fF($,Q.startLineNumber,Q.startColumn);if(W)B=B.substring(0,B.length-W);return{indentAction:j,appendText:V,removeText:W,indentation:B}}var bN=N(()=>{oZ();h8()});function y2(J,$){if($<=0)return"";if(!SN[J])SN[J]=["",J];let Q=SN[J];for(let X=Q.length;X<=$;X++)Q[X]=Q[X-1]+J;return Q[$]}var W80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},B80=function(J,$){return function(Q,X){$(Q,X,J)}},dK,SN,DY;var up=N(()=>{t0();I4();l0();E5();bN();h8();SN=Object.create(null);DY=dK=class J{static unshiftIndent($,Q,X,Y,Z){let G=f1.visibleColumnFromColumn($,Q,X);if(Z){let q=y2(" ",Y),z=f1.prevIndentTabStop(G,Y)/Y;return y2(q,z)}else{let z=f1.prevRenderTabStop(G,X)/X;return y2("\t",z)}}static shiftIndent($,Q,X,Y,Z){let G=f1.visibleColumnFromColumn($,Q,X);if(Z){let q=y2(" ",Y),z=f1.nextIndentTabStop(G,Y)/Y;return y2(q,z)}else{let z=f1.nextRenderTabStop(G,X)/X;return y2("\t",z)}}constructor($,Q,X){this._languageConfigurationService=X,this._opts=Q,this._selection=$,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation($,Q,X){if(this._useLastEditRangeForCursorEndPosition)$.addTrackedEditOperation(Q,X);else $.addEditOperation(Q,X)}getEditOperations($,Q){let X=this._selection.startLineNumber,Y=this._selection.endLineNumber;if(this._selection.endColumn===1&&X!==Y)Y=Y-1;let{tabSize:Z,indentSize:G,insertSpaces:q}=this._opts,U=X===Y;if(this._opts.useTabStops){if(this._selection.isEmpty()){if(/^\s*$/.test($.getLineContent(X)))this._useLastEditRangeForCursorEndPosition=!0}let z=0,H=0;for(let j=X;j<=Y;j++,z=H){H=0;let V=$.getLineContent(j),W=I6(V);if(this._opts.isUnshift&&(V.length===0||W===0))continue;if(!U&&!this._opts.isUnshift&&V.length===0)continue;if(W===-1)W=V.length;if(j>1){if(f1.visibleColumnFromColumn(V,W+1,Z)%G!==0){if($.tokenization.isCheapToTokenize(j-1)){let P=_H(this._opts.autoIndent,$,new L(j-1,$.getLineMaxColumn(j-1),j-1,$.getLineMaxColumn(j-1)),this._languageConfigurationService);if(P){if(H=z,P.appendText)for(let A=0,D=P.appendText.length;A<D&&H<G;A++)if(P.appendText.charCodeAt(A)===32)H++;else break;if(P.removeText)H=Math.max(0,H-P.removeText);for(let A=0;A<H;A++){if(W===0||V.charCodeAt(W-1)!==32)break;W--}}}}}if(this._opts.isUnshift&&W===0)continue;let B;if(this._opts.isUnshift)B=dK.unshiftIndent(V,W+1,Z,G,q);else B=dK.shiftIndent(V,W+1,Z,G,q);if(this._addEditOperation(Q,new L(j,1,j,W+1),B),j===X&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn<=W+1}}else{if(!this._opts.isUnshift&&this._selection.isEmpty()&&$.getLineLength(X)===0)this._useLastEditRangeForCursorEndPosition=!0;let z=q?y2(" ",G):"\t";for(let H=X;H<=Y;H++){let j=$.getLineContent(H),V=I6(j);if(this._opts.isUnshift&&(j.length===0||V===0))continue;if(!U&&!this._opts.isUnshift&&j.length===0)continue;if(V===-1)V=j.length;if(this._opts.isUnshift&&V===0)continue;if(this._opts.isUnshift){V=Math.min(V,G);for(let W=0;W<V;W++)if(j.charCodeAt(W)===9){V=W+1;break}this._addEditOperation(Q,new L(H,1,H,V+1),"")}else if(this._addEditOperation(Q,new L(H,1,H,1),z),H===X&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn===1}}this._selectionId=Q.trackSelection(this._selection)}computeCursorState($,Q){if(this._useLastEditRangeForCursorEndPosition){let Y=Q.getInverseEditOperations()[0];return new v0(Y.range.endLineNumber,Y.range.endColumn,Y.range.endLineNumber,Y.range.endColumn)}let X=Q.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let Y=this._selection.startColumn;if(X.startColumn<=Y)return X;if(X.getDirection()===0)return new v0(X.startLineNumber,Y,X.endLineNumber,X.endColumn);return new v0(X.endLineNumber,X.endColumn,X.startLineNumber,Y)}return X}};DY=dK=W80([B80(2,_6)],DY)});class CN{constructor(J,$,Q){this._range=J,this._charBeforeSelection=$,this._charAfterSelection=Q}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new L(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(J,$){let Q=$.getInverseEditOperations(),X=Q[0].range,Y=Q[1].range;return new v0(X.endLineNumber,X.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class vN{constructor(J,$,Q){this._position=J,this._text=$,this._charAfter=Q}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return new v0(X.endLineNumber,X.startColumn,X.endLineNumber,X.endColumn-this._charAfter.length)}}var cp=N(()=>{l0();E5()});function F80(J,$,Q){let X=J.tokenization.getLanguageIdAtPosition($,0);if($>1){let Y,Z=-1;for(Y=$-1;Y>=1;Y--){if(J.tokenization.getLanguageIdAtPosition(Y,0)!==X)return Z;let G=J.getLineContent(Y);if(Q.shouldIgnore(G)||/^\s+$/.test(G)||G===""){Z=Y;continue}return Y}}return-1}function sK(J,$,Q,X=!0,Y){if(J<4)return null;let Z=Y.getLanguageConfiguration($.tokenization.getLanguageId()).indentRulesSupport;if(!Z)return null;if(Q<=1)return{indentation:"",action:null};for(let U=Q-1;U>0;U--){if($.getLineContent(U)!=="")break;if(U===1)return{indentation:"",action:null}}let G=F80($,Q,Z);if(G<0)return null;else if(G<1)return{indentation:"",action:null};let q=$.getLineContent(G);if(Z.shouldIncrease(q)||Z.shouldIndentNextLine(q))return{indentation:t6(q),action:m5.Indent,line:G};else if(Z.shouldDecrease(q))return{indentation:t6(q),action:null,line:G};else{if(G===1)return{indentation:t6($.getLineContent(G)),action:null,line:G};let U=G-1,z=Z.getIndentMetadata($.getLineContent(U));if(!(z&3)&&z&4){let H=0;for(let j=U-1;j>0;j--){if(Z.shouldIndentNextLine($.getLineContent(j)))continue;H=j;break}return{indentation:t6($.getLineContent(H+1)),action:null,line:H+1}}if(X)return{indentation:t6($.getLineContent(G)),action:null,line:G};else{for(let H=G;H>0;H--){let j=$.getLineContent(H);if(Z.shouldIncrease(j))return{indentation:t6(j),action:m5.Indent,line:H};else if(Z.shouldIndentNextLine(j)){let V=0;for(let W=H-1;W>0;W--){if(Z.shouldIndentNextLine($.getLineContent(H)))continue;V=W;break}return{indentation:t6($.getLineContent(V+1)),action:null,line:V+1}}else if(Z.shouldDecrease(j))return{indentation:t6(j),action:null,line:H}}return{indentation:t6($.getLineContent(1)),action:null,line:1}}}}function lp(J,$,Q,X,Y){if(J<4)return null;$.tokenization.forceTokenization(Q.startLineNumber);let Z=$.tokenization.getLineTokens(Q.startLineNumber),G=tX(Z,Q.startColumn-1),q=G.getLineContent(),U=!1,z;if(G.firstCharOffset>0&&Z.getLanguageId(0)!==G.languageId)U=!0,z=q.substr(0,Q.startColumn-1-G.firstCharOffset);else z=Z.getLineContent().substring(0,Q.startColumn-1);let H;if(Q.isEmpty())H=q.substr(Q.startColumn-1-G.firstCharOffset);else H=JY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-G.firstCharOffset);let j=Y.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!j)return null;let V=z,W=t6(z),B={tokenization:{getLineTokens:(D)=>{return $.tokenization.getLineTokens(D)},getLanguageId:()=>{return $.getLanguageId()},getLanguageIdAtPosition:(D,R)=>{return $.getLanguageIdAtPosition(D,R)}},getLineContent:(D)=>{if(D===Q.startLineNumber)return V;else return $.getLineContent(D)}},K=t6(Z.getLineContent()),P=sK(J,B,Q.startLineNumber+1,void 0,Y);if(!P){let D=U?K:W;return{beforeEnter:D,afterEnter:D}}let A=U?K:P.indentation;if(P.action===m5.Indent)A=X.shiftIndent(A);if(j.shouldDecrease(H))A=X.unshiftIndent(A);return{beforeEnter:U?K:W,afterEnter:A}}function dp(J,$,Q,X,Y,Z){if(J<4)return null;let G=JY($,Q.startLineNumber,Q.startColumn);if(G.firstCharOffset)return null;let q=Z.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!q)return null;let U=G.getLineContent(),z=U.substr(0,Q.startColumn-1-G.firstCharOffset),H;if(Q.isEmpty())H=U.substr(Q.startColumn-1-G.firstCharOffset);else H=JY($,Q.endLineNumber,Q.endColumn).getLineContent().substr(Q.endColumn-1-G.firstCharOffset);if(!q.shouldDecrease(z+H)&&q.shouldDecrease(z+X+H)){let j=sK(J,$,Q.startLineNumber,!1,Z);if(!j)return null;let V=j.indentation;if(j.action!==m5.Indent)V=Y.unshiftIndent(V);return V}return null}var sp=N(()=>{t0();oZ();h8()});class N6{static indent(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=new DY(Q[Y],{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return X}static outdent(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=new DY(Q[Y],{isUnshift:!0,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return X}static shiftIndent(J,$,Q){return Q=Q||1,DY.shiftIndent($,$.length+Q,J.tabSize,J.indentSize,J.insertSpaces)}static unshiftIndent(J,$,Q){return Q=Q||1,DY.unshiftIndent($,$.length+Q,J.tabSize,J.indentSize,J.insertSpaces)}static _distributedPaste(J,$,Q,X){let Y=[];for(let Z=0,G=Q.length;Z<G;Z++)Y[Z]=new u8(Q[Z],X[Z]);return new G8(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(J,$,Q,X,Y){let Z=[];for(let G=0,q=Q.length;G<q;G++){let U=Q[G],z=U.getPosition();if(Y&&!U.isEmpty())Y=!1;if(Y&&X.indexOf(`
`)!==X.length-1)Y=!1;if(Y){let H=new L(z.lineNumber,1,z.lineNumber,1);Z[G]=new EN(H,X,U,!0)}else Z[G]=new u8(U,X)}return new G8(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(J,$,Q,X,Y){if(X)return null;if($.length===1)return null;if(Y&&Y.length===$.length)return Y;if(J.multiCursorPaste==="spread"){if(Q.charCodeAt(Q.length-1)===10)Q=Q.substr(0,Q.length-1);if(Q.charCodeAt(Q.length-1)===13)Q=Q.substr(0,Q.length-1);let Z=Q9(Q);if(Z.length===$.length)return Z}return null}static paste(J,$,Q,X,Y,Z){let G=this._distributePasteToCursors(J,Q,X,Y,Z);if(G)return Q=Q.sort(L.compareRangesUsingStarts),this._distributedPaste(J,$,Q,G);else return this._simplePaste(J,$,Q,X,Y)}static _goodIndentForLine(J,$,Q){let X=null,Y="",Z=sK(J.autoIndent,$,Q,!1,J.languageConfigurationService);if(Z)X=Z.action,Y=Z.indentation;else if(Q>1){let G;for(G=Q-1;G>=1;G--){let z=$.getLineContent(G);if(X9(z)>=0)break}if(G<1)return null;let q=$.getLineMaxColumn(G),U=_H(J.autoIndent,$,new L(G,q,G,q),J.languageConfigurationService);if(U)Y=U.indentation+U.appendText}if(X){if(X===m5.Indent)Y=N6.shiftIndent(J,Y);if(X===m5.Outdent)Y=N6.unshiftIndent(J,Y);Y=J.normalizeIndentation(Y)}if(!Y)return null;return Y}static _replaceJumpToNextIndent(J,$,Q,X){let Y="",Z=Q.getStartPosition();if(J.insertSpaces){let G=J.visibleColumnFromColumn($,Z),q=J.indentSize,U=q-G%q;for(let z=0;z<U;z++)Y+=" "}else Y="\t";return new u8(Q,Y,X)}static tab(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y];if(G.isEmpty()){let q=$.getLineContent(G.startLineNumber);if(/^\s*$/.test(q)&&$.tokenization.isCheapToTokenize(G.startLineNumber)){let U=this._goodIndentForLine(J,$,G.startLineNumber);U=U||"\t";let z=J.normalizeIndentation(U);if(!q.startsWith(z)){X[Y]=new u8(new L(G.startLineNumber,1,G.startLineNumber,q.length+1),z,!0);continue}}X[Y]=this._replaceJumpToNextIndent(J,$,G,!0)}else{if(G.startLineNumber===G.endLineNumber){let q=$.getLineMaxColumn(G.startLineNumber);if(G.startColumn!==1||G.endColumn!==q){X[Y]=this._replaceJumpToNextIndent(J,$,G,!1);continue}}X[Y]=new DY(G,{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService)}}return X}static compositionType(J,$,Q,X,Y,Z,G,q){let U=X.map((z)=>this._compositionType(Q,z,Y,Z,G,q));return new G8(4,U,{shouldPushStackElementBefore:aK(J,4),shouldPushStackElementAfter:!1})}static _compositionType(J,$,Q,X,Y,Z){if(!$.isEmpty())return null;let G=$.getPosition(),q=Math.max(1,G.column-X),U=Math.min(J.getLineMaxColumn(G.lineNumber),G.column+Y),z=new L(G.lineNumber,q,G.lineNumber,U);if(J.getValueInRange(z)===Q&&Z===0)return null;return new iq(z,Q,0,Z)}static _typeCommand(J,$,Q){if(Q)return new rq(J,$,!0);else return new u8(J,$,!0)}static _enter(J,$,Q,X){if(J.autoIndent===0)return N6._typeCommand(X,`
`,Q);if(!$.tokenization.isCheapToTokenize(X.getStartPosition().lineNumber)||J.autoIndent===1){let q=$.getLineContent(X.startLineNumber),U=t6(q).substring(0,X.startColumn-1);return N6._typeCommand(X,`
`+J.normalizeIndentation(U),Q)}let Y=_H(J.autoIndent,$,X,J.languageConfigurationService);if(Y){if(Y.indentAction===m5.None)return N6._typeCommand(X,`
`+J.normalizeIndentation(Y.indentation+Y.appendText),Q);else if(Y.indentAction===m5.Indent)return N6._typeCommand(X,`
`+J.normalizeIndentation(Y.indentation+Y.appendText),Q);else if(Y.indentAction===m5.IndentOutdent){let q=J.normalizeIndentation(Y.indentation),U=J.normalizeIndentation(Y.indentation+Y.appendText),z=`
`+U+`
`+q;if(Q)return new rq(X,z,!0);else return new iq(X,z,-1,U.length-q.length,!0)}else if(Y.indentAction===m5.Outdent){let q=N6.unshiftIndent(J,Y.indentation);return N6._typeCommand(X,`
`+J.normalizeIndentation(q+Y.appendText),Q)}}let Z=$.getLineContent(X.startLineNumber),G=t6(Z).substring(0,X.startColumn-1);if(J.autoIndent>=4){let q=lp(J.autoIndent,$,X,{unshiftIndent:(U)=>{return N6.unshiftIndent(J,U)},shiftIndent:(U)=>{return N6.shiftIndent(J,U)},normalizeIndentation:(U)=>{return J.normalizeIndentation(U)}},J.languageConfigurationService);if(q){let U=J.visibleColumnFromColumn($,X.getEndPosition()),z=X.endColumn,H=$.getLineContent(X.endLineNumber),j=I6(H);if(j>=0)X=X.setEndPosition(X.endLineNumber,Math.max(X.endColumn,j+1));else X=X.setEndPosition(X.endLineNumber,$.getLineMaxColumn(X.endLineNumber));if(Q)return new rq(X,`
`+J.normalizeIndentation(q.afterEnter),!0);else{let V=0;if(z<=j+1){if(!J.insertSpaces)U=Math.ceil(U/J.indentSize);V=Math.min(U+1-J.normalizeIndentation(q.afterEnter).length-1,0)}return new iq(X,`
`+J.normalizeIndentation(q.afterEnter),0,V,!0)}}}return N6._typeCommand(X,`
`+J.normalizeIndentation(G),Q)}static _isAutoIndentType(J,$,Q){if(J.autoIndent<4)return!1;for(let X=0,Y=Q.length;X<Y;X++)if(!$.tokenization.isCheapToTokenize(Q[X].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(J,$,Q,X){let Y=fF($,Q.startLineNumber,Q.startColumn),Z=dp(J.autoIndent,$,Q,X,{shiftIndent:(G)=>{return N6.shiftIndent(J,G)},unshiftIndent:(G)=>{return N6.unshiftIndent(J,G)}},J.languageConfigurationService);if(Z===null)return null;if(Z!==J.normalizeIndentation(Y)){let G=$.getLineFirstNonWhitespaceColumn(Q.startLineNumber);if(G===0)return N6._typeCommand(new L(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),J.normalizeIndentation(Z)+X,!1);else return N6._typeCommand(new L(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),J.normalizeIndentation(Z)+$.getLineContent(Q.startLineNumber).substring(G-1,Q.startColumn-1)+X,!1)}return null}static _isAutoClosingOvertype(J,$,Q,X,Y){if(J.autoClosingOvertype==="never")return!1;if(!J.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let Z=0,G=Q.length;Z<G;Z++){let q=Q[Z];if(!q.isEmpty())return!1;let U=q.getPosition(),z=$.getLineContent(U.lineNumber);if(z.charAt(U.column-1)!==Y)return!1;let j=E$(Y);if((U.column>2?z.charCodeAt(U.column-2):0)===92&&j)return!1;if(J.autoClosingOvertype==="auto"){let W=!1;for(let B=0,K=X.length;B<K;B++){let P=X[B];if(U.lineNumber===P.startLineNumber&&U.column===P.startColumn){W=!0;break}}if(!W)return!1}}return!0}static _runAutoClosingOvertype(J,$,Q,X,Y){let Z=[];for(let G=0,q=X.length;G<q;G++){let z=X[G].getPosition(),H=new L(z.lineNumber,z.column,z.lineNumber,z.column+1);Z[G]=new u8(H,Y)}return new G8(4,Z,{shouldPushStackElementBefore:aK(J,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(J,$){let Q=$.charAt(0),X=J.autoClosingPairs.autoClosingPairsOpenByStart.get(Q)||[],Y=J.autoClosingPairs.autoClosingPairsCloseByStart.get(Q)||[],Z=X.some((q)=>$.startsWith(q.open)),G=Y.some((q)=>$.startsWith(q.close));return!Z&&G}static _findAutoClosingPairOpen(J,$,Q,X){let Y=J.autoClosingPairs.autoClosingPairsOpenByEnd.get(X);if(!Y)return null;let Z=null;for(let G of Y)if(Z===null||G.open.length>Z.open.length){let q=!0;for(let U of Q)if($.getValueInRange(new L(U.lineNumber,U.column-G.open.length+1,U.lineNumber,U.column))+X!==G.open){q=!1;break}if(q)Z=G}return Z}static _findContainedAutoClosingPair(J,$){if($.open.length<=1)return null;let Q=$.close.charAt($.close.length-1),X=J.autoClosingPairs.autoClosingPairsCloseByEnd.get(Q)||[],Y=null;for(let Z of X)if(Z.open!==$.open&&$.open.includes(Z.open)&&$.close.endsWith(Z.close)){if(!Y||Z.open.length>Y.open.length)Y=Z}return Y}static _getAutoClosingPairClose(J,$,Q,X,Y){for(let W of Q)if(!W.isEmpty())return null;let Z=Q.map((W)=>{let B=W.getPosition();if(Y)return{lineNumber:B.lineNumber,beforeColumn:B.column-X.length,afterColumn:B.column};else return{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),G=this._findAutoClosingPairOpen(J,$,Z.map((W)=>new v(W.lineNumber,W.beforeColumn)),X);if(!G)return null;let q,U;if(E$(X))q=J.autoClosingQuotes,U=J.shouldAutoCloseBefore.quote;else if(J.blockCommentStartToken?G.open.includes(J.blockCommentStartToken):!1)q=J.autoClosingComments,U=J.shouldAutoCloseBefore.comment;else q=J.autoClosingBrackets,U=J.shouldAutoCloseBefore.bracket;if(q==="never")return null;let H=this._findContainedAutoClosingPair(J,G),j=H?H.close:"",V=!0;for(let W of Z){let{lineNumber:B,beforeColumn:K,afterColumn:P}=W,A=$.getLineContent(B),D=A.substring(0,K-1),R=A.substring(P-1);if(!R.startsWith(j))V=!1;if(R.length>0){let w=R.charAt(0);if(!N6._isBeforeClosingBrace(J,R)&&!U(w))return null}if(G.open.length===1&&(X==="'"||X==='"')&&q!=="always"){let w=V$(J.wordSeparators);if(D.length>0){let b=D.charCodeAt(D.length-1);if(w.get(b)===0)return null}}if(!$.tokenization.isCheapToTokenize(B))return null;$.tokenization.forceTokenization(B);let M=$.tokenization.getLineTokens(B),_=tX(M,K-1);if(!G.shouldAutoClose(_,K-_.firstCharOffset))return null;let T=G.findNeutralCharacter();if(T){let w=$.tokenization.getTokenTypeIfInsertingCharacter(B,K,T);if(!G.isOK(w))return null}}if(V)return G.close.substring(0,G.close.length-j.length);else return G.close}static _runAutoClosingOpenCharType(J,$,Q,X,Y,Z,G){let q=[];for(let U=0,z=X.length;U<z;U++){let H=X[U];q[U]=new rK(H,Y,!Z,G)}return new G8(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(J,$){if(E$($))return J.autoSurround==="quotes"||J.autoSurround==="languageDefined";else return J.autoSurround==="brackets"||J.autoSurround==="languageDefined"}static _isSurroundSelectionType(J,$,Q,X){if(!N6._shouldSurroundChar(J,X)||!J.surroundingPairs.hasOwnProperty(X))return!1;let Y=E$(X);for(let Z of Q){if(Z.isEmpty())return!1;let G=!0;for(let q=Z.startLineNumber;q<=Z.endLineNumber;q++){let U=$.getLineContent(q),z=q===Z.startLineNumber?Z.startColumn-1:0,H=q===Z.endLineNumber?Z.endColumn-1:U.length,j=U.substring(z,H);if(/[^ \t]/.test(j)){G=!1;break}}if(G)return!1;if(Y&&Z.startLineNumber===Z.endLineNumber&&Z.startColumn+1===Z.endColumn){let q=$.getValueInRange(Z);if(E$(q))return!1}}return!0}static _runSurroundSelectionType(J,$,Q,X,Y){let Z=[];for(let G=0,q=X.length;G<q;G++){let U=X[G],z=$.surroundingPairs[Y];Z[G]=new CN(U,Y,z)}return new G8(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(J,$,Q){if(Q.length===1&&$.tokenization.isCheapToTokenize(Q[0].getEndPosition().lineNumber))return!0;return!1}static _typeInterceptorElectricChar(J,$,Q,X,Y){if(!$.electricChars.hasOwnProperty(Y)||!X.isEmpty())return null;let Z=X.getPosition();Q.tokenization.forceTokenization(Z.lineNumber);let G=Q.tokenization.getLineTokens(Z.lineNumber),q;try{q=$.onElectricCharacter(Y,G,Z.column)}catch(U){return o0(U),null}if(!q)return null;if(q.matchOpenBracket){let U=(G.getLineContent()+Y).lastIndexOf(q.matchOpenBracket)+1,z=Q.bracketPairs.findMatchingBracketUp(q.matchOpenBracket,{lineNumber:Z.lineNumber,column:U},500);if(z){if(z.startLineNumber===Z.lineNumber)return null;let H=Q.getLineContent(z.startLineNumber),j=t6(H),V=$.normalizeIndentation(j),W=Q.getLineContent(Z.lineNumber),B=Q.getLineFirstNonWhitespaceColumn(Z.lineNumber)||Z.column,K=W.substring(B-1,Z.column-1),P=V+K+Y,A=new L(Z.lineNumber,1,Z.lineNumber,Z.column),D=new u8(A,P);return new G8(hN(P,J),[D],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(J,$,Q,X,Y,Z){if(!X)return null;let G=null;for(let H of X)if(G===null)G=H.insertedText;else if(G!==H.insertedText)return null;if(!G||G.length!==1)return null;let q=G,U=!1;for(let H of X)if(H.deletedText.length!==0){U=!0;break}if(U){if(!N6._shouldSurroundChar($,q)||!$.surroundingPairs.hasOwnProperty(q))return null;let H=E$(q);for(let W of X){if(W.deletedSelectionStart!==0||W.deletedSelectionEnd!==W.deletedText.length)return null;if(/^[ \t]+$/.test(W.deletedText))return null;if(H&&E$(W.deletedText))return null}let j=[];for(let W of Y){if(!W.isEmpty())return null;j.push(W.getPosition())}if(j.length!==X.length)return null;let V=[];for(let W=0,B=j.length;W<B;W++)V.push(new vN(j[W],X[W].deletedText,$.surroundingPairs[q]));return new G8(4,V,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype($,Q,Y,Z,q)){let H=Y.map((j)=>new u8(new L(j.positionLineNumber,j.positionColumn,j.positionLineNumber,j.positionColumn+1),"",!1));return new G8(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}let z=this._getAutoClosingPairClose($,Q,Y,q,!0);if(z!==null)return this._runAutoClosingOpenCharType(J,$,Q,Y,q,!0,z);return null}static typeWithInterceptors(J,$,Q,X,Y,Z,G){if(!J&&G===`
`){let z=[];for(let H=0,j=Y.length;H<j;H++)z[H]=N6._enter(Q,X,!1,Y[H]);return new G8(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!J&&this._isAutoIndentType(Q,X,Y)){let z=[],H=!1;for(let j=0,V=Y.length;j<V;j++)if(z[j]=this._runAutoIndentType(Q,X,Y[j],G),!z[j]){H=!0;break}if(!H)return new G8(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Q,X,Y,Z,G))return this._runAutoClosingOvertype($,Q,X,Y,G);if(!J){let z=this._getAutoClosingPairClose(Q,X,Y,G,!1);if(z)return this._runAutoClosingOpenCharType($,Q,X,Y,G,!1,z)}if(!J&&this._isSurroundSelectionType(Q,X,Y,G))return this._runSurroundSelectionType($,Q,X,Y,G);if(!J&&this._isTypeInterceptorElectricChar(Q,X,Y)){let z=this._typeInterceptorElectricChar($,Q,X,Y[0],G);if(z)return z}let q=[];for(let z=0,H=Y.length;z<H;z++)q[z]=new u8(Y[z],G);let U=hN(G,$);return new G8(U,q,{shouldPushStackElementBefore:aK($,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(J,$,Q,X,Y){let Z=[];for(let q=0,U=X.length;q<U;q++)Z[q]=new u8(X[q],Y);let G=hN(Y,J);return new G8(G,Z,{shouldPushStackElementBefore:aK(J,G),shouldPushStackElementAfter:!1})}static lineInsertBefore(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].positionLineNumber;if(G===1)X[Y]=new rq(new L(1,1,1,1),`
`);else{G--;let q=$.getLineMaxColumn(G);X[Y]=this._enter(J,$,!1,new L(G,q,G,q))}}return X}static lineInsertAfter(J,$,Q){if($===null||Q===null)return[];let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].positionLineNumber,q=$.getLineMaxColumn(G);X[Y]=this._enter(J,$,!1,new L(G,q,G,q))}return X}static lineBreakInsert(J,$,Q){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=this._enter(J,$,!0,Q[Y]);return X}}class fN{constructor(J,$,Q,X,Y,Z){this.deletedText=J,this.deletedSelectionStart=$,this.deletedSelectionEnd=Q,this.insertedText=X,this.insertedSelectionStart=Y,this.insertedSelectionEnd=Z}}function hN(J,$){if(J===" ")return $===5||$===6?6:5;return 4}function aK(J,$){if(rp(J)&&!rp($))return!0;if(J===5)return!1;return ap(J)!==ap($)}function ap(J){return J===6||J===5?"space":J}function rp(J){return J===4||J===5||J===6}var rK;var gN=N(()=>{P1();t0();IN();up();cp();b4();gz();l0();oZ();h8();sp();bN();rK=class rK extends iq{constructor(J,$,Q,X){super(J,(Q?$:"")+X,0,-X.length);this._openCharacter=$,this._closeCharacter=X,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(J,$){let X=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L(X.startLineNumber,X.endColumn-this._closeCharacter.length,X.endLineNumber,X.endColumn),this.enclosingRange=new L(X.startLineNumber,X.endColumn-this._openCharacter.length-this._closeCharacter.length,X.endLineNumber,X.endColumn),super.computeCursorState(J,$)}}});var n;var $X=N(()=>{g0();m1();(function(J){J.editorSimpleInput=new H0("editorSimpleInput",!1,!0),J.editorTextFocus=new H0("editorTextFocus",!1,F("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),J.focus=new H0("editorFocus",!1,F("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),J.textInputFocus=new H0("textInputFocus",!1,F("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),J.readOnly=new H0("editorReadonly",!1,F("editorReadonly","Whether the editor is read-only")),J.inDiffEditor=new H0("inDiffEditor",!1,F("inDiffEditor","Whether the context is a diff editor")),J.isEmbeddedDiffEditor=new H0("isEmbeddedDiffEditor",!1,F("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),J.inMultiDiffEditor=new H0("inMultiDiffEditor",!1,F("inMultiDiffEditor","Whether the context is a multi diff editor")),J.multiDiffEditorAllCollapsed=new H0("multiDiffEditorAllCollapsed",void 0,F("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),J.hasChanges=new H0("diffEditorHasChanges",!1,F("diffEditorHasChanges","Whether the diff editor has changes")),J.comparingMovedCode=new H0("comparingMovedCode",!1,F("comparingMovedCode","Whether a moved code block is selected for comparison")),J.accessibleDiffViewerVisible=new H0("accessibleDiffViewerVisible",!1,F("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),J.diffEditorRenderSideBySideInlineBreakpointReached=new H0("diffEditorRenderSideBySideInlineBreakpointReached",!1,F("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),J.columnSelection=new H0("editorColumnSelection",!1,F("editorColumnSelection","Whether `editor.columnSelection` is enabled")),J.writable=J.readOnly.toNegated(),J.hasNonEmptySelection=new H0("editorHasSelection",!1,F("editorHasSelection","Whether the editor has text selected")),J.hasOnlyEmptySelection=J.hasNonEmptySelection.toNegated(),J.hasMultipleSelections=new H0("editorHasMultipleSelections",!1,F("editorHasMultipleSelections","Whether the editor has multiple selections")),J.hasSingleSelection=J.hasMultipleSelections.toNegated(),J.tabMovesFocus=new H0("editorTabMovesFocus",!1,F("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),J.tabDoesNotMoveFocus=J.tabMovesFocus.toNegated(),J.isInWalkThroughSnippet=new H0("isInEmbeddedEditor",!1,!0),J.canUndo=new H0("canUndo",!1,!0),J.canRedo=new H0("canRedo",!1,!0),J.hoverVisible=new H0("editorHoverVisible",!1,F("editorHoverVisible","Whether the editor hover is visible")),J.hoverFocused=new H0("editorHoverFocused",!1,F("editorHoverFocused","Whether the editor hover is focused")),J.stickyScrollFocused=new H0("stickyScrollFocused",!1,F("stickyScrollFocused","Whether the sticky scroll is focused")),J.stickyScrollVisible=new H0("stickyScrollVisible",!1,F("stickyScrollVisible","Whether the sticky scroll is visible")),J.standaloneColorPickerVisible=new H0("standaloneColorPickerVisible",!1,F("standaloneColorPickerVisible","Whether the standalone color picker is visible")),J.standaloneColorPickerFocused=new H0("standaloneColorPickerFocused",!1,F("standaloneColorPickerFocused","Whether the standalone color picker is focused")),J.inCompositeEditor=new H0("inCompositeEditor",void 0,F("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),J.notInCompositeEditor=J.inCompositeEditor.toNegated(),J.languageId=new H0("editorLangId","",F("editorLangId","The language identifier of the editor")),J.hasCompletionItemProvider=new H0("editorHasCompletionItemProvider",!1,F("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),J.hasCodeActionsProvider=new H0("editorHasCodeActionsProvider",!1,F("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),J.hasCodeLensProvider=new H0("editorHasCodeLensProvider",!1,F("editorHasCodeLensProvider","Whether the editor has a code lens provider")),J.hasDefinitionProvider=new H0("editorHasDefinitionProvider",!1,F("editorHasDefinitionProvider","Whether the editor has a definition provider")),J.hasDeclarationProvider=new H0("editorHasDeclarationProvider",!1,F("editorHasDeclarationProvider","Whether the editor has a declaration provider")),J.hasImplementationProvider=new H0("editorHasImplementationProvider",!1,F("editorHasImplementationProvider","Whether the editor has an implementation provider")),J.hasTypeDefinitionProvider=new H0("editorHasTypeDefinitionProvider",!1,F("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),J.hasHoverProvider=new H0("editorHasHoverProvider",!1,F("editorHasHoverProvider","Whether the editor has a hover provider")),J.hasDocumentHighlightProvider=new H0("editorHasDocumentHighlightProvider",!1,F("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),J.hasDocumentSymbolProvider=new H0("editorHasDocumentSymbolProvider",!1,F("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),J.hasReferenceProvider=new H0("editorHasReferenceProvider",!1,F("editorHasReferenceProvider","Whether the editor has a reference provider")),J.hasRenameProvider=new H0("editorHasRenameProvider",!1,F("editorHasRenameProvider","Whether the editor has a rename provider")),J.hasSignatureHelpProvider=new H0("editorHasSignatureHelpProvider",!1,F("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),J.hasInlayHintsProvider=new H0("editorHasInlayHintsProvider",!1,F("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),J.hasDocumentFormattingProvider=new H0("editorHasDocumentFormattingProvider",!1,F("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),J.hasDocumentSelectionFormattingProvider=new H0("editorHasDocumentSelectionFormattingProvider",!1,F("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),J.hasMultipleDocumentFormattingProvider=new H0("editorHasMultipleDocumentFormattingProvider",!1,F("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),J.hasMultipleDocumentSelectionFormattingProvider=new H0("editorHasMultipleDocumentSelectionFormattingProvider",!1,F("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(n||(n={}))});class iK{constructor(J){J.addImplementation(1e4,"code-editor",($,Q)=>{let X=$.get(l1).getFocusedCodeEditor();if(X&&X.hasTextFocus())return this._runEditorCommand($,X,Q);return!1}),J.addImplementation(1000,"generic-dom-input-textarea",($,Q)=>{let X=e6();if(X&&["input","textarea"].indexOf(X.tagName.toLowerCase())>=0)return this.runDOMCommand(X),!0;return!1}),J.addImplementation(0,"generic-dom",($,Q)=>{let X=$.get(l1).getActiveCodeEditor();if(X)return X.focus(),this._runEditorCommand($,X,Q);return!1})}_runEditorCommand(J,$,Q){let X=this.runEditorCommand(J,$,Q);if(X)return X;return!0}}function oq(J,$){ZJ.registerKeybindingRule({id:J,primary:$,when:K80,weight:w1+1})}function ip(J){return J.register(),J}function x2(J,$){ip(new pN("default:"+J,J)),ip(new pN(J,J,$))}var w1=0,T6,q8,nq,_5,K80,np,pN;var op=N(()=>{g0();B7();UY();b9();Y9();pp();b4();lK();mp();gN();l0();$X();m1();tG();D0();T6=class T6 extends S7{runEditorCommand(J,$,Q){let X=$._getViewModel();if(!X)return;this.runCoreEditorCommand(X,Q||{})}};(function(J){let $=function(X){if(!r6(X))return!1;let Y=X;if(!Y5(Y.to))return!1;if(!o5(Y.by)&&!Y5(Y.by))return!1;if(!o5(Y.value)&&!e7(Y.value))return!1;if(!o5(Y.revealCursor)&&!MW(Y.revealCursor))return!1;return!0};J.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},J.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function Q(X){let Y;switch(X.to){case J.RawDirection.Up:Y=1;break;case J.RawDirection.Right:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.Left:Y=4;break;default:return null}let Z;switch(X.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Page:Z=3;break;case J.RawUnit.HalfPage:Z=4;break;case J.RawUnit.Editor:Z=5;break;case J.RawUnit.Column:Z=6;break;default:Z=2}let G=Math.floor(X.value||1),q=!!X.revealCursor;return{direction:Y,unit:Z,value:G,revealCursor:q,select:!!X.select}}J.parse=Q})(q8||(q8={}));(function(J){let $=function(Q){if(!r6(Q))return!1;let X=Q;if(!e7(X.lineNumber)&&!Y5(X.lineNumber))return!1;if(!o5(X.at)&&!Y5(X.at))return!1;return!0};J.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},J.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(nq||(nq={}));(function(J){class $ extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[d5.moveTo(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position,D.viewPosition)])&&D.revealType!==2)A.revealPrimaryCursor(D.source,!0,!0)}}J.MoveTo=w0(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),J.MoveToSelect=w0(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class Q extends T6{runCoreEditorCommand(A,D){A.model.pushStackElement();let R=this._getColumnSelectResult(A,A.getPrimaryCursorState(),A.getCursorColumnSelectData(),D);if(R===null)return;if(A.setCursorStates(D.source,3,R.viewStates.map((M)=>B1.fromViewState(M))),A.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:R.fromLineNumber,fromViewVisualColumn:R.fromVisualColumn,toViewLineNumber:R.toLineNumber,toViewVisualColumn:R.toVisualColumn}),R.reversed)A.revealTopMostCursor(D.source);else A.revealBottomMostCursor(D.source)}}J.ColumnSelect=w0(new class extends Q{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(A,D,R,M){if(typeof M.position==="undefined"||typeof M.viewPosition==="undefined"||typeof M.mouseColumn==="undefined")return null;let _=A.model.validatePosition(M.position),T=A.coordinatesConverter.validateViewPosition(new v(M.viewPosition.lineNumber,M.viewPosition.column),_),w=M.doColumnSelect?R.fromViewLineNumber:T.lineNumber,b=M.doColumnSelect?R.fromViewVisualColumn:M.mouseColumn-1;return PY.columnSelect(A.cursorConfig,A,w,b,T.lineNumber,M.mouseColumn-1)}}),J.CursorColumnSelectLeft=w0(new class extends Q{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(A,D,R,M){return PY.columnSelectLeft(A.cursorConfig,A,R)}}),J.CursorColumnSelectRight=w0(new class extends Q{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(A,D,R,M){return PY.columnSelectRight(A.cursorConfig,A,R)}});class X extends Q{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,D,R,M){return PY.columnSelectUp(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectUp=w0(new X({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3600,linux:{primary:0}}})),J.CursorColumnSelectPageUp=w0(new X({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3595,linux:{primary:0}}}));class Y extends Q{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,D,R,M){return PY.columnSelectDown(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectDown=w0(new Y({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3602,linux:{primary:0}}})),J.CursorColumnSelectPageDown=w0(new Y({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3596,linux:{primary:0}}}));class Z extends T6{constructor(){super({id:"cursorMove",precondition:void 0,metadata:MH.metadata})}runCoreEditorCommand(A,D){let R=MH.parse(D);if(!R)return;this._runCursorMove(A,D.source,R)}_runCursorMove(A,D,R){A.model.pushStackElement(),A.setCursorStates(D,3,Z._move(A,A.getCursorStates(),R)),A.revealPrimaryCursor(D,!0)}static _move(A,D,R){let{select:M,value:_}=R;switch(R.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return d5.simpleMove(A,D,R.direction,M,_,R.unit);case 11:case 13:case 12:case 14:return d5.viewportMove(A,D,R.direction,M,_);default:return null}}}J.CursorMoveImpl=Z,J.CursorMove=w0(new Z);class G extends T6{constructor(A){super(A);this._staticArgs=A.args}runCoreEditorCommand(A,D){let R=this._staticArgs;if(this._staticArgs.value===-1)R={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:D.pageSize||A.cursorConfig.pageSize};A.model.pushStackElement(),A.setCursorStates(D.source,3,d5.simpleMove(A,A.getCursorStates(),R.direction,R.select,R.value,R.unit)),A.revealPrimaryCursor(D.source,!0)}}J.CursorLeft=w0(new G({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),J.CursorLeftSelect=w0(new G({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1039}})),J.CursorRight=w0(new G({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),J.CursorRightSelect=w0(new G({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1041}})),J.CursorUp=w0(new G({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),J.CursorUpSelect=w0(new G({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),J.CursorPageUp=w0(new G({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:11}})),J.CursorPageUpSelect=w0(new G({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1035}})),J.CursorDown=w0(new G({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),J.CursorDownSelect=w0(new G({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),J.CursorPageDown=w0(new G({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:12}})),J.CursorPageDownSelect=w0(new G({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1036}})),J.CreateCursor=w0(new class extends T6{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;let R;if(D.wholeLine)R=d5.line(A,A.getPrimaryCursorState(),!1,D.position,D.viewPosition);else R=d5.moveTo(A,A.getPrimaryCursorState(),!1,D.position,D.viewPosition);let M=A.getCursorStates();if(M.length>1){let _=R.modelState?R.modelState.position:null,T=R.viewState?R.viewState.position:null;for(let w=0,b=M.length;w<b;w++){let S=M[w];if(_&&!S.modelState.selection.containsPosition(_))continue;if(T&&!S.viewState.selection.containsPosition(T))continue;M.splice(w,1),A.model.pushStackElement(),A.setCursorStates(D.source,3,M);return}}M.push(R),A.model.pushStackElement(),A.setCursorStates(D.source,3,M)}}),J.LastCursorMoveToSelect=w0(new class extends T6{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;let R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),_=M.slice(0);_[R]=d5.moveTo(A,M[R],!0,D.position,D.viewPosition),A.model.pushStackElement(),A.setCursorStates(D.source,3,_)}});class q extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,d5.moveToBeginningOfLine(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorHome=w0(new q({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),J.CursorHomeSelect=w0(new q({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class U extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,this._exec(A.getCursorStates())),A.revealPrimaryCursor(D.source,!0)}_exec(A){let D=[];for(let R=0,M=A.length;R<M;R++){let _=A[R],T=_.modelState.position.lineNumber;D[R]=B1.fromModelState(_.modelState.move(this._inSelectionMode,T,1,0))}return D}}J.CursorLineStart=w0(new U({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:0,mac:{primary:287}}})),J.CursorLineStartSelect=w0(new U({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,d5.moveToEndOfLine(A,A.getCursorStates(),this._inSelectionMode,D.sticky||!1)),A.revealPrimaryCursor(D.source,!0)}}J.CursorEnd=w0(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:w1,kbExpr:n.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),J.CursorEndSelect=w0(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:w1,kbExpr:n.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class H extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,this._exec(A,A.getCursorStates())),A.revealPrimaryCursor(D.source,!0)}_exec(A,D){let R=[];for(let M=0,_=D.length;M<_;M++){let T=D[M],w=T.modelState.position.lineNumber,b=A.model.getLineMaxColumn(w);R[M]=B1.fromModelState(T.modelState.move(this._inSelectionMode,w,b,0))}return R}}J.CursorLineEnd=w0(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:0,mac:{primary:291}}})),J.CursorLineEndSelect=w0(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:0,mac:{primary:1315}}}));class j extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,d5.moveToBeginningOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorTop=w0(new j({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2062,mac:{primary:2064}}})),J.CursorTopSelect=w0(new j({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3086,mac:{primary:3088}}}));class V extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,d5.moveToEndOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorBottom=w0(new V({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2061,mac:{primary:2066}}})),J.CursorBottomSelect=w0(new V({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:3085,mac:{primary:3090}}}));class W extends T6{constructor(){super({id:"editorScroll",precondition:void 0,metadata:q8.metadata})}determineScrollMethod(A){let D=[6],R=[1,2,3,4,5,6],M=[4,2],_=[1,3];if(D.includes(A.unit)&&M.includes(A.direction))return this._runHorizontalEditorScroll.bind(this);if(R.includes(A.unit)&&_.includes(A.direction))return this._runVerticalEditorScroll.bind(this);return null}runCoreEditorCommand(A,D){let R=q8.parse(D);if(!R)return;let M=this.determineScrollMethod(R);if(!M)return;M(A,D.source,R)}_runVerticalEditorScroll(A,D,R){let M=this._computeDesiredScrollTop(A,R);if(R.revealCursor){let _=A.getCompletelyVisibleViewRangeAtScrollTop(M);A.setCursorStates(D,3,[d5.findPositionInViewportIfOutside(A,A.getPrimaryCursorState(),_,R.select)])}A.viewLayout.setScrollPosition({scrollTop:M},0)}_computeDesiredScrollTop(A,D){if(D.unit===1){let _=A.viewLayout.getFutureViewport(),T=A.getCompletelyVisibleViewRangeAtScrollTop(_.top),w=A.coordinatesConverter.convertViewRangeToModelRange(T),b;if(D.direction===1)b=Math.max(1,w.startLineNumber-D.value);else b=Math.min(A.model.getLineCount(),w.startLineNumber+D.value);let S=A.coordinatesConverter.convertModelPositionToViewPosition(new v(b,1));return A.viewLayout.getVerticalOffsetForLineNumber(S.lineNumber)}if(D.unit===5){let _=0;if(D.direction===3)_=A.model.getLineCount()-A.cursorConfig.pageSize;return A.viewLayout.getVerticalOffsetForLineNumber(_)}let R;if(D.unit===3)R=A.cursorConfig.pageSize*D.value;else if(D.unit===4)R=Math.round(A.cursorConfig.pageSize/2)*D.value;else R=D.value;let M=(D.direction===1?-1:1)*R;return A.viewLayout.getCurrentScrollTop()+M*A.cursorConfig.lineHeight}_runHorizontalEditorScroll(A,D,R){let M=this._computeDesiredScrollLeft(A,R);A.viewLayout.setScrollPosition({scrollLeft:M},0)}_computeDesiredScrollLeft(A,D){let R=(D.direction===4?-1:1)*D.value;return A.viewLayout.getCurrentScrollLeft()+R*A.cursorConfig.typicalHalfwidthCharacterWidth}}J.EditorScrollImpl=W,J.EditorScroll=w0(new W),J.ScrollLineUp=w0(new class extends T6{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Up,by:q8.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollPageUp=w0(new class extends T6{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Up,by:q8.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollEditorTop=w0(new class extends T6{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Up,by:q8.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollLineDown=w0(new class extends T6{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Down,by:q8.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollPageDown=w0(new class extends T6{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Down,by:q8.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollEditorBottom=w0(new class extends T6{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Down,by:q8.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollLeft=w0(new class extends T6{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Left,by:q8.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollRight=w0(new class extends T6{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:q8.RawDirection.Right,by:q8.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:D.source})}});class B extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[d5.word(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position)]),D.revealType!==2)A.revealPrimaryCursor(D.source,!0,!0)}}J.WordSelect=w0(new B({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),J.WordSelectDrag=w0(new B({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),J.LastCursorWordSelect=w0(new class extends T6{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;let R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),_=M.slice(0),T=M[R];_[R]=d5.word(A,T,T.modelState.hasSelection(),D.position),A.model.pushStackElement(),A.setCursorStates(D.source,3,_)}});class K extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[d5.line(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position,D.viewPosition)]),D.revealType!==2)A.revealPrimaryCursor(D.source,!1,!0)}}J.LineSelect=w0(new K({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),J.LineSelectDrag=w0(new K({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class P extends T6{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;let R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),_=M.slice(0);_[R]=d5.line(A,M[R],this._inSelectionMode,D.position,D.viewPosition),A.model.pushStackElement(),A.setCursorStates(D.source,3,_)}}J.LastCursorLineSelect=w0(new P({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),J.LastCursorLineSelectDrag=w0(new P({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),J.CancelSelection=w0(new class extends T6{constructor(){super({id:"cancelSelection",precondition:n.hasNonEmptySelection,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,[d5.cancelSelection(A,A.getPrimaryCursorState())]),A.revealPrimaryCursor(D.source,!0)}}),J.RemoveSecondaryCursors=w0(new class extends T6{constructor(){super({id:"removeSecondaryCursors",precondition:n.hasMultipleSelections,kbOpts:{weight:w1+1,kbExpr:n.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,[A.getPrimaryCursorState()]),A.revealPrimaryCursor(D.source,!0),K$(F("removedCursor","Removed secondary cursors"))}}),J.RevealLine=w0(new class extends T6{constructor(){super({id:"revealLine",precondition:void 0,metadata:nq.metadata})}runCoreEditorCommand(A,D){let R=D,M=R.lineNumber||0,_=typeof M==="number"?M+1:parseInt(M)+1;if(_<1)_=1;let T=A.model.getLineCount();if(_>T)_=T;let w=new L(_,1,_,A.model.getLineMaxColumn(_)),b=0;if(R.at)switch(R.at){case nq.RawAtArgument.Top:b=3;break;case nq.RawAtArgument.Center:b=1;break;case nq.RawAtArgument.Bottom:b=4;break;default:break}let S=A.coordinatesConverter.convertModelRangeToViewRange(w);A.revealRange(D.source,!1,S,b,0)}}),J.SelectAll=new class extends iK{constructor(){super(MC)}runDOMCommand(A){if(g5)A.focus(),A.select();A.ownerDocument.execCommand("selectAll")}runEditorCommand(A,D,R){let M=D._getViewModel();if(!M)return;this.runCoreEditorCommand(M,R)}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates("keyboard",3,[d5.selectAll(A,A.getPrimaryCursorState())])}},J.SetSelection=w0(new class extends T6{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.selection)return;A.model.pushStackElement(),A.setCursorStates(D.source,3,[B1.fromModelSelection(D.selection)])}})})(_5||(_5={}));K80=N0.and(n.textInputFocus,n.columnSelection);oq(_5.CursorColumnSelectLeft.id,1039);oq(_5.CursorColumnSelectRight.id,1041);oq(_5.CursorColumnSelectUp.id,1040);oq(_5.CursorColumnSelectPageUp.id,1035);oq(_5.CursorColumnSelectDown.id,1042);oq(_5.CursorColumnSelectPageDown.id,1036);(function(J){class $ extends S7{runEditorCommand(Q,X,Y){let Z=X._getViewModel();if(!Z)return;this.runCoreEditingCommand(X,Z,Y||{})}}J.CoreEditingCommand=$,J.LineBreakInsert=w0(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:n.writable,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,N6.lineBreakInsert(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection)))}}),J.Outdent=w0(new class extends ${constructor(){super({id:"outdent",precondition:n.writable,kbOpts:{weight:w1,kbExpr:N0.and(n.editorTextFocus,n.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,N6.outdent(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection))),Q.pushUndoStop()}}),J.Tab=w0(new class extends ${constructor(){super({id:"tab",precondition:n.writable,kbOpts:{weight:w1,kbExpr:N0.and(n.editorTextFocus,n.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(Q,X,Y){Q.pushUndoStop(),Q.executeCommands(this.id,N6.tab(X.cursorConfig,X.model,X.getCursorStates().map((Z)=>Z.modelState.selection))),Q.pushUndoStop()}}),J.DeleteLeft=w0(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(Q,X,Y){let[Z,G]=I$.deleteLeft(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map((q)=>q.modelState.selection),X.getCursorAutoClosedCharacters());if(Z)Q.pushUndoStop();Q.executeCommands(this.id,G),X.setPrevEditOperationType(2)}}),J.DeleteRight=w0(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:w1,kbExpr:n.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(Q,X,Y){let[Z,G]=I$.deleteRight(X.getPrevEditOperationType(),X.cursorConfig,X.model,X.getCursorStates().map((q)=>q.modelState.selection));if(Z)Q.pushUndoStop();Q.executeCommands(this.id,G),X.setPrevEditOperationType(3)}}),J.Undo=new class extends iK{constructor(){super(H_)}runDOMCommand(Q){Q.ownerDocument.execCommand("undo")}runEditorCommand(Q,X,Y){if(!X.hasModel()||X.getOption(90)===!0)return;return X.getModel().undo()}},J.Redo=new class extends iK{constructor(){super(j_)}runDOMCommand(Q){Q.ownerDocument.execCommand("redo")}runEditorCommand(Q,X,Y){if(!X.hasModel()||X.getOption(90)===!0)return;return X.getModel().redo()}}})(np||(np={}));pN=class pN extends Uq{constructor(J,$,Q){super({id:J,precondition:void 0,metadata:Q});this._handlerId=$}runCommand(J,$){let Q=J.get(l1).getFocusedCodeEditor();if(!Q)return;Q.trigger("keyboard",this._handlerId,$)}};x2("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});x2("replacePreviousChar");x2("compositionType");x2("compositionStart");x2("compositionEnd");x2("paste");x2("cut")});class mN{constructor(J,$,Q,X){this.configuration=J,this.viewModel=$,this.userInputEvents=Q,this.commandDelegate=X}paste(J,$,Q,X){this.commandDelegate.paste(J,$,Q,X)}type(J){this.commandDelegate.type(J)}compositionType(J,$,Q,X){this.commandDelegate.compositionType(J,$,Q,X)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(J){_5.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:J})}_validateViewColumn(J){let $=this.viewModel.getLineMinColumn(J.lineNumber);if(J.column<$)return new v(J.lineNumber,$);return J}_hasMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.altKey;case"ctrlKey":return J.ctrlKey;case"metaKey":return J.metaKey;default:return!1}}_hasNonMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.ctrlKey||J.metaKey;case"ctrlKey":return J.altKey||J.metaKey;case"metaKey":return J.ctrlKey||J.altKey;default:return!1}}dispatchMouse(J){let $=this.configuration.options,Q=V6&&$.get(106),X=$.get(22);if(J.middleButton&&!Q)this._columnSelect(J.position,J.mouseColumn,J.inSelectionMode);else if(J.startedOnLineNumbers)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelect(J.position,J.revealType);else this._createCursor(J.position,!0);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount>=4)this._selectAll();else if(J.mouseDownCount===3)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelectDrag(J.position,J.revealType);else this._lastCursorLineSelect(J.position,J.revealType);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount===2){if(!J.onInjectedText)if(this._hasMulticursorModifier(J))this._lastCursorWordSelect(J.position,J.revealType);else if(J.inSelectionMode)this._wordSelectDrag(J.position,J.revealType);else this._wordSelect(J.position,J.revealType)}else if(this._hasMulticursorModifier(J)){if(!this._hasNonMulticursorModifier(J))if(J.shiftKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(J.inSelectionMode)this._lastCursorMoveToSelect(J.position,J.revealType);else this._createCursor(J.position,!1)}else if(J.inSelectionMode)if(J.altKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(X)this._columnSelect(J.position,J.mouseColumn,!0);else this._moveToSelect(J.position,J.revealType);else this.moveTo(J.position,J.revealType)}_usualArgs(J,$){return J=this._validateViewColumn(J),{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,revealType:$}}moveTo(J,$){_5.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_moveToSelect(J,$){_5.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_columnSelect(J,$,Q){J=this._validateViewColumn(J),_5.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,mouseColumn:$,doColumnSelect:Q})}_createCursor(J,$){J=this._validateViewColumn(J),_5.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,wholeLine:$})}_lastCursorMoveToSelect(J,$){_5.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelect(J,$){_5.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelectDrag(J,$){_5.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorWordSelect(J,$){_5.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelect(J,$){_5.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelectDrag(J,$){_5.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelect(J,$){_5.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelectDrag(J,$){_5.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_selectAll(){_5.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(J){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(J)}emitKeyDown(J){this.userInputEvents.emitKeyDown(J)}emitKeyUp(J){this.userInputEvents.emitKeyUp(J)}emitContextMenu(J){this.userInputEvents.emitContextMenu(J)}emitMouseMove(J){this.userInputEvents.emitMouseMove(J)}emitMouseLeave(J){this.userInputEvents.emitMouseLeave(J)}emitMouseUp(J){this.userInputEvents.emitMouseUp(J)}emitMouseDown(J){this.userInputEvents.emitMouseDown(J)}emitMouseDrag(J){this.userInputEvents.emitMouseDrag(J)}emitMouseDrop(J){this.userInputEvents.emitMouseDrop(J)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(J){this.userInputEvents.emitMouseWheel(J)}}var tp=N(()=>{op();M1()});class nK{constructor(J){this._createLine=J,this._set(1,[])}flush(){this._set(1,[])}_set(J,$){this._lines=$,this._rendLineNumberStart=J}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(J){let $=J-this._rendLineNumberStart;if($<0||$>=this._lines.length)throw new S1("Illegal value for lineNumber");return this._lines[$]}onLinesDeleted(J,$){if(this.getCount()===0)return null;let Q=this.getStartLineNumber(),X=this.getEndLineNumber();if($<Q){let q=$-J+1;return this._rendLineNumberStart-=q,null}if(J>X)return null;let Y=0,Z=0;for(let q=Q;q<=X;q++){let U=q-this._rendLineNumberStart;if(J<=q&&q<=$)if(Z===0)Y=U,Z=1;else Z++}if(J<Q){let q=0;if($<Q)q=$-J+1;else q=Q-J;this._rendLineNumberStart-=q}return this._lines.splice(Y,Z)}onLinesChanged(J,$){let Q=J+$-1;if(this.getCount()===0)return!1;let X=this.getStartLineNumber(),Y=this.getEndLineNumber(),Z=!1;for(let G=J;G<=Q;G++)if(G>=X&&G<=Y)this._lines[G-this._rendLineNumberStart].onContentChanged(),Z=!0;return Z}onLinesInserted(J,$){if(this.getCount()===0)return null;let Q=$-J+1,X=this.getStartLineNumber(),Y=this.getEndLineNumber();if(J<=X)return this._rendLineNumberStart+=Q,null;if(J>Y)return null;if(Q+J>Y)return this._lines.splice(J-this._rendLineNumberStart,Y-J+1);let Z=[];for(let H=0;H<Q;H++)Z[H]=this._createLine();let G=J-this._rendLineNumberStart,q=this._lines.slice(0,G),U=this._lines.slice(G,this._lines.length-Q),z=this._lines.slice(this._lines.length-Q,this._lines.length);return this._lines=q.concat(Z).concat(U),z}onTokensChanged(J){if(this.getCount()===0)return!1;let $=this.getStartLineNumber(),Q=this.getEndLineNumber(),X=!1;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y];if(G.toLineNumber<$||G.fromLineNumber>Q)continue;let q=Math.max($,G.fromLineNumber),U=Math.min(Q,G.toLineNumber);for(let z=q;z<=U;z++){let H=z-this._rendLineNumberStart;this._lines[H].onTokensChanged(),X=!0}}return X}}class OH{constructor(J){this._host=J,this.domNode=this._createDomNode(),this._linesCollection=new nK(()=>this._host.createVisibleLine())}_createDomNode(){let J=e0(document.createElement("div"));return J.setClassName("view-layer"),J.setPosition("absolute"),J.domNode.setAttribute("role","presentation"),J.domNode.setAttribute("aria-hidden","true"),J}onConfigurationChanged(J){if(J.hasChanged(143))return!0;return!1}onFlushed(J){return this._linesCollection.flush(),!0}onLinesChanged(J){return this._linesCollection.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){let $=this._linesCollection.onLinesDeleted(J.fromLineNumber,J.toLineNumber);if($)for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onLinesInserted(J){let $=this._linesCollection.onLinesInserted(J.fromLineNumber,J.toLineNumber);if($)for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onScrollChanged(J){return J.scrollTopChanged}onTokensChanged(J){return this._linesCollection.onTokensChanged(J.ranges)}onZonesChanged(J){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(J){return this._linesCollection.getLine(J)}renderLines(J){let $=this._linesCollection._get(),Q=new QX(this.domNode.domNode,this._host,J),X={rendLineNumberStart:$.rendLineNumberStart,lines:$.lines,linesLength:$.lines.length},Y=Q.render(X,J.startLineNumber,J.endLineNumber,J.relativeVerticalOffset);this._linesCollection._set(Y.rendLineNumberStart,Y.lines)}}class QX{constructor(J,$,Q){this.domNode=J,this.host=$,this.viewportData=Q}render(J,$,Q,X){let Y={rendLineNumberStart:J.rendLineNumberStart,lines:J.lines.slice(0),linesLength:J.linesLength};if(Y.rendLineNumberStart+Y.linesLength-1<$||Q<Y.rendLineNumberStart){Y.rendLineNumberStart=$,Y.linesLength=Q-$+1,Y.lines=[];for(let Z=$;Z<=Q;Z++)Y.lines[Z-$]=this.host.createVisibleLine();return this._finishRendering(Y,!0,X),Y}if(this._renderUntouchedLines(Y,Math.max($-Y.rendLineNumberStart,0),Math.min(Q-Y.rendLineNumberStart,Y.linesLength-1),X,$),Y.rendLineNumberStart>$){let Z=$,G=Math.min(Q,Y.rendLineNumberStart-1);if(Z<=G)this._insertLinesBefore(Y,Z,G,X,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart<$){let Z=Math.min(Y.linesLength,$-Y.rendLineNumberStart);if(Z>0)this._removeLinesBefore(Y,Z),Y.linesLength-=Z}if(Y.rendLineNumberStart=$,Y.rendLineNumberStart+Y.linesLength-1<Q){let Z=Y.rendLineNumberStart+Y.linesLength,G=Q;if(Z<=G)this._insertLinesAfter(Y,Z,G,X,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart+Y.linesLength-1>Q){let Z=Math.max(0,Q-Y.rendLineNumberStart+1),q=Y.linesLength-1-Z+1;if(q>0)this._removeLinesAfter(Y,q),Y.linesLength-=q}return this._finishRendering(Y,!1,X),Y}_renderUntouchedLines(J,$,Q,X,Y){let{rendLineNumberStart:Z,lines:G}=J;for(let q=$;q<=Q;q++){let U=Z+q;G[q].layoutLine(U,X[U-Y])}}_insertLinesBefore(J,$,Q,X,Y){let Z=[],G=0;for(let q=$;q<=Q;q++)Z[G++]=this.host.createVisibleLine();J.lines=Z.concat(J.lines)}_removeLinesBefore(J,$){for(let Q=0;Q<$;Q++){let X=J.lines[Q].getDomNode();if(X)this.domNode.removeChild(X)}J.lines.splice(0,$)}_insertLinesAfter(J,$,Q,X,Y){let Z=[],G=0;for(let q=$;q<=Q;q++)Z[G++]=this.host.createVisibleLine();J.lines=J.lines.concat(Z)}_removeLinesAfter(J,$){let Q=J.linesLength-$;for(let X=0;X<$;X++){let Y=J.lines[Q+X].getDomNode();if(Y)this.domNode.removeChild(Y)}J.lines.splice(Q,$)}_finishRenderingNewLines(J,$,Q,X){if(QX._ttPolicy)Q=QX._ttPolicy.createHTML(Q);let Y=this.domNode.lastChild;if($||!Y)this.domNode.innerHTML=Q;else Y.insertAdjacentHTML("afterend",Q);let Z=this.domNode.lastChild;for(let G=J.linesLength-1;G>=0;G--){let q=J.lines[G];if(X[G])q.setDomNode(Z),Z=Z.previousSibling}}_finishRenderingInvalidLines(J,$,Q){let X=document.createElement("div");if(QX._ttPolicy)$=QX._ttPolicy.createHTML($);X.innerHTML=$;for(let Y=0;Y<J.linesLength;Y++){let Z=J.lines[Y];if(Q[Y]){let G=X.firstChild,q=Z.getDomNode();q.parentNode.replaceChild(G,q),Z.setDomNode(G)}}}_finishRendering(J,$,Q){let X=QX._sb,Y=J.linesLength,Z=J.lines,G=J.rendLineNumberStart,q=[];{X.reset();let U=!1;for(let z=0;z<Y;z++){let H=Z[z];if(q[z]=!1,H.getDomNode())continue;if(!H.renderLine(z+G,Q[z],this.viewportData,X))continue;q[z]=!0,U=!0}if(U)this._finishRenderingNewLines(J,$,X.build(),q)}{X.reset();let U=!1,z=[];for(let H=0;H<Y;H++){let j=Z[H];if(z[H]=!1,q[H])continue;if(!j.renderLine(H+G,Q[H],this.viewportData,X))continue;z[H]=!0,U=!0}if(U)this._finishRenderingInvalidLines(J,X.build(),z)}}}var oK=N(()=>{oX();P1();eZ();QX._ttPolicy=z9("editorViewLayer",{createHTML:(J)=>J});QX._sb=new yQ(1e5)});class ep{constructor(J,$){this._configuration=J,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=$,this._domNode=null,this._renderedContent=null}getDomNode(){if(!this._domNode)return null;return this._domNode.domNode}setDomNode(J){this._domNode=e0(J)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(J){this._lineHeight=this._configuration.options.get(66)}renderLine(J,$,Q,X){let Y="";for(let Z=0,G=this._dynamicOverlays.length;Z<G;Z++){let q=this._dynamicOverlays[Z];Y+=q.render(Q.startLineNumber,J)}if(this._renderedContent===Y)return!1;return this._renderedContent=Y,X.appendString('<div style="position:absolute;top:'),X.appendString(String($)),X.appendString("px;width:100%;height:"),X.appendString(String(this._lineHeight)),X.appendString('px;">'),X.appendString(Y),X.appendString("</div>"),!0}layoutLine(J,$){if(this._domNode)this._domNode.setTop($),this._domNode.setHeight(this._lineHeight)}}var uN,cN,lN;var Jm=N(()=>{W4();oK();g8();uN=class uN extends B6{constructor(J){super(J);this._visibleLines=new OH(this),this.domNode=this._visibleLines.domNode;let Q=this._context.configuration.options.get(50);M6(this.domNode,Q),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let J=0,$=this._dynamicOverlays.length;J<$;J++)if(this._dynamicOverlays[J].shouldRender())return!0;return!1}dispose(){super.dispose();for(let J=0,$=this._dynamicOverlays.length;J<$;J++)this._dynamicOverlays[J].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new ep(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(J){this._dynamicOverlays.push(J)}onConfigurationChanged(J){this._visibleLines.onConfigurationChanged(J);let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Z=$;Z<=Q;Z++)this._visibleLines.getVisibleLine(Z).onConfigurationChanged(J);let Y=this._context.configuration.options.get(50);return M6(this.domNode,Y),!0}onFlushed(J){return this._visibleLines.onFlushed(J)}onFocusChanged(J){return this._isFocused=J.isFocused,!0}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onScrollChanged(J){return this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._visibleLines.onZonesChanged(J)}prepareRender(J){let $=this._dynamicOverlays.filter((Q)=>Q.shouldRender());for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];Y.prepareRender(J),Y.onDidRender()}}render(J){this._viewOverlaysRender(J),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(J){this._visibleLines.renderLines(J.viewportData)}};cN=class cN extends uN{constructor(J){super(J);let Q=this._context.configuration.options.get(143);this._contentWidth=Q.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._contentWidth=Q.contentWidth,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollWidthChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J),this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth))}};lN=class lN extends uN{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._contentLeft=Q.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),M6(this.domNode,$.get(50))}onConfigurationChanged(J){let $=this._context.configuration.options;M6(this.domNode,$.get(50));let Q=$.get(143);return this._contentLeft=Q.contentLeft,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollHeightChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J);let $=Math.min(J.scrollHeight,1e6);this.domNode.setHeight($),this.domNode.setWidth(this._contentLeft)}}});class tq{constructor(J){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=J}emitKeyDown(J){var $;($=this.onKeyDown)===null||$===void 0||$.call(this,J)}emitKeyUp(J){var $;($=this.onKeyUp)===null||$===void 0||$.call(this,J)}emitContextMenu(J){var $;($=this.onContextMenu)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseMove(J){var $;($=this.onMouseMove)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseLeave(J){var $;($=this.onMouseLeave)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDown(J){var $;($=this.onMouseDown)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseUp(J){var $;($=this.onMouseUp)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrag(J){var $;($=this.onMouseDrag)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrop(J){var $;($=this.onMouseDrop)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDropCanceled(){var J;(J=this.onMouseDropCanceled)===null||J===void 0||J.call(this)}emitMouseWheel(J){var $;($=this.onMouseWheel)===null||$===void 0||$.call(this,J)}_convertViewToModelMouseEvent(J){if(J.target)return{event:J.event,target:this._convertViewToModelMouseTarget(J.target)};return J}_convertViewToModelMouseTarget(J){return tq.convertViewToModelMouseTarget(J,this._coordinatesConverter)}static convertViewToModelMouseTarget(J,$){let Q={...J};if(Q.position)Q.position=$.convertViewPositionToModelPosition(Q.position);if(Q.range)Q.range=$.convertViewRangeToModelRange(Q.range);if(Q.type===5||Q.type===8)Q.detail=this.convertViewToModelViewZoneData(Q.detail,$);return Q}static convertViewToModelViewZoneData(J,$){return{viewZoneId:J.viewZoneId,positionBefore:J.positionBefore?$.convertViewPositionToModelPosition(J.positionBefore):J.positionBefore,positionAfter:J.positionAfter?$.convertViewPositionToModelPosition(J.positionAfter):J.positionAfter,position:$.convertViewPositionToModelPosition(J.position),afterLineNumber:$.convertViewPositionToModelPosition(new v(J.afterLineNumber,1)).lineNumber}}}var dN=()=>{};var $m=N(()=>{j0(".monaco-editor .blockDecorations-container{pointer-events:none;position:absolute;top:0}.monaco-editor .blockDecorations-block{box-sizing:border-box;position:absolute}")});var sN;var Qm=N(()=>{$m();g8();sN=class sN extends B6{constructor(J){super(J);this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=e0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let J=!1,Q=this._context.configuration.options.get(143),X=Q.contentWidth-Q.verticalScrollbarWidth;if(this.contentWidth!==X)this.contentWidth=X,J=!0;let Y=Q.contentLeft;if(this.contentLeft!==Y)this.contentLeft=Y,J=!0;return J}dispose(){super.dispose()}onConfigurationChanged(J){return this.update()}onScrollChanged(J){return J.scrollTopChanged||J.scrollLeftChanged}onDecorationsChanged(J){return!0}onZonesChanged(J){return!0}prepareRender(J){}render(J){var $;let Q=0,X=J.getDecorationsInViewport();for(let Y of X){if(!Y.options.blockClassName)continue;let Z=this.blocks[Q];if(!Z)Z=this.blocks[Q]=e0(document.createElement("div")),this.domNode.appendChild(Z);let G,q;if(Y.options.blockIsAfterEnd)G=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!1),q=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);else G=J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!0),q=Y.range.isEmpty()&&!Y.options.blockDoesNotCollapse?J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!1):J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);let[U,z,H,j]=($=Y.options.blockPadding)!==null&&$!==void 0?$:[0,0,0,0];Z.setClassName("blockDecorations-block "+Y.options.blockClassName),Z.setLeft(this.contentLeft-j),Z.setWidth(this.contentWidth+j+z),Z.setTop(G-J.scrollTop-U),Z.setHeight(q-G+U+H),Q++}for(let Y=Q;Y<this.blocks.length;Y++)this.blocks[Y].domNode.remove();this.blocks.length=Q}}});class Xm{constructor(J,$,Q){this._primaryAnchor=new eq(null,null),this._secondaryAnchor=new eq(null,null),this._context=J,this._viewDomNode=$,this._actual=Q,this.domNode=e0(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let X=this._context.configuration.options,Y=X.get(143);this._fixedOverflowWidgets=X.get(42),this._contentWidth=Y.contentWidth,this._contentLeft=Y.contentLeft,this._lineHeight=X.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(J){let $=this._context.configuration.options;if(this._lineHeight=$.get(66),J.hasChanged(143)){let Q=$.get(143);this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(J,$,Q){this._affinity=J,this._primaryAnchor=X($,this._context.viewModel,this._affinity),this._secondaryAnchor=X(Q,this._context.viewModel,this._affinity);function X(Y,Z,G){if(!Y)return new eq(null,null);let q=Z.model.validatePosition(Y);if(Z.coordinatesConverter.modelPositionIsVisible(q)){let U=Z.coordinatesConverter.convertModelPositionToViewPosition(q,G!==null&&G!==void 0?G:void 0);return new eq(Y,U)}return new eq(Y,null)}}_getMaxWidth(){let J=this.domNode.domNode.ownerDocument,$=J.defaultView;return this.allowEditorOverflow?($===null||$===void 0?void 0:$.innerWidth)||J.documentElement.offsetWidth||J.body.offsetWidth:this._contentWidth}setPosition(J,$,Q,X){if(this._setPosition(X,J,$),this._preference=Q,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0)this.domNode.setDisplay("block");else this.domNode.setDisplay("none");this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(J,$,Q,X){let Y=J.top,Z=Y,G=J.top+J.height,q=X.viewportHeight-G,U=Y-Q,z=Z>=Q,H=G,j=q>=Q,V=J.left;if(V+$>X.scrollLeft+X.viewportWidth)V=X.scrollLeft+X.viewportWidth-$;if(V<X.scrollLeft)V=X.scrollLeft;return{fitsAbove:z,aboveTop:U,fitsBelow:j,belowTop:H,left:V}}_layoutHorizontalSegmentInPage(J,$,Q,X){var Y;let Z=15,G=15,q=Math.max(15,$.left-X),U=Math.min($.left+$.width+X,J.width-15),H=this._viewDomNode.domNode.ownerDocument.defaultView,j=$.left+Q-((Y=H===null||H===void 0?void 0:H.scrollX)!==null&&Y!==void 0?Y:0);if(j+X>U){let V=j-(U-X);j-=V,Q-=V}if(j<q){let V=j-q;j-=V,Q-=V}return[Q,j]}_layoutBoxInPage(J,$,Q,X){var Y,Z;let G=J.top-Q,q=J.top+J.height,U=P5(this._viewDomNode.domNode),z=this._viewDomNode.domNode.ownerDocument,H=z.defaultView,j=U.top+G-((Y=H===null||H===void 0?void 0:H.scrollY)!==null&&Y!==void 0?Y:0),V=U.top+q-((Z=H===null||H===void 0?void 0:H.scrollY)!==null&&Z!==void 0?Z:0),W=H$(z.body),[B,K]=this._layoutHorizontalSegmentInPage(W,U,J.left-X.scrollLeft+this._contentLeft,$),P=22,A=22,D=j>=22,R=V+Q<=W.height-22;if(this._fixedOverflowWidgets)return{fitsAbove:D,aboveTop:Math.max(j,22),fitsBelow:R,belowTop:V,left:K};return{fitsAbove:D,aboveTop:G,fitsBelow:R,belowTop:q,left:B}}_prepareRenderWidgetAtExactPositionOverflowing(J){return new J3(J.top,J.left+this._contentLeft)}_getAnchorsCoordinates(J){var $,Q;let X=G(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Y=(($=this._secondaryAnchor.viewPosition)===null||$===void 0?void 0:$.lineNumber)===((Q=this._primaryAnchor.viewPosition)===null||Q===void 0?void 0:Q.lineNumber)?this._secondaryAnchor.viewPosition:null,Z=G(Y,this._affinity,this._lineHeight);return{primary:X,secondary:Z};function G(q,U,z){if(!q)return null;let H=J.visibleRangeForPosition(q);if(!H)return null;let j=q.column===1&&U===3?0:H.left,V=J.getVerticalOffsetForLineNumber(q.lineNumber)-J.scrollTop;return new rN(V,j,z)}}_reduceAnchorCoordinates(J,$,Q){if(!$)return J;let X=this._context.configuration.options.get(50),Y=$.left;if(Y<J.left)Y=Math.max(Y,J.left-Q+X.typicalFullwidthCharacterWidth);else Y=Math.min(Y,J.left+Q-X.typicalFullwidthCharacterWidth);return new rN(J.top,Y,J.height)}_prepareRenderWidget(J){if(!this._preference||this._preference.length===0)return null;let{primary:$,secondary:Q}=this._getAnchorsCoordinates(J);if(!$)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Z=null;if(typeof this._actual.beforeRender==="function")Z=aN(this._actual.beforeRender,this._actual);if(Z)this._cachedDomNodeOffsetWidth=Z.width,this._cachedDomNodeOffsetHeight=Z.height;else{let q=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(q.width),this._cachedDomNodeOffsetHeight=Math.round(q.height)}}let X=this._reduceAnchorCoordinates($,Q,this._cachedDomNodeOffsetWidth),Y;if(this.allowEditorOverflow)Y=this._layoutBoxInPage(X,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);else Y=this._layoutBoxInViewport(X,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);for(let Z=1;Z<=2;Z++)for(let G of this._preference)if(G===1){if(!Y)return null;if(Z===2||Y.fitsAbove)return{coordinate:new J3(Y.aboveTop,Y.left),position:1}}else if(G===2){if(!Y)return null;if(Z===2||Y.fitsBelow)return{coordinate:new J3(Y.belowTop,Y.left),position:2}}else if(this.allowEditorOverflow)return{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new J3(X.top,X.left)),position:0};else return{coordinate:new J3(X.top,X.left),position:0};return null}onBeforeRender(J){if(!this._primaryAnchor.viewPosition||!this._preference)return;if(this._primaryAnchor.viewPosition.lineNumber<J.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>J.endLineNumber)return;this.domNode.setMaxWidth(this._maxWidth)}prepareRender(J){this._renderData=this._prepareRenderWidget(J)}render(J){if(!this._renderData){if(this._isVisible)this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden");if(typeof this._actual.afterRender==="function")aN(this._actual.afterRender,this._actual,null);return}if(this.allowEditorOverflow)this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left);else this.domNode.setTop(this._renderData.coordinate.top+J.scrollTop-J.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left);if(!this._isVisible)this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0;if(typeof this._actual.afterRender==="function")aN(this._actual.afterRender,this._actual,this._renderData.position)}}class eq{constructor(J,$){this.modelPosition=J,this.viewPosition=$}}class J3{constructor(J,$){this.top=J,this.left=$,this._coordinateBrand=void 0}}class rN{constructor(J,$,Q){this.top=J,this.left=$,this.height=Q,this._anchorCoordinateBrand=void 0}}function aN(J,$,...Q){try{return J.call($,...Q)}catch(X){return null}}var iN;var Ym=N(()=>{D0();g8();iN=class iN extends B6{constructor(J,$){super(J);this._viewDomNode=$,this._widgets={},this.domNode=e0(document.createElement("div")),X8.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=e0(document.createElement("div")),X8.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].onConfigurationChanged(J);return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLineMappingChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(J){return this._updateAnchorsViewPositions(),!0}onLinesInserted(J){return this._updateAnchorsViewPositions(),!0}onScrollChanged(J){return!0}onZonesChanged(J){return!0}_updateAnchorsViewPositions(){let J=Object.keys(this._widgets);for(let $ of J)this._widgets[$].updateAnchorViewPosition()}addWidget(J){let $=new Xm(this._context,this._viewDomNode,J);if(this._widgets[$.id]=$,$.allowEditorOverflow)this.overflowingContentWidgetsDomNode.appendChild($.domNode);else this.domNode.appendChild($.domNode);this.setShouldRender()}setWidgetPosition(J,$,Q,X,Y){this._widgets[J.getId()].setPosition($,Q,X,Y),this.setShouldRender()}removeWidget(J){let $=J.getId();if(this._widgets.hasOwnProperty($)){let Q=this._widgets[$];delete this._widgets[$];let X=Q.domNode.domNode;X.parentNode.removeChild(X),X.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(J){if(this._widgets.hasOwnProperty(J))return this._widgets[J].suppressMouseDown;return!1}onBeforeRender(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].onBeforeRender(J)}prepareRender(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].prepareRender(J)}render(J){let $=Object.keys(this._widgets);for(let Q of $)this._widgets[Q].render(J)}}});var Zm=N(()=>{j0(".monaco-editor .view-overlays .current-line,.monaco-editor .margin-view-overlays .current-line{box-sizing:border-box;display:block;position:absolute;top:0;left:0}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}")});var nN,oN,tN;var Gm=N(()=>{Zm();FY();TJ();U1();s6();E5();aQ();nN=class nN extends s7{constructor(J){super();this._context=J;let $=this._context.configuration.options,Q=$.get(143);this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=Q.isViewportWrapping,this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new v0(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let J=!1,$=new Set;for(let Y of this._selections)$.add(Y.positionLineNumber);let Q=Array.from($);if(Q.sort((Y,Z)=>Y-Z),!Q6(this._cursorLineNumbers,Q))this._cursorLineNumbers=Q,J=!0;let X=this._selections.every((Y)=>Y.isEmpty());if(this._selectionIsEmpty!==X)this._selectionIsEmpty=X,J=!0;return J}onThemeChanged(J){return this._readFromSelections()}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=Q.isViewportWrapping,this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,!0}onCursorStateChanged(J){return this._selections=J.selections,this._readFromSelections()}onFlushed(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollWidthChanged||J.scrollTopChanged}onZonesChanged(J){return!0}onFocusChanged(J){if(!this._renderLineHighlightOnlyWhenFocus)return!1;return this._focused=J.isFocused,!0}prepareRender(J){if(!this._shouldRenderThis()){this._renderData=null;return}let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=[];for(let Z=$;Z<=Q;Z++){let G=Z-$;X[G]=""}if(this._wordWrap){let Z=this._renderOne(J,!1);for(let G of this._cursorLineNumbers){let q=this._context.viewModel.coordinatesConverter,U=q.convertViewPositionToModelPosition(new v(G,1)).lineNumber,z=q.convertModelPositionToViewPosition(new v(U,1)).lineNumber,H=q.convertModelPositionToViewPosition(new v(U,this._context.viewModel.model.getLineMaxColumn(U))).lineNumber,j=Math.max(z,$),V=Math.min(H,Q);for(let W=j;W<=V;W++){let B=W-$;X[B]=Z}}}let Y=this._renderOne(J,!0);for(let Z of this._cursorLineNumbers){if(Z<$||Z>Q)continue;let G=Z-$;X[G]=Y}this._renderData=X}render(J,$){if(!this._renderData)return"";let Q=$-J;if(Q>=this._renderData.length)return"";return this._renderData[Q]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}};oN=class oN extends nN{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+($?" current-line-exact":"")}" style="width:${Math.max(J.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}};tN=class tN extends nN{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&$?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}};m8((J,$)=>{let Q=J.getColor(_N);if(Q)$.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${Q}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${Q}; border: none; }`);if(!Q||Q.isTransparent()||J.defines(ON)){let X=J.getColor(ON);if(X){if($.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${X}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${X}; }`),E4(J.type))$.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),$.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")}}})});var qm=N(()=>{j0(".monaco-editor .lines-content .cdr{position:absolute}")});var eN;var Um=N(()=>{qm();FY();cq();l0();eN=class eN extends s7{constructor(J){super();this._context=J;let $=this._context.configuration.options;this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}prepareRender(J){let $=J.getDecorationsInViewport(),Q=[],X=0;for(let q=0,U=$.length;q<U;q++){let z=$[q];if(z.options.className)Q[X++]=z}Q=Q.sort((q,U)=>{if(q.options.zIndex<U.options.zIndex)return-1;if(q.options.zIndex>U.options.zIndex)return 1;let z=q.options.className,H=U.options.className;if(z<H)return-1;if(z>H)return 1;return L.compareRangesUsingStarts(q.range,U.range)});let Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber,G=[];for(let q=Y;q<=Z;q++){let U=q-Y;G[U]=""}this._renderWholeLineDecorations(J,Q,G),this._renderNormalDecorations(J,Q,G),this._renderResult=G}_renderWholeLineDecorations(J,$,Q){let X=String(this._lineHeight),Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber;for(let G=0,q=$.length;G<q;G++){let U=$[G];if(!U.options.isWholeLine)continue;let z='<div class="cdr '+U.options.className+'" style="left:0;width:100%;height:'+X+'px;"></div>',H=Math.max(U.range.startLineNumber,Y),j=Math.min(U.range.endLineNumber,Z);for(let V=H;V<=j;V++){let W=V-Y;Q[W]+=z}}}_renderNormalDecorations(J,$,Q){var X;let Y=String(this._lineHeight),Z=J.visibleRange.startLineNumber,G=null,q=!1,U=null,z=!1;for(let H=0,j=$.length;H<j;H++){let V=$[H];if(V.options.isWholeLine)continue;let W=V.options.className,B=Boolean(V.options.showIfCollapsed),K=V.range;if(B&&K.endColumn===1&&K.endLineNumber!==K.startLineNumber)K=new L(K.startLineNumber,K.startColumn,K.endLineNumber-1,this._context.viewModel.getLineMaxColumn(K.endLineNumber-1));if(G===W&&q===B&&L.areIntersectingOrTouching(U,K)){U=L.plusRange(U,K);continue}if(G!==null)this._renderNormalDecoration(J,U,G,z,q,Y,Z,Q);G=W,q=B,U=K,z=(X=V.options.shouldFillLineOnLineBreak)!==null&&X!==void 0?X:!1}if(G!==null)this._renderNormalDecoration(J,U,G,z,q,Y,Z,Q)}_renderNormalDecoration(J,$,Q,X,Y,Z,G,q){let U=J.linesVisibleRangesForRange($,Q==="findMatch");if(!U)return;for(let z=0,H=U.length;z<H;z++){let j=U[z];if(j.outsideRenderedLine)continue;let V=j.lineNumber-G;if(Y&&j.ranges.length===1){let W=j.ranges[0];if(W.width<this._typicalHalfwidthCharacterWidth){let B=Math.round(W.left+W.width/2),K=Math.max(0,Math.round(B-this._typicalHalfwidthCharacterWidth/2));j.ranges[0]=new uq(K,this._typicalHalfwidthCharacterWidth)}}for(let W=0,B=j.ranges.length;W<B;W++){let K=X&&j.continuesOnNextLine&&B===1,P=j.ranges[W],A='<div class="cdr '+Q+'" style="left:'+String(P.left)+(K?"px;width:100%;height:":"px;width:"+String(P.width)+"px;height:")+Z+'px;"></div>';q[V]+=A}}}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}}});var JT;var zm=N(()=>{D0();OJ();g8();s6();JT=class JT extends B6{constructor(J,$,Q,X){super(J);let Y=this._context.configuration.options,Z=Y.get(102),G=Y.get(74),q=Y.get(40),U=Y.get(105),z={listenOnDomNode:Q.domNode,className:"editor-scrollable "+RH(J.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:G,fastScrollSensitivity:q,scrollPredominantAxis:U,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new nQ($.domNode,z,this._context.viewLayout.getScrollable())),X8.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=e0(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();let H=(j,V,W)=>{let B={};if(V){let K=j.scrollTop;if(K)B.scrollTop=this._context.viewLayout.getCurrentScrollTop()+K,j.scrollTop=0}if(W){let K=j.scrollLeft;if(K)B.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+K,j.scrollLeft=0}this._context.viewModel.viewLayout.setScrollPosition(B,1)};this._register(m(Q.domNode,"scroll",(j)=>H(Q.domNode,!0,!0))),this._register(m($.domNode,"scroll",(j)=>H($.domNode,!0,!1))),this._register(m(X.domNode,"scroll",(j)=>H(X.domNode,!0,!1))),this._register(m(this.scrollbarDomNode.domNode,"scroll",(j)=>H(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){let J=this._context.configuration.options,$=J.get(143);if(this.scrollbarDomNode.setLeft($.contentLeft),J.get(72).side==="right")this.scrollbarDomNode.setWidth($.contentWidth+$.minimap.minimapWidth);else this.scrollbarDomNode.setWidth($.contentWidth);this.scrollbarDomNode.setHeight($.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(J){this.scrollbar.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){this.scrollbar.delegateScrollFromMouseWheelEvent(J)}onConfigurationChanged(J){if(J.hasChanged(102)||J.hasChanged(74)||J.hasChanged(40)){let $=this._context.configuration.options,Q=$.get(102),X=$.get(74),Y=$.get(40),Z=$.get(105),G={vertical:Q.vertical,horizontal:Q.horizontal,verticalScrollbarSize:Q.verticalScrollbarSize,horizontalScrollbarSize:Q.horizontalScrollbarSize,scrollByPage:Q.scrollByPage,handleMouseWheel:Q.handleMouseWheel,mouseWheelScrollSensitivity:X,fastScrollSensitivity:Y,scrollPredominantAxis:Z};this.scrollbar.updateOptions(G)}if(J.hasChanged(143))this._setLayout();return!0}onScrollChanged(J){return!0}onThemeChanged(J){return this.scrollbar.updateClassName("editor-scrollable "+RH(this._context.theme.type)),!0}prepareRender(J){}render(J){this.scrollbar.renderNow()}}});var Hm=N(()=>{j0(".monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .glyph-margin-widgets .cgmr{justify-content:center;align-items:center;display:flex;position:absolute}.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}")});class $3{constructor(J,$,Q,X,Y){this.startLineNumber=J,this.endLineNumber=$,this.className=Q,this.tooltip=X,this._decorationToRenderBrand=void 0,this.zIndex=Y!==null&&Y!==void 0?Y:0}}class jm{constructor(J,$,Q){this.className=J,this.zIndex=$,this.tooltip=Q}}class Vm{constructor(){this.decorations=[]}add(J){this.decorations.push(J)}getDecorations(){return this.decorations}}class Wm{constructor(J,$,Q,X){this.lineNumber=J,this.laneIndex=$,this.zIndex=Q,this.className=X,this.type=0}accept(J){return new Fm(this.lineNumber,this.laneIndex,J)}}class Bm{constructor(J,$,Q,X){this.lineNumber=J,this.laneIndex=$,this.zIndex=Q,this.widget=X,this.type=1}}class Fm{constructor(J,$,Q){this.lineNumber=J,this.laneIndex=$,this.combinedClassName=Q}}var NH,$T;var tK=N(()=>{U1();Hm();FY();g8();l0();v7();NH=class NH extends s7{_render(J,$,Q){let X=[];for(let G=J;G<=$;G++){let q=G-J;X[q]=new Vm}if(Q.length===0)return X;Q.sort((G,q)=>{if(G.className===q.className){if(G.startLineNumber===q.startLineNumber)return G.endLineNumber-q.endLineNumber;return G.startLineNumber-q.startLineNumber}return G.className<q.className?-1:1});let Y=null,Z=0;for(let G=0,q=Q.length;G<q;G++){let U=Q[G],z=U.className,H=U.zIndex,j=Math.max(U.startLineNumber,J)-J,V=Math.min(U.endLineNumber,$)-J;if(Y===z)j=Math.max(Z+1,j),Z=Math.max(Z,V);else Y=z,Z=V;for(let W=j;W<=Z;W++)X[W].add(new jm(z,H,U.tooltip))}return X}};$T=class $T extends B6{constructor(J){super(J);this._widgets={},this._context=J;let $=this._context.configuration.options,Q=$.get(143);this.domNode=e0(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._glyphMarginDecorationLaneCount=Q.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);return this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=Q.glyphMarginLeft,this._glyphMarginWidth=Q.glyphMarginWidth,this._glyphMarginDecorationLaneCount=Q.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}addWidget(J){let $=e0(J.getDomNode());this._widgets[J.getId()]={widget:J,preference:J.getPosition(),domNode:$,renderInfo:null},$.setPosition("absolute"),$.setDisplay("none"),$.setAttribute("widgetId",J.getId()),this.domNode.appendChild($),this.setShouldRender()}setWidgetPosition(J,$){let Q=this._widgets[J.getId()];if(Q.preference.lane===$.lane&&Q.preference.zIndex===$.zIndex&&L.equalsRange(Q.preference.range,$.range))return!1;return Q.preference=$,this.setShouldRender(),!0}removeWidget(J){var $;let Q=J.getId();if(this._widgets[Q]){let Y=this._widgets[Q].domNode.domNode;delete this._widgets[Q],($=Y.parentNode)===null||$===void 0||$.removeChild(Y),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(J,$){var Q,X,Y;let Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.getDecorationsInViewport();for(let U of q){let z=U.options.glyphMarginClassName;if(!z)continue;let H=Math.max(U.range.startLineNumber,Z),j=Math.min(U.range.endLineNumber,G),V=(X=(Q=U.options.glyphMargin)===null||Q===void 0?void 0:Q.position)!==null&&X!==void 0?X:p9.Center,W=(Y=U.options.zIndex)!==null&&Y!==void 0?Y:0;for(let B=H;B<=j;B++){let K=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(B,0)),P=this._context.viewModel.glyphLanes.getLanesAtLine(K.lineNumber).indexOf(V);$.push(new Wm(B,P,W,z))}}}_collectWidgetBasedGlyphRenderRequest(J,$){let Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;for(let Y of Object.values(this._widgets)){let Z=Y.preference.range,{startLineNumber:G,endLineNumber:q}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(L.lift(Z));if(!G||!q||q<Q||G>X)continue;let U=Math.max(G,Q),z=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(U,0)),H=this._context.viewModel.glyphLanes.getLanesAtLine(z.lineNumber).indexOf(Y.preference.lane);$.push(new Bm(U,H,Y.preference.zIndex,Y))}}_collectSortedGlyphRenderRequests(J){let $=[];return this._collectDecorationBasedGlyphRenderRequest(J,$),this._collectWidgetBasedGlyphRenderRequest(J,$),$.sort((Q,X)=>{if(Q.lineNumber===X.lineNumber){if(Q.laneIndex===X.laneIndex){if(Q.zIndex===X.zIndex){if(X.type===Q.type){if(Q.type===0&&X.type===0)return Q.className<X.className?-1:1;return 0}return X.type-Q.type}return X.zIndex-Q.zIndex}return Q.laneIndex-X.laneIndex}return Q.lineNumber-X.lineNumber}),$}prepareRender(J){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(let X of Object.values(this._widgets))X.renderInfo=null;let $=new r8(this._collectSortedGlyphRenderRequests(J)),Q=[];while($.length>0){let X=$.peek();if(!X)break;let Y=$.takeWhile((G)=>G.lineNumber===X.lineNumber&&G.laneIndex===X.laneIndex);if(!Y||Y.length===0)break;let Z=Y[0];if(Z.type===0){let G=[];for(let q of Y){if(q.zIndex!==Z.zIndex||q.type!==Z.type)break;if(G.length===0||G[G.length-1]!==q.className)G.push(q.className)}Q.push(Z.accept(G.join(" ")))}else Z.widget.renderInfo={lineNumber:Z.lineNumber,laneIndex:Z.laneIndex}}this._decorationGlyphsToRender=Q}render(J){if(!this._glyphMargin){for(let Q of Object.values(this._widgets))Q.domNode.setDisplay("none");while(this._managedDomNodes.length>0){let Q=this._managedDomNodes.pop();Q===null||Q===void 0||Q.domNode.remove()}return}let $=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(let Q of Object.values(this._widgets))if(!Q.renderInfo)Q.domNode.setDisplay("none");else{let X=J.viewportData.relativeVerticalOffset[Q.renderInfo.lineNumber-J.viewportData.startLineNumber],Y=this._glyphMarginLeft+Q.renderInfo.laneIndex*this._lineHeight;Q.domNode.setDisplay("block"),Q.domNode.setTop(X),Q.domNode.setLeft(Y),Q.domNode.setWidth($),Q.domNode.setHeight(this._lineHeight)}for(let Q=0;Q<this._decorationGlyphsToRender.length;Q++){let X=this._decorationGlyphsToRender[Q],Y=J.viewportData.relativeVerticalOffset[X.lineNumber-J.viewportData.startLineNumber],Z=this._glyphMarginLeft+X.laneIndex*this._lineHeight,G;if(Q<this._managedDomNodes.length)G=this._managedDomNodes[Q];else G=e0(document.createElement("div")),this._managedDomNodes.push(G),this.domNode.appendChild(G);G.setClassName("cgmr codicon "+X.combinedClassName),G.setPosition("absolute"),G.setTop(Y),G.setLeft(Z),G.setWidth($),G.setHeight(this._lineHeight)}while(this._managedDomNodes.length>this._decorationGlyphsToRender.length){let Q=this._managedDomNodes.pop();Q===null||Q===void 0||Q.domNode.remove()}}}});var Km=N(()=>{j0(".monaco-editor .lines-content .core-guide{box-sizing:border-box;position:absolute}")});var TH;var QT=N(()=>{Q0();TH=class TH extends h{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}});function wH(J,$){let Q=0,X=0,Y=J.length;while(X<Y){let Z=J.charCodeAt(X);if(Z===32)Q++;else if(Z===9)Q=Q-Q%$+$;else break;X++}if(X===Y)return-1;return Q}class wJ{constructor(J,$,Q,X,Y,Z){if(this.visibleColumn=J,this.column=$,this.className=Q,this.horizontalLine=X,this.forWrappedLinesAfterColumn=Y,this.forWrappedLinesBeforeOrAtColumn=Z,J!==-1===($!==-1))throw new Error}}class RY{constructor(J,$){this.top=J,this.endColumn=$}}var XX;var eK=N(()=>{(function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"})(XX||(XX={}))});class JA{constructor(){this.activeClassName="indent-active"}getInlineClassName(J,$,Q){return this.getInlineClassNameOfLevel(Q?$:J)}getInlineClassNameOfLevel(J){return`bracket-indent-guide lvl-${J%30}`}}var XT;var YT=N(()=>{zJ();t0();I4();l0();QT();eK();P1();XT=class XT extends TH{constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$}getLanguageConfiguration(J){return this.languageConfigurationService.getLanguageConfiguration(J)}_computeIndentLevel(J){return wH(this.textModel.getLineContent(J+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(J,$,Q){this.assertNotDisposed();let X=this.textModel.getLineCount();if(J<1||J>X)throw new S1("Illegal value for lineNumber");let Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=-2,q=-1,U=-2,z=-1,H=(T)=>{if(G!==-1&&(G===-2||G>T-1)){G=-1,q=-1;for(let w=T-2;w>=0;w--){let b=this._computeIndentLevel(w);if(b>=0){G=w,q=b;break}}}if(U===-2){U=-1,z=-1;for(let w=T;w<X;w++){let b=this._computeIndentLevel(w);if(b>=0){U=w,z=b;break}}}},j=-2,V=-1,W=-2,B=-1,K=(T)=>{if(j===-2){j=-1,V=-1;for(let w=T-2;w>=0;w--){let b=this._computeIndentLevel(w);if(b>=0){j=w,V=b;break}}}if(W!==-1&&(W===-2||W<T-1)){W=-1,B=-1;for(let w=T;w<X;w++){let b=this._computeIndentLevel(w);if(b>=0){W=w,B=b;break}}}},P=0,A=!0,D=0,R=!0,M=0,_=0;for(let T=0;A||R;T++){let w=J-T,b=J+T;if(T>1&&(w<1||w<$))A=!1;if(T>1&&(b>X||b>Q))R=!1;if(T>50000)A=!1,R=!1;let S=-1;if(A&&w>=1){let c=this._computeIndentLevel(w-1);if(c>=0)U=w-1,z=c,S=Math.ceil(c/this.textModel.getOptions().indentSize);else H(w),S=this._getIndentLevelForWhitespaceLine(Z,q,z)}let g=-1;if(R&&b<=X){let c=this._computeIndentLevel(b-1);if(c>=0)j=b-1,V=c,g=Math.ceil(c/this.textModel.getOptions().indentSize);else K(b),g=this._getIndentLevelForWhitespaceLine(Z,V,B)}if(T===0){_=S;continue}if(T===1){if(b<=X&&g>=0&&_+1===g){A=!1,P=b,D=b,M=g;continue}if(w>=1&&S>=0&&S-1===_){R=!1,P=w,D=w,M=S;continue}if(P=J,D=J,M=_,M===0)return{startLineNumber:P,endLineNumber:D,indent:M}}if(A)if(S>=M)P=w;else A=!1;if(R)if(g>=M)D=b;else R=!1}return{startLineNumber:P,endLineNumber:D,indent:M}}getLinesBracketGuides(J,$,Q,X){var Y;let Z=[];for(let j=J;j<=$;j++)Z.push([]);let G=!0,q=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new L(J,1,$,this.textModel.getLineMaxColumn($))).toArray(),U=void 0;if(Q&&q.length>0){let j=(J<=Q.lineNumber&&Q.lineNumber<=$?q:this.textModel.bracketPairs.getBracketPairsInRange(L.fromPositions(Q)).toArray()).filter((V)=>L.strictContainsPosition(V.range,Q));U=(Y=j2(j,(V)=>G||V.range.startLineNumber!==V.range.endLineNumber))===null||Y===void 0?void 0:Y.range}let z=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,H=new JA;for(let j of q){if(!j.closingBracketRange)continue;let V=U&&j.range.equalsRange(U);if(!V&&!X.includeInactive)continue;let W=H.getInlineClassName(j.nestingLevel,j.nestingLevelOfEqualBracketType,z)+(X.highlightActive&&V?" "+H.activeClassName:""),B=j.openingBracketRange.getStartPosition(),K=j.closingBracketRange.getStartPosition(),P=X.horizontalGuides===XX.Enabled||X.horizontalGuides===XX.EnabledForActive&&V;if(j.range.startLineNumber===j.range.endLineNumber){if(G&&P)Z[j.range.startLineNumber-J].push(new wJ(-1,j.openingBracketRange.getEndPosition().column,W,new RY(!1,K.column),-1,-1));continue}let A=this.getVisibleColumnFromPosition(K),D=this.getVisibleColumnFromPosition(j.openingBracketRange.getStartPosition()),R=Math.min(D,A,j.minVisibleColumnIndentation+1),M=!1;if(I6(this.textModel.getLineContent(j.closingBracketRange.startLineNumber))<j.closingBracketRange.startColumn-1)M=!0;let w=Math.max(B.lineNumber,J),b=Math.min(K.lineNumber,$),S=M?1:0;for(let g=w;g<b+S;g++)Z[g-J].push(new wJ(R,-1,W,null,g===B.lineNumber?B.column:-1,g===K.lineNumber?K.column:-1));if(P){if(B.lineNumber>=J&&D>R)Z[B.lineNumber-J].push(new wJ(R,-1,W,new RY(!1,B.column),-1,-1));if(K.lineNumber<=$&&A>R)Z[K.lineNumber-J].push(new wJ(R,-1,W,new RY(!M,K.column),-1,-1))}}for(let j of Z)j.sort((V,W)=>V.visibleColumn-W.visibleColumn);return Z}getVisibleColumnFromPosition(J){return f1.visibleColumnFromColumn(this.textModel.getLineContent(J.lineNumber),J.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(J,$){this.assertNotDisposed();let Q=this.textModel.getLineCount();if(J<1||J>Q)throw new Error("Illegal value for startLineNumber");if($<1||$>Q)throw new Error("Illegal value for endLineNumber");let X=this.textModel.getOptions(),Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=new Array($-J+1),q=-2,U=-1,z=-2,H=-1;for(let j=J;j<=$;j++){let V=j-J,W=this._computeIndentLevel(j-1);if(W>=0){q=j-1,U=W,G[V]=Math.ceil(W/X.indentSize);continue}if(q===-2){q=-1,U=-1;for(let B=j-2;B>=0;B--){let K=this._computeIndentLevel(B);if(K>=0){q=B,U=K;break}}}if(z!==-1&&(z===-2||z<j-1)){z=-1,H=-1;for(let B=j;B<Q;B++){let K=this._computeIndentLevel(B);if(K>=0){z=B,H=K;break}}}G[V]=this._getIndentLevelForWhitespaceLine(Z,U,H)}return G}_getIndentLevelForWhitespaceLine(J,$,Q){let X=this.textModel.getOptions();if($===-1||Q===-1)return 0;else if($<Q)return 1+Math.floor($/X.indentSize);else if($===Q)return Math.ceil(Q/X.indentSize);else if(J)return Math.ceil(Q/X.indentSize);else return 1+Math.floor(Q/X.indentSize)}}});function Q3(J){if(J&&J.isTransparent())return;return J}var ZT;var Am=N(()=>{Km();FY();TJ();s6();U1();YT();eK();ZT=class ZT extends s7{constructor(J){super();this._context=J,this._primaryPosition=null;let $=this._context.configuration.options,Q=$.get(144),X=$.get(50);this._lineHeight=$.get(66),this._spaceWidth=X.spaceWidth,this._maxIndentLeft=Q.wrappingColumn===-1?-1:Q.wrappingColumn*X.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(144),X=$.get(50);return this._lineHeight=$.get(66),this._spaceWidth=X.spaceWidth,this._maxIndentLeft=Q.wrappingColumn===-1?-1:Q.wrappingColumn*X.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),!0}onCursorStateChanged(J){var $;let X=J.selections[0].getPosition();if(!(($=this._primaryPosition)===null||$===void 0?void 0:$.equals(X)))return this._primaryPosition=X,!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onLanguageConfigurationChanged(J){return!0}prepareRender(J){var $,Q,X,Y;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}let Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.scrollWidth,U=this._lineHeight,z=this._primaryPosition,H=this.getGuidesByLine(Z,Math.min(G+1,this._context.viewModel.getLineCount()),z),j=[];for(let V=Z;V<=G;V++){let W=V-Z,B=H[W],K="",P=(Q=($=J.visibleRangeForPosition(new v(V,1)))===null||$===void 0?void 0:$.left)!==null&&Q!==void 0?Q:0;for(let A of B){let D=A.column===-1?P+(A.visibleColumn-1)*this._spaceWidth:J.visibleRangeForPosition(new v(V,A.column)).left;if(D>q||this._maxIndentLeft>0&&D>this._maxIndentLeft)break;let R=A.horizontalLine?A.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=A.horizontalLine?((Y=(X=J.visibleRangeForPosition(new v(V,A.horizontalLine.endColumn)))===null||X===void 0?void 0:X.left)!==null&&Y!==void 0?Y:D+this._spaceWidth)-D:this._spaceWidth;K+=`<div class="core-guide ${A.className} ${R}" style="left:${D}px;height:${U}px;width:${M}px"></div>`}j[W]=K}this._renderResult=j}getGuidesByLine(J,$,Q){let X=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(J,$,Q,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?XX.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?XX.EnabledForActive:XX.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Y=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(J,$):null,Z=0,G=0,q=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&Q){let H=this._context.viewModel.getActiveIndentGuide(Q.lineNumber,J,$);Z=H.startLineNumber,G=H.endLineNumber,q=H.indent}let{indentSize:U}=this._context.viewModel.model.getOptions(),z=[];for(let H=J;H<=$;H++){let j=new Array;z.push(j);let V=X?X[H-J]:[],W=new r8(V),B=Y?Y[H-J]:0;for(let K=1;K<=B;K++){let P=(K-1)*U+1,A=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||V.length===0)&&Z<=H&&H<=G&&K===q;j.push(...W.takeWhile((R)=>R.visibleColumn<P)||[]);let D=W.peek();if(!D||D.visibleColumn!==P||D.horizontalLine)j.push(new wJ(P,-1,`core-guide-indent lvl-${(K-1)%30}`+(A?" indent-active":""),null,-1,-1))}j.push(...W.takeWhile((K)=>!0)||[])}return z}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};m8((J,$)=>{let Q=[{bracketColor:SK,guideColor:Rp,guideColorActive:wp},{bracketColor:CK,guideColor:Mp,guideColorActive:Lp},{bracketColor:vK,guideColor:_p,guideColorActive:kp},{bracketColor:hK,guideColor:Op,guideColorActive:Ep},{bracketColor:fK,guideColor:Np,guideColorActive:Ip},{bracketColor:gK,guideColor:Tp,guideColorActive:yp}],X=new JA,Y=[{indentColor:k2,indentColorActive:E2},{indentColor:Qp,indentColorActive:qp},{indentColor:Xp,indentColorActive:Up},{indentColor:Yp,indentColorActive:zp},{indentColor:Zp,indentColorActive:Hp},{indentColor:Gp,indentColorActive:jp}],Z=Q.map((q)=>{var U,z;let H=J.getColor(q.bracketColor),j=J.getColor(q.guideColor),V=J.getColor(q.guideColorActive),W=Q3((U=Q3(j))!==null&&U!==void 0?U:H===null||H===void 0?void 0:H.transparent(0.3)),B=Q3((z=Q3(V))!==null&&z!==void 0?z:H);if(!W||!B)return;return{guideColor:W,guideColorActive:B}}).filter(UQ),G=Y.map((q)=>{let U=J.getColor(q.indentColor),z=J.getColor(q.indentColorActive),H=Q3(U),j=Q3(z);if(!H||!j)return;return{indentColor:H,indentColorActive:j}}).filter(UQ);if(Z.length>0){for(let q=0;q<30;q++){let U=Z[q%Z.length];$.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(q).replace(/ /g,".")} { --guide-color: ${U.guideColor}; --guide-color-active: ${U.guideColorActive}; }`)}$.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),$.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),$.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),$.addRule(`.monaco-editor .vertical.${X.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),$.addRule(`.monaco-editor .horizontal-top.${X.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),$.addRule(`.monaco-editor .horizontal-bottom.${X.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(G.length>0){for(let q=0;q<30;q++){let U=G[q%G.length];$.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${q} { --indent-color: ${U.indentColor}; --indent-color-active: ${U.indentColorActive}; }`)}$.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),$.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})});var Pm=N(()=>{j0(".mtkcontrol{color:#fff!important;background:#960000!important}.mtkoverflow{background-color:var(--vscode-button-background,var(--vscode-editor-background));color:var(--vscode-button-foreground,var(--vscode-editor-foreground));border-style:solid;border-width:1px;border-color:var(--vscode-contrastBorder);cursor:pointer;border-radius:2px;padding:4px}.mtkoverflow:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-webkit-user-select:none;user-select:none}.monaco-editor.mac .lines-content:hover,.monaco-editor.mac .view-line:hover,.monaco-editor.mac .view-lines:hover{-webkit-user-select:text;-ms-user-select:text;user-select:text}.monaco-editor.enable-user-select{user-select:initial;-webkit-user-select:initial}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{width:100%;position:absolute}.monaco-editor .mtkw{color:var(--vscode-editorWhitespace-foreground)!important}.monaco-editor .mtkz{display:inline-block;color:var(--vscode-editorWhitespace-foreground)!important}")});class LH{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;let J=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=J.left,this._clientRectScale=J.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){if(!this._clientRectRead)this.readClientRect();return this._clientRectDeltaLeft}get clientRectScale(){if(!this._clientRectRead)this.readClientRect();return this._clientRectScale}constructor(J,$){this._domNode=J,this.endNode=$,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Dm{constructor(){this._currentVisibleRange=new L(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(J){this._currentVisibleRange=J}}class Rm{constructor(J,$,Q,X,Y,Z,G){this.minimalReveal=J,this.lineNumber=$,this.startColumn=Q,this.endColumn=X,this.startScrollTop=Y,this.stopScrollTop=Z,this.scrollType=G,this.type="range",this.minLineNumber=$,this.maxLineNumber=$}}class Mm{constructor(J,$,Q,X,Y){this.minimalReveal=J,this.selections=$,this.startScrollTop=Q,this.stopScrollTop=X,this.scrollType=Y,this.type="selections";let Z=$[0].startLineNumber,G=$[0].endLineNumber;for(let q=1,U=$.length;q<U;q++){let z=$[q];Z=Math.min(Z,z.startLineNumber),G=Math.max(G,z.endLineNumber)}this.minLineNumber=Z,this.maxLineNumber=G}}var kH;var _m=N(()=>{pK();u1();M1();Pm();W4();cq();oK();g8();$N();l0();kH=class kH extends B6{constructor(J,$){super(J);this._linesContent=$,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new OH(this),this.domNode=this._visibleLines.domNode;let Q=this._context.configuration,X=this._context.configuration.options,Y=X.get(50),Z=X.get(144);this._lineHeight=X.get(66),this._typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=X.get(99),this._cursorSurroundingLines=X.get(29),this._cursorSurroundingLinesStyle=X.get(30),this._canUseLayerHinting=!X.get(32),this._viewLineOptions=new OK(Q,this._context.theme.type),X8.write(this.domNode,8),this.domNode.setClassName(`view-lines ${JX}`),M6(this.domNode,Y),this._maxLineWidth=0,this._asyncUpdateLineWidths=new t1(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new t1(()=>{this._checkMonospaceFontAssumptions()},2000),this._lastRenderedData=new Dm,this._horizontalRevealRequest=null,this._stickyScrollEnabled=X.get(114).enabled,this._maxNumberStickyLines=X.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new l7(this._viewLineOptions)}onConfigurationChanged(J){if(this._visibleLines.onConfigurationChanged(J),J.hasChanged(144))this._maxLineWidth=0;let $=this._context.configuration.options,Q=$.get(50),X=$.get(144);if(this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._isViewportWrapping=X.isViewportWrapping,this._revealHorizontalRightPadding=$.get(99),this._cursorSurroundingLines=$.get(29),this._cursorSurroundingLinesStyle=$.get(30),this._canUseLayerHinting=!$.get(32),this._stickyScrollEnabled=$.get(114).enabled,this._maxNumberStickyLines=$.get(114).maxLineCount,M6(this.domNode,Q),this._onOptionsMaybeChanged(),J.hasChanged(143))this._maxLineWidth=0;return!0}_onOptionsMaybeChanged(){let J=this._context.configuration,$=new OK(J,this._context.theme.type);if(!this._viewLineOptions.equals($)){this._viewLineOptions=$;let Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++)this._visibleLines.getVisibleLine(Y).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber(),X=!1;for(let Y=$;Y<=Q;Y++)X=this._visibleLines.getVisibleLine(Y).onSelectionChanged()||X;return X}onDecorationsChanged(J){{let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let X=$;X<=Q;X++)this._visibleLines.getVisibleLine(X).onDecorationsChanged()}return!0}onFlushed(J){let $=this._visibleLines.onFlushed(J);return this._maxLineWidth=0,$}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onRevealRangeRequest(J){let $=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),J.source,J.minimalReveal,J.range,J.selections,J.verticalType);if($===-1)return!1;let Q=this._context.viewLayout.validateScrollPosition({scrollTop:$});if(J.revealHorizontal){if(J.range&&J.range.startLineNumber!==J.range.endLineNumber)Q={scrollTop:Q.scrollTop,scrollLeft:0};else if(J.range)this._horizontalRevealRequest=new Rm(J.minimalReveal,J.range.startLineNumber,J.range.startColumn,J.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),Q.scrollTop,J.scrollType);else if(J.selections&&J.selections.length>0)this._horizontalRevealRequest=new Mm(J.minimalReveal,J.selections,this._context.viewLayout.getCurrentScrollTop(),Q.scrollTop,J.scrollType)}else this._horizontalRevealRequest=null;let Y=Math.abs(this._context.viewLayout.getCurrentScrollTop()-Q.scrollTop)<=this._lineHeight?1:J.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(Q,Y),!0}onScrollChanged(J){if(this._horizontalRevealRequest&&J.scrollLeftChanged)this._horizontalRevealRequest=null;if(this._horizontalRevealRequest&&J.scrollTopChanged){let $=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),Q=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);if(J.scrollTop<$||J.scrollTop>Q)this._horizontalRevealRequest=null}return this.domNode.setWidth(J.scrollWidth),this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(J)}onThemeChanged(J){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(J,$){let Q=this._getViewLineDomNode(J);if(Q===null)return null;let X=this._getLineNumberFor(Q);if(X===-1)return null;if(X<1||X>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(X)===1)return new v(X,1);let Y=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(X<Y||X>Z)return null;let G=this._visibleLines.getVisibleLine(X).getColumnOfNodeOffset(J,$),q=this._context.viewModel.getLineMinColumn(X);if(G<q)G=q;return new v(X,G)}_getViewLineDomNode(J){while(J&&J.nodeType===1){if(J.className===l7.CLASS_NAME)return J;J=J.parentElement}return null}_getLineNumberFor(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let X=$;X<=Q;X++){let Y=this._visibleLines.getVisibleLine(X);if(J===Y.getDomNode())return X}return-1}getLineWidth(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();if(J<$||J>Q)return-1;let X=new LH(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getWidth(X);return this._updateLineWidthsSlowIfDomDidLayout(X),Y}linesVisibleRangesForRange(J,$){if(this.shouldRender())return null;let Q=J.endLineNumber,X=L.intersectRanges(J,this._lastRenderedData.getCurrentVisibleRange());if(!X)return null;let Y=[],Z=0,G=new LH(this.domNode.domNode,this._textRangeRestingSpot),q=0;if($)q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(X.startLineNumber,1)).lineNumber;let U=this._visibleLines.getStartLineNumber(),z=this._visibleLines.getEndLineNumber();for(let H=X.startLineNumber;H<=X.endLineNumber;H++){if(H<U||H>z)continue;let j=H===X.startLineNumber?X.startColumn:1,V=H!==X.endLineNumber,W=V?this._context.viewModel.getLineMaxColumn(H):X.endColumn,B=this._visibleLines.getVisibleLine(H).getVisibleRangesForRange(H,j,W,G);if(!B)continue;if($&&H<Q){let K=q;if(q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(H+1,1)).lineNumber,K!==q)B.ranges[B.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth}Y[Z++]=new tO(B.outsideRenderedLine,H,uq.from(B.ranges),V)}if(this._updateLineWidthsSlowIfDomDidLayout(G),Z===0)return null;return Y}_visibleRangesForLineRange(J,$,Q){if(this.shouldRender())return null;if(J<this._visibleLines.getStartLineNumber()||J>this._visibleLines.getEndLineNumber())return null;let X=new LH(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getVisibleRangesForRange(J,$,Q,X);return this._updateLineWidthsSlowIfDomDidLayout(X),Y}visibleRangeForPosition(J){let $=this._visibleRangesForLineRange(J.lineNumber,J.column,J.column);if(!$)return null;return new eO($.outsideRenderedLine,$.ranges[0].left)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(J){if(!J.didDomLayout)return;if(this._asyncUpdateLineWidths.isScheduled())return;this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()}_updateLineWidths(J){let $=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber(),X=1,Y=!0;for(let Z=$;Z<=Q;Z++){let G=this._visibleLines.getVisibleLine(Z);if(J&&!G.getWidthIsFast()){Y=!1;continue}X=Math.max(X,G.getWidth(null))}if(Y&&$===1&&Q===this._context.viewModel.getLineCount())this._maxLineWidth=0;return this._ensureMaxLineWidth(X),Y}_checkMonospaceFontAssumptions(){let J=-1,$=-1,Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++){let Z=this._visibleLines.getVisibleLine(Y);if(Z.needsMonospaceFontCheck()){let G=Z.getWidth(null);if(G>$)$=G,J=Y}}if(J===-1)return;if(!this._visibleLines.getVisibleLine(J).monospaceAssumptionsAreValid())for(let Y=Q;Y<=X;Y++)this._visibleLines.getVisibleLine(Y).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(J){if(this._visibleLines.renderLines(J),this._lastRenderedData.setCurrentVisibleRange(J.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){let Q=this._horizontalRevealRequest;if(J.startLineNumber<=Q.minLineNumber&&Q.maxLineNumber<=J.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();let X=this._computeScrollLeftToReveal(Q);if(X){if(!this._isViewportWrapping)this._ensureMaxLineWidth(X.maxHorizontalOffset);this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:X.scrollLeft},Q.scrollType)}}}if(!this._updateLineWidthsFast())this._asyncUpdateLineWidths.schedule();else this._asyncUpdateLineWidths.cancel();if(V6&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){let Q=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Y=Q;Y<=X;Y++)if(this._visibleLines.getVisibleLine(Y).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");let $=this._context.viewLayout.getCurrentScrollTop()-J.bigNumbersDelta;this._linesContent.setTop(-$),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(J){let $=Math.ceil(J);if(this._maxLineWidth<$)this._maxLineWidth=$,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth)}_computeScrollTopToRevealRange(J,$,Q,X,Y,Z){let{top:G,height:q}=J,U=G+q,z,H,j;if(Y&&Y.length>0){let P=Y[0].startLineNumber,A=Y[0].endLineNumber;for(let D=1,R=Y.length;D<R;D++){let M=Y[D];P=Math.min(P,M.startLineNumber),A=Math.max(A,M.endLineNumber)}z=!1,H=this._context.viewLayout.getVerticalOffsetForLineNumber(P),j=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(X)z=!0,H=this._context.viewLayout.getVerticalOffsetForLineNumber(X.startLineNumber),j=this._context.viewLayout.getVerticalOffsetForLineNumber(X.endLineNumber)+this._lineHeight;else return-1;let V=($==="mouse"||Q)&&this._cursorSurroundingLinesStyle==="default",W=0,B=0;if(!V){let P=Math.min(q/this._lineHeight/2,this._cursorSurroundingLines);if(this._stickyScrollEnabled)W=Math.max(P,this._maxNumberStickyLines)*this._lineHeight;else W=P*this._lineHeight;B=Math.max(0,P-1)*this._lineHeight}else if(!Q)W=this._lineHeight;if(!Q){if(Z===0||Z===4)B+=this._lineHeight}H-=W,j+=B;let K;if(j-H>q){if(!z)return-1;K=H}else if(Z===5||Z===6)if(Z===6&&G<=H&&j<=U)K=G;else{let P=Math.max(5*this._lineHeight,q*0.2),A=H-P,D=j-q;K=Math.max(D,A)}else if(Z===1||Z===2)if(Z===2&&G<=H&&j<=U)K=G;else{let P=(H+j)/2;K=Math.max(0,P-q/2)}else K=this._computeMinimumScrolling(G,U,H,j,Z===3,Z===4);return K}_computeScrollLeftToReveal(J){let $=this._context.viewLayout.getCurrentViewport(),Q=this._context.configuration.options.get(143),X=$.left,Y=X+$.width-Q.verticalScrollbarWidth,Z=1073741824,G=0;if(J.type==="range"){let U=this._visibleRangesForLineRange(J.lineNumber,J.startColumn,J.endColumn);if(!U)return null;for(let z of U.ranges)Z=Math.min(Z,Math.round(z.left)),G=Math.max(G,Math.round(z.left+z.width))}else for(let U of J.selections){if(U.startLineNumber!==U.endLineNumber)return null;let z=this._visibleRangesForLineRange(U.startLineNumber,U.startColumn,U.endColumn);if(!z)return null;for(let H of z.ranges)Z=Math.min(Z,Math.round(H.left)),G=Math.max(G,Math.round(H.left+H.width))}if(!J.minimalReveal)Z=Math.max(0,Z-kH.HORIZONTAL_EXTRA_PX),G+=this._revealHorizontalRightPadding;if(J.type==="selections"&&G-Z>$.width)return null;return{scrollLeft:this._computeMinimumScrolling(X,Y,Z,G),maxHorizontalOffset:G}}_computeMinimumScrolling(J,$,Q,X,Y,Z){J=J|0,$=$|0,Q=Q|0,X=X|0,Y=!!Y,Z=!!Z;let G=$-J;if(X-Q<G){if(Y)return Q;if(Z)return Math.max(0,X-G);if(Q<J)return Q;else if(X>$)return Math.max(0,X-G)}else return Q;return J}};kH.HORIZONTAL_EXTRA_PX=30});var Om=N(()=>{j0(".monaco-editor .lines-decorations{background:#fff;position:absolute;top:0}.monaco-editor .margin-view-overlays .cldr{height:100%;position:absolute}")});var GT;var Nm=N(()=>{Om();tK();GT=class GT extends NH{constructor(J){super();this._context=J;let Q=this._context.configuration.options.get(143);this._decorationsLeft=Q.decorationsLeft,this._decorationsWidth=Q.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._decorationsLeft=Q.decorationsLeft,this._decorationsWidth=Q.decorationsWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){var $,Q;let X=J.getDecorationsInViewport(),Y=[],Z=0;for(let G=0,q=X.length;G<q;G++){let U=X[G],z=U.options.linesDecorationsClassName,H=U.options.zIndex;if(z)Y[Z++]=new $3(U.range.startLineNumber,U.range.endLineNumber,z,($=U.options.linesDecorationsTooltip)!==null&&$!==void 0?$:null,H);let j=U.options.firstLineDecorationClassName;if(j)Y[Z++]=new $3(U.range.startLineNumber,U.range.startLineNumber,j,(Q=U.options.linesDecorationsTooltip)!==null&&Q!==void 0?Q:null,H)}return Y}prepareRender(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=this._render($,Q,this._getDecorations(J)),Y=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),G='" style="left:'+Y+"px;width:"+Z+'px;"></div>',q=[];for(let U=$;U<=Q;U++){let z=U-$,H=X[z].getDecorations(),j="";for(let V of H){let W='<div class="cldr '+V.className;if(V.tooltip!==null)W+='" title="'+V.tooltip;W+=G,j+=W}q[z]=j}this._renderResult=q}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}});var Tm=N(()=>{j0(".monaco-editor .margin-view-overlays .cmdr{width:100%;height:100%;position:absolute;left:0}")});var qT;var wm=N(()=>{Tm();tK();qT=class qT extends NH{constructor(J){super();this._context=J,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){let $=J.getDecorationsInViewport(),Q=[],X=0;for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=G.options.marginClassName,U=G.options.zIndex;if(q)Q[X++]=new $3(G.range.startLineNumber,G.range.endLineNumber,q,null,U)}return Q}prepareRender(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,X=this._render($,Q,this._getDecorations(J)),Y=[];for(let Z=$;Z<=Q;Z++){let G=Z-$,q=X[G].getDecorations(),U="";for(let z of q)U+='<div class="cmdr '+z.className+'" style=""></div>';Y[G]=U}this._renderResult=Y}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}});var Lm=N(()=>{j0(".monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover:hover .minimap-slider,.monaco-editor .minimap.slider-mouseover .minimap-slider.active{opacity:1}.monaco-editor .minimap-slider .minimap-slider-horizontal{background:var(--vscode-minimapSlider-background)}.monaco-editor .minimap-slider:hover .minimap-slider-horizontal{background:var(--vscode-minimapSlider-hoverBackground)}.monaco-editor .minimap-slider.active .minimap-slider-horizontal{background:var(--vscode-minimapSlider-activeBackground)}.monaco-editor .minimap-shadow-visible{box-shadow:var(--vscode-scrollbar-shadow)-6px 0 6px -6px inset}.monaco-editor .minimap-shadow-hidden{width:0;position:absolute}.monaco-editor .minimap-shadow-visible{width:6px;position:absolute;left:-6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{width:1px;position:absolute;left:-1px}.minimap.autohide{opacity:0;transition:opacity .5s}.minimap.autohide:hover{opacity:1}.monaco-editor .minimap{z-index:5}")});class a7{constructor(J,$,Q,X){this._rgba8Brand=void 0,this.r=a7._clamp(J),this.g=a7._clamp($),this.b=a7._clamp(Q),this.a=a7._clamp(X)}equals(J){return this.r===J.r&&this.g===J.g&&this.b===J.b&&this.a===J.a}static _clamp(J){if(J<0)return 0;if(J>255)return 255;return J|0}}var UT=N(()=>{a7.Empty=new a7(0,0,0,0)});var b2;var zT=N(()=>{F0();Q0();UT();P8();b2=class b2 extends h{static getInstance(){if(!this._INSTANCE)this._INSTANCE=LZ(new b2);return this._INSTANCE}constructor(){super();this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(c1.onDidChange((J)=>{if(J.changedColorMap)this._updateColorMap()}))}_updateColorMap(){let J=c1.getColorMap();if(!J){this._colors=[a7.Empty],this._backgroundIsLight=!0;return}this._colors=[a7.Empty];for(let Q=1;Q<J.length;Q++){let X=J[Q].rgba;this._colors[Q]=new a7(X.r,X.g,X.b,Math.round(X.a*255))}let $=J[2].getRelativeLuminance();this._backgroundIsLight=$>=0.5,this._onDidChange.fire(void 0)}getColor(J){if(J<1||J>=this._colors.length)J=2;return this._colors[J]}backgroundIsLight(){return this._backgroundIsLight}};b2._INSTANCE=null});var km,Em=(J,$)=>{if(J-=32,J<0||J>96){if($<=2)return(J+96)%96;return 95}return J};var HT=N(()=>{km=(()=>{let J=[];for(let $=32;$<=126;$++)J.push($);return J.push(65533),J})()});class X3{constructor(J,$){this.scale=$,this._minimapCharRendererBrand=void 0,this.charDataNormal=X3.soften(J,0.8),this.charDataLight=X3.soften(J,0.8333333333333334)}static soften(J,$){let Q=new Uint8ClampedArray(J.length);for(let X=0,Y=J.length;X<Y;X++)Q[X]=G2(J[X]*$);return Q}renderChar(J,$,Q,X,Y,Z,G,q,U,z,H){let j=1*this.scale,V=2*this.scale,W=H?1:V;if($+j>J.width||Q+W>J.height){console.warn("bad render request outside image data");return}let B=z?this.charDataLight:this.charDataNormal,K=Em(X,U),P=J.width*4,A=G.r,D=G.g,R=G.b,M=Y.r-A,_=Y.g-D,T=Y.b-R,w=Math.max(Z,q),b=J.data,S=K*j*V,g=Q*P+$*4;for(let c=0;c<W;c++){let C=g;for(let u=0;u<j;u++){let i=B[S++]/255*(Z/255);b[C++]=A+M*i,b[C++]=D+_*i,b[C++]=R+T*i,b[C++]=w}g+=P}}blockRenderChar(J,$,Q,X,Y,Z,G,q){let U=1*this.scale,z=2*this.scale,H=q?1:z;if($+U>J.width||Q+H>J.height){console.warn("bad render request outside image data");return}let j=J.width*4,V=0.5*(Y/255),W=Z.r,B=Z.g,K=Z.b,P=X.r-W,A=X.g-B,D=X.b-K,R=W+P*V,M=B+A*V,_=K+D*V,T=Math.max(Y,G),w=J.data,b=Q*j+$*4;for(let S=0;S<H;S++){let g=b;for(let c=0;c<U;c++)w[g++]=R,w[g++]=M,w[g++]=_,w[g++]=T;b+=j}}}var Im=N(()=>{HT()});var ym,xm=(J)=>{let $=new Uint8ClampedArray(J.length/2);for(let Q=0;Q<J.length;Q+=2)$[Q>>1]=ym[J[Q]]<<4|ym[J[Q+1]]&15;return $},jT;var bm=N(()=>{ym={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},jT={1:e4(()=>xm("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:e4(()=>xm("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}});class Y3{static create(J,$){if(this.lastCreated&&J===this.lastCreated.scale&&$===this.lastFontFamily)return this.lastCreated;let Q;if(jT[J])Q=new X3(jT[J](),J);else Q=Y3.createFromSampleData(Y3.createSampleData($).data,J);return this.lastFontFamily=$,this.lastCreated=Q,Q}static createSampleData(J){let $=document.createElement("canvas"),Q=$.getContext("2d");$.style.height="16px",$.height=16,$.width=960,$.style.width="960px",Q.fillStyle="#ffffff",Q.font=`bold 16px ${J}`,Q.textBaseline="middle";let X=0;for(let Y of km)Q.fillText(String.fromCharCode(Y),X,8),X+=10;return Q.getImageData(0,0,960,16)}static createFromSampleData(J,$){if(J.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let X=Y3._downsample(J,$);return new X3(X,$)}static _downsampleChar(J,$,Q,X,Y){let Z=1*Y,G=2*Y,q=X,U=0;for(let z=0;z<G;z++){let H=z/G*16,j=(z+1)/G*16;for(let V=0;V<Z;V++){let W=V/Z*10,B=(V+1)/Z*10,K=0,P=0;for(let D=H;D<j;D++){let R=$+Math.floor(D)*3840,M=1-(D-Math.floor(D));for(let _=W;_<B;_++){let T=1-(_-Math.floor(_)),w=R+Math.floor(_)*4,b=T*M;P+=b,K+=J[w]*J[w+3]/255*b}}let A=K/P;U=Math.max(U,A),Q[q++]=G2(A)}}return U}static _downsample(J,$){let Q=2*$*1*$,X=Q*96,Y=new Uint8ClampedArray(X),Z=0,G=0,q=0;for(let U=0;U<96;U++)q=Math.max(q,this._downsampleChar(J,G,Y,Z,$)),Z+=Q,G+=40;if(q>0){let U=255/q;for(let z=0;z<X;z++)Y[z]*=U}return Y}}var Sm=N(()=>{Im();HT();bm()});class IH{constructor(J,$,Q){let X=J.options,Y=X.get(141),Z=X.get(143),G=Z.minimap,q=X.get(50),U=X.get(72);this.renderMinimap=G.renderMinimap,this.size=U.size,this.minimapHeightIsEditorHeight=G.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=X.get(104),this.paddingTop=X.get(83).top,this.paddingBottom=X.get(83).bottom,this.showSlider=U.showSlider,this.autohide=U.autohide,this.pixelRatio=Y,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=X.get(66),this.minimapLeft=G.minimapLeft,this.minimapWidth=G.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=G.minimapCanvasInnerWidth,this.canvasInnerHeight=G.minimapCanvasInnerHeight,this.canvasOuterWidth=G.minimapCanvasOuterWidth,this.canvasOuterHeight=G.minimapCanvasOuterHeight,this.isSampling=G.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=G.minimapScale,this.minimapLineHeight=G.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=e4(()=>Y3.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=Q.getColor(2),this.backgroundColor=IH._getMinimapBackground($,this.defaultBackgroundColor),this.foregroundAlpha=IH._getMinimapForegroundOpacity($)}static _getMinimapBackground(J,$){let Q=J.getColor(Fg);if(Q)return new a7(Q.rgba.r,Q.rgba.g,Q.rgba.b,Math.round(255*Q.rgba.a));return $}static _getMinimapForegroundOpacity(J){let $=J.getColor(Kg);if($)return a7._clamp(Math.round(255*$.rgba.a));return 255}equals(J){return this.renderMinimap===J.renderMinimap&&this.size===J.size&&this.minimapHeightIsEditorHeight===J.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===J.scrollBeyondLastLine&&this.paddingTop===J.paddingTop&&this.paddingBottom===J.paddingBottom&&this.showSlider===J.showSlider&&this.autohide===J.autohide&&this.pixelRatio===J.pixelRatio&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.lineHeight===J.lineHeight&&this.minimapLeft===J.minimapLeft&&this.minimapWidth===J.minimapWidth&&this.minimapHeight===J.minimapHeight&&this.canvasInnerWidth===J.canvasInnerWidth&&this.canvasInnerHeight===J.canvasInnerHeight&&this.canvasOuterWidth===J.canvasOuterWidth&&this.canvasOuterHeight===J.canvasOuterHeight&&this.isSampling===J.isSampling&&this.editorHeight===J.editorHeight&&this.fontScale===J.fontScale&&this.minimapLineHeight===J.minimapLineHeight&&this.minimapCharWidth===J.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(J.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(J.backgroundColor)&&this.foregroundAlpha===J.foregroundAlpha}}class EH{constructor(J,$,Q,X,Y,Z,G,q,U){this.scrollTop=J,this.scrollHeight=$,this.sliderNeeded=Q,this._computedSliderRatio=X,this.sliderTop=Y,this.sliderHeight=Z,this.topPaddingLineCount=G,this.startLineNumber=q,this.endLineNumber=U}getDesiredScrollTopFromDelta(J){return Math.round(this.scrollTop+J/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(J){return Math.round((J-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(J){let $=Math.max(this.startLineNumber,J.startLineNumber),Q=Math.min(this.endLineNumber,J.endLineNumber);if($>Q)return null;return[$,Q]}getYForLineNumber(J,$){return+(J-this.startLineNumber+this.topPaddingLineCount)*$}static create(J,$,Q,X,Y,Z,G,q,U,z,H){let{pixelRatio:j,minimapLineHeight:V}=J,W=Math.floor(J.canvasInnerHeight/V),B=J.lineHeight;if(J.minimapHeightIsEditorHeight){let _=q*J.lineHeight+J.paddingTop+J.paddingBottom;if(J.scrollBeyondLastLine)_+=Math.max(0,Y-J.lineHeight-J.paddingBottom);let T=Math.max(1,Math.floor(Y*Y/_)),w=Math.max(0,J.minimapHeight-T),b=w/(z-Y),S=U*b,g=w>0,c=Math.floor(J.canvasInnerHeight/J.minimapLineHeight),C=Math.floor(J.paddingTop/J.lineHeight);return new EH(U,z,g,b,S,T,C,1,Math.min(G,c))}let K;if(Z&&Q!==G){let _=Q-$+1;K=Math.floor(_*V/j)}else{let _=Y/B;K=Math.floor(_*V/j)}let P=Math.floor(J.paddingTop/B),A=Math.floor(J.paddingBottom/B);if(J.scrollBeyondLastLine){let _=Y/B;A=Math.max(A,_-1)}let D;if(A>0){let _=Y/B;D=(P+G+A-_-1)*V/j}else D=Math.max(0,(P+G)*V/j-K);D=Math.min(J.minimapHeight-K,D);let R=D/(z-Y),M=U*R;if(W>=P+G+A){let _=D>0;return new EH(U,z,_,R,M,K,P,1,G)}else{let _;if($>1)_=$+P;else _=Math.max(1,U/B);let T,w=Math.max(1,Math.floor(_-M*j/V));if(w<P)T=P-w+1,w=1;else T=0,w=Math.max(1,w-P);if(H&&H.scrollHeight===z){if(H.scrollTop>U)w=Math.min(w,H.startLineNumber),T=Math.max(T,H.topPaddingLineCount);if(H.scrollTop<U)w=Math.max(w,H.startLineNumber),T=Math.min(T,H.topPaddingLineCount)}let b=Math.min(G,w-T+W-1),S=(U-X)/B,g;if(U>=J.paddingTop)g=($-w+T+S)*V/j;else g=U/J.paddingTop*(T+S)*V/j;return new EH(U,z,!0,R,g,K,T,w,b)}}}class yH{constructor(J){this.dy=J}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}class VT{constructor(J,$,Q){this.renderedLayout=J,this._imageData=$,this._renderedLines=new nK(()=>yH.INVALID),this._renderedLines._set(J.startLineNumber,Q)}linesEquals(J){if(!this.scrollEquals(J))return!1;let Q=this._renderedLines._get().lines;for(let X=0,Y=Q.length;X<Y;X++)if(Q[X].dy===-1)return!1;return!0}scrollEquals(J){return this.renderedLayout.startLineNumber===J.startLineNumber&&this.renderedLayout.endLineNumber===J.endLineNumber}_get(){let J=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:J.rendLineNumberStart,lines:J.lines}}onLinesChanged(J,$){return this._renderedLines.onLinesChanged(J,$)}onLinesDeleted(J,$){this._renderedLines.onLinesDeleted(J,$)}onLinesInserted(J,$){this._renderedLines.onLinesInserted(J,$)}onTokensChanged(J){return this._renderedLines.onTokensChanged(J)}}class BT{constructor(J,$,Q,X){this._backgroundFillData=BT._createBackgroundFillData($,Q,X),this._buffers=[J.createImageData($,Q),J.createImageData($,Q)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;let J=this._buffers[this._lastUsedBuffer];return J.data.set(this._backgroundFillData),J}static _createBackgroundFillData(J,$,Q){let{r:X,g:Y,b:Z,a:G}=Q,q=new Uint8ClampedArray(J*$*4),U=0;for(let z=0;z<$;z++)for(let H=0;H<J;H++)q[U]=X,q[U+1]=Y,q[U+2]=Z,q[U+3]=G,U+=4;return q}}class xH{static compute(J,$,Q){if(J.renderMinimap===0||!J.isSampling)return[null,[]];let{minimapLineCount:X}=_Z.computeContainedMinimapLineCount({viewLineCount:$,scrollBeyondLastLine:J.scrollBeyondLastLine,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:J.editorHeight,lineHeight:J.lineHeight,pixelRatio:J.pixelRatio}),Y=$/X,Z=Y/2;if(!Q||Q.minimapLines.length===0){let K=[];if(K[0]=1,X>1){for(let P=0,A=X-1;P<A;P++)K[P]=Math.round(P*Y+Z);K[X-1]=$}return[new xH(Y,K),[]]}let G=Q.minimapLines,q=G.length,U=[],z=0,H=0,j=1,V=10,W=[],B=null;for(let K=0;K<X;K++){let P=Math.max(j,Math.round(K*Y)),A=Math.max(P,Math.round((K+1)*Y));while(z<q&&G[z]<P){if(W.length<V){let R=z+1+H;if(B&&B.type==="deleted"&&B._oldIndex===z-1)B.deleteToLineNumber++;else B={type:"deleted",_oldIndex:z,deleteFromLineNumber:R,deleteToLineNumber:R},W.push(B);H--}z++}let D;if(z<q&&G[z]<=A)D=G[z],z++;else{if(K===0)D=1;else if(K+1===X)D=$;else D=Math.round(K*Y+Z);if(W.length<V){let R=z+1+H;if(B&&B.type==="inserted"&&B._i===K-1)B.insertToLineNumber++;else B={type:"inserted",_i:K,insertFromLineNumber:R,insertToLineNumber:R},W.push(B);H++}}U[K]=D,j=D}if(W.length<V)while(z<q){let K=z+1+H;if(B&&B.type==="deleted"&&B._oldIndex===z-1)B.deleteToLineNumber++;else B={type:"deleted",_oldIndex:z,deleteFromLineNumber:K,deleteToLineNumber:K},W.push(B);H--,z++}else W=[{type:"flush"}];return[new xH(Y,U),W]}constructor(J,$){this.samplingRatio=J,this.minimapLines=$}modelLineToMinimapLine(J){return Math.min(this.minimapLines.length,Math.max(1,Math.round(J/this.samplingRatio)))}modelLineRangeToMinimapLineRange(J,$){let Q=this.modelLineToMinimapLine(J)-1;while(Q>0&&this.minimapLines[Q-1]>=J)Q--;let X=this.modelLineToMinimapLine($)-1;while(X+1<this.minimapLines.length&&this.minimapLines[X+1]<=$)X++;if(Q===X){let Y=this.minimapLines[Q];if(Y<J||Y>$)return null}return[Q+1,X+1]}decorationLineRangeToMinimapLineRange(J,$){let Q=this.modelLineToMinimapLine(J),X=this.modelLineToMinimapLine($);if(J!==$&&X===Q)if(X===this.minimapLines.length){if(Q>1)Q--}else X++;return[Q,X]}onLinesDeleted(J){let $=J.toLineNumber-J.fromLineNumber+1,Q=this.minimapLines.length,X=0;for(let Y=this.minimapLines.length-1;Y>=0;Y--){if(this.minimapLines[Y]<J.fromLineNumber)break;if(this.minimapLines[Y]<=J.toLineNumber)this.minimapLines[Y]=Math.max(1,J.fromLineNumber-1),Q=Math.min(Q,Y),X=Math.max(X,Y);else this.minimapLines[Y]-=$}return[Q,X]}onLinesInserted(J){let $=J.toLineNumber-J.fromLineNumber+1;for(let Q=this.minimapLines.length-1;Q>=0;Q--){if(this.minimapLines[Q]<J.fromLineNumber)break;this.minimapLines[Q]+=$}}}class WT{constructor(J,$,Q){this._startLineNumber=J,this._endLineNumber=$,this._defaultValue=Q,this._values=[];for(let X=0,Y=this._endLineNumber-this._startLineNumber+1;X<Y;X++)this._values[X]=Q}has(J){return this.get(J)!==this._defaultValue}set(J,$){if(J<this._startLineNumber||J>this._endLineNumber)return;this._values[J-this._startLineNumber]=$}get(J){if(J<this._startLineNumber||J>this._endLineNumber)return this._defaultValue;return this._values[J-this._startLineNumber]}}var A80=140,P80=2,FT,$A;var Cm=N(()=>{Lm();D0();UH();Q0();M1();t0();oK();g8();t5();l0();UT();zT();L4();N8();E5();d9();Sm();v7();yH.INVALID=new yH(-1);FT=class FT extends B6{constructor(J){super(J);this.tokensColorTracker=b2.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new IH(this._context.configuration,this._context.theme,this.tokensColorTracker);let[$]=xH.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=$,this._shouldCheckSampling=!1,this._actual=new $A(J.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){let J=new IH(this._context.configuration,this._context.theme,this.tokensColorTracker);if(this.options.equals(J))return!1;return this.options=J,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0}onConfigurationChanged(J){return this._onOptionsMaybeChanged()}onCursorStateChanged(J){return this._selections=J.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(J){if(J.affectsMinimap)return this._actual.onDecorationsChanged();return!1}onFlushed(J){if(this._samplingState)this._shouldCheckSampling=!0;return this._actual.onFlushed()}onLinesChanged(J){if(this._samplingState){let $=this._samplingState.modelLineRangeToMinimapLineRange(J.fromLineNumber,J.fromLineNumber+J.count-1);if($)return this._actual.onLinesChanged($[0],$[1]-$[0]+1);else return!1}else return this._actual.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){if(this._samplingState){let[$,Q]=this._samplingState.onLinesDeleted(J);if($<=Q)this._actual.onLinesChanged($+1,Q-$+1);return this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(J.fromLineNumber,J.toLineNumber)}onLinesInserted(J){if(this._samplingState)return this._samplingState.onLinesInserted(J),this._shouldCheckSampling=!0,!0;else return this._actual.onLinesInserted(J.fromLineNumber,J.toLineNumber)}onScrollChanged(J){return this._actual.onScrollChanged()}onThemeChanged(J){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(J){if(this._samplingState){let $=[];for(let Q of J.ranges){let X=this._samplingState.modelLineRangeToMinimapLineRange(Q.fromLineNumber,Q.toLineNumber);if(X)$.push({fromLineNumber:X[0],toLineNumber:X[1]})}if($.length)return this._actual.onTokensChanged($);else return!1}else return this._actual.onTokensChanged(J.ranges)}onTokensColorsChanged(J){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(J){return this._actual.onZonesChanged()}prepareRender(J){if(this._shouldCheckSampling)this._shouldCheckSampling=!1,this._recreateLineSampling()}render(J){let $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;if(this._samplingState)$=this._samplingState.modelLineToMinimapLine($),Q=this._samplingState.modelLineToMinimapLine(Q);let X={viewportContainsWhitespaceGaps:J.viewportData.whitespaceViewportData.length>0,scrollWidth:J.scrollWidth,scrollHeight:J.scrollHeight,viewportStartLineNumber:$,viewportEndLineNumber:Q,viewportStartLineNumberVerticalOffset:J.getVerticalOffsetForLineNumber($),scrollTop:J.scrollTop,scrollLeft:J.scrollLeft,viewportWidth:J.viewportWidth,viewportHeight:J.viewportHeight};this._actual.render(X)}_recreateLineSampling(){this._minimapSelections=null;let J=Boolean(this._samplingState),[$,Q]=xH.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=$,J&&this._samplingState)for(let X of Q)switch(X.type){case"deleted":this._actual.onLinesDeleted(X.deleteFromLineNumber,X.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(X.insertFromLineNumber,X.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){if(this._samplingState)return this._samplingState.minimapLines.length;return this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(J){if(this._samplingState)return this._context.viewModel.getLineContent(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineContent(J)}getLineMaxColumn(J){if(this._samplingState)return this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineMaxColumn(J)}getMinimapLinesRenderingData(J,$,Q){if(this._samplingState){let X=[];for(let Y=0,Z=$-J+1;Y<Z;Y++)if(Q[Y])X[Y]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[J+Y-1]);else X[Y]=null;return X}return this._context.viewModel.getMinimapLinesRenderingData(J,$,Q).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let J of this._selections){let[$,Q]=this._samplingState.decorationLineRangeToMinimapLineRange(J.startLineNumber,J.endLineNumber);this._minimapSelections.push(new v0($,J.startColumn,Q,J.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(J,$){let Q;if(this._samplingState){let Y=this._samplingState.minimapLines[J-1],Z=this._samplingState.minimapLines[$-1];Q=new L(Y,1,Z,this._context.viewModel.getLineMaxColumn(Z))}else Q=new L(J,1,$,this._context.viewModel.getLineMaxColumn($));let X=this._context.viewModel.getMinimapDecorationsInRange(Q);if(this._samplingState){let Y=[];for(let Z of X){if(!Z.options.minimap)continue;let G=Z.range,q=this._samplingState.modelLineToMinimapLine(G.startLineNumber),U=this._samplingState.modelLineToMinimapLine(G.endLineNumber);Y.push(new QH(new L(q,G.startColumn,U,G.endColumn),Z.options))}return Y}return X}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(J){if(this._samplingState)J=this._samplingState.minimapLines[J-1];this._context.viewModel.revealRange("mouse",!1,new L(J,1,J,1),1,0)}setScrollTop(J){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:J},1)}};$A=class $A extends h{constructor(J,$){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=J,this._model=$,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(sO),this._domNode=e0(document.createElement("div")),X8.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=e0(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=e0(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=e0(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=e0(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=e0(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=i1(this._domNode.domNode,$0.POINTER_DOWN,(Q)=>{if(Q.preventDefault(),this._model.options.renderMinimap===0)return;if(!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(Q.button===0&&this._lastRenderData){let U=P5(this._slider.domNode),z=U.top+U.height/2;this._startSliderDragging(Q,z,this._lastRenderData.renderedLayout)}return}let Y=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*Q.offsetY,q=Math.floor(Z/Y)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new uQ,this._sliderPointerDownListener=i1(this._slider.domNode,$0.POINTER_DOWN,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),Q.button===0&&this._lastRenderData)this._startSliderDragging(Q,Q.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=T1.addTarget(this._domNode.domNode),this._sliderTouchStartListener=m(this._domNode.domNode,E1.Start,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),this._lastRenderData)this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(Q)},{passive:!1}),this._sliderTouchMoveListener=m(this._domNode.domNode,E1.Change,(Q)=>{if(Q.preventDefault(),Q.stopPropagation(),this._lastRenderData&&this._gestureInProgress)this.scrollDueToTouchEvent(Q)},{passive:!1}),this._sliderTouchEndListener=i1(this._domNode.domNode,E1.End,(Q)=>{Q.preventDefault(),Q.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(J,$,Q){if(!J.target||!(J.target instanceof Element))return;let X=J.pageX;this._slider.toggleClassName("active",!0);let Y=(Z,G)=>{let q=P5(this._domNode.domNode),U=Math.min(Math.abs(G-X),Math.abs(G-q.left),Math.abs(G-q.left-q.width));if(L6&&U>A80){this._model.setScrollTop(Q.scrollTop);return}let z=Z-$;this._model.setScrollTop(Q.getDesiredScrollTopFromDelta(z))};if(J.pageY!==$)Y(J.pageY,X);this._sliderPointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Z)=>Y(Z.pageY,Z.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(J){let $=this._domNode.domNode.getBoundingClientRect().top,Q=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(J.pageY-$);this._model.setScrollTop(Q)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){let J=["minimap"];if(this._model.options.showSlider==="always")J.push("slider-always");else J.push("slider-mouseover");if(this._model.options.autohide)J.push("autohide");return J.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){if(!this._buffers){if(this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0)this._buffers=new BT(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)}return this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(J,$){if(this._lastRenderData)return this._lastRenderData.onLinesChanged(J,$);return!1}onLinesDeleted(J,$){var Q;return(Q=this._lastRenderData)===null||Q===void 0||Q.onLinesDeleted(J,$),!0}onLinesInserted(J,$){var Q;return(Q=this._lastRenderData)===null||Q===void 0||Q.onLinesInserted(J,$),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(sO),this._renderDecorations=!0,!0}onTokensChanged(J){if(this._lastRenderData)return this._lastRenderData.onTokensChanged(J);return!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(J){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}if(J.scrollLeft+J.viewportWidth>=J.scrollWidth)this._shadow.setClassName("minimap-shadow-hidden");else this._shadow.setClassName("minimap-shadow-visible");let Q=EH.create(this._model.options,J.viewportStartLineNumber,J.viewportEndLineNumber,J.viewportStartLineNumberVerticalOffset,J.viewportHeight,J.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),J.scrollTop,J.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(Q.sliderNeeded?"block":"none"),this._slider.setTop(Q.sliderTop),this._slider.setHeight(Q.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(Q.sliderHeight),this.renderDecorations(Q),this._lastRenderData=this.renderLines(Q)}renderDecorations(J){if(this._renderDecorations){this._renderDecorations=!1;let $=this._model.getSelections();$.sort(L.compareRangesUsingStarts);let Q=this._model.getMinimapDecorationsInViewport(J.startLineNumber,J.endLineNumber);Q.sort((j,V)=>(j.options.zIndex||0)-(V.options.zIndex||0));let{canvasInnerWidth:X,canvasInnerHeight:Y}=this._model.options,Z=this._model.options.minimapLineHeight,G=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,U=this._decorationsCanvas.domNode.getContext("2d");U.clearRect(0,0,X,Y);let z=new WT(J.startLineNumber,J.endLineNumber,!1);this._renderSelectionLineHighlights(U,$,z,J,Z),this._renderDecorationsLineHighlights(U,Q,z,J,Z);let H=new WT(J.startLineNumber,J.endLineNumber,null);this._renderSelectionsHighlights(U,$,H,J,Z,q,G,X),this._renderDecorationsHighlights(U,Q,H,J,Z,q,G,X)}}_renderSelectionLineHighlights(J,$,Q,X,Y){if(!this._selectionColor||this._selectionColor.isTransparent())return;J.fillStyle=this._selectionColor.transparent(0.5).toString();let Z=0,G=0;for(let q of $){let U=X.intersectWithViewport(q);if(!U)continue;let[z,H]=U;for(let W=z;W<=H;W++)Q.set(W,!0);let j=X.getYForLineNumber(z,Y),V=X.getYForLineNumber(H,Y);if(G>=j)G=V;else{if(G>Z)J.fillRect(VQ,Z,J.canvas.width,G-Z);Z=j,G=V}}if(G>Z)J.fillRect(VQ,Z,J.canvas.width,G-Z)}_renderDecorationsLineHighlights(J,$,Q,X,Y){let Z=new Map;for(let G=$.length-1;G>=0;G--){let q=$[G],U=q.options.minimap;if(!U||U.position!==w4.Inline)continue;let z=X.intersectWithViewport(q.range);if(!z)continue;let[H,j]=z,V=U.getColor(this._theme.value);if(!V||V.isTransparent())continue;let W=Z.get(V.toString());if(!W)W=V.transparent(0.5).toString(),Z.set(V.toString(),W);J.fillStyle=W;for(let B=H;B<=j;B++){if(Q.has(B))continue;Q.set(B,!0);let K=X.getYForLineNumber(H,Y);J.fillRect(VQ,K,J.canvas.width,Y)}}}_renderSelectionsHighlights(J,$,Q,X,Y,Z,G,q){if(!this._selectionColor||this._selectionColor.isTransparent())return;for(let U of $){let z=X.intersectWithViewport(U);if(!z)continue;let[H,j]=z;for(let V=H;V<=j;V++)this.renderDecorationOnLine(J,Q,U,this._selectionColor,X,V,Y,Y,Z,G,q)}}_renderDecorationsHighlights(J,$,Q,X,Y,Z,G,q){for(let U of $){let z=U.options.minimap;if(!z)continue;let H=X.intersectWithViewport(U.range);if(!H)continue;let[j,V]=H,W=z.getColor(this._theme.value);if(!W||W.isTransparent())continue;for(let B=j;B<=V;B++)switch(z.position){case w4.Inline:this.renderDecorationOnLine(J,Q,U.range,W,X,B,Y,Y,Z,G,q);continue;case w4.Gutter:{let K=X.getYForLineNumber(B,Y),P=2;this.renderDecoration(J,W,2,K,P80,Y);continue}}}}renderDecorationOnLine(J,$,Q,X,Y,Z,G,q,U,z,H){let j=Y.getYForLineNumber(Z,q);if(j+G<0||j>this._model.options.canvasInnerHeight)return;let{startLineNumber:V,endLineNumber:W}=Q,B=V===Z?Q.startColumn:1,K=W===Z?Q.endColumn:this._model.getLineMaxColumn(Z),P=this.getXOffsetForPosition($,Z,B,U,z,H),A=this.getXOffsetForPosition($,Z,K,U,z,H);this.renderDecoration(J,X,P,j,A-P,G)}getXOffsetForPosition(J,$,Q,X,Y,Z){if(Q===1)return VQ;if((Q-1)*Y>=Z)return Z;let q=J.get($);if(!q){let U=this._model.getLineContent($);q=[VQ];let z=VQ;for(let H=1;H<U.length+1;H++){let j=U.charCodeAt(H-1),V=j===9?X*Y:w9(j)?2*Y:Y,W=z+V;if(W>=Z){q[H]=Z;break}q[H]=W,z=W}J.set($,q)}if(Q-1<q.length)return q[Q-1];return Z}renderDecoration(J,$,Q,X,Y,Z){J.fillStyle=$&&$.toString()||"",J.fillRect(Q,X,Y,Z)}renderLines(J){let{startLineNumber:$,endLineNumber:Q}=J,X=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(J)){let i=this._lastRenderData._get();return new VT(J,i.imageData,i.lines)}let Y=this._getBuffer();if(!Y)return null;let[Z,G,q]=$A._renderUntouchedLines(Y,J.topPaddingLineCount,$,Q,X,this._lastRenderData),U=this._model.getMinimapLinesRenderingData($,Q,q),z=this._model.getOptions().tabSize,H=this._model.options.defaultBackgroundColor,j=this._model.options.backgroundColor,V=this._model.options.foregroundAlpha,W=this._model.tokensColorTracker,B=W.backgroundIsLight(),K=this._model.options.renderMinimap,P=this._model.options.charRenderer(),A=this._model.options.fontScale,D=this._model.options.minimapCharWidth,M=(K===1?2:3)*A,_=X>M?Math.floor((X-M)/2):0,T=j.a/255,w=new a7(Math.round((j.r-H.r)*T+H.r),Math.round((j.g-H.g)*T+H.g),Math.round((j.b-H.b)*T+H.b),255),b=J.topPaddingLineCount*X,S=[];for(let i=0,Y0=Q-$+1;i<Y0;i++){if(q[i])$A._renderLine(Y,w,j.a,B,K,D,W,V,P,b,_,z,U[i],A,X);S[i]=new yH(b),b+=X}let g=Z===-1?0:Z,C=(G===-1?Y.height:G)-g;return this._canvas.domNode.getContext("2d").putImageData(Y,0,0,0,g,Y.width,C),new VT(J,Y,S)}static _renderUntouchedLines(J,$,Q,X,Y,Z){let G=[];if(!Z){for(let b=0,S=X-Q+1;b<S;b++)G[b]=!0;return[-1,-1,G]}let q=Z._get(),U=q.imageData.data,z=q.rendLineNumberStart,H=q.lines,j=H.length,V=J.width,W=J.data,B=(X-Q+1)*Y*V*4,K=-1,P=-1,A=-1,D=-1,R=-1,M=-1,_=$*Y;for(let b=Q;b<=X;b++){let S=b-Q,g=b-z,c=g>=0&&g<j?H[g].dy:-1;if(c===-1){G[S]=!0,_+=Y;continue}let C=c*V*4,u=(c+Y)*V*4,i=_*V*4,Y0=(_+Y)*V*4;if(D===C&&M===i)D=u,M=Y0;else{if(A!==-1){if(W.set(U.subarray(A,D),R),K===-1&&A===0&&A===R)K=D;if(P===-1&&D===B&&A===R)P=A}A=C,D=u,R=i,M=Y0}G[S]=!1,_+=Y}if(A!==-1){if(W.set(U.subarray(A,D),R),K===-1&&A===0&&A===R)K=D;if(P===-1&&D===B&&A===R)P=A}let T=K===-1?-1:K/(V*4),w=P===-1?-1:P/(V*4);return[T,w,G]}static _renderLine(J,$,Q,X,Y,Z,G,q,U,z,H,j,V,W,B){let{content:K,tokens:P}=V,A=J.width-Z,D=B===1,R=VQ,M=0,_=0;for(let T=0,w=P.getCount();T<w;T++){let b=P.getEndOffset(T),S=P.getForeground(T),g=G.getColor(S);for(;M<b;M++){if(R>A)return;let c=K.charCodeAt(M);if(c===9){let C=j-(M+_)%j;_+=C-1,R+=C*Z}else if(c===32)R+=Z;else{let C=w9(c)?2:1;for(let u=0;u<C;u++){if(Y===2)U.blockRenderChar(J,R,z+H,g,q,$,Q,D);else U.renderChar(J,R,z+H,c,g,q,$,Q,W,X,D);if(R+=Z,R>A)return}}}}}}});var vm=N(()=>{j0(".monaco-editor .overlayWidgets{position:absolute;top:0;left:0}")});var KT;var hm=N(()=>{vm();g8();D0();KT=class KT extends B6{constructor(J,$){super(J);this._viewDomNode=$;let X=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=X.verticalScrollbarWidth,this._minimapWidth=X.minimap.minimapWidth,this._horizontalScrollbarHeight=X.horizontalScrollbarHeight,this._editorHeight=X.height,this._editorWidth=X.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=e0(document.createElement("div")),X8.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=e0(document.createElement("div")),X8.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(J){let Q=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=Q.verticalScrollbarWidth,this._minimapWidth=Q.minimap.minimapWidth,this._horizontalScrollbarHeight=Q.horizontalScrollbarHeight,this._editorHeight=Q.height,this._editorWidth=Q.width,!0}addWidget(J){let $=e0(J.getDomNode());if(this._widgets[J.getId()]={widget:J,preference:null,domNode:$},$.setPosition("absolute"),$.setAttribute("widgetId",J.getId()),J.allowEditorOverflow)this.overflowingOverlayWidgetsDomNode.appendChild($);else this._domNode.appendChild($);this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(J,$){let Q=this._widgets[J.getId()];if(Q.preference===$)return this._updateMaxMinWidth(),!1;return Q.preference=$,this.setShouldRender(),this._updateMaxMinWidth(),!0}removeWidget(J){let $=J.getId();if(this._widgets.hasOwnProperty($)){let X=this._widgets[$].domNode.domNode;delete this._widgets[$],X.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var J,$;let Q=0,X=Object.keys(this._widgets);for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y],U=($=(J=this._widgets[G].widget).getMinContentWidthInPx)===null||$===void 0?void 0:$.call(J);if(typeof U!=="undefined")Q=Math.max(Q,U)}this._context.viewLayout.setOverlayWidgetsMinWidth(Q)}_renderWidget(J){let $=J.domNode;if(J.preference===null){$.setTop("");return}if(J.preference===0)$.setTop(0),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(J.preference===1){let Q=$.domNode.clientHeight;$.setTop(this._editorHeight-Q-2*this._horizontalScrollbarHeight),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(J.preference===2)$.setTop(0),$.domNode.style.right="50%";else{let{top:Q,left:X}=J.preference;if(this._context.configuration.options.get(42)&&J.widget.allowEditorOverflow){let Z=this._viewDomNodeRect;$.setTop(Q+Z.top),$.setLeft(X+Z.left),$.setPosition("fixed")}else $.setTop(Q),$.setLeft(X),$.setPosition("absolute")}}prepareRender(J){this._viewDomNodeRect=P5(this._viewDomNode.domNode)}render(J){this._domNode.setWidth(this._editorWidth);let $=Object.keys(this._widgets);for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];this._renderWidget(this._widgets[Y])}}}});class fm{constructor(J,$){let Q=J.options;this.lineHeight=Q.get(66),this.pixelRatio=Q.get(141),this.overviewRulerLanes=Q.get(82),this.renderBorder=Q.get(81);let X=$.getColor(Wp);this.borderColor=X?X.toString():null,this.hideCursor=Q.get(59);let Y=$.getColor(bK);this.cursorColor=Y?Y.transparent(0.7).toString():null,this.themeType=$.type;let Z=Q.get(72),G=Z.enabled,q=Z.side,U=$.getColor(Bp),z=c1.getDefaultBackground();if(U)this.backgroundColor=U;else if(G&&q==="right")this.backgroundColor=z;else this.backgroundColor=null;let j=Q.get(143).overviewRuler;if(this.top=j.top,this.right=j.right,this.domWidth=j.width,this.domHeight=j.height,this.overviewRulerLanes===0)this.canvasWidth=0,this.canvasHeight=0;else this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;let[V,W]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=V,this.w=W}_initLanes(J,$,Q){let X=$-J;if(Q>=3){let Y=Math.floor(X/3),Z=Math.floor(X/3),G=X-Y-Z,q=J,U=q+Y,z=q+Y+G;return[[0,q,U,q,z,q,U,q],[0,Y,G,Y+G,Z,Y+G+Z,G+Z,Y+G+Z]]}else if(Q===2){let Y=Math.floor(X/2),Z=X-Y,G=J,q=G+Y;return[[0,G,G,G,q,G,G,G],[0,Y,Y,Y,Z,Y+Z,Y+Z,Y+Z]]}else{let Y=J,Z=X;return[[0,Y,Y,Y,Y,Y,Y,Y],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(J){return this.lineHeight===J.lineHeight&&this.pixelRatio===J.pixelRatio&&this.overviewRulerLanes===J.overviewRulerLanes&&this.renderBorder===J.renderBorder&&this.borderColor===J.borderColor&&this.hideCursor===J.hideCursor&&this.cursorColor===J.cursorColor&&this.themeType===J.themeType&&l.equals(this.backgroundColor,J.backgroundColor)&&this.top===J.top&&this.right===J.right&&this.domWidth===J.domWidth&&this.domHeight===J.domHeight&&this.canvasWidth===J.canvasWidth&&this.canvasHeight===J.canvasHeight}}var AT;var gm=N(()=>{g7();g8();P8();TJ();L4();U1();AT=class AT extends B6{constructor(J){super(J);this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=e0(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=c1.onDidChange(($)=>{if($.changedColorMap)this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(J){let $=new fm(this._context.configuration,this._context.theme);if(this._settings&&this._settings.equals($))return!1;if(this._settings=$,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,J)this._render();return!0}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(J){this._cursorPositions=[];for(let $=0,Q=J.selections.length;$<Q;$++)this._cursorPositions[$]=J.selections[$].getPosition();return this._cursorPositions.sort(v.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(J){if(J.affectsOverviewRuler)return this._markRenderingIsMaybeNeeded();return!1}onFlushed(J){return this._markRenderingIsNeeded()}onScrollChanged(J){return J.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(J){return this._markRenderingIsNeeded()}onThemeChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(J){}render(J){this._render(),this._actualShouldRender=0}_render(){let J=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(J?l.Format.CSS.formatHexA(J):""),this._domNode.setDisplay("none");return}let $=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if($.sort(K2.compareByRenderingProps),this._actualShouldRender===1&&!K2.equalsArr(this._renderedDecorations,$))this._actualShouldRender=2;if(this._actualShouldRender===1&&!Q6(this._renderedCursorPositions,this._cursorPositions,(W,B)=>W.lineNumber===B.lineNumber))this._actualShouldRender=2;if(this._actualShouldRender===1)return;this._renderedDecorations=$,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");let Q=this._settings.canvasWidth,X=this._settings.canvasHeight,Y=this._settings.lineHeight,Z=this._context.viewLayout,G=this._context.viewLayout.getScrollHeight(),q=X/G,U=6*this._settings.pixelRatio|0,z=U/2|0,H=this._domNode.domNode.getContext("2d");if(J)if(J.isOpaque())H.fillStyle=l.Format.CSS.formatHexA(J),H.fillRect(0,0,Q,X);else H.clearRect(0,0,Q,X),H.fillStyle=l.Format.CSS.formatHexA(J),H.fillRect(0,0,Q,X);else H.clearRect(0,0,Q,X);let j=this._settings.x,V=this._settings.w;for(let W of $){let{color:B,data:K}=W;H.fillStyle=B;let P=0,A=0,D=0;for(let R=0,M=K.length/3;R<M;R++){let _=K[3*R],T=K[3*R+1],w=K[3*R+2],b=Z.getVerticalOffsetForLineNumber(T)*q|0,S=(Z.getVerticalOffsetForLineNumber(w)+Y)*q|0;if(S-b<U){let c=(b+S)/2|0;if(c<z)c=z;else if(c+z>X)c=X-z;b=c-z,S=c+z}if(b>D+1||_!==P){if(R!==0)H.fillRect(j[P],A,V[P],D-A);P=_,A=b,D=S}else if(S>D)D=S}H.fillRect(j[P],A,V[P],D-A)}if(!this._settings.hideCursor&&this._settings.cursorColor){let W=2*this._settings.pixelRatio|0,B=W/2|0,K=this._settings.x[7],P=this._settings.w[7];H.fillStyle=this._settings.cursorColor;let A=-100,D=-100;for(let R=0,M=this._cursorPositions.length;R<M;R++){let _=this._cursorPositions[R],T=Z.getVerticalOffsetForLineNumber(_.lineNumber)*q|0;if(T<B)T=B;else if(T+B>X)T=X-B;let w=T-B,b=w+W;if(w>D+1){if(R!==0)H.fillRect(K,A,P,D-A);A=w,D=b}else if(b>D)D=b}H.fillRect(K,A,P,D-A)}if(this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0)H.beginPath(),H.lineWidth=1,H.strokeStyle=this._settings.borderColor,H.moveTo(0,0),H.lineTo(0,X),H.stroke(),H.moveTo(0,0),H.lineTo(Q,0),H.stroke()}}});class PT{constructor(J,$,Q){this._colorZoneBrand=void 0,this.from=J|0,this.to=$|0,this.colorId=Q|0}static compare(J,$){if(J.colorId===$.colorId){if(J.from===$.from)return J.to-$.to;return J.from-$.from}return J.colorId-$.colorId}}class QA{constructor(J,$,Q,X){this._overviewRulerZoneBrand=void 0,this.startLineNumber=J,this.endLineNumber=$,this.heightInLines=Q,this.color=X,this._colorZone=null}static compare(J,$){if(J.color===$.color){if(J.startLineNumber===$.startLineNumber){if(J.heightInLines===$.heightInLines)return J.endLineNumber-$.endLineNumber;return J.heightInLines-$.heightInLines}return J.startLineNumber-$.startLineNumber}return J.color<$.color?-1:1}setColorZone(J){this._colorZone=J}getColorZones(){return this._colorZone}}class DT{constructor(J){this._getVerticalOffsetForLine=J,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(J){this._zones=J,this._zones.sort(QA.compare)}setLineHeight(J){if(this._lineHeight===J)return!1;return this._lineHeight=J,this._colorZonesInvalid=!0,!0}setPixelRatio(J){this._pixelRatio=J,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(J){if(this._domWidth===J)return!1;return this._domWidth=J,this._colorZonesInvalid=!0,!0}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(J){if(this._domHeight===J)return!1;return this._domHeight=J,this._colorZonesInvalid=!0,!0}getOuterHeight(){return this._outerHeight}setOuterHeight(J){if(this._outerHeight===J)return!1;return this._outerHeight=J,this._colorZonesInvalid=!0,!0}resolveColorZones(){let J=this._colorZonesInvalid,$=Math.floor(this._lineHeight),Q=Math.floor(this.getCanvasHeight()),X=Math.floor(this._outerHeight),Y=Q/X,Z=Math.floor(4*this._pixelRatio/2),G=[];for(let q=0,U=this._zones.length;q<U;q++){let z=this._zones[q];if(!J){let R=z.getColorZones();if(R){G.push(R);continue}}let H=this._getVerticalOffsetForLine(z.startLineNumber),j=z.heightInLines===0?this._getVerticalOffsetForLine(z.endLineNumber)+$:H+z.heightInLines*$,V=Math.floor(Y*H),W=Math.floor(Y*j),B=Math.floor((V+W)/2),K=W-B;if(K<Z)K=Z;if(B-K<0)B=K;if(B+K>Q)B=Q-K;let P=z.color,A=this._color2Id[P];if(!A)A=++this._lastAssignedId,this._color2Id[P]=A,this._id2Color[A]=P;let D=new PT(B-K,B+K,A);z.setColorZone(D),G.push(D)}return this._colorZonesInvalid=!1,G.sort(PT.compare),G}}var RT;var pm=N(()=>{mq();RT=class RT extends _J{constructor(J,$){super();this._context=J;let Q=this._context.configuration.options;this._domNode=e0(document.createElement("canvas")),this._domNode.setClassName($),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new DT((X)=>this._context.viewLayout.getVerticalOffsetForLineNumber(X)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(Q.get(66)),this._zoneManager.setPixelRatio(Q.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;if(J.hasChanged(66))this._zoneManager.setLineHeight($.get(66)),this._render();if(J.hasChanged(141))this._zoneManager.setPixelRatio($.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render();return!0}onFlushed(J){return this._render(),!0}onScrollChanged(J){if(J.scrollHeightChanged)this._zoneManager.setOuterHeight(J.scrollHeight),this._render();return!0}onZonesChanged(J){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(J){this._domNode.setTop(J.top),this._domNode.setRight(J.right);let $=!1;if($=this._zoneManager.setDOMWidth(J.width)||$,$=this._zoneManager.setDOMHeight(J.height)||$,$)this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()}setZones(J){this._zoneManager.setZones(J),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;let J=this._zoneManager.getCanvasWidth(),$=this._zoneManager.getCanvasHeight(),Q=this._zoneManager.resolveColorZones(),X=this._zoneManager.getId2Color(),Y=this._domNode.domNode.getContext("2d");if(Y.clearRect(0,0,J,$),Q.length>0)this._renderOneLane(Y,Q,X,J);return!0}_renderOneLane(J,$,Q,X){let Y=0,Z=0,G=0;for(let q of $){let{colorId:U,from:z,to:H}=q;if(U!==Y)J.fillRect(0,Z,X,G-Z),Y=U,J.fillStyle=Q[Y],Z=z,G=H;else if(G>=z)G=Math.max(G,H);else J.fillRect(0,Z,X,G-Z),Z=z,G=H}J.fillRect(0,Z,X,G-Z)}}});var mm=N(()=>{j0(".monaco-editor .view-ruler{box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground)inset;position:absolute;top:0}")});var MT;var um=N(()=>{mm();g8();MT=class MT extends B6{constructor(J){super(J);this.domNode=e0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];let $=this._context.configuration.options;this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(J){return J.scrollHeightChanged}prepareRender(J){}_ensureRulersCount(){let J=this._renderedRulers.length,$=this._rulers.length;if(J===$)return;if(J<$){let{tabSize:X}=this._context.viewModel.model.getOptions(),Y=X,Z=$-J;while(Z>0){let G=e0(document.createElement("div"));G.setClassName("view-ruler"),G.setWidth(Y),this.domNode.appendChild(G),this._renderedRulers.push(G),Z--}return}let Q=J-$;while(Q>0){let X=this._renderedRulers.pop();this.domNode.removeChild(X),Q--}}render(J){this._ensureRulersCount();for(let $=0,Q=this._rulers.length;$<Q;$++){let X=this._renderedRulers[$],Y=this._rulers[$];X.setBoxShadow(Y.color?`1px 0 0 0 ${Y.color} inset`:""),X.setHeight(Math.min(J.scrollHeight,1e6)),X.setLeft(Y.column*this._typicalHalfwidthCharacterWidth)}}}});var cm=N(()=>{j0(".monaco-editor .scroll-decoration{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;height:6px;position:absolute;top:0;left:0}")});var _T;var lm=N(()=>{cm();g8();_T=class _T extends B6{constructor(J){super(J);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;let Q=this._context.configuration.options.get(102);this._useShadows=Q.useShadows,this._domNode=e0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){let J=this._useShadows&&this._scrollTop>0;if(this._shouldShow!==J)return this._shouldShow=J,!0;return!1}getDomNode(){return this._domNode}_updateWidth(){let $=this._context.configuration.options.get(143);if($.minimap.renderMinimap===0||$.minimap.minimapWidth>0&&$.minimap.minimapLeft===0)this._width=$.width;else this._width=$.width-$.verticalScrollbarWidth}onConfigurationChanged(J){let Q=this._context.configuration.options.get(102);return this._useShadows=Q.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(J){return this._scrollTop=J.scrollTop,this._updateShouldShow()}prepareRender(J){}render(J){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}});var dm=N(()=>{j0(".monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .focused .selected-text{background-color:var(--vscode-editor-selectionBackground)}.monaco-editor .selected-text{background-color:var(--vscode-editor-inactiveSelectionBackground)}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor.hc-light .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-light .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-light .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-light .bottom-right-radius{border-bottom-right-radius:0}")});class sm{constructor(J){this.left=J.left,this.width=J.width,this.startStyle=null,this.endStyle=null}}class am{constructor(J,$){this.lineNumber=J,this.ranges=$}}function D80(J){return new sm(J)}function R80(J){return new am(J.lineNumber,J.ranges.map(D80))}function XA(J){return J<0?-J:J}var b6;var rm=N(()=>{dm();FY();N8();s6();b6=class b6 extends s7{constructor(J){super();this._previousFrameVisibleRangesWithStyle=[],this._context=J;let $=this._context.configuration.options;this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=this._context.configuration.options;return this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(J){return this._selections=J.selections.slice(0),!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_visibleRangesHaveGaps(J){for(let $=0,Q=J.length;$<Q;$++)if(J[$].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(J,$,Q){let X=this._typicalHalfwidthCharacterWidth/4,Y=null,Z=null;if(Q&&Q.length>0&&$.length>0){let G=$[0].lineNumber;if(G===J.startLineNumber){for(let U=0;!Y&&U<Q.length;U++)if(Q[U].lineNumber===G)Y=Q[U].ranges[0]}let q=$[$.length-1].lineNumber;if(q===J.endLineNumber){for(let U=Q.length-1;!Z&&U>=0;U--)if(Q[U].lineNumber===q)Z=Q[U].ranges[0]}if(Y&&!Y.startStyle)Y=null;if(Z&&!Z.startStyle)Z=null}for(let G=0,q=$.length;G<q;G++){let U=$[G].ranges[0],z=U.left,H=U.left+U.width,j={top:0,bottom:0},V={top:0,bottom:0};if(G>0){let W=$[G-1].ranges[0].left,B=$[G-1].ranges[0].left+$[G-1].ranges[0].width;if(XA(z-W)<X)j.top=2;else if(z>W)j.top=1;if(XA(H-B)<X)V.top=2;else if(W<H&&H<B)V.top=1}else if(Y)j.top=Y.startStyle.top,V.top=Y.endStyle.top;if(G+1<q){let W=$[G+1].ranges[0].left,B=$[G+1].ranges[0].left+$[G+1].ranges[0].width;if(XA(z-W)<X)j.bottom=2;else if(W<z&&z<B)j.bottom=1;if(XA(H-B)<X)V.bottom=2;else if(H<B)V.bottom=1}else if(Z)j.bottom=Z.startStyle.bottom,V.bottom=Z.endStyle.bottom;U.startStyle=j,U.endStyle=V}}_getVisibleRangesWithStyle(J,$,Q){let Y=($.linesVisibleRangesForRange(J,!0)||[]).map(R80);if(!this._visibleRangesHaveGaps(Y)&&this._roundedSelection)this._enrichVisibleRangesWithStyle($.visibleRange,Y,Q);return Y}_createSelectionPiece(J,$,Q,X,Y){return'<div class="cslr '+Q+'" style="top:'+J.toString()+"px;left:"+X.toString()+"px;width:"+Y.toString()+"px;height:"+$+'px;"></div>'}_actualRenderOneSelection(J,$,Q,X){if(X.length===0)return;let Y=!!X[0].ranges[0].startStyle,Z=this._lineHeight.toString(),G=(this._lineHeight-1).toString(),q=X[0].lineNumber,U=X[X.length-1].lineNumber;for(let z=0,H=X.length;z<H;z++){let j=X[z],V=j.lineNumber,W=V-$,B=Q?V===U||V===q?G:Z:Z,K=Q?V===q?1:0:0,P="",A="";for(let D=0,R=j.ranges.length;D<R;D++){let M=j.ranges[D];if(Y){let{startStyle:T,endStyle:w}=M;if(T.top===1||T.bottom===1){P+=this._createSelectionPiece(K,B,b6.SELECTION_CLASS_NAME,M.left-b6.ROUNDED_PIECE_WIDTH,b6.ROUNDED_PIECE_WIDTH);let b=b6.EDITOR_BACKGROUND_CLASS_NAME;if(T.top===1)b+=" "+b6.SELECTION_TOP_RIGHT;if(T.bottom===1)b+=" "+b6.SELECTION_BOTTOM_RIGHT;P+=this._createSelectionPiece(K,B,b,M.left-b6.ROUNDED_PIECE_WIDTH,b6.ROUNDED_PIECE_WIDTH)}if(w.top===1||w.bottom===1){P+=this._createSelectionPiece(K,B,b6.SELECTION_CLASS_NAME,M.left+M.width,b6.ROUNDED_PIECE_WIDTH);let b=b6.EDITOR_BACKGROUND_CLASS_NAME;if(w.top===1)b+=" "+b6.SELECTION_TOP_LEFT;if(w.bottom===1)b+=" "+b6.SELECTION_BOTTOM_LEFT;P+=this._createSelectionPiece(K,B,b,M.left+M.width,b6.ROUNDED_PIECE_WIDTH)}}let _=b6.SELECTION_CLASS_NAME;if(Y){let{startStyle:T,endStyle:w}=M;if(T.top===0)_+=" "+b6.SELECTION_TOP_LEFT;if(T.bottom===0)_+=" "+b6.SELECTION_BOTTOM_LEFT;if(w.top===0)_+=" "+b6.SELECTION_TOP_RIGHT;if(w.bottom===0)_+=" "+b6.SELECTION_BOTTOM_RIGHT}A+=this._createSelectionPiece(K,B,_,M.left,M.width)}J[W][0]+=P,J[W][1]+=A}}prepareRender(J){let $=[],Q=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;for(let Z=Q;Z<=X;Z++){let G=Z-Q;$[G]=["",""]}let Y=[];for(let Z=0,G=this._selections.length;Z<G;Z++){let q=this._selections[Z];if(q.isEmpty()){Y[Z]=null;continue}let U=this._getVisibleRangesWithStyle(q,J,this._previousFrameVisibleRangesWithStyle[Z]);Y[Z]=U,this._actualRenderOneSelection($,Q,this._selections.length>1,U)}this._previousFrameVisibleRangesWithStyle=Y,this._renderResult=$.map(([Z,G])=>Z+G)}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}};b6.SELECTION_CLASS_NAME="selected-text";b6.SELECTION_TOP_LEFT="top-left-radius";b6.SELECTION_BOTTOM_LEFT="bottom-left-radius";b6.SELECTION_TOP_RIGHT="top-right-radius";b6.SELECTION_BOTTOM_RIGHT="bottom-right-radius";b6.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";b6.ROUNDED_PIECE_WIDTH=10;m8((J,$)=>{let Q=J.getColor(Lf);if(Q&&!Q.isTransparent())$.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${Q}; }`)})});var im=N(()=>{j0(".monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{box-sizing:border-box;position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{border-style:solid;border-width:1px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-style:solid;border-bottom-width:2px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-style:solid;border-bottom-width:1px;background:0 0!important}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:.5s ease-in-out 20 alternate monaco-cursor-smooth}.cursor-phase{animation:.5s ease-in-out 20 alternate monaco-cursor-phase}.cursor-expand>.cursor{animation:.5s ease-in-out 20 alternate monaco-cursor-expand}")});class OT{constructor(J,$,Q,X,Y,Z,G){this.top=J,this.left=$,this.paddingLeft=Q,this.width=X,this.height=Y,this.textContent=Z,this.textContentClassName=G}}class YA{constructor(J){this._context=J;let $=this._context.configuration.options,Q=$.get(50);this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=e0(document.createElement("div")),this._domNode.setClassName(`cursor ${JX}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),M6(this._domNode,Q),this._domNode.setDisplay("none"),this._position=new v(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){if(!this._isVisible)this._domNode.setVisibility("inherit"),this._isVisible=!0}hide(){if(this._isVisible)this._domNode.setVisibility("hidden"),this._isVisible=!1}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(50);return this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=Q.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),M6(this._domNode,Q),!0}onCursorPositionChanged(J,$){if($)this._domNode.domNode.style.transitionProperty="none";else this._domNode.domNode.style.transitionProperty="";return this._position=J,!0}_getGraphemeAwarePosition(){let{lineNumber:J,column:$}=this._position,Q=this._context.viewModel.getLineContent(J),[X,Y]=BS(Q,$-1);return[new v(J,X+1),Q.substring(X,Y)]}_prepareRender(J){let $="",Q="",[X,Y]=this._getGraphemeAwarePosition();if(this._cursorStyle===K5.Line||this._cursorStyle===K5.LineThin){let j=J.visibleRangeForPosition(X);if(!j||j.outsideRenderedLine)return null;let V=B0(this._domNode.domNode),W;if(this._cursorStyle===K5.Line){if(W=G_(V,this._lineCursorWidth>0?this._lineCursorWidth:2),W>2)$=Y,Q=this._getTokenClassName(X)}else W=G_(V,1);let B=j.left,K=0;if(W>=2&&B>=1)K=1,B-=K;let P=J.getVerticalOffsetForLineNumber(X.lineNumber)-J.bigNumbersDelta;return new OT(P,B,K,W,this._lineHeight,$,Q)}let Z=J.linesVisibleRangesForRange(new L(X.lineNumber,X.column,X.lineNumber,X.column+Y.length),!1);if(!Z||Z.length===0)return null;let G=Z[0];if(G.outsideRenderedLine||G.ranges.length===0)return null;let q=G.ranges[0],U=Y==="\t"?this._typicalHalfwidthCharacterWidth:q.width<1?this._typicalHalfwidthCharacterWidth:q.width;if(this._cursorStyle===K5.Block)$=Y,Q=this._getTokenClassName(X);let z=J.getVerticalOffsetForLineNumber(X.lineNumber)-J.bigNumbersDelta,H=this._lineHeight;if(this._cursorStyle===K5.Underline||this._cursorStyle===K5.UnderlineThin)z+=this._lineHeight-2,H=2;return new OT(z,q.left,0,U,H,$,Q)}_getTokenClassName(J){let $=this._context.viewModel.getViewLineData(J.lineNumber),Q=$.tokens.findTokenIndexAtOffset(J.column-1);return $.tokens.getClassName(Q)}prepareRender(J){this._renderData=this._prepareRender(J)}render(J){if(!this._renderData)return this._domNode.setDisplay("none"),null;if(this._lastRenderedContent!==this._renderData.textContent)this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent;return this._domNode.setClassName(`cursor ${JX} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}}}var nm=N(()=>{D0();t0();W4();t5();l0();pK()});var Z3;var om=N(()=>{im();u1();g8();nm();t5();TJ();s6();aQ();D0();Z3=class Z3 extends B6{constructor(J){super(J);let $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new YA(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=e0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new M8,this._cursorFlatBlinkInterval=new rZ,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(J){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(J){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(J){let $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(J);for(let Q=0,X=this._secondaryCursors.length;Q<X;Q++)this._secondaryCursors[Q].onConfigurationChanged(J);return!0}_onCursorPositionChanged(J,$,Q){let X=this._secondaryCursors.length!==$.length||this._cursorSmoothCaretAnimation==="explicit"&&Q!==3;if(this._primaryCursor.onCursorPositionChanged(J,X),this._updateBlinking(),this._secondaryCursors.length<$.length){let Y=$.length-this._secondaryCursors.length;for(let Z=0;Z<Y;Z++){let G=new YA(this._context);this._domNode.domNode.insertBefore(G.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(G)}}else if(this._secondaryCursors.length>$.length){let Y=this._secondaryCursors.length-$.length;for(let Z=0;Z<Y;Z++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Y=0;Y<$.length;Y++)this._secondaryCursors[Y].onCursorPositionChanged($[Y],X)}onCursorStateChanged(J){let $=[];for(let X=0,Y=J.selections.length;X<Y;X++)$[X]=J.selections[X].getPosition();this._onCursorPositionChanged($[0],$.slice(1),J.reason);let Q=J.selections[0].isEmpty();if(this._selectionIsEmpty!==Q)this._selectionIsEmpty=Q,this._updateDomClassName();return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onFocusChanged(J){return this._editorHasFocus=J.isFocused,this._updateBlinking(),!1}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return!0}onTokensChanged(J){let $=(Q)=>{for(let X=0,Y=J.ranges.length;X<Y;X++)if(J.ranges[X].fromLineNumber<=Q.lineNumber&&Q.lineNumber<=J.ranges[X].toLineNumber)return!0;return!1};if($(this._primaryCursor.getPosition()))return!0;for(let Q of this._secondaryCursors)if($(Q.getPosition()))return!0;return!1}onZonesChanged(J){return!0}_getCursorBlinking(){if(this._isComposingInput)return 0;if(!this._editorHasFocus)return 0;if(this._readOnly)return 5;return this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();let J=this._getCursorBlinking(),$=J===0,Q=J===5;if($)this._hide();else this._show();if(this._blinkingEnabled=!1,this._updateDomClassName(),!$&&!Q)if(J===1)this._cursorFlatBlinkInterval.cancelAndSet(()=>{if(this._isVisible)this._hide();else this._show()},Z3.BLINK_INTERVAL,B0(this._domNode.domNode));else this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Z3.BLINK_INTERVAL)}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let J="cursors-layer";if(!this._selectionIsEmpty)J+=" has-selection";switch(this._cursorStyle){case K5.Line:J+=" cursor-line-style";break;case K5.Block:J+=" cursor-block-style";break;case K5.Underline:J+=" cursor-underline-style";break;case K5.LineThin:J+=" cursor-line-thin-style";break;case K5.BlockOutline:J+=" cursor-block-outline-style";break;case K5.UnderlineThin:J+=" cursor-underline-thin-style";break;default:J+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:J+=" cursor-blink";break;case 2:J+=" cursor-smooth";break;case 3:J+=" cursor-phase";break;case 4:J+=" cursor-expand";break;case 5:J+=" cursor-solid";break;default:J+=" cursor-solid"}else J+=" cursor-solid";if(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")J+=" cursor-smooth-caret-animation";return J}_show(){this._primaryCursor.show();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].hide();this._isVisible=!1}prepareRender(J){this._primaryCursor.prepareRender(J);for(let $=0,Q=this._secondaryCursors.length;$<Q;$++)this._secondaryCursors[$].prepareRender(J)}render(J){let $=[],Q=0,X=this._primaryCursor.render(J);if(X)$[Q++]=X;for(let Y=0,Z=this._secondaryCursors.length;Y<Z;Y++){let G=this._secondaryCursors[Y].render(J);if(G)$[Q++]=G}this._renderData=$}getLastRenderData(){return this._renderData}};Z3.BLINK_INTERVAL=500;m8((J,$)=>{let Q=J.getColor(bK);if(Q){let X=J.getColor(Jp);if(!X)X=Q.opposite();if($.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${Q}; border-color: ${Q}; color: ${X}; }`),E4(J.type))$.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${X}; border-right: 1px solid ${X}; }`)}})});function M80(J,$){try{return J($)}catch(Q){o0(Q)}}var NT=()=>{throw new Error("Invalid change accessor")},TT;var tm=N(()=>{P1();g8();TT=class TT extends B6{constructor(J){super(J);let $=this._context.configuration.options,Q=$.get(143);this._lineHeight=$.get(66),this._contentWidth=Q.contentWidth,this._contentLeft=Q.contentLeft,this.domNode=e0(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=e0(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){let J=this._context.viewLayout.getWhitespaces(),$=new Map;for(let X of J)$.set(X.id,X);let Q=!1;return this._context.viewModel.changeWhitespace((X)=>{let Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z],U=this._zones[q],z=this._computeWhitespaceProps(U.delegate);U.isInHiddenArea=z.isInHiddenArea;let H=$.get(q);if(H&&(H.afterLineNumber!==z.afterViewLineNumber||H.height!==z.heightInPx))X.changeOneWhitespace(q,z.afterViewLineNumber,z.heightInPx),this._safeCallOnComputedHeight(U.delegate,z.heightInPx),Q=!0}}),Q}onConfigurationChanged(J){let $=this._context.configuration.options,Q=$.get(143);if(this._lineHeight=$.get(66),this._contentWidth=Q.contentWidth,this._contentLeft=Q.contentLeft,J.hasChanged(66))this._recomputeWhitespacesProps();return!0}onLineMappingChanged(J){return this._recomputeWhitespacesProps()}onLinesDeleted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}onLinesInserted(J){return!0}_getZoneOrdinal(J){var $,Q;return(Q=($=J.ordinal)!==null&&$!==void 0?$:J.afterColumn)!==null&&Q!==void 0?Q:1e4}_computeWhitespaceProps(J){if(J.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(J),minWidthInPx:this._minWidthInPixels(J)};let $;if(typeof J.afterColumn!=="undefined")$=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:J.afterColumn});else{let Z=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:1}).lineNumber;$=new v(Z,this._context.viewModel.model.getLineMaxColumn(Z))}let Q;if($.column===this._context.viewModel.model.getLineMaxColumn($.lineNumber))Q=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber+1,column:1});else Q=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber,column:$.column+1});let X=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($,J.afterColumnAffinity,!0),Y=J.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(Q);return{isInHiddenArea:!Y,afterViewLineNumber:X.lineNumber,heightInPx:Y?this._heightInPixels(J):0,minWidthInPx:this._minWidthInPixels(J)}}changeViewZones(J){let $=!1;return this._context.viewModel.changeWhitespace((Q)=>{let X={addZone:(Y)=>{return $=!0,this._addZone(Q,Y)},removeZone:(Y)=>{if(!Y)return;$=this._removeZone(Q,Y)||$},layoutZone:(Y)=>{if(!Y)return;$=this._layoutZone(Q,Y)||$}};M80(J,X),X.addZone=NT,X.removeZone=NT,X.layoutZone=NT}),$}_addZone(J,$){let Q=this._computeWhitespaceProps($),Y={whitespaceId:J.insertWhitespace(Q.afterViewLineNumber,this._getZoneOrdinal($),Q.heightInPx,Q.minWidthInPx),delegate:$,isInHiddenArea:Q.isInHiddenArea,isVisible:!1,domNode:e0($.domNode),marginDomNode:$.marginDomNode?e0($.marginDomNode):null};if(this._safeCallOnComputedHeight(Y.delegate,Q.heightInPx),Y.domNode.setPosition("absolute"),Y.domNode.domNode.style.width="100%",Y.domNode.setDisplay("none"),Y.domNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.domNode.appendChild(Y.domNode),Y.marginDomNode)Y.marginDomNode.setPosition("absolute"),Y.marginDomNode.domNode.style.width="100%",Y.marginDomNode.setDisplay("none"),Y.marginDomNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.marginDomNode.appendChild(Y.marginDomNode);return this._zones[Y.whitespaceId]=Y,this.setShouldRender(),Y.whitespaceId}_removeZone(J,$){if(this._zones.hasOwnProperty($)){let Q=this._zones[$];if(delete this._zones[$],J.removeWhitespace(Q.whitespaceId),Q.domNode.removeAttribute("monaco-visible-view-zone"),Q.domNode.removeAttribute("monaco-view-zone"),Q.domNode.domNode.parentNode.removeChild(Q.domNode.domNode),Q.marginDomNode)Q.marginDomNode.removeAttribute("monaco-visible-view-zone"),Q.marginDomNode.removeAttribute("monaco-view-zone"),Q.marginDomNode.domNode.parentNode.removeChild(Q.marginDomNode.domNode);return this.setShouldRender(),!0}return!1}_layoutZone(J,$){if(this._zones.hasOwnProperty($)){let Q=this._zones[$],X=this._computeWhitespaceProps(Q.delegate);return Q.isInHiddenArea=X.isInHiddenArea,J.changeOneWhitespace(Q.whitespaceId,X.afterViewLineNumber,X.heightInPx),this._safeCallOnComputedHeight(Q.delegate,X.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(J){if(this._zones.hasOwnProperty(J)){let $=this._zones[J];return Boolean($.delegate.suppressMouseDown)}return!1}_heightInPixels(J){if(typeof J.heightInPx==="number")return J.heightInPx;if(typeof J.heightInLines==="number")return this._lineHeight*J.heightInLines;return this._lineHeight}_minWidthInPixels(J){if(typeof J.minWidthInPx==="number")return J.minWidthInPx;return 0}_safeCallOnComputedHeight(J,$){if(typeof J.onComputedHeight==="function")try{J.onComputedHeight($)}catch(Q){o0(Q)}}_safeCallOnDomNodeTop(J,$){if(typeof J.onDomNodeTop==="function")try{J.onDomNodeTop($)}catch(Q){o0(Q)}}prepareRender(J){}render(J){let $=J.viewportData.whitespaceViewportData,Q={},X=!1;for(let Z of $){if(this._zones[Z.id].isInHiddenArea)continue;Q[Z.id]=Z,X=!0}let Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z],U=this._zones[q],z=0,H=0,j="none";if(Q.hasOwnProperty(q)){if(z=Q[q].verticalOffset-J.bigNumbersDelta,H=Q[q].height,j="block",!U.isVisible)U.domNode.setAttribute("monaco-visible-view-zone","true"),U.isVisible=!0;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(Q[q].verticalOffset))}else{if(U.isVisible)U.domNode.removeAttribute("monaco-visible-view-zone"),U.isVisible=!1;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(-1e6))}if(U.domNode.setTop(z),U.domNode.setHeight(H),U.domNode.setDisplay(j),U.marginDomNode)U.marginDomNode.setTop(z),U.marginDomNode.setHeight(H),U.marginDomNode.setDisplay(j)}if(X)this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft)}}});var em=N(()=>{j0(".monaco-editor .mwh{position:absolute;color:var(--vscode-editorWhitespace-foreground)!important}")});class wT{constructor(J){let $=J.options,Q=$.get(50),X=$.get(38);if(X==="off")this.renderWhitespace="none",this.renderWithSVG=!1;else if(X==="svg")this.renderWhitespace=$.get(98),this.renderWithSVG=!0;else this.renderWhitespace=$.get(98),this.renderWithSVG=!1;this.spaceWidth=Q.spaceWidth,this.middotWidth=Q.middotWidth,this.wsmiddotWidth=Q.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=Q.canUseHalfwidthRightwardsArrow,this.lineHeight=$.get(66),this.stopRenderingLineAfter=$.get(116)}equals(J){return this.renderWhitespace===J.renderWhitespace&&this.renderWithSVG===J.renderWithSVG&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter}}var LT;var Ju=N(()=>{em();FY();t0();Rq();TJ();LT=class LT extends s7{constructor(J){super();this._context=J,this._options=new wT(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){let $=new wT(this._context.configuration);if(this._options.equals($))return J.hasChanged(143);return this._options=$,!0}onCursorStateChanged(J){if(this._selection=J.selections,this._options.renderWhitespace==="selection")return!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}prepareRender(J){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}let $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber-$+1,Y=new Array(X);for(let G=0;G<X;G++)Y[G]=!0;let Z=this._context.viewModel.getMinimapLinesRenderingData(J.viewportData.startLineNumber,J.viewportData.endLineNumber,Y);this._renderResult=[];for(let G=J.viewportData.startLineNumber;G<=J.viewportData.endLineNumber;G++){let q=G-J.viewportData.startLineNumber,U=Z.data[q],z=null;if(this._options.renderWhitespace==="selection"){let H=this._selection;for(let j of H){if(j.endLineNumber<G||j.startLineNumber>G)continue;let V=j.startLineNumber===G?j.startColumn:U.minColumn,W=j.endLineNumber===G?j.endColumn:U.maxColumn;if(V<W){if(!z)z=[];z.push(new JH(V-1,W-1))}}}this._renderResult[q]=this._applyRenderWhitespace(J,G,z,U)}}_applyRenderWhitespace(J,$,Q,X){if(this._options.renderWhitespace==="selection"&&!Q)return"";if(this._options.renderWhitespace==="trailing"&&X.continuesWithWrappedLine)return"";let Y=this._context.theme.getColor(k$),Z=this._options.renderWithSVG,G=X.content,q=this._options.stopRenderingLineAfter===-1?G.length:Math.min(this._options.stopRenderingLineAfter,G.length),U=X.continuesWithWrappedLine,z=X.minColumn-1,H=this._options.renderWhitespace==="boundary",j=this._options.renderWhitespace==="trailing",V=this._options.lineHeight,W=this._options.middotWidth,B=this._options.wsmiddotWidth,K=this._options.spaceWidth,P=Math.abs(B-K),A=Math.abs(W-K),D=P<A?11825:183,R=this._options.canUseHalfwidthRightwardsArrow,M="",_=!1,T=I6(G),w;if(T===-1)_=!0,T=q,w=q;else w=X9(G);let b=0,S=Q&&Q[b],g=0;for(let c=z;c<q;c++){let C=G.charCodeAt(c);if(S&&c>=S.endOffset)b++,S=Q&&Q[b];if(C!==9&&C!==32)continue;if(j&&!_&&c<=w)continue;if(H&&c>=T&&c<=w&&C===32){let i=c-1>=0?G.charCodeAt(c-1):0,Y0=c+1<q?G.charCodeAt(c+1):0;if(i!==32&&Y0!==32)continue}if(H&&U&&c===q-1){let i=c-1>=0?G.charCodeAt(c-1):0;if(C===32&&(i!==32&&i!==9))continue}if(Q&&(!S||S.startOffset>c||S.endOffset<=c))continue;let u=J.visibleRangeForPosition(new v($,c+1));if(!u)continue;if(Z)if(g=Math.max(g,u.left),C===9)M+=this._renderArrow(V,K,u.left);else M+=`<circle cx="${(u.left+K/2).toFixed(2)}" cy="${(V/2).toFixed(2)}" r="${(K/7).toFixed(2)}" />`;else if(C===9)M+=`<div class="mwh" style="left:${u.left}px;height:${V}px;">${R?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`;else M+=`<div class="mwh" style="left:${u.left}px;height:${V}px;">${String.fromCharCode(D)}</div>`}if(Z)return g=Math.round(g+K),`<svg style="position:absolute;width:${g}px;height:${V}px" viewBox="0 0 ${g} ${V}" xmlns="http://www.w3.org/2000/svg" fill="${Y}">`+M+"</svg>";return M}_renderArrow(J,$,Q){let X=$/7,Y=$,Z=J/2,G=Q,q={x:0,y:X/2},U={x:0.8*Y,y:q.y},z={x:U.x-0.2*U.x,y:U.y+0.2*U.x},H={x:z.x+0.1*U.x,y:z.y+0.1*U.x},j={x:H.x+0.35*U.x,y:H.y-0.35*U.x},V={x:j.x,y:-j.y},W={x:H.x,y:-H.y},B={x:z.x,y:-z.y},K={x:U.x,y:-U.y},P={x:q.x,y:-q.y};return`<path d="M ${[q,U,z,H,j,V,W,B,K,P].map((R)=>`${(G+R.x).toFixed(2)} ${(Z+R.y).toFixed(2)}`).join(" L ")}" />`}render(J,$){if(!this._renderResult)return"";let Q=$-J;if(Q<0||Q>=this._renderResult.length)return"";return this._renderResult[Q]}}});class kT{constructor(J,$,Q,X){this.selections=J,this.startLineNumber=$.startLineNumber|0,this.endLineNumber=$.endLineNumber|0,this.relativeVerticalOffset=$.relativeVerticalOffset,this.bigNumbersDelta=$.bigNumbersDelta|0,this.whitespaceViewportData=Q,this._model=X,this.visibleRange=new L($.startLineNumber,this._model.getLineMinColumn($.startLineNumber),$.endLineNumber,this._model.getLineMaxColumn($.endLineNumber))}getViewLineRenderingData(J){return this._model.getViewportViewLineRenderingData(this.visibleRange,J)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var $u=N(()=>{l0()});class ET{get type(){return this._theme.type}get value(){return this._theme}constructor(J){this._theme=J}update(J){this._theme=J}getColor(J){return this._theme.getColor(J)}}class IT{constructor(J,$,Q){this.configuration=J,this.theme=new ET($),this.viewModel=Q,this.viewLayout=Q.viewLayout}addEventHandler(J){this.viewModel.addViewEventHandler(J)}removeEventHandler(J){this.viewModel.removeViewEventHandler(J)}}var Qu=()=>{};function MY(J){try{return J()}catch($){return o0($),null}}class GA{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(J){return this._coordinatedRenderings.push(J),this._scheduleRender(J.window),{dispose:()=>{let $=this._coordinatedRenderings.indexOf(J);if($===-1)return;if(this._coordinatedRenderings.splice($,1),this._coordinatedRenderings.length===0){for(let[Q,X]of this._animationFrameRunners)X.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(J){if(!this._animationFrameRunners.has(J)){let $=()=>{this._animationFrameRunners.delete(J),this._onRenderScheduled()};this._animationFrameRunners.set(J,Xq(J,$,100))}}_onRenderScheduled(){let J=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(let Q of J)MY(()=>Q.prepareRenderText());let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=MY(()=>Y.renderText())}for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q],Z=$[Q];if(!Z)continue;let[G,q]=Z;MY(()=>Y.prepareRender(G,q))}for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q],Z=$[Q];if(!Z)continue;let[G,q]=Z;MY(()=>Y.render(G,q))}}}var _80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},O80=function(J,$){return function(Q,X){$(Q,X,J)}},ZA;var Xu=N(()=>{D0();fO();P1();qN();ig();hp();cq();tp();Jm();g8();dN();Qm();Ym();Gm();Um();zm();tK();Am();NN();_m();Nm();TN();wm();Cm();hm();gm();pm();um();lm();rm();om();tm();Ju();l0();E5();v7();mq();$u();Qu();u0();s6();ZA=class J extends _J{constructor($,Q,X,Y,Z,G,q){super();this._instantiationService=q,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new v0(1,1,1,1)],this._renderAnimationFrame=null;let U=new mN(Q,Y,Z,$);this._context=new IT(Q,X,Y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(mK,this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=e0(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=e0(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=e0(document.createElement("div")),X8.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new JT(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new kH(this._context,this._linesContent),this._viewZones=new TT(this._context),this._viewParts.push(this._viewZones);let z=new AT(this._context);this._viewParts.push(z);let H=new _T(this._context);this._viewParts.push(H);let j=new cN(this._context);this._viewParts.push(j),j.addDynamicOverlay(new oN(this._context)),j.addDynamicOverlay(new b6(this._context)),j.addDynamicOverlay(new ZT(this._context)),j.addDynamicOverlay(new eN(this._context)),j.addDynamicOverlay(new LT(this._context));let V=new lN(this._context);this._viewParts.push(V),V.addDynamicOverlay(new tN(this._context)),V.addDynamicOverlay(new qT(this._context)),V.addDynamicOverlay(new GT(this._context)),V.addDynamicOverlay(new I2(this._context)),this._glyphMarginWidgets=new $T(this._context),this._viewParts.push(this._glyphMarginWidgets);let W=new eQ(this._context);W.getDomNode().appendChild(this._viewZones.marginDomNode),W.getDomNode().appendChild(V.getDomNode()),W.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(W),this._contentWidgets=new iN(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Z3(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new KT(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);let B=new MT(this._context);this._viewParts.push(B);let K=new sN(this._context);this._viewParts.push(K);let P=new FT(this._context);if(this._viewParts.push(P),z){let A=this._scrollbar.getOverviewRulerLayoutInfo();A.parent.insertBefore(z.getDomNode(),A.insertBefore)}if(this._linesContent.appendChild(j.getDomNode()),this._linesContent.appendChild(B.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(W.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(H.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(P.getDomNode()),this._overflowGuardContainer.appendChild(K.domNode),this.domNode.appendChild(this._overflowGuardContainer),G)G.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),G.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode);else this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode);this._applyLayout(),this._pointerHandler=this._register(new DN(this._context,U,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){let $=this._context.viewModel.model,Q=this._context.viewModel.glyphLanes,X=[],Y=0;X=X.concat($.getAllMarginDecorations().map((Z)=>{var G,q,U;let z=(q=(G=Z.options.glyphMargin)===null||G===void 0?void 0:G.position)!==null&&q!==void 0?q:p9.Center;return Y=Math.max(Y,Z.range.endLineNumber),{range:Z.range,lane:z,persist:(U=Z.options.glyphMargin)===null||U===void 0?void 0:U.persistLane}})),X=X.concat(this._glyphMarginWidgets.getWidgets().map((Z)=>{let G=$.validateRange(Z.preference.range);return Y=Math.max(Y,G.endLineNumber),{range:G,lane:Z.preference.lane}})),X.sort((Z,G)=>L.compareRangesUsingStarts(Z.range,G.range)),Q.reset(Y);for(let Z of X)Q.push(Z.lane,Z.range,Z.persist);return Q}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:($)=>{this._textAreaHandler.textArea.domNode.dispatchEvent($)},getLastRenderData:()=>{let $=this._viewCursors.getLastRenderData()||[],Q=this._textAreaHandler.getLastRenderData();return new ZN($,Q)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:($)=>{return this._viewZones.shouldSuppressMouseDownOnViewZone($)},shouldSuppressMouseDownOnWidget:($)=>{return this._contentWidgets.shouldSuppressMouseDownOnWidget($)},getPositionFromDOMInfo:($,Q)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo($,Q)},visibleRangeForPosition:($,Q)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new v($,Q))},getLineWidth:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth($)}}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition($)}}}_applyLayout(){let Q=this._context.configuration.options.get(143);this.domNode.setWidth(Q.width),this.domNode.setHeight(Q.height),this._overflowGuardContainer.setWidth(Q.width),this._overflowGuardContainer.setHeight(Q.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let $=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+RH(this._context.theme.type)+$}handleEvents($){super.handleEvents($),this._scheduleRender()}onConfigurationChanged($){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged($){return this._selections=$.selections,!1}onDecorationsChanged($){if($.affectsGlyphMargin)this._shouldRecomputeGlyphMarginLanes=!0;return!1}onFocusChanged($){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged($){return this._context.theme.update($.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){if(this._renderAnimationFrame!==null)this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null;this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let $ of this._viewParts)$.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new S1;if(this._renderAnimationFrame===null){let $=this._createCoordinatedRendering();this._renderAnimationFrame=GA.INSTANCE.scheduleCoordinatedRendering({window:B0(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new S1;try{return $.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new S1;return $.renderText()},prepareRender:(Q,X)=>{if(this._store.isDisposed)throw new S1;return $.prepareRender(Q,X)},render:(Q,X)=>{if(this._store.isDisposed)throw new S1;return $.render(Q,X)}})}}_flushAccumulatedAndRenderNow(){let $=this._createCoordinatedRendering();MY(()=>$.prepareRenderText());let Q=MY(()=>$.renderText());if(Q){let[X,Y]=Q;MY(()=>$.prepareRender(X,Y)),MY(()=>$.render(X,Y))}}_getViewPartsToRender(){let $=[],Q=0;for(let X of this._viewParts)if(X.shouldRender())$[Q++]=X;return $}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;let $=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount($.requiredLanes)}A$.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let $=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&$.length===0)return null;let Q=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(Q.startLineNumber,Q.endLineNumber,Q.centeredLineNumber);let X=new kT(this._selections,Q,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);if(this._contentWidgets.shouldRender())this._contentWidgets.onBeforeRender(X);if(this._viewLines.shouldRender())this._viewLines.renderText(X),this._viewLines.onDidRender(),$=this._getViewPartsToRender();return[$,new oO(this._context.viewLayout,X,this._viewLines)]},prepareRender:($,Q)=>{for(let X of $)X.prepareRender(Q)},render:($,Q)=>{for(let X of $)X.render(Q),X.onDidRender()}}}delegateVerticalScrollbarPointerDown($){this._scrollbar.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){this._scrollbar.delegateScrollFromMouseWheelEvent($)}restoreState($){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:$.scrollTop,scrollLeft:$.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn($,Q){let X=this._context.viewModel.model.validatePosition({lineNumber:$,column:Q}),Y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X);this._flushAccumulatedAndRenderNow();let Z=this._viewLines.visibleRangeForPosition(new v(Y.lineNumber,Y.column));if(!Z)return-1;return Z.left}getTargetAtClientPoint($,Q){let X=this._pointerHandler.getTargetAtClientPoint($,Q);if(!X)return null;return tq.convertViewToModelMouseTarget(X,this._context.viewModel.coordinatesConverter)}createOverviewRuler($){return new RT(this._context,$)}change($){this._viewZones.changeViewZones($),this._scheduleRender()}render($,Q){if(Q){this._viewLines.forceShouldRender();for(let X of this._viewParts)X.forceShouldRender()}if($)this._flushAccumulatedAndRenderNow();else this._scheduleRender()}writeScreenReaderContent($){this._textAreaHandler.writeScreenReaderContent($)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions($){this._textAreaHandler.setAriaOptions($)}addContentWidget($){this._contentWidgets.addWidget($.widget),this.layoutContentWidget($),this._scheduleRender()}layoutContentWidget($){var Q,X,Y,Z,G,q,U,z;this._contentWidgets.setWidgetPosition($.widget,(X=(Q=$.position)===null||Q===void 0?void 0:Q.position)!==null&&X!==void 0?X:null,(Z=(Y=$.position)===null||Y===void 0?void 0:Y.secondaryPosition)!==null&&Z!==void 0?Z:null,(q=(G=$.position)===null||G===void 0?void 0:G.preference)!==null&&q!==void 0?q:null,(z=(U=$.position)===null||U===void 0?void 0:U.positionAffinity)!==null&&z!==void 0?z:null),this._scheduleRender()}removeContentWidget($){this._contentWidgets.removeWidget($.widget),this._scheduleRender()}addOverlayWidget($){this._overlayWidgets.addWidget($.widget),this.layoutOverlayWidget($),this._scheduleRender()}layoutOverlayWidget($){let Q=$.position?$.position.preference:null;if(this._overlayWidgets.setWidgetPosition($.widget,Q))this._scheduleRender()}removeOverlayWidget($){this._overlayWidgets.removeWidget($.widget),this._scheduleRender()}addGlyphMarginWidget($){this._glyphMarginWidgets.addWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget($){let Q=$.position;if(this._glyphMarginWidgets.setWidgetPosition($.widget,Q))this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}removeGlyphMarginWidget($){this._glyphMarginWidgets.removeWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};ZA=_80([O80(6,p0)],ZA);GA.INSTANCE=new GA});class bH{constructor(J,$,Q,X,Y,Z,G){this.id=J,this.label=$,this.alias=Q,this.metadata=X,this._precondition=Y,this._run=Z,this._contextKeyService=G}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(J){if(!this.isSupported())return Promise.resolve(void 0);return this._run(J)}}function s9(J){let $=0,Q=0,X=0,Y=0;for(let Z=0,G=J.length;Z<G;Z++){let q=J.charCodeAt(Z);if(q===13){if($===0)Q=Z;if($++,Z+1<G&&J.charCodeAt(Z+1)===10)Y|=2,Z++;else Y|=3;X=Z+1}else if(q===10){if(Y|=1,$===0)Q=Z;$++,X=Z+1}}if($===0)Q=J.length;return[$,Q,J.length-X,Y]}class qA{constructor(J,$,Q,X){this.range=J,this.nestingLevel=$,this.nestingLevelOfEqualBracketType=Q,this.isInvalid=X}}class Yu{constructor(J,$,Q,X,Y,Z){this.range=J,this.openingBracketRange=$,this.closingBracketRange=Q,this.nestingLevel=X,this.nestingLevelOfEqualBracketType=Y,this.bracketPairNode=Z}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}var yT;var Zu=N(()=>{yT=class yT extends Yu{constructor(J,$,Q,X,Y,Z,G){super(J,$,Q,X,Y,Z);this.minVisibleColumnIndentation=G}}});class S2{constructor(J,$){this.lineCount=J,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}function Gu(J,$,Q,X){return J!==Q?F6(Q-J,X):F6(0,X-$)}function G3(J){return J===0}function F6(J,$){return J*W9+$}function X7(J){let $=J,Q=Math.floor($/W9),X=$-Q*W9;return new S2(Q,X)}function qu(J){return Math.floor(J/W9)}function xT(J){return J}function K6(J,$){let Q=J+$;if($>=W9)Q=Q-J%W9;return Q}function Uu(J,$){return J.reduce((Q,X)=>K6(Q,$(X)),s5)}function bT(J,$){return J===$}function C2(J,$){let Q=J,X=$;if(X-Q<=0)return s5;let Z=Math.floor(Q/W9),G=Math.floor(X/W9),q=X-G*W9;if(Z===G){let U=Q-Z*W9;return F6(0,q-U)}else return F6(G-Z,q)}function YX(J,$){return J<$}function _Y(J,$){return J<=$}function q3(J,$){return J>=$}function OY(J){return F6(J.lineNumber-1,J.column-1)}function NY(J,$){let Q=J,X=Math.floor(Q/W9),Y=Q-X*W9,Z=$,G=Math.floor(Z/W9),q=Z-G*W9;return new L(X+1,Y+1,G+1,q+1)}function zu(J){let $=Q9(J);return F6($.length-1,$[$.length-1].length)}var s5=0,W9=67108864;var y$=N(()=>{t0();l0();S2.zero=new S2(0,0)});class S4{static fromModelContentChanges(J){return J.map((Q)=>{let X=L.lift(Q.range);return new S4(OY(X.getStartPosition()),OY(X.getEndPosition()),zu(Q.text))}).reverse()}constructor(J,$,Q){this.startOffset=J,this.endOffset=$,this.newLength=Q}toString(){return`[${X7(this.startOffset)}...${X7(this.endOffset)}) -> ${X7(this.newLength)}`}}class ST{constructor(J){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=J.map(($)=>CT.from($))}getOffsetBeforeChange(J){return this.adjustNextEdit(J),this.translateCurToOld(J)}getDistanceToNextChange(J){this.adjustNextEdit(J);let $=this.edits[this.nextEditIdx],Q=$?this.translateOldToCur($.offsetObj):null;if(Q===null)return null;return C2(J,Q)}translateOldToCur(J){if(J.lineCount===this.deltaLineIdxInOld)return F6(J.lineCount+this.deltaOldToNewLineCount,J.columnCount+this.deltaOldToNewColumnCount);else return F6(J.lineCount+this.deltaOldToNewLineCount,J.columnCount)}translateCurToOld(J){let $=X7(J);if($.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld)return F6($.lineCount-this.deltaOldToNewLineCount,$.columnCount-this.deltaOldToNewColumnCount);else return F6($.lineCount-this.deltaOldToNewLineCount,$.columnCount)}adjustNextEdit(J){while(this.nextEditIdx<this.edits.length){let $=this.edits[this.nextEditIdx],Q=this.translateOldToCur($.endOffsetAfterObj);if(_Y(Q,J)){this.nextEditIdx++;let X=X7(Q),Y=X7(this.translateOldToCur($.endOffsetBeforeObj)),Z=X.lineCount-Y.lineCount;this.deltaOldToNewLineCount+=Z;let G=this.deltaLineIdxInOld===$.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,q=X.columnCount-Y.columnCount;this.deltaOldToNewColumnCount=G+q,this.deltaLineIdxInOld=$.endOffsetBeforeObj.lineCount}else break}}}class CT{static from(J){return new CT(J.startOffset,J.endOffset,J.newLength)}constructor(J,$,Q){this.endOffsetBeforeObj=X7($),this.endOffsetAfterObj=X7(K6(J,Q)),this.offsetObj=X7(J)}}var SH=N(()=>{l0();y$()});class S6{static create(J,$){if(J<=128&&$.length===0){let Q=S6.cache[J];if(!Q)Q=new S6(J,$),S6.cache[J]=Q;return Q}return new S6(J,$)}static getEmpty(){return this.empty}constructor(J,$){this.items=J,this.additionalItems=$}add(J,$){let Q=$.getKey(J),X=Q>>5;if(X===0){let Z=1<<Q|this.items;if(Z===this.items)return this;return S6.create(Z,this.additionalItems)}X--;let Y=this.additionalItems.slice(0);while(Y.length<X)Y.push(0);return Y[X]|=1<<(Q&31),S6.create(this.items,Y)}merge(J){let $=this.items|J.items;if(this.additionalItems===UA&&J.additionalItems===UA){if($===this.items)return this;if($===J.items)return J;return S6.create($,UA)}let Q=[];for(let X=0;X<Math.max(this.additionalItems.length,J.additionalItems.length);X++){let Y=this.additionalItems[X]||0,Z=J.additionalItems[X]||0;Q.push(Y|Z)}return S6.create($,Q)}intersects(J){if((this.items&J.items)!==0)return!0;for(let $=0;$<Math.min(this.additionalItems.length,J.additionalItems.length);$++)if((this.additionalItems[$]&J.additionalItems[$])!==0)return!0;return!1}}class hT{constructor(){this.items=new Map}getKey(J){let $=this.items.get(J);if($===void 0)$=this.items.size,this.items.set(J,$);return $}}var UA,vT;var U3=N(()=>{UA=[];S6.cache=new Array(129);S6.empty=S6.create(0,UA);vT={getKey(J){return J}}});class HA{get length(){return this._length}constructor(J){this._length=J}}var z3,a9,CH,Hu,zA,ju,N80,jA,x$,vH,fT;var hH=N(()=>{P1();I4();y$();U3();z3=class z3 extends HA{static create(J,$,Q){let X=J.length;if($)X=K6(X,$.length);if(Q)X=K6(X,Q.length);return new z3(X,J,$,Q,$?$.missingOpeningBracketIds:S6.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(J){switch(J){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let J=[];if(J.push(this.openingBracket),this.child)J.push(this.child);if(this.closingBracket)J.push(this.closingBracket);return J}constructor(J,$,Q,X,Y){super(J);this.openingBracket=$,this.child=Q,this.closingBracket=X,this.missingOpeningBracketIds=Y}canBeReused(J){if(this.closingBracket===null)return!1;if(J.intersects(this.missingOpeningBracketIds))return!1;return!0}deepClone(){return new z3(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(J,$){return this.child?this.child.computeMinIndentation(K6(J,this.openingBracket.length),$):Number.MAX_SAFE_INTEGER}};a9=class a9 extends HA{static create23(J,$,Q,X=!1){let{length:Y,missingOpeningBracketIds:Z}=J;if(J.listHeight!==$.listHeight)throw new Error("Invalid list heights");if(Y=K6(Y,$.length),Z=Z.merge($.missingOpeningBracketIds),Q){if(J.listHeight!==Q.listHeight)throw new Error("Invalid list heights");Y=K6(Y,Q.length),Z=Z.merge(Q.missingOpeningBracketIds)}return X?new Hu(Y,J.listHeight+1,J,$,Q,Z):new CH(Y,J.listHeight+1,J,$,Q,Z)}static getEmpty(){return new ju(s5,0,[],S6.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(J,$,Q){super(J);this.listHeight=$,this._missingOpeningBracketIds=Q,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let J=this.childrenLength;if(J===0)return;let $=this.getChild(J-1),Q=$.kind===4?$.toMutable():$;if($!==Q)this.setChild(J-1,Q);return Q}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let $=this.getChild(0),Q=$.kind===4?$.toMutable():$;if($!==Q)this.setChild(0,Q);return Q}canBeReused(J){if(J.intersects(this.missingOpeningBracketIds))return!1;if(this.childrenLength===0)return!1;let $=this;while($.kind===4){let Q=$.childrenLength;if(Q===0)throw new S1;$=$.getChild(Q-1)}return $.canBeReused(J)}handleChildrenChanged(){this.throwIfImmutable();let J=this.childrenLength,$=this.getChild(0).length,Q=this.getChild(0).missingOpeningBracketIds;for(let X=1;X<J;X++){let Y=this.getChild(X);$=K6($,Y.length),Q=Q.merge(Y.missingOpeningBracketIds)}this._length=$,this._missingOpeningBracketIds=Q,this.cachedMinIndentation=-1}computeMinIndentation(J,$){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let Q=Number.MAX_SAFE_INTEGER,X=J;for(let Y=0;Y<this.childrenLength;Y++){let Z=this.getChild(Y);if(Z)Q=Math.min(Q,Z.computeMinIndentation(X,$)),X=K6(X,Z.length)}return this.cachedMinIndentation=Q,Q}};CH=class CH extends a9{get childrenLength(){return this._item3!==null?3:2}getChild(J){switch(J){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(J,$){switch(J){case 0:this._item1=$;return;case 1:this._item2=$;return;case 2:this._item3=$;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(J,$,Q,X,Y,Z){super(J,$,Z);this._item1=Q,this._item2=X,this._item3=Y}deepClone(){return new CH(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=J,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let J=this._item3;return this._item3=null,this.handleChildrenChanged(),J}prependChildOfSameHeight(J){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=J,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let J=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),J}toMutable(){return this}};Hu=class Hu extends CH{toMutable(){return new CH(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};zA=class zA extends a9{get childrenLength(){return this._children.length}getChild(J){return this._children[J]}setChild(J,$){this._children[J]=$}get children(){return this._children}constructor(J,$,Q,X){super(J,$,X);this._children=Q}deepClone(){let J=new Array(this._children.length);for(let $=0;$<this._children.length;$++)J[$]=this._children[$].deepClone();return new zA(this.length,this.listHeight,J,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){this.throwIfImmutable(),this._children.push(J),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let J=this._children.pop();return this.handleChildrenChanged(),J}prependChildOfSameHeight(J){this.throwIfImmutable(),this._children.unshift(J),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let J=this._children.shift();return this.handleChildrenChanged(),J}toMutable(){return this}};ju=class ju extends zA{toMutable(){return new zA(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};N80=[];jA=class jA extends HA{get listHeight(){return 0}get childrenLength(){return 0}getChild(J){return null}get children(){return N80}deepClone(){return this}};x$=class x$ extends jA{get kind(){return 0}get missingOpeningBracketIds(){return S6.getEmpty()}canBeReused(J){return!0}computeMinIndentation(J,$){let Q=X7(J),X=(Q.columnCount===0?Q.lineCount:Q.lineCount+1)+1,Y=qu(K6(J,this.length))+1,Z=Number.MAX_SAFE_INTEGER;for(let G=X;G<=Y;G++){let q=$.getLineFirstNonWhitespaceColumn(G),U=$.getLineContent(G);if(q===0)continue;let z=f1.visibleColumnFromColumn(U,q,$.getOptions().tabSize);Z=Math.min(Z,z)}return Z}};vH=class vH extends jA{static create(J,$,Q){return new vH(J,$,Q)}get kind(){return 1}get missingOpeningBracketIds(){return S6.getEmpty()}constructor(J,$,Q){super(J);this.bracketInfo=$,this.bracketIds=Q}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(J){return!1}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}};fT=class fT extends jA{get kind(){return 3}constructor(J,$){super($);this.missingOpeningBracketIds=J}canBeReused(J){return!J.intersects(this.missingOpeningBracketIds)}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}});class b${constructor(J,$,Q,X,Y){this.length=J,this.kind=$,this.bracketId=Q,this.bracketIds=X,this.astNode=Y}}class gT{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.reader=new Vu(this.textModel,this.bracketTokens),this._offset=s5,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return F6(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(J){this.didPeek=!1,this._offset=K6(this._offset,J);let $=X7(this._offset);this.reader.setPosition($.lineCount,$.columnCount)}read(){let J;if(this.peeked)this.didPeek=!1,J=this.peeked;else J=this.reader.read();if(J)this._offset=K6(this._offset,J.length);return J}peek(){if(!this.didPeek)this.peeked=this.reader.read(),this.didPeek=!0;return this.peeked}}class Vu{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}setPosition(J,$){if(J===this.lineIdx){if(this.lineCharOffset=$,this.line!==null)this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}else this.lineIdx=J,this.lineCharOffset=$,this.line=null;this.peekedToken=null}read(){if(this.peekedToken){let Y=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=xT(Y.length),Y}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;if(this.line===null)this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset);let J=this.lineIdx,$=this.lineCharOffset,Q=0;while(!0){let Y=this.lineTokens,Z=Y.getCount(),G=null;if(this.lineTokenOffset<Z){let q=Y.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<Z&&q===Y.getMetadata(this.lineTokenOffset+1))this.lineTokenOffset++;let U=u5.getTokenType(q)===0,z=u5.containsBalancedBrackets(q),H=Y.getEndOffset(this.lineTokenOffset);if(z&&U&&this.lineCharOffset<H){let j=Y.getLanguageId(this.lineTokenOffset),V=this.line.substring(this.lineCharOffset,H),W=this.bracketTokens.getSingleLanguageBracketTokens(j),B=W.regExpGlobal;if(B){B.lastIndex=0;let K=B.exec(V);if(K){if(G=W.getToken(K[0]),G)this.lineCharOffset+=K.index}}}if(Q+=H-this.lineCharOffset,G)if(J!==this.lineIdx||$!==this.lineCharOffset){this.peekedToken=G;break}else return this.lineCharOffset+=xT(G.length),G;else this.lineTokenOffset++,this.lineCharOffset=H}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,Q+=33,Q>1000)break}if(Q>1500)break}let X=Gu(J,$,this.lineIdx,this.lineCharOffset);return new b$(X,0,-1,S6.getEmpty(),new x$(X))}}class pT{constructor(J,$){this.text=J,this._offset=s5,this.idx=0;let Q=$.getRegExpStr(),X=Q?new RegExp(Q+`|
`,"gi"):null,Y=[],Z,G=0,q=0,U=0,z=0,H=[];for(let W=0;W<60;W++)H.push(new b$(F6(0,W),0,-1,S6.getEmpty(),new x$(F6(0,W))));let j=[];for(let W=0;W<60;W++)j.push(new b$(F6(1,W),0,-1,S6.getEmpty(),new x$(F6(1,W))));if(X){X.lastIndex=0;while((Z=X.exec(J))!==null){let W=Z.index,B=Z[0];if(B===`
`)G++,q=W+1;else{if(U!==W){let K;if(z===G){let P=W-U;if(P<H.length)K=H[P];else{let A=F6(0,P);K=new b$(A,0,-1,S6.getEmpty(),new x$(A))}}else{let P=G-z,A=W-q;if(P===1&&A<j.length)K=j[A];else{let D=F6(P,A);K=new b$(D,0,-1,S6.getEmpty(),new x$(D))}}Y.push(K)}Y.push($.getToken(B)),U=W+B.length,z=G}}}let V=J.length;if(U!==V){let W=z===G?F6(0,V-U):F6(G-z,V-q);Y.push(new b$(W,0,-1,S6.getEmpty(),new x$(W)))}this.length=F6(G,V-q),this.tokens=Y}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(J){throw new $M}}var mT=N(()=>{P1();hH();y$();U3()});class uT{static createFromLanguage(J,$){function Q(Y){return $.getKey(`${Y.languageId}:::${Y.bracketText}`)}let X=new Map;for(let Y of J.bracketsNew.openingBrackets){let Z=F6(0,Y.bracketText.length),G=Q(Y),q=S6.getEmpty().add(G,vT);X.set(Y.bracketText,new b$(Z,1,G,q,vH.create(Z,Y,q)))}for(let Y of J.bracketsNew.closingBrackets){let Z=F6(0,Y.bracketText.length),G=S6.getEmpty(),q=Y.getOpeningBrackets();for(let U of q)G=G.add(Q(U),vT);X.set(Y.bracketText,new b$(Z,2,Q(q[0]),G,vH.create(Z,Y,G)))}return new uT(X)}constructor(J){this.map=J,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;else{let J=[...this.map.keys()];return J.sort(),J.reverse(),J.map(($)=>T80($)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let J=this.getRegExpStr();this._regExpGlobal=J?new RegExp(J,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(J){return this.map.get(J.toLowerCase())}findClosingTokenText(J){for(let[$,Q]of this.map)if(Q.kind===2&&Q.bracketIds.intersects(J))return $;return}get isEmpty(){return this.map.size===0}}function T80(J){let $=o8(J);if(/^[\w ]+/.test(J))$=`\\b${$}`;if(/[\w ]+$/.test(J))$=`${$}\\b`;return $}class cT{constructor(J,$){this.denseKeyProvider=J,this.getLanguageConfiguration=$,this.languageIdToBracketTokens=new Map}didLanguageChange(J){return this.languageIdToBracketTokens.has(J)}getSingleLanguageBracketTokens(J){let $=this.languageIdToBracketTokens.get(J);if(!$)$=uT.createFromLanguage(this.getLanguageConfiguration(J),this.denseKeyProvider),this.languageIdToBracketTokens.set(J,$);return $}}var Wu=N(()=>{t0();hH();y$();U3();mT()});function Fu(J){if(J.length===0)return null;if(J.length===1)return J[0];let $=0;function Q(){if($>=J.length)return null;let G=$,q=J[G].listHeight;$++;while($<J.length&&J[$].listHeight===q)$++;if($-G>=2)return dT(G===0&&$===J.length?J:J.slice(G,$),!1);else return J[G]}let X=Q(),Y=Q();if(!Y)return X;for(let G=Q();G;G=Q())if(Bu(X,Y)<=Bu(Y,G))X=lT(X,Y),Y=G;else Y=lT(Y,G);return lT(X,Y)}function dT(J,$=!1){if(J.length===0)return null;if(J.length===1)return J[0];let Q=J.length;while(Q>3){let X=Q>>1;for(let Y=0;Y<X;Y++){let Z=Y<<1;J[Y]=a9.create23(J[Z],J[Z+1],Z+3===Q?J[Z+2]:null,$)}Q=X}return a9.create23(J[0],J[1],Q>=3?J[2]:null,$)}function Bu(J,$){return Math.abs(J.listHeight-$.listHeight)}function lT(J,$){if(J.listHeight===$.listHeight)return a9.create23(J,$,null,!1);else if(J.listHeight>$.listHeight)return w80(J,$);else return L80($,J)}function w80(J,$){J=J.toMutable();let Q=J,X=[],Y;while(!0){if($.listHeight===Q.listHeight){Y=$;break}if(Q.kind!==4)throw new Error("unexpected");X.push(Q),Q=Q.makeLastElementMutable()}for(let Z=X.length-1;Z>=0;Z--){let G=X[Z];if(Y)if(G.childrenLength>=3)Y=a9.create23(G.unappendChild(),Y,null,!1);else G.appendChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return a9.create23(J,Y,null,!1);else return J}function L80(J,$){J=J.toMutable();let Q=J,X=[];while($.listHeight!==Q.listHeight){if(Q.kind!==4)throw new Error("unexpected");X.push(Q),Q=Q.makeFirstElementMutable()}let Y=$;for(let Z=X.length-1;Z>=0;Z--){let G=X[Z];if(Y)if(G.childrenLength>=3)Y=a9.create23(Y,G.unprependChild(),null,!1);else G.prependChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return a9.create23(Y,J,null,!1);else return J}var Ku=N(()=>{hH()});class aT{constructor(J){this.lastOffset=s5,this.nextNodes=[J],this.offsets=[s5],this.idxs=[]}readLongestNodeAt(J,$){if(YX(J,this.lastOffset))throw new Error("Invalid offset");this.lastOffset=J;while(!0){let Q=fH(this.nextNodes);if(!Q)return;let X=fH(this.offsets);if(YX(J,X))return;if(YX(X,J))if(K6(X,Q.length)<=J)this.nextNodeAfterCurrent();else{let Y=sT(Q);if(Y!==-1)this.nextNodes.push(Q.getChild(Y)),this.offsets.push(X),this.idxs.push(Y);else this.nextNodeAfterCurrent()}else if($(Q))return this.nextNodeAfterCurrent(),Q;else{let Y=sT(Q);if(Y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(Q.getChild(Y)),this.offsets.push(X),this.idxs.push(Y)}}}nextNodeAfterCurrent(){while(!0){let J=fH(this.offsets),$=fH(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let Q=fH(this.nextNodes),X=sT(Q,this.idxs[this.idxs.length-1]);if(X!==-1){this.nextNodes.push(Q.getChild(X)),this.offsets.push(K6(J,$.length)),this.idxs[this.idxs.length-1]=X;break}else this.idxs.pop()}}}function sT(J,$=-1){while(!0){if($++,$>=J.childrenLength)return-1;if(J.getChild($))return $}}function fH(J){return J.length>0?J[J.length-1]:void 0}var Au=N(()=>{y$()});function rT(J,$,Q,X){return new Pu(J,$,Q,X).parseDocument()}class Pu{constructor(J,$,Q,X){if(this.tokenizer=J,this.createImmutableLists=X,this._itemsConstructed=0,this._itemsFromCache=0,Q&&X)throw new Error("Not supported");this.oldNodeReader=Q?new aT(Q):void 0,this.positionMapper=new ST($)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let J=this.parseList(S6.getEmpty(),0);if(!J)J=a9.getEmpty();return J}parseList(J,$){let Q=[];while(!0){let Y=this.tryReadChildFromCache(J);if(!Y){let Z=this.tokenizer.peek();if(!Z||Z.kind===2&&Z.bracketIds.intersects(J))break;Y=this.parseChild(J,$+1)}if(Y.kind===4&&Y.childrenLength===0)continue;Q.push(Y)}return this.oldNodeReader?Fu(Q):dT(Q,this.createImmutableLists)}tryReadChildFromCache(J){if(this.oldNodeReader){let $=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if($===null||!G3($)){let Q=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(X)=>{if($!==null&&!YX(X.length,$))return!1;return X.canBeReused(J)});if(Q)return this._itemsFromCache++,this.tokenizer.skip(Q.length),Q}}return}parseChild(J,$){this._itemsConstructed++;let Q=this.tokenizer.read();switch(Q.kind){case 2:return new fT(Q.bracketIds,Q.length);case 0:return Q.astNode;case 1:{if($>300)return new x$(Q.length);let X=J.merge(Q.bracketIds),Y=this.parseList(X,$+1),Z=this.tokenizer.peek();if(Z&&Z.kind===2&&(Z.bracketId===Q.bracketId||Z.bracketIds.intersects(Q.bracketIds)))return this.tokenizer.read(),z3.create(Q.astNode,Y,Z.astNode);else return z3.create(Q.astNode,Y,null)}default:throw new Error("unexpected")}}}var Du=N(()=>{hH();SH();U3();y$();Ku();Au()});function H3(J,$){if(J.length===0)return $;if($.length===0)return J;let Q=new r8(Ru(J)),X=Ru($);X.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let Y=Q.dequeue();function Z(z){if(z===void 0){let j=Q.takeWhile((V)=>!0)||[];if(Y)j.unshift(Y);return j}let H=[];while(Y&&!G3(z)){let[j,V]=Y.splitAt(z);H.push(j),z=C2(j.lengthAfter,z),Y=V!==null&&V!==void 0?V:Q.dequeue()}if(!G3(z))H.push(new TY(!1,z,z));return H}let G=[];function q(z,H,j){if(G.length>0&&bT(G[G.length-1].endOffset,z)){let V=G[G.length-1];G[G.length-1]=new S4(V.startOffset,H,K6(V.newLength,j))}else G.push({startOffset:z,endOffset:H,newLength:j})}let U=s5;for(let z of X){let H=Z(z.lengthBefore);if(z.modified){let j=Uu(H,(W)=>W.lengthBefore),V=K6(U,j);q(U,V,z.lengthAfter),U=V}else for(let j of H){let V=U;if(U=K6(U,j.lengthBefore),j.modified)q(V,U,j.lengthAfter)}}return G}class TY{constructor(J,$,Q){this.modified=J,this.lengthBefore=$,this.lengthAfter=Q}splitAt(J){let $=C2(J,this.lengthAfter);if(bT($,s5))return[this,void 0];else if(this.modified)return[new TY(this.modified,this.lengthBefore,J),new TY(this.modified,s5,$)];else return[new TY(this.modified,J,J),new TY(this.modified,$,$)]}toString(){return`${this.modified?"M":"U"}:${X7(this.lengthBefore)} -> ${X7(this.lengthAfter)}`}}function Ru(J){let $=[],Q=s5;for(let X of J){let Y=C2(Q,X.startOffset);if(!G3(Y))$.push(new TY(!1,Y,Y));let Z=C2(X.startOffset,X.endOffset);$.push(new TY(!0,Z,X.newLength)),Q=X.endOffset}return $}var iT=N(()=>{U1();SH();y$()});function Mu(J,$,Q,X){if(J.kind===4||J.kind===2){let Y=[];for(let Z of J.children)Q=K6($,Z.length),Y.push({nodeOffsetStart:$,nodeOffsetEnd:Q}),$=Q;for(let Z=Y.length-1;Z>=0;Z--){let{nodeOffsetStart:G,nodeOffsetEnd:q}=Y[Z];if(YX(G,X)){let U=Mu(J.children[Z],G,q,X);if(U)return U}}return null}else if(J.kind===3)return null;else if(J.kind===1){let Y=NY($,Q);return{bracketInfo:J.bracketInfo,range:Y}}return null}function _u(J,$,Q,X){if(J.kind===4||J.kind===2){for(let Y of J.children){if(Q=K6($,Y.length),YX(X,Q)){let Z=_u(Y,$,Q,X);if(Z)return Z}$=Q}return null}else if(J.kind===3)return null;else if(J.kind===1){let Y=NY($,Q);return{bracketInfo:J.bracketInfo,range:Y}}return null}function nT(J,$,Q,X,Y,Z,G,q,U,z,H=!1){if(G>200)return!0;J:while(!0)switch(J.kind){case 4:{let j=J.childrenLength;for(let V=0;V<j;V++){let W=J.getChild(V);if(!W)continue;if(Q=K6($,W.length),_Y($,Y)&&q3(Q,X)){if(q3(Q,Y)){J=W;continue J}if(!nT(W,$,Q,X,Y,Z,G,0,U,z))return!1}$=Q}return!0}case 2:{let j=!z||!J.closingBracket||J.closingBracket.bracketInfo.closesColorized(J.openingBracket.bracketInfo),V=0;if(U){let B=U.get(J.openingBracket.text);if(B===void 0)B=0;if(V=B,j)B++,U.set(J.openingBracket.text,B)}let W=J.childrenLength;for(let B=0;B<W;B++){let K=J.getChild(B);if(!K)continue;if(Q=K6($,K.length),_Y($,Y)&&q3(Q,X)){if(q3(Q,Y)&&K.kind!==1){if(J=K,j)G++,q=V+1;else q=V;continue J}if(j||K.kind!==1||!J.closingBracket){if(!nT(K,$,Q,X,Y,Z,j?G+1:G,j?V+1:V,U,z,!J.closingBracket))return!1}}$=Q}return U===null||U===void 0||U.set(J.openingBracket.text,V),!0}case 3:{let j=NY($,Q);return Z(new qA(j,G-1,0,!0))}case 1:{let j=NY($,Q);return Z(new qA(j,G-1,q-1,H))}case 0:return!0}}class Ou{constructor(J,$,Q){this.push=J,this.includeMinIndentation=$,this.textModel=Q}}function oT(J,$,Q,X,Y,Z,G,q){var U;if(G>200)return!0;let z=!0;if(J.kind===2){let H=0;if(q){let W=q.get(J.openingBracket.text);if(W===void 0)W=0;H=W,W++,q.set(J.openingBracket.text,W)}let j=K6($,J.openingBracket.length),V=-1;if(Z.includeMinIndentation)V=J.computeMinIndentation($,Z.textModel);if(z=Z.push(new yT(NY($,Q),NY($,j),J.closingBracket?NY(K6(j,((U=J.child)===null||U===void 0?void 0:U.length)||s5),Q):void 0,G,H,J,V)),$=j,z&&J.child){let W=J.child;if(Q=K6($,W.length),_Y($,Y)&&q3(Q,X)){if(z=oT(W,$,Q,X,Y,Z,G+1,q),!z)return!1}}q===null||q===void 0||q.set(J.openingBracket.text,H)}else{let H=$;for(let j of J.children){let V=H;if(H=K6(H,j.length),_Y(V,Y)&&_Y(X,H)){if(z=oT(j,V,H,X,Y,Z,G,q),!z)return!1}}}return z}var tT;var Nu=N(()=>{F0();Q0();Zu();SH();Wu();y$();Du();U3();mT();U1();iT();tT=class tT extends h{didLanguageChange(J){return this.brackets.didLanguageChange(J)}constructor(J,$){super();if(this.textModel=J,this.getLanguageConfiguration=$,this.didChangeEmitter=new y,this.denseKeyProvider=new hT,this.brackets=new cT(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],!J.tokenization.hasTokens){let Q=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),X=new pT(this.textModel.getValue(),Q);this.initialAstWithoutTokens=rT(X,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else if(J.tokenization.backgroundTokenizationState===2)this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1);else this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){let J=this.initialAstWithoutTokens===void 0;if(this.initialAstWithoutTokens=void 0,!J)this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:J}){let $=J.map((Q)=>new S4(F6(Q.fromLineNumber-1,0),F6(Q.toLineNumber,0),F6(Q.toLineNumber-Q.fromLineNumber+1,0)));if(this.handleEdits($,!0),!this.initialAstWithoutTokens)this.didChangeEmitter.fire()}handleContentChanged(J){let $=S4.fromModelContentChanges(J.changes);this.handleEdits($,!1)}handleEdits(J,$){let Q=H3(this.queuedTextEdits,J);if(this.queuedTextEdits=Q,this.initialAstWithoutTokens&&!$)this.queuedTextEditsForInitialAstWithoutTokens=H3(this.queuedTextEditsForInitialAstWithoutTokens,J)}flushQueue(){if(this.queuedTextEdits.length>0)this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[];if(this.queuedTextEditsForInitialAstWithoutTokens.length>0){if(this.initialAstWithoutTokens)this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1);this.queuedTextEditsForInitialAstWithoutTokens=[]}}parseDocumentFromTextBuffer(J,$,Q){let Y=$,Z=new gT(this.textModel,this.brackets);return rT(Z,J,Y,Q)}getBracketsInRange(J,$){this.flushQueue();let Q=F6(J.startLineNumber-1,J.startColumn-1),X=F6(J.endLineNumber-1,J.endColumn-1);return new G4((Y)=>{let Z=this.initialAstWithoutTokens||this.astWithTokens;nT(Z,s5,Z.length,Q,X,Y,0,0,new Map,$)})}getBracketPairsInRange(J,$){this.flushQueue();let Q=OY(J.getStartPosition()),X=OY(J.getEndPosition());return new G4((Y)=>{let Z=this.initialAstWithoutTokens||this.astWithTokens,G=new Ou(Y,$,this.textModel);oT(Z,s5,Z.length,Q,X,G,0,new Map)})}getFirstBracketAfter(J){this.flushQueue();let $=this.initialAstWithoutTokens||this.astWithTokens;return _u($,s5,$.length,OY(J))}getFirstBracketBefore(J){this.flushQueue();let $=this.initialAstWithoutTokens||this.astWithTokens;return Mu($,s5,$.length,OY(J))}}});function k80(J,$){return{object:J,dispose:()=>$===null||$===void 0?void 0:$.dispose()}}function eT(J){if(typeof J==="undefined")return()=>!0;else{let $=Date.now();return()=>{return Date.now()-$<=J}}}class S${constructor(){this._searchCanceledBrand=void 0}}function VA(J){if(J instanceof S$)return null;return J}var Jw;var Tu=N(()=>{U1();F0();Q0();l0();yF();Nu();Jw=class Jw extends h{get canBuildAST(){return this.textModel.getValueLength()<=5000000}constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$,this.bracketPairsTree=this._register(new f5),this.onDidChangeEmitter=new y,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((Q)=>{var X;if(!Q.languageId||((X=this.bracketPairsTree.value)===null||X===void 0?void 0:X.object.didLanguageChange(Q.languageId)))this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))}handleDidChangeOptions(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleContentChanged(J)}handleDidChangeBackgroundTokenizationState(){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleDidChangeTokens(J)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let J=new r;this.bracketPairsTree.value=k80(J.add(new tT(this.textModel,($)=>{return this.languageConfigurationService.getLanguageConfiguration($)})),J),J.add(this.bracketPairsTree.value.object.onDidChange(($)=>this.onDidChangeEmitter.fire($))),this.onDidChangeEmitter.fire()}}else if(this.bracketPairsTree.value)this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire()}getBracketPairsInRange(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!1))||G4.empty}getBracketPairsInRangeWithMinIndentation(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!0))||G4.empty}getBracketsInRange(J,$=!1){var Q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((Q=this.bracketPairsTree.value)===null||Q===void 0?void 0:Q.object.getBracketsInRange(J,$))||G4.empty}findMatchingBracketUp(J,$,Q){let X=this.textModel.validatePosition($),Y=this.textModel.getLanguageIdAtPosition(X.lineNumber,X.column);if(this.canBuildAST){let Z=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew.getClosingBracketInfo(J);if(!Z)return null;let G=this.getBracketPairsInRange(L.fromPositions($,$)).findLast((q)=>Z.closes(q.openingBracketInfo));if(G)return G.openingBracketRange;return null}else{let Z=J.toLowerCase(),G=this.languageConfigurationService.getLanguageConfiguration(Y).brackets;if(!G)return null;let q=G.textIsBracket[Z];if(!q)return null;return VA(this._findMatchingBracketUp(q,X,eT(Q)))}}matchBracket(J,$){if(this.canBuildAST){let Q=this.getBracketPairsInRange(L.fromPositions(J,J)).filter((X)=>X.closingBracketRange!==void 0&&(X.openingBracketRange.containsPosition(J)||X.closingBracketRange.containsPosition(J))).findLastMaxBy(k7((X)=>X.openingBracketRange.containsPosition(J)?X.openingBracketRange:X.closingBracketRange,L.compareRangesUsingStarts));if(Q)return[Q.openingBracketRange,Q.closingBracketRange];return null}else{let Q=eT($);return this._matchBracket(this.textModel.validatePosition(J),Q)}}_establishBracketSearchOffsets(J,$,Q,X){let Y=$.getCount(),Z=$.getLanguageId(X),G=Math.max(0,J.column-1-Q.maxBracketLength);for(let U=X-1;U>=0;U--){let z=$.getEndOffset(U);if(z<=G)break;if(N4($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){G=z;break}}let q=Math.min($.getLineContent().length,J.column-1+Q.maxBracketLength);for(let U=X+1;U<Y;U++){let z=$.getStartOffset(U);if(z>=q)break;if(N4($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){q=z;break}}return{searchStartOffset:G,searchEndOffset:q}}_matchBracket(J,$){let Q=J.lineNumber,X=this.textModel.tokenization.getLineTokens(Q),Y=this.textModel.getLineContent(Q),Z=X.findTokenIndexAtOffset(J.column-1);if(Z<0)return null;let G=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId(Z)).brackets;if(G&&!N4(X.getStandardTokenType(Z))){let{searchStartOffset:q,searchEndOffset:U}=this._establishBracketSearchOffsets(J,X,G,Z),z=null;while(!0){let H=C7.findNextBracketInRange(G.forwardRegex,Q,Y,q,U);if(!H)break;if(H.startColumn<=J.column&&J.column<=H.endColumn){let j=Y.substring(H.startColumn-1,H.endColumn-1).toLowerCase(),V=this._matchFoundBracket(H,G.textIsBracket[j],G.textIsOpenBracket[j],$);if(V){if(V instanceof S$)return null;z=V}}q=H.endColumn-1}if(z)return z}if(Z>0&&X.getStartOffset(Z)===J.column-1){let q=Z-1,U=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId(q)).brackets;if(U&&!N4(X.getStandardTokenType(q))){let{searchStartOffset:z,searchEndOffset:H}=this._establishBracketSearchOffsets(J,X,U,q),j=C7.findPrevBracketInRange(U.reversedRegex,Q,Y,z,H);if(j&&j.startColumn<=J.column&&J.column<=j.endColumn){let V=Y.substring(j.startColumn-1,j.endColumn-1).toLowerCase(),W=this._matchFoundBracket(j,U.textIsBracket[V],U.textIsOpenBracket[V],$);if(W){if(W instanceof S$)return null;return W}}}}return null}_matchFoundBracket(J,$,Q,X){if(!$)return null;let Y=Q?this._findMatchingBracketDown($,J.getEndPosition(),X):this._findMatchingBracketUp($,J.getStartPosition(),X);if(!Y)return null;if(Y instanceof S$)return Y;return[J,Y]}_findMatchingBracketUp(J,$,Q){let{languageId:X,reversedRegex:Y}=J,Z=-1,G=0,q=(U,z,H,j)=>{while(!0){if(Q&&++G%100===0&&!Q())return S$.INSTANCE;let V=C7.findPrevBracketInRange(Y,U,z,H,j);if(!V)break;let W=z.substring(V.startColumn-1,V.endColumn-1).toLowerCase();if(J.isOpen(W))Z++;else if(J.isClose(W))Z--;if(Z===0)return V;j=V.startColumn-1}return null};for(let U=$.lineNumber;U>=1;U--){let z=this.textModel.tokenization.getLineTokens(U),H=z.getCount(),j=this.textModel.getLineContent(U),V=H-1,W=j.length,B=j.length;if(U===$.lineNumber)V=z.findTokenIndexAtOffset($.column-1),W=$.column-1,B=$.column-1;let K=!0;for(;V>=0;V--){let P=z.getLanguageId(V)===X&&!N4(z.getStandardTokenType(V));if(P)if(K)W=z.getStartOffset(V);else W=z.getStartOffset(V),B=z.getEndOffset(V);else if(K&&W!==B){let A=q(U,j,W,B);if(A)return A}K=P}if(K&&W!==B){let P=q(U,j,W,B);if(P)return P}}return null}_findMatchingBracketDown(J,$,Q){let{languageId:X,forwardRegex:Y}=J,Z=1,G=0,q=(z,H,j,V)=>{while(!0){if(Q&&++G%100===0&&!Q())return S$.INSTANCE;let W=C7.findNextBracketInRange(Y,z,H,j,V);if(!W)break;let B=H.substring(W.startColumn-1,W.endColumn-1).toLowerCase();if(J.isOpen(B))Z++;else if(J.isClose(B))Z--;if(Z===0)return W;j=W.endColumn-1}return null},U=this.textModel.getLineCount();for(let z=$.lineNumber;z<=U;z++){let H=this.textModel.tokenization.getLineTokens(z),j=H.getCount(),V=this.textModel.getLineContent(z),W=0,B=0,K=0;if(z===$.lineNumber)W=H.findTokenIndexAtOffset($.column-1),B=$.column-1,K=$.column-1;let P=!0;for(;W<j;W++){let A=H.getLanguageId(W)===X&&!N4(H.getStandardTokenType(W));if(A)if(P)K=H.getEndOffset(W);else B=H.getStartOffset(W),K=H.getEndOffset(W);else if(P&&B!==K){let D=q(z,V,B,K);if(D)return D}P=A}if(P&&B!==K){let A=q(z,V,B,K);if(A)return A}}return null}findPrevBracket(J){var $;let Q=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketBefore(Q))||null;let X=null,Y=null,Z=null;for(let G=Q.lineNumber;G>=1;G--){let q=this.textModel.tokenization.getLineTokens(G),U=q.getCount(),z=this.textModel.getLineContent(G),H=U-1,j=z.length,V=z.length;if(G===Q.lineNumber){H=q.findTokenIndexAtOffset(Q.column-1),j=Q.column-1,V=Q.column-1;let B=q.getLanguageId(H);if(X!==B)X=B,Y=this.languageConfigurationService.getLanguageConfiguration(X).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(X).bracketsNew}let W=!0;for(;H>=0;H--){let B=q.getLanguageId(H);if(X!==B){if(Y&&Z&&W&&j!==V){let P=C7.findPrevBracketInRange(Y.reversedRegex,G,z,j,V);if(P)return this._toFoundBracket(Z,P);W=!1}X=B,Y=this.languageConfigurationService.getLanguageConfiguration(X).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(X).bracketsNew}let K=!!Y&&!N4(q.getStandardTokenType(H));if(K)if(W)j=q.getStartOffset(H);else j=q.getStartOffset(H),V=q.getEndOffset(H);else if(Z&&Y&&W&&j!==V){let P=C7.findPrevBracketInRange(Y.reversedRegex,G,z,j,V);if(P)return this._toFoundBracket(Z,P)}W=K}if(Z&&Y&&W&&j!==V){let B=C7.findPrevBracketInRange(Y.reversedRegex,G,z,j,V);if(B)return this._toFoundBracket(Z,B)}}return null}findNextBracket(J){var $;let Q=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketAfter(Q))||null;let X=this.textModel.getLineCount(),Y=null,Z=null,G=null;for(let q=Q.lineNumber;q<=X;q++){let U=this.textModel.tokenization.getLineTokens(q),z=U.getCount(),H=this.textModel.getLineContent(q),j=0,V=0,W=0;if(q===Q.lineNumber){j=U.findTokenIndexAtOffset(Q.column-1),V=Q.column-1,W=Q.column-1;let K=U.getLanguageId(j);if(Y!==K)Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let B=!0;for(;j<z;j++){let K=U.getLanguageId(j);if(Y!==K){if(G&&Z&&B&&V!==W){let A=C7.findNextBracketInRange(Z.forwardRegex,q,H,V,W);if(A)return this._toFoundBracket(G,A);B=!1}Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let P=!!Z&&!N4(U.getStandardTokenType(j));if(P)if(B)W=U.getEndOffset(j);else V=U.getStartOffset(j),W=U.getEndOffset(j);else if(G&&Z&&B&&V!==W){let A=C7.findNextBracketInRange(Z.forwardRegex,q,H,V,W);if(A)return this._toFoundBracket(G,A)}B=P}if(G&&Z&&B&&V!==W){let K=C7.findNextBracketInRange(Z.forwardRegex,q,H,V,W);if(K)return this._toFoundBracket(G,K)}}return null}findEnclosingBrackets(J,$){let Q=this.textModel.validatePosition(J);if(this.canBuildAST){let V=L.fromPositions(Q),W=this.getBracketPairsInRange(L.fromPositions(Q,Q)).findLast((B)=>B.closingBracketRange!==void 0&&B.range.strictContainsRange(V));if(W)return[W.openingBracketRange,W.closingBracketRange];return null}let X=eT($),Y=this.textModel.getLineCount(),Z=new Map,G=[],q=(V,W)=>{if(!Z.has(V)){let B=[];for(let K=0,P=W?W.brackets.length:0;K<P;K++)B[K]=0;Z.set(V,B)}G=Z.get(V)},U=0,z=(V,W,B,K,P)=>{while(!0){if(X&&++U%100===0&&!X())return S$.INSTANCE;let A=C7.findNextBracketInRange(V.forwardRegex,W,B,K,P);if(!A)break;let D=B.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),R=V.textIsBracket[D];if(R){if(R.isOpen(D))G[R.index]++;else if(R.isClose(D))G[R.index]--;if(G[R.index]===-1)return this._matchFoundBracket(A,R,!1,X)}K=A.endColumn-1}return null},H=null,j=null;for(let V=Q.lineNumber;V<=Y;V++){let W=this.textModel.tokenization.getLineTokens(V),B=W.getCount(),K=this.textModel.getLineContent(V),P=0,A=0,D=0;if(V===Q.lineNumber){P=W.findTokenIndexAtOffset(Q.column-1),A=Q.column-1,D=Q.column-1;let M=W.getLanguageId(P);if(H!==M)H=M,j=this.languageConfigurationService.getLanguageConfiguration(H).brackets,q(H,j)}let R=!0;for(;P<B;P++){let M=W.getLanguageId(P);if(H!==M){if(j&&R&&A!==D){let T=z(j,V,K,A,D);if(T)return VA(T);R=!1}H=M,j=this.languageConfigurationService.getLanguageConfiguration(H).brackets,q(H,j)}let _=!!j&&!N4(W.getStandardTokenType(P));if(_)if(R)D=W.getEndOffset(P);else A=W.getStartOffset(P),D=W.getEndOffset(P);else if(j&&R&&A!==D){let T=z(j,V,K,A,D);if(T)return VA(T)}R=_}if(j&&R&&A!==D){let M=z(j,V,K,A,D);if(M)return VA(M)}}return null}_toFoundBracket(J,$){if(!$)return null;let Q=this.textModel.getValueInRange($);Q=Q.toLowerCase();let X=J.getBracketInfo(Q);if(!X)return null;return{range:$,bracketInfo:X}}};S$.INSTANCE=new S$});class Qw{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(J,$){if(J.isInvalid)return this.unexpectedClosingBracketClassName;return this.getInlineClassNameOfLevel($?J.nestingLevelOfEqualBracketType:J.nestingLevel)}getInlineClassNameOfLevel(J){return`bracket-highlighting-${J%30}`}}var $w;var wu=N(()=>{F0();Q0();l0();TJ();s6();$w=class $w extends h{constructor(J){super();this.textModel=J,this.colorProvider=new Qw,this.onDidChangeEmitter=new y,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=J.getOptions().bracketPairColorizationOptions,this._register(J.bracketPairs.onDidChange(($)=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(J){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(J,$,Q,X){if(X)return[];if($===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(J,!0).map((Z)=>({id:`bracket${Z.range.toString()}-${Z.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Z,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Z.range})).toArray()}getAllDecorations(J,$){if(J===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.getDecorationsInRange(new L(1,1,this.textModel.getLineCount(),1),J,$)}};m8((J,$)=>{let Q=[SK,CK,vK,hK,fK,gK],X=new Qw;$.addRule(`.monaco-editor .${X.unexpectedClosingBracketClassName} { color: ${J.getColor(Dp)}; }`);let Y=Q.map((Z)=>J.getColor(Z)).filter((Z)=>!!Z).filter((Z)=>!Z.isTransparent());for(let Z=0;Z<30;Z++){let G=Y[Z%Y.length];$.addRule(`.monaco-editor .${X.getInlineClassNameOfLevel(Z)} { color: ${G}; }`)}})});function WA(J){return J.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class x5{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(J,$,Q,X){this.oldPosition=J,this.oldText=$,this.newPosition=Q,this.newText=X}toString(){if(this.oldText.length===0)return`(insert@${this.oldPosition} "${WA(this.newText)}")`;if(this.newText.length===0)return`(delete@${this.oldPosition} "${WA(this.oldText)}")`;return`(replace@${this.oldPosition} "${WA(this.oldText)}" with "${WA(this.newText)}")`}static _writeStringSize(J){return 4+2*J.length}static _writeString(J,$,Q){let X=$.length;C9(J,X,Q),Q+=4;for(let Y=0;Y<X;Y++)vC(J,$.charCodeAt(Y),Q),Q+=2;return Q}static _readString(J,$){let Q=S9(J,$);return $+=4,fC(J,$,Q)}writeSize(){return 8+x5._writeStringSize(this.oldText)+x5._writeStringSize(this.newText)}write(J,$){return C9(J,this.oldPosition,$),$+=4,C9(J,this.newPosition,$),$+=4,$=x5._writeString(J,this.oldText,$),$=x5._writeString(J,this.newText,$),$}static read(J,$,Q){let X=S9(J,$);$+=4;let Y=S9(J,$);$+=4;let Z=x5._readString(J,$);$+=x5._writeStringSize(Z);let G=x5._readString(J,$);return $+=x5._writeStringSize(G),Q.push(new x5(X,Z,Y,G)),$}}function Lu(J,$){if(J===null||J.length===0)return $;return new C$(J,$).compress()}class C${constructor(J,$){this._prevEdits=J,this._currEdits=$,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let J=0,$=0,Q=this._getPrev(J),X=this._getCurr($);while(J<this._prevLen||$<this._currLen){if(Q===null){this._acceptCurr(X),X=this._getCurr(++$);continue}if(X===null){this._acceptPrev(Q),Q=this._getPrev(++J);continue}if(X.oldEnd<=Q.newPosition){this._acceptCurr(X),X=this._getCurr(++$);continue}if(Q.newEnd<=X.oldPosition){this._acceptPrev(Q),Q=this._getPrev(++J);continue}if(X.oldPosition<Q.newPosition){let[U,z]=C$._splitCurr(X,Q.newPosition-X.oldPosition);this._acceptCurr(U),X=z;continue}if(Q.newPosition<X.oldPosition){let[U,z]=C$._splitPrev(Q,X.oldPosition-Q.newPosition);this._acceptPrev(U),Q=z;continue}let G,q;if(X.oldEnd===Q.newEnd)G=Q,q=X,Q=this._getPrev(++J),X=this._getCurr(++$);else if(X.oldEnd<Q.newEnd){let[U,z]=C$._splitPrev(Q,X.oldLength);G=U,q=X,Q=z,X=this._getCurr(++$)}else{let[U,z]=C$._splitCurr(X,Q.newLength);G=Q,q=U,Q=this._getPrev(++J),X=z}this._result[this._resultLen++]=new x5(G.oldPosition,G.oldText,q.newPosition,q.newText),this._prevDeltaOffset+=G.newLength-G.oldLength,this._currDeltaOffset+=q.newLength-q.oldLength}let Y=C$._merge(this._result);return C$._removeNoOps(Y)}_acceptCurr(J){this._result[this._resultLen++]=C$._rebaseCurr(this._prevDeltaOffset,J),this._currDeltaOffset+=J.newLength-J.oldLength}_getCurr(J){return J<this._currLen?this._currEdits[J]:null}_acceptPrev(J){this._result[this._resultLen++]=C$._rebasePrev(this._currDeltaOffset,J),this._prevDeltaOffset+=J.newLength-J.oldLength}_getPrev(J){return J<this._prevLen?this._prevEdits[J]:null}static _rebaseCurr(J,$){return new x5($.oldPosition-J,$.oldText,$.newPosition,$.newText)}static _rebasePrev(J,$){return new x5($.oldPosition,$.oldText,$.newPosition+J,$.newText)}static _splitPrev(J,$){let Q=J.newText.substr(0,$),X=J.newText.substr($);return[new x5(J.oldPosition,J.oldText,J.newPosition,Q),new x5(J.oldEnd,"",J.newPosition+$,X)]}static _splitCurr(J,$){let Q=J.oldText.substr(0,$),X=J.oldText.substr($);return[new x5(J.oldPosition,Q,J.newPosition,J.newText),new x5(J.oldPosition+$,X,J.newEnd,"")]}static _merge(J){if(J.length===0)return J;let $=[],Q=0,X=J[0];for(let Y=1;Y<J.length;Y++){let Z=J[Y];if(X.oldEnd===Z.oldPosition)X=new x5(X.oldPosition,X.oldText+Z.oldText,X.newPosition,X.newText+Z.newText);else $[Q++]=X,X=Z}return $[Q++]=X,$}static _removeNoOps(J){if(J.length===0)return J;let $=[],Q=0;for(let X=0;X<J.length;X++){let Y=J[X];if(Y.oldText===Y.newText)continue;$[Q++]=Y}return $}}var Xw=N(()=>{xz();eZ()});function wY(J){return J===47||J===92}function Yw(J){return J.replace(/[\\/]/g,R6.sep)}function ku(J){if(J.indexOf("/")===-1)J=Yw(J);if(/^[a-zA-Z]:(\/|$)/.test(J))J="/"+J;return J}function Zw(J,$=R6.sep){if(!J)return"";let Q=J.length,X=J.charCodeAt(0);if(wY(X)){if(wY(J.charCodeAt(1))){if(!wY(J.charCodeAt(2))){let Z=3,G=Z;for(;Z<Q;Z++)if(wY(J.charCodeAt(Z)))break;if(G!==Z&&!wY(J.charCodeAt(Z+1))){Z+=1;for(;Z<Q;Z++)if(wY(J.charCodeAt(Z)))return J.slice(0,Z+1).replace(/[\\/]/g,$)}}}return $}else if(Eu(X)){if(J.charCodeAt(1)===58)if(wY(J.charCodeAt(2)))return J.slice(0,2)+$;else return J.slice(0,2)}let Y=J.indexOf("://");if(Y!==-1){Y+=3;for(;Y<Q;Y++)if(wY(J.charCodeAt(Y)))return J.slice(0,Y+1)}return""}function gH(J,$,Q,X=JJ){if(J===$)return!0;if(!J||!$)return!1;if($.length>J.length)return!1;if(Q){if(!cG(J,$))return!1;if($.length===J.length)return!0;let Z=$.length;if($.charAt($.length-1)===X)Z--;return J.charAt(Z)===X}if($.charAt($.length-1)!==X)$+=X;return J.indexOf($)===0}function Eu(J){return J>=65&&J<=90||J>=97&&J<=122}function Iu(J,$=L6){if($)return Eu(J.charCodeAt(0))&&J.charCodeAt(1)===58;return!1}var BA=N(()=>{BQ();M1();t0()});function ZX(J){return tU(J,!0)}class FA{constructor(J){this._ignorePathCasing=J}compare(J,$,Q=!1){if(J===$)return 0;return eU(this.getComparisonKey(J,Q),this.getComparisonKey($,Q))}isEqual(J,$,Q=!1){if(J===$)return!0;if(!J||!$)return!1;return this.getComparisonKey(J,Q)===this.getComparisonKey($,Q)}getComparisonKey(J,$=!1){return J.with({path:this._ignorePathCasing(J)?J.path.toLowerCase():void 0,fragment:$?null:void 0}).toString()}isEqualOrParent(J,$,Q=!1){if(J.scheme===$.scheme){if(J.scheme===$1.file)return gH(ZX(J),ZX($),this._ignorePathCasing(J))&&J.query===$.query&&(Q||J.fragment===$.fragment);if(yu(J.authority,$.authority))return gH(J.path,$.path,this._ignorePathCasing(J),"/")&&J.query===$.query&&(Q||J.fragment===$.fragment)}return!1}joinPath(J,...$){return I0.joinPath(J,...$)}basenameOrAuthority(J){return v2(J)||J.authority}basename(J){return R6.basename(J.path)}extname(J){return R6.extname(J.path)}dirname(J){if(J.path.length===0)return J;let $;if(J.scheme===$1.file)$=I0.file(fW(ZX(J))).path;else if($=R6.dirname(J.path),J.authority&&$.length&&$.charCodeAt(0)!==47)console.error(`dirname("${J.toString})) resulted in a relative path`),$="/";return J.with({path:$})}normalizePath(J){if(!J.path.length)return J;let $;if(J.scheme===$1.file)$=I0.file(hW(ZX(J))).path;else $=R6.normalize(J.path);return J.with({path:$})}relativePath(J,$){if(J.scheme!==$.scheme||!yu(J.authority,$.authority))return;if(J.scheme===$1.file){let Y=rb(ZX(J),ZX($));return L6?Yw(Y):Y}let Q=J.path||"/",X=$.path||"/";if(this._ignorePathCasing(J)){let Y=0;for(let Z=Math.min(Q.length,X.length);Y<Z;Y++)if(Q.charCodeAt(Y)!==X.charCodeAt(Y)){if(Q.charAt(Y).toLowerCase()!==X.charAt(Y).toLowerCase())break}Q=X.substr(0,Y)+Q.substr(Y)}return R6.relative(Q,X)}resolvePath(J,$){if(J.scheme===$1.file){let Q=I0.file(ab(ZX(J),$));return J.with({authority:Q.authority,path:Q.path})}return $=ku($),J.with({path:R6.resolve(J.path,$)})}isAbsolutePath(J){return!!J.path&&J.path[0]==="/"}isEqualAuthority(J,$){return J===$||J!==void 0&&$!==void 0&&AQ(J,$)}hasTrailingPathSeparator(J,$=JJ){if(J.scheme===$1.file){let Q=ZX(J);return Q.length>Zw(Q).length&&Q[Q.length-1]===$}else{let Q=J.path;return Q.length>1&&Q.charCodeAt(Q.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(J.fsPath)}}removeTrailingPathSeparator(J,$=JJ){if(xu(J,$))return J.with({path:J.path.substr(0,J.path.length-1)});return J}addTrailingPathSeparator(J,$=JJ){let Q=!1;if(J.scheme===$1.file){let X=ZX(J);Q=X!==void 0&&X.length===Zw(X).length&&X[X.length-1]===$}else{$="/";let X=J.path;Q=X.length===1&&X.charCodeAt(X.length-1)===47}if(!Q&&!xu(J,$))return J.with({path:J.path+"/"});return J}}var j6,ET0,IT0,bu,yT0,xT0,bT0,v2,Su,KA,ST0,Cu,CT0,Gw,vT0,yu,xu,hT0,fT0,B9;var v$=N(()=>{BA();U9();BQ();M1();t0();o6();j6=new FA(()=>!1),ET0=new FA((J)=>{return J.scheme===$1.file?!V6:!0}),IT0=new FA((J)=>!0),bu=j6.isEqual.bind(j6),yT0=j6.isEqualOrParent.bind(j6),xT0=j6.getComparisonKey.bind(j6),bT0=j6.basenameOrAuthority.bind(j6),v2=j6.basename.bind(j6),Su=j6.extname.bind(j6),KA=j6.dirname.bind(j6),ST0=j6.joinPath.bind(j6),Cu=j6.normalizePath.bind(j6),CT0=j6.relativePath.bind(j6),Gw=j6.resolvePath.bind(j6),vT0=j6.isAbsolutePath.bind(j6),yu=j6.isEqualAuthority.bind(j6),xu=j6.hasTrailingPathSeparator.bind(j6),hT0=j6.removeTrailingPathSeparator.bind(j6),fT0=j6.addTrailingPathSeparator.bind(j6);(function(J){J.META_DATA_LABEL="label",J.META_DATA_DESCRIPTION="description",J.META_DATA_SIZE="size",J.META_DATA_MIME="mime";function $(Q){let X=new Map;Q.path.substring(Q.path.indexOf(";")+1,Q.path.lastIndexOf(";")).split(";").forEach((G)=>{let[q,U]=G.split(":");if(q&&U)X.set(q,U)});let Z=Q.path.substring(0,Q.path.indexOf(";"));if(Z)X.set(J.META_DATA_MIME,Z);return X}J.parseMetaData=$})(B9||(B9={}))});function j3(J){return J.toString()}class b5{static create(J,$){let Q=J.getAlternativeVersionId(),X=qw(J);return new b5(Q,Q,X,X,$,$,[])}constructor(J,$,Q,X,Y,Z,G){this.beforeVersionId=J,this.afterVersionId=$,this.beforeEOL=Q,this.afterEOL=X,this.beforeCursorState=Y,this.afterCursorState=Z,this.changes=G}append(J,$,Q,X,Y){if($.length>0)this.changes=Lu(this.changes,$);this.afterEOL=Q,this.afterVersionId=X,this.afterCursorState=Y}static _writeSelectionsSize(J){return 4+16*(J?J.length:0)}static _writeSelections(J,$,Q){if(C9(J,$?$.length:0,Q),Q+=4,$)for(let X of $)C9(J,X.selectionStartLineNumber,Q),Q+=4,C9(J,X.selectionStartColumn,Q),Q+=4,C9(J,X.positionLineNumber,Q),Q+=4,C9(J,X.positionColumn,Q),Q+=4;return Q}static _readSelections(J,$,Q){let X=S9(J,$);$+=4;for(let Y=0;Y<X;Y++){let Z=S9(J,$);$+=4;let G=S9(J,$);$+=4;let q=S9(J,$);$+=4;let U=S9(J,$);$+=4,Q.push(new v0(Z,G,q,U))}return $}serialize(){let J=10+b5._writeSelectionsSize(this.beforeCursorState)+b5._writeSelectionsSize(this.afterCursorState)+4;for(let X of this.changes)J+=X.writeSize();let $=new Uint8Array(J),Q=0;C9($,this.beforeVersionId,Q),Q+=4,C9($,this.afterVersionId,Q),Q+=4,M_($,this.beforeEOL,Q),Q+=1,M_($,this.afterEOL,Q),Q+=1,Q=b5._writeSelections($,this.beforeCursorState,Q),Q=b5._writeSelections($,this.afterCursorState,Q),C9($,this.changes.length,Q),Q+=4;for(let X of this.changes)Q=X.write($,Q);return $.buffer}static deserialize(J){let $=new Uint8Array(J),Q=0,X=S9($,Q);Q+=4;let Y=S9($,Q);Q+=4;let Z=R_($,Q);Q+=1;let G=R_($,Q);Q+=1;let q=[];Q=b5._readSelections($,Q,q);let U=[];Q=b5._readSelections($,Q,U);let z=S9($,Q);Q+=4;let H=[];for(let j=0;j<z;j++)Q=x5.read($,Q,H);return new b5(X,Y,Z,G,q,U,H)}}class Uw{get type(){return 0}get resource(){if(I0.isUri(this.model))return this.model;return this.model.uri}constructor(J,$,Q,X){this.label=J,this.code=$,this.model=Q,this._data=b5.create(Q,X)}toString(){return(this._data instanceof b5?this._data:b5.deserialize(this._data)).changes.map(($)=>$.toString()).join(", ")}matchesResource(J){return(I0.isUri(this.model)?this.model:this.model.uri).toString()===J.toString()}setModel(J){this.model=J}canAppend(J){return this.model===J&&this._data instanceof b5}append(J,$,Q,X,Y){if(this._data instanceof b5)this._data.append(J,$,Q,X,Y)}close(){if(this._data instanceof b5)this._data=this._data.serialize()}open(){if(!(this._data instanceof b5))this._data=b5.deserialize(this._data)}undo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof b5)this._data=this._data.serialize();let J=b5.deserialize(this._data);this.model._applyUndo(J.changes,J.beforeEOL,J.beforeVersionId,J.beforeCursorState)}redo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof b5)this._data=this._data.serialize();let J=b5.deserialize(this._data);this.model._applyRedo(J.changes,J.afterEOL,J.afterVersionId,J.afterCursorState)}heapSize(){if(this._data instanceof b5)this._data=this._data.serialize();return this._data.byteLength+168}}class vu{get resources(){return this._editStackElementsArr.map((J)=>J.resource)}constructor(J,$,Q){this.label=J,this.code=$,this.type=1,this._isOpen=!0,this._editStackElementsArr=Q.slice(0),this._editStackElementsMap=new Map;for(let X of this._editStackElementsArr){let Y=j3(X.resource);this._editStackElementsMap.set(Y,X)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(J){let $=j3(J);return this._editStackElementsMap.has($)}setModel(J){let $=j3(I0.isUri(J)?J:J.uri);if(this._editStackElementsMap.has($))this._editStackElementsMap.get($).setModel(J)}canAppend(J){if(!this._isOpen)return!1;let $=j3(J.uri);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).canAppend(J);return!1}append(J,$,Q,X,Y){let Z=j3(J.uri);this._editStackElementsMap.get(Z).append(J,$,Q,X,Y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let J of this._editStackElementsArr)J.undo()}redo(){for(let J of this._editStackElementsArr)J.redo()}heapSize(J){let $=j3(J);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).heapSize();return 0}split(){return this._editStackElementsArr}toString(){let J=[];for(let $ of this._editStackElementsArr)J.push(`${v2($.resource)}: ${$}`);return`{${J.join(", ")}}`}}function qw(J){if(J.getEOL()===`
`)return 0;else return 1}function h$(J){if(!J)return!1;return J instanceof Uw||J instanceof vu}class AA{constructor(J,$){this._model=J,this._undoRedoService=$}pushStackElement(){let J=this._undoRedoService.getLastElement(this._model.uri);if(h$(J))J.close()}popStackElement(){let J=this._undoRedoService.getLastElement(this._model.uri);if(h$(J))J.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(J,$){let Q=this._undoRedoService.getLastElement(this._model.uri);if(h$(Q)&&Q.canAppend(this._model))return Q;let X=new Uw(F("edit","Typing"),"undoredo.textBufferEdit",this._model,J);return this._undoRedoService.pushElement(X,$),X}pushEOL(J){let $=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(J),$.append(this._model,[],qw(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(J,$,Q,X){let Y=this._getOrCreateEditStackElement(J,X),Z=this._model.applyEdits($,!0),G=AA._computeCursorState(Q,Z),q=Z.map((U,z)=>({index:z,textChange:U.textChange}));return q.sort((U,z)=>{if(U.textChange.oldPosition===z.textChange.oldPosition)return U.index-z.index;return U.textChange.oldPosition-z.textChange.oldPosition}),Y.append(this._model,q.map((U)=>U.textChange),qw(this._model),this._model.getAlternativeVersionId(),G),G}static _computeCursorState(J,$){try{return J?J($):null}catch(Q){return o0(Q),null}}}var zw=N(()=>{g0();P1();E5();o6();Xw();xz();v$()});class hu{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function I80(J,$,Q,X,Y){Y.spacesDiff=0,Y.looksLikeAlignment=!1;let Z;for(Z=0;Z<$&&Z<X;Z++){let V=J.charCodeAt(Z),W=Q.charCodeAt(Z);if(V!==W)break}let G=0,q=0;for(let V=Z;V<$;V++)if(J.charCodeAt(V)===32)G++;else q++;let U=0,z=0;for(let V=Z;V<X;V++)if(Q.charCodeAt(V)===32)U++;else z++;if(G>0&&q>0)return;if(U>0&&z>0)return;let H=Math.abs(q-z),j=Math.abs(G-U);if(H===0){if(Y.spacesDiff=j,j>0&&0<=U-1&&U-1<J.length&&U<Q.length){if(Q.charCodeAt(U)!==32&&J.charCodeAt(U-1)===32){if(J.charCodeAt(J.length-1)===44)Y.looksLikeAlignment=!0}}return}if(j%H===0){Y.spacesDiff=j/H;return}}function Hw(J,$,Q){let X=Math.min(J.getLineCount(),1e4),Y=0,Z=0,G="",q=0,U=[2,4,6,8,3,5,7],z=8,H=[0,0,0,0,0,0,0,0,0],j=new hu;for(let B=1;B<=X;B++){let K=J.getLineLength(B),P=J.getLineContent(B),A=K<=65536,D=!1,R=0,M=0,_=0;for(let w=0,b=K;w<b;w++){let S=A?P.charCodeAt(w):J.getLineCharCode(B,w);if(S===9)_++;else if(S===32)M++;else{D=!0,R=w;break}}if(!D)continue;if(_>0)Y++;else if(M>1)Z++;if(I80(G,q,P,R,j),j.looksLikeAlignment){if(!(Q&&$===j.spacesDiff))continue}let T=j.spacesDiff;if(T<=z)H[T]++;G=P,q=R}let V=Q;if(Y!==Z)V=Y<Z;let W=$;if(V){let B=V?0:0.1*X;if(U.forEach((K)=>{let P=H[K];if(P>B)B=P,W=K}),W===4&&H[4]>0&&H[2]>0&&H[2]>=H[4]/2)W=2}return{insertSpaces:V,tabSize:W}}function A7(J){return(J.metadata&1)>>>0}function Y6(J,$){J.metadata=J.metadata&254|$<<0}function U8(J){return(J.metadata&2)>>>1===1}function J6(J,$){J.metadata=J.metadata&253|($?1:0)<<1}function lu(J){return(J.metadata&4)>>>2===1}function fu(J,$){J.metadata=J.metadata&251|($?1:0)<<2}function du(J){return(J.metadata&64)>>>6===1}function gu(J,$){J.metadata=J.metadata&191|($?1:0)<<6}function y80(J){return(J.metadata&24)>>>3}function pu(J,$){J.metadata=J.metadata&231|$<<3}function x80(J){return(J.metadata&32)>>>5===1}function mu(J,$){J.metadata=J.metadata&223|($?1:0)<<5}class PA{constructor(J,$,Q){this.metadata=0,this.parent=this,this.left=this,this.right=this,Y6(this,1),this.start=$,this.end=Q,this.delta=0,this.maxEnd=Q,this.id=J,this.ownerId=0,this.options=null,fu(this,!1),gu(this,!1),pu(this,1),mu(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=Q,this.range=null,J6(this,!1)}reset(J,$,Q,X){this.start=$,this.end=Q,this.maxEnd=Q,this.cachedVersionId=J,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=Q,this.range=X}setOptions(J){this.options=J;let $=this.options.className;fu(this,$==="squiggly-error"||$==="squiggly-warning"||$==="squiggly-info"),gu(this,this.options.glyphMarginClassName!==null),pu(this,this.options.stickiness),mu(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(J,$,Q){if(this.cachedVersionId!==Q)this.range=null;this.cachedVersionId=Q,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=$}detach(){this.parent=null,this.left=null,this.right=null}}class uH{constructor(){this.root=j1,this.requestNormalizeDelta=!1}intervalSearch(J,$,Q,X,Y,Z){if(this.root===j1)return[];return p80(this,J,$,Q,X,Y,Z)}search(J,$,Q,X){if(this.root===j1)return[];return g80(this,J,$,Q,X)}collectNodesFromOwner(J){return h80(this,J)}collectNodesPostOrder(){return f80(this)}insert(J){uu(this,J),this._normalizeDeltaIfNecessary()}delete(J){cu(this,J),this._normalizeDeltaIfNecessary()}resolveNode(J,$){let Q=J,X=0;while(J!==this.root){if(J===J.parent.right)X+=J.parent.delta;J=J.parent}let Y=Q.start+X,Z=Q.end+X;Q.setCachedOffsets(Y,Z,$)}acceptReplace(J,$,Q,X){let Y=C80(this,J,J+$);for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z];cu(this,q)}this._normalizeDeltaIfNecessary(),v80(this,J,J+$,Q),this._normalizeDeltaIfNecessary();for(let Z=0,G=Y.length;Z<G;Z++){let q=Y[Z];q.start=q.cachedAbsoluteStart,q.end=q.cachedAbsoluteEnd,S80(q,J,J+$,Q,X),q.maxEnd=q.end,uu(this,q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){if(!this.requestNormalizeDelta)return;this.requestNormalizeDelta=!1,b80(this)}}function b80(J){let $=J.root,Q=0;while($!==j1){if($.left!==j1&&!U8($.left)){$=$.left;continue}if($.right!==j1&&!U8($.right)){Q+=$.delta,$=$.right;continue}if($.start=Q+$.start,$.end=Q+$.end,$.delta=0,GX($),J6($,!0),J6($.left,!1),J6($.right,!1),$===$.parent.right)Q-=$.parent.delta;$=$.parent}J6(J.root,!1)}function V3(J,$,Q,X){if(J<Q)return!0;if(J>Q)return!1;if(X===1)return!1;if(X===2)return!0;return $}function S80(J,$,Q,X,Y){let Z=y80(J),G=Z===0||Z===2,q=Z===1||Z===2,U=Q-$,z=X,H=Math.min(U,z),j=J.start,V=!1,W=J.end,B=!1;if($<=j&&W<=Q&&x80(J))J.start=$,V=!0,J.end=$,B=!0;{let P=Y?1:U>0?2:0;if(!V&&V3(j,G,$,P))V=!0;if(!B&&V3(W,q,$,P))B=!0}if(H>0&&!Y){let P=U>z?2:0;if(!V&&V3(j,G,$+H,P))V=!0;if(!B&&V3(W,q,$+H,P))B=!0}{let P=Y?1:0;if(!V&&V3(j,G,Q,P))J.start=$+z,V=!0;if(!B&&V3(W,q,Q,P))J.end=$+z,B=!0}let K=z-U;if(!V)J.start=Math.max(0,j+K);if(!B)J.end=Math.max(0,W+K);if(J.start>J.end)J.end=J.start}function C80(J,$,Q){let X=J.root,Y=0,Z=0,G=0,q=0,U=[],z=0;while(X!==j1){if(U8(X)){if(J6(X.left,!1),J6(X.right,!1),X===X.parent.right)Y-=X.parent.delta;X=X.parent;continue}if(!U8(X.left)){if(Z=Y+X.maxEnd,Z<$){J6(X,!0);continue}if(X.left!==j1){X=X.left;continue}}if(G=Y+X.start,G>Q){J6(X,!0);continue}if(q=Y+X.end,q>=$)X.setCachedOffsets(G,q,0),U[z++]=X;if(J6(X,!0),X.right!==j1&&!U8(X.right)){Y+=X.delta,X=X.right;continue}}return J6(J.root,!1),U}function v80(J,$,Q,X){let Y=J.root,Z=0,G=0,q=0,U=X-(Q-$);while(Y!==j1){if(U8(Y)){if(J6(Y.left,!1),J6(Y.right,!1),Y===Y.parent.right)Z-=Y.parent.delta;GX(Y),Y=Y.parent;continue}if(!U8(Y.left)){if(G=Z+Y.maxEnd,G<$){J6(Y,!0);continue}if(Y.left!==j1){Y=Y.left;continue}}if(q=Z+Y.start,q>Q){if(Y.start+=U,Y.end+=U,Y.delta+=U,Y.delta<-1073741824||Y.delta>1073741824)J.requestNormalizeDelta=!0;J6(Y,!0);continue}if(J6(Y,!0),Y.right!==j1&&!U8(Y.right)){Z+=Y.delta,Y=Y.right;continue}}J6(J.root,!1)}function h80(J,$){let Q=J.root,X=[],Y=0;while(Q!==j1){if(U8(Q)){J6(Q.left,!1),J6(Q.right,!1),Q=Q.parent;continue}if(Q.left!==j1&&!U8(Q.left)){Q=Q.left;continue}if(Q.ownerId===$)X[Y++]=Q;if(J6(Q,!0),Q.right!==j1&&!U8(Q.right)){Q=Q.right;continue}}return J6(J.root,!1),X}function f80(J){let $=J.root,Q=[],X=0;while($!==j1){if(U8($)){J6($.left,!1),J6($.right,!1),$=$.parent;continue}if($.left!==j1&&!U8($.left)){$=$.left;continue}if($.right!==j1&&!U8($.right)){$=$.right;continue}Q[X++]=$,J6($,!0)}return J6(J.root,!1),Q}function g80(J,$,Q,X,Y){let Z=J.root,G=0,q=0,U=0,z=[],H=0;while(Z!==j1){if(U8(Z)){if(J6(Z.left,!1),J6(Z.right,!1),Z===Z.parent.right)G-=Z.parent.delta;Z=Z.parent;continue}if(Z.left!==j1&&!U8(Z.left)){Z=Z.left;continue}q=G+Z.start,U=G+Z.end,Z.setCachedOffsets(q,U,X);let j=!0;if($&&Z.ownerId&&Z.ownerId!==$)j=!1;if(Q&&lu(Z))j=!1;if(Y&&!du(Z))j=!1;if(j)z[H++]=Z;if(J6(Z,!0),Z.right!==j1&&!U8(Z.right)){G+=Z.delta,Z=Z.right;continue}}return J6(J.root,!1),z}function p80(J,$,Q,X,Y,Z,G){let q=J.root,U=0,z=0,H=0,j=0,V=[],W=0;while(q!==j1){if(U8(q)){if(J6(q.left,!1),J6(q.right,!1),q===q.parent.right)U-=q.parent.delta;q=q.parent;continue}if(!U8(q.left)){if(z=U+q.maxEnd,z<$){J6(q,!0);continue}if(q.left!==j1){q=q.left;continue}}if(H=U+q.start,H>Q){J6(q,!0);continue}if(j=U+q.end,j>=$){q.setCachedOffsets(H,j,Z);let B=!0;if(X&&q.ownerId&&q.ownerId!==X)B=!1;if(Y&&lu(q))B=!1;if(G&&!du(q))B=!1;if(B)V[W++]=q}if(J6(q,!0),q.right!==j1&&!U8(q.right)){U+=q.delta,q=q.right;continue}}return J6(J.root,!1),V}function uu(J,$){if(J.root===j1)return $.parent=j1,$.left=j1,$.right=j1,Y6($,0),J.root=$,J.root;m80(J,$),LY($.parent);let Q=$;while(Q!==J.root&&A7(Q.parent)===1)if(Q.parent===Q.parent.parent.left){let X=Q.parent.parent.right;if(A7(X)===1)Y6(Q.parent,0),Y6(X,0),Y6(Q.parent.parent,1),Q=Q.parent.parent;else{if(Q===Q.parent.right)Q=Q.parent,pH(J,Q);Y6(Q.parent,0),Y6(Q.parent.parent,1),mH(J,Q.parent.parent)}}else{let X=Q.parent.parent.left;if(A7(X)===1)Y6(Q.parent,0),Y6(X,0),Y6(Q.parent.parent,1),Q=Q.parent.parent;else{if(Q===Q.parent.left)Q=Q.parent,mH(J,Q);Y6(Q.parent,0),Y6(Q.parent.parent,1),pH(J,Q.parent.parent)}}return Y6(J.root,0),$}function m80(J,$){let Q=0,X=J.root,Y=$.start,Z=$.end;while(!0)if(c80(Y,Z,X.start+Q,X.end+Q)<0)if(X.left===j1){$.start-=Q,$.end-=Q,$.maxEnd-=Q,X.left=$;break}else X=X.left;else if(X.right===j1){$.start-=Q+X.delta,$.end-=Q+X.delta,$.maxEnd-=Q+X.delta,X.right=$;break}else Q+=X.delta,X=X.right;$.parent=X,$.left=j1,$.right=j1,Y6($,1)}function cu(J,$){let Q,X;if($.left===j1){if(Q=$.right,X=$,Q.delta+=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;Q.start+=$.delta,Q.end+=$.delta}else if($.right===j1)Q=$.left,X=$;else{if(X=u80($.right),Q=X.right,Q.start+=X.delta,Q.end+=X.delta,Q.delta+=X.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;if(X.start+=$.delta,X.end+=$.delta,X.delta=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0}if(X===J.root){J.root=Q,Y6(Q,0),$.detach(),jw(),GX(Q),J.root.parent=j1;return}let Y=A7(X)===1;if(X===X.parent.left)X.parent.left=Q;else X.parent.right=Q;if(X===$)Q.parent=X.parent;else{if(X.parent===$)Q.parent=X;else Q.parent=X.parent;if(X.left=$.left,X.right=$.right,X.parent=$.parent,Y6(X,A7($)),$===J.root)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;if(X.left!==j1)X.left.parent=X;if(X.right!==j1)X.right.parent=X}if($.detach(),Y){if(LY(Q.parent),X!==$)LY(X),LY(X.parent);jw();return}if(LY(Q),LY(Q.parent),X!==$)LY(X),LY(X.parent);let Z;while(Q!==J.root&&A7(Q)===0)if(Q===Q.parent.left){if(Z=Q.parent.right,A7(Z)===1)Y6(Z,0),Y6(Q.parent,1),pH(J,Q.parent),Z=Q.parent.right;if(A7(Z.left)===0&&A7(Z.right)===0)Y6(Z,1),Q=Q.parent;else{if(A7(Z.right)===0)Y6(Z.left,0),Y6(Z,1),mH(J,Z),Z=Q.parent.right;Y6(Z,A7(Q.parent)),Y6(Q.parent,0),Y6(Z.right,0),pH(J,Q.parent),Q=J.root}}else{if(Z=Q.parent.left,A7(Z)===1)Y6(Z,0),Y6(Q.parent,1),mH(J,Q.parent),Z=Q.parent.left;if(A7(Z.left)===0&&A7(Z.right)===0)Y6(Z,1),Q=Q.parent;else{if(A7(Z.left)===0)Y6(Z.right,0),Y6(Z,1),pH(J,Z),Z=Q.parent.left;Y6(Z,A7(Q.parent)),Y6(Q.parent,0),Y6(Z.left,0),mH(J,Q.parent),Q=J.root}}Y6(Q,0),jw()}function u80(J){while(J.left!==j1)J=J.left;return J}function jw(){j1.parent=j1,j1.delta=0,j1.start=0,j1.end=0}function pH(J,$){let Q=$.right;if(Q.delta+=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0;if(Q.start+=$.delta,Q.end+=$.delta,$.right=Q.left,Q.left!==j1)Q.left.parent=$;if(Q.parent=$.parent,$.parent===j1)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;Q.left=$,$.parent=Q,GX($),GX(Q)}function mH(J,$){let Q=$.left;if($.delta-=Q.delta,$.delta<-1073741824||$.delta>1073741824)J.requestNormalizeDelta=!0;if($.start-=Q.delta,$.end-=Q.delta,$.left=Q.right,Q.right!==j1)Q.right.parent=$;if(Q.parent=$.parent,$.parent===j1)J.root=Q;else if($===$.parent.right)$.parent.right=Q;else $.parent.left=Q;Q.right=$,$.parent=Q,GX($),GX(Q)}function su(J){let $=J.end;if(J.left!==j1){let Q=J.left.maxEnd;if(Q>$)$=Q}if(J.right!==j1){let Q=J.right.maxEnd+J.delta;if(Q>$)$=Q}return $}function GX(J){J.maxEnd=su(J)}function LY(J){while(J!==j1){let $=su(J);if(J.maxEnd===$)return;J.maxEnd=$,J=J.parent}}function c80(J,$,Q,X){if(J===Q)return $-X;return J-Q}var j1;var au=N(()=>{j1=new PA(null,0,0);j1.parent=j1;j1.left=j1;j1.right=j1;Y6(j1,0)});class sH{constructor(J,$){this.piece=J,this.color=$,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==J1)return DA(this.right);let J=this;while(J.parent!==J1){if(J.parent.left===J)break;J=J.parent}if(J.parent===J1)return J1;else return J.parent}prev(){if(this.left!==J1)return Ww(this.left);let J=this;while(J.parent!==J1){if(J.parent.right===J)break;J=J.parent}if(J.parent===J1)return J1;else return J.parent}detach(){this.parent=null,this.left=null,this.right=null}}function DA(J){while(J.left!==J1)J=J.left;return J}function Ww(J){while(J.right!==J1)J=J.right;return J}function Bw(J){if(J===J1)return 0;return J.size_left+J.piece.length+Bw(J.right)}function Fw(J){if(J===J1)return 0;return J.lf_left+J.piece.lineFeedCnt+Fw(J.right)}function Vw(){J1.parent=J1}function lH(J,$){let Q=$.right;if(Q.size_left+=$.size_left+($.piece?$.piece.length:0),Q.lf_left+=$.lf_left+($.piece?$.piece.lineFeedCnt:0),$.right=Q.left,Q.left!==J1)Q.left.parent=$;if(Q.parent=$.parent,$.parent===J1)J.root=Q;else if($.parent.left===$)$.parent.left=Q;else $.parent.right=Q;Q.left=$,$.parent=Q}function dH(J,$){let Q=$.left;if($.left=Q.right,Q.right!==J1)Q.right.parent=$;if(Q.parent=$.parent,$.size_left-=Q.size_left+(Q.piece?Q.piece.length:0),$.lf_left-=Q.lf_left+(Q.piece?Q.piece.lineFeedCnt:0),$.parent===J1)J.root=Q;else if($===$.parent.right)$.parent.right=Q;else $.parent.left=Q;Q.right=$,$.parent=Q}function aH(J,$){let Q,X;if($.left===J1)X=$,Q=X.right;else if($.right===J1)X=$,Q=X.left;else X=DA($.right),Q=X.right;if(X===J.root){J.root=Q,Q.color=0,$.detach(),Vw(),J.root.parent=J1;return}let Y=X.color===1;if(X===X.parent.left)X.parent.left=Q;else X.parent.right=Q;if(X===$)Q.parent=X.parent,cH(J,Q);else{if(X.parent===$)Q.parent=X;else Q.parent=X.parent;if(cH(J,Q),X.left=$.left,X.right=$.right,X.parent=$.parent,X.color=$.color,$===J.root)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;if(X.left!==J1)X.left.parent=X;if(X.right!==J1)X.right.parent=X;X.size_left=$.size_left,X.lf_left=$.lf_left,cH(J,X)}if($.detach(),Q.parent.left===Q){let G=Bw(Q),q=Fw(Q);if(G!==Q.parent.size_left||q!==Q.parent.lf_left){let U=G-Q.parent.size_left,z=q-Q.parent.lf_left;Q.parent.size_left=G,Q.parent.lf_left=q,f$(J,Q.parent,U,z)}}if(cH(J,Q.parent),Y){Vw();return}let Z;while(Q!==J.root&&Q.color===0)if(Q===Q.parent.left){if(Z=Q.parent.right,Z.color===1)Z.color=0,Q.parent.color=1,lH(J,Q.parent),Z=Q.parent.right;if(Z.left.color===0&&Z.right.color===0)Z.color=1,Q=Q.parent;else{if(Z.right.color===0)Z.left.color=0,Z.color=1,dH(J,Z),Z=Q.parent.right;Z.color=Q.parent.color,Q.parent.color=0,Z.right.color=0,lH(J,Q.parent),Q=J.root}}else{if(Z=Q.parent.left,Z.color===1)Z.color=0,Q.parent.color=1,dH(J,Q.parent),Z=Q.parent.left;if(Z.left.color===0&&Z.right.color===0)Z.color=1,Q=Q.parent;else{if(Z.left.color===0)Z.right.color=0,Z.color=1,lH(J,Z),Z=Q.parent.left;Z.color=Q.parent.color,Q.parent.color=0,Z.left.color=0,dH(J,Q.parent),Q=J.root}}Q.color=0,Vw()}function Kw(J,$){cH(J,$);while($!==J.root&&$.parent.color===1)if($.parent===$.parent.parent.left){let Q=$.parent.parent.right;if(Q.color===1)$.parent.color=0,Q.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.right)$=$.parent,lH(J,$);$.parent.color=0,$.parent.parent.color=1,dH(J,$.parent.parent)}}else{let Q=$.parent.parent.left;if(Q.color===1)$.parent.color=0,Q.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.left)$=$.parent,dH(J,$);$.parent.color=0,$.parent.parent.color=1,lH(J,$.parent.parent)}}J.root.color=0}function f$(J,$,Q,X){while($!==J.root&&$!==J1){if($.parent.left===$)$.parent.size_left+=Q,$.parent.lf_left+=X;$=$.parent}}function cH(J,$){let Q=0,X=0;if($===J.root)return;while($!==J.root&&$===$.parent.right)$=$.parent;if($===J.root)return;$=$.parent,Q=Bw($.left)-$.size_left,X=Fw($.left)-$.lf_left,$.size_left+=Q,$.lf_left+=X;while($!==J.root&&(Q!==0||X!==0)){if($.parent.left===$)$.parent.size_left+=Q,$.parent.lf_left+=X;$=$.parent}}var J1;var ru=N(()=>{J1=new sH(null,0);J1.parent=J1;J1.left=J1;J1.right=J1;J1.color=0});function iu(J){let $;if(J[J.length-1]<65536)$=new Uint16Array(J.length);else $=new Uint32Array(J.length);return $.set(J,0),$}class nu{constructor(J,$,Q,X,Y){this.lineStarts=J,this.cr=$,this.lf=Q,this.crlf=X,this.isBasicASCII=Y}}function g$(J,$=!0){let Q=[0],X=1;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J.charCodeAt(Y);if(G===13)if(Y+1<Z&&J.charCodeAt(Y+1)===10)Q[X++]=Y+2,Y++;else Q[X++]=Y+1;else if(G===10)Q[X++]=Y+1}if($)return iu(Q);else return Q}function ou(J,$){J.length=0,J[0]=0;let Q=1,X=0,Y=0,Z=0,G=!0;for(let U=0,z=$.length;U<z;U++){let H=$.charCodeAt(U);if(H===13)if(U+1<z&&$.charCodeAt(U+1)===10)Z++,J[Q++]=U+2,U++;else X++,J[Q++]=U+1;else if(H===10)Y++,J[Q++]=U+1;else if(G){if(H!==9&&(H<32||H>126))G=!1}}let q=new nu(iu(J),X,Y,Z,G);return J.length=0,q}class P7{constructor(J,$,Q,X,Y){this.bufferIndex=J,this.start=$,this.end=Q,this.lineFeedCnt=X,this.length=Y}}class UX{constructor(J,$){this.buffer=J,this.lineStarts=$}}class tu{constructor(J,$){if(this._pieces=[],this._tree=J,this._BOM=$,this._index=0,J.root!==J1)J.iterate(J.root,(Q)=>{if(Q!==J1)this._pieces.push(Q.piece);return!0})}read(){if(this._pieces.length===0)if(this._index===0)return this._index++,this._BOM;else return null;if(this._index>this._pieces.length-1)return null;if(this._index===0)return this._BOM+this._tree.getPieceContent(this._pieces[this._index++]);return this._tree.getPieceContent(this._pieces[this._index++])}}class eu{constructor(J){this._limit=J,this._cache=[]}get(J){for(let $=this._cache.length-1;$>=0;$--){let Q=this._cache[$];if(Q.nodeStartOffset<=J&&Q.nodeStartOffset+Q.node.piece.length>=J)return Q}return null}get2(J){for(let $=this._cache.length-1;$>=0;$--){let Q=this._cache[$];if(Q.nodeStartLineNumber&&Q.nodeStartLineNumber<J&&Q.nodeStartLineNumber+Q.node.piece.lineFeedCnt>=J)return Q}return null}set(J){if(this._cache.length>=this._limit)this._cache.shift();this._cache.push(J)}validate(J){let $=!1,Q=this._cache;for(let X=0;X<Q.length;X++){let Y=Q[X];if(Y.node.parent===null||Y.nodeStartOffset>=J){Q[X]=null,$=!0;continue}}if($){let X=[];for(let Y of Q)if(Y!==null)X.push(Y);this._cache=X}}}class Aw{constructor(J,$,Q){this.create(J,$,Q)}create(J,$,Q){this._buffers=[new UX("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=J1,this._lineCnt=1,this._length=0,this._EOL=$,this._EOLLength=$.length,this._EOLNormalized=Q;let X=null;for(let Y=0,Z=J.length;Y<Z;Y++)if(J[Y].buffer.length>0){if(!J[Y].lineStarts)J[Y].lineStarts=g$(J[Y].buffer);let G=new P7(Y+1,{line:0,column:0},{line:J[Y].lineStarts.length-1,column:J[Y].buffer.length-J[Y].lineStarts[J[Y].lineStarts.length-1]},J[Y].lineStarts.length-1,J[Y].buffer.length);this._buffers.push(J[Y]),X=this.rbInsertRight(X,G)}this._searchCache=new eu(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(J){let $=qX,Q=$-Math.floor($/3),X=Q*2,Y="",Z=0,G=[];if(this.iterate(this.root,(q)=>{let U=this.getNodeContent(q),z=U.length;if(Z<=Q||Z+z<X)return Y+=U,Z+=z,!0;let H=Y.replace(/\r\n|\r|\n/g,J);return G.push(new UX(H,g$(H))),Y=U,Z=z,!0}),Z>0){let q=Y.replace(/\r\n|\r|\n/g,J);G.push(new UX(q,g$(q)))}this.create(G,J,!0)}getEOL(){return this._EOL}setEOL(J){this._EOL=J,this._EOLLength=this._EOL.length,this.normalizeEOL(J)}createSnapshot(J){return new tu(this,J)}getOffsetAt(J,$){let Q=0,X=this.root;while(X!==J1)if(X.left!==J1&&X.lf_left+1>=J)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt+1>=J){Q+=X.size_left;let Y=this.getAccumulatedValue(X,J-X.lf_left-2);return Q+=Y+$-1}else J-=X.lf_left+X.piece.lineFeedCnt,Q+=X.size_left+X.piece.length,X=X.right;return Q}getPositionAt(J){J=Math.floor(J),J=Math.max(0,J);let $=this.root,Q=0,X=J;while($!==J1)if($.size_left!==0&&$.size_left>=J)$=$.left;else if($.size_left+$.piece.length>=J){let Y=this.getIndexOf($,J-$.size_left);if(Q+=$.lf_left+Y.index,Y.index===0){let Z=this.getOffsetAt(Q+1,1),G=X-Z;return new v(Q+1,G+1)}return new v(Q+1,Y.remainder+1)}else if(J-=$.size_left+$.piece.length,Q+=$.lf_left+$.piece.lineFeedCnt,$.right===J1){let Y=this.getOffsetAt(Q+1,1),Z=X-J-Y;return new v(Q+1,Z+1)}else $=$.right;return new v(1,1)}getValueInRange(J,$){if(J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn)return"";let Q=this.nodeAt2(J.startLineNumber,J.startColumn),X=this.nodeAt2(J.endLineNumber,J.endColumn),Y=this.getValueInRange2(Q,X);if($){if($!==this._EOL||!this._EOLNormalized)return Y.replace(/\r\n|\r|\n/g,$);if($===this.getEOL()&&this._EOLNormalized)return Y;return Y.replace(/\r\n|\r|\n/g,$)}return Y}getValueInRange2(J,$){if(J.node===$.node){let G=J.node,q=this._buffers[G.piece.bufferIndex].buffer,U=this.offsetInBuffer(G.piece.bufferIndex,G.piece.start);return q.substring(U+J.remainder,U+$.remainder)}let Q=J.node,X=this._buffers[Q.piece.bufferIndex].buffer,Y=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start),Z=X.substring(Y+J.remainder,Y+Q.piece.length);Q=Q.next();while(Q!==J1){let G=this._buffers[Q.piece.bufferIndex].buffer,q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(Q===$.node){Z+=G.substring(q,q+$.remainder);break}else Z+=G.substr(q,Q.piece.length);Q=Q.next()}return Z}getLinesContent(){let J=[],$=0,Q="",X=!1;if(this.iterate(this.root,(Y)=>{if(Y===J1)return!0;let Z=Y.piece,G=Z.length;if(G===0)return!0;let q=this._buffers[Z.bufferIndex].buffer,U=this._buffers[Z.bufferIndex].lineStarts,z=Z.start.line,H=Z.end.line,j=U[z]+Z.start.column;if(X){if(q.charCodeAt(j)===10)j++,G--;if(J[$++]=Q,Q="",X=!1,G===0)return!0}if(z===H){if(!this._EOLNormalized&&q.charCodeAt(j+G-1)===13)X=!0,Q+=q.substr(j,G-1);else Q+=q.substr(j,G);return!0}Q+=this._EOLNormalized?q.substring(j,Math.max(j,U[z+1]-this._EOLLength)):q.substring(j,U[z+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=Q;for(let V=z+1;V<H;V++)Q=this._EOLNormalized?q.substring(U[V],U[V+1]-this._EOLLength):q.substring(U[V],U[V+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=Q;if(!this._EOLNormalized&&q.charCodeAt(U[H]+Z.end.column-1)===13)if(X=!0,Z.end.column===0)$--;else Q=q.substr(U[H],Z.end.column-1);else Q=q.substr(U[H],Z.end.column);return!0}),X)J[$++]=Q,Q="";return J[$++]=Q,J}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(J){if(this._lastVisitedLine.lineNumber===J)return this._lastVisitedLine.value;if(this._lastVisitedLine.lineNumber=J,J===this._lineCnt)this._lastVisitedLine.value=this.getLineRawContent(J);else if(this._EOLNormalized)this._lastVisitedLine.value=this.getLineRawContent(J,this._EOLLength);else this._lastVisitedLine.value=this.getLineRawContent(J).replace(/(\r\n|\r|\n)$/,"");return this._lastVisitedLine.value}_getCharCode(J){if(J.remainder===J.node.piece.length){let $=J.node.next();if(!$)return 0;let Q=this._buffers[$.piece.bufferIndex],X=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return Q.buffer.charCodeAt(X)}else{let $=this._buffers[J.node.piece.bufferIndex],X=this.offsetInBuffer(J.node.piece.bufferIndex,J.node.piece.start)+J.remainder;return $.buffer.charCodeAt(X)}}getLineCharCode(J,$){let Q=this.nodeAt2(J,$+1);return this._getCharCode(Q)}getLineLength(J){if(J===this.getLineCount()){let $=this.getOffsetAt(J,1);return this.getLength()-$}return this.getOffsetAt(J+1,1)-this.getOffsetAt(J,1)-this._EOLLength}findMatchesInNode(J,$,Q,X,Y,Z,G,q,U,z,H){let j=this._buffers[J.piece.bufferIndex],V=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start),W=this.offsetInBuffer(J.piece.bufferIndex,Y),B=this.offsetInBuffer(J.piece.bufferIndex,Z),K,P={line:0,column:0},A,D;if($._wordSeparators)A=j.buffer.substring(W,B),D=(R)=>R+W,$.reset(0);else A=j.buffer,D=(R)=>R,$.reset(W);do if(K=$.next(A),K){if(D(K.index)>=B)return z;this.positionInBuffer(J,D(K.index)-V,P);let R=this.getLineFeedCnt(J.piece.bufferIndex,Y,P),M=P.line===Y.line?P.column-Y.column+X:P.column+1,_=M+K[0].length;if(H[z++]=$Y(new L(Q+R,M,Q+R,_),K,q),D(K.index)+K[0].length>=B)return z;if(z>=U)return z}while(K);return z}findMatchesLineByLine(J,$,Q,X){let Y=[],Z=0,G=new CQ($.wordSeparators,$.regex),q=this.nodeAt2(J.startLineNumber,J.startColumn);if(q===null)return[];let U=this.nodeAt2(J.endLineNumber,J.endColumn);if(U===null)return[];let z=this.positionInBuffer(q.node,q.remainder),H=this.positionInBuffer(U.node,U.remainder);if(q.node===U.node)return this.findMatchesInNode(q.node,G,J.startLineNumber,J.startColumn,z,H,$,Q,X,Z,Y),Y;let j=J.startLineNumber,V=q.node;while(V!==U.node){let B=this.getLineFeedCnt(V.piece.bufferIndex,z,V.piece.end);if(B>=1){let P=this._buffers[V.piece.bufferIndex].lineStarts,A=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start),D=P[z.line+B],R=j===J.startLineNumber?J.startColumn:1;if(Z=this.findMatchesInNode(V,G,j,R,z,this.positionInBuffer(V,D-A),$,Q,X,Z,Y),Z>=X)return Y;j+=B}let K=j===J.startLineNumber?J.startColumn-1:0;if(j===J.endLineNumber){let P=this.getLineContent(j).substring(K,J.endColumn-1);return Z=this._findMatchesInLine($,G,P,J.endLineNumber,K,Z,Y,Q,X),Y}if(Z=this._findMatchesInLine($,G,this.getLineContent(j).substr(K),j,K,Z,Y,Q,X),Z>=X)return Y;j++,q=this.nodeAt2(j,1),V=q.node,z=this.positionInBuffer(q.node,q.remainder)}if(j===J.endLineNumber){let B=j===J.startLineNumber?J.startColumn-1:0,K=this.getLineContent(j).substring(B,J.endColumn-1);return Z=this._findMatchesInLine($,G,K,J.endLineNumber,B,Z,Y,Q,X),Y}let W=j===J.startLineNumber?J.startColumn:1;return Z=this.findMatchesInNode(U.node,G,j,W,z,H,$,Q,X,Z,Y),Y}_findMatchesInLine(J,$,Q,X,Y,Z,G,q,U){let z=J.wordSeparators;if(!q&&J.simpleSearch){let j=J.simpleSearch,V=j.length,W=Q.length,B=-V;while((B=Q.indexOf(j,B+V))!==-1)if(!z||mF(z,Q,W,B,V)){if(G[Z++]=new SQ(new L(X,B+1+Y,X,B+1+V+Y),null),Z>=U)return Z}return Z}let H;$.reset(0);do if(H=$.next(Q),H){if(G[Z++]=$Y(new L(X,H.index+1+Y,X,H.index+1+H[0].length+Y),H,q),Z>=U)return Z}while(H);return Z}insert(J,$,Q=!1){if(this._EOLNormalized=this._EOLNormalized&&Q,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==J1){let{node:X,remainder:Y,nodeStartOffset:Z}=this.nodeAt(J),G=X.piece,q=G.bufferIndex,U=this.positionInBuffer(X,Y);if(X.piece.bufferIndex===0&&G.end.line===this._lastChangeBufferPos.line&&G.end.column===this._lastChangeBufferPos.column&&Z+G.length===J&&$.length<qX){this.appendToNode(X,$),this.computeBufferMetadata();return}if(Z===J)this.insertContentToNodeLeft($,X),this._searchCache.validate(J);else if(Z+X.piece.length>J){let z=[],H=new P7(G.bufferIndex,U,G.end,this.getLineFeedCnt(G.bufferIndex,U,G.end),this.offsetInBuffer(q,G.end)-this.offsetInBuffer(q,U));if(this.shouldCheckCRLF()&&this.endWithCR($)){if(this.nodeCharCodeAt(X,Y)===10){let B={line:H.start.line+1,column:0};H=new P7(H.bufferIndex,B,H.end,this.getLineFeedCnt(H.bufferIndex,B,H.end),H.length-1),$+=`
`}}if(this.shouldCheckCRLF()&&this.startWithLF($))if(this.nodeCharCodeAt(X,Y-1)===13){let B=this.positionInBuffer(X,Y-1);if(this.deleteNodeTail(X,B),$="\r"+$,X.piece.length===0)z.push(X)}else this.deleteNodeTail(X,U);else this.deleteNodeTail(X,U);let j=this.createNewPieces($);if(H.length>0)this.rbInsertRight(X,H);let V=X;for(let W=0;W<j.length;W++)V=this.rbInsertRight(V,j[W]);this.deleteNodes(z)}else this.insertContentToNodeRight($,X)}else{let X=this.createNewPieces($),Y=this.rbInsertLeft(null,X[0]);for(let Z=1;Z<X.length;Z++)Y=this.rbInsertRight(Y,X[Z])}this.computeBufferMetadata()}delete(J,$){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",$<=0||this.root===J1)return;let Q=this.nodeAt(J),X=this.nodeAt(J+$),Y=Q.node,Z=X.node;if(Y===Z){let j=this.positionInBuffer(Y,Q.remainder),V=this.positionInBuffer(Y,X.remainder);if(Q.nodeStartOffset===J){if($===Y.piece.length){let W=Y.next();aH(this,Y),this.validateCRLFWithPrevNode(W),this.computeBufferMetadata();return}this.deleteNodeHead(Y,V),this._searchCache.validate(J),this.validateCRLFWithPrevNode(Y),this.computeBufferMetadata();return}if(Q.nodeStartOffset+Y.piece.length===J+$){this.deleteNodeTail(Y,j),this.validateCRLFWithNextNode(Y),this.computeBufferMetadata();return}this.shrinkNode(Y,j,V),this.computeBufferMetadata();return}let G=[],q=this.positionInBuffer(Y,Q.remainder);if(this.deleteNodeTail(Y,q),this._searchCache.validate(J),Y.piece.length===0)G.push(Y);let U=this.positionInBuffer(Z,X.remainder);if(this.deleteNodeHead(Z,U),Z.piece.length===0)G.push(Z);let z=Y.next();for(let j=z;j!==J1&&j!==Z;j=j.next())G.push(j);let H=Y.piece.length===0?Y.prev():Y;this.deleteNodes(G),this.validateCRLFWithNextNode(H),this.computeBufferMetadata()}insertContentToNodeLeft(J,$){let Q=[];if(this.shouldCheckCRLF()&&this.endWithCR(J)&&this.startWithLF($)){let Z=$.piece,G={line:Z.start.line+1,column:0},q=new P7(Z.bufferIndex,G,Z.end,this.getLineFeedCnt(Z.bufferIndex,G,Z.end),Z.length-1);if($.piece=q,J+=`
`,f$(this,$,-1,-1),$.piece.length===0)Q.push($)}let X=this.createNewPieces(J),Y=this.rbInsertLeft($,X[X.length-1]);for(let Z=X.length-2;Z>=0;Z--)Y=this.rbInsertLeft(Y,X[Z]);this.validateCRLFWithPrevNode(Y),this.deleteNodes(Q)}insertContentToNodeRight(J,$){if(this.adjustCarriageReturnFromNext(J,$))J+=`
`;let Q=this.createNewPieces(J),X=this.rbInsertRight($,Q[0]),Y=X;for(let Z=1;Z<Q.length;Z++)Y=this.rbInsertRight(Y,Q[Z]);this.validateCRLFWithPrevNode(X)}positionInBuffer(J,$,Q){let X=J.piece,Y=J.piece.bufferIndex,Z=this._buffers[Y].lineStarts,q=Z[X.start.line]+X.start.column+$,U=X.start.line,z=X.end.line,H=0,j=0,V=0;while(U<=z){if(H=U+(z-U)/2|0,V=Z[H],H===z)break;if(j=Z[H+1],q<V)z=H-1;else if(q>=j)U=H+1;else break}if(Q)return Q.line=H,Q.column=q-V,null;return{line:H,column:q-V}}getLineFeedCnt(J,$,Q){if(Q.column===0)return Q.line-$.line;let X=this._buffers[J].lineStarts;if(Q.line===X.length-1)return Q.line-$.line;let Y=X[Q.line+1],Z=X[Q.line]+Q.column;if(Y>Z+1)return Q.line-$.line;let G=Z-1;if(this._buffers[J].buffer.charCodeAt(G)===13)return Q.line-$.line+1;else return Q.line-$.line}offsetInBuffer(J,$){return this._buffers[J].lineStarts[$.line]+$.column}deleteNodes(J){for(let $=0;$<J.length;$++)aH(this,J[$])}createNewPieces(J){if(J.length>qX){let z=[];while(J.length>qX){let j=J.charCodeAt(qX-1),V;if(j===13||j>=55296&&j<=56319)V=J.substring(0,qX-1),J=J.substring(qX-1);else V=J.substring(0,qX),J=J.substring(qX);let W=g$(V);z.push(new P7(this._buffers.length,{line:0,column:0},{line:W.length-1,column:V.length-W[W.length-1]},W.length-1,V.length)),this._buffers.push(new UX(V,W))}let H=g$(J);return z.push(new P7(this._buffers.length,{line:0,column:0},{line:H.length-1,column:J.length-H[H.length-1]},H.length-1,J.length)),this._buffers.push(new UX(J,H)),z}let $=this._buffers[0].buffer.length,Q=g$(J,!1),X=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===$&&$!==0&&this.startWithLF(J)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},X=this._lastChangeBufferPos;for(let z=0;z<Q.length;z++)Q[z]+=$+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+="_"+J,$+=1}else{if($!==0)for(let z=0;z<Q.length;z++)Q[z]+=$;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Q.slice(1)),this._buffers[0].buffer+=J}let Y=this._buffers[0].buffer.length,Z=this._buffers[0].lineStarts.length-1,G=Y-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=new P7(0,X,q,this.getLineFeedCnt(0,X,q),Y-$);return this._lastChangeBufferPos=q,[U]}getLineRawContent(J,$=0){let Q=this.root,X="",Y=this._searchCache.get2(J);if(Y){Q=Y.node;let Z=this.getAccumulatedValue(Q,J-Y.nodeStartLineNumber-1),G=this._buffers[Q.piece.bufferIndex].buffer,q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);if(Y.nodeStartLineNumber+Q.piece.lineFeedCnt===J)X=G.substring(q+Z,q+Q.piece.length);else{let U=this.getAccumulatedValue(Q,J-Y.nodeStartLineNumber);return G.substring(q+Z,q+U-$)}}else{let Z=0,G=J;while(Q!==J1)if(Q.left!==J1&&Q.lf_left>=J-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>J-1){let q=this.getAccumulatedValue(Q,J-Q.lf_left-2),U=this.getAccumulatedValue(Q,J-Q.lf_left-1),z=this._buffers[Q.piece.bufferIndex].buffer,H=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return Z+=Q.size_left,this._searchCache.set({node:Q,nodeStartOffset:Z,nodeStartLineNumber:G-(J-1-Q.lf_left)}),z.substring(H+q,H+U-$)}else if(Q.lf_left+Q.piece.lineFeedCnt===J-1){let q=this.getAccumulatedValue(Q,J-Q.lf_left-2),U=this._buffers[Q.piece.bufferIndex].buffer,z=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);X=U.substring(z+q,z+Q.piece.length);break}else J-=Q.lf_left+Q.piece.lineFeedCnt,Z+=Q.size_left+Q.piece.length,Q=Q.right}Q=Q.next();while(Q!==J1){let Z=this._buffers[Q.piece.bufferIndex].buffer;if(Q.piece.lineFeedCnt>0){let G=this.getAccumulatedValue(Q,0),q=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);return X+=Z.substring(q,q+G-$),X}else{let G=this.offsetInBuffer(Q.piece.bufferIndex,Q.piece.start);X+=Z.substr(G,Q.piece.length)}Q=Q.next()}return X}computeBufferMetadata(){let J=this.root,$=1,Q=0;while(J!==J1)$+=J.lf_left+J.piece.lineFeedCnt,Q+=J.size_left+J.piece.length,J=J.right;this._lineCnt=$,this._length=Q,this._searchCache.validate(this._length)}getIndexOf(J,$){let Q=J.piece,X=this.positionInBuffer(J,$),Y=X.line-Q.start.line;if(this.offsetInBuffer(Q.bufferIndex,Q.end)-this.offsetInBuffer(Q.bufferIndex,Q.start)===$){let Z=this.getLineFeedCnt(J.piece.bufferIndex,Q.start,X);if(Z!==Y)return{index:Z,remainder:0}}return{index:Y,remainder:X.column}}getAccumulatedValue(J,$){if($<0)return 0;let Q=J.piece,X=this._buffers[Q.bufferIndex].lineStarts,Y=Q.start.line+$+1;if(Y>Q.end.line)return X[Q.end.line]+Q.end.column-X[Q.start.line]-Q.start.column;else return X[Y]-X[Q.start.line]-Q.start.column}deleteNodeTail(J,$){let Q=J.piece,X=Q.lineFeedCnt,Y=this.offsetInBuffer(Q.bufferIndex,Q.end),Z=$,G=this.offsetInBuffer(Q.bufferIndex,Z),q=this.getLineFeedCnt(Q.bufferIndex,Q.start,Z),U=q-X,z=G-Y,H=Q.length+z;J.piece=new P7(Q.bufferIndex,Q.start,Z,q,H),f$(this,J,z,U)}deleteNodeHead(J,$){let Q=J.piece,X=Q.lineFeedCnt,Y=this.offsetInBuffer(Q.bufferIndex,Q.start),Z=$,G=this.getLineFeedCnt(Q.bufferIndex,Z,Q.end),q=this.offsetInBuffer(Q.bufferIndex,Z),U=G-X,z=Y-q,H=Q.length+z;J.piece=new P7(Q.bufferIndex,Z,Q.end,G,H),f$(this,J,z,U)}shrinkNode(J,$,Q){let X=J.piece,Y=X.start,Z=X.end,G=X.length,q=X.lineFeedCnt,U=$,z=this.getLineFeedCnt(X.bufferIndex,X.start,U),H=this.offsetInBuffer(X.bufferIndex,$)-this.offsetInBuffer(X.bufferIndex,Y);J.piece=new P7(X.bufferIndex,X.start,U,z,H),f$(this,J,H-G,z-q);let j=new P7(X.bufferIndex,Q,Z,this.getLineFeedCnt(X.bufferIndex,Q,Z),this.offsetInBuffer(X.bufferIndex,Z)-this.offsetInBuffer(X.bufferIndex,Q)),V=this.rbInsertRight(J,j);this.validateCRLFWithPrevNode(V)}appendToNode(J,$){if(this.adjustCarriageReturnFromNext($,J))$+=`
`;let Q=this.shouldCheckCRLF()&&this.startWithLF($)&&this.endWithCR(J),X=this._buffers[0].buffer.length;this._buffers[0].buffer+=$;let Y=g$($,!1);for(let V=0;V<Y.length;V++)Y[V]+=X;if(Q){let V=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:X-V}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Y.slice(1));let Z=this._buffers[0].lineStarts.length-1,G=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=J.piece.length+$.length,z=J.piece.lineFeedCnt,H=this.getLineFeedCnt(0,J.piece.start,q),j=H-z;J.piece=new P7(J.piece.bufferIndex,J.piece.start,q,H,U),this._lastChangeBufferPos=q,f$(this,J,$.length,j)}nodeAt(J){let $=this.root,Q=this._searchCache.get(J);if(Q)return{node:Q.node,nodeStartOffset:Q.nodeStartOffset,remainder:J-Q.nodeStartOffset};let X=0;while($!==J1)if($.size_left>J)$=$.left;else if($.size_left+$.piece.length>=J){X+=$.size_left;let Y={node:$,remainder:J-$.size_left,nodeStartOffset:X};return this._searchCache.set(Y),Y}else J-=$.size_left+$.piece.length,X+=$.size_left+$.piece.length,$=$.right;return null}nodeAt2(J,$){let Q=this.root,X=0;while(Q!==J1)if(Q.left!==J1&&Q.lf_left>=J-1)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt>J-1){let Y=this.getAccumulatedValue(Q,J-Q.lf_left-2),Z=this.getAccumulatedValue(Q,J-Q.lf_left-1);return X+=Q.size_left,{node:Q,remainder:Math.min(Y+$-1,Z),nodeStartOffset:X}}else if(Q.lf_left+Q.piece.lineFeedCnt===J-1){let Y=this.getAccumulatedValue(Q,J-Q.lf_left-2);if(Y+$-1<=Q.piece.length)return{node:Q,remainder:Y+$-1,nodeStartOffset:X};else{$-=Q.piece.length-Y;break}}else J-=Q.lf_left+Q.piece.lineFeedCnt,X+=Q.size_left+Q.piece.length,Q=Q.right;Q=Q.next();while(Q!==J1){if(Q.piece.lineFeedCnt>0){let Y=this.getAccumulatedValue(Q,0),Z=this.offsetOfNode(Q);return{node:Q,remainder:Math.min($-1,Y),nodeStartOffset:Z}}else if(Q.piece.length>=$-1){let Y=this.offsetOfNode(Q);return{node:Q,remainder:$-1,nodeStartOffset:Y}}else $-=Q.piece.length;Q=Q.next()}return null}nodeCharCodeAt(J,$){if(J.piece.lineFeedCnt<1)return-1;let Q=this._buffers[J.piece.bufferIndex],X=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start)+$;return Q.buffer.charCodeAt(X)}offsetOfNode(J){if(!J)return 0;let $=J.size_left;while(J!==this.root){if(J.parent.right===J)$+=J.parent.size_left+J.parent.piece.length;J=J.parent}return $}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(J){if(typeof J==="string")return J.charCodeAt(0)===10;if(J===J1||J.piece.lineFeedCnt===0)return!1;let $=J.piece,Q=this._buffers[$.bufferIndex].lineStarts,X=$.start.line,Y=Q[X]+$.start.column;if(X===Q.length-1)return!1;if(Q[X+1]>Y+1)return!1;return this._buffers[$.bufferIndex].buffer.charCodeAt(Y)===10}endWithCR(J){if(typeof J==="string")return J.charCodeAt(J.length-1)===13;if(J===J1||J.piece.lineFeedCnt===0)return!1;return this.nodeCharCodeAt(J,J.piece.length-1)===13}validateCRLFWithPrevNode(J){if(this.shouldCheckCRLF()&&this.startWithLF(J)){let $=J.prev();if(this.endWithCR($))this.fixCRLF($,J)}}validateCRLFWithNextNode(J){if(this.shouldCheckCRLF()&&this.endWithCR(J)){let $=J.next();if(this.startWithLF($))this.fixCRLF(J,$)}}fixCRLF(J,$){let Q=[],X=this._buffers[J.piece.bufferIndex].lineStarts,Y;if(J.piece.end.column===0)Y={line:J.piece.end.line-1,column:X[J.piece.end.line]-X[J.piece.end.line-1]-1};else Y={line:J.piece.end.line,column:J.piece.end.column-1};let Z=J.piece.length-1,G=J.piece.lineFeedCnt-1;if(J.piece=new P7(J.piece.bufferIndex,J.piece.start,Y,G,Z),f$(this,J,-1,-1),J.piece.length===0)Q.push(J);let q={line:$.piece.start.line+1,column:0},U=$.piece.length-1,z=this.getLineFeedCnt($.piece.bufferIndex,q,$.piece.end);if($.piece=new P7($.piece.bufferIndex,q,$.piece.end,z,U),f$(this,$,-1,-1),$.piece.length===0)Q.push($);let H=this.createNewPieces(`\r
`);this.rbInsertRight(J,H[0]);for(let j=0;j<Q.length;j++)aH(this,Q[j])}adjustCarriageReturnFromNext(J,$){if(this.shouldCheckCRLF()&&this.endWithCR(J)){let Q=$.next();if(this.startWithLF(Q)){if(J+=`
`,Q.piece.length===1)aH(this,Q);else{let X=Q.piece,Y={line:X.start.line+1,column:0},Z=X.length-1,G=this.getLineFeedCnt(X.bufferIndex,Y,X.end);Q.piece=new P7(X.bufferIndex,Y,X.end,G,Z),f$(this,Q,-1,-1)}return!0}}return!1}iterate(J,$){if(J===J1)return $(J1);let Q=this.iterate(J.left,$);if(!Q)return Q;return $(J)&&this.iterate(J.right,$)}getNodeContent(J){if(J===J1)return"";let $=this._buffers[J.piece.bufferIndex],Q=J.piece,X=this.offsetInBuffer(Q.bufferIndex,Q.start),Y=this.offsetInBuffer(Q.bufferIndex,Q.end);return $.buffer.substring(X,Y)}getPieceContent(J){let $=this._buffers[J.bufferIndex],Q=this.offsetInBuffer(J.bufferIndex,J.start),X=this.offsetInBuffer(J.bufferIndex,J.end);return $.buffer.substring(Q,X)}rbInsertRight(J,$){let Q=new sH($,1);if(Q.left=J1,Q.right=J1,Q.parent=J1,Q.size_left=0,Q.lf_left=0,this.root===J1)this.root=Q,Q.color=0;else if(J.right===J1)J.right=Q,Q.parent=J;else{let Y=DA(J.right);Y.left=Q,Q.parent=Y}return Kw(this,Q),Q}rbInsertLeft(J,$){let Q=new sH($,1);if(Q.left=J1,Q.right=J1,Q.parent=J1,Q.size_left=0,Q.lf_left=0,this.root===J1)this.root=Q,Q.color=0;else if(J.left===J1)J.left=Q,Q.parent=J;else{let X=Ww(J.left);X.right=Q,Q.parent=X}return Kw(this,Q),Q}}var qX=65535;var Pw=N(()=>{l0();v7();ru();uF()});var kY;var Dw=N(()=>{F0();t0();l0();v7();Pw();Xw();Q0();kY=class kY extends h{constructor(J,$,Q,X,Y,Z,G){super();this._onDidChangeContent=this._register(new y),this._BOM=$,this._mightContainNonBasicASCII=!Z,this._mightContainRTL=X,this._mightContainUnusualLineTerminators=Y,this._pieceTree=new Aw(J,Q,G)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(J){return this._pieceTree.createSnapshot(J?this._BOM:"")}getOffsetAt(J,$){return this._pieceTree.getOffsetAt(J,$)}getPositionAt(J){return this._pieceTree.getPositionAt(J)}getRangeAt(J,$){let Q=J+$,X=this.getPositionAt(J),Y=this.getPositionAt(Q);return new L(X.lineNumber,X.column,Y.lineNumber,Y.column)}getValueInRange(J,$=0){if(J.isEmpty())return"";let Q=this._getEndOfLine($);return this._pieceTree.getValueInRange(J,Q)}getValueLengthInRange(J,$=0){if(J.isEmpty())return 0;if(J.startLineNumber===J.endLineNumber)return J.endColumn-J.startColumn;let Q=this.getOffsetAt(J.startLineNumber,J.startColumn),X=this.getOffsetAt(J.endLineNumber,J.endColumn),Y=0,Z=this._getEndOfLine($),G=this.getEOL();if(Z.length!==G.length){let q=Z.length-G.length,U=J.endLineNumber-J.startLineNumber;Y=q*U}return X-Q+Y}getCharacterCountInRange(J,$=0){if(this._mightContainNonBasicASCII){let Q=0,X=J.startLineNumber,Y=J.endLineNumber;for(let Z=X;Z<=Y;Z++){let G=this.getLineContent(Z),q=Z===X?J.startColumn-1:0,U=Z===Y?J.endColumn-1:G.length;for(let z=q;z<U;z++)if(G6(G.charCodeAt(z)))Q=Q+1,z=z+1;else Q=Q+1}return Q+=this._getEndOfLine($).length*(Y-X),Q}return this.getValueLengthInRange(J,$)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(J){return this._pieceTree.getLineContent(J)}getLineCharCode(J,$){return this._pieceTree.getLineCharCode(J,$)}getLineLength(J){return this._pieceTree.getLineLength(J)}getLineFirstNonWhitespaceColumn(J){let $=I6(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){let $=X9(this.getLineContent(J));if($===-1)return 0;return $+2}_getEndOfLine(J){switch(J){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(J){this._pieceTree.setEOL(J)}applyEdits(J,$,Q){let X=this._mightContainRTL,Y=this._mightContainUnusualLineTerminators,Z=this._mightContainNonBasicASCII,G=!0,q=[];for(let B=0;B<J.length;B++){let K=J[B];if(G&&K._isTracked)G=!1;let P=K.range;if(K.text){let _=!0;if(!Z)_=!sG(K.text),Z=_;if(!X&&_)X=PQ(K.text);if(!Y&&_)Y=vB(K.text)}let A="",D=0,R=0,M=0;if(K.text){let _;[D,R,M,_]=s9(K.text);let T=this.getEOL();if(_===0||_===(T===`\r
`?2:1))A=K.text;else A=K.text.replace(/\r\n|\r|\n/g,T)}q[B]={sortIndex:B,identifier:K.identifier||null,range:P,rangeOffset:this.getOffsetAt(P.startLineNumber,P.startColumn),rangeLength:this.getValueLengthInRange(P),text:A,eolCount:D,firstLineLength:R,lastLineLength:M,forceMoveMarkers:Boolean(K.forceMoveMarkers),isAutoWhitespaceEdit:K.isAutoWhitespaceEdit||!1}}q.sort(kY._sortOpsAscending);let U=!1;for(let B=0,K=q.length-1;B<K;B++){let P=q[B].range.getEndPosition(),A=q[B+1].range.getStartPosition();if(A.isBeforeOrEqual(P)){if(A.isBefore(P))throw new Error("Overlapping ranges are not allowed!");U=!0}}if(G)q=this._reduceOperations(q);let z=Q||$?kY._getInverseEditRanges(q):[],H=[];if($)for(let B=0;B<q.length;B++){let K=q[B],P=z[B];if(K.isAutoWhitespaceEdit&&K.range.isEmpty())for(let A=P.startLineNumber;A<=P.endLineNumber;A++){let D="";if(A===P.startLineNumber){if(D=this.getLineContent(K.range.startLineNumber),I6(D)!==-1)continue}H.push({lineNumber:A,oldContent:D})}}let j=null;if(Q){let B=0;j=[];for(let K=0;K<q.length;K++){let P=q[K],A=z[K],D=this.getValueInRange(P.range),R=P.rangeOffset+B;B+=P.text.length-D.length,j[K]={sortIndex:P.sortIndex,identifier:P.identifier,range:A,text:D,textChange:new x5(P.rangeOffset,D,R,P.text)}}if(!U)j.sort((K,P)=>K.sortIndex-P.sortIndex)}this._mightContainRTL=X,this._mightContainUnusualLineTerminators=Y,this._mightContainNonBasicASCII=Z;let V=this._doApplyEdits(q),W=null;if($&&H.length>0){H.sort((B,K)=>K.lineNumber-B.lineNumber),W=[];for(let B=0,K=H.length;B<K;B++){let P=H[B].lineNumber;if(B>0&&H[B-1].lineNumber===P)continue;let A=H[B].oldContent,D=this.getLineContent(P);if(D.length===0||D===A||I6(D)!==-1)continue;W.push(P)}}return this._onDidChangeContent.fire(),new JO(j,V,W)}_reduceOperations(J){if(J.length<1000)return J;return[this._toSingleEditOperation(J)]}_toSingleEditOperation(J){let $=!1,Q=J[0].range,X=J[J.length-1].range,Y=new L(Q.startLineNumber,Q.startColumn,X.endLineNumber,X.endColumn),Z=Q.startLineNumber,G=Q.startColumn,q=[];for(let V=0,W=J.length;V<W;V++){let B=J[V],K=B.range;if($=$||B.forceMoveMarkers,q.push(this.getValueInRange(new L(Z,G,K.startLineNumber,K.startColumn))),B.text.length>0)q.push(B.text);Z=K.endLineNumber,G=K.endColumn}let U=q.join(""),[z,H,j]=s9(U);return{sortIndex:0,identifier:J[0].identifier,range:Y,rangeOffset:this.getOffsetAt(Y.startLineNumber,Y.startColumn),rangeLength:this.getValueLengthInRange(Y,0),text:U,eolCount:z,firstLineLength:H,lastLineLength:j,forceMoveMarkers:$,isAutoWhitespaceEdit:!1}}_doApplyEdits(J){J.sort(kY._sortOpsDescending);let $=[];for(let Q=0;Q<J.length;Q++){let X=J[Q],Y=X.range.startLineNumber,Z=X.range.startColumn,G=X.range.endLineNumber,q=X.range.endColumn;if(Y===G&&Z===q&&X.text.length===0)continue;if(X.text)this._pieceTree.delete(X.rangeOffset,X.rangeLength),this._pieceTree.insert(X.rangeOffset,X.text,!0);else this._pieceTree.delete(X.rangeOffset,X.rangeLength);let U=new L(Y,Z,G,q);$.push({range:U,rangeLength:X.rangeLength,text:X.text,rangeOffset:X.rangeOffset,forceMoveMarkers:X.forceMoveMarkers})}return $}findMatchesLineByLine(J,$,Q,X){return this._pieceTree.findMatchesLineByLine(J,$,Q,X)}static _getInverseEditRanges(J){let $=[],Q=0,X=0,Y=null;for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z],U,z;if(Y)if(Y.range.endLineNumber===q.range.startLineNumber)U=Q,z=X+(q.range.startColumn-Y.range.endColumn);else U=Q+(q.range.startLineNumber-Y.range.endLineNumber),z=q.range.startColumn;else U=q.range.startLineNumber,z=q.range.startColumn;let H;if(q.text.length>0){let j=q.eolCount+1;if(j===1)H=new L(U,z,U,z+q.firstLineLength);else H=new L(U,z,U+j-1,q.lastLineLength+1)}else H=new L(U,z,U,z);Q=H.endLineNumber,X=H.endColumn,$.push(H),Y=q}return $}static _sortOpsAscending(J,$){let Q=L.compareRangesUsingEnds(J.range,$.range);if(Q===0)return J.sortIndex-$.sortIndex;return Q}static _sortOpsDescending(J,$){let Q=L.compareRangesUsingEnds(J.range,$.range);if(Q===0)return $.sortIndex-J.sortIndex;return-Q}}});class Jc{constructor(J,$,Q,X,Y,Z,G,q,U){this._chunks=J,this._bom=$,this._cr=Q,this._lf=X,this._crlf=Y,this._containsRTL=Z,this._containsUnusualLineTerminators=G,this._isBasicASCII=q,this._normalizeEOL=U}_getEOL(J){let $=this._cr+this._lf+this._crlf,Q=this._cr+this._crlf;if($===0)return J===1?`
`:`\r
`;if(Q>$/2)return`\r
`;return`
`}create(J){let $=this._getEOL(J),Q=this._chunks;if(this._normalizeEOL&&($===`\r
`&&(this._cr>0||this._lf>0)||$===`
`&&(this._cr>0||this._crlf>0)))for(let Y=0,Z=Q.length;Y<Z;Y++){let G=Q[Y].buffer.replace(/\r\n|\r|\n/g,$),q=g$(G);Q[Y]=new UX(G,q)}let X=new kY(Q,this._bom,$,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:X,disposable:X}}}class RA{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(J){if(J.length===0)return;if(this.chunks.length===0){if(aG(J))this.BOM=FS,J=J.substr(1)}let $=J.charCodeAt(J.length-1);if($===13||$>=55296&&$<=56319)this._acceptChunk1(J.substr(0,J.length-1),!1),this._hasPreviousChar=!0,this._previousChar=$;else this._acceptChunk1(J,!1),this._hasPreviousChar=!1,this._previousChar=$}_acceptChunk1(J,$){if(!$&&J.length===0)return;if(this._hasPreviousChar)this._acceptChunk2(String.fromCharCode(this._previousChar)+J);else this._acceptChunk2(J)}_acceptChunk2(J){let $=ou(this._tmpLineStarts,J);if(this.chunks.push(new UX(J,$.lineStarts)),this.cr+=$.cr,this.lf+=$.lf,this.crlf+=$.crlf,!$.isBasicASCII){if(this.isBasicASCII=!1,!this.containsRTL)this.containsRTL=PQ(J);if(!this.containsUnusualLineTerminators)this.containsUnusualLineTerminators=vB(J)}}finish(J=!0){return this._finish(),new Jc(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,J)}_finish(){if(this.chunks.length===0)this._acceptChunk1("",!0);if(this._hasPreviousChar){this._hasPreviousChar=!1;let J=this.chunks[this.chunks.length-1];J.buffer+=String.fromCharCode(this._previousChar);let $=g$(J.buffer);if(J.lineStarts=$,this._previousChar===13)this.cr++}}}var $c=N(()=>{t0();Pw();Dw()});class Rw{constructor(J){this._default=J,this._store=[]}get(J){if(J<this._store.length)return this._store[J];return this._default}set(J,$){while(J>=this._store.length)this._store[this._store.length]=this._default;this._store[J]=$}replace(J,$,Q){if(J>=this._store.length)return;if($===0){this.insert(J,Q);return}else if(Q===0){this.delete(J,$);return}let X=this._store.slice(0,J),Y=this._store.slice(J+$),Z=l80(Q,this._default);this._store=X.concat(Z,Y)}delete(J,$){if($===0||J>=this._store.length)return;this._store.splice(J,$)}insert(J,$){if($===0||J>=this._store.length)return;let Q=[];for(let X=0;X<$;X++)Q[X]=this._default;this._store=xX(this._store,J,Q)}}function l80(J,$){let Q=[];for(let X=0;X<J;X++)Q[X]=$;return Q}var Qc=N(()=>{U1()});class Mw{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(J,$){this._startLineNumber=J,this._tokens=$}getLineTokens(J){return this._tokens[J-this._startLineNumber]}appendLineTokens(J){this._tokens.push(J)}}class W3{constructor(){this._tokens=[]}add(J,$){if(this._tokens.length>0){let Q=this._tokens[this._tokens.length-1];if(Q.endLineNumber+1===J){Q.appendLineTokens($);return}}this._tokens.push(new Mw(J,[$]))}finalize(){return this._tokens}}var _w=()=>{};class Xc{constructor(J,$){this.tokenizationSupport=$,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new iH(J)}getStartState(J){return this.store.getStartState(J,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class iH{constructor(J){this.lineCount=J,this._tokenizationStateStore=new Yc,this._invalidEndStatesLineNumbers=new Zc,this._invalidEndStatesLineNumbers.addRange(new s0(1,J+1))}getEndState(J){return this._tokenizationStateStore.getEndState(J)}setEndState(J,$){if(!$)throw new S1("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(J);let Q=this._tokenizationStateStore.setEndState(J,$);if(Q&&J<this.lineCount)this._invalidEndStatesLineNumbers.addRange(new s0(J+1,J+2));return Q}acceptChange(J,$){this.lineCount+=$-J.length,this._tokenizationStateStore.acceptChange(J,$),this._invalidEndStatesLineNumbers.addRangeAndResize(new s0(J.startLineNumber,J.endLineNumberExclusive),$)}acceptChanges(J){for(let $ of J){let[Q]=s9($.text);this.acceptChange(new S0($.range.startLineNumber,$.range.endLineNumber+1),Q+1)}}invalidateEndStateRange(J){this._invalidEndStatesLineNumbers.addRange(new s0(J.startLineNumber,J.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(J,$){if(J===1)return $;return this.getEndState(J-1)}getFirstInvalidLine(J){let $=this.getFirstInvalidEndStateLineNumber();if($===null)return null;let Q=this.getStartState($,J);if(!Q)throw new S1("Start state must be defined");return{lineNumber:$,startState:Q}}}class Yc{constructor(){this._lineEndStates=new Rw(null)}getEndState(J){return this._lineEndStates.get(J)}setEndState(J,$){let Q=this._lineEndStates.get(J);if(Q&&Q.equals($))return!1;return this._lineEndStates.set(J,$),!0}acceptChange(J,$){let Q=J.length;if($>0&&Q>0)Q--,$--;this._lineEndStates.replace(J.startLineNumber,Q,$)}}class Zc{constructor(){this._ranges=[]}get min(){if(this._ranges.length===0)return null;return this._ranges[0].start}delete(J){let $=this._ranges.findIndex((Q)=>Q.contains(J));if($!==-1){let Q=this._ranges[$];if(Q.start===J)if(Q.endExclusive===J+1)this._ranges.splice($,1);else this._ranges[$]=new s0(J+1,Q.endExclusive);else if(Q.endExclusive===J+1)this._ranges[$]=new s0(Q.start,J);else this._ranges.splice($,1,new s0(Q.start,J),new s0(J+1,Q.endExclusive))}}addRange(J){s0.addRange(J,this._ranges)}addRangeAndResize(J,$){let Q=0;while(!(Q>=this._ranges.length||J.start<=this._ranges[Q].endExclusive))Q++;let X=Q;while(!(X>=this._ranges.length||J.endExclusive<this._ranges[X].start))X++;let Y=$-J.length;for(let Z=X;Z<this._ranges.length;Z++)this._ranges[Z]=this._ranges[Z].delta(Y);if(Q===X){let Z=new s0(J.start,J.start+$);if(!Z.isEmpty)this._ranges.splice(Q,0,Z)}else{let Z=Math.min(J.start,this._ranges[Q].start),G=Math.max(J.endExclusive,this._ranges[X-1].endExclusive),q=new s0(Z,G+Y);if(!q.isEmpty)this._ranges.splice(Q,X-Q,q);else this._ranges.splice(Q,X-Q)}}toString(){return this._ranges.map((J)=>J.toString()).join(" + ")}}function rH(J,$,Q,X,Y,Z){let G=null;if(Q)try{G=Q.tokenizeEncoded(X,Y,Z.clone())}catch(q){o0(q)}if(!G)G=Pq(J.encodeLanguageId($),Z);return O6.convertToEndOffset(G.tokens,X.length),G}class Nw{constructor(J,$){this._tokenizerWithStateStore=J,this._backgroundTokenStore=$,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){if(this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;this._isScheduled=!0,sM((J)=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(J)})}_backgroundTokenizeWithDeadline(J){let $=Date.now()+J.timeRemaining(),Q=()=>{if(this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;if(this._backgroundTokenizeForAtLeast1ms(),Date.now()<$)wW(Q);else this._beginBackgroundTokenization()};Q()}_backgroundTokenizeForAtLeast1ms(){let J=this._tokenizerWithStateStore._textModel.getLineCount(),$=new W3,Q=G5.create(!1);do{if(Q.elapsed()>1)break;if(this._tokenizeOneInvalidLine($)>=J)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens($.finalize()),this.checkFinished()}_hasLinesToTokenize(){if(!this._tokenizerWithStateStore)return!1;return!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(J){var $;let Q=($=this._tokenizerWithStateStore)===null||$===void 0?void 0:$.getFirstInvalidLine();if(!Q)return this._tokenizerWithStateStore._textModel.getLineCount()+1;return this._tokenizerWithStateStore.updateTokensUntilLine(J,Q.lineNumber),Q.lineNumber}checkFinished(){if(this._isDisposed)return;if(this._tokenizerWithStateStore.store.allStatesValid())this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(J,$){this._tokenizerWithStateStore.store.invalidateEndStateRange(new S0(J,$))}}var Ow;var Gc=N(()=>{u1();P1();M1();J$();f7();m9();ez();Qc();_w();pQ();Ow=class Ow extends Xc{constructor(J,$,Q,X){super(J,$);this._textModel=Q,this._languageIdCodec=X}updateTokensUntilLine(J,$){let Q=this._textModel.getLanguageId();while(!0){let X=this.getFirstInvalidLine();if(!X||X.lineNumber>$)break;let Y=this._textModel.getLineContent(X.lineNumber),Z=rH(this._languageIdCodec,Q,this.tokenizationSupport,Y,!0,X.startState);J.add(X.lineNumber,Z.tokens),this.store.setEndState(X.lineNumber,Z.endState)}}getTokenTypeIfInsertingCharacter(J,$){let Q=this.getStartState(J.lineNumber);if(!Q)return 0;let X=this._textModel.getLanguageId(),Y=this._textModel.getLineContent(J.lineNumber),Z=Y.substring(0,J.column-1)+$+Y.substring(J.column-1),G=rH(this._languageIdCodec,X,this.tokenizationSupport,Z,!0,Q),q=new O6(G.tokens,Z,this._languageIdCodec);if(q.getCount()===0)return 0;let U=q.findTokenIndexAtOffset(J.column-1);return q.getStandardTokenType(U)}tokenizeLineWithEdit(J,$,Q){let{lineNumber:X,column:Y}=J,Z=this.getStartState(X);if(!Z)return null;let G=this._textModel.getLineContent(X),q=G.substring(0,Y-1)+Q+G.substring(Y-1+$),U=this._textModel.getLanguageIdAtPosition(X,0),z=rH(this._languageIdCodec,U,this.tokenizationSupport,q,!0,Z);return new O6(z.tokens,q,this._languageIdCodec)}isCheapToTokenize(J){let $=this.store.getFirstInvalidEndStateLineNumberOrMax();if(J<$)return!0;if(J===$&&this._textModel.getLineLength(J)<2048)return!0;return!1}tokenizeHeuristically(J,$,Q){if(Q<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if($<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(J,Q),{heuristicTokens:!1};let X=this.guessStartState($),Y=this._textModel.getLanguageId();for(let Z=$;Z<=Q;Z++){let G=this._textModel.getLineContent(Z),q=rH(this._languageIdCodec,Y,this.tokenizationSupport,G,!0,X);J.add(Z,q.tokens),X=q.endState}return{heuristicTokens:!0}}guessStartState(J){let $=this._textModel.getLineFirstNonWhitespaceColumn(J),Q=[],X=null;for(let G=J-1;$>1&&G>=1;G--){let q=this._textModel.getLineFirstNonWhitespaceColumn(G);if(q===0)continue;if(q<$){if(Q.push(this._textModel.getLineContent(G)),$=q,X=this.getStartState(G),X)break}}if(!X)X=this.tokenizationSupport.getInitialState();Q.reverse();let Y=this._textModel.getLanguageId(),Z=X;for(let G of Q)Z=rH(this._languageIdCodec,Y,this.tokenizationSupport,G,!1,Z).endState;return Z}}});class LJ{static deleteBeginning(J,$){if(J===null||J===p$)return J;return LJ.delete(J,0,$)}static deleteEnding(J,$){if(J===null||J===p$)return J;let Q=m$(J),X=Q[Q.length-2];return LJ.delete(J,$,X)}static delete(J,$,Q){if(J===null||J===p$||$===Q)return J;let X=m$(J),Y=X.length>>>1;if($===0&&X[X.length-2]===Q)return p$;let Z=O6.findIndexInTokensArray(X,$),G=Z>0?X[Z-1<<1]:0,q=X[Z<<1];if(Q<q){let V=Q-$;for(let W=Z;W<Y;W++)X[W<<1]-=V;return J}let U,z;if(G!==$)X[Z<<1]=$,U=Z+1<<1,z=$;else U=Z<<1,z=G;let H=Q-$;for(let V=Z+1;V<Y;V++){let W=X[V<<1]-H;if(W>z)X[U++]=W,X[U++]=X[(V<<1)+1],z=W}if(U===X.length)return J;let j=new Uint32Array(U);return j.set(X.subarray(0,U),0),j.buffer}static append(J,$){if($===p$)return J;if(J===p$)return $;if(J===null)return J;if($===null)return null;let Q=m$(J),X=m$($),Y=X.length>>>1,Z=new Uint32Array(Q.length+X.length);Z.set(Q,0);let G=Q.length,q=Q[Q.length-2];for(let U=0;U<Y;U++)Z[G++]=X[U<<1]+q,Z[G++]=X[(U<<1)+1];return Z.buffer}static insert(J,$,Q){if(J===null||J===p$)return J;let X=m$(J),Y=X.length>>>1,Z=O6.findIndexInTokensArray(X,$);if(Z>0){if(X[Z-1<<1]===$)Z--}for(let G=Z;G<Y;G++)X[G<<1]+=Q;return J}}function m$(J){if(J instanceof Uint32Array)return J;else return new Uint32Array(J)}var p$;var qc=N(()=>{pQ();p$=new Uint32Array(0).buffer});class B3{constructor(J){this._lineTokens=[],this._len=0,this._languageIdCodec=J}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(J,$,Q){let X=null;if($<this._len)X=this._lineTokens[$];if(X!==null&&X!==p$)return new O6(m$(X),Q,this._languageIdCodec);let Y=new Uint32Array(2);return Y[0]=Q.length,Y[1]=Uc(this._languageIdCodec.encodeLanguageId(J)),new O6(Y,Q,this._languageIdCodec)}static _massageTokens(J,$,Q){let X=Q?m$(Q):null;if($===0){let Y=!1;if(X&&X.length>1)Y=u5.getLanguageId(X[1])!==J;if(!Y)return p$}if(!X||X.length===0){let Y=new Uint32Array(2);return Y[0]=$,Y[1]=Uc(J),Y.buffer}if(X[X.length-2]=$,X.byteOffset===0&&X.byteLength===X.buffer.byteLength)return X.buffer;return X}_ensureLine(J){while(J>=this._len)this._lineTokens[this._len]=null,this._len++}_deleteLines(J,$){if($===0)return;if(J+$>this._len)$=this._len-J;this._lineTokens.splice(J,$),this._len-=$}_insertLines(J,$){if($===0)return;let Q=[];for(let X=0;X<$;X++)Q[X]=null;this._lineTokens=xX(this._lineTokens,J,Q),this._len+=$}setTokens(J,$,Q,X,Y){let Z=B3._massageTokens(this._languageIdCodec.encodeLanguageId(J),Q,X);this._ensureLine($);let G=this._lineTokens[$];if(this._lineTokens[$]=Z,Y)return!B3._equals(G,Z);return!1}static _equals(J,$){if(!J||!$)return!J&&!$;let Q=m$(J),X=m$($);if(Q.length!==X.length)return!1;for(let Y=0,Z=Q.length;Y<Z;Y++)if(Q[Y]!==X[Y])return!1;return!0}acceptEdit(J,$,Q){this._acceptDeleteRange(J),this._acceptInsertText(new v(J.startLineNumber,J.startColumn),$,Q)}_acceptDeleteRange(J){let $=J.startLineNumber-1;if($>=this._len)return;if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._lineTokens[$]=LJ.delete(this._lineTokens[$],J.startColumn-1,J.endColumn-1);return}this._lineTokens[$]=LJ.deleteEnding(this._lineTokens[$],J.startColumn-1);let Q=J.endLineNumber-1,X=null;if(Q<this._len)X=LJ.deleteBeginning(this._lineTokens[Q],J.endColumn-1);this._lineTokens[$]=LJ.append(this._lineTokens[$],X),this._deleteLines(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$,Q){if($===0&&Q===0)return;let X=J.lineNumber-1;if(X>=this._len)return;if($===0){this._lineTokens[X]=LJ.insert(this._lineTokens[X],J.column-1,Q);return}this._lineTokens[X]=LJ.deleteEnding(this._lineTokens[X],J.column-1),this._lineTokens[X]=LJ.insert(this._lineTokens[X],J.column-1,Q),this._insertLines(J.lineNumber,$)}setMultilineTokens(J,$){if(J.length===0)return{changes:[]};let Q=[];for(let X=0,Y=J.length;X<Y;X++){let Z=J[X],G=0,q=0,U=!1;for(let z=Z.startLineNumber;z<=Z.endLineNumber;z++)if(U)this.setTokens($.getLanguageId(),z-1,$.getLineLength(z),Z.getLineTokens(z),!1),q=z;else if(this.setTokens($.getLanguageId(),z-1,$.getLineLength(z),Z.getLineTokens(z),!0))U=!0,G=z,q=z;if(U)Q.push({fromLineNumber:G,toLineNumber:q})}return{changes:Q}}}function Uc(J){return(J<<0|0|0|32768|33554432|1024)>>>0}var zc=N(()=>{U1();qc();pQ()});class MA{constructor(J){this._pieces=[],this._isComplete=!1,this._languageIdCodec=J}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(J,$){this._pieces=J||[],this._isComplete=$}setPartial(J,$){let Q=J;if($.length>0){let Y=$[0].getRange(),Z=$[$.length-1].getRange();if(!Y||!Z)return J;Q=J.plusRange(Y).plusRange(Z)}let X=null;for(let Y=0,Z=this._pieces.length;Y<Z;Y++){let G=this._pieces[Y];if(G.endLineNumber<Q.startLineNumber)continue;if(G.startLineNumber>Q.endLineNumber){X=X||{index:Y};break}if(G.removeTokens(Q),G.isEmpty()){this._pieces.splice(Y,1),Y--,Z--;continue}if(G.endLineNumber<Q.startLineNumber)continue;if(G.startLineNumber>Q.endLineNumber){X=X||{index:Y};continue}let[q,U]=G.split(Q);if(q.isEmpty()){X=X||{index:Y};continue}if(U.isEmpty())continue;this._pieces.splice(Y,1,q,U),Y++,Z++,X=X||{index:Y}}if(X=X||{index:this._pieces.length},$.length>0)this._pieces=xX(this._pieces,X.index,$);return Q}isComplete(){return this._isComplete}addSparseTokens(J,$){if($.getLineContent().length===0)return $;let Q=this._pieces;if(Q.length===0)return $;let X=MA._findFirstPieceWithLine(Q,J),Y=Q[X].getLineTokens(J);if(!Y)return $;let Z=$.getCount(),G=Y.getCount(),q=0,U=[],z=0,H=0,j=(V,W)=>{if(V===H)return;H=V,U[z++]=V,U[z++]=W};for(let V=0;V<G;V++){let W=Y.getStartCharacter(V),B=Y.getEndCharacter(V),K=Y.getMetadata(V),P=((K&1?2048:0)|(K&2?4096:0)|(K&4?8192:0)|(K&8?16384:0)|(K&16?16744448:0)|(K&32?4278190080:0))>>>0,A=~P>>>0;while(q<Z&&$.getEndOffset(q)<=W)j($.getEndOffset(q),$.getMetadata(q)),q++;if(q<Z&&$.getStartOffset(q)<W)j(W,$.getMetadata(q));while(q<Z&&$.getEndOffset(q)<B)j($.getEndOffset(q),$.getMetadata(q)&A|K&P),q++;if(q<Z){if(j(B,$.getMetadata(q)&A|K&P),$.getEndOffset(q)===B)q++}else{let D=Math.min(Math.max(0,q-1),Z-1);j(B,$.getMetadata(D)&A|K&P)}}while(q<Z)j($.getEndOffset(q),$.getMetadata(q)),q++;return new O6(new Uint32Array(U),$.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(J,$){let Q=0,X=J.length-1;while(Q<X){let Y=Q+Math.floor((X-Q)/2);if(J[Y].endLineNumber<$)Q=Y+1;else if(J[Y].startLineNumber>$)X=Y-1;else{while(Y>Q&&J[Y-1].startLineNumber<=$&&$<=J[Y-1].endLineNumber)Y--;return Y}}return Q}acceptEdit(J,$,Q,X,Y){for(let Z of this._pieces)Z.acceptEdit(J,$,Q,X,Y)}}var Hc=N(()=>{U1();pQ()});var nH,jc,Vc;var Wc=N(()=>{U1();u1();P1();F0();Q0();f7();bG();P8();QT();Gc();_w();zc();Hc();nH=class nH extends TH{constructor(J,$,Q,X,Y,Z){super();this._languageService=J,this._languageConfigurationService=$,this._textModel=Q,this._bracketPairsTextModelPart=X,this._languageId=Y,this._attachedViews=Z,this._semanticTokens=new MA(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new y),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new jc(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((G)=>{if(G.affects(this._languageId))this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens((G)=>{this._emitModelTokensChangedEvent(G)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((G)=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(J){if(J.isFlush)this._semanticTokens.flush();else if(!J.isEolChange)for(let $ of J.changes){let[Q,X,Y]=s9($.text);this._semanticTokens.acceptEdit($.range,Q,X,Y,$.text.length>0?$.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(J)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(J){this.validateLineNumber(J);let $=this.grammarTokens.getLineTokens(J);return this._semanticTokens.addSparseTokens(J,$)}_emitModelTokensChangedEvent(J){if(!this._textModel._isDisposing())this._bracketPairsTextModelPart.handleDidChangeTokens(J),this._onDidChangeTokens.fire(J)}validateLineNumber(J){if(J<1||J>this._textModel.getLineCount())throw new S1("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(J){this.validateLineNumber(J),this.grammarTokens.forceTokenization(J)}isCheapToTokenize(J){return this.validateLineNumber(J),this.grammarTokens.isCheapToTokenize(J)}tokenizeIfCheap(J){this.validateLineNumber(J),this.grammarTokens.tokenizeIfCheap(J)}getTokenTypeIfInsertingCharacter(J,$,Q){return this.grammarTokens.getTokenTypeIfInsertingCharacter(J,$,Q)}tokenizeLineWithEdit(J,$,Q){return this.grammarTokens.tokenizeLineWithEdit(J,$,Q)}setSemanticTokens(J,$){this._semanticTokens.set(J,$),this._emitModelTokensChangedEvent({semanticTokensApplied:J!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(J,$){if(this.hasCompleteSemanticTokens())return;let Q=this._textModel.validateRange(this._semanticTokens.setPartial(J,$));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:Q.startLineNumber,toLineNumber:Q.endLineNumber}]})}getWordAtPosition(J){this.assertNotDisposed();let $=this._textModel.validatePosition(J),Q=this._textModel.getLineContent($.lineNumber),X=this.getLineTokens($.lineNumber),Y=X.findTokenIndexAtOffset($.column-1),[Z,G]=nH._findLanguageBoundaries(X,Y),q=CX($.column,this.getLanguageConfiguration(X.getLanguageId(Y)).getWordDefinition(),Q.substring(Z,G),Z);if(q&&q.startColumn<=J.column&&J.column<=q.endColumn)return q;if(Y>0&&Z===$.column-1){let[U,z]=nH._findLanguageBoundaries(X,Y-1),H=CX($.column,this.getLanguageConfiguration(X.getLanguageId(Y-1)).getWordDefinition(),Q.substring(U,z),U);if(H&&H.startColumn<=J.column&&J.column<=H.endColumn)return H}return null}getLanguageConfiguration(J){return this._languageConfigurationService.getLanguageConfiguration(J)}static _findLanguageBoundaries(J,$){let Q=J.getLanguageId($),X=0;for(let Z=$;Z>=0&&J.getLanguageId(Z)===Q;Z--)X=J.getStartOffset(Z);let Y=J.getLineContent().length;for(let Z=$,G=J.getCount();Z<G&&J.getLanguageId(Z)===Q;Z++)Y=J.getEndOffset(Z);return[X,Y]}getWordUntilPosition(J){let $=this.getWordAtPosition(J);if(!$)return{word:"",startColumn:J.column,endColumn:J.column};return{word:$.word.substr(0,J.column-$.startColumn),startColumn:$.startColumn,endColumn:J.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(J,$){let Q=this._textModel.validatePosition(new v(J,$)),X=this.getLineTokens(Q.lineNumber);return X.getLanguageId(X.findTokenIndexAtOffset(Q.column-1))}setLanguageId(J,$="api"){if(this._languageId===J)return;let Q={oldLanguage:this._languageId,newLanguage:J,source:$};this._languageId=J,this._bracketPairsTextModelPart.handleDidChangeLanguage(Q),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(Q),this._onDidChangeLanguageConfiguration.fire({})}};jc=class jc extends h{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(J,$,Q,X){super();this._languageIdCodec=J,this._textModel=$,this.getLanguageId=Q,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new f5),this._tokens=new B3(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new f5),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new y),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new y),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new kZ),this._register(c1.onDidChange((Y)=>{let Z=this.getLanguageId();if(Y.changedLanguages.indexOf(Z)===-1)return;this.resetTokenization()})),this.resetTokenization(),this._register(X.onDidChangeVisibleRanges(({view:Y,state:Z})=>{if(Z){let G=this._attachedViewStates.get(Y);if(!G)G=new Vc(()=>this.refreshRanges(G.lineRanges)),this._attachedViewStates.set(Y,G);G.handleStateChange(Z)}else this._attachedViewStates.deleteAndDispose(Y)}))}resetTokenization(J=!0){var $;if(this._tokens.flush(),($=this._debugBackgroundTokens)===null||$===void 0||$.flush(),this._debugBackgroundStates)this._debugBackgroundStates=new iH(this._textModel.getLineCount());if(J)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});let Q=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];let Z=c1.get(this.getLanguageId());if(!Z)return[null,null];let G;try{G=Z.getInitialState()}catch(q){return o0(q),[null,null]}return[Z,G]},[X,Y]=Q();if(X&&Y)this._tokenizer=new Ow(this._textModel.getLineCount(),X,this._textModel,this._languageIdCodec);else this._tokenizer=null;if(this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){let Z={setTokens:(G)=>{this.setTokens(G)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;let G=2;this._backgroundTokenizationState=G,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(G,q)=>{var U;if(!this._tokenizer)return;let z=this._tokenizer.store.getFirstInvalidEndStateLineNumber();if(z!==null&&G>=z)(U=this._tokenizer)===null||U===void 0||U.store.setEndState(G,q)}};if(X&&X.createBackgroundTokenizer&&!X.backgroundTokenizerShouldOnlyVerifyTokens)this._backgroundTokenizer.value=X.createBackgroundTokenizer(this._textModel,Z);if(!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization())this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Nw(this._tokenizer,Z),this._defaultBackgroundTokenizer.handleChanges();if((X===null||X===void 0?void 0:X.backgroundTokenizerShouldOnlyVerifyTokens)&&X.createBackgroundTokenizer)this._debugBackgroundTokens=new B3(this._languageIdCodec),this._debugBackgroundStates=new iH(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=X.createBackgroundTokenizer(this._textModel,{setTokens:(G)=>{var q;(q=this._debugBackgroundTokens)===null||q===void 0||q.setMultilineTokens(G,this._textModel)},backgroundTokenizationFinished(){},setEndState:(G,q)=>{var U;(U=this._debugBackgroundStates)===null||U===void 0||U.setEndState(G,q)}});else this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var J;(J=this._defaultBackgroundTokenizer)===null||J===void 0||J.handleChanges()}handleDidChangeContent(J){var $,Q,X;if(J.isFlush)this.resetTokenization(!1);else if(!J.isEolChange){for(let Y of J.changes){let[Z,G]=s9(Y.text);this._tokens.acceptEdit(Y.range,Z,G),($=this._debugBackgroundTokens)===null||$===void 0||$.acceptEdit(Y.range,Z,G)}if((Q=this._debugBackgroundStates)===null||Q===void 0||Q.acceptChanges(J.changes),this._tokenizer)this._tokenizer.store.acceptChanges(J.changes);(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.handleChanges()}}setTokens(J){let{changes:$}=this._tokens.setMultilineTokens(J,this._textModel);if($.length>0)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:$});return{changes:$}}refreshAllVisibleLineTokens(){let J=S0.joinMany([...this._attachedViewStates].map(([$,Q])=>Q.lineRanges));this.refreshRanges(J)}refreshRanges(J){for(let $ of J)this.refreshRange($.startLineNumber,$.endLineNumberExclusive-1)}refreshRange(J,$){var Q,X;if(!this._tokenizer)return;J=Math.max(1,Math.min(this._textModel.getLineCount(),J)),$=Math.min(this._textModel.getLineCount(),$);let Y=new W3,{heuristicTokens:Z}=this._tokenizer.tokenizeHeuristically(Y,J,$),G=this.setTokens(Y.finalize());if(Z)for(let q of G.changes)(Q=this._backgroundTokenizer.value)===null||Q===void 0||Q.requestTokens(q.fromLineNumber,q.toLineNumber+1);(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.checkFinished()}forceTokenization(J){var $,Q;let X=new W3;($=this._tokenizer)===null||$===void 0||$.updateTokensUntilLine(X,J),this.setTokens(X.finalize()),(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.checkFinished()}isCheapToTokenize(J){if(!this._tokenizer)return!0;return this._tokenizer.isCheapToTokenize(J)}tokenizeIfCheap(J){if(this.isCheapToTokenize(J))this.forceTokenization(J)}getLineTokens(J){var $;let Q=this._textModel.getLineContent(J),X=this._tokens.getTokens(this._textModel.getLanguageId(),J-1,Q);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer){if(this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>J&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>J){let Y=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),J-1,Q);if(!X.equals(Y)&&(($=this._debugBackgroundTokenizer.value)===null||$===void 0?void 0:$.reportMismatchingTokens))this._debugBackgroundTokenizer.value.reportMismatchingTokens(J)}}return X}getTokenTypeIfInsertingCharacter(J,$,Q){if(!this._tokenizer)return 0;let X=this._textModel.validatePosition(new v(J,$));return this.forceTokenization(X.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(X,Q)}tokenizeLineWithEdit(J,$,Q){if(!this._tokenizer)return null;let X=this._textModel.validatePosition(J);return this.forceTokenization(X.lineNumber),this._tokenizer.tokenizeLineWithEdit(X,$,Q)}get hasTokens(){return this._tokens.hasTokens}};Vc=class Vc extends h{get lineRanges(){return this._lineRanges}constructor(J){super();this._refreshTokens=J,this.runner=this._register(new t1(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){if(Q6(this._computedLineRanges,this._lineRanges,(J,$)=>J.equals($)))return;this._computedLineRanges=this._lineRanges,this._refreshTokens()}handleStateChange(J){if(this._lineRanges=J.visibleLineRanges,J.stabilized)this.runner.cancel(),this.update();else this.runner.schedule()}}});class Tw{constructor(){this.changeType=1}}class D7{static applyInjectedText(J,$){if(!$||$.length===0)return J;let Q="",X=0;for(let Y of $)Q+=J.substring(X,Y.column-1),X=Y.column-1,Q+=Y.options.content;return Q+=J.substring(X),Q}static fromDecorations(J){let $=[];for(let Q of J){if(Q.options.before&&Q.options.before.content.length>0)$.push(new D7(Q.ownerId,Q.range.startLineNumber,Q.range.startColumn,Q.options.before,0));if(Q.options.after&&Q.options.after.content.length>0)$.push(new D7(Q.ownerId,Q.range.endLineNumber,Q.range.endColumn,Q.options.after,1))}return $.sort((Q,X)=>{if(Q.lineNumber===X.lineNumber){if(Q.column===X.column)return Q.order-X.order;return Q.column-X.column}return Q.lineNumber-X.lineNumber}),$}constructor(J,$,Q,X,Y){this.ownerId=J,this.lineNumber=$,this.column=Q,this.options=X,this.order=Y}}class _A{constructor(J,$,Q){this.changeType=2,this.lineNumber=J,this.detail=$,this.injectedText=Q}}class ww{constructor(J,$){this.changeType=3,this.fromLineNumber=J,this.toLineNumber=$}}class Lw{constructor(J,$,Q,X){this.changeType=4,this.injectedTexts=X,this.fromLineNumber=J,this.toLineNumber=$,this.detail=Q}}class kw{constructor(){this.changeType=5}}class h2{constructor(J,$,Q,X){this.changes=J,this.versionId=$,this.isUndoing=Q,this.isRedoing=X,this.resultingSelection=null}containsEvent(J){for(let $=0,Q=this.changes.length;$<Q;$++)if(this.changes[$].changeType===J)return!0;return!1}static merge(J,$){let Q=[].concat(J.changes).concat($.changes),X=$.versionId,Y=J.isUndoing||$.isUndoing,Z=J.isRedoing||$.isRedoing;return new h2(Q,X,Y,Z)}}class oH{constructor(J){this.changes=J}}class zX{constructor(J,$){this.rawContentChangedEvent=J,this.contentChangedEvent=$}merge(J){let $=h2.merge(this.rawContentChangedEvent,J.rawContentChangedEvent),Q=zX._mergeChangeEvents(this.contentChangedEvent,J.contentChangedEvent);return new zX($,Q)}static _mergeChangeEvents(J,$){let Q=[].concat(J.changes).concat($.changes),X=$.eol,Y=$.versionId,Z=J.isUndoing||$.isUndoing,G=J.isRedoing||$.isRedoing,q=J.isFlush||$.isFlush,U=J.isEolChange&&$.isEolChange;return{changes:Q,eol:X,isEolChange:U,versionId:Y,isUndoing:Z,isRedoing:G,isFlush:q}}}class OA{constructor(J,$){this.resource=J,this.elements=$}}class f2{constructor(){this.id=f2._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}class kJ{constructor(){this.id=kJ._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}var F3;var NA=N(()=>{u0();F3=M0("undoRedoService");f2._ID=0;f2.None=new f2;kJ._ID=0;kJ.None=new kJ});function a80(J){let $=new RA;return $.acceptChunk(J),$.finish()}function r80(J){let $=new RA,Q;while(typeof(Q=J.read())==="string")$.acceptChunk(Q);return $.finish()}function Bc(J,$){let Q;if(typeof J==="string")Q=a80(J);else if(Kv(J))Q=r80(J);else Q=J;return Q.create($)}class Ac{constructor(J){this._source=J,this._eos=!1}read(){if(this._eos)return null;let J=[],$=0,Q=0;do{let X=this._source.read();if(X===null)if(this._eos=!0,$===0)return null;else return J.join("");if(X.length>0)J[$++]=X,Q+=X.length;if(Q>=65536)return J.join("")}while(!0)}}function o80(J){let $=0;for(let Q of J)if(Q===" "||Q==="\t")$++;else break;return $}function Iw(J){return J.options.overviewRuler&&J.options.overviewRuler.color?!0:!1}function t80(J){return!!J.after||!!J.before}function wA(J){return!!J.options.after||!!J.options.before}class yw{constructor(){this._decorationsTree0=new uH,this._decorationsTree1=new uH,this._injectedTextDecorationsTree=new uH}ensureAllNodesHaveRanges(J){this.getAll(J,0,!1,!1,!1)}_ensureNodesHaveRanges(J,$){for(let Q of $)if(Q.range===null)Q.range=J.getRangeAt(Q.cachedAbsoluteStart,Q.cachedAbsoluteEnd);return $}getAllInInterval(J,$,Q,X,Y,Z){let G=J.getVersionId(),q=this._intervalSearch($,Q,X,Y,G,Z);return this._ensureNodesHaveRanges(J,q)}_intervalSearch(J,$,Q,X,Y,Z){let G=this._decorationsTree0.intervalSearch(J,$,Q,X,Y,Z),q=this._decorationsTree1.intervalSearch(J,$,Q,X,Y,Z),U=this._injectedTextDecorationsTree.intervalSearch(J,$,Q,X,Y,Z);return G.concat(q).concat(U)}getInjectedTextInInterval(J,$,Q,X){let Y=J.getVersionId(),Z=this._injectedTextDecorationsTree.intervalSearch($,Q,X,!1,Y,!1);return this._ensureNodesHaveRanges(J,Z).filter((G)=>G.options.showIfCollapsed||!G.range.isEmpty())}getAllInjectedText(J,$){let Q=J.getVersionId(),X=this._injectedTextDecorationsTree.search($,!1,Q,!1);return this._ensureNodesHaveRanges(J,X).filter((Y)=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(J,$,Q,X,Y){let Z=J.getVersionId(),G=this._search($,Q,X,Z,Y);return this._ensureNodesHaveRanges(J,G)}_search(J,$,Q,X,Y){if(Q)return this._decorationsTree1.search(J,$,X,Y);else{let Z=this._decorationsTree0.search(J,$,X,Y),G=this._decorationsTree1.search(J,$,X,Y),q=this._injectedTextDecorationsTree.search(J,$,X,Y);return Z.concat(G).concat(q)}}collectNodesFromOwner(J){let $=this._decorationsTree0.collectNodesFromOwner(J),Q=this._decorationsTree1.collectNodesFromOwner(J),X=this._injectedTextDecorationsTree.collectNodesFromOwner(J);return $.concat(Q).concat(X)}collectNodesPostOrder(){let J=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),Q=this._injectedTextDecorationsTree.collectNodesPostOrder();return J.concat($).concat(Q)}insert(J){if(wA(J))this._injectedTextDecorationsTree.insert(J);else if(Iw(J))this._decorationsTree1.insert(J);else this._decorationsTree0.insert(J)}delete(J){if(wA(J))this._injectedTextDecorationsTree.delete(J);else if(Iw(J))this._decorationsTree1.delete(J);else this._decorationsTree0.delete(J)}getNodeRange(J,$){let Q=J.getVersionId();if($.cachedVersionId!==Q)this._resolveNode($,Q);if($.range===null)$.range=J.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd);return $.range}_resolveNode(J,$){if(wA(J))this._injectedTextDecorationsTree.resolveNode(J,$);else if(Iw(J))this._decorationsTree1.resolveNode(J,$);else this._decorationsTree0.resolveNode(J,$)}acceptReplace(J,$,Q,X){this._decorationsTree0.acceptReplace(J,$,Q,X),this._decorationsTree1.acceptReplace(J,$,Q,X),this._injectedTextDecorationsTree.acceptReplace(J,$,Q,X)}}function u$(J){return J.replace(/[^a-z0-9\-_]/gi," ")}class xw{constructor(J){this.color=J.color||"",this.darkColor=J.darkColor||""}}class Dc{constructor(J){var $;this.position=($=J===null||J===void 0?void 0:J.position)!==null&&$!==void 0?$:p9.Center,this.persistLane=J===null||J===void 0?void 0:J.persistLane}}class eH{static from(J){if(J instanceof eH)return J;return new eH(J)}constructor(J){this.content=J.content||"",this.inlineClassName=J.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=J.attachedData||null,this.cursorStops=J.cursorStops||null}}class L1{static register(J){return new L1(J)}static createDynamic(J){return new L1(J)}constructor(J){var $,Q,X,Y,Z,G;this.description=J.description,this.blockClassName=J.blockClassName?u$(J.blockClassName):null,this.blockDoesNotCollapse=($=J.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(Q=J.blockIsAfterEnd)!==null&&Q!==void 0?Q:null,this.blockPadding=(X=J.blockPadding)!==null&&X!==void 0?X:null,this.stickiness=J.stickiness||0,this.zIndex=J.zIndex||0,this.className=J.className?u$(J.className):null,this.shouldFillLineOnLineBreak=(Y=J.shouldFillLineOnLineBreak)!==null&&Y!==void 0?Y:null,this.hoverMessage=J.hoverMessage||null,this.glyphMarginHoverMessage=J.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=J.lineNumberHoverMessage||null,this.isWholeLine=J.isWholeLine||!1,this.showIfCollapsed=J.showIfCollapsed||!1,this.collapseOnReplaceEdit=J.collapseOnReplaceEdit||!1,this.overviewRuler=J.overviewRuler?new Pc(J.overviewRuler):null,this.minimap=J.minimap?new Rc(J.minimap):null,this.glyphMargin=J.glyphMarginClassName?new Dc(J.glyphMargin):null,this.glyphMarginClassName=J.glyphMarginClassName?u$(J.glyphMarginClassName):null,this.linesDecorationsClassName=J.linesDecorationsClassName?u$(J.linesDecorationsClassName):null,this.lineNumberClassName=J.lineNumberClassName?u$(J.lineNumberClassName):null,this.linesDecorationsTooltip=J.linesDecorationsTooltip?HS(J.linesDecorationsTooltip):null,this.firstLineDecorationClassName=J.firstLineDecorationClassName?u$(J.firstLineDecorationClassName):null,this.marginClassName=J.marginClassName?u$(J.marginClassName):null,this.inlineClassName=J.inlineClassName?u$(J.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=J.beforeContentClassName?u$(J.beforeContentClassName):null,this.afterContentClassName=J.afterContentClassName?u$(J.afterContentClassName):null,this.after=J.after?eH.from(J.after):null,this.before=J.before?eH.from(J.before):null,this.hideInCommentTokens=(Z=J.hideInCommentTokens)!==null&&Z!==void 0?Z:!1,this.hideInStringTokens=(G=J.hideInStringTokens)!==null&&G!==void 0?G:!1}}function Kc(J){if(J instanceof L1)return J;return L1.createDynamic(J)}class Oc{constructor(){this._onDidChangeVisibleRanges=new y,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){let J=new Nc(($)=>{this._onDidChangeVisibleRanges.fire({view:J,state:$})});return this._views.add(J),J}detachView(J){this._views.delete(J),this._onDidChangeVisibleRanges.fire({view:J,state:void 0})}}class Nc{constructor(J){this.handleStateChange=J}setVisibleLines(J,$){let Q=J.map((X)=>new S0(X.startLineNumber,X.endLineNumber+1));this.handleStateChange({visibleLineRanges:Q,stabilized:$})}}var s80=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Ew=function(J,$){return function(Q,X){$(Q,X,J)}},g2,TA=0,i80=999,n80=1e4,tH=()=>{throw new Error("Invalid change accessor")},HX,Pc,Rc,Fc,Mc,_c;var EY=N(()=>{U1();g7();P1();F0();Q0();t0();o6();kN();f7();l0();E5();mU();v9();h8();v7();Tu();wu();zw();YT();au();Dw();$c();uF();Wc();NA();HX=g2=class J extends h{static resolveOptions($,Q){if(Q.detectIndentation){let X=Hw($,Q.tabSize,Q.insertSpaces);return new z2({tabSize:X.tabSize,indentSize:"tabSize",insertSpaces:X.insertSpaces,trimAutoWhitespace:Q.trimAutoWhitespace,defaultEOL:Q.defaultEOL,bracketPairColorizationOptions:Q.bracketPairColorizationOptions})}return new z2(Q)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent($){return this._eventEmitter.slowEvent((Q)=>$(Q.contentChangedEvent))}onDidChangeContentOrInjectedText($){return x8(this._eventEmitter.fastEvent((Q)=>$(Q)),this._onDidChangeInjectedText.event((Q)=>$(Q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor($,Q,X,Y=null,Z,G,q){super();if(this._undoRedoService=Z,this._languageService=G,this._languageConfigurationService=q,this._onWillDispose=this._register(new y),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Mc((W)=>this.handleBeforeFireDecorationsChangedEvent(W))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new y),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new y),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new y),this._eventEmitter=this._register(new _c),this._languageSelectionListener=this._register(new f5),this._deltaDecorationCallCnt=0,this._attachedViews=new Oc,TA++,this.id="$model"+TA,this.isForSimpleWidget=X.isForSimpleWidget,typeof Y==="undefined"||Y===null)this._associatedResource=I0.parse("inmemory://model/"+TA);else this._associatedResource=Y;this._attachedEditorCount=0;let{textBuffer:U,disposable:z}=Bc($,X.defaultEOL);this._buffer=U,this._bufferDisposable=z,this._options=g2.resolveOptions(this._buffer,X);let H=typeof Q==="string"?Q:Q.languageId;if(typeof Q!=="string")this._languageSelectionListener.value=Q.onDidChange(()=>this._setLanguage(Q.languageId));this._bracketPairs=this._register(new Jw(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new XT(this,this._languageConfigurationService)),this._decorationProvider=this._register(new $w(this)),this._tokenizationTextModelPart=new nH(this._languageService,this._languageConfigurationService,this,this._bracketPairs,H,this._attachedViews);let j=this._buffer.getLineCount(),V=this._buffer.getValueLengthInRange(new L(1,1,j,this._buffer.getLineLength(j)+1),0);if(X.largeFileOptimizations)this._isTooLargeForTokenization=V>g2.LARGE_FILE_SIZE_THRESHOLD||j>g2.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=V>g2.LARGE_FILE_HEAP_OPERATION_THRESHOLD;else this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1;this._isTooLargeForSyncing=V>g2._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=hB(TA),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new yw,this._commandManager=new AA(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(H)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;let $=new kY([],"",`
`,!1,!1,!0,!0);$.dispose(),this._buffer=$,this._bufferDisposable=h.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent($,Q){if(this.__isDisposing)return;this._tokenizationTextModelPart.handleDidChangeContent(Q),this._bracketPairs.handleDidChangeContent(Q),this._eventEmitter.fire(new zX($,Q))}setValue($){if(this._assertNotDisposed(),$===null||$===void 0)throw t4();let{textBuffer:Q,disposable:X}=Bc($,this._options.defaultEOL);this._setValueFromTextBuffer(Q,X)}_createContentChanged2($,Q,X,Y,Z,G,q,U){return{changes:[{range:$,rangeOffset:Q,rangeLength:X,text:Y}],eol:this._buffer.getEOL(),isEolChange:U,versionId:this.getVersionId(),isUndoing:Z,isRedoing:G,isFlush:q}}_setValueFromTextBuffer($,Q){this._assertNotDisposed();let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=Q,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new yw,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new h2([new Tw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!0,!1))}setEOL($){this._assertNotDisposed();let Q=$===1?`\r
`:`
`;if(this._buffer.getEOL()===Q)return;let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._onBeforeEOLChange(),this._buffer.setEOL(Q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new h2([new kw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let $=this.getVersionId(),Q=this._decorationsTree.collectNodesPostOrder();for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X],G=Z.range,q=Z.cachedAbsoluteStart-Z.start,U=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),z=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);Z.cachedAbsoluteStart=U,Z.cachedAbsoluteEnd=z,Z.cachedVersionId=$,Z.start=U-q,Z.end=z-q,GX(Z)}}onBeforeAttached(){if(this._attachedEditorCount++,this._attachedEditorCount===1)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);return this._attachedViews.attachView()}onBeforeDetached($){if(this._attachedEditorCount--,this._attachedEditorCount===0)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);this._attachedViews.detachView($)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,Q=0,X=this._buffer.getLineCount();for(let Y=1;Y<=X;Y++){let Z=this._buffer.getLineLength(Y);if(Z>=n80)Q+=Z;else $+=Z}return Q>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();let Q=typeof $.tabSize!=="undefined"?$.tabSize:this._options.tabSize,X=typeof $.indentSize!=="undefined"?$.indentSize:this._options.originalIndentSize,Y=typeof $.insertSpaces!=="undefined"?$.insertSpaces:this._options.insertSpaces,Z=typeof $.trimAutoWhitespace!=="undefined"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,G=typeof $.bracketColorizationOptions!=="undefined"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,q=new z2({tabSize:Q,indentSize:X,insertSpaces:Y,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Z,bracketPairColorizationOptions:G});if(this._options.equals(q))return;let U=this._options.createChangeEvent(q);this._options=q,this._bracketPairs.handleDidChangeOptions(U),this._decorationProvider.handleDidChangeOptions(U),this._onDidChangeOptions.fire(U)}detectIndentation($,Q){this._assertNotDisposed();let X=Hw(this._buffer,Q,$);this.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.tabSize})}normalizeIndentation($){return this._assertNotDisposed(),uK($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){let Q=this.findMatches(wM.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,Q.map((X)=>({range:X.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();let Q=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(Q.lineNumber,Q.column)}getPositionAt($){this._assertNotDisposed();let Q=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(Q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,Q=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new S1("Operation would exceed heap memory limits");let X=this.getFullModelRange(),Y=this.getValueInRange(X,$);if(Q)return this._buffer.getBOM()+Y;return Y}createSnapshot($=!1){return new Ac(this._buffer.createSnapshot($))}getValueLength($,Q=!1){this._assertNotDisposed();let X=this.getFullModelRange(),Y=this.getValueLengthInRange(X,$);if(Q)return this._buffer.getBOM().length+Y;return Y}getValueInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),Q)}getValueLengthInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),Q)}getCharacterCountInRange($,Q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),Q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new S1("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new S1("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new S1("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new S1("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new S1("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new S1("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){let Q=this._buffer.getLineCount(),X=$.startLineNumber,Y=$.startColumn,Z=Math.floor(typeof X==="number"&&!isNaN(X)?X:1),G=Math.floor(typeof Y==="number"&&!isNaN(Y)?Y:1);if(Z<1)Z=1,G=1;else if(Z>Q)Z=Q,G=this.getLineMaxColumn(Z);else if(G<=1)G=1;else{let j=this.getLineMaxColumn(Z);if(G>=j)G=j}let{endLineNumber:q,endColumn:U}=$,z=Math.floor(typeof q==="number"&&!isNaN(q)?q:1),H=Math.floor(typeof U==="number"&&!isNaN(U)?U:1);if(z<1)z=1,H=1;else if(z>Q)z=Q,H=this.getLineMaxColumn(z);else if(H<=1)H=1;else{let j=this.getLineMaxColumn(z);if(H>=j)H=j}if(X===Z&&Y===G&&q===z&&U===H&&$ instanceof L&&!($ instanceof v0))return $;return new L(Z,G,z,H)}_isValidPosition($,Q,X){if(typeof $!=="number"||typeof Q!=="number")return!1;if(isNaN($)||isNaN(Q))return!1;if($<1||Q<1)return!1;if(($|0)!==$||(Q|0)!==Q)return!1;let Y=this._buffer.getLineCount();if($>Y)return!1;if(Q===1)return!0;let Z=this.getLineMaxColumn($);if(Q>Z)return!1;if(X===1){let G=this._buffer.getLineCharCode($,Q-2);if(G6(G))return!1}return!0}_validatePosition($,Q,X){let Y=Math.floor(typeof $==="number"&&!isNaN($)?$:1),Z=Math.floor(typeof Q==="number"&&!isNaN(Q)?Q:1),G=this._buffer.getLineCount();if(Y<1)return new v(1,1);if(Y>G)return new v(G,this.getLineMaxColumn(G));if(Z<=1)return new v(Y,1);let q=this.getLineMaxColumn(Y);if(Z>=q)return new v(Y,q);if(X===1){let U=this._buffer.getLineCharCode(Y,Z-2);if(G6(U))return new v(Y,Z-1)}return new v(Y,Z)}validatePosition($){if(this._assertNotDisposed(),$ instanceof v){if(this._isValidPosition($.lineNumber,$.column,1))return $}return this._validatePosition($.lineNumber,$.column,1)}_isValidRange($,Q){let{startLineNumber:X,startColumn:Y,endLineNumber:Z,endColumn:G}=$;if(!this._isValidPosition(X,Y,0))return!1;if(!this._isValidPosition(Z,G,0))return!1;if(Q===1){let q=Y>1?this._buffer.getLineCharCode(X,Y-2):0,U=G>1&&G<=this._buffer.getLineLength(Z)?this._buffer.getLineCharCode(Z,G-2):0,z=G6(q),H=G6(U);if(!z&&!H)return!0;return!1}return!0}validateRange($){if(this._assertNotDisposed(),$ instanceof L&&!($ instanceof v0)){if(this._isValidRange($,1))return $}let X=this._validatePosition($.startLineNumber,$.startColumn,0),Y=this._validatePosition($.endLineNumber,$.endColumn,0),Z=X.lineNumber,G=X.column,q=Y.lineNumber,U=Y.column;{let z=G>1?this._buffer.getLineCharCode(Z,G-2):0,H=U>1&&U<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,U-2):0,j=G6(z),V=G6(H);if(!j&&!V)return new L(Z,G,q,U);if(Z===q&&G===U)return new L(Z,G-1,q,U-1);if(j&&V)return new L(Z,G-1,q,U+1);if(j)return new L(Z,G-1,q,U);return new L(Z,G,q,U+1)}return new L(Z,G,q,U)}modifyPosition($,Q){this._assertNotDisposed();let X=this.getOffsetAt($)+Q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,X)))}getFullModelRange(){this._assertNotDisposed();let $=this.getLineCount();return new L(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,Q,X,Y){return this._buffer.findMatchesLineByLine($,Q,X,Y)}findMatches($,Q,X,Y,Z,G,q=i80){this._assertNotDisposed();let U=null;if(Q!==null){if(!Array.isArray(Q))Q=[Q];if(Q.every((j)=>L.isIRange(j)))U=Q.map((j)=>this.validateRange(j))}if(U===null)U=[this.getFullModelRange()];U=U.sort((j,V)=>j.startLineNumber-V.startLineNumber||j.startColumn-V.startColumn);let z=[];z.push(U.reduce((j,V)=>{if(L.areIntersecting(j,V))return j.plusRange(V);return z.push(j),V}));let H;if(!X&&$.indexOf(`
`)<0){let V=new QY($,X,Y,Z).parseSearchRequest();if(!V)return[];H=(W)=>this.findMatchesLineByLine(W,V,G,q)}else H=(j)=>Vq.findMatches(this,new QY($,X,Y,Z),j,G,q);return z.map(H).reduce((j,V)=>j.concat(V),[])}findNextMatch($,Q,X,Y,Z,G){this._assertNotDisposed();let q=this.validatePosition(Q);if(!X&&$.indexOf(`
`)<0){let z=new QY($,X,Y,Z).parseSearchRequest();if(!z)return null;let H=this.getLineCount(),j=new L(q.lineNumber,q.column,H,this.getLineMaxColumn(H)),V=this.findMatchesLineByLine(j,z,G,1);if(Vq.findNextMatch(this,new QY($,X,Y,Z),q,G),V.length>0)return V[0];if(j=new L(1,1,q.lineNumber,this.getLineMaxColumn(q.lineNumber)),V=this.findMatchesLineByLine(j,z,G,1),V.length>0)return V[0];return null}return Vq.findNextMatch(this,new QY($,X,Y,Z),q,G)}findPreviousMatch($,Q,X,Y,Z,G){this._assertNotDisposed();let q=this.validatePosition(Q);return Vq.findPreviousMatch(this,new QY($,X,Y,Z),q,G)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()===`
`?0:1)===$)return;try{if(this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){if($ instanceof pz)return $;return new pz($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){let Q=[];for(let X=0,Y=$.length;X<Y;X++)Q[X]=this._validateEditOperation($[X]);return Q}pushEditOperations($,Q,X,Y){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(Q),X,Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,Q,X,Y){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let Z=Q.map((q)=>{return{range:this.validateRange(q.range),text:q.text}}),G=!0;if($)for(let q=0,U=$.length;q<U;q++){let z=$[q],H=!1;for(let j=0,V=Z.length;j<V;j++){let W=Z[j].range,B=W.startLineNumber>z.endLineNumber,K=z.startLineNumber>W.endLineNumber;if(!B&&!K){H=!0;break}}if(!H){G=!1;break}}if(G)for(let q=0,U=this._trimAutoWhitespaceLines.length;q<U;q++){let z=this._trimAutoWhitespaceLines[q],H=this.getLineMaxColumn(z),j=!0;for(let V=0,W=Z.length;V<W;V++){let B=Z[V].range,K=Z[V].text;if(z<B.startLineNumber||z>B.endLineNumber)continue;if(z===B.startLineNumber&&B.startColumn===H&&B.isEmpty()&&K&&K.length>0&&K.charAt(0)===`
`)continue;if(z===B.startLineNumber&&B.startColumn===1&&B.isEmpty()&&K&&K.length>0&&K.charAt(K.length-1)===`
`)continue;j=!1;break}if(j){let V=new L(z,1,z,H);Q.push(new pz(null,V,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}if(this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);return this._commandManager.pushEditOperation($,Q,X,Y)}_applyUndo($,Q,X,Y){let Z=$.map((G)=>{let q=this.getPositionAt(G.newPosition),U=this.getPositionAt(G.newEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.oldText}});this._applyUndoRedoEdits(Z,Q,!0,!1,X,Y)}_applyRedo($,Q,X,Y){let Z=$.map((G)=>{let q=this.getPositionAt(G.oldPosition),U=this.getPositionAt(G.oldEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.newText}});this._applyUndoRedoEdits(Z,Q,!1,!0,X,Y)}_applyUndoRedoEdits($,Q,X,Y,Z,G){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=X,this._isRedoing=Y,this.applyEdits($,!1),this.setEOL(Q),this._overwriteAlternativeVersionId(Z)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(G),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,Q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let X=this._validateEditOperations($);return this._doApplyEdits(X,Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,Q){let X=this._buffer.getLineCount(),Y=this._buffer.applyEdits($,this._options.trimAutoWhitespace,Q),Z=this._buffer.getLineCount(),G=Y.changes;if(this._trimAutoWhitespaceLines=Y.trimAutoWhitespaceLineNumbers,G.length!==0){for(let z=0,H=G.length;z<H;z++){let j=G[z];this._decorationsTree.acceptReplace(j.rangeOffset,j.rangeLength,j.text.length,j.forceMoveMarkers)}let q=[];this._increaseVersionId();let U=X;for(let z=0,H=G.length;z<H;z++){let j=G[z],[V]=s9(j.text);this._onDidChangeDecorations.fire();let W=j.range.startLineNumber,B=j.range.endLineNumber,K=B-W,P=V,A=Math.min(K,P),D=P-K,R=Z-U-D+W,M=R,_=R+P,T=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new v(M,1)),this.getOffsetAt(new v(_,this.getLineMaxColumn(_))),0),w=D7.fromDecorations(T),b=new r8(w);for(let S=A;S>=0;S--){let g=W+S,c=R+S;b.takeFromEndWhile((u)=>u.lineNumber>c);let C=b.takeFromEndWhile((u)=>u.lineNumber===c);q.push(new _A(g,this.getLineContent(c),C))}if(A<K){let S=W+A;q.push(new ww(S+1,B))}if(A<P){let S=new r8(w),g=W+A,c=P-A,C=Z-U-c+g+1,u=[],i=[];for(let Y0=0;Y0<c;Y0++){let P0=C+Y0;i[Y0]=this.getLineContent(P0),S.takeWhile((R0)=>R0.lineNumber<P0),u[Y0]=S.takeWhile((R0)=>R0.lineNumber===P0)}q.push(new Lw(g+1,W+P,i,u))}U+=D}this._emitContentChangedEvent(new h2(q,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:G,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Y.reverseEdits===null?void 0:Y.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;let X=Array.from($).map((Y)=>new _A(Y,this.getLineContent(Y),this._getInjectedTextInLine(Y)));this._onDidChangeInjectedText.fire(new oH(X))}changeDecorations($,Q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(Q,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,Q){let X={addDecoration:(Z,G)=>{return this._deltaDecorationsImpl($,[],[{range:Z,options:G}])[0]},changeDecoration:(Z,G)=>{this._changeDecorationImpl(Z,G)},changeDecorationOptions:(Z,G)=>{this._changeDecorationOptionsImpl(Z,Kc(G))},removeDecoration:(Z)=>{this._deltaDecorationsImpl($,[Z],[])},deltaDecorations:(Z,G)=>{if(Z.length===0&&G.length===0)return[];return this._deltaDecorationsImpl($,Z,G)}},Y=null;try{Y=Q(X)}catch(Z){o0(Z)}return X.addDecoration=tH,X.changeDecoration=tH,X.changeDecorationOptions=tH,X.removeDecoration=tH,X.deltaDecorations=tH,Y}deltaDecorations($,Q,X=0){if(this._assertNotDisposed(),!$)$=[];if($.length===0&&Q.length===0)return[];try{if(this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1)console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),o0(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."));return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(X,$,Q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,Q,X){let Y=$?this._decorations[$]:null;if(!Y){if(!Q)return null;return this._deltaDecorationsImpl(0,[],[{range:Q,options:Fc[X]}],!0)[0]}if(!Q)return this._decorationsTree.delete(Y),delete this._decorations[Y.id],null;let Z=this._validateRangeRelaxedNoAllocations(Q),G=this._buffer.getOffsetAt(Z.startLineNumber,Z.startColumn),q=this._buffer.getOffsetAt(Z.endLineNumber,Z.endColumn);return this._decorationsTree.delete(Y),Y.reset(this.getVersionId(),G,q,Z),Y.setOptions(Fc[X]),this._decorationsTree.insert(Y),Y.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;let Q=this._decorationsTree.collectNodesFromOwner($);for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X];this._decorationsTree.delete(Z),delete this._decorations[Z.id]}}getDecorationOptions($){let Q=this._decorations[$];if(!Q)return null;return Q.options}getDecorationRange($){let Q=this._decorations[$];if(!Q)return null;return this._decorationsTree.getNodeRange(this,Q)}getLineDecorations($,Q=0,X=!1){if($<1||$>this.getLineCount())return[];return this.getLinesDecorations($,$,Q,X)}getLinesDecorations($,Q,X=0,Y=!1,Z=!1){let G=this.getLineCount(),q=Math.min(G,Math.max(1,$)),U=Math.min(G,Math.max(1,Q)),z=this.getLineMaxColumn(U),H=new L(q,1,U,z),j=this._getDecorationsInRange(H,X,Y,Z);return vU(j,this._decorationProvider.getDecorationsInRange(H,X,Y)),j}getDecorationsInRange($,Q=0,X=!1,Y=!1,Z=!1){let G=this.validateRange($),q=this._getDecorationsInRange(G,Q,X,Z);return vU(q,this._decorationProvider.getDecorationsInRange(G,Q,X,Y)),q}getOverviewRulerDecorations($=0,Q=!1){return this._decorationsTree.getAll(this,$,Q,!0,!1)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){let Q=this._buffer.getOffsetAt($,1),X=Q+this._buffer.getLineLength($),Y=this._decorationsTree.getInjectedTextInInterval(this,Q,X,0);return D7.fromDecorations(Y).filter((Z)=>Z.lineNumber===$)}getAllDecorations($=0,Q=!1){let X=this._decorationsTree.getAll(this,$,Q,!1,!1);return X=X.concat(this._decorationProvider.getAllDecorations($,Q)),X}getAllMarginDecorations($=0){return this._decorationsTree.getAll(this,$,!1,!1,!0)}_getDecorationsInRange($,Q,X,Y){let Z=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),G=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,Z,G,Q,X,Y)}getRangeAt($,Q){return this._buffer.getRangeAt($,Q-$)}_changeDecorationImpl($,Q){let X=this._decorations[$];if(!X)return;if(X.options.after){let q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.endLineNumber)}if(X.options.before){let q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.startLineNumber)}let Y=this._validateRangeRelaxedNoAllocations(Q),Z=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),G=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);if(this._decorationsTree.delete(X),X.reset(this.getVersionId(),Z,G,Y),this._decorationsTree.insert(X),this._onDidChangeDecorations.checkAffectedAndFire(X.options),X.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.endLineNumber);if(X.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.startLineNumber)}_changeDecorationOptionsImpl($,Q){let X=this._decorations[$];if(!X)return;let Y=X.options.overviewRuler&&X.options.overviewRuler.color?!0:!1,Z=Q.overviewRuler&&Q.overviewRuler.color?!0:!1;if(this._onDidChangeDecorations.checkAffectedAndFire(X.options),this._onDidChangeDecorations.checkAffectedAndFire(Q),X.options.after||Q.after){let U=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.endLineNumber)}if(X.options.before||Q.before){let U=this._decorationsTree.getNodeRange(this,X);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.startLineNumber)}let G=Y!==Z,q=t80(Q)!==wA(X);if(G||q)this._decorationsTree.delete(X),X.setOptions(Q),this._decorationsTree.insert(X);else X.setOptions(Q)}_deltaDecorationsImpl($,Q,X,Y=!1){let Z=this.getVersionId(),G=Q.length,q=0,U=X.length,z=0;this._onDidChangeDecorations.beginDeferredEmit();try{let H=new Array(U);while(q<G||z<U){let j=null;if(q<G){do j=this._decorations[Q[q++]];while(!j&&q<G);if(j){if(j.options.after){let V=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.endLineNumber)}if(j.options.before){let V=this._decorationsTree.getNodeRange(this,j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(V.startLineNumber)}if(this._decorationsTree.delete(j),!Y)this._onDidChangeDecorations.checkAffectedAndFire(j.options)}}if(z<U){if(!j){let A=++this._lastDecorationId,D=`${this._instanceId};${A}`;j=new PA(D,0,0),this._decorations[D]=j}let V=X[z],W=this._validateRangeRelaxedNoAllocations(V.range),B=Kc(V.options),K=this._buffer.getOffsetAt(W.startLineNumber,W.startColumn),P=this._buffer.getOffsetAt(W.endLineNumber,W.endColumn);if(j.ownerId=$,j.reset(Z,K,P,W),j.setOptions(B),j.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.endLineNumber);if(j.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.startLineNumber);if(!Y)this._onDidChangeDecorations.checkAffectedAndFire(B);this._decorationsTree.insert(j),H[z]=j.id,z++}else if(j)delete this._decorations[j.id]}return H}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage($,Q){if(typeof $==="string")this._languageSelectionListener.clear(),this._setLanguage($,Q);else this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId,Q)),this._setLanguage($.languageId,Q)}_setLanguage($,Q){this.tokenization.setLanguageId($,Q),this._languageService.requestRichLanguageFeatures($)}getLanguageIdAtPosition($,Q){return this.tokenization.getLanguageIdAtPosition($,Q)}getWordAtPosition($){return this._tokenizationTextModelPart.getWordAtPosition($)}getWordUntilPosition($){return this._tokenizationTextModelPart.getWordUntilPosition($)}normalizePosition($,Q){return $}getLineIndentColumn($){return o80(this.getLineContent($))+1}};HX._MODEL_SYNC_LIMIT=52428800;HX.LARGE_FILE_SIZE_THRESHOLD=20971520;HX.LARGE_FILE_LINE_COUNT_THRESHOLD=300000;HX.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456;HX.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:F5.tabSize,indentSize:F5.indentSize,insertSpaces:F5.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:F5.trimAutoWhitespace,largeFileOptimizations:F5.largeFileOptimizations,bracketPairColorizationOptions:F5.bracketPairColorizationOptions};HX=g2=s80([Ew(4,F3),Ew(5,e1),Ew(6,_6)],HX);Pc=class Pc extends xw{constructor(J){super(J);this._resolvedColor=null,this.position=typeof J.position==="number"?J.position:jq.Center}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(J,$){if(typeof J==="string")return J;let Q=J?$.getColor(J.id):null;if(!Q)return"";return Q.toString()}};Rc=class Rc extends xw{constructor(J){super(J);this.position=J.position}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(J,$){if(typeof J==="string")return l.fromHex(J);return $.getColor(J.id)}};L1.EMPTY=L1.register({description:"empty"});Fc=[L1.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),L1.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),L1.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),L1.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];Mc=class Mc extends h{constructor(J){super();this.handleBeforeFire=J,this._actual=this._register(new y),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var J;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFireDeferred)this.doFire();(J=this._affectedInjectedTextLines)===null||J===void 0||J.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(J){if(!this._affectedInjectedTextLines)this._affectedInjectedTextLines=new Set;this._affectedInjectedTextLines.add(J)}checkAffectedAndFire(J){var $,Q;this._affectsMinimap||(this._affectsMinimap=!!(($=J.minimap)===null||$===void 0?void 0:$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((Q=J.overviewRuler)===null||Q===void 0?void 0:Q.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!J.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!J.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){if(this._deferredCnt===0)this.doFire();else this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);let J={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(J)}};_c=class _c extends h{constructor(){super();this._fastEmitter=this._register(new y),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new y),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(J=null){if(this._deferredCnt--,this._deferredCnt===0){if(this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=J;let $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}}fire(J){if(this._deferredCnt>0){if(this._deferredEvent)this._deferredEvent=this._deferredEvent.merge(J);else this._deferredEvent=J;return}this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}});class Jj{constructor(J){this._selTrackedRange=null,this._trackSelection=!0,this._setState(J,new $5(new L(1,1,1,1),0,0,new v(1,1),0),new $5(new L(1,1,1,1),0,0,new v(1,1),0))}dispose(J){this._removeTrackedRange(J)}startTrackingSelection(J){this._trackSelection=!0,this._updateTrackedRange(J)}stopTrackingSelection(J){this._trackSelection=!1,this._removeTrackedRange(J)}_updateTrackedRange(J){if(!this._trackSelection)return;this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0)}_removeTrackedRange(J){this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new B1(this.modelState,this.viewState)}readSelectionFromMarkers(J){let $=J.model._getTrackedRange(this._selTrackedRange);if(this.modelState.selection.isEmpty()&&!$.isEmpty())return v0.fromRange($.collapseToEnd(),this.modelState.selection.getDirection());return v0.fromRange($,this.modelState.selection.getDirection())}ensureValidState(J){this._setState(J,this.modelState,this.viewState)}setState(J,$,Q){this._setState(J,$,Q)}static _validatePositionWithCache(J,$,Q,X){if($.equals(Q))return X;return J.normalizePosition($,2)}static _validateViewState(J,$){let Q=$.position,X=$.selectionStart.getStartPosition(),Y=$.selectionStart.getEndPosition(),Z=J.normalizePosition(Q,2),G=this._validatePositionWithCache(J,X,Q,Z),q=this._validatePositionWithCache(J,Y,X,G);if(Q.equals(Z)&&X.equals(G)&&Y.equals(q))return $;return new $5(L.fromPositions(G,q),$.selectionStartKind,$.selectionStartLeftoverVisibleColumns+X.column-G.column,Z,$.leftoverVisibleColumns+Q.column-Z.column)}_setState(J,$,Q){if(Q)Q=Jj._validateViewState(J.viewModel,Q);if(!$){if(!Q)return;let X=J.model.validateRange(J.coordinatesConverter.convertViewRangeToModelRange(Q.selectionStart)),Y=J.model.validatePosition(J.coordinatesConverter.convertViewPositionToModelPosition(Q.position));$=new $5(X,Q.selectionStartKind,Q.selectionStartLeftoverVisibleColumns,Y,Q.leftoverVisibleColumns)}else{let X=J.model.validateRange($.selectionStart),Y=$.selectionStart.equalsRange(X)?$.selectionStartLeftoverVisibleColumns:0,Z=J.model.validatePosition($.position),G=$.position.equals(Z)?$.leftoverVisibleColumns:0;$=new $5(X,$.selectionStartKind,Y,Z,G)}if(!Q){let X=J.coordinatesConverter.convertModelPositionToViewPosition(new v($.selectionStart.startLineNumber,$.selectionStart.startColumn)),Y=J.coordinatesConverter.convertModelPositionToViewPosition(new v($.selectionStart.endLineNumber,$.selectionStart.endColumn)),Z=new L(X.lineNumber,X.column,Y.lineNumber,Y.column),G=J.coordinatesConverter.convertModelPositionToViewPosition($.position);Q=new $5(Z,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,G,$.leftoverVisibleColumns)}else{let X=J.coordinatesConverter.validateViewRange(Q.selectionStart,$.selectionStart),Y=J.coordinatesConverter.validateViewPosition(Q.position,$.position);Q=new $5(X,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,Y,$.leftoverVisibleColumns)}this.modelState=$,this.viewState=Q,this._updateTrackedRange(J)}}var Tc=N(()=>{b4();l0();E5()});class LA{constructor(J){this.context=J,this.cursors=[new Jj(J)],this.lastAddedCursorIndex=0}dispose(){for(let J of this.cursors)J.dispose(this.context)}startTrackingSelections(){for(let J of this.cursors)J.startTrackingSelection(this.context)}stopTrackingSelections(){for(let J of this.cursors)J.stopTrackingSelection(this.context)}updateContext(J){this.context=J}ensureValidState(){for(let J of this.cursors)J.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((J)=>J.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map((J)=>J.asCursorState())}getViewPositions(){return this.cursors.map((J)=>J.viewState.position)}getTopMostViewPosition(){return _v(this.cursors,k7((J)=>J.viewState.position,v.compare)).viewState.position}getBottomMostViewPosition(){return Mv(this.cursors,k7((J)=>J.viewState.position,v.compare)).viewState.position}getSelections(){return this.cursors.map((J)=>J.modelState.selection)}getViewSelections(){return this.cursors.map((J)=>J.viewState.selection)}setSelections(J){this.setStates(B1.fromModelSelections(J))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(J){if(J===null)return;this.cursors[0].setState(this.context,J[0].modelState,J[0].viewState),this._setSecondaryStates(J.slice(1))}_setSecondaryStates(J){let $=this.cursors.length-1,Q=J.length;if($<Q){let X=Q-$;for(let Y=0;Y<X;Y++)this._addSecondaryCursor()}else if($>Q){let X=$-Q;for(let Y=0;Y<X;Y++)this._removeSecondaryCursor(this.cursors.length-2)}for(let X=0;X<Q;X++)this.cursors[X+1].setState(this.context,J[X].modelState,J[X].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Jj(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){if(this.cursors.length===1||this.lastAddedCursorIndex===0)return 0;return this.lastAddedCursorIndex}_removeSecondaryCursor(J){if(this.lastAddedCursorIndex>=J+1)this.lastAddedCursorIndex--;this.cursors[J+1].dispose(this.context),this.cursors.splice(J+1,1)}normalize(){if(this.cursors.length===1)return;let J=this.cursors.slice(0),$=[];for(let Q=0,X=J.length;Q<X;Q++)$.push({index:Q,selection:J[Q].modelState.selection});$.sort(k7((Q)=>Q.selection,L.compareRangesUsingStarts));for(let Q=0;Q<$.length-1;Q++){let X=$[Q],Y=$[Q+1],Z=X.selection,G=Y.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let q;if(G.isEmpty()||Z.isEmpty())q=G.getStartPosition().isBeforeOrEqual(Z.getEndPosition());else q=G.getStartPosition().isBefore(Z.getEndPosition());if(q){let U=X.index<Y.index?Q:Q+1,z=X.index<Y.index?Q+1:Q,H=$[z].index,j=$[U].index,V=$[z].selection,W=$[U].selection;if(!V.equalsSelection(W)){let B=V.plusRange(W),K=V.selectionStartLineNumber===V.startLineNumber&&V.selectionStartColumn===V.startColumn,P=W.selectionStartLineNumber===W.startLineNumber&&W.selectionStartColumn===W.startColumn,A;if(H===this.lastAddedCursorIndex)A=K,this.lastAddedCursorIndex=j;else A=P;let D;if(A)D=new v0(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn);else D=new v0(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn);$[U].selection=D;let R=B1.fromModelSelection(D);J[j].setState(this.context,R.modelState,R.viewState)}for(let B of $)if(B.index>H)B.index--;J.splice(H,1),$.splice(z,1),this._removeSecondaryCursor(H-1),Q--}}}}var wc=N(()=>{U1();zJ();b4();Tc();l0();E5()});class kA{constructor(J,$,Q,X){this._cursorContextBrand=void 0,this.model=J,this.viewModel=$,this.coordinatesConverter=Q,this.cursorConfig=X}}class bw{constructor(){this.type=0}}class Sw{constructor(){this.type=1}}class Cw{constructor(J){this.type=2,this._source=J}hasChanged(J){return this._source.hasChanged(J)}}class vw{constructor(J,$,Q){this.selections=J,this.modelSelections=$,this.reason=Q,this.type=3}}class jX{constructor(J){if(this.type=4,J)this.affectsMinimap=J.affectsMinimap,this.affectsOverviewRuler=J.affectsOverviewRuler,this.affectsGlyphMargin=J.affectsGlyphMargin,this.affectsLineNumber=J.affectsLineNumber;else this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0}}class K3{constructor(){this.type=5}}class hw{constructor(J){this.type=6,this.isFocused=J}}class fw{constructor(){this.type=7}}class A3{constructor(){this.type=8}}class EA{constructor(J,$){this.fromLineNumber=J,this.count=$,this.type=9}}class $j{constructor(J,$){this.type=10,this.fromLineNumber=J,this.toLineNumber=$}}class Qj{constructor(J,$){this.type=11,this.fromLineNumber=J,this.toLineNumber=$}}class p2{constructor(J,$,Q,X,Y,Z,G){this.source=J,this.minimalReveal=$,this.range=Q,this.selections=X,this.verticalType=Y,this.revealHorizontal=Z,this.scrollType=G,this.type=12}}class gw{constructor(J){this.type=13,this.scrollWidth=J.scrollWidth,this.scrollLeft=J.scrollLeft,this.scrollHeight=J.scrollHeight,this.scrollTop=J.scrollTop,this.scrollWidthChanged=J.scrollWidthChanged,this.scrollLeftChanged=J.scrollLeftChanged,this.scrollHeightChanged=J.scrollHeightChanged,this.scrollTopChanged=J.scrollTopChanged}}class pw{constructor(J){this.theme=J,this.type=14}}class mw{constructor(J){this.type=15,this.ranges=J}}class uw{constructor(){this.type=16}}class cw{constructor(){this.type=17}}class kc{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(J){this.viewEvents.push(J)}emitOutgoingEvent(J){this.outgoingEvents.push(J)}}class IA{constructor(J,$,Q,X){this.kind=0,this._oldContentWidth=J,this._oldContentHeight=$,this.contentWidth=Q,this.contentHeight=X,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new IA(this._oldContentWidth,this._oldContentHeight,J.contentWidth,J.contentHeight)}}class yA{constructor(J,$){this.kind=1,this.oldHasFocus=J,this.hasFocus=$}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(J){if(J.kind!==this.kind)return null;return new yA(this.oldHasFocus,J.hasFocus)}}class xA{constructor(J,$,Q,X,Y,Z,G,q){this.kind=2,this._oldScrollWidth=J,this._oldScrollLeft=$,this._oldScrollHeight=Q,this._oldScrollTop=X,this.scrollWidth=Y,this.scrollLeft=Z,this.scrollHeight=G,this.scrollTop=q,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new xA(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,J.scrollWidth,J.scrollLeft,J.scrollHeight,J.scrollTop)}}class dw{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class sw{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class Xj{constructor(J,$,Q,X,Y,Z,G){this.kind=6,this.oldSelections=J,this.selections=$,this.oldModelVersionId=Q,this.modelVersionId=X,this.source=Y,this.reason=Z,this.reachedMaxCursorCount=G}static _selectionsAreEqual(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;let Q=J.length,X=$.length;if(Q!==X)return!1;for(let Y=0;Y<Q;Y++)if(!J[Y].equalsSelection($[Y]))return!1;return!0}isNoOp(){return Xj._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(J){if(J.kind!==this.kind)return null;return new Xj(this.oldSelections,J.selections,this.oldModelVersionId,J.modelVersionId,J.source,J.reason,this.reachedMaxCursorCount||J.reachedMaxCursorCount)}}class aw{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class rw{constructor(J){this.event=J,this.kind=7}isNoOp(){return!1}attemptToMerge(J){return null}}class iw{constructor(J){this.event=J,this.kind=8}isNoOp(){return!1}attemptToMerge(J){return null}}class nw{constructor(J){this.event=J,this.kind=9}isNoOp(){return!1}attemptToMerge(J){return null}}class ow{constructor(J){this.event=J,this.kind=10}isNoOp(){return!1}attemptToMerge(J){return null}}class tw{constructor(J){this.event=J,this.kind=11}isNoOp(){return!1}attemptToMerge(J){return null}}class ew{constructor(J){this.event=J,this.kind=12}isNoOp(){return!1}attemptToMerge(J){return null}}var lw;var bA=N(()=>{F0();Q0();lw=class lw extends h{constructor(){super();this._onEvent=this._register(new y),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(J){this._addOutgoingEvent(J),this._emitOutgoingEvents()}_addOutgoingEvent(J){for(let $=0,Q=this._outgoingEvents.length;$<Q;$++){let X=this._outgoingEvents[$].kind===J.kind?this._outgoingEvents[$].attemptToMerge(J):null;if(X){this._outgoingEvents[$]=X;return}}this._outgoingEvents.push(J)}_emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;let J=this._outgoingEvents.shift();if(J.isNoOp())continue;this._onEvent.fire(J)}}addViewEventHandler(J){for(let $=0,Q=this._eventHandlers.length;$<Q;$++)if(this._eventHandlers[$]===J)console.warn("Detected duplicate listener in ViewEventDispatcher",J);this._eventHandlers.push(J)}removeViewEventHandler(J){for(let $=0;$<this._eventHandlers.length;$++)if(this._eventHandlers[$]===J){this._eventHandlers.splice($,1);break}}beginEmitViewEvents(){if(this._collectorCnt++,this._collectorCnt===1)this._collector=new kc;return this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){let J=this._collector.outgoingEvents,$=this._collector.viewEvents;this._collector=null;for(let Q of J)this._addOutgoingEvent(Q);if($.length>0)this._emitMany($)}this._emitOutgoingEvents()}emitSingleViewEvent(J){try{this.beginEmitViewEvents().emitViewEvent(J)}finally{this.endEmitViewEvents()}}_emitMany(J){if(this._viewEventQueue)this._viewEventQueue=this._viewEventQueue.concat(J);else this._viewEventQueue=J;if(!this._isConsumingViewEventQueue)this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){let J=this._viewEventQueue;this._viewEventQueue=null;let $=this._eventHandlers.slice(0);for(let Q of $)Q.handleEvents(J)}}}});class Yj{static from(J,$){return new Yj(J.getVersionId(),$.getCursorStates())}constructor(J,$){this.modelVersionId=J,this.cursorState=$}equals(J){if(!J)return!1;if(this.modelVersionId!==J.modelVersionId)return!1;if(this.cursorState.length!==J.cursorState.length)return!1;for(let $=0,Q=this.cursorState.length;$<Q;$++)if(!this.cursorState[$].equals(J.cursorState[$]))return!1;return!0}}class JL{static getAllAutoClosedCharacters(J){let $=[];for(let Q of J)$=$.concat(Q.getAutoClosedCharactersRanges());return $}constructor(J,$,Q){this._model=J,this._autoClosedCharactersDecorations=$,this._autoClosedEnclosingDecorations=Q}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let J=[];for(let $=0;$<this._autoClosedCharactersDecorations.length;$++){let Q=this._model.getDecorationRange(this._autoClosedCharactersDecorations[$]);if(Q)J.push(Q)}return J}isValid(J){let $=[];for(let Q=0;Q<this._autoClosedEnclosingDecorations.length;Q++){let X=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[Q]);if(X){if($.push(X),X.startLineNumber!==X.endLineNumber)return!1}}$.sort(L.compareRangesUsingStarts),J.sort(L.compareRangesUsingStarts);for(let Q=0;Q<J.length;Q++){if(Q>=$.length)return!1;if(!$[Q].strictContainsRange(J[Q]))return!1}return!0}}class Ec{static executeCommands(J,$,Q){let X={model:J,selectionsBefore:$,trackedRanges:[],trackedRangesDirection:[]},Y=this._innerExecuteCommands(X,Q);for(let Z=0,G=X.trackedRanges.length;Z<G;Z++)X.model._setTrackedRange(X.trackedRanges[Z],null,0);return Y}static _innerExecuteCommands(J,$){if(this._arrayIsEmpty($))return null;let Q=this._getEditOperations(J,$);if(Q.operations.length===0)return null;let X=Q.operations,Y=this._getLoserCursorMap(X);if(Y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let Z=[];for(let U=0,z=X.length;U<z;U++)if(!Y.hasOwnProperty(X[U].identifier.major.toString()))Z.push(X[U]);if(Q.hadTrackedEditOperation&&Z.length>0)Z[0]._isTracked=!0;let G=J.model.pushEditOperations(J.selectionsBefore,Z,(U)=>{let z=[];for(let V=0;V<J.selectionsBefore.length;V++)z[V]=[];for(let V of U){if(!V.identifier)continue;z[V.identifier.major].push(V)}let H=(V,W)=>{return V.identifier.minor-W.identifier.minor},j=[];for(let V=0;V<J.selectionsBefore.length;V++)if(z[V].length>0)z[V].sort(H),j[V]=$[V].computeCursorState(J.model,{getInverseEditOperations:()=>{return z[V]},getTrackedSelection:(W)=>{let B=parseInt(W,10),K=J.model._getTrackedRange(J.trackedRanges[B]);if(J.trackedRangesDirection[B]===0)return new v0(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn);return new v0(K.endLineNumber,K.endColumn,K.startLineNumber,K.startColumn)}});else j[V]=J.selectionsBefore[V];return j});if(!G)G=J.selectionsBefore;let q=[];for(let U in Y)if(Y.hasOwnProperty(U))q.push(parseInt(U,10));q.sort((U,z)=>{return z-U});for(let U of q)G.splice(U,1);return G}static _arrayIsEmpty(J){for(let $=0,Q=J.length;$<Q;$++)if(J[$])return!1;return!0}static _getEditOperations(J,$){let Q=[],X=!1;for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y];if(G){let q=this._getEditOperationsFromCommand(J,Y,G);Q=Q.concat(q.operations),X=X||q.hadTrackedEditOperation}}return{operations:Q,hadTrackedEditOperation:X}}static _getEditOperationsFromCommand(J,$,Q){let X=[],Y=0,Z=(H,j,V=!1)=>{if(L.isEmpty(H)&&j==="")return;X.push({identifier:{major:$,minor:Y++},range:H,text:j,forceMoveMarkers:V,isAutoWhitespaceEdit:Q.insertsAutoWhitespace})},G=!1,z={addEditOperation:Z,addTrackedEditOperation:(H,j,V)=>{G=!0,Z(H,j,V)},trackSelection:(H,j)=>{let V=v0.liftSelection(H),W;if(V.isEmpty())if(typeof j==="boolean")if(j)W=2;else W=3;else{let P=J.model.getLineMaxColumn(V.startLineNumber);if(V.startColumn===P)W=2;else W=3}else W=1;let B=J.trackedRanges.length,K=J.model._setTrackedRange(null,V,W);return J.trackedRanges[B]=K,J.trackedRangesDirection[B]=V.getDirection(),B.toString()}};try{Q.getEditOperations(J.model,z)}catch(H){return o0(H),{operations:[],hadTrackedEditOperation:!1}}return{operations:X,hadTrackedEditOperation:G}}static _getLoserCursorMap(J){J=J.slice(0),J.sort((Q,X)=>{return-L.compareRangesUsingEnds(Q.range,X.range)});let $={};for(let Q=1;Q<J.length;Q++){let X=J[Q-1],Y=J[Q];if(L.getStartPosition(X.range).isBefore(L.getEndPosition(Y.range))){let Z;if(X.identifier.major>Y.identifier.major)Z=X.identifier.major;else Z=Y.identifier.major;$[Z.toString()]=!0;for(let G=0;G<J.length;G++)if(J[G].identifier.major===Z){if(J.splice(G,1),G<Q)Q--;G--}if(Q>0)Q--}}return $}}class Ic{constructor(J,$,Q){this.text=J,this.startSelection=$,this.endSelection=Q}}class Zj{static _capture(J,$){let Q=[];for(let X of $){if(X.startLineNumber!==X.endLineNumber)return null;Q.push(new Ic(J.getLineContent(X.startLineNumber),X.startColumn-1,X.endColumn-1))}return Q}constructor(J,$){this._original=Zj._capture(J,$)}deduceOutcome(J,$){if(!this._original)return null;let Q=Zj._capture(J,$);if(!Q)return null;if(this._original.length!==Q.length)return null;let X=[];for(let Y=0,Z=this._original.length;Y<Z;Y++)X.push(Zj._deduceOutcome(this._original[Y],Q[Y]));return X}static _deduceOutcome(J,$){let Q=Math.min(J.startSelection,$.startSelection,vZ(J.text,$.text)),X=Math.min(J.text.length-J.endSelection,$.text.length-$.endSelection,Qz(J.text,$.text)),Y=J.text.substring(Q,J.text.length-X),Z=$.text.substring(Q,$.text.length-X);return new fN(Y,J.startSelection-Q,J.endSelection-Q,Z,$.startSelection-Q,$.endSelection-Q)}}var $L;var yc=N(()=>{P1();t0();wc();b4();lK();gN();l0();E5();Q0();bA();$L=class $L extends h{constructor(J,$,Q,X){super();this._model=J,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=$,this._coordinatesConverter=Q,this.context=new kA(this._model,this._viewModel,this._coordinatesConverter,X),this._cursors=new LA(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=k1(this._autoClosedActions),super.dispose()}updateConfiguration(J){this.context=new kA(this._model,this._viewModel,this._coordinatesConverter,J),this._cursors.updateContext(this.context)}onLineMappingChanged(J){if(this._knownModelVersionId!==this._model.getVersionId())return;this.setStates(J,"viewModel",0,this.getCursorStates())}setHasFocus(J){this._hasFocus=J}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let J=this._cursors.getSelections();for(let $=0;$<this._autoClosedActions.length;$++){let Q=this._autoClosedActions[$];if(!Q.isValid(J))Q.dispose(),this._autoClosedActions.splice($,1),$--}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(J,$,Q,X){let Y=!1,Z=this.context.cursorConfig.multiCursorLimit;if(X!==null&&X.length>Z)X=X.slice(0,Z),Y=!0;let G=Yj.from(this._model,this);return this._cursors.setStates(X),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,$,Q,G,Y)}setCursorColumnSelectData(J){this._columnSelectData=J}revealPrimary(J,$,Q,X,Y,Z){let G=this._cursors.getViewPositions(),q=null,U=null;if(G.length>1)U=this._cursors.getViewSelections();else q=L.fromPositions(G[0],G[0]);J.emitViewEvent(new p2($,Q,q,U,X,Y,Z))}saveState(){let J=[],$=this._cursors.getSelections();for(let Q=0,X=$.length;Q<X;Q++){let Y=$[Q];J.push({inSelectionMode:!Y.isEmpty(),selectionStart:{lineNumber:Y.selectionStartLineNumber,column:Y.selectionStartColumn},position:{lineNumber:Y.positionLineNumber,column:Y.positionColumn}})}return J}restoreState(J,$){let Q=[];for(let X=0,Y=$.length;X<Y;X++){let Z=$[X],G=1,q=1;if(Z.position&&Z.position.lineNumber)G=Z.position.lineNumber;if(Z.position&&Z.position.column)q=Z.position.column;let U=G,z=q;if(Z.selectionStart&&Z.selectionStart.lineNumber)U=Z.selectionStart.lineNumber;if(Z.selectionStart&&Z.selectionStart.column)z=Z.selectionStart.column;Q.push({selectionStartLineNumber:U,selectionStartColumn:z,positionLineNumber:G,positionColumn:q})}this.setStates(J,"restoreState",0,B1.fromModelSelections(Q)),this.revealPrimary(J,"restoreState",!1,0,!0,1)}onModelContentChanged(J,$){if($ instanceof oH){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(J,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{let Q=$.rawContentChangedEvent;if(this._knownModelVersionId=Q.versionId,this._isHandling)return;let X=Q.containsEvent(1);if(this._prevEditOperationType=0,X)this._cursors.dispose(),this._cursors=new LA(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,"model",1,null,!1);else if(this._hasFocus&&Q.resultingSelection&&Q.resultingSelection.length>0){let Y=B1.fromModelSelections(Q.resultingSelection);if(this.setStates(J,"modelChange",Q.isUndoing?5:Q.isRedoing?6:2,Y))this.revealPrimary(J,"modelChange",!1,0,!0,0)}else{let Y=this._cursors.readSelectionFromMarkers();this.setStates(J,"modelChange",2,B1.fromModelSelections(Y))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let J=this._cursors.getPrimaryCursor(),$=J.viewState.selectionStart.getStartPosition(),Q=J.viewState.position;return{isReal:!1,fromViewLineNumber:$.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,$),toViewLineNumber:Q.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,Q)}}getSelections(){return this._cursors.getSelections()}setSelections(J,$,Q,X){this.setStates(J,$,X,B1.fromModelSelections(Q))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(J){this._prevEditOperationType=J}_pushAutoClosedAction(J,$){let Q=[],X=[];for(let G=0,q=J.length;G<q;G++)Q.push({range:J[G],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),X.push({range:$[G],options:{description:"auto-closed-enclosing",stickiness:1}});let Y=this._model.deltaDecorations([],Q),Z=this._model.deltaDecorations([],X);this._autoClosedActions.push(new JL(this._model,Y,Z))}_executeEditOperation(J){if(!J)return;if(J.shouldPushStackElementBefore)this._model.pushStackElement();let $=Ec.executeCommands(this._model,this._cursors.getSelections(),J.commands);if($){this._interpretCommandResult($);let Q=[],X=[];for(let Y=0;Y<J.commands.length;Y++){let Z=J.commands[Y];if(Z instanceof rK&&Z.enclosingRange&&Z.closeCharacterRange)Q.push(Z.closeCharacterRange),X.push(Z.enclosingRange)}if(Q.length>0)this._pushAutoClosedAction(Q,X);this._prevEditOperationType=J.type}if(J.shouldPushStackElementAfter)this._model.pushStackElement()}_interpretCommandResult(J){if(!J||J.length===0)J=this._cursors.readSelectionFromMarkers();this._columnSelectData=null,this._cursors.setSelections(J),this._cursors.normalize()}_emitStateChangedIfNecessary(J,$,Q,X,Y){let Z=Yj.from(this._model,this);if(Z.equals(X))return!1;let G=this._cursors.getSelections(),q=this._cursors.getViewSelections();if(J.emitViewEvent(new vw(q,G,Q)),!X||X.cursorState.length!==Z.cursorState.length||Z.cursorState.some((U,z)=>!U.modelState.equals(X.cursorState[z].modelState))){let U=X?X.cursorState.map((H)=>H.modelState.selection):null,z=X?X.modelVersionId:0;J.emitOutgoingEvent(new Xj(U,G,z,Z.modelVersionId,$||"keyboard",Q,Y))}return!0}_findAutoClosingPairs(J){if(!J.length)return null;let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y.text||Y.text.indexOf(`
`)>=0)return null;let Z=Y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;let G=Z[1],q=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(G);if(!q||q.length!==1)return null;let U=q[0].open,z=Y.text.length-Z[2].length-1,H=Y.text.lastIndexOf(U,z-1);if(H===-1)return null;$.push([H,z])}return $}executeEdits(J,$,Q,X){let Y=null;if($==="snippet")Y=this._findAutoClosingPairs(Q);if(Y)Q[0]._isTracked=!0;let Z=[],G=[],q=this._model.pushEditOperations(this.getSelections(),Q,(U)=>{if(Y)for(let H=0,j=Y.length;H<j;H++){let[V,W]=Y[H],B=U[H],K=B.range.startLineNumber,P=B.range.startColumn-1+V,A=B.range.startColumn-1+W;Z.push(new L(K,A+1,K,A+2)),G.push(new L(K,P+1,K,A+2))}let z=X(U);if(z)this._isHandling=!0;return z});if(q)this._isHandling=!1,this.setSelections(J,$,q,0);if(Z.length>0)this._pushAutoClosedAction(Z,G)}_executeEdit(J,$,Q,X=0){if(this.context.cursorConfig.readOnly)return;let Y=Yj.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),J()}catch(Z){o0(Z)}if(this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary($,Q,X,Y,!1))this.revealPrimary($,Q,!1,0,!0,0)}getAutoClosedCharacters(){return JL.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(J){this._compositionState=new Zj(this._model,this.getSelections())}endComposition(J,$){let Q=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{if($==="keyboard")this._executeEditOperation(N6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,Q,this.getSelections(),this.getAutoClosedCharacters()))},J,$)}type(J,$,Q){this._executeEdit(()=>{if(Q==="keyboard"){let X=$.length,Y=0;while(Y<X){let Z=Xz($,Y),G=$.substr(Y,Z);this._executeEditOperation(N6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),G)),Y+=Z}}else this._executeEditOperation(N6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$))},J,Q)}compositionType(J,$,Q,X,Y,Z){if($.length===0&&Q===0&&X===0){if(Y!==0){let G=this.getSelections().map((q)=>{let U=q.getPosition();return new v0(U.lineNumber,U.column+Y,U.lineNumber,U.column+Y)});this.setSelections(J,Z,G,0)}return}this._executeEdit(()=>{this._executeEditOperation(N6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$,Q,X,Y))},J,Z)}paste(J,$,Q,X,Y){this._executeEdit(()=>{this._executeEditOperation(N6.paste(this.context.cursorConfig,this._model,this.getSelections(),$,Q,X||[]))},J,Y,4)}cut(J,$){this._executeEdit(()=>{this._executeEditOperation(I$.cut(this.context.cursorConfig,this._model,this.getSelections()))},J,$)}executeCommand(J,$,Q){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new G8(0,[$],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,Q)}executeCommands(J,$,Q){this._executeEdit(()=>{this._executeEditOperation(new G8(0,$,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,Q)}}});async function Sc(J,$,Q){if(!Q)return bc($,J.languageIdCodec,xc);let X=await c1.getOrCreate(Q);return bc($,J.languageIdCodec,X||xc)}function Cc(J,$,Q,X,Y,Z,G){let q="<div>",U=X,z=0,H=!0;for(let j=0,V=$.getCount();j<V;j++){let W=$.getEndOffset(j);if(W<=X)continue;let B="";for(;U<W&&U<Y;U++){let K=J.charCodeAt(U);switch(K){case 9:{let P=Z-(U+z)%Z;z+=P-1;while(P>0){if(G&&H)B+="&#160;",H=!1;else B+=" ",H=!0;P--}break}case 60:B+="&lt;",H=!1;break;case 62:B+="&gt;",H=!1;break;case 38:B+="&amp;",H=!1;break;case 0:B+="&#00;",H=!1;break;case 65279:case 8232:case 8233:case 133:B+="�",H=!1;break;case 13:B+="&#8203",H=!1;break;case 32:if(G&&H)B+="&#160;",H=!1;else B+=" ",H=!0;break;default:B+=String.fromCharCode(K),H=!1}}if(q+=`<span style="${$.getInlineStyle(j,Q)}">${B}</span>`,W>Y||U>=Y)break}return q+="</div>",q}function bc(J,$,Q){let X='<div class="monaco-tokenized-source">',Y=Q9(J),Z=Q.getInitialState();for(let G=0,q=Y.length;G<q;G++){let U=Y[G];if(G>0)X+="<br/>";let z=Q.tokenizeEncoded(U,!0,Z);O6.convertToEndOffset(z.tokens,U.length);let j=new O6(z.tokens,U,$).inflate(),V=0;for(let W=0,B=j.getCount();W<B;W++){let K=j.getClassName(W),P=j.getEndOffset(W);X+=`<span class="${K}">${CZ(U.substring(V,P))}</span>`,V=P}Z=z.endState}return X+="</div>",X}var xc;var QL=N(()=>{t0();pQ();P8();ez();xc={getInitialState:()=>GY,tokenizeEncoded:(J,$,Q)=>Pq(0,Q)}});class vc{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(J){this._hasPending=!0,this._inserts.push(J)}change(J){this._hasPending=!0,this._changes.push(J)}remove(J){this._hasPending=!0,this._removes.push(J)}mustCommit(){return this._hasPending}commit(J){if(!this._hasPending)return;let $=this._inserts,Q=this._changes,X=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],J._commitPendingChanges($,Q,X)}}class hc{constructor(J,$,Q,X,Y){this.id=J,this.afterLineNumber=$,this.ordinal=Q,this.height=X,this.minWidth=Y,this.prefixSum=0}}class P3{constructor(J,$,Q,X){this._instanceId=hB(++P3.INSTANCE_COUNT),this._pendingChanges=new vc,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=J,this._lineHeight=$,this._paddingTop=Q,this._paddingBottom=X}static findInsertionIndex(J,$,Q){let X=0,Y=J.length;while(X<Y){let Z=X+Y>>>1;if($===J[Z].afterLineNumber)if(Q<J[Z].ordinal)Y=Z;else X=Z+1;else if($<J[Z].afterLineNumber)Y=Z;else X=Z+1}return X}setLineHeight(J){this._checkPendingChanges(),this._lineHeight=J}setPadding(J,$){this._paddingTop=J,this._paddingBottom=$}onFlushed(J){this._checkPendingChanges(),this._lineCount=J}changeWhitespace(J){let $=!1;try{J({insertWhitespace:(X,Y,Z,G)=>{$=!0,X=X|0,Y=Y|0,Z=Z|0,G=G|0;let q=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new hc(q,X,Y,Z,G)),q},changeOneWhitespace:(X,Y,Z)=>{$=!0,Y=Y|0,Z=Z|0,this._pendingChanges.change({id:X,newAfterLineNumber:Y,newHeight:Z})},removeWhitespace:(X)=>{$=!0,this._pendingChanges.remove({id:X})}})}finally{this._pendingChanges.commit(this)}return $}_commitPendingChanges(J,$,Q){if(J.length>0||Q.length>0)this._minWidth=-1;if(J.length+$.length+Q.length<=1){for(let q of J)this._insertWhitespace(q);for(let q of $)this._changeOneWhitespace(q.id,q.newAfterLineNumber,q.newHeight);for(let q of Q){let U=this._findWhitespaceIndex(q.id);if(U===-1)continue;this._removeWhitespace(U)}return}let X=new Set;for(let q of Q)X.add(q.id);let Y=new Map;for(let q of $)Y.set(q.id,q);let Z=(q)=>{let U=[];for(let z of q){if(X.has(z.id))continue;if(Y.has(z.id)){let H=Y.get(z.id);z.afterLineNumber=H.newAfterLineNumber,z.height=H.newHeight}U.push(z)}return U},G=Z(this._arr).concat(Z(J));G.sort((q,U)=>{if(q.afterLineNumber===U.afterLineNumber)return q.ordinal-U.ordinal;return q.afterLineNumber-U.afterLineNumber}),this._arr=G,this._prefixSumValidIndex=-1}_checkPendingChanges(){if(this._pendingChanges.mustCommit())this._pendingChanges.commit(this)}_insertWhitespace(J){let $=P3.findInsertionIndex(this._arr,J.afterLineNumber,J.ordinal);this._arr.splice($,0,J),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,$-1)}_findWhitespaceIndex(J){let $=this._arr;for(let Q=0,X=$.length;Q<X;Q++)if($[Q].id===J)return Q;return-1}_changeOneWhitespace(J,$,Q){let X=this._findWhitespaceIndex(J);if(X===-1)return;if(this._arr[X].height!==Q)this._arr[X].height=Q,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,X-1);if(this._arr[X].afterLineNumber!==$){let Y=this._arr[X];this._removeWhitespace(X),Y.afterLineNumber=$,this._insertWhitespace(Y)}}_removeWhitespace(J){this._arr.splice(J,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,J-1)}onLinesDeleted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount-=$-J+1;for(let Q=0,X=this._arr.length;Q<X;Q++){let Y=this._arr[Q].afterLineNumber;if(J<=Y&&Y<=$)this._arr[Q].afterLineNumber=J-1;else if(Y>$)this._arr[Q].afterLineNumber-=$-J+1}}onLinesInserted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount+=$-J+1;for(let Q=0,X=this._arr.length;Q<X;Q++){let Y=this._arr[Q].afterLineNumber;if(J<=Y)this._arr[Q].afterLineNumber+=$-J+1}}getWhitespacesTotalHeight(){if(this._checkPendingChanges(),this._arr.length===0)return 0;return this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(J){this._checkPendingChanges(),J=J|0;let $=Math.max(0,this._prefixSumValidIndex+1);if($===0)this._arr[0].prefixSum=this._arr[0].height,$++;for(let Q=$;Q<=J;Q++)this._arr[Q].prefixSum=this._arr[Q-1].prefixSum+this._arr[Q].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,J),this._arr[J].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();let J=this._lineHeight*this._lineCount,$=this.getWhitespacesTotalHeight();return J+$+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(J){this._checkPendingChanges(),J=J|0;let $=this._findLastWhitespaceBeforeLineNumber(J);if($===-1)return 0;return this.getWhitespacesAccumulatedHeight($)}_findLastWhitespaceBeforeLineNumber(J){J=J|0;let $=this._arr,Q=0,X=$.length-1;while(Q<=X){let Z=(X-Q|0)/2|0,G=Q+Z|0;if($[G].afterLineNumber<J)if(G+1>=$.length||$[G+1].afterLineNumber>=J)return G;else Q=G+1|0;else X=G-1|0}return-1}_findFirstWhitespaceAfterLineNumber(J){J=J|0;let Q=this._findLastWhitespaceBeforeLineNumber(J)+1;if(Q<this._arr.length)return Q;return-1}getFirstWhitespaceIndexAfterLineNumber(J){return this._checkPendingChanges(),J=J|0,this._findFirstWhitespaceAfterLineNumber(J)}getVerticalOffsetForLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let Q;if(J>1)Q=this._lineHeight*(J-1);else Q=0;let X=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J-($?1:0));return Q+X+this._paddingTop}getVerticalOffsetAfterLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let Q=this._lineHeight*J,X=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J+($?1:0));return Q+X+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let J=0;for(let $=0,Q=this._arr.length;$<Q;$++)J=Math.max(J,this._arr[$].minWidth);this._minWidth=J}return this._minWidth}isAfterLines(J){this._checkPendingChanges();let $=this.getLinesTotalHeight();return J>$}isInTopPadding(J){if(this._paddingTop===0)return!1;return this._checkPendingChanges(),J<this._paddingTop}isInBottomPadding(J){if(this._paddingBottom===0)return!1;this._checkPendingChanges();let $=this.getLinesTotalHeight();return J>=$-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(J){if(this._checkPendingChanges(),J=J|0,J<0)return 1;let $=this._lineCount|0,Q=this._lineHeight,X=1,Y=$;while(X<Y){let Z=(X+Y)/2|0,G=this.getVerticalOffsetForLineNumber(Z)|0;if(J>=G+Q)X=Z+1;else if(J>=G)return Z;else Y=Z}if(X>$)return $;return X}getLinesViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;let Q=this._lineHeight,X=this.getLineNumberAtOrAfterVerticalOffset(J)|0,Y=this.getVerticalOffsetForLineNumber(X)|0,Z=this._lineCount|0,G=this.getFirstWhitespaceIndexAfterLineNumber(X)|0,q=this.getWhitespacesCount()|0,U,z;if(G===-1)G=q,z=Z+1,U=0;else z=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;let H=Y,j=H,V=500000,W=0;if(Y>=V)W=Math.floor(Y/V)*V,W=Math.floor(W/Q)*Q,j-=W;let B=[],K=J+($-J)/2,P=-1;for(let M=X;M<=Z;M++){if(P===-1){let _=H,T=H+Q;if(_<=K&&K<T||_>K)P=M}H+=Q,B[M-X]=j,j+=Q;while(z===M)if(j+=U,H+=U,G++,G>=q)z=Z+1;else z=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;if(H>=$){Z=M;break}}if(P===-1)P=Z;let A=this.getVerticalOffsetForLineNumber(Z)|0,D=X,R=Z;if(D<R){if(Y<J)D++}if(D<R){if(A+Q>$)R--}return{bigNumbersDelta:W,startLineNumber:X,endLineNumber:Z,relativeVerticalOffset:B,centeredLineNumber:P,completelyVisibleStartLineNumber:D,completelyVisibleEndLineNumber:R}}getVerticalOffsetForWhitespaceIndex(J){this._checkPendingChanges(),J=J|0;let $=this.getAfterLineNumberForWhitespaceIndex(J),Q;if($>=1)Q=this._lineHeight*$;else Q=0;let X;if(J>0)X=this.getWhitespacesAccumulatedHeight(J-1);else X=0;return Q+X+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(J){this._checkPendingChanges(),J=J|0;let $=0,Q=this.getWhitespacesCount()-1;if(Q<0)return-1;let X=this.getVerticalOffsetForWhitespaceIndex(Q),Y=this.getHeightForWhitespaceIndex(Q);if(J>=X+Y)return-1;while($<Q){let Z=Math.floor(($+Q)/2),G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(J>=G+q)$=Z+1;else if(J>=G)return Z;else Q=Z}return $}getWhitespaceAtVerticalOffset(J){this._checkPendingChanges(),J=J|0;let $=this.getWhitespaceIndexAtOrAfterVerticallOffset(J);if($<0)return null;if($>=this.getWhitespacesCount())return null;let Q=this.getVerticalOffsetForWhitespaceIndex($);if(Q>J)return null;let X=this.getHeightForWhitespaceIndex($),Y=this.getIdForWhitespaceIndex($),Z=this.getAfterLineNumberForWhitespaceIndex($);return{id:Y,afterLineNumber:Z,verticalOffset:Q,height:X}}getWhitespaceViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;let Q=this.getWhitespaceIndexAtOrAfterVerticallOffset(J),X=this.getWhitespacesCount()-1;if(Q<0)return[];let Y=[];for(let Z=Q;Z<=X;Z++){let G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(G>=$)break;Y.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:G,height:q})}return Y}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].id}getAfterLineNumberForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].afterLineNumber}getHeightForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].height}}var fc=N(()=>{t0();P3.INSTANCE_COUNT=0});class D3{constructor(J,$,Q,X){if(J=J|0,$=$|0,Q=Q|0,X=X|0,J<0)J=0;if($<0)$=0;if(Q<0)Q=0;if(X<0)X=0;this.width=J,this.contentWidth=$,this.scrollWidth=Math.max(J,$),this.height=Q,this.contentHeight=X,this.scrollHeight=Math.max(Q,X)}equals(J){return this.width===J.width&&this.contentWidth===J.contentWidth&&this.height===J.height&&this.contentHeight===J.contentHeight}}var e80=125,gc,XL;var pc=N(()=>{F0();Q0();sq();fc();L4();bA();gc=class gc extends h{constructor(J,$){super();this._onDidContentSizeChange=this._register(new y),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new D3(0,0,0,0),this._scrollable=this._register(new y4({forceIntegerValues:!0,smoothScrollDuration:J,scheduleAtNextAnimationFrame:$})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(J){this._scrollable.setSmoothScrollDuration(J)}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}getScrollDimensions(){return this._dimensions}setScrollDimensions(J){if(this._dimensions.equals(J))return;let $=this._dimensions;this._dimensions=J,this._scrollable.setScrollDimensions({width:J.width,scrollWidth:J.scrollWidth,height:J.height,scrollHeight:J.scrollHeight},!0);let Q=$.contentWidth!==J.contentWidth,X=$.contentHeight!==J.contentHeight;if(Q||X)this._onDidContentSizeChange.fire(new IA($.contentWidth,$.contentHeight,J.contentWidth,J.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(J){this._scrollable.setScrollPositionNow(J)}setScrollPositionSmooth(J){this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}};XL=class XL extends h{constructor(J,$,Q){super();this._configuration=J;let X=this._configuration.options,Y=X.get(143),Z=X.get(83);this._linesLayout=new P3($,X.get(66),Z.top,Z.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new gc(0,Q)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new D3(Y.contentWidth,0,Y.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?e80:0)}onConfigurationChanged(J){let $=this._configuration.options;if(J.hasChanged(66))this._linesLayout.setLineHeight($.get(66));if(J.hasChanged(83)){let Q=$.get(83);this._linesLayout.setPadding(Q.top,Q.bottom)}if(J.hasChanged(143)){let Q=$.get(143),X=Q.contentWidth,Y=Q.height,Z=this._scrollable.getScrollDimensions(),G=Z.contentWidth;this._scrollable.setScrollDimensions(new D3(X,Z.contentWidth,Y,this._getContentHeight(X,Y,G)))}else this._updateHeight();if(J.hasChanged(113))this._configureSmoothScrollDuration()}onFlushed(J){this._linesLayout.onFlushed(J)}onLinesDeleted(J,$){this._linesLayout.onLinesDeleted(J,$)}onLinesInserted(J,$){this._linesLayout.onLinesInserted(J,$)}_getHorizontalScrollbarHeight(J,$){let X=this._configuration.options.get(102);if(X.horizontal===2)return 0;if(J>=$)return 0;return X.horizontalScrollbarSize}_getContentHeight(J,$,Q){let X=this._configuration.options,Y=this._linesLayout.getLinesTotalHeight();if(X.get(104))Y+=Math.max(0,$-X.get(66)-X.get(83).bottom);else if(!X.get(102).ignoreHorizontalScrollbarInContentHeight)Y+=this._getHorizontalScrollbarHeight(J,Q);return Y}_updateHeight(){let J=this._scrollable.getScrollDimensions(),$=J.width,Q=J.height,X=J.contentWidth;this._scrollable.setScrollDimensions(new D3($,J.contentWidth,Q,this._getContentHeight($,Q,X)))}getCurrentViewport(){let J=this._scrollable.getScrollDimensions(),$=this._scrollable.getCurrentScrollPosition();return new XK($.scrollTop,$.scrollLeft,J.width,J.height)}getFutureViewport(){let J=this._scrollable.getScrollDimensions(),$=this._scrollable.getFutureScrollPosition();return new XK($.scrollTop,$.scrollLeft,J.width,J.height)}_computeContentWidth(){let J=this._configuration.options,$=this._maxLineWidth,Q=J.get(144),X=J.get(50),Y=J.get(143);if(Q.isViewportWrapping){let Z=J.get(72);if($>Y.contentWidth+X.typicalHalfwidthCharacterWidth){if(Z.enabled&&Z.side==="right")return $+Y.verticalScrollbarWidth}return $}else{let Z=J.get(103)*X.typicalHalfwidthCharacterWidth,G=this._linesLayout.getWhitespaceMinWidth();return Math.max($+Z+Y.verticalScrollbarWidth,G,this._overlayWidgetsMinWidth)}}setMaxLineWidth(J){this._maxLineWidth=J,this._updateContentWidth()}setOverlayWidgetsMinWidth(J){this._overlayWidgetsMinWidth=J,this._updateContentWidth()}_updateContentWidth(){let J=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new D3(J.width,this._computeContentWidth(),J.height,J.contentHeight)),this._updateHeight()}saveState(){let J=this._scrollable.getFutureScrollPosition(),$=J.scrollTop,Q=this._linesLayout.getLineNumberAtOrAfterVerticalOffset($),X=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(Q);return{scrollTop:$,scrollTopWithoutViewZones:$-X,scrollLeft:J.scrollLeft}}changeWhitespace(J){let $=this._linesLayout.changeWhitespace(J);if($)this.onHeightMaybeChanged();return $}getVerticalOffsetForLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(J,$)}isAfterLines(J){return this._linesLayout.isAfterLines(J)}isInTopPadding(J){return this._linesLayout.isInTopPadding(J)}isInBottomPadding(J){return this._linesLayout.isInBottomPadding(J)}getLineNumberAtVerticalOffset(J){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(J)}getWhitespaceAtVerticalOffset(J){return this._linesLayout.getWhitespaceAtVerticalOffset(J)}getLinesViewportData(){let J=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(J.top,J.top+J.height)}getLinesViewportDataAtScrollTop(J){let $=this._scrollable.getScrollDimensions();if(J+$.height>$.scrollHeight)J=$.scrollHeight-$.height;if(J<0)J=0;return this._linesLayout.getLinesViewportData(J,J+$.height)}getWhitespaceViewportData(){let J=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(J.top,J.top+J.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}setScrollPosition(J,$){if($===1)this._scrollable.setScrollPositionNow(J);else this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(J,$){let Q=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:Q.scrollLeft+J,scrollTop:Q.scrollTop+$})}}});class YL{constructor(J,$,Q,X,Y){this.editorId=J,this.model=$,this.configuration=Q,this._linesCollection=X,this._coordinatesConverter=Y,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(J){let $=J.id,Q=this._decorationsCache[$];if(!Q){let{range:X,options:Y}=J,Z;if(Y.isWholeLine){let G=this._coordinatesConverter.convertModelPositionToViewPosition(new v(X.startLineNumber,1),0,!1,!0),q=this._coordinatesConverter.convertModelPositionToViewPosition(new v(X.endLineNumber,this.model.getLineMaxColumn(X.endLineNumber)),1);Z=new L(G.lineNumber,G.column,q.lineNumber,q.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(X,1);Q=new QH(Z,Y),this._decorationsCache[$]=Q}return Q}getMinimapDecorationsInRange(J){return this._getDecorationsInRange(J,!0,!1).decorations}getDecorationsViewportData(J){let $=this._cachedModelDecorationsResolver!==null;if($=$&&J.equalsRange(this._cachedModelDecorationsResolverViewRange),!$)this._cachedModelDecorationsResolver=this._getDecorationsInRange(J,!1,!1),this._cachedModelDecorationsResolverViewRange=J;return this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(J,$=!1,Q=!1){let X=new L(J,this._linesCollection.getViewLineMinColumn(J),J,this._linesCollection.getViewLineMaxColumn(J));return this._getDecorationsInRange(X,$,Q).inlineDecorations[0]}_getDecorationsInRange(J,$,Q){let X=this._linesCollection.getDecorationsInRange(J,this.editorId,NZ(this.configuration.options),$,Q),Y=J.startLineNumber,Z=J.endLineNumber,G=[],q=0,U=[];for(let z=Y;z<=Z;z++)U[z-Y]=[];for(let z=0,H=X.length;z<H;z++){let j=X[z],V=j.options;if(!J70(this.model,j))continue;let W=this._getOrCreateViewModelDecoration(j),B=W.range;if(G[q++]=W,V.inlineClassName){let K=new qY(B,V.inlineClassName,V.inlineClassNameAffectsLetterSpacing?3:0),P=Math.max(Y,B.startLineNumber),A=Math.min(Z,B.endLineNumber);for(let D=P;D<=A;D++)U[D-Y].push(K)}if(V.beforeContentClassName){if(Y<=B.startLineNumber&&B.startLineNumber<=Z){let K=new qY(new L(B.startLineNumber,B.startColumn,B.startLineNumber,B.startColumn),V.beforeContentClassName,1);U[B.startLineNumber-Y].push(K)}}if(V.afterContentClassName){if(Y<=B.endLineNumber&&B.endLineNumber<=Z){let K=new qY(new L(B.endLineNumber,B.endColumn,B.endLineNumber,B.endColumn),V.afterContentClassName,2);U[B.endLineNumber-Y].push(K)}}}return{decorations:G,inlineDecorations:U}}}function J70(J,$){if($.options.hideInCommentTokens&&$70(J,$))return!1;if($.options.hideInStringTokens&&Q70(J,$))return!1;return!0}function $70(J,$){return mc(J,$.range,(Q)=>Q===1)}function Q70(J,$){return mc(J,$.range,(Q)=>Q===2)}function mc(J,$,Q){for(let X=$.startLineNumber;X<=$.endLineNumber;X++){let Y=J.tokenization.getLineTokens(X),Z=X===$.startLineNumber,G=X===$.endLineNumber,q=Z?Y.findTokenIndexAtOffset($.startColumn-1):0;while(q<Y.getCount()){if(G){if(Y.getStartOffset(q)>$.endColumn-1)break}if(!Q(Y.getStandardTokenType(q)))return!1;q++}}return!0}var uc=N(()=>{l0();L4();t5()});function SA(J,$){if(J===null){if($)return Gj.INSTANCE;return qj.INSTANCE}else return new lc(J,$)}class lc{constructor(J,$){this._projectionData=J,this._isVisible=$}isVisible(){return this._isVisible}setVisible(J){return this._isVisible=J,this}getProjectionData(){return this._projectionData}getViewLineCount(){if(!this._isVisible)return 0;return this._projectionData.getOutputLineCount()}getViewLineContent(J,$,Q){this._assertVisible();let X=Q>0?this._projectionData.breakOffsets[Q-1]:0,Y=this._projectionData.breakOffsets[Q],Z;if(this._projectionData.injectionOffsets!==null){let G=this._projectionData.injectionOffsets.map((U,z)=>new D7(0,0,U+1,this._projectionData.injectionOptions[z],0));Z=D7.applyInjectedText(J.getLineContent($),G).substring(X,Y)}else Z=J.getValueInRange({startLineNumber:$,startColumn:X+1,endLineNumber:$,endColumn:Y+1});if(Q>0)Z=cc(this._projectionData.wrappedTextIndentLength)+Z;return Z}getViewLineLength(J,$,Q){return this._assertVisible(),this._projectionData.getLineLength(Q)}getViewLineMinColumn(J,$,Q){return this._assertVisible(),this._projectionData.getMinOutputOffset(Q)+1}getViewLineMaxColumn(J,$,Q){return this._assertVisible(),this._projectionData.getMaxOutputOffset(Q)+1}getViewLineData(J,$,Q){let X=new Array;return this.getViewLinesData(J,$,Q,1,0,[!0],X),X[0]}getViewLinesData(J,$,Q,X,Y,Z,G){this._assertVisible();let q=this._projectionData,U=q.injectionOffsets,z=q.injectionOptions,H=null;if(U){H=[];let V=0,W=0;for(let B=0;B<q.getOutputLineCount();B++){let K=new Array;H[B]=K;let P=B>0?q.breakOffsets[B-1]:0,A=q.breakOffsets[B];while(W<U.length){let D=z[W].content.length,R=U[W]+V,M=R+D;if(R>A)break;if(P<M){let _=z[W];if(_.inlineClassName){let T=B>0?q.wrappedTextIndentLength:0,w=T+Math.max(R-P,0),b=T+Math.min(M-P,A-P);if(w!==b)K.push(new wO(w,b,_.inlineClassName,_.inlineClassNameAffectsLetterSpacing))}}if(M<=A)V+=D,W++;else break}}}let j;if(U)j=J.tokenization.getLineTokens($).withInserted(U.map((V,W)=>({offset:V,text:z[W].content,tokenMetadata:O6.defaultTokenMetadata})));else j=J.tokenization.getLineTokens($);for(let V=Q;V<Q+X;V++){let W=Y+V-Q;if(!Z[W]){G[W]=null;continue}G[W]=this._getViewLineData(j,H?H[V]:null,V)}}_getViewLineData(J,$,Q){this._assertVisible();let X=this._projectionData,Y=Q>0?X.wrappedTextIndentLength:0,Z=Q>0?X.breakOffsets[Q-1]:0,G=X.breakOffsets[Q],q=J.sliceAndInflate(Z,G,Y),U=q.getLineContent();if(Q>0)U=cc(X.wrappedTextIndentLength)+U;let z=this._projectionData.getMinOutputOffset(Q)+1,H=U.length+1,j=Q+1<this.getViewLineCount(),V=Q===0?0:X.breakOffsetsVisibleColumn[Q-1];return new Mq(U,j,z,H,V,q,$)}getModelColumnOfViewPosition(J,$){return this._assertVisible(),this._projectionData.translateToInputOffset(J,$-1)+1}getViewPositionOfModelPosition(J,$,Q=2){return this._assertVisible(),this._projectionData.translateToOutputPosition($-1,Q).toPosition(J)}getViewLineNumberOfModelPosition(J,$){this._assertVisible();let Q=this._projectionData.translateToOutputPosition($-1);return J+Q.outputLineIndex}normalizePosition(J,$,Q){let X=$.lineNumber-J;return this._projectionData.normalizeOutputPosition(J,$.column-1,Q).toPosition(X)}getInjectedTextAt(J,$){return this._projectionData.getInjectedText(J,$-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Gj{constructor(){}isVisible(){return!0}setVisible(J){if(J)return this;return qj.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(J,$,Q){return J.getLineContent($)}getViewLineLength(J,$,Q){return J.getLineLength($)}getViewLineMinColumn(J,$,Q){return J.getLineMinColumn($)}getViewLineMaxColumn(J,$,Q){return J.getLineMaxColumn($)}getViewLineData(J,$,Q){let X=J.tokenization.getLineTokens($),Y=X.getLineContent();return new Mq(Y,!1,1,Y.length+1,0,X.inflate(),null)}getViewLinesData(J,$,Q,X,Y,Z,G){if(!Z[Y]){G[Y]=null;return}G[Y]=this.getViewLineData(J,$,0)}getModelColumnOfViewPosition(J,$){return $}getViewPositionOfModelPosition(J,$){return new v(J,$)}getViewLineNumberOfModelPosition(J,$){return J}normalizePosition(J,$,Q){return $}getInjectedTextAt(J,$){return null}}class qj{constructor(){}isVisible(){return!1}setVisible(J){if(!J)return this;return Gj.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(J,$,Q){throw new Error("Not supported")}getViewLineLength(J,$,Q){throw new Error("Not supported")}getViewLineMinColumn(J,$,Q){throw new Error("Not supported")}getViewLineMaxColumn(J,$,Q){throw new Error("Not supported")}getViewLineData(J,$,Q){throw new Error("Not supported")}getViewLinesData(J,$,Q,X,Y,Z,G){throw new Error("Not supported")}getModelColumnOfViewPosition(J,$){throw new Error("Not supported")}getViewPositionOfModelPosition(J,$){throw new Error("Not supported")}getViewLineNumberOfModelPosition(J,$){throw new Error("Not supported")}normalizePosition(J,$,Q){throw new Error("Not supported")}getInjectedTextAt(J,$){throw new Error("Not supported")}}function cc(J){if(J>=ZL.length)for(let $=1;$<=J;$++)ZL[$]=X70($);return ZL[J]}function X70(J){return new Array(J+1).join(" ")}var ZL;var dc=N(()=>{pQ();L4();Gj.INSTANCE=new Gj;qj.INSTANCE=new qj;ZL=[""]});class UL{constructor(J,$,Q,X,Y,Z,G,q,U,z){this._editorId=J,this.model=$,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=Q,this._monospaceLineBreaksComputerFactory=X,this.fontInfo=Y,this.tabSize=Z,this.wrappingStrategy=G,this.wrappingColumn=q,this.wrappingIndent=U,this.wordBreak=z,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new sc(this)}_constructLines(J,$){if(this.modelLineProjections=[],J)this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);let Q=this.model.getLinesContent(),X=this.model.getInjectedTextDecorations(this._editorId),Y=Q.length,Z=this.createLineBreaksComputer(),G=new r8(D7.fromDecorations(X));for(let B=0;B<Y;B++){let K=G.takeWhile((P)=>P.lineNumber===B+1);Z.addRequest(Q[B],K,$?$[B]:null)}let q=Z.finalize(),U=[],z=this.hiddenAreasDecorationIds.map((B)=>this.model.getDecorationRange(B)).sort(L.compareRangesUsingStarts),H=1,j=0,V=-1,W=V+1<z.length?j+1:Y+2;for(let B=0;B<Y;B++){let K=B+1;if(K===W)V++,H=z[V].startLineNumber,j=z[V].endLineNumber,W=V+1<z.length?j+1:Y+2;let P=K>=H&&K<=j,A=SA(q[B],!P);U[B]=A.getViewLineCount(),this.modelLineProjections[B]=A}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new r_(U)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((J)=>this.model.getDecorationRange(J))}setHiddenAreas(J){let $=J.map((j)=>this.model.validateRange(j)),Q=Y70($),X=this.hiddenAreasDecorationIds.map((j)=>this.model.getDecorationRange(j)).sort(L.compareRangesUsingStarts);if(Q.length===X.length){let j=!1;for(let V=0;V<Q.length;V++)if(!Q[V].equalsRange(X[V])){j=!0;break}if(!j)return!1}let Y=Q.map((j)=>({range:j,options:L1.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Y);let Z=Q,G=1,q=0,U=-1,z=U+1<Z.length?q+1:this.modelLineProjections.length+2,H=!1;for(let j=0;j<this.modelLineProjections.length;j++){let V=j+1;if(V===z)U++,G=Z[U].startLineNumber,q=Z[U].endLineNumber,z=U+1<Z.length?q+1:this.modelLineProjections.length+2;let W=!1;if(V>=G&&V<=q){if(this.modelLineProjections[j].isVisible())this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!1),W=!0}else if(H=!0,!this.modelLineProjections[j].isVisible())this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!0),W=!0;if(W){let B=this.modelLineProjections[j].getViewLineCount();this.projectedModelLineLineCounts.setValue(j,B)}}if(!H)this.setHiddenAreas([]);return!0}modelPositionIsVisible(J,$){if(J<1||J>this.modelLineProjections.length)return!1;return this.modelLineProjections[J-1].isVisible()}getModelLineViewLineCount(J){if(J<1||J>this.modelLineProjections.length)return 1;return this.modelLineProjections[J-1].getViewLineCount()}setTabSize(J){if(this.tabSize===J)return!1;return this.tabSize=J,this._constructLines(!1,null),!0}setWrappingSettings(J,$,Q,X,Y){let Z=this.fontInfo.equals(J),G=this.wrappingStrategy===$,q=this.wrappingColumn===Q,U=this.wrappingIndent===X,z=this.wordBreak===Y;if(Z&&G&&q&&U&&z)return!1;let H=Z&&G&&!q&&U&&z;this.fontInfo=J,this.wrappingStrategy=$,this.wrappingColumn=Q,this.wrappingIndent=X,this.wordBreak=Y;let j=null;if(H){j=[];for(let V=0,W=this.modelLineProjections.length;V<W;V++)j[V]=this.modelLineProjections[V].getProjectionData()}return this._constructLines(!1,j),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(J,$,Q){if(!J||J<=this._validModelVersionId)return null;let X=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,Y=this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections.splice($-1,Q-$+1),this.projectedModelLineLineCounts.removeValues($-1,Q-$+1),new $j(X,Y)}onModelLinesInserted(J,$,Q,X){if(!J||J<=this._validModelVersionId)return null;let Y=$>2&&!this.modelLineProjections[$-2].isVisible(),Z=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,G=0,q=[],U=[];for(let z=0,H=X.length;z<H;z++){let j=SA(X[z],!Y);q.push(j);let V=j.getViewLineCount();G+=V,U[z]=V}return this.modelLineProjections=this.modelLineProjections.slice(0,$-1).concat(q).concat(this.modelLineProjections.slice($-1)),this.projectedModelLineLineCounts.insertValues($-1,U),new Qj(Z,Z+G-1)}onModelLineChanged(J,$,Q){if(J!==null&&J<=this._validModelVersionId)return[!1,null,null,null];let X=$-1,Y=this.modelLineProjections[X].getViewLineCount(),Z=this.modelLineProjections[X].isVisible(),G=SA(Q,Z);this.modelLineProjections[X]=G;let q=this.modelLineProjections[X].getViewLineCount(),U=!1,z=0,H=-1,j=0,V=-1,W=0,B=-1;if(Y>q)z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+q-1,W=H+1,B=W+(Y-q)-1,U=!0;else if(Y<q)z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+Y-1,j=H+1,V=j+(q-Y)-1,U=!0;else z=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,H=z+q-1;this.projectedModelLineLineCounts.setValue(X,q);let K=z<=H?new EA(z,H-z+1):null,P=j<=V?new Qj(j,V):null,A=W<=B?new $j(W,B):null;return[U,K,P,A]}acceptVersionId(J){if(this._validModelVersionId=J,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible())this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(J){if(J<1)return 1;let $=this.getViewLineCount();if(J>$)return $;return J|0}getActiveIndentGuide(J,$,Q){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($),Q=this._toValidViewLineNumber(Q);let X=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Y=this.convertViewPositionToModelPosition($,this.getViewLineMinColumn($)),Z=this.convertViewPositionToModelPosition(Q,this.getViewLineMinColumn(Q)),G=this.model.guides.getActiveIndentGuide(X.lineNumber,Y.lineNumber,Z.lineNumber),q=this.convertModelPositionToViewPosition(G.startLineNumber,1),U=this.convertModelPositionToViewPosition(G.endLineNumber,this.model.getLineMaxColumn(G.endLineNumber));return{startLineNumber:q.lineNumber,endLineNumber:U.lineNumber,indent:G.indent}}getViewLineInfo(J){J=this._toValidViewLineNumber(J);let $=this.projectedModelLineLineCounts.getIndexOf(J-1),Q=$.index,X=$.remainder;return new GL(Q+1,X)}getMinColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(J){let $=this.modelLineProjections[J.modelLineNumber-1],Q=$.getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),X=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,Q);return new v(J.modelLineNumber,X)}getModelEndPositionOfViewLine(J){let $=this.modelLineProjections[J.modelLineNumber-1],Q=$.getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),X=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,Q);return new v(J.modelLineNumber,X)}getViewLineInfosGroupedByModelRanges(J,$){let Q=this.getViewLineInfo(J),X=this.getViewLineInfo($),Y=new Array,Z=this.getModelStartPositionOfViewLine(Q),G=new Array;for(let q=Q.modelLineNumber;q<=X.modelLineNumber;q++){let U=this.modelLineProjections[q-1];if(U.isVisible()){let z=q===Q.modelLineNumber?Q.modelLineWrappedLineIdx:0,H=q===X.modelLineNumber?X.modelLineWrappedLineIdx+1:U.getViewLineCount();for(let j=z;j<H;j++)G.push(new GL(q,j))}if(!U.isVisible()&&Z){let z=new v(q-1,this.model.getLineMaxColumn(q-1)+1),H=L.fromPositions(Z,z);Y.push(new qL(H,G)),G=[],Z=null}else if(U.isVisible()&&!Z)Z=new v(q,1)}if(Z){let q=L.fromPositions(Z,this.getModelEndPositionOfViewLine(X));Y.push(new qL(q,G))}return Y}getViewLinesBracketGuides(J,$,Q,X){let Y=Q?this.convertViewPositionToModelPosition(Q.lineNumber,Q.column):null,Z=[];for(let G of this.getViewLineInfosGroupedByModelRanges(J,$)){let q=G.modelRange.startLineNumber,U=this.model.guides.getLinesBracketGuides(q,G.modelRange.endLineNumber,Y,X);for(let z of G.viewLines){let j=U[z.modelLineNumber-q].map((V)=>{if(V.forWrappedLinesAfterColumn!==-1){if(this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,V.forWrappedLinesAfterColumn).lineNumber>=z.modelLineWrappedLineIdx)return}if(V.forWrappedLinesBeforeOrAtColumn!==-1){if(this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,V.forWrappedLinesBeforeOrAtColumn).lineNumber<z.modelLineWrappedLineIdx)return}if(!V.horizontalLine)return V;let W=-1;if(V.column!==-1){let P=this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,V.column);if(P.lineNumber===z.modelLineWrappedLineIdx)W=P.column;else if(P.lineNumber<z.modelLineWrappedLineIdx)W=this.getMinColumnOfViewLine(z);else if(P.lineNumber>z.modelLineWrappedLineIdx)return}let B=this.convertModelPositionToViewPosition(z.modelLineNumber,V.horizontalLine.endColumn),K=this.modelLineProjections[z.modelLineNumber-1].getViewPositionOfModelPosition(0,V.horizontalLine.endColumn);if(K.lineNumber===z.modelLineWrappedLineIdx)return new wJ(V.visibleColumn,W,V.className,new RY(V.horizontalLine.top,B.column),-1,-1);else if(K.lineNumber<z.modelLineWrappedLineIdx)return;else{if(V.visibleColumn!==-1)return;return new wJ(V.visibleColumn,W,V.className,new RY(V.horizontalLine.top,this.getMaxColumnOfViewLine(z)),-1,-1)}});Z.push(j.filter((V)=>!!V))}}return Z}getViewLinesIndentGuides(J,$){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);let Q=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),X=this.convertViewPositionToModelPosition($,this.getViewLineMaxColumn($)),Y=[],Z=[],G=[],q=Q.lineNumber-1,U=X.lineNumber-1,z=null;for(let W=q;W<=U;W++){let B=this.modelLineProjections[W];if(B.isVisible()){let K=B.getViewLineNumberOfModelPosition(0,W===q?Q.column:1),P=B.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(W+1)),A=P-K+1,D=0;if(A>1&&B.getViewLineMinColumn(this.model,W+1,P)===1)D=K===0?1:2;if(Z.push(A),G.push(D),z===null)z=new v(W+1,0)}else if(z!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(z.lineNumber,W)),z=null}if(z!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(z.lineNumber,X.lineNumber)),z=null;let H=$-J+1,j=new Array(H),V=0;for(let W=0,B=Y.length;W<B;W++){let K=Y[W],P=Math.min(H-V,Z[W]),A=G[W],D;if(A===2)D=0;else if(A===1)D=1;else D=P;for(let R=0;R<P;R++){if(R===D)K=0;j[V++]=K}}return j}getViewLineContent(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineContent(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineLength(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineLength(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMinColumn(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMinColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMaxColumn(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMaxColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineData(J){let $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineData(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLinesData(J,$,Q){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);let X=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=J,Z=X.index,G=X.remainder,q=[];for(let U=Z,z=this.model.getLineCount();U<z;U++){let H=this.modelLineProjections[U];if(!H.isVisible())continue;let j=U===Z?G:0,V=H.getViewLineCount()-j,W=!1;if(Y+V>$)W=!0,V=$-Y+1;if(H.getViewLinesData(this.model,U+1,j,V,Y-J,Q,q),Y+=V,W)break}return q}validateViewPosition(J,$,Q){J=this._toValidViewLineNumber(J);let X=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=X.index,Z=X.remainder,G=this.modelLineProjections[Y],q=G.getViewLineMinColumn(this.model,Y+1,Z),U=G.getViewLineMaxColumn(this.model,Y+1,Z);if($<q)$=q;if($>U)$=U;let z=G.getModelColumnOfViewPosition(Z,$);if(this.model.validatePosition(new v(Y+1,z)).equals(Q))return new v(J,$);return this.convertModelPositionToViewPosition(Q.lineNumber,Q.column)}validateViewRange(J,$){let Q=this.validateViewPosition(J.startLineNumber,J.startColumn,$.getStartPosition()),X=this.validateViewPosition(J.endLineNumber,J.endColumn,$.getEndPosition());return new L(Q.lineNumber,Q.column,X.lineNumber,X.column)}convertViewPositionToModelPosition(J,$){let Q=this.getViewLineInfo(J),X=this.modelLineProjections[Q.modelLineNumber-1].getModelColumnOfViewPosition(Q.modelLineWrappedLineIdx,$);return this.model.validatePosition(new v(Q.modelLineNumber,X))}convertViewRangeToModelRange(J){let $=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),Q=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);return new L($.lineNumber,$.column,Q.lineNumber,Q.column)}convertModelPositionToViewPosition(J,$,Q=2,X=!1,Y=!1){let Z=this.model.validatePosition(new v(J,$)),G=Z.lineNumber,q=Z.column,U=G-1,z=!1;if(Y)while(U<this.modelLineProjections.length&&!this.modelLineProjections[U].isVisible())U++,z=!0;else while(U>0&&!this.modelLineProjections[U].isVisible())U--,z=!0;if(U===0&&!this.modelLineProjections[U].isVisible())return new v(X?0:1,1);let H=1+this.projectedModelLineLineCounts.getPrefixSum(U),j;if(z)if(Y)j=this.modelLineProjections[U].getViewPositionOfModelPosition(H,1,Q);else j=this.modelLineProjections[U].getViewPositionOfModelPosition(H,this.model.getLineMaxColumn(U+1),Q);else j=this.modelLineProjections[G-1].getViewPositionOfModelPosition(H,q,Q);return j}convertModelRangeToViewRange(J,$=0){if(J.isEmpty()){let Q=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,$);return L.fromPositions(Q)}else{let Q=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,1),X=this.convertModelPositionToViewPosition(J.endLineNumber,J.endColumn,0);return new L(Q.lineNumber,Q.column,X.lineNumber,X.column)}}getViewLineNumberOfModelPosition(J,$){let Q=J-1;if(this.modelLineProjections[Q].isVisible()){let Y=1+this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections[Q].getViewLineNumberOfModelPosition(Y,$)}while(Q>0&&!this.modelLineProjections[Q].isVisible())Q--;if(Q===0&&!this.modelLineProjections[Q].isVisible())return 1;let X=1+this.projectedModelLineLineCounts.getPrefixSum(Q);return this.modelLineProjections[Q].getViewLineNumberOfModelPosition(X,this.model.getLineMaxColumn(Q+1))}getDecorationsInRange(J,$,Q,X,Y){let Z=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),G=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);if(G.lineNumber-Z.lineNumber<=J.endLineNumber-J.startLineNumber)return this.model.getDecorationsInRange(new L(Z.lineNumber,1,G.lineNumber,G.column),$,Q,X,Y);let q=[],U=Z.lineNumber-1,z=G.lineNumber-1,H=null;for(let B=U;B<=z;B++)if(this.modelLineProjections[B].isVisible()){if(H===null)H=new v(B+1,B===U?Z.column:1)}else if(H!==null){let P=this.model.getLineMaxColumn(B);q=q.concat(this.model.getDecorationsInRange(new L(H.lineNumber,H.column,B,P),$,Q,X)),H=null}if(H!==null)q=q.concat(this.model.getDecorationsInRange(new L(H.lineNumber,H.column,G.lineNumber,G.column),$,Q,X)),H=null;q.sort((B,K)=>{let P=L.compareRangesUsingStarts(B.range,K.range);if(P===0){if(B.id<K.id)return-1;if(B.id>K.id)return 1;return 0}return P});let j=[],V=0,W=null;for(let B of q){let K=B.id;if(W===K)continue;W=K,j[V++]=B}return j}getInjectedTextAt(J){let $=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[$.modelLineNumber-1].getInjectedTextAt($.modelLineWrappedLineIdx,J.column)}normalizePosition(J,$){let Q=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[Q.modelLineNumber-1].normalizePosition(Q.modelLineWrappedLineIdx,J,$)}getLineIndentColumn(J){let $=this.getViewLineInfo(J);if($.modelLineWrappedLineIdx===0)return this.model.getLineIndentColumn($.modelLineNumber);return 0}}function Y70(J){if(J.length===0)return[];let $=J.slice();$.sort(L.compareRangesUsingStarts);let Q=[],X=$[0].startLineNumber,Y=$[0].endLineNumber;for(let Z=1,G=$.length;Z<G;Z++){let q=$[Z];if(q.startLineNumber>Y+1)Q.push(new L(X,1,Y,1)),X=q.startLineNumber,Y=q.endLineNumber;else if(q.endLineNumber>Y)Y=q.endLineNumber}return Q.push(new L(X,1,Y,1)),Q}class GL{constructor(J,$){this.modelLineNumber=J,this.modelLineWrappedLineIdx=$}}class qL{constructor(J,$){this.modelRange=J,this.viewLines=$}}class sc{constructor(J){this._lines=J}convertViewPositionToModelPosition(J){return this._lines.convertViewPositionToModelPosition(J.lineNumber,J.column)}convertViewRangeToModelRange(J){return this._lines.convertViewRangeToModelRange(J)}validateViewPosition(J,$){return this._lines.validateViewPosition(J.lineNumber,J.column,$)}validateViewRange(J,$){return this._lines.validateViewRange(J,$)}convertModelPositionToViewPosition(J,$,Q,X){return this._lines.convertModelPositionToViewPosition(J.lineNumber,J.column,$,Q,X)}convertModelRangeToViewRange(J,$){return this._lines.convertModelRangeToViewRange(J,$)}modelPositionIsVisible(J){return this._lines.modelPositionIsVisible(J.lineNumber,J.column)}getModelLineViewLineCount(J){return this._lines.getModelLineViewLineCount(J)}getViewLineNumberOfModelPosition(J,$){return this._lines.getViewLineNumberOfModelPosition(J,$)}}class zL{constructor(J){this.model=J}dispose(){}createCoordinatesConverter(){return new ac(this)}getHiddenAreas(){return[]}setHiddenAreas(J){return!1}setTabSize(J){return!1}setWrappingSettings(J,$,Q,X){return!1}createLineBreaksComputer(){let J=[];return{addRequest:($,Q,X)=>{J.push(null)},finalize:()=>{return J}}}onModelFlushed(){}onModelLinesDeleted(J,$,Q){return new $j($,Q)}onModelLinesInserted(J,$,Q,X){return new Qj($,Q)}onModelLineChanged(J,$,Q){return[!1,new EA($,1),null,null]}acceptVersionId(J){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(J,$,Q){return{startLineNumber:J,endLineNumber:J,indent:0}}getViewLinesBracketGuides(J,$,Q){return new Array($-J+1).fill([])}getViewLinesIndentGuides(J,$){let Q=$-J+1,X=new Array(Q);for(let Y=0;Y<Q;Y++)X[Y]=0;return X}getViewLineContent(J){return this.model.getLineContent(J)}getViewLineLength(J){return this.model.getLineLength(J)}getViewLineMinColumn(J){return this.model.getLineMinColumn(J)}getViewLineMaxColumn(J){return this.model.getLineMaxColumn(J)}getViewLineData(J){let $=this.model.tokenization.getLineTokens(J),Q=$.getLineContent();return new Mq(Q,!1,1,Q.length+1,0,$.inflate(),null)}getViewLinesData(J,$,Q){let X=this.model.getLineCount();J=Math.min(Math.max(1,J),X),$=Math.min(Math.max(1,$),X);let Y=[];for(let Z=J;Z<=$;Z++){let G=Z-J;Y[G]=Q[G]?this.getViewLineData(Z):null}return Y}getDecorationsInRange(J,$,Q,X,Y){return this.model.getDecorationsInRange(J,$,Q,X,Y)}normalizePosition(J,$){return this.model.normalizePosition(J,$)}getLineIndentColumn(J){return this.model.getLineIndentColumn(J)}getInjectedTextAt(J){return null}}class ac{constructor(J){this._lines=J}_validPosition(J){return this._lines.model.validatePosition(J)}_validRange(J){return this._lines.model.validateRange(J)}convertViewPositionToModelPosition(J){return this._validPosition(J)}convertViewRangeToModelRange(J){return this._validRange(J)}validateViewPosition(J,$){return this._validPosition($)}validateViewRange(J,$){return this._validRange($)}convertModelPositionToViewPosition(J){return this._validPosition(J)}convertModelRangeToViewRange(J){return this._validRange(J)}modelPositionIsVisible(J){let $=this._lines.model.getLineCount();if(J.lineNumber<1||J.lineNumber>$)return!1;return!0}getModelLineViewLineCount(J){return 1}getViewLineNumberOfModelPosition(J,$){return J}}var rc=N(()=>{U1();l0();eK();EY();dc();n_();L4()});class HL{constructor(J){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((J+1)*m2/8))}reset(J){let $=Math.ceil((J+1)*m2/8);if(this.lanes.length<$)this.lanes=new Uint8Array($);else this.lanes.fill(0);this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(J,$,Q){if(Q)this.persist|=1<<J-1;for(let X=$.startLineNumber;X<=$.endLineNumber;X++){let Y=m2*X+(J-1);this.lanes[Y>>>3]|=1<<Y%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(X))}}getLanesAtLine(J){let $=[],Q=m2*J;for(let X=0;X<m2;X++){if(this.persist&1<<X||this.lanes[Q>>>3]&1<<Q%8)$.push(X+1);Q++}return $.length?$:[p9.Center]}countAtLine(J){let $=m2*J,Q=0;for(let X=0;X<m2;X++){if(this.persist&1<<X||this.lanes[$>>>3]&1<<$%8)Q++;$++}return Q}}var m2;var ic=N(()=>{v7();m2=p9.Right});class WL{static create(J){let $=J._setTrackedRange(null,new L(1,1,1,1),1);return new WL(J,1,!1,$,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(J,$,Q,X,Y){this._model=J,this._viewLineNumber=$,this._isValid=Q,this._modelTrackedRange=X,this._startLineDelta=Y}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(J,$){let Q=J.coordinatesConverter.convertViewPositionToModelPosition(new v($,J.getLineMinColumn($))),X=J.model._setTrackedRange(this._modelTrackedRange,new L(Q.lineNumber,Q.column,Q.lineNumber,Q.column),1),Y=J.viewLayout.getVerticalOffsetForLineNumber($),Z=J.viewLayout.getCurrentScrollTop();this._viewLineNumber=$,this._isValid=!0,this._modelTrackedRange=X,this._startLineDelta=Z-Y}invalidate(){this._isValid=!1}}class oc{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(J,$,Q,X,Y){let Z=this._asMap[J];if(Z){let G=Z.data,q=G[G.length-3],U=G[G.length-1];if(q===Y&&U+1>=Q){if(X>U)G[G.length-1]=X;return}G.push(Y,Q,X)}else{let G=new K2(J,$,[Y,Q,X]);this._asMap[J]=G,this.asArray.push(G)}}}class tc{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(J,$){let Q=this.hiddenAreas.get(J);if(Q&&nc(Q,$))return;this.hiddenAreas.set(J,$),this.shouldRecompute=!0}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;let J=Array.from(this.hiddenAreas.values()).reduce(($,Q)=>G70($,Q),[]);if(nc(this.ranges,J))return this.ranges;return this.ranges=J,this.ranges}}function G70(J,$){let Q=[],X=0,Y=0;while(X<J.length&&Y<$.length){let Z=J[X],G=$[Y];if(Z.endLineNumber<G.startLineNumber-1)Q.push(J[X++]);else if(G.endLineNumber<Z.startLineNumber-1)Q.push($[Y++]);else{let q=Math.min(Z.startLineNumber,G.startLineNumber),U=Math.max(Z.endLineNumber,G.endLineNumber);Q.push(new L(q,1,U,1)),X++,Y++}}while(X<J.length)Q.push(J[X++]);while(Y<$.length)Q.push($[Y++]);return Q}function nc(J,$){if(J.length!==$.length)return!1;for(let Q=0;Q<J.length;Q++)if(!J[Q].equalsRange($[Q]))return!1;return!0}class jL{constructor(J,$){this.viewportStartModelPosition=J,this.startLineDelta=$}recoverViewportStart(J,$){if(!this.viewportStartModelPosition)return;let Q=J.convertModelPositionToViewPosition(this.viewportStartModelPosition),X=$.getVerticalOffsetForLineNumber(Q.lineNumber);$.setScrollPosition({scrollTop:X+this.startLineDelta},1)}}var Z70=!0,VL;var ec=N(()=>{U1();u1();g7();Q0();M1();t0();t5();yc();b4();l0();P8();T4();QL();pc();zT();L4();uc();bA();rc();ic();VL=class VL extends h{constructor(J,$,Q,X,Y,Z,G,q,U){super();if(this.languageConfigurationService=G,this._themeService=q,this._attachedView=U,this.hiddenAreasModel=new tc,this.previousHiddenAreas=[],this._editorId=J,this._configuration=$,this.model=Q,this._eventDispatcher=new lw,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new AY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new t1(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=WL.create(this.model),this.glyphLanes=new HL(0),Z70&&this.model.isTooLargeForTokenization())this._lines=new zL(this.model);else{let z=this._configuration.options,H=z.get(50),j=z.get(137),V=z.get(144),W=z.get(136),B=z.get(128);this._lines=new UL(this._editorId,this.model,X,Y,H,this.model.getOptions().tabSize,j,V.wrappingColumn,W,B)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new $L(Q,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new XL(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll((z)=>{if(z.scrollTopChanged)this._handleVisibleLinesChanged();if(z.scrollTopChanged)this._viewportStart.invalidate();this._eventDispatcher.emitSingleViewEvent(new gw(z)),this._eventDispatcher.emitOutgoingEvent(new xA(z.oldScrollWidth,z.oldScrollLeft,z.oldScrollHeight,z.oldScrollTop,z.scrollWidth,z.scrollLeft,z.scrollHeight,z.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange((z)=>{this._eventDispatcher.emitOutgoingEvent(z)})),this._decorations=new YL(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((z)=>{try{let H=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(H,z)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(b2.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new uw)})),this._register(this._themeService.onDidColorThemeChange((z)=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new pw(z))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(J){this._eventDispatcher.addViewEventHandler(J)}removeViewEventHandler(J){this._eventDispatcher.removeViewEventHandler(J)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){let J=this.viewLayout.getLinesViewportData(),$=new L(J.startLineNumber,this.getLineMinColumn(J.startLineNumber),J.endLineNumber,this.getLineMaxColumn(J.endLineNumber));return this._toModelVisibleRanges($)}visibleLinesStabilized(){let J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!0)}_handleVisibleLinesChanged(){let J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!1)}setHasFocus(J){this._hasFocus=J,this._cursor.setHasFocus(J),this._eventDispatcher.emitSingleViewEvent(new hw(J)),this._eventDispatcher.emitOutgoingEvent(new yA(!J,J))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new bw)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Sw)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){let J=new v(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),$=this.coordinatesConverter.convertViewPositionToModelPosition(J);return new jL($,this._viewportStart.startLineDelta)}return new jL(null,0)}_onConfigurationChanged(J,$){let Q=this._captureStableViewport(),X=this._configuration.options,Y=X.get(50),Z=X.get(137),G=X.get(144),q=X.get(136),U=X.get(128);if(this._lines.setWrappingSettings(Y,Z,G.wrappingColumn,q,U))J.emitViewEvent(new K3),J.emitViewEvent(new A3),J.emitViewEvent(new jX(null)),this._cursor.onLineMappingChanged(J),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule();if($.hasChanged(90))this._decorations.reset(),J.emitViewEvent(new jX(null));if($.hasChanged(97))this._decorations.reset(),J.emitViewEvent(new jX(null));if(J.emitViewEvent(new Cw($)),this.viewLayout.onConfigurationChanged($),Q.recoverViewportStart(this.coordinatesConverter,this.viewLayout),AY.shouldRecreate($))this.cursorConfig=new AY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((J)=>{try{let Q=this._eventDispatcher.beginEmitViewEvents(),X=!1,Y=!1,Z=J instanceof zX?J.rawContentChangedEvent.changes:J.changes,G=J instanceof zX?J.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(let H of Z)switch(H.changeType){case 4:{for(let j=0;j<H.detail.length;j++){let V=H.detail[j],W=H.injectedTexts[j];if(W)W=W.filter((B)=>!B.ownerId||B.ownerId===this._editorId);q.addRequest(V,W,null)}break}case 2:{let j=null;if(H.injectedText)j=H.injectedText.filter((V)=>!V.ownerId||V.ownerId===this._editorId);q.addRequest(H.detail,j,null);break}}let U=q.finalize(),z=new r8(U);for(let H of Z)switch(H.changeType){case 1:{this._lines.onModelFlushed(),Q.emitViewEvent(new K3),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),X=!0;break}case 3:{let j=this._lines.onModelLinesDeleted(G,H.fromLineNumber,H.toLineNumber);if(j!==null)Q.emitViewEvent(j),this.viewLayout.onLinesDeleted(j.fromLineNumber,j.toLineNumber);X=!0;break}case 4:{let j=z.takeCount(H.detail.length),V=this._lines.onModelLinesInserted(G,H.fromLineNumber,H.toLineNumber,j);if(V!==null)Q.emitViewEvent(V),this.viewLayout.onLinesInserted(V.fromLineNumber,V.toLineNumber);X=!0;break}case 2:{let j=z.dequeue(),[V,W,B,K]=this._lines.onModelLineChanged(G,H.lineNumber,j);if(Y=V,W)Q.emitViewEvent(W);if(B)Q.emitViewEvent(B),this.viewLayout.onLinesInserted(B.fromLineNumber,B.toLineNumber);if(K)Q.emitViewEvent(K),this.viewLayout.onLinesDeleted(K.fromLineNumber,K.toLineNumber);break}case 5:break}if(G!==null)this._lines.acceptVersionId(G);if(this.viewLayout.onHeightMaybeChanged(),!X&&Y)Q.emitViewEvent(new A3),Q.emitViewEvent(new jX(null)),this._cursor.onLineMappingChanged(Q),this._decorations.onLineMappingChanged()}finally{this._eventDispatcher.endEmitViewEvents()}let $=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&$){let Q=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(Q){let X=this.coordinatesConverter.convertModelPositionToViewPosition(Q.getStartPosition()),Y=this.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Y+this._viewportStart.startLineDelta},1)}}try{let Q=this._eventDispatcher.beginEmitViewEvents();if(J instanceof zX)Q.emitOutgoingEvent(new ow(J.contentChangedEvent));this._cursor.onModelContentChanged(Q,J)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens((J)=>{let $=[];for(let Q=0,X=J.ranges.length;Q<X;Q++){let Y=J.ranges[Q],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new v(Y.fromLineNumber,1)).lineNumber,G=this.coordinatesConverter.convertModelPositionToViewPosition(new v(Y.toLineNumber,this.model.getLineMaxColumn(Y.toLineNumber))).lineNumber;$[Q]={fromLineNumber:Z,toLineNumber:G}}this._eventDispatcher.emitSingleViewEvent(new mw($)),this._eventDispatcher.emitOutgoingEvent(new ew(J))})),this._register(this.model.onDidChangeLanguageConfiguration((J)=>{this._eventDispatcher.emitSingleViewEvent(new fw),this.cursorConfig=new AY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new nw(J))})),this._register(this.model.onDidChangeLanguage((J)=>{this.cursorConfig=new AY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new iw(J))})),this._register(this.model.onDidChangeOptions((J)=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{let $=this._eventDispatcher.beginEmitViewEvents();$.emitViewEvent(new K3),$.emitViewEvent(new A3),$.emitViewEvent(new jX(null)),this._cursor.onLineMappingChanged($),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new AY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new tw(J))})),this._register(this.model.onDidChangeDecorations((J)=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new jX(J)),this._eventDispatcher.emitOutgoingEvent(new rw(J))}))}setHiddenAreas(J,$){var Q;this.hiddenAreasModel.setHiddenAreas($,J);let X=this.hiddenAreasModel.getMergedRanges();if(X===this.previousHiddenAreas)return;this.previousHiddenAreas=X;let Y=this._captureStableViewport(),Z=!1;try{let G=this._eventDispatcher.beginEmitViewEvents();if(Z=this._lines.setHiddenAreas(X),Z)G.emitViewEvent(new K3),G.emitViewEvent(new A3),G.emitViewEvent(new jX(null)),this._cursor.onLineMappingChanged(G),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged();let q=(Q=Y.viewportStartModelPosition)===null||Q===void 0?void 0:Q.lineNumber;if(!(q&&X.some((z)=>z.startLineNumber<=q&&q<=z.endLineNumber)))Y.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}if(this._updateConfigurationViewLineCount.schedule(),Z)this._eventDispatcher.emitOutgoingEvent(new sw)}getVisibleRangesPlusViewportAboveBelow(){let J=this._configuration.options.get(143),$=this._configuration.options.get(66),Q=Math.max(20,Math.round(J.height/$)),X=this.viewLayout.getLinesViewportData(),Y=Math.max(1,X.completelyVisibleStartLineNumber-Q),Z=Math.min(this.getLineCount(),X.completelyVisibleEndLineNumber+Q);return this._toModelVisibleRanges(new L(Y,this.getLineMinColumn(Y),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){let J=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(J)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(J){let $=this.coordinatesConverter.convertViewRangeToModelRange(J),Q=this._lines.getHiddenAreas();if(Q.length===0)return[$];let X=[],Y=0,Z=$.startLineNumber,G=$.startColumn,q=$.endLineNumber,U=$.endColumn;for(let z=0,H=Q.length;z<H;z++){let j=Q[z].startLineNumber,V=Q[z].endLineNumber;if(V<Z)continue;if(j>q)continue;if(Z<j)X[Y++]=new L(Z,G,j-1,this.model.getLineMaxColumn(j-1));Z=V+1,G=1}if(Z<q||Z===q&&G<U)X[Y++]=new L(Z,G,q,U);return X}getCompletelyVisibleViewRange(){let J=this.viewLayout.getLinesViewportData(),$=J.completelyVisibleStartLineNumber,Q=J.completelyVisibleEndLineNumber;return new L($,this.getLineMinColumn($),Q,this.getLineMaxColumn(Q))}getCompletelyVisibleViewRangeAtScrollTop(J){let $=this.viewLayout.getLinesViewportDataAtScrollTop(J),Q=$.completelyVisibleStartLineNumber,X=$.completelyVisibleEndLineNumber;return new L(Q,this.getLineMinColumn(Q),X,this.getLineMaxColumn(X))}saveState(){let J=this.viewLayout.saveState(),$=J.scrollTop,Q=this.viewLayout.getLineNumberAtVerticalOffset($),X=this.coordinatesConverter.convertViewPositionToModelPosition(new v(Q,this.getLineMinColumn(Q))),Y=this.viewLayout.getVerticalOffsetForLineNumber(Q)-$;return{scrollLeft:J.scrollLeft,firstPosition:X,firstPositionDeltaTop:Y}}reduceRestoreState(J){if(typeof J.firstPosition==="undefined")return this._reduceRestoreStateCompatibility(J);let $=this.model.validatePosition(J.firstPosition),Q=this.coordinatesConverter.convertModelPositionToViewPosition($),X=this.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber)-J.firstPositionDeltaTop;return{scrollLeft:J.scrollLeft,scrollTop:X}}_reduceRestoreStateCompatibility(J){return{scrollLeft:J.scrollLeft,scrollTop:J.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(J,$,Q){this._viewportStart.update(this,J)}getActiveIndentGuide(J,$,Q){return this._lines.getActiveIndentGuide(J,$,Q)}getLinesIndentGuides(J,$){return this._lines.getViewLinesIndentGuides(J,$)}getBracketGuidesInRangeByLine(J,$,Q,X){return this._lines.getViewLinesBracketGuides(J,$,Q,X)}getLineContent(J){return this._lines.getViewLineContent(J)}getLineLength(J){return this._lines.getViewLineLength(J)}getLineMinColumn(J){return this._lines.getViewLineMinColumn(J)}getLineMaxColumn(J){return this._lines.getViewLineMaxColumn(J)}getLineFirstNonWhitespaceColumn(J){let $=I6(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){let $=X9(this.getLineContent(J));if($===-1)return 0;return $+2}getMinimapDecorationsInRange(J){return this._decorations.getMinimapDecorationsInRange(J)}getDecorationsInViewport(J){return this._decorations.getDecorationsViewportData(J).decorations}getInjectedTextAt(J){return this._lines.getInjectedTextAt(J)}getViewportViewLineRenderingData(J,$){let X=this._decorations.getDecorationsViewportData(J).inlineDecorations[$-J.startLineNumber];return this._getViewLineRenderingData($,X)}getViewLineRenderingData(J){let $=this._decorations.getInlineDecorationsOnLine(J);return this._getViewLineRenderingData(J,$)}_getViewLineRenderingData(J,$){let Q=this.model.mightContainRTL(),X=this.model.mightContainNonBasicASCII(),Y=this.getTabSize(),Z=this._lines.getViewLineData(J);if(Z.inlineDecorations)$=[...$,...Z.inlineDecorations.map((G)=>G.toInlineDecoration(J))];return new f8(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,Q,X,Z.tokens,$,Y,Z.startVisibleColumn)}getViewLineData(J){return this._lines.getViewLineData(J)}getMinimapLinesRenderingData(J,$,Q){let X=this._lines.getViewLinesData(J,$,Q);return new TO(this.getTabSize(),X)}getAllOverviewRulerDecorations(J){let $=this.model.getOverviewRulerDecorations(this._editorId,NZ(this._configuration.options)),Q=new oc;for(let X of $){let Y=X.options,Z=Y.overviewRuler;if(!Z)continue;let G=Z.position;if(G===0)continue;let q=Z.getColor(J.value),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(X.range.startLineNumber,X.range.startColumn),z=this.coordinatesConverter.getViewLineNumberOfModelPosition(X.range.endLineNumber,X.range.endColumn);Q.accept(q,Y.zIndex,U,z,G)}return Q.asArray}_invalidateDecorationsColorCache(){let J=this.model.getOverviewRulerDecorations();for(let $ of J){let Q=$.options.overviewRuler;Q===null||Q===void 0||Q.invalidateCachedColor();let X=$.options.minimap;X===null||X===void 0||X.invalidateCachedColor()}}getValueInRange(J,$){let Q=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueInRange(Q,$)}getValueLengthInRange(J,$){let Q=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueLengthInRange(Q,$)}modifyPosition(J,$){let Q=this.coordinatesConverter.convertViewPositionToModelPosition(J),X=this.model.modifyPosition(Q,$);return this.coordinatesConverter.convertModelPositionToViewPosition(X)}deduceModelPositionRelativeToViewPosition(J,$,Q){let X=this.coordinatesConverter.convertViewPositionToModelPosition(J);if(this.model.getEOL().length===2)if($<0)$-=Q;else $+=Q;let Z=this.model.getOffsetAt(X)+$;return this.model.getPositionAt(Z)}getPlainTextToCopy(J,$,Q){let X=Q?`\r
`:this.model.getEOL();J=J.slice(0),J.sort(L.compareRangesUsingStarts);let Y=!1,Z=!1;for(let q of J)if(q.isEmpty())Y=!0;else Z=!0;if(!Z){if(!$)return"";let q=J.map((z)=>z.startLineNumber),U="";for(let z=0;z<q.length;z++){if(z>0&&q[z-1]===q[z])continue;U+=this.model.getLineContent(q[z])+X}return U}if(Y&&$){let q=[],U=0;for(let z of J){let H=z.startLineNumber;if(z.isEmpty()){if(H!==U)q.push(this.model.getLineContent(H))}else q.push(this.model.getValueInRange(z,Q?2:0));U=H}return q.length===1?q[0]:q}let G=[];for(let q of J)if(!q.isEmpty())G.push(this.model.getValueInRange(q,Q?2:0));return G.length===1?G[0]:G}getRichTextToCopy(J,$){let Q=this.model.getLanguageId();if(Q===R5)return null;if(J.length!==1)return null;let X=J[0];if(X.isEmpty()){if(!$)return null;let z=X.startLineNumber;X=new L(z,this.model.getLineMinColumn(z),z,this.model.getLineMaxColumn(z))}let Y=this._configuration.options.get(50),Z=this._getColorMap(),q=/[:;\\\/<>]/.test(Y.fontFamily)||Y.fontFamily===y8.fontFamily,U;if(q)U=y8.fontFamily;else{if(U=Y.fontFamily,U=U.replace(/"/g,"'"),!/[,']/.test(U)){if(/[+ ]/.test(U))U=`'${U}'`}U=`${U}, ${y8.fontFamily}`}return{mode:Q,html:`<div style="color: ${Z[1]};background-color: ${Z[2]};font-family: ${U};font-weight: ${Y.fontWeight};font-size: ${Y.fontSize}px;line-height: ${Y.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(X,Z)+"</div>"}}_getHTMLToCopy(J,$){let{startLineNumber:Q,startColumn:X,endLineNumber:Y,endColumn:Z}=J,G=this.getTabSize(),q="";for(let U=Q;U<=Y;U++){let z=this.model.tokenization.getLineTokens(U),H=z.getLineContent(),j=U===Q?X-1:0,V=U===Y?Z-1:H.length;if(H==="")q+="<br>";else q+=Cc(H,z.inflate(),$,j,V,G,L6)}return q}_getColorMap(){let J=c1.getColorMap(),$=["#000000"];if(J)for(let Q=1,X=J.length;Q<X;Q++)$[Q]=l.Format.CSS.formatHex(J[Q]);return $}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(J,$,Q){return this._withViewEventsCollector((X)=>this._cursor.setStates(X,J,$,Q))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(J){this._cursor.setCursorColumnSelectData(J)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(J){this._cursor.setPrevEditOperationType(J)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(J,$,Q=0){this._withViewEventsCollector((X)=>this._cursor.setSelections(X,J,$,Q))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(J){this._withViewEventsCollector(($)=>this._cursor.restoreState($,J))}_executeCursorEdit(J){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new aw);return}this._withViewEventsCollector(J)}executeEdits(J,$,Q){this._executeCursorEdit((X)=>this._cursor.executeEdits(X,J,$,Q))}startComposition(){this._executeCursorEdit((J)=>this._cursor.startComposition(J))}endComposition(J){this._executeCursorEdit(($)=>this._cursor.endComposition($,J))}type(J,$){this._executeCursorEdit((Q)=>this._cursor.type(Q,J,$))}compositionType(J,$,Q,X,Y){this._executeCursorEdit((Z)=>this._cursor.compositionType(Z,J,$,Q,X,Y))}paste(J,$,Q,X){this._executeCursorEdit((Y)=>this._cursor.paste(Y,J,$,Q,X))}cut(J){this._executeCursorEdit(($)=>this._cursor.cut($,J))}executeCommand(J,$){this._executeCursorEdit((Q)=>this._cursor.executeCommand(Q,J,$))}executeCommands(J,$){this._executeCursorEdit((Q)=>this._cursor.executeCommands(Q,J,$))}revealPrimaryCursor(J,$,Q=!1){this._withViewEventsCollector((X)=>this._cursor.revealPrimary(X,J,Q,0,$,0))}revealTopMostCursor(J){let $=this._cursor.getTopMostViewPosition(),Q=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((X)=>X.emitViewEvent(new p2(J,!1,Q,null,0,!0,0)))}revealBottomMostCursor(J){let $=this._cursor.getBottomMostViewPosition(),Q=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((X)=>X.emitViewEvent(new p2(J,!1,Q,null,0,!0,0)))}revealRange(J,$,Q,X,Y){this._withViewEventsCollector((Z)=>Z.emitViewEvent(new p2(J,!1,Q,null,X,$,Y)))}changeWhitespace(J){if(this.viewLayout.changeWhitespace(J))this._eventDispatcher.emitSingleViewEvent(new cw),this._eventDispatcher.emitOutgoingEvent(new dw)}_withViewEventsCollector(J){try{let $=this._eventDispatcher.beginEmitViewEvents();return J($)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(J,$){return this._lines.normalizePosition(J,$)}getLineIndentColumn(J){return this._lines.getLineIndentColumn(J)}}});class EJ{constructor(...J){this._entries=new Map;for(let[$,Q]of J)this.set($,Q)}set(J,$){let Q=this._entries.get(J);return this._entries.set(J,$),Q}get(J){return this._entries.get(J)}}var Uj,A6;var IY=N(()=>{t0();(function(J){J[J.Ignore=0]="Ignore",J[J.Info=1]="Info",J[J.Warning=2]="Warning",J[J.Error=3]="Error"})(Uj||(Uj={}));(function(J){function G(U){if(!U)return J.Ignore;if(AQ("error",U))return J.Error;if(AQ("warning",U)||AQ("warn",U))return J.Warning;if(AQ("info",U))return J.Info;return J.Ignore}J.fromValue=G;function q(U){switch(U){case J.Error:return"error";case J.Warning:return"warning";case J.Info:return"info";default:return"ignore"}}J.toString=q})(Uj||(Uj={}));A6=Uj});class BL{}var Jl,a5;var VX=N(()=>{IY();u0();Jl=A6,a5=M0("notificationService")});class yY{constructor(J,$,Q,X,Y){this.injectionOffsets=J,this.injectionOptions=$,this.breakOffsets=Q,this.breakOffsetsVisibleColumn=X,this.wrappedTextIndentLength=Y}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(J){if(J>0)return this.wrappedTextIndentLength;return 0}getLineLength(J){let $=J>0?this.breakOffsets[J-1]:0,X=this.breakOffsets[J]-$;if(J>0)X+=this.wrappedTextIndentLength;return X}getMaxOutputOffset(J){return this.getLineLength(J)}translateToInputOffset(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);let X=J===0?$:this.breakOffsets[J-1]+$;if(this.injectionOffsets!==null)for(let Y=0;Y<this.injectionOffsets.length;Y++)if(X>this.injectionOffsets[Y])if(X<this.injectionOffsets[Y]+this.injectionOptions[Y].content.length)X=this.injectionOffsets[Y];else X-=this.injectionOptions[Y].content.length;else break;return X}translateToOutputPosition(J,$=2){let Q=J;if(this.injectionOffsets!==null)for(let X=0;X<this.injectionOffsets.length;X++){if(J<this.injectionOffsets[X])break;if($!==1&&J===this.injectionOffsets[X])break;Q+=this.injectionOptions[X].content.length}return this.offsetInInputWithInjectionsToOutputPosition(Q,$)}offsetInInputWithInjectionsToOutputPosition(J,$=2){let Q=0,X=this.breakOffsets.length-1,Y=0,Z=0;while(Q<=X){Y=Q+(X-Q)/2|0;let q=this.breakOffsets[Y];if(Z=Y>0?this.breakOffsets[Y-1]:0,$===0)if(J<=Z)X=Y-1;else if(J>q)Q=Y+1;else break;else if(J<Z)X=Y-1;else if(J>=q)Q=Y+1;else break}let G=J-Z;if(Y>0)G+=this.wrappedTextIndentLength;return new zj(Y,G)}normalizeOutputPosition(J,$,Q){if(this.injectionOffsets!==null){let X=this.outputPositionToOffsetInInputWithInjections(J,$),Y=this.normalizeOffsetInInputWithInjectionsAroundInjections(X,Q);if(Y!==X)return this.offsetInInputWithInjectionsToOutputPosition(Y,Q)}if(Q===0){if(J>0&&$===this.getMinOutputOffset(J))return new zj(J-1,this.getMaxOutputOffset(J-1))}else if(Q===1){let X=this.getOutputLineCount()-1;if(J<X&&$===this.getMaxOutputOffset(J))return new zj(J+1,this.getMinOutputOffset(J+1))}return new zj(J,$)}outputPositionToOffsetInInputWithInjections(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);return(J>0?this.breakOffsets[J-1]:0)+$}normalizeOffsetInInputWithInjectionsAroundInjections(J,$){let Q=this.getInjectedTextAtOffset(J);if(!Q)return J;if($===2)if(J===Q.offsetInInputWithInjections+Q.length&&$l(this.injectionOptions[Q.injectedTextIndex].cursorStops))return Q.offsetInInputWithInjections+Q.length;else{let X=Q.offsetInInputWithInjections;if(Ql(this.injectionOptions[Q.injectedTextIndex].cursorStops))return X;let Y=Q.injectedTextIndex-1;while(Y>=0&&this.injectionOffsets[Y]===this.injectionOffsets[Q.injectedTextIndex]){if($l(this.injectionOptions[Y].cursorStops))break;if(X-=this.injectionOptions[Y].content.length,Ql(this.injectionOptions[Y].cursorStops))break;Y--}return X}else if($===1||$===4){let X=Q.offsetInInputWithInjections+Q.length,Y=Q.injectedTextIndex;while(Y+1<this.injectionOffsets.length&&this.injectionOffsets[Y+1]===this.injectionOffsets[Y])X+=this.injectionOptions[Y+1].content.length,Y++;return X}else if($===0||$===3){let{offsetInInputWithInjections:X,injectedTextIndex:Y}=Q;while(Y-1>=0&&this.injectionOffsets[Y-1]===this.injectionOffsets[Y])X-=this.injectionOptions[Y-1].content.length,Y--;return X}oG($)}getInjectedText(J,$){let Q=this.outputPositionToOffsetInInputWithInjections(J,$),X=this.getInjectedTextAtOffset(Q);if(!X)return null;return{options:this.injectionOptions[X.injectedTextIndex]}}getInjectedTextAtOffset(J){let $=this.injectionOffsets,Q=this.injectionOptions;if($!==null){let X=0;for(let Y=0;Y<$.length;Y++){let Z=Q[Y].content.length,G=$[Y]+X,q=$[Y]+X+Z;if(G>J)break;if(J<=q)return{injectedTextIndex:Y,offsetInInputWithInjections:G,length:Z};X+=Z}}return}}function $l(J){if(J===null||J===void 0)return!0;return J===U2.Right||J===U2.Both}function Ql(J){if(J===null||J===void 0)return!0;return J===U2.Left||J===U2.Both}class zj{constructor(J,$){this.outputLineIndex=J,this.outputOffset=$}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(J){return new v(J+this.outputLineIndex,this.outputOffset+1)}}var FL=N(()=>{G$();v7()});class CA{static create(J){return new CA(J.get(132),J.get(131))}constructor(J,$){this.classifier=new Yl(J,$)}createLineBreaksComputer(J,$,Q,X,Y){let Z=[],G=[],q=[];return{addRequest:(U,z,H)=>{Z.push(U),G.push(z),q.push(H)},finalize:()=>{let U=J.typicalFullwidthCharacterWidth/J.typicalHalfwidthCharacterWidth,z=[];for(let H=0,j=Z.length;H<j;H++){let V=G[H],W=q[H];if(W&&!W.injectionOptions&&!V)z[H]=q70(this.classifier,W,Z[H],$,Q,U,X,Y);else z[H]=U70(this.classifier,Z[H],V,$,Q,U,X,Y)}return KL.length=0,AL.length=0,z}}}}function q70(J,$,Q,X,Y,Z,G,q){if(Y===-1)return null;let U=Q.length;if(U<=1)return null;let z=q==="keepAll",H=$.breakOffsets,j=$.breakOffsetsVisibleColumn,V=Zl(Q,X,Y,Z,G),W=Y-V,B=KL,K=AL,P=0,A=0,D=0,R=Y,M=H.length,_=0;if(_>=0){let T=Math.abs(j[_]-R);while(_+1<M){let w=Math.abs(j[_+1]-R);if(w>=T)break;T=w,_++}}while(_<M){let T=_<0?0:H[_],w=_<0?0:j[_];if(A>T)T=A,w=D;let b=0,S=0,g=0,c=0;if(w<=R){let u=w,i=T===0?0:Q.charCodeAt(T-1),Y0=T===0?0:J.get(i),P0=!0;for(let R0=T;R0<U;R0++){let T0=R0,A0=Q.charCodeAt(R0),f0,d0;if(G6(A0))R0++,f0=0,d0=2;else f0=J.get(A0),d0=Hj(A0,u,X,Z);if(T0>A&&PL(i,Y0,A0,f0,z))b=T0,S=u;if(u+=d0,u>R){if(T0>A)g=T0,c=u-d0;else g=R0+1,c=u;if(u-S>W)b=0;P0=!1;break}i=A0,Y0=f0}if(P0){if(P>0)B[P]=H[H.length-1],K[P]=j[H.length-1],P++;break}}if(b===0){let u=w,i=Q.charCodeAt(T),Y0=J.get(i),P0=!1;for(let R0=T-1;R0>=A;R0--){let T0=R0+1,A0=Q.charCodeAt(R0);if(A0===9){P0=!0;break}let f0,d0;if(X$(A0))R0--,f0=0,d0=2;else f0=J.get(A0),d0=w9(A0)?Z:1;if(u<=R){if(g===0)g=T0,c=u;if(u<=R-W)break;if(PL(A0,f0,i,Y0,z)){b=T0,S=u;break}}u-=d0,i=A0,Y0=f0}if(b!==0){let R0=W-(c-S);if(R0<=X){let T0=Q.charCodeAt(g),A0;if(G6(T0))A0=2;else A0=Hj(T0,c,X,Z);if(R0-A0<0)b=0}}if(P0){_--;continue}}if(b===0)b=g,S=c;if(b<=A){let u=Q.charCodeAt(A);if(G6(u))b=A+2,S=D+2;else b=A+1,S=D+Hj(u,D,X,Z)}A=b,B[P]=b,D=S,K[P]=S,P++,R=S+W;while(_<0||_<M&&j[_]<S)_++;let C=Math.abs(j[_]-R);while(_+1<M){let u=Math.abs(j[_+1]-R);if(u>=C)break;C=u,_++}}if(P===0)return null;return B.length=P,K.length=P,KL=$.breakOffsets,AL=$.breakOffsetsVisibleColumn,$.breakOffsets=B,$.breakOffsetsVisibleColumn=K,$.wrappedTextIndentLength=V,$}function U70(J,$,Q,X,Y,Z,G,q){let U=D7.applyInjectedText($,Q),z,H;if(Q&&Q.length>0)z=Q.map((S)=>S.options),H=Q.map((S)=>S.column-1);else z=null,H=null;if(Y===-1){if(!z)return null;return new yY(H,z,[U.length],[],0)}let j=U.length;if(j<=1){if(!z)return null;return new yY(H,z,[U.length],[],0)}let V=q==="keepAll",W=Zl(U,X,Y,Z,G),B=Y-W,K=[],P=[],A=0,D=0,R=0,M=Y,_=U.charCodeAt(0),T=J.get(_),w=Hj(_,0,X,Z),b=1;if(G6(_))w+=1,_=U.charCodeAt(1),T=J.get(_),b++;for(let S=b;S<j;S++){let g=S,c=U.charCodeAt(S),C,u;if(G6(c))S++,C=0,u=2;else C=J.get(c),u=Hj(c,w,X,Z);if(PL(_,T,c,C,V))D=g,R=w;if(w+=u,w>M){if(D===0||w-R>B)D=g,R=w-u;K[A]=D,P[A]=R,A++,M=R+B,D=0}_=c,T=C}if(A===0&&(!Q||Q.length===0))return null;return K[A]=j,P[A]=w,new yY(H,z,K,P,W)}function Hj(J,$,Q,X){if(J===9)return Q-$%Q;if(w9(J))return X;if(J<32)return X;return 1}function Xl(J,$){return $-J%$}function PL(J,$,Q,X,Y){return Q!==32&&($===2&&X!==2||$!==1&&X===1||!Y&&$===3&&X!==2||!Y&&X===3&&$!==1)}function Zl(J,$,Q,X,Y){let Z=0;if(Y!==0){let G=I6(J);if(G!==-1){for(let U=0;U<G;U++){let z=J.charCodeAt(U)===9?Xl(Z,$):1;Z+=z}let q=Y===3?2:Y===2?1:0;for(let U=0;U<q;U++){let z=Xl(Z,$);Z+=z}if(Z+X>Q)Z=0}}return Z}var Yl,KL,AL;var Gl=N(()=>{t0();Hq();FL();Yl=class Yl extends bQ{constructor(J,$){super(0);for(let Q=0;Q<J.length;Q++)this.set(J.charCodeAt(Q),1);for(let Q=0;Q<$.length;Q++)this.set($.charCodeAt(Q),2)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else{if(J>=12352&&J<=12543||J>=13312&&J<=19903||J>=19968&&J<=40959)return 3;return this._map.get(J)||this._defaultValue}}};KL=[],AL=[]});class vA{static create(J){return new vA(new WeakRef(J))}constructor(J){this.targetWindow=J}createLineBreaksComputer(J,$,Q,X,Y){let Z=[],G=[];return{addRequest:(q,U,z)=>{Z.push(q),G.push(U)},finalize:()=>{return z70(_W(this.targetWindow.deref()),Z,J,$,Q,X,Y,G)}}}}function z70(J,$,Q,X,Y,Z,G,q){var U;function z(g){let c=q[g];if(c){let C=D7.applyInjectedText($[g],c),u=c.map((Y0)=>Y0.options),i=c.map((Y0)=>Y0.column-1);return new yY(i,u,[C.length],[],0)}else return null}if(Y===-1){let g=[];for(let c=0,C=$.length;c<C;c++)g[c]=z(c);return g}let H=Math.round(Y*Q.typicalHalfwidthCharacterWidth),V=Math.round(X*(Z===3?2:Z===2?1:0)),W=Math.ceil(Q.spaceWidth*V),B=document.createElement("div");M6(B,Q);let K=new yQ(1e4),P=[],A=[],D=[],R=[],M=[];for(let g=0;g<$.length;g++){let c=D7.applyInjectedText($[g],q[g]),C=0,u=0,i=H;if(Z!==0)if(C=I6(c),C===-1)C=0;else{for(let T0=0;T0<C;T0++){let A0=c.charCodeAt(T0)===9?X-u%X:1;u+=A0}let R0=Math.ceil(Q.spaceWidth*u);if(R0+Q.typicalFullwidthCharacterWidth>H)C=0,u=0;else i=H-R0}let Y0=c.substr(C),P0=H70(Y0,u,X,i,K,W);P[g]=C,A[g]=u,D[g]=Y0,R[g]=P0[0],M[g]=P0[1]}let _=K.build(),T=(U=DL===null||DL===void 0?void 0:DL.createHTML(_))!==null&&U!==void 0?U:_;if(B.innerHTML=T,B.style.position="absolute",B.style.top="10000",G==="keepAll")B.style.wordBreak="keep-all",B.style.overflowWrap="anywhere";else B.style.wordBreak="inherit",B.style.overflowWrap="break-word";J.document.body.appendChild(B);let w=document.createRange(),b=Array.prototype.slice.call(B.children,0),S=[];for(let g=0;g<$.length;g++){let c=b[g],C=j70(w,c,D[g],R[g]);if(C===null){S[g]=z(g);continue}let u=P[g],i=A[g]+V,Y0=M[g],P0=[];for(let f0=0,d0=C.length;f0<d0;f0++)P0[f0]=Y0[C[f0]];if(u!==0)for(let f0=0,d0=C.length;f0<d0;f0++)C[f0]+=u;let R0,T0,A0=q[g];if(A0)R0=A0.map((f0)=>f0.options),T0=A0.map((f0)=>f0.column-1);else R0=null,T0=null;S[g]=new yY(T0,R0,C,P0,i)}return J.document.body.removeChild(B),S}function H70(J,$,Q,X,Y,Z){if(Z!==0){let V=String(Z);Y.appendString('<div style="text-indent: -'),Y.appendString(V),Y.appendString("px; padding-left: "),Y.appendString(V),Y.appendString("px; box-sizing: border-box; width:")}else Y.appendString('<div style="width:');Y.appendString(String(X)),Y.appendString('px;">');let G=J.length,q=$,U=0,z=[],H=[],j=0<G?J.charCodeAt(0):0;Y.appendString("<span>");for(let V=0;V<G;V++){if(V!==0&&V%16384===0)Y.appendString("</span><span>");z[V]=U,H[V]=q;let W=j;j=V+1<G?J.charCodeAt(V+1):0;let B=1,K=1;switch(W){case 9:B=Q-q%Q,K=B;for(let P=1;P<=B;P++)if(P<B)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 32:if(j===32)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 60:Y.appendString("&lt;");break;case 62:Y.appendString("&gt;");break;case 38:Y.appendString("&amp;");break;case 0:Y.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:Y.appendCharCode(65533);break;default:if(w9(W))K++;if(W<32)Y.appendCharCode(9216+W);else Y.appendCharCode(W)}U+=B,q+=K}return Y.appendString("</span>"),z[J.length]=U,H[J.length]=q,Y.appendString("</div>"),[z,H]}function j70(J,$,Q,X){if(Q.length<=1)return null;let Y=Array.prototype.slice.call($.children,0),Z=[];try{ML(J,Y,X,0,null,Q.length-1,null,Z)}catch(G){return console.log(G),null}if(Z.length===0)return null;return Z.push(Q.length),Z}function ML(J,$,Q,X,Y,Z,G,q){if(X===Z)return;if(Y=Y||RL(J,$,Q[X],Q[X+1]),G=G||RL(J,$,Q[Z],Q[Z+1]),Math.abs(Y[0].top-G[0].top)<=0.1)return;if(X+1===Z){q.push(Z);return}let U=X+(Z-X)/2|0,z=RL(J,$,Q[U],Q[U+1]);ML(J,$,Q,X,Y,U,z,q),ML(J,$,Q,U,z,Z,G,q)}function RL(J,$,Q,X){return J.setStart($[Q/16384|0].firstChild,Q%16384),J.setEnd($[X/16384|0].firstChild,X%16384),J.getClientRects()}var DL;var ql=N(()=>{oX();t0();W4();eZ();FL();DL=z9("domLineBreaksComputer",{createHTML:(J)=>J})});var _L;var Ul=N(()=>{D0();P1();Q0();_L=class _L extends h{constructor(){super();this._editor=null,this._instantiationService=null,this._instances=this._register(new kZ),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(J,$,Q){this._editor=J,this._instantiationService=Q;for(let X of $){if(this._pending.has(X.id)){o0(new Error(`Cannot have two contributions with the same id ${X.id}`));continue}this._pending.set(X.id,X)}this._instantiateSome(0),this._register(Nz(B0(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(Nz(B0(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(Nz(B0(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5000))}saveViewState(){let J={};for(let[$,Q]of this._instances)if(typeof Q.saveViewState==="function")J[$]=Q.saveViewState();return J}restoreViewState(J){for(let[$,Q]of this._instances)if(typeof Q.restoreViewState==="function")Q.restoreViewState(J[$])}get(J){return this._instantiateById(J),this._instances.get(J)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var J;this._register(Nz(B0((J=this._editor)===null||J===void 0?void 0:J.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(J){if(this._finishedInstantiation[J])return;this._finishedInstantiation[J]=!0;let $=this._findPendingContributionsByInstantiation(J);for(let Q of $)this._instantiateById(Q.id)}_findPendingContributionsByInstantiation(J){let $=[];for(let[,Q]of this._pending)if(Q.instantiation===J)$.push(Q);return $}_instantiateById(J){let $=this._pending.get(J);if(!$)return;if(this._pending.delete(J),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{let Q=this._instantiationService.createInstance($.ctor,this._editor);if(this._instances.set($.id,Q),typeof Q.restoreViewState==="function"&&$.instantiation!==0)console.warn(`Editor contribution '${$.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(Q){o0(Q)}}}});class zl{constructor(J,$,Q,X,Y,Z){this.model=J,this.viewModel=$,this.view=Q,this.hasRealView=X,this.listenersToRemove=Y,this.attachedView=Z}dispose(){if(k1(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView)this.view.dispose();this.viewModel.dispose()}}class Wl{get length(){return this._decorationIds.length}constructor(J,$){if(this._editor=J,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray($)&&$.length>0)this.set($)}onDidChange(J,$,Q){return this._editor.onDidChangeModelDecorations((X)=>{if(this._isChangingDecorations)return;J.call($,X)},Q)}getRange(J){if(!this._editor.hasModel())return null;if(J>=this._decorationIds.length)return null;return this._editor.getModel().getDecorationRange(this._decorationIds[J])}getRanges(){if(!this._editor.hasModel())return[];let J=this._editor.getModel(),$=[];for(let Q of this._decorationIds){let X=J.getDecorationRange(Q);if(X)$.push(X)}return $}has(J){return this._decorationIds.includes(J.id)}clear(){if(this._decorationIds.length===0)return;this.set([])}set(J){try{this._isChangingDecorations=!0,this._editor.changeDecorations(($)=>{this._decorationIds=$.deltaDecorations(this._decorationIds,J)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(J){let $=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((Q)=>{$=Q.deltaDecorations([],J),this._decorationIds=this._decorationIds.concat($)})}finally{this._isChangingDecorations=!1}return $}}function OL(J){return B70+encodeURIComponent(J.toString())+F70}function P70(J){return K70+encodeURIComponent(J.toString())+A70}var V70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},WX=function(J,$){return function(Q,X){$(Q,X,J)}},u2,W70=0,BX,NL,T8,Hl,jl,Vl,B70,F70,K70,A70;var hA=N(()=>{Lh();kh();g0();D0();P1();F0();Q0();U9();vh();b9();Y9();Xu();dN();t5();I4();l0();E5();tz();$X();EY();TJ();N8();ec();e8();m1();u0();VX();s6();BJ();Gl();ql();xN();h8();W4();l9();Ul();hO();BX=u2=class J extends h{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,Q,X,Y,Z,G,q,U,z,H,j,V){var W;super();this.languageConfigurationService=j,this._deliveryQueue=cb(),this._contributions=this._register(new _L),this._onDidDispose=this._register(new y),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new NL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new NL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new T8(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new T8(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new T8(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new T8(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new T8(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new T8(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();let B={...Q};this._domElement=$,this._overflowWidgetsDomNode=B.overflowWidgetsDomNode,delete B.overflowWidgetsDomNode,this._id=++W70,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=X.telemetryData,this._configuration=this._register(this._createConfiguration(X.isSimpleWidget||!1,B,H)),this._register(this._configuration.onDidChange((A)=>{this._onDidChangeConfiguration.fire(A);let D=this._configuration.options;if(A.hasChanged(143)){let R=D.get(143);this._onDidLayoutChange.fire(R)}})),this._contextKeyService=this._register(q.createScoped(this._domElement)),this._notificationService=z,this._codeEditorService=Z,this._commandService=G,this._themeService=U,this._register(new Hl(this,this._contextKeyService)),this._register(new jl(this,this._contextKeyService,V)),this._instantiationService=Y.createChild(new EJ([h0,this._contextKeyService])),this._modelData=null,this._focusTracker=new Vl($,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let K;if(Array.isArray(X.contributions))K=X.contributions;else K=nX.getEditorContributions();this._contributions.initialize(this,K,this._instantiationService);for(let A of nX.getEditorActions()){if(this._actions.has(A.id)){o0(new Error(`Cannot have two actions with the same id ${A.id}`));continue}let D=new bH(A.id,A.label,A.alias,A.metadata,(W=A.precondition)!==null&&W!==void 0?W:void 0,(R)=>{return this._instantiationService.invokeFunction((M)=>{return Promise.resolve(A.runEditorCommand(M,this,R))})},this._contextKeyService);this._actions.set(D.id,D)}let P=()=>{return!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled};this._register(new U_(this._domElement,{onDragOver:(A)=>{if(!P())return;let D=this.getTargetAtClientPoint(A.clientX,A.clientY);if(D===null||D===void 0?void 0:D.position)this.showDropIndicatorAt(D.position)},onDrop:async(A)=>{if(!P())return;if(this.removeDropIndicator(),!A.dataTransfer)return;let D=this.getTargetAtClientPoint(A.clientX,A.clientY);if(D===null||D===void 0?void 0:D.position)this._onDropIntoEditor.fire({position:D.position,event:A})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var Q;(Q=this._modelData)===null||Q===void 0||Q.view.writeScreenReaderContent($)}_createConfiguration($,Q,X){return new zK($,Q,this._domElement,X)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ZY.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){if(!this._modelData)return null;return x6.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),$)}getValue($=null){if(!this._modelData)return"";let Q=$&&$.preserveBOM?!0:!1,X=0;if($&&$.lineEnding&&$.lineEnding===`
`)X=1;else if($&&$.lineEnding&&$.lineEnding===`\r
`)X=2;return this._modelData.model.getValue(X,Q)}setValue($){if(!this._modelData)return;this._modelData.model.setValue($)}getModel(){if(!this._modelData)return null;return this._modelData.model}setModel($=null){var Q;let X=$;if(this._modelData===null&&X===null)return;if(this._modelData&&this._modelData.model===X)return;let Y={oldModelUrl:((Q=this._modelData)===null||Q===void 0?void 0:Q.model.uri)||null,newModelUrl:(X===null||X===void 0?void 0:X.uri)||null};this._onWillChangeModel.fire(Y);let Z=this.hasTextFocus(),G=this._detachModel();if(this._attachModel(X),Z&&this.hasModel())this.focus();this._removeDecorationTypes(),this._onDidChangeModel.fire(Y),this._postDetachModelCleanup(G),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let $ in this._decorationTypeSubtypes){let Q=this._decorationTypeSubtypes[$];for(let X in Q)this._removeDecorationType($+"-"+X)}this._decorationTypeSubtypes={}}}getVisibleRanges(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRanges()}getVisibleRangesPlusViewportAboveBelow(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow()}getWhitespaces(){if(!this._modelData)return[];return this._modelData.viewModel.viewLayout.getWhitespaces()}static _getVerticalOffsetAfterPosition($,Q,X,Y){let Z=$.model.validatePosition({lineNumber:Q,column:X}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(G.lineNumber,Y)}getTopForLineNumber($,Q=!1){if(!this._modelData)return-1;return u2._getVerticalOffsetForPosition(this._modelData,$,1,Q)}getTopForPosition($,Q){if(!this._modelData)return-1;return u2._getVerticalOffsetForPosition(this._modelData,$,Q,!1)}static _getVerticalOffsetForPosition($,Q,X,Y=!1){let Z=$.model.validatePosition({lineNumber:Q,column:X}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(G.lineNumber,Y)}getBottomForLineNumber($,Q=!1){if(!this._modelData)return-1;return u2._getVerticalOffsetAfterPosition(this._modelData,$,1,Q)}setHiddenAreas($,Q){var X;(X=this._modelData)===null||X===void 0||X.viewModel.setHiddenAreas($.map((Y)=>L.lift(Y)),Q)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;let Q=this._modelData.model.validatePosition($),X=this._modelData.model.getOptions().tabSize;return f1.visibleColumnFromColumn(this._modelData.model.getLineContent(Q.lineNumber),Q.column,X)+1}getPosition(){if(!this._modelData)return null;return this._modelData.viewModel.getPosition()}setPosition($,Q="api"){if(!this._modelData)return;if(!v.isIPosition($))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Q,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}_sendRevealRange($,Q,X,Y){if(!this._modelData)return;if(!L.isIRange($))throw new Error("Invalid arguments");let Z=this._modelData.model.validateRange($),G=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",X,G,Q,Y)}revealLine($,Q=0){this._revealLine($,0,Q)}revealLineInCenter($,Q=0){this._revealLine($,1,Q)}revealLineInCenterIfOutsideViewport($,Q=0){this._revealLine($,2,Q)}revealLineNearTop($,Q=0){this._revealLine($,5,Q)}_revealLine($,Q,X){if(typeof $!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,$,1),Q,!1,X)}revealPosition($,Q=0){this._revealPosition($,0,!0,Q)}revealPositionInCenter($,Q=0){this._revealPosition($,1,!0,Q)}revealPositionInCenterIfOutsideViewport($,Q=0){this._revealPosition($,2,!0,Q)}revealPositionNearTop($,Q=0){this._revealPosition($,5,!0,Q)}_revealPosition($,Q,X,Y){if(!v.isIPosition($))throw new Error("Invalid arguments");this._sendRevealRange(new L($.lineNumber,$.column,$.lineNumber,$.column),Q,X,Y)}getSelection(){if(!this._modelData)return null;return this._modelData.viewModel.getSelection()}getSelections(){if(!this._modelData)return null;return this._modelData.viewModel.getSelections()}setSelection($,Q="api"){let X=v0.isISelection($),Y=L.isIRange($);if(!X&&!Y)throw new Error("Invalid arguments");if(X)this._setSelectionImpl($,Q);else if(Y){let Z={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(Z,Q)}}_setSelectionImpl($,Q){if(!this._modelData)return;let X=new v0($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(Q,[X])}revealLines($,Q,X=0){this._revealLines($,Q,0,X)}revealLinesInCenter($,Q,X=0){this._revealLines($,Q,1,X)}revealLinesInCenterIfOutsideViewport($,Q,X=0){this._revealLines($,Q,2,X)}revealLinesNearTop($,Q,X=0){this._revealLines($,Q,5,X)}_revealLines($,Q,X,Y){if(typeof $!=="number"||typeof Q!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,Q,1),X,!1,Y)}revealRange($,Q=0,X=!1,Y=!0){this._revealRange($,X?1:0,Y,Q)}revealRangeInCenter($,Q=0){this._revealRange($,1,!0,Q)}revealRangeInCenterIfOutsideViewport($,Q=0){this._revealRange($,2,!0,Q)}revealRangeNearTop($,Q=0){this._revealRange($,5,!0,Q)}revealRangeNearTopIfOutsideViewport($,Q=0){this._revealRange($,6,!0,Q)}revealRangeAtTop($,Q=0){this._revealRange($,3,!0,Q)}_revealRange($,Q,X,Y){if(!L.isIRange($))throw new Error("Invalid arguments");this._sendRevealRange(L.lift($),Q,X,Y)}setSelections($,Q="api",X=0){if(!this._modelData)return;if(!$||$.length===0)throw new Error("Invalid arguments");for(let Y=0,Z=$.length;Y<Z;Y++)if(!v0.isISelection($[Y]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Q,$,X)}getContentWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentWidth()}getScrollWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollWidth()}getScrollLeft(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollLeft()}getContentHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentHeight()}getScrollHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollHeight()}getScrollTop(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollTop()}setScrollLeft($,Q=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},Q)}setScrollTop($,Q=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},Q)}setScrollPosition($,Q=1){if(!this._modelData)return;this._modelData.viewModel.viewLayout.setScrollPosition($,Q)}hasPendingScrollAnimation(){if(!this._modelData)return!1;return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;let $=this._contributions.saveViewState(),Q=this._modelData.viewModel.saveCursorState(),X=this._modelData.viewModel.saveState();return{cursorState:Q,viewState:X,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;let Q=$;if(Q&&Q.cursorState&&Q.viewState){let X=Q.cursorState;if(Array.isArray(X)){if(X.length>0)this._modelData.viewModel.restoreCursorState(X)}else this._modelData.viewModel.restoreCursorState([X]);this._contributions.restoreViewState(Q.contributionsState||{});let Y=this._modelData.viewModel.reduceRestoreState(Q.viewState);this._modelData.view.restoreState(Y)}}handleInitialized(){var $;($=this._getViewModel())===null||$===void 0||$.visibleLinesStabilized()}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter((Q)=>Q.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,Q,X){switch(X=X||{},Q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{let Z=X;this._type($,Z.text||"");return}case"replacePreviousChar":{let Z=X;this._compositionType($,Z.text||"",Z.replaceCharCnt||0,0,0);return}case"compositionType":{let Z=X;this._compositionType($,Z.text||"",Z.replacePrevCharCnt||0,Z.replaceNextCharCnt||0,Z.positionDelta||0);return}case"paste":{let Z=X;this._paste($,Z.text||"",Z.pasteOnNewLine||!1,Z.multicursorText||null,Z.mode||null);return}case"cut":this._cut($);return}let Y=this.getAction(Q);if(Y){Promise.resolve(Y.run(X)).then(void 0,o0);return}if(!this._modelData)return;if(this._triggerEditorCommand($,Q,X))return;this._triggerCommand(Q,X)}_triggerCommand($,Q){this._commandService.executeCommand($,Q)}_startComposition(){if(!this._modelData)return;this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire()}_endComposition($){if(!this._modelData)return;this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire()}_type($,Q){if(!this._modelData||Q.length===0)return;if($==="keyboard")this._onWillType.fire(Q);if(this._modelData.viewModel.type(Q,$),$==="keyboard")this._onDidType.fire(Q)}_compositionType($,Q,X,Y,Z){if(!this._modelData)return;this._modelData.viewModel.compositionType(Q,X,Y,Z,$)}_paste($,Q,X,Y,Z){if(!this._modelData||Q.length===0)return;let G=this._modelData.viewModel,q=G.getSelection().getStartPosition();G.paste(Q,X,Y,$);let U=G.getSelection().getStartPosition();if($==="keyboard")this._onDidPaste.fire({range:new L(q.lineNumber,q.column,U.lineNumber,U.column),languageId:Z})}_cut($){if(!this._modelData)return;this._modelData.viewModel.cut($)}_triggerEditorCommand($,Q,X){let Y=nX.getEditorCommand(Q);if(Y)return X=X||{},X.source=$,this._instantiationService.invokeFunction((Z)=>{Promise.resolve(Y.runEditorCommand(Z,this,X)).then(void 0,o0)}),!0;return!1}_getViewModel(){if(!this._modelData)return null;return this._modelData.viewModel}pushUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.pushStackElement(),!0}popUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.popStackElement(),!0}executeEdits($,Q,X){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let Y;if(!X)Y=()=>null;else if(Array.isArray(X))Y=()=>X;else Y=X;return this._modelData.viewModel.executeEdits($,Q,Y),!0}executeCommand($,Q){if(!this._modelData)return;this._modelData.viewModel.executeCommand(Q,$)}executeCommands($,Q){if(!this._modelData)return;this._modelData.viewModel.executeCommands(Q,$)}createDecorationsCollection($){return new Wl(this,$)}changeDecorations($){if(!this._modelData)return null;return this._modelData.model.changeDecorations($,this._id)}getLineDecorations($){if(!this._modelData)return null;return this._modelData.model.getLineDecorations($,this._id,NZ(this._configuration.options))}getDecorationsInRange($){if(!this._modelData)return null;return this._modelData.model.getDecorationsInRange($,this._id,NZ(this._configuration.options))}deltaDecorations($,Q){if(!this._modelData)return[];if($.length===0&&Q.length===0)return $;return this._modelData.model.deltaDecorations($,Q,this._id)}removeDecorations($){if(!this._modelData||$.length===0)return;this._modelData.model.changeDecorations((Q)=>{Q.deltaDecorations($,[])})}removeDecorationsByType($){let Q=this._decorationTypeKeysToIds[$];if(Q)this.deltaDecorations(Q,[]);if(this._decorationTypeKeysToIds.hasOwnProperty($))delete this._decorationTypeKeysToIds[$];if(this._decorationTypeSubtypes.hasOwnProperty($))delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler($){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($,Q=!1){if(this._configuration.observeContainer($),!Q)this.render()}focus(){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.focus()}hasTextFocus(){if(!this._modelData||!this._modelData.hasRealView)return!1;return this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){let Q={widget:$,position:$.getPosition()};if(this._contentWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a content widget with the same id:"+$.getId());if(this._contentWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addContentWidget(Q)}layoutContentWidget($){let Q=$.getId();if(this._contentWidgets.hasOwnProperty(Q)){let X=this._contentWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutContentWidget(X)}}removeContentWidget($){let Q=$.getId();if(this._contentWidgets.hasOwnProperty(Q)){let X=this._contentWidgets[Q];if(delete this._contentWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeContentWidget(X)}}addOverlayWidget($){let Q={widget:$,position:$.getPosition()};if(this._overlayWidgets.hasOwnProperty($.getId()))console.warn("Overwriting an overlay widget with the same id.");if(this._overlayWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addOverlayWidget(Q)}layoutOverlayWidget($){let Q=$.getId();if(this._overlayWidgets.hasOwnProperty(Q)){let X=this._overlayWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutOverlayWidget(X)}}removeOverlayWidget($){let Q=$.getId();if(this._overlayWidgets.hasOwnProperty(Q)){let X=this._overlayWidgets[Q];if(delete this._overlayWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeOverlayWidget(X)}}addGlyphMarginWidget($){let Q={widget:$,position:$.getPosition()};if(this._glyphMarginWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a glyph margin widget with the same id.");if(this._glyphMarginWidgets[$.getId()]=Q,this._modelData&&this._modelData.hasRealView)this._modelData.view.addGlyphMarginWidget(Q)}layoutGlyphMarginWidget($){let Q=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(Q)){let X=this._glyphMarginWidgets[Q];if(X.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutGlyphMarginWidget(X)}}removeGlyphMarginWidget($){let Q=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(Q)){let X=this._glyphMarginWidgets[Q];if(delete this._glyphMarginWidgets[Q],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeGlyphMarginWidget(X)}}changeViewZones($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.change($)}getTargetAtClientPoint($,Q){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.getTargetAtClientPoint($,Q)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;let Q=this._modelData.model.validatePosition($),X=this._configuration.options,Y=X.get(143),Z=u2._getVerticalOffsetForPosition(this._modelData,Q.lineNumber,Q.column)-this.getScrollTop(),G=this._modelData.view.getOffsetForColumn(Q.lineNumber,Q.column)+Y.glyphMarginWidth+Y.lineNumbersWidth+Y.decorationsWidth-this.getScrollLeft();return{top:Z,left:G,height:X.get(66)}}getOffsetForColumn($,Q){if(!this._modelData||!this._modelData.hasRealView)return-1;return this._modelData.view.getOffsetForColumn($,Q)}render($=!1){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.render(!0,$)}setAriaOptions($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.setAriaOptions($)}applyFontInfo($){M6($,this._configuration.options.get(50))}setBanner($,Q){if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);if(this._bannerDomNode=$,this._configuration.setReservedHeight($?Q:0),this._bannerDomNode)this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}let Q=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());let X=$.onBeforeAttached(),Y=new VL(this._id,this._configuration,$,vA.create(B0(this._domElement)),CA.create(this._configuration.options),(q)=>A5(B0(this._domElement),q),this.languageConfigurationService,this._themeService,X);Q.push($.onWillDispose(()=>this.setModel(null))),Q.push(Y.onEvent((q)=>{switch(q.kind){case 0:this._onDidContentSizeChange.fire(q);break;case 1:this._editorTextFocus.setValue(q.hasFocus);break;case 2:this._onDidScrollChange.fire(q);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(q.reachedMaxCursorCount){let j=this.getOption(79),V=F("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",j);this._notificationService.prompt(Jl.Warning,V,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:F("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}let U=[];for(let j=0,V=q.selections.length;j<V;j++)U[j]=q.selections[j].getPosition();let z={position:U[0],secondaryPositions:U.slice(1),reason:q.reason,source:q.source};this._onDidChangeCursorPosition.fire(z);let H={selection:q.selections[0],secondarySelections:q.selections.slice(1),modelVersionId:q.modelVersionId,oldSelections:q.oldSelections,oldModelVersionId:q.oldModelVersionId,source:q.source,reason:q.reason};this._onDidChangeCursorSelection.fire(H);break}case 7:this._onDidChangeModelDecorations.fire(q.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(q.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(q.event);break;case 10:this._onDidChangeModelContent.fire(q.event);break;case 11:this._onDidChangeModelOptions.fire(q.event);break;case 12:this._onDidChangeModelTokens.fire(q.event);break}}));let[Z,G]=this._createView(Y);if(G){this._domElement.appendChild(Z.domNode.domNode);let q=Object.keys(this._contentWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addContentWidget(this._contentWidgets[H])}q=Object.keys(this._overlayWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addOverlayWidget(this._overlayWidgets[H])}q=Object.keys(this._glyphMarginWidgets);for(let U=0,z=q.length;U<z;U++){let H=q[U];Z.addGlyphMarginWidget(this._glyphMarginWidgets[H])}Z.render(!1,!0),Z.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new zl($,Y,Z,G,Q,X)}_createView($){let Q;if(this.isSimpleWidget)Q={paste:(Z,G,q,U)=>{this._paste("keyboard",Z,G,q,U)},type:(Z)=>{this._type("keyboard",Z)},compositionType:(Z,G,q,U)=>{this._compositionType("keyboard",Z,G,q,U)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}};else Q={paste:(Z,G,q,U)=>{let z={text:Z,pasteOnNewLine:G,multicursorText:q,mode:U};this._commandService.executeCommand("paste",z)},type:(Z)=>{let G={text:Z};this._commandService.executeCommand("type",G)},compositionType:(Z,G,q,U)=>{if(q||U){let z={text:Z,replacePrevCharCnt:G,replaceNextCharCnt:q,positionDelta:U};this._commandService.executeCommand("compositionType",z)}else{let z={text:Z,replaceCharCnt:G};this._commandService.executeCommand("replacePreviousChar",z)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let X=new tq($.coordinatesConverter);return X.onKeyDown=(Z)=>this._onKeyDown.fire(Z),X.onKeyUp=(Z)=>this._onKeyUp.fire(Z),X.onContextMenu=(Z)=>this._onContextMenu.fire(Z),X.onMouseMove=(Z)=>this._onMouseMove.fire(Z),X.onMouseLeave=(Z)=>this._onMouseLeave.fire(Z),X.onMouseDown=(Z)=>this._onMouseDown.fire(Z),X.onMouseUp=(Z)=>this._onMouseUp.fire(Z),X.onMouseDrag=(Z)=>this._onMouseDrag.fire(Z),X.onMouseDrop=(Z)=>this._onMouseDrop.fire(Z),X.onMouseDropCanceled=(Z)=>this._onMouseDropCanceled.fire(Z),X.onMouseWheel=(Z)=>this._onMouseWheel.fire(Z),[new ZA(Q,this._configuration,this._themeService.getColorTheme(),$,X,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup($){$===null||$===void 0||$.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let $=this._modelData.model,Q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;if(this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Q&&this._domElement.contains(Q))this._domElement.removeChild(Q);if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);return $}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){let Q=[{range:new L($.lineNumber,$.column,$.lineNumber,$.column),options:u2.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(Q),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue($,Q){this._contextKeyService.createKey($,Q)}};BX.dropIntoEditorDecorationOptions=L1.register({description:"workbench-dnd-target",className:"dnd-target"});BX=u2=V70([WX(3,p0),WX(4,l1),WX(5,j5),WX(6,h0),WX(7,d6),WX(8,a5),WX(9,_8),WX(10,_6),WX(11,F1)],BX);NL=class NL extends h{constructor(J){super();this._emitterOptions=J,this._onDidChangeToTrue=this._register(new y(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){let $=J?2:1;if(this._value===$)return;if(this._value=$,this._value===2)this._onDidChangeToTrue.fire();else if(this._value===1)this._onDidChangeToFalse.fire()}};T8=class T8 extends y{constructor(J,$){super({deliveryQueue:$});this._contributions=J}fire(J){this._contributions.onBeforeInteractionEvent(),super.fire(J)}};Hl=class Hl extends h{constructor(J,$){super();this._editor=J,$.createKey("editorId",J.getId()),this._editorSimpleInput=n.editorSimpleInput.bindTo($),this._editorFocus=n.focus.bindTo($),this._textInputFocus=n.textInputFocus.bindTo($),this._editorTextFocus=n.editorTextFocus.bindTo($),this._tabMovesFocus=n.tabMovesFocus.bindTo($),this._editorReadonly=n.readOnly.bindTo($),this._inDiffEditor=n.inDiffEditor.bindTo($),this._editorColumnSelection=n.columnSelection.bindTo($),this._hasMultipleSelections=n.hasMultipleSelections.bindTo($),this._hasNonEmptySelection=n.hasNonEmptySelection.bindTo($),this._canUndo=n.canUndo.bindTo($),this._canRedo=n.canRedo.bindTo($),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(wq.onDidChangeTabFocus((Q)=>this._tabMovesFocus.set(Q))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let J=this._editor.getOptions();this._tabMovesFocus.set(wq.getTabFocusMode()),this._editorReadonly.set(J.get(90)),this._inDiffEditor.set(J.get(61)),this._editorColumnSelection.set(J.get(22))}_updateFromSelection(){let J=this._editor.getSelections();if(!J)this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset();else this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(($)=>!$.isEmpty()))}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}};jl=class jl extends h{constructor(J,$,Q){super();this._editor=J,this._contextKeyService=$,this._languageFeaturesService=Q,this._langId=n.languageId.bindTo($),this._hasCompletionItemProvider=n.hasCompletionItemProvider.bindTo($),this._hasCodeActionsProvider=n.hasCodeActionsProvider.bindTo($),this._hasCodeLensProvider=n.hasCodeLensProvider.bindTo($),this._hasDefinitionProvider=n.hasDefinitionProvider.bindTo($),this._hasDeclarationProvider=n.hasDeclarationProvider.bindTo($),this._hasImplementationProvider=n.hasImplementationProvider.bindTo($),this._hasTypeDefinitionProvider=n.hasTypeDefinitionProvider.bindTo($),this._hasHoverProvider=n.hasHoverProvider.bindTo($),this._hasDocumentHighlightProvider=n.hasDocumentHighlightProvider.bindTo($),this._hasDocumentSymbolProvider=n.hasDocumentSymbolProvider.bindTo($),this._hasReferenceProvider=n.hasReferenceProvider.bindTo($),this._hasRenameProvider=n.hasRenameProvider.bindTo($),this._hasSignatureHelpProvider=n.hasSignatureHelpProvider.bindTo($),this._hasInlayHintsProvider=n.hasInlayHintsProvider.bindTo($),this._hasDocumentFormattingProvider=n.hasDocumentFormattingProvider.bindTo($),this._hasDocumentSelectionFormattingProvider=n.hasDocumentSelectionFormattingProvider.bindTo($),this._hasMultipleDocumentFormattingProvider=n.hasMultipleDocumentFormattingProvider.bindTo($),this._hasMultipleDocumentSelectionFormattingProvider=n.hasMultipleDocumentSelectionFormattingProvider.bindTo($),this._isInWalkThrough=n.isInWalkThroughSnippet.bindTo($);let X=()=>this._update();this._register(J.onDidChangeModel(X)),this._register(J.onDidChangeModelLanguage(X)),this._register(Q.completionProvider.onDidChange(X)),this._register(Q.codeActionProvider.onDidChange(X)),this._register(Q.codeLensProvider.onDidChange(X)),this._register(Q.definitionProvider.onDidChange(X)),this._register(Q.declarationProvider.onDidChange(X)),this._register(Q.implementationProvider.onDidChange(X)),this._register(Q.typeDefinitionProvider.onDidChange(X)),this._register(Q.hoverProvider.onDidChange(X)),this._register(Q.documentHighlightProvider.onDidChange(X)),this._register(Q.documentSymbolProvider.onDidChange(X)),this._register(Q.referenceProvider.onDidChange(X)),this._register(Q.renameProvider.onDidChange(X)),this._register(Q.documentFormattingEditProvider.onDidChange(X)),this._register(Q.documentRangeFormattingEditProvider.onDidChange(X)),this._register(Q.signatureHelpProvider.onDidChange(X)),this._register(Q.inlayHintsProvider.onDidChange(X)),X()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(J)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(J)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(J)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(J)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(J)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(J)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(J)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(J)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(J)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(J)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(J)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(J)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(J)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(J)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(J)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(J).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===$1.walkThroughSnippet)})}};Vl=class Vl extends h{constructor(J,$){super();if(this._onChange=this._register(new y),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(IQ(J)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),$)this._overflowWidgetsDomNode=this._register(IQ($)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()}))}_update(){let J=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;if(this._hadFocus!==J)this._hadFocus=J,this._onChange.fire(void 0)}hasFocus(){var J;return(J=this._hadFocus)!==null&&J!==void 0?J:!1}};B70=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),F70=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");K70=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),A70=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');m8((J,$)=>{let Q=J.getColor(R$);if(Q)$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${OL(Q)}") repeat-x bottom left; }`);let X=J.getColor(O8);if(X)$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${OL(X)}") repeat-x bottom left; }`);let Y=J.getColor(u7);if(Y)$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${OL(Y)}") repeat-x bottom left; }`);let Z=J.getColor(Df);if(Z)$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${P70(Z)}") no-repeat bottom left; }`);let G=J.getColor(Fp);if(G)$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${G.rgba.a}; }`)})});var D70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},R70=function(J,$){return function(Q,X){$(Q,X,J)}},fA;var Bl=N(()=>{F0();Q0();T9();s6();fA=class J extends h{constructor($){super();this._themeService=$,this._onWillCreateCodeEditor=this._register(new y),this._onCodeEditorAdd=this._register(new y),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new y),this._onDiffEditorAdd=this._register(new y),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new k6,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor($){this._codeEditors[$.getId()]=$,this._onCodeEditorAdd.fire($)}removeCodeEditor($){if(delete this._codeEditors[$.getId()])this._onCodeEditorRemove.fire($)}listCodeEditors(){return Object.keys(this._codeEditors).map(($)=>this._codeEditors[$])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor($){this._diffEditors[$.getId()]=$,this._onDiffEditorAdd.fire($)}listDiffEditors(){return Object.keys(this._diffEditors).map(($)=>this._diffEditors[$])}getFocusedCodeEditor(){let $=null,Q=this.listCodeEditors();for(let X of Q){if(X.hasTextFocus())return X;if(X.hasWidgetFocus())$=X}return $}removeDecorationType($){let Q=this._decorationOptionProviders.get($);if(Q){if(Q.refCount--,Q.refCount<=0)this._decorationOptionProviders.delete($),Q.dispose(),this.listCodeEditors().forEach((X)=>X.removeDecorationsByType($))}}setModelProperty($,Q,X){let Y=$.toString(),Z;if(this._modelProperties.has(Y))Z=this._modelProperties.get(Y);else Z=new Map,this._modelProperties.set(Y,Z);Z.set(Q,X)}getModelProperty($,Q){let X=$.toString();if(this._modelProperties.has(X))return this._modelProperties.get(X).get(Q);return}async openCodeEditor($,Q,X){for(let Y of this._codeEditorOpenHandlers){let Z=await Y($,Q,X);if(Z!==null)return Z}return null}registerCodeEditorOpenHandler($){let Q=this._codeEditorOpenHandlers.unshift($);return K0(Q)}};fA=D70([R70(0,d6)],fA)});var M70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Fl=function(J,$){return function(Q,X){$(Q,X,J)}},jj;var TL=N(()=>{D0();U9();Bl();Y9();m1();h9();s6();jj=class J extends fA{constructor($,Q){super(Q);this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=$.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(X,Y,Z)=>{if(!Y)return null;return this.doOpenEditor(Y,X)}))}_checkContextKey(){let $=!1;for(let Q of this.listCodeEditors())if(!Q.isSimpleWidget){$=!0;break}this._editorIsOpen.set($)}setActiveCodeEditor($){this._activeCodeEditor=$}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor($,Q){if(!this.findModel($,Q.resource)){if(Q.resource){let Z=Q.resource.scheme;if(Z===$1.http||Z===$1.https)return TF(Q.resource.toString()),$}return null}let Y=Q.options?Q.options.selection:null;if(Y)if(typeof Y.endLineNumber==="number"&&typeof Y.endColumn==="number")$.setSelection(Y),$.revealRangeInCenter(Y,1);else{let Z={lineNumber:Y.startLineNumber,column:Y.startColumn};$.setPosition(Z),$.revealPositionInCenter(Z,1)}return $}findModel($,Q){let X=$.getModel();if(X&&X.uri.toString()!==Q.toString())return null;return X}};jj=M70([Fl(0,h0),Fl(1,d6)],jj);H1(l1,jj,0)});var F9;var xY=N(()=>{u0();F9=M0("layoutService")});var Kl=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Al=function(J,$){return function(Q,X){$(Q,X,J)}},gA=class J{get mainContainer(){var $,Q;return(Q=($=IG(this._codeEditorService.listCodeEditors()))===null||$===void 0?void 0:$.getContainerDomNode())!==null&&Q!==void 0?Q:z1.document.body}get activeContainer(){var $,Q;let X=($=this._codeEditorService.getFocusedCodeEditor())!==null&&$!==void 0?$:this._codeEditorService.getActiveCodeEditor();return(Q=X===null||X===void 0?void 0:X.getContainerDomNode())!==null&&Q!==void 0?Q:this.mainContainer}get mainContainerDimension(){return H$(this.mainContainer)}get activeContainerDimension(){return H$(this.activeContainer)}get containers(){return PW(this._codeEditorService.listCodeEditors().map(($)=>$.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var $;($=this._codeEditorService.getFocusedCodeEditor())===null||$===void 0||$.focus()}constructor($){this._codeEditorService=$,this.onDidLayoutMainContainer=J0.None,this.onDidLayoutActiveContainer=J0.None,this.onDidLayoutContainer=J0.None,this.onDidChangeActiveContainer=J0.None,this.onDidAddContainer=J0.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}},pA;var wL=N(()=>{D0();J8();U1();F0();Y9();h9();xY();gA=Kl([Al(0,l1)],gA);pA=class J extends gA{get mainContainer(){return this._container}constructor($,Q){super(Q);this._container=$}};pA=Kl([Al(1,l1)],pA);H1(F9,gA,1)});var mA;var LL=N(()=>{u0();mA=M0("dialogService")});function uA(J){return J.scheme===$1.file?J.fsPath:J.path}class Vj{constructor(J,$,Q,X,Y,Z,G){this.id=++Dl,this.type=0,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabel=$,this.strResource=Q,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=X,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.isValid=!0}setValid(J){this.isValid=J}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class kL{constructor(J,$){this.resourceLabel=J,this.reason=$}}class EL{constructor(){this.elements=new Map}createMessage(){let J=[],$=[];for(let[,X]of this.elements)(X.reason===0?J:$).push(X.resourceLabel);let Q=[];if(J.length>0)Q.push(F({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",J.join(", ")));if($.length>0)Q.push(F({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",$.join(", ")));return Q.join(`
`)}get size(){return this.elements.size}has(J){return this.elements.has(J)}set(J,$){this.elements.set(J,$)}delete(J){return this.elements.delete(J)}}class Rl{constructor(J,$,Q,X,Y,Z,G){this.id=++Dl,this.type=1,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabels=$,this.strResources=Q,this.groupId=X,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split==="function"}removeResource(J,$,Q){if(!this.removedResources)this.removedResources=new EL;if(!this.removedResources.has($))this.removedResources.set($,new kL(J,Q))}setValid(J,$,Q){if(Q){if(this.invalidatedResources){if(this.invalidatedResources.delete($),this.invalidatedResources.size===0)this.invalidatedResources=null}}else{if(!this.invalidatedResources)this.invalidatedResources=new EL;if(!this.invalidatedResources.has($))this.invalidatedResources.set($,new kL(J,0))}}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class yL{constructor(J,$){this.resourceLabel=J,this.strResource=$,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let J of this._past)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);for(let J of this._future)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let J=[];J.push(`* ${this.strResource}:`);for(let $=0;$<this._past.length;$++)J.push(`   * [UNDO] ${this._past[$]}`);for(let $=this._future.length-1;$>=0;$--)J.push(`   * [REDO] ${this._future[$]}`);return J.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(J,$){if(J.type===1)J.setValid(this.resourceLabel,this.strResource,$);else J.setValid($)}setElementsValidFlag(J,$){for(let Q of this._past)if($(Q.actual))this._setElementValidFlag(Q,J);for(let Q of this._future)if($(Q.actual))this._setElementValidFlag(Q,J)}pushElement(J){for(let $ of this._future)if($.type===1)$.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(J),this.versionId++}createSnapshot(J){let $=[];for(let Q=0,X=this._past.length;Q<X;Q++)$.push(this._past[Q].id);for(let Q=this._future.length-1;Q>=0;Q--)$.push(this._future[Q].id);return new OA(J,$)}restoreSnapshot(J){let $=J.elements.length,Q=!0,X=0,Y=-1;for(let G=0,q=this._past.length;G<q;G++,X++){let U=this._past[G];if(Q&&(X>=$||U.id!==J.elements[X]))Q=!1,Y=0;if(!Q&&U.type===1)U.removeResource(this.resourceLabel,this.strResource,0)}let Z=-1;for(let G=this._future.length-1;G>=0;G--,X++){let q=this._future[G];if(Q&&(X>=$||q.id!==J.elements[X]))Q=!1,Z=G;if(!Q&&q.type===1)q.removeResource(this.resourceLabel,this.strResource,0)}if(Y!==-1)this._past=this._past.slice(0,Y);if(Z!==-1)this._future=this._future.slice(Z+1);this.versionId++}getElements(){let J=[],$=[];for(let Q of this._past)J.push(Q.actual);for(let Q of this._future)$.push(Q.actual);return{past:J,future:$}}getClosestPastElement(){if(this._past.length===0)return null;return this._past[this._past.length-1]}getSecondClosestPastElement(){if(this._past.length<2)return null;return this._past[this._past.length-2]}getClosestFutureElement(){if(this._future.length===0)return null;return this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(J,$){for(let Q=this._past.length-1;Q>=0;Q--)if(this._past[Q]===J){if($.has(this.strResource))this._past[Q]=$.get(this.strResource);else this._past.splice(Q,1);break}this.versionId++}splitFutureWorkspaceElement(J,$){for(let Q=this._future.length-1;Q>=0;Q--)if(this._future[Q]===J){if($.has(this.strResource))this._future[Q]=$.get(this.strResource);else this._future.splice(Q,1);break}this.versionId++}moveBackward(J){this._past.pop(),this._future.push(J),this.versionId++}moveForward(J){this._future.pop(),this._past.push(J),this.versionId++}}class cA{constructor(J){this.editStacks=J,this._versionIds=[];for(let $=0,Q=this.editStacks.length;$<Q;$++)this._versionIds[$]=this.editStacks[$].versionId}isValid(){for(let J=0,$=this.editStacks.length;J<$;J++)if(this._versionIds[J]!==this.editStacks[J].versionId)return!1;return!0}}class Wj{constructor(J){this.returnValue=J}}var _70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Pl=function(J,$){return function(Q,X){$(Q,X,J)}},R3=!1,Dl=0,Ml,IL=class J{constructor($,Q){this._dialogService=$,this._notificationService=Q,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey($){for(let Q of this._uriComparisonKeyComputers)if(Q[0]===$.scheme)return Q[1].getComparisonKey($);return $.toString()}_print($){console.log("------------------------------------"),console.log(`AFTER ${$}: `);let Q=[];for(let X of this._editStacks)Q.push(X[1].toString());console.log(Q.join(`
`))}pushElement($,Q=f2.None,X=kJ.None){if($.type===0){let Y=uA($.resource),Z=this.getUriComparisonKey($.resource);this._pushElement(new Vj($,Y,Z,Q.id,Q.nextOrder(),X.id,X.nextOrder()))}else{let Y=new Set,Z=[],G=[];for(let q of $.resources){let U=uA(q),z=this.getUriComparisonKey(q);if(Y.has(z))continue;Y.add(z),Z.push(U),G.push(z)}if(Z.length===1)this._pushElement(new Vj($,Z[0],G[0],Q.id,Q.nextOrder(),X.id,X.nextOrder()));else this._pushElement(new Rl($,Z,G,Q.id,Q.nextOrder(),X.id,X.nextOrder()))}if(R3)this._print("pushElement")}_pushElement($){for(let Q=0,X=$.strResources.length;Q<X;Q++){let Y=$.resourceLabels[Q],Z=$.strResources[Q],G;if(this._editStacks.has(Z))G=this._editStacks.get(Z);else G=new yL(Y,Z),this._editStacks.set(Z,G);G.pushElement($)}}getLastElement($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q)){let X=this._editStacks.get(Q);if(X.hasFutureElements())return null;let Y=X.getClosestPastElement();return Y?Y.actual:null}return null}_splitPastWorkspaceElement($,Q){let X=$.actual.split(),Y=new Map;for(let Z of X){let G=uA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new Vj(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(Q&&Q.has(Z))continue;this._editStacks.get(Z).splitPastWorkspaceElement($,Y)}}_splitFutureWorkspaceElement($,Q){let X=$.actual.split(),Y=new Map;for(let Z of X){let G=uA(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new Vj(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(Q&&Q.has(Z))continue;this._editStacks.get(Z).splitFutureWorkspaceElement($,Y)}}removeElements($){let Q=typeof $==="string"?$:this.getUriComparisonKey($);if(this._editStacks.has(Q))this._editStacks.get(Q).dispose(),this._editStacks.delete(Q);if(R3)this._print("removeElements")}setElementsValidFlag($,Q,X){let Y=this.getUriComparisonKey($);if(this._editStacks.has(Y))this._editStacks.get(Y).setElementsValidFlag(Q,X);if(R3)this._print("setElementsValidFlag")}createSnapshot($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).createSnapshot($);return new OA($,[])}restoreSnapshot($){let Q=this.getUriComparisonKey($.resource);if(this._editStacks.has(Q)){let X=this._editStacks.get(Q);if(X.restoreSnapshot($),!X.hasPastElements()&&!X.hasFutureElements())X.dispose(),this._editStacks.delete(Q)}if(R3)this._print("restoreSnapshot")}getElements($){let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).getElements();return{past:[],future:[]}}_findClosestUndoElementWithSource($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestPastElement();if(!G)continue;if(G.sourceId===$){if(!Q||G.sourceOrder>Q.sourceOrder)Q=G,X=Y}}return[Q,X]}canUndo($){if($ instanceof kJ){let[,X]=this._findClosestUndoElementWithSource($.id);return X?!0:!1}let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).hasPastElements();return!1}_onError($,Q){o0($);for(let X of Q.strResources)this.removeElements(X);this._notificationService.error($)}_acquireLocks($){for(let Q of $.editStacks)if(Q.locked)throw new Error("Cannot acquire edit stack lock");for(let Q of $.editStacks)Q.locked=!0;return()=>{for(let Q of $.editStacks)Q.locked=!1}}_safeInvokeWithLocks($,Q,X,Y,Z){let G=this._acquireLocks(X),q;try{q=Q()}catch(U){return G(),Y.dispose(),this._onError(U,$)}if(q)return q.then(()=>{return G(),Y.dispose(),Z()},(U)=>{return G(),Y.dispose(),this._onError(U,$)});else return G(),Y.dispose(),Z()}async _invokeWorkspacePrepare($){if(typeof $.actual.prepareUndoRedo==="undefined")return h.None;let Q=$.actual.prepareUndoRedo();if(typeof Q==="undefined")return h.None;return Q}_invokeResourcePrepare($,Q){if($.actual.type!==1||typeof $.actual.prepareUndoRedo==="undefined")return Q(h.None);let X=$.actual.prepareUndoRedo();if(!X)return Q(h.None);if(yW(X))return Q(X);return X.then((Y)=>{return Q(Y)})}_getAffectedEditStacks($){let Q=[];for(let X of $.strResources)Q.push(this._editStacks.get(X)||Ml);return new cA(Q)}_tryToSplitAndUndo($,Q,X,Y){if(Q.canSplit())return this._splitPastWorkspaceElement(Q,X),this._notificationService.warn(Y),new Wj(this._undo($,0,!0));else{for(let Z of Q.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new Wj}}_checkWorkspaceUndo($,Q,X,Y){if(Q.removedResources)return this._tryToSplitAndUndo($,Q,Q.removedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Q.label,Q.removedResources.createMessage()));if(Y&&Q.invalidatedResources)return this._tryToSplitAndUndo($,Q,Q.invalidatedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Q.label,Q.invalidatedResources.createMessage()));let Z=[];for(let q of X.editStacks)if(q.getClosestPastElement()!==Q)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndUndo($,Q,null,F({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",Q.label,Z.join(", ")));let G=[];for(let q of X.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndUndo($,Q,null,F({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",Q.label,G.join(", ")));if(!X.isValid())return this._tryToSplitAndUndo($,Q,null,F({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",Q.label));return null}_workspaceUndo($,Q,X){let Y=this._getAffectedEditStacks(Q),Z=this._checkWorkspaceUndo($,Q,Y,!1);if(Z)return Z.returnValue;return this._confirmAndExecuteWorkspaceUndo($,Q,Y,X)}_isPartOfUndoGroup($){if(!$.groupId)return!1;for(let[,Q]of this._editStacks){let X=Q.getClosestPastElement();if(!X)continue;if(X===$){let Y=Q.getSecondClosestPastElement();if(Y&&Y.groupId===$.groupId)return!0}if(X.groupId===$.groupId)return!0}return!1}async _confirmAndExecuteWorkspaceUndo($,Q,X,Y){if(Q.canSplit()&&!this._isPartOfUndoGroup(Q)){let q;(function(H){H[H.All=0]="All",H[H.This=1]="This",H[H.Cancel=2]="Cancel"})(q||(q={}));let{result:U}=await this._dialogService.prompt({type:A6.Info,message:F("confirmWorkspace","Would you like to undo '{0}' across all files?",Q.label),buttons:[{label:F({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",X.editStacks.length),run:()=>q.All},{label:F({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>q.This}],cancelButton:{run:()=>q.Cancel}});if(U===q.Cancel)return;if(U===q.This)return this._splitPastWorkspaceElement(Q,null),this._undo($,0,!0);let z=this._checkWorkspaceUndo($,Q,X,!1);if(z)return z.returnValue;Y=!0}let Z;try{Z=await this._invokeWorkspacePrepare(Q)}catch(q){return this._onError(q,Q)}let G=this._checkWorkspaceUndo($,Q,X,!0);if(G)return Z.dispose(),G.returnValue;for(let q of X.editStacks)q.moveBackward(Q);return this._safeInvokeWithLocks(Q,()=>Q.actual.undo(),X,Z,()=>this._continueUndoInGroup(Q.groupId,Y))}_resourceUndo($,Q,X){if(!Q.isValid){$.flushAllElements();return}if($.locked){let Y=F({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",Q.label);this._notificationService.warn(Y);return}return this._invokeResourcePrepare(Q,(Y)=>{return $.moveBackward(Q),this._safeInvokeWithLocks(Q,()=>Q.actual.undo(),new cA([$]),Y,()=>this._continueUndoInGroup(Q.groupId,X))})}_findClosestUndoElementInGroup($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestPastElement();if(!G)continue;if(G.groupId===$){if(!Q||G.groupOrder>Q.groupOrder)Q=G,X=Y}}return[Q,X]}_continueUndoInGroup($,Q){if(!$)return;let[,X]=this._findClosestUndoElementInGroup($);if(X)return this._undo(X,0,Q)}undo($){if($ instanceof kJ){let[,Q]=this._findClosestUndoElementWithSource($.id);return Q?this._undo(Q,$.id,!1):void 0}if(typeof $==="string")return this._undo($,0,!1);return this._undo(this.getUriComparisonKey($),0,!1)}_undo($,Q=0,X){if(!this._editStacks.has($))return;let Y=this._editStacks.get($),Z=Y.getClosestPastElement();if(!Z)return;if(Z.groupId){let[q,U]=this._findClosestUndoElementInGroup(Z.groupId);if(Z!==q&&U)return this._undo(U,Q,X)}if((Z.sourceId!==Q||Z.confirmBeforeUndo)&&!X)return this._confirmAndContinueUndo($,Q,Z);try{if(Z.type===1)return this._workspaceUndo($,Z,X);else return this._resourceUndo(Y,Z,X)}finally{if(R3)this._print("undo")}}async _confirmAndContinueUndo($,Q,X){if(!(await this._dialogService.confirm({message:F("confirmDifferentSource","Would you like to undo '{0}'?",X.label),primaryButton:F({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:F("confirmDifferentSource.no","No")})).confirmed)return;return this._undo($,Q,!0)}_findClosestRedoElementWithSource($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestFutureElement();if(!G)continue;if(G.sourceId===$){if(!Q||G.sourceOrder<Q.sourceOrder)Q=G,X=Y}}return[Q,X]}canRedo($){if($ instanceof kJ){let[,X]=this._findClosestRedoElementWithSource($.id);return X?!0:!1}let Q=this.getUriComparisonKey($);if(this._editStacks.has(Q))return this._editStacks.get(Q).hasFutureElements();return!1}_tryToSplitAndRedo($,Q,X,Y){if(Q.canSplit())return this._splitFutureWorkspaceElement(Q,X),this._notificationService.warn(Y),new Wj(this._redo($));else{for(let Z of Q.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new Wj}}_checkWorkspaceRedo($,Q,X,Y){if(Q.removedResources)return this._tryToSplitAndRedo($,Q,Q.removedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Q.label,Q.removedResources.createMessage()));if(Y&&Q.invalidatedResources)return this._tryToSplitAndRedo($,Q,Q.invalidatedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Q.label,Q.invalidatedResources.createMessage()));let Z=[];for(let q of X.editStacks)if(q.getClosestFutureElement()!==Q)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndRedo($,Q,null,F({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",Q.label,Z.join(", ")));let G=[];for(let q of X.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndRedo($,Q,null,F({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",Q.label,G.join(", ")));if(!X.isValid())return this._tryToSplitAndRedo($,Q,null,F({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",Q.label));return null}_workspaceRedo($,Q){let X=this._getAffectedEditStacks(Q),Y=this._checkWorkspaceRedo($,Q,X,!1);if(Y)return Y.returnValue;return this._executeWorkspaceRedo($,Q,X)}async _executeWorkspaceRedo($,Q,X){let Y;try{Y=await this._invokeWorkspacePrepare(Q)}catch(G){return this._onError(G,Q)}let Z=this._checkWorkspaceRedo($,Q,X,!0);if(Z)return Y.dispose(),Z.returnValue;for(let G of X.editStacks)G.moveForward(Q);return this._safeInvokeWithLocks(Q,()=>Q.actual.redo(),X,Y,()=>this._continueRedoInGroup(Q.groupId))}_resourceRedo($,Q){if(!Q.isValid){$.flushAllElements();return}if($.locked){let X=F({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",Q.label);this._notificationService.warn(X);return}return this._invokeResourcePrepare(Q,(X)=>{return $.moveForward(Q),this._safeInvokeWithLocks(Q,()=>Q.actual.redo(),new cA([$]),X,()=>this._continueRedoInGroup(Q.groupId))})}_findClosestRedoElementInGroup($){if(!$)return[null,null];let Q=null,X=null;for(let[Y,Z]of this._editStacks){let G=Z.getClosestFutureElement();if(!G)continue;if(G.groupId===$){if(!Q||G.groupOrder<Q.groupOrder)Q=G,X=Y}}return[Q,X]}_continueRedoInGroup($){if(!$)return;let[,Q]=this._findClosestRedoElementInGroup($);if(Q)return this._redo(Q)}redo($){if($ instanceof kJ){let[,Q]=this._findClosestRedoElementWithSource($.id);return Q?this._redo(Q):void 0}if(typeof $==="string")return this._redo($);return this._redo(this.getUriComparisonKey($))}_redo($){if(!this._editStacks.has($))return;let Q=this._editStacks.get($),X=Q.getClosestFutureElement();if(!X)return;if(X.groupId){let[Y,Z]=this._findClosestRedoElementInGroup(X.groupId);if(X!==Y&&Z)return this._redo(Z)}try{if(X.type===1)return this._workspaceRedo($,X);else return this._resourceRedo(Q,X)}finally{if(R3)this._print("redo")}}};var _l=N(()=>{P1();Q0();U9();IY();g0();LL();h9();VX();NA();Ml=new yL("","");Ml.locked=!0;IL=_70([Pl(0,mA),Pl(1,a5)],IL);H1(F3,IL,1)});function r5(J,$,Q){return Math.min(Math.max(J,$),Q)}class lA{constructor(){this._n=1,this._val=0}update(J){return this._val=this._val+(J-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class xL{constructor(J){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(J),this._values.fill(0,0,J)}update(J){let $=this._values[this._index];if(this._values[this._index]=J,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=J,this._n<this._values.length)this._n+=1;return this._val=this._sum/this._n,this._val}get value(){return this._val}}var M3;var dA=N(()=>{u0();M3=M0("environmentService")});class Nl{constructor(J){this._default=J}get(J){return this._default}update(J,$){return this._default}default(){return this._default}}class Tl{constructor(J,$,Q,X,Y,Z){this._logService=J,this._name=$,this._registry=Q,this._default=X,this._min=Y,this._max=Z,this._cache=new fQ(50,0.7)}_key(J){return J.id+this._registry.all(J).reduce(($,Q)=>Mz(sA.of(Q),$),0)}get(J){let $=this._key(J),Q=this._cache.get($);return Q?r5(Q.value,this._min,this._max):this.default()}update(J,$){let Q=this._key(J),X=this._cache.get(Q);if(!X)X=new xL(6),this._cache.set(Q,X);let Y=r5(X.update($),this._min,this._max);if(!Dz(J.uri,"output"))this._logService.trace(`[DEBOUNCE: ${this._name}] for ${J.uri.toString()} is ${Y}ms`);return Y}_overall(){let J=new lA;for(let[,$]of this._cache)J.update($.value);return J.value}default(){let J=this._overall()|0||this._default;return r5(J,this._min,this._max)}}var O70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Ol=function(J,$){return function(Q,X){$(Q,X,J)}},SL,sA,bL=class J{constructor($,Q){this._logService=$,this._data=new Map,this._isDev=Q.isExtensionDevelopment||!Q.isBuilt}for($,Q,X){var Y,Z,G;let q=(Y=X===null||X===void 0?void 0:X.min)!==null&&Y!==void 0?Y:50,U=(Z=X===null||X===void 0?void 0:X.max)!==null&&Z!==void 0?Z:q**2,z=(G=X===null||X===void 0?void 0:X.key)!==null&&G!==void 0?G:void 0,H=`${sA.of($)},${q}${z?","+z:""}`,j=this._data.get(H);if(!j){if(!this._isDev)this._logService.debug(`[DEBOUNCE: ${Q}] is disabled in developed mode`),j=new Nl(q*1.5);else j=new Tl(this._logService,Q,$,this._overallAverage()|0||q*1.5,q,U);this._data.set(H,j)}return j}_overallAverage(){let $=new lA;for(let Q of this._data.values())$.update(Q.default());return $.value}};var CL=N(()=>{iX();jJ();dA();h9();u0();G9();U9();SL=M0("ILanguageFeatureDebounceService");(function(J){let $=new WeakMap,Q=0;function X(Y){let Z=$.get(Y);if(Z===void 0)Z=++Q,$.set(Y,Z);return Z}J.of=X})(sA||(sA={}));bL=O70([Ol(0,Q5),Ol(1,M3)],bL);H1(SL,bL,1)});var wl=N(()=>{l0()});class Ll{constructor(J,$,Q,X){this.tokenTypeIndex=J,this.tokenModifierSet=$,this.languageId=Q,this.metadata=X,this.next=null}}class FX{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=FX._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<FX._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],FX._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(J,$){for(let Q=0;Q<$;Q++)J[Q]=null}_hash2(J,$){return(J<<5)-J+$|0}_hashFunc(J,$,Q){return this._hash2(this._hash2(J,$),Q)%this._currentLength}get(J,$,Q){let X=this._hashFunc(J,$,Q),Y=this._elements[X];while(Y){if(Y.tokenTypeIndex===J&&Y.tokenModifierSet===$&&Y.languageId===Q)return Y;Y=Y.next}return null}add(J,$,Q,X){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){let Y=this._elements;this._currentLengthIndex++,this._currentLength=FX._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<FX._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],FX._nullOutEntries(this._elements,this._currentLength);for(let Z of Y){let G=Z;while(G){let q=G.next;G.next=null,this._add(G),G=q}}}this._add(new Ll(J,$,Q,X))}_add(J){let $=this._hashFunc(J.tokenTypeIndex,J.tokenModifierSet,J.languageId);J.next=this._elements[$],this._elements[$]=J}}var N70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},vL=function(J,$){return function(Q,X){$(Q,X,J)}},aA=class J{constructor($,Q,X,Y){this._legend=$,this._themeService=Q,this._languageService=X,this._logService=Y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new FX}getMetadata($,Q,X){let Y=this._languageService.languageIdCodec.encodeLanguageId(X),Z=this._hashTable.get($,Q,Y),G;if(Z){if(G=Z.metadata,this._logService.getLevel()===p5.Trace)this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${$} / ${Q}: foreground ${u5.getForeground(G)}, fontStyle ${u5.getFontStyle(G).toString(2)}`)}else{let q=this._legend.tokenTypes[$],U=[];if(q){let z=Q;for(let j=0;z>0&&j<this._legend.tokenModifiers.length;j++){if(z&1)U.push(this._legend.tokenModifiers[j]);z=z>>1}if(z>0&&this._logService.getLevel()===p5.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${Q.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),U.push("not-in-legend");let H=this._themeService.getColorTheme().getTokenStyleMetadata(q,U,X);if(typeof H==="undefined")G=2147483647;else{if(G=0,typeof H.italic!=="undefined"){let j=(H.italic?1:0)<<11;G|=j|1}if(typeof H.bold!=="undefined"){let j=(H.bold?2:0)<<11;G|=j|2}if(typeof H.underline!=="undefined"){let j=(H.underline?4:0)<<11;G|=j|4}if(typeof H.strikethrough!=="undefined"){let j=(H.strikethrough?8:0)<<11;G|=j|8}if(H.foreground){let j=H.foreground<<15;G|=j|16}if(G===0)G=2147483647}}else{if(this._logService.getLevel()===p5.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${$} for legend: ${JSON.stringify(this._legend.tokenTypes)}`);G=2147483647,q="not-in-legend"}if(this._hashTable.add($,Q,Y,G),this._logService.getLevel()===p5.Trace)this._logService.trace(`SemanticTokensProviderStyling ${$} (${q}) / ${Q} (${U.join(" ")}): foreground ${u5.getForeground(G)}, fontStyle ${u5.getFontStyle(G).toString(2)}`)}return G}warnOverlappingSemanticTokens($,Q){if(!this._hasWarnedOverlappingTokens)this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${$}, column ${Q}`)}warnInvalidLengthSemanticTokens($,Q){if(!this._hasWarnedInvalidLengthTokens)this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${$}, column ${Q}`)}warnInvalidEditStart($,Q,X,Y,Z){if(!this._hasWarnedInvalidEditStart)this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${$}, resultId: ${Q}) at edit #${X}: The provided start offset ${Y} is outside the previous data (length ${Z}).`)}};var kl=N(()=>{s6();G9();wl();v9();aA=N70([vL(1,d6),vL(2,e1),vL(3,Q5)],aA);FX._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});var El;var Il=N(()=>{u0();El=M0("semanticTokensStylingService")});var T70=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},hL=function(J,$){return function(Q,X){$(Q,X,J)}},fL;var yl=N(()=>{Q0();v9();s6();G9();kl();Il();h9();fL=class J extends h{constructor($,Q,X){super();this._themeService=$,this._logService=Q,this._languageService=X,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling($){if(!this._caches.has($))this._caches.set($,new aA($.getLegend(),this._themeService,this._languageService,this._logService));return this._caches.get($)}};fL=T70([hL(0,d6),hL(1,Q5),hL(2,e1)],fL);H1(El,fL,1)});function bl(J,$){switch(J){case 0:return"";case 1:return`${nA}*?`;default:return`(?:${iA}|${nA}+${iA}${$?`|${iA}${nA}+`:""})*?`}}function Sl(J,$){if(!J)return[];let Q=[],X=!1,Y=!1,Z="";for(let G of J){switch(G){case $:if(!X&&!Y){Q.push(Z),Z="";continue}break;case"{":X=!0;break;case"}":X=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Z+=G}if(Z)Q.push(Z);return Q}function gl(J){if(!J)return"";let $="",Q=Sl(J,xl);if(Q.every((X)=>X===rA))$=".*";else{let X=!1;Q.forEach((Y,Z)=>{if(Y===rA){if(X)return;$+=bl(2,Z===Q.length-1)}else{let G=!1,q="",U=!1,z="";for(let H of Y){if(H!=="}"&&G){q+=H;continue}if(U&&(H!=="]"||!z)){let j;if(H==="-")j=H;else if((H==="^"||H==="!")&&!z)j="^";else if(H===xl)j="";else j=o8(H);z+=j;continue}switch(H){case"{":G=!0;continue;case"[":U=!0;continue;case"}":{let V=`(?:${Sl(q,",").map((W)=>gl(W)).join("|")})`;$+=V,G=!1,q="";break}case"]":{$+="["+z+"]",U=!1,z="";break}case"?":$+=nA;continue;case"*":$+=bl(1);continue;default:$+=o8(H)}}if(Z<Q.length-1&&(Q[Z+1]!==rA||Z+2<Q.length))$+=iA}X=Y===rA})}return $}function pL(J,$){if(!J)return c$;let Q;if(typeof J!=="string")Q=J.pattern;else Q=J;Q=Q.trim();let X=`${Q}_${!!$.trimForExclusions}`,Y=Cl.get(X);if(Y)return hl(Y,J);let Z;if(L70.test(Q))Y=b70(Q.substr(4),Q);else if(Z=k70.exec(gL(Q,$)))Y=S70(Z[1],Q);else if(($.trimForExclusions?I70:E70).test(Q))Y=C70(Q,$);else if(Z=y70.exec(gL(Q,$)))Y=fl(Z[1].substr(1),Q,!0);else if(Z=x70.exec(gL(Q,$)))Y=fl(Z[1],Q,!1);else Y=v70(Q);return Cl.set(X,Y),hl(Y,J)}function hl(J,$){if(typeof $==="string")return J;let Q=function(X,Y){if(!gH(X,$.base,!V6))return null;return J(dX(X.substr($.base.length),JJ),Y)};return Q.allBasenames=J.allBasenames,Q.allPaths=J.allPaths,Q.basenames=J.basenames,Q.patterns=J.patterns,Q}function gL(J,$){return $.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J}function b70(J,$){return function(Q,X){return typeof Q==="string"&&Q.endsWith(J)?$:null}}function S70(J,$){let Q=`/${J}`,X=`\\${J}`,Y=function(G,q){if(typeof G!=="string")return null;if(q)return q===J?$:null;return G===J||G.endsWith(Q)||G.endsWith(X)?$:null},Z=[J];return Y.basenames=Z,Y.patterns=[$],Y.allBasenames=Z,Y}function C70(J,$){let Q=ml(J.slice(1,-1).split(",").map((q)=>pL(q,$)).filter((q)=>q!==c$),J),X=Q.length;if(!X)return c$;if(X===1)return Q[0];let Y=function(q,U){for(let z=0,H=Q.length;z<H;z++)if(Q[z](q,U))return J;return null},Z=Q.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;let G=Q.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y}function fl(J,$,Q){let X=JJ===R6.sep,Y=X?J:J.replace(w70,JJ),Z=JJ+Y,G=R6.sep+J,q;if(Q)q=function(U,z){return typeof U==="string"&&(U===Y||U.endsWith(Z)||!X&&(U===J||U.endsWith(G)))?$:null};else q=function(U,z){return typeof U==="string"&&(U===Y||!X&&U===J)?$:null};return q.allPaths=[(Q?"*/":"./")+J],q}function v70(J){try{let $=new RegExp(`^${gl(J)}$`);return function(Q){return $.lastIndex=0,typeof Q==="string"&&$.test(Q)?J:null}}catch($){return c$}}function pl(J,$,Q){if(!J||typeof $!=="string")return!1;return mL(J)($,void 0,Q)}function mL(J,$={}){if(!J)return vl;if(typeof J==="string"||h70(J)){let Q=pL(J,$);if(Q===c$)return vl;let X=function(Y,Z){return!!Q(Y,Z)};if(Q.allBasenames)X.allBasenames=Q.allBasenames;if(Q.allPaths)X.allPaths=Q.allPaths;return X}return f70(J,$)}function h70(J){let $=J;if(!$)return!1;return typeof $.base==="string"&&typeof $.pattern==="string"}function f70(J,$){let Q=ml(Object.getOwnPropertyNames(J).map((q)=>g70(q,J[q],$)).filter((q)=>q!==c$)),X=Q.length;if(!X)return c$;if(!Q.some((q)=>!!q.requiresSiblings)){if(X===1)return Q[0];let q=function(H,j){let V=void 0;for(let W=0,B=Q.length;W<B;W++){let K=Q[W](H,j);if(typeof K==="string")return K;if(qF(K)){if(!V)V=[];V.push(K)}}if(V)return(async()=>{for(let W of V){let B=await W;if(typeof B==="string")return B}return null})();return null},U=Q.find((H)=>!!H.allBasenames);if(U)q.allBasenames=U.allBasenames;let z=Q.reduce((H,j)=>j.allPaths?H.concat(j.allPaths):H,[]);if(z.length)q.allPaths=z;return q}let Y=function(q,U,z){let H=void 0,j=void 0;for(let V=0,W=Q.length;V<W;V++){let B=Q[V];if(B.requiresSiblings&&z){if(!U)U=V4(q);if(!H)H=U.substr(0,U.length-ib(q).length)}let K=B(q,U,H,z);if(typeof K==="string")return K;if(qF(K)){if(!j)j=[];j.push(K)}}if(j)return(async()=>{for(let V of j){let W=await V;if(typeof W==="string")return W}return null})();return null},Z=Q.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;let G=Q.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y}function g70(J,$,Q){if($===!1)return c$;let X=pL(J,Q);if(X===c$)return c$;if(typeof $==="boolean")return X;if($){let Y=$.when;if(typeof Y==="string"){let Z=(G,q,U,z)=>{if(!z||!X(G,q))return null;let H=Y.replace("$(basename)",()=>U),j=z(H);return qF(j)?j.then((V)=>V?J:null):j?J:null};return Z.requiresSiblings=!0,Z}}return X}function ml(J,$){let Q=J.filter((q)=>!!q.basenames);if(Q.length<2)return J;let X=Q.reduce((q,U)=>{let z=U.basenames;return z?q.concat(z):q},[]),Y;if($){Y=[];for(let q=0,U=X.length;q<U;q++)Y.push($)}else Y=Q.reduce((q,U)=>{let z=U.patterns;return z?q.concat(z):q},[]);let Z=function(q,U){if(typeof q!=="string")return null;if(!U){let H;for(H=q.length;H>0;H--){let j=q.charCodeAt(H-1);if(j===47||j===92)break}U=q.substr(H)}let z=X.indexOf(U);return z!==-1?Y[z]:null};Z.basenames=X,Z.patterns=Y,Z.allBasenames=X;let G=J.filter((q)=>!q.basenames);return G.push(Z),G}var rA="**",xl="/",iA="[/\\\\]",nA="[^/\\\\]",w70,L70,k70,E70,I70,y70,x70,Cl,vl=function(){return!1},c$=function(){return null};var uL=N(()=>{u1();BA();jJ();BQ();M1();t0();w70=/\//g;L70=/^\*\*\/\*\.[\w\.-]+$/,k70=/^\*\*\/([\w\.-]+)\/?$/,E70=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,I70=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,y70=/^\*\*((\/[\w\.-]+)+)\/?$/,x70=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Cl=new fQ(1e4)});function cL(J,$,Q,X,Y,Z){if(Array.isArray(J)){let G=0;for(let q of J){let U=cL(q,$,Q,X,Y,Z);if(U===10)return U;if(U>G)G=U}return G}else if(typeof J==="string"){if(!X)return 0;if(J==="*")return 5;else if(J===Q)return 10;else return 0}else if(J){let{language:G,pattern:q,scheme:U,hasAccessToAllModels:z,notebookType:H}=J;if(!X&&!z)return 0;if(H&&Y)$=Y;let j=0;if(U)if(U===$.scheme)j=10;else if(U==="*")j=5;else return 0;if(G)if(G===Q)j=10;else if(G==="*")j=Math.max(j,5);else return 0;if(H)if(H===Z)j=10;else if(H==="*"&&Z!==void 0)j=Math.max(j,5);else return 0;if(q){let V;if(typeof q==="string")V=q;else V={...q,base:hW(q.base)};if(V===$.fsPath||pl(V,$.fsPath))j=10;else return 0}return j}else return 0}var ul=N(()=>{uL();BQ()});function cl(J){if(typeof J==="string")return!1;else if(Array.isArray(J))return J.every(cl);else return!!J.exclusive}class lL{constructor(J,$,Q,X){this.uri=J,this.languageId=$,this.notebookUri=Q,this.notebookType=X}equals(J){var $,Q;return this.notebookType===J.notebookType&&this.languageId===J.languageId&&this.uri.toString()===J.uri.toString()&&(($=this.notebookUri)===null||$===void 0?void 0:$.toString())===((Q=J.notebookUri)===null||Q===void 0?void 0:Q.toString())}}class P6{constructor(J){this._notebookInfoResolver=J,this._clock=0,this._entries=[],this._onDidChange=new y,this.onDidChange=this._onDidChange.event}register(J,$){let Q={selector:J,provider:$,_score:-1,_time:this._clock++};return this._entries.push(Q),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),K0(()=>{if(Q){let X=this._entries.indexOf(Q);if(X>=0)this._entries.splice(X,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Q=void 0}})}has(J){return this.all(J).length>0}all(J){if(!J)return[];this._updateScores(J);let $=[];for(let Q of this._entries)if(Q._score>0)$.push(Q.provider);return $}ordered(J){let $=[];return this._orderedForEach(J,(Q)=>$.push(Q.provider)),$}orderedGroups(J){let $=[],Q,X;return this._orderedForEach(J,(Y)=>{if(Q&&X===Y._score)Q.push(Y.provider);else X=Y._score,Q=[Y.provider],$.push(Q)}),$}_orderedForEach(J,$){this._updateScores(J);for(let Q of this._entries)if(Q._score>0)$(Q)}_updateScores(J){var $,Q;let X=($=this._notebookInfoResolver)===null||$===void 0?void 0:$.call(this,J.uri),Y=X?new lL(J.uri,J.getLanguageId(),X.uri,X.type):new lL(J.uri,J.getLanguageId(),void 0,void 0);if((Q=this._lastCandidate)===null||Q===void 0?void 0:Q.equals(Y))return;this._lastCandidate=Y;for(let Z of this._entries)if(Z._score=cL(Z.selector,Y.uri,Y.languageId,Av(J),Y.notebookUri,Y.notebookType),cl(Z.selector)&&Z._score>0){for(let G of this._entries)G._score=0;Z._score=1000;break}this._entries.sort(P6._compareByScoreAndTime)}static _compareByScoreAndTime(J,$){if(J._score<$._score)return 1;else if(J._score>$._score)return-1;if(Bj(J.selector)&&!Bj($.selector))return 1;else if(!Bj(J.selector)&&Bj($.selector))return-1;if(J._time<$._time)return 1;else if(J._time>$._time)return-1;else return 0}}function Bj(J){if(typeof J==="string")return!1;if(Array.isArray(J))return J.some(Bj);return Boolean(J.isBuiltin)}var ll=N(()=>{F0();Q0();v7();ul()});class dl{constructor(){this.referenceProvider=new P6(this._score.bind(this)),this.renameProvider=new P6(this._score.bind(this)),this.codeActionProvider=new P6(this._score.bind(this)),this.definitionProvider=new P6(this._score.bind(this)),this.typeDefinitionProvider=new P6(this._score.bind(this)),this.declarationProvider=new P6(this._score.bind(this)),this.implementationProvider=new P6(this._score.bind(this)),this.documentSymbolProvider=new P6(this._score.bind(this)),this.inlayHintsProvider=new P6(this._score.bind(this)),this.colorProvider=new P6(this._score.bind(this)),this.codeLensProvider=new P6(this._score.bind(this)),this.documentFormattingEditProvider=new P6(this._score.bind(this)),this.documentRangeFormattingEditProvider=new P6(this._score.bind(this)),this.onTypeFormattingEditProvider=new P6(this._score.bind(this)),this.signatureHelpProvider=new P6(this._score.bind(this)),this.hoverProvider=new P6(this._score.bind(this)),this.documentHighlightProvider=new P6(this._score.bind(this)),this.multiDocumentHighlightProvider=new P6(this._score.bind(this)),this.selectionRangeProvider=new P6(this._score.bind(this)),this.foldingRangeProvider=new P6(this._score.bind(this)),this.linkProvider=new P6(this._score.bind(this)),this.inlineCompletionsProvider=new P6(this._score.bind(this)),this.completionProvider=new P6(this._score.bind(this)),this.linkedEditingRangeProvider=new P6(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new P6(this._score.bind(this)),this.documentSemanticTokensProvider=new P6(this._score.bind(this)),this.documentOnDropEditProvider=new P6(this._score.bind(this)),this.documentPasteEditProvider=new P6(this._score.bind(this))}_score(J){var $;return($=this._notebookTypeResolver)===null||$===void 0?void 0:$.call(this,J)}}var sl=N(()=>{ll();l9();h9();H1(F1,dl,1)});var _3;var oA=N(()=>{u0();_3=M0("hoverService")});var IJ,r7;var KX=N(()=>{u0();IJ=M0("contextViewService"),r7=M0("contextMenuService")});var al=N(()=>{j0(".monaco-workbench .workbench-hover{z-index:40;background:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);color:var(--vscode-editorHoverWidget-foreground);box-shadow:0 2px 8px var(--vscode-widget-shadow);border-radius:3px;max-width:700px;font-size:13px;line-height:19px;position:relative;overflow:hidden}.monaco-workbench .workbench-hover hr{border-bottom:none}.monaco-workbench .workbench-hover:not(.skip-fade-in){animation:.1s linear fadein}.monaco-workbench .workbench-hover.compact{font-size:12px}.monaco-workbench .workbench-hover.compact .hover-contents{padding:2px 8px}.monaco-workbench .workbench-hover-container.locked .workbench-hover{outline:1px solid var(--vscode-editorHoverWidget-border)}.monaco-workbench .workbench-hover-container.locked .workbench-hover:focus,.monaco-workbench .workbench-hover-lock:focus{outline:1px solid var(--vscode-focusBorder)}.monaco-workbench .workbench-hover-container.locked .workbench-hover-lock:hover{background:var(--vscode-toolbar-hoverBackground)}.monaco-workbench .workbench-hover-pointer{z-index:41;pointer-events:none;position:absolute}.monaco-workbench .workbench-hover-pointer:after{content:\"\";background-color:var(--vscode-editorHoverWidget-background);border-right:1px solid var(--vscode-editorHoverWidget-border);border-bottom:1px solid var(--vscode-editorHoverWidget-border);width:5px;height:5px;position:absolute}.monaco-workbench .locked .workbench-hover-pointer:after{border-bottom-width:2px;border-right-width:2px;width:4px;height:4px}.monaco-workbench .workbench-hover-pointer.left{left:-3px}.monaco-workbench .workbench-hover-pointer.right{right:3px}.monaco-workbench .workbench-hover-pointer.top{top:-3px}.monaco-workbench .workbench-hover-pointer.bottom{bottom:3px}.monaco-workbench .workbench-hover-pointer.left:after{transform:rotate(135deg)}.monaco-workbench .workbench-hover-pointer.right:after{transform:rotate(315deg)}.monaco-workbench .workbench-hover-pointer.top:after{transform:rotate(225deg)}.monaco-workbench .workbench-hover-pointer.bottom:after{transform:rotate(45deg)}.monaco-workbench .workbench-hover a{color:var(--vscode-textLink-foreground)}.monaco-workbench .workbench-hover a:focus{outline-offset:-1px;outline:1px solid;outline-color:var(--vscode-focusBorder);text-decoration:underline}.monaco-workbench .workbench-hover a:hover,.monaco-workbench .workbench-hover a:active{color:var(--vscode-textLink-activeForeground)}.monaco-workbench .workbench-hover code{background:var(--vscode-textCodeBlock-background)}.monaco-workbench .workbench-hover .hover-row .actions{background:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-workbench .workbench-hover.right-aligned{left:1px}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions{flex-direction:row-reverse}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions .action-container{margin-left:16px;margin-right:0}")});var rl=N(()=>{j0(".monaco-hover{cursor:default;-webkit-user-select:text;user-select:text;box-sizing:border-box;white-space:var(--vscode-hover-whiteSpace,normal);line-height:1.5em;animation:.1s linear fadein;position:absolute;overflow:hidden}.monaco-hover.hidden{display:none}.monaco-hover a:hover:not(.disabled){cursor:pointer}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:var(--vscode-hover-maxWidth,500px);word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover p,.monaco-hover .code,.monaco-hover ul,.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{margin:8px 0}.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{line-height:1.1}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;height:1px;margin:4px -8px -4px}.monaco-hover p:first-child,.monaco-hover .code:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover p:last-child,.monaco-hover .code:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ul,.monaco-hover ol{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:var(--vscode-hover-sourceWhiteSpace,pre-wrap)}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .info{padding:0 8px;font-style:italic}.monaco-hover .hover-row.status-bar .actions{padding:0 8px;display:flex}.monaco-hover .hover-row.status-bar .actions .action-container{cursor:pointer;margin-right:16px}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link:hover,.monaco-hover .hover-contents a.code-link{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:\"(\"}.monaco-hover .hover-contents a.code-link:after{content:\")\"}.monaco-hover .hover-contents a.code-link>span{text-underline-position:under;color:var(--vscode-textLink-foreground);border-bottom:1px solid #0000;text-decoration:underline}.monaco-hover .hover-contents a.code-link>span:hover{color:var(--vscode-textLink-activeForeground)}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}")});function il(J,$){return J&&$?F("acessibleViewHint","Inspect this in the accessible view with {0}.",$):J?F("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}var tA,dL,eA;var nl=N(()=>{D0();R8();OJ();Q0();rl();g0();tA=q0;dL=class dL extends h{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new oQ(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};eA=class eA extends h{static render(J,$,Q){return new eA(J,$,Q)}constructor(J,$,Q){super();if(this.actionContainer=Z0(J,tA("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Z0(this.actionContainer,tA("a.action")),this.action.setAttribute("role","button"),$.iconClass)Z0(this.action,tA(`span.icon.${$.iconClass}`));let X=Z0(this.action,tA("span"));X.textContent=Q?`${$.label} (${Q})`:$.label,this._register(m(this.actionContainer,$0.CLICK,(Y)=>{Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this._register(m(this.actionContainer,$0.KEY_DOWN,(Y)=>{let Z=new K1(Y);if(Z.equals(3)||Z.equals(10))Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this.setEnabled(!0)}setEnabled(J){if(J)this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled");else this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true")}}});function ol(J){let $=void 0,Q=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(J.fragment);if(Q)$={startLineNumber:parseInt(Q[1]),startColumn:Q[2]?parseInt(Q[2]):1,endLineNumber:Q[4]?parseInt(Q[4]):void 0,endColumn:Q[4]?Q[5]?parseInt(Q[5]):1:void 0},J=J.with({fragment:""});return{selection:$,uri:J}}var l$;var c2=N(()=>{u0();l$=M0("openerService")});function tl(J,$={}){let Q=JP($);return Q.textContent=J,Q}function el(J,$={}){let Q=JP($);return $d(Q,p70(J,!!$.renderCodeSegments),$.actionHandler,$.renderCodeSegments),Q}function JP(J){let $=J.inline?"span":"div",Q=document.createElement($);if(J.className)Q.className=J.className;return Q}class Jd{constructor(J){this.source=J,this.index=0}eos(){return this.index>=this.source.length}next(){let J=this.peek();return this.advance(),J}peek(){return this.source[this.index]}advance(){this.index++}}function $d(J,$,Q,X){let Y;if($.type===2)Y=document.createTextNode($.content||"");else if($.type===3)Y=document.createElement("b");else if($.type===4)Y=document.createElement("i");else if($.type===7&&X)Y=document.createElement("code");else if($.type===5&&Q){let Z=document.createElement("a");Q.disposables.add(i1(Z,"click",(G)=>{Q.callback(String($.index),G)})),Y=Z}else if($.type===8)Y=document.createElement("br");else if($.type===1)Y=J;if(Y&&J!==Y)J.appendChild(Y);if(Y&&Array.isArray($.children))$.children.forEach((Z)=>{$d(Y,Z,Q,X)})}function p70(J,$){let Q={type:1,children:[]},X=0,Y=Q,Z=[],G=new Jd(J);while(!G.eos()){let q=G.next(),U=q==="\\"&&sL(G.peek(),$)!==0;if(U)q=G.next();if(!U&&m70(q,$)&&q===G.peek()){if(G.advance(),Y.type===2)Y=Z.pop();let z=sL(q,$);if(Y.type===z||Y.type===5&&z===6)Y=Z.pop();else{let H={type:z,children:[]};if(z===5)H.index=X,X++;Y.children.push(H),Z.push(Y),Y=H}}else if(q===`
`){if(Y.type===2)Y=Z.pop();Y.children.push({type:8})}else if(Y.type!==2){let z={type:2,content:q};Y.children.push(z),Z.push(Y),Y=z}else Y.content+=q}if(Y.type===2)Y=Z.pop();if(Z.length);return Q}function m70(J,$){return sL(J,$)!==0}function sL(J,$){switch(J){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return $?7:0;default:return 0}}var aL=N(()=>{D0()});function C4(J){let $=new Array,Q,X=0,Y=0;while((Q=u70.exec(J))!==null){if(Y=Q.index||0,X<Y)$.push(J.substring(X,Y));X=(Q.index||0)+Q[0].length;let[,Z,G]=Q;$.push(Z?`$(${G})`:O3({id:G}))}if(X<J.length)$.push(J.substring(X));return $}function O3(J){let $=q0("span");return $.classList.add(...b0.asClassNameArray(J)),$}var u70;var l2=N(()=>{D0();H5();u70=new RegExp(`(\\\\)?\\$\\((${b0.iconNameExpression}(?:${b0.iconModifierExpression})?)\\)`,"g")});var qx0,Ux0,zx0,Hx0,jx0;var Qd=N(()=>{qx0=new Uint32Array(10),Ux0=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),zx0=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),Hx0=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),jx0=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])});function Zd(...J){return function($,Q){for(let X=0,Y=J.length;X<Y;X++){let Z=J[X]($,Q);if(Z)return Z}return null}}function Gd(J,$,Q){if(!Q||Q.length<$.length)return null;let X;if(J)X=cG(Q,$);else X=Q.indexOf($)===0;if(!X)return null;return $.length>0?[{start:0,end:$.length}]:[]}function c70(J,$){let Q=$.toLowerCase().indexOf(J.toLowerCase());if(Q===-1)return null;return[{start:Q,end:Q+J.length}]}function l70(J,$){return iL(J.toLowerCase(),$.toLowerCase(),0,0)}function iL(J,$,Q,X){if(Q===J.length)return[];else if(X===$.length)return null;else{if(J[Q]===$[X]){let Y=null;if(Y=iL(J,$,Q+1,X+1))return Ud({start:X,end:X+1},Y);return null}return iL(J,$,Q,X+1)}}function tL(J){return 97<=J&&J<=122}function XP(J){return 65<=J&&J<=90}function eL(J){return 48<=J&&J<=57}function d70(J){return J===32||J===9||J===10||J===13}function qd(J){return tL(J)||XP(J)||eL(J)}function Ud(J,$){if($.length===0)$=[J];else if(J.end===$[0].start)$[0].start=J.start;else $.unshift(J);return $}function zd(J,$){for(let Q=$;Q<J.length;Q++){let X=J.charCodeAt(Q);if(XP(X)||eL(X)||Q>0&&!qd(J.charCodeAt(Q-1)))return Q}return J.length}function nL(J,$,Q,X){if(Q===J.length)return[];else if(X===$.length)return null;else if(J[Q]!==$[X].toLowerCase())return null;else{let Y=null,Z=X+1;Y=nL(J,$,Q+1,X+1);while(!Y&&(Z=zd($,Z))<$.length)Y=nL(J,$,Q+1,Z),Z++;return Y===null?null:Ud({start:X,end:X+1},Y)}}function a70(J){let $=0,Q=0,X=0,Y=0,Z=0;for(let H=0;H<J.length;H++){if(Z=J.charCodeAt(H),XP(Z))$++;if(tL(Z))Q++;if(qd(Z))X++;if(eL(Z))Y++}let G=$/J.length,q=Q/J.length,U=X/J.length,z=Y/J.length;return{upperPercent:G,lowerPercent:q,alphaPercent:U,numericPercent:z}}function r70(J){let{upperPercent:$,lowerPercent:Q}=J;return Q===0&&$>0.6}function i70(J){let{upperPercent:$,lowerPercent:Q,alphaPercent:X,numericPercent:Y}=J;return Q>0.2&&$<0.8&&X>0.6&&Y<0.2}function n70(J){let $=0,Q=0,X=0,Y=0;for(let Z=0;Z<J.length;Z++){if(X=J.charCodeAt(Z),XP(X))$++;if(tL(X))Q++;if(d70(X))Y++}if(($===0||Q===0)&&Y===0)return J.length<=30;else return $<=5}function Hd(J,$){if(!$)return null;if($=$.trim(),$.length===0)return null;if(!n70(J))return null;if($.length>60)return null;let Q=a70($);if(!i70(Q)){if(!r70(Q))return null;$=$.toLowerCase()}let X=null,Y=0;J=J.toLowerCase();while(Y<$.length&&(X=nL(J,$,0,Y))===null)Y=zd($,Y+1);return X}function Jk(J,$,Q=!1){if(typeof J!=="string"||typeof $!=="string")return null;let X=Xd.get(J);if(!X)X=new RegExp(VS(J),"i"),Xd.set(J,X);let Y=X.exec($);if(Y)return[{start:Y.index,end:Y.index+Y[0].length}];return Q?t70(J,$):o70(J,$)}function jd(J,$){let Q=CY(J,J.toLowerCase(),0,$,$.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Q?$k(Q):null}function Vd(J,$,Q,X,Y,Z){let G=Math.min(13,J.length);for(;Q<G;Q++){let q=CY(J,$,Q,X,Y,Z,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return q}return[0,Z]}function $k(J){if(typeof J==="undefined")return[];let $=[],Q=J[1];for(let X=J.length-1;X>1;X--){let Y=J[X]+Q,Z=$[$.length-1];if(Z&&Z.end===Y)Z.end=Y+1;else $.push({start:Y,end:Y+1})}return $}function Qk(){let J=[],$=[];for(let Q=0;Q<=SY;Q++)$[Q]=0;for(let Q=0;Q<=SY;Q++)J.push($.slice(0));return J}function Wd(J){let $=[];for(let Q=0;Q<=J;Q++)$[Q]=0;return $}function rL(J,$,Q,X,Y){function Z(q,U,z=" "){while(q.length<U)q=z+q;return q}let G=` |   |${X.split("").map((q)=>Z(q,3)).join("|")}
`;for(let q=0;q<=Q;q++){if(q===0)G+=" |";else G+=`${$[q-1]}|`;G+=J[q].slice(0,Y+1).map((U)=>Z(U.toString(),3)).join("|")+`
`}return G}function J90(J,$,Q,X){J=J.substr($),Q=Q.substr(X),console.log(rL(bY,J,J.length,Q,Q.length)),console.log(rL(Fj,J,J.length,Q,Q.length)),console.log(rL(d$,J,J.length,Q,Q.length))}function $P(J,$){if($<0||$>=J.length)return!1;let Q=J.codePointAt($);switch(Q){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:if(Yz(Q))return!0;return!1}}function Yd(J,$){if($<0||$>=J.length)return!1;switch(J.charCodeAt($)){case 32:case 9:return!0;default:return!1}}function QP(J,$,Q){return $[J]!==Q[J]}function $90(J,$,Q,X,Y,Z,G=!1){while($<Q&&Y<Z){if(J[$]===X[Y]){if(G)Bd[$]=Y;$+=1}Y+=1}return $===Q}class d2{constructor(J,$){this.firstMatchCanBeWeak=J,this.boostFullMatch=$}}function CY(J,$,Q,X,Y,Z,G=d2.default){let q=J.length>SY?SY:J.length,U=X.length>SY?SY:X.length;if(Q>=q||Z>=U||q-Q>U-Z)return;if(!$90($,Q,q,Y,Z,U,!0))return;Q90(q,U,Q,Z,$,Y);let z=1,H=1,j=Q,V=Z,W=[!1];for(z=1,j=Q;j<q;z++,j++){let D=Bd[j],R=oL[j],M=j+1<q?oL[j+1]:U;for(H=D-Z+1,V=D;V<M;H++,V++){let _=Number.MIN_SAFE_INTEGER,T=!1;if(V<=R)_=X90(J,$,j,Q,X,Y,V,U,Z,d$[z-1][H-1]===0,W);let w=0;if(_!==Number.MAX_SAFE_INTEGER)T=!0,w=_+bY[z-1][H-1];let b=V>D,S=b?bY[z][H-1]+(d$[z][H-1]>0?-5:0):0,g=V>D+1&&d$[z][H-1]>0,c=g?bY[z][H-2]+(d$[z][H-2]>0?-5:0):0;if(g&&(!b||c>=S)&&(!T||c>=w))bY[z][H]=c,Fj[z][H]=3,d$[z][H]=0;else if(b&&(!T||S>=w))bY[z][H]=S,Fj[z][H]=2,d$[z][H]=0;else if(T)bY[z][H]=w,Fj[z][H]=1,d$[z][H]=d$[z-1][H-1]+1;else throw new Error("not possible")}}if(e70)J90(J,Q,X,Z);if(!W[0]&&!G.firstMatchCanBeWeak)return;z--,H--;let B=[bY[z][H],Z],K=0,P=0;while(z>=1){let D=H;do{let R=Fj[z][D];if(R===3)D=D-2;else if(R===2)D=D-1;else break}while(D>=1);if(K>1&&$[Q+z-1]===Y[Z+H-1]&&!QP(D+Z-1,X,Y)&&K+1>d$[z][D])D=H;if(D===H)K++;else K=1;if(!P)P=D;z--,H=D-1,B.push(H)}if(U===q&&G.boostFullMatch)B[0]+=2;let A=P-q;return B[0]-=A,B}function Q90(J,$,Q,X,Y,Z){let G=J-1,q=$-1;while(G>=Q&&q>=X){if(Y[G]===Z[q])oL[G]=q,G--;q--}}function X90(J,$,Q,X,Y,Z,G,q,U,z,H){if($[Q]!==Z[G])return Number.MIN_SAFE_INTEGER;let j=1,V=!1;if(G===Q-X)j=J[Q]===Y[G]?7:5;else if(QP(G,Y,Z)&&(G===0||!QP(G-1,Y,Z)))j=J[Q]===Y[G]?7:5,V=!0;else if($P(Z,G)&&(G===0||!$P(Z,G-1)))j=5;else if($P(Z,G-1)||Yd(Z,G-1))j=5,V=!0;if(j>1&&Q===X)H[0]=!0;if(!V)V=QP(G,Y,Z)||$P(Z,G-1)||Yd(Z,G-1);if(Q===X){if(G>U)j-=V?3:5}else if(z)j+=V?2:0;else j+=V?0:1;if(G+1===q)j-=V?3:5;return j}function Fd(J,$,Q,X,Y,Z,G){return Y90(J,$,Q,X,Y,Z,!0,G)}function Y90(J,$,Q,X,Y,Z,G,q){let U=CY(J,$,Q,X,Y,Z,q);if(U&&!G)return U;if(J.length>=3){let z=Math.min(7,J.length-1);for(let H=Q+1;H<z;H++){let j=Z90(J,H);if(j){let V=CY(j,j.toLowerCase(),Q,X,Y,Z,q);if(V){if(V[0]-=3,!U||V[0]>U[0])U=V}}}}return U}function Z90(J,$){if($+1>=J.length)return;let Q=J[$],X=J[$+1];if(Q===X)return;return J.slice(0,$)+X+Q+J.slice($+2)}var Kx0,Kj,s70,o70,t70,Xd,SY=128,Bd,oL,d$,bY,Fj,e70=!1,v4;var vY=N(()=>{jJ();Qd();t0();Kx0=Gd.bind(void 0,!1),Kj=Gd.bind(void 0,!0);s70=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach((J)=>s70.add(J.charCodeAt(0)));o70=Zd(Kj,Hd,c70),t70=Zd(Kj,Hd,l70),Xd=new fQ(1e4);Bd=Wd(2*SY),oL=Wd(2*SY),d$=Qk(),bY=Qk(),Fj=Qk();(function(J){J.Default=[-100,0];function $(Q){return!Q||Q.length===2&&Q[0]===-100&&Q[1]===0}J.isDefault=$})(v4||(v4={}));d2.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}});function Kd(J){return J.replace(q90,($,Q)=>Q?$:`\\${$}`)}function Ad(J){return J.replace(U90,($)=>`\\${$}`)}function YP(J){if(J.indexOf(G90)===-1)return J;return J.replace(z90,($,Q,X,Y)=>X?$:Q||Y||"")}function Pd(J){if(!J)return"";return J.replace(/\$\((.*?)\)/g,($,Q)=>` ${Q} `).trim()}function N3(J){Xk.lastIndex=0;let $="",Q=[],X=0;while(!0){let Y=Xk.lastIndex,Z=Xk.exec(J),G=J.substring(Y,Z===null||Z===void 0?void 0:Z.index);if(G.length>0){$+=G;for(let q=0;q<G.length;q++)Q.push(X)}if(!Z)break;X+=Z[0].length}return{text:$,iconOffsets:Q}}function ZP(J,$,Q=!1){let{text:X,iconOffsets:Y}=$;if(!Y||Y.length===0)return Jk(J,X,Q);let Z=dX(X," "),G=X.length-Z.length,q=Jk(J,Z,Q);if(q)for(let U of q){let z=Y[U.start+G]+G;U.start+=z,U.end+=z}return q}var G90="$(",Yk,q90,U90,z90,Xk;var T3=N(()=>{vY();t0();H5();Yk=new RegExp(`\\$\\(${b0.iconNameExpression}(?:${b0.iconModifierExpression})?\\)`,"g"),q90=new RegExp(`(\\\\)?${Yk.source}`,"g");U90=new RegExp(`\\\\${Yk.source}`,"g");z90=new RegExp(`(\\s)?(\\\\)?${Yk.source}(\\s)?`,"g");Xk=new RegExp(`\\$\\(${b0.iconNameCharacter}+\\)`,"g")});class w3{constructor(J="",$=!1){var Q,X,Y;if(this.value=J,typeof this.value!=="string")throw t4("value");if(typeof $==="boolean")this.isTrusted=$,this.supportThemeIcons=!1,this.supportHtml=!1;else this.isTrusted=(Q=$.isTrusted)!==null&&Q!==void 0?Q:void 0,this.supportThemeIcons=(X=$.supportThemeIcons)!==null&&X!==void 0?X:!1,this.supportHtml=(Y=$.supportHtml)!==null&&Y!==void 0?Y:!1}appendText(J,$=0){return this.value+=H90(this.supportThemeIcons?Kd(J):J).replace(/([ \t]+)/g,(Q,X)=>"&nbsp;".repeat(X.length)).replace(/\>/gm,"\\>").replace(/\n/g,$===1?"\\\n":`

`),this}appendMarkdown(J){return this.value+=J,this}appendCodeblock(J,$){return this.value+=`
${j90($,J)}
`,this}appendLink(J,$,Q){if(this.value+="[",this.value+=this._escape($,"]"),this.value+="](",this.value+=this._escape(String(J),")"),Q)this.value+=` "${this._escape(this._escape(Q,'"'),")")}"`;return this.value+=")",this}_escape(J,$){let Q=new RegExp(o8($),"g");return J.replace(Q,(X,Y)=>{if(J.charAt(Y-1)!=="\\")return`\\${X}`;else return X})}}function AX(J){if(J instanceof w3)return!0;else if(J&&typeof J==="object")return typeof J.value==="string"&&(typeof J.isTrusted==="boolean"||typeof J.isTrusted==="object"||J.isTrusted===void 0)&&(typeof J.supportThemeIcons==="boolean"||J.supportThemeIcons===void 0);return!1}function Dd(J,$){if(J===$)return!0;else if(!J||!$)return!1;else return J.value===$.value&&J.isTrusted===$.isTrusted&&J.supportThemeIcons===$.supportThemeIcons&&J.supportHtml===$.supportHtml&&(J.baseUri===$.baseUri||!!J.baseUri&&!!$.baseUri&&bu(I0.from(J.baseUri),I0.from($.baseUri)))}function H90(J){return J.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function j90(J,$){var Q,X;let Y=(X=(Q=J.match(/^`+/gm))===null||Q===void 0?void 0:Q.reduce((G,q)=>G.length>q.length?G:q).length)!==null&&X!==void 0?X:0,Z=Y>=3?Y+1:3;return[`${"`".repeat(Z)}${$}`,J,`${"`".repeat(Z)}`].join(`
`)}function Aj(J){return J.replace(/"/g,"&quot;")}function GP(J){if(!J)return J;return J.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function Rd(J){let $=[],Q=J.split("|").map((Y)=>Y.trim());J=Q[0];let X=Q[1];if(X){let Y=/height=(\d+)/.exec(X),Z=/width=(\d+)/.exec(X),G=Y?Y[1]:"",q=Z?Z[1]:"",U=isFinite(parseInt(q)),z=isFinite(parseInt(G));if(U)$.push(`width="${q}"`);if(z)$.push(`height="${G}"`)}return{href:J,dimensions:$}}var s2=N(()=>{P1();T3();v$();t0();o6()});class qP{constructor(J){this._prefix=J,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}var Zk;var Gk=N(()=>{Zk=new qP("id#")});var qk={};DZ(qk,{walkTokens:()=>w90,use:()=>T90,setOptions:()=>N90,parser:()=>O90,parseInline:()=>_90,parse:()=>M90,options:()=>R90,marked:()=>h4,lexer:()=>D90,getDefaults:()=>P90,Tokenizer:()=>A90,TextRenderer:()=>K90,Slugger:()=>F90,Renderer:()=>B90,Parser:()=>W90,Lexer:()=>V90});var Y7,V90,W90,B90,F90,K90,A90,P90,D90,h4,R90,M90,_90,O90,N90,T90,w90;var Md=N(()=>{Y7={};(function(){function J($,Q){Q(Y7)}J.amd=!0,function($,Q){typeof J==="function"&&J.amd?J(["exports"],Q):typeof qk==="object"&&typeof L90!=="undefined"?Q(qk):($=typeof globalThis!=="undefined"?globalThis:$||self,Q($.marked={}))}(this,function($){function Q(o,s){for(var d=0;d<s.length;d++){var k=s[d];if(k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k)k.writable=!0;Object.defineProperty(o,k.key,k)}}function X(o,s,d){if(s)Q(o.prototype,s);if(d)Q(o,d);return Object.defineProperty(o,"prototype",{writable:!1}),o}function Y(o,s){if(!o)return;if(typeof o==="string")return Z(o,s);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor)d=o.constructor.name;if(d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Z(o,s)}function Z(o,s){if(s==null||s>o.length)s=o.length;for(var d=0,k=new Array(s);d<s;d++)k[d]=o[d];return k}function G(o,s){var d=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(d)return(d=d.call(o)).next.bind(d);if(Array.isArray(o)||(d=Y(o))||s&&o&&typeof o.length==="number"){if(d)o=d;var k=0;return function(){if(k>=o.length)return{done:!0};return{done:!1,value:o[k++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=q();function U(o){$.defaults=o}var z=/[&<>"']/,H=/[&<>"']/g,j=/[<>"']|&(?!#?\w+;)/,V=/[<>"']|&(?!#?\w+;)/g,W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B=function o(s){return W[s]};function K(o,s){if(s){if(z.test(o))return o.replace(H,B)}else if(j.test(o))return o.replace(V,B);return o}var P=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function A(o){return o.replace(P,function(s,d){if(d=d.toLowerCase(),d==="colon")return":";if(d.charAt(0)==="#")return d.charAt(1)==="x"?String.fromCharCode(parseInt(d.substring(2),16)):String.fromCharCode(+d.substring(1));return""})}var D=/(^|[^\[])\^/g;function R(o,s){o=typeof o==="string"?o:o.source,s=s||"";var d={replace:function k(x,p){return p=p.source||p,p=p.replace(D,"$1"),o=o.replace(x,p),d},getRegex:function k(){return new RegExp(o,s)}};return d}var M=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function T(o,s,d){if(o){var k;try{k=decodeURIComponent(A(d)).replace(M,"").toLowerCase()}catch(x){return null}if(k.indexOf("javascript:")===0||k.indexOf("vbscript:")===0||k.indexOf("data:")===0)return null}if(s&&!_.test(d))d=c(s,d);try{d=encodeURI(d).replace(/%25/g,"%")}catch(x){return null}return d}var w={},b=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function c(o,s){if(!w[" "+o])if(b.test(o))w[" "+o]=o+"/";else w[" "+o]=Y0(o,"/",!0);o=w[" "+o];var d=o.indexOf(":")===-1;if(s.substring(0,2)==="//"){if(d)return s;return o.replace(S,"$1")+s}else if(s.charAt(0)==="/"){if(d)return s;return o.replace(g,"$1")+s}else return o+s}var C={exec:function o(){}};function u(o){var s=1,d,k;for(;s<arguments.length;s++){d=arguments[s];for(k in d)if(Object.prototype.hasOwnProperty.call(d,k))o[k]=d[k]}return o}function i(o,s){var d=o.replace(/\|/g,function(p,f,t){var W0=!1,k0=f;while(--k0>=0&&t[k0]==="\\")W0=!W0;if(W0)return"|";else return" |"}),k=d.split(/ \|/),x=0;if(!k[0].trim())k.shift();if(k.length>0&&!k[k.length-1].trim())k.pop();if(k.length>s)k.splice(s);else while(k.length<s)k.push("");for(;x<k.length;x++)k[x]=k[x].trim().replace(/\\\|/g,"|");return k}function Y0(o,s,d){var k=o.length;if(k===0)return"";var x=0;while(x<k){var p=o.charAt(k-x-1);if(p===s&&!d)x++;else if(p!==s&&d)x++;else break}return o.slice(0,k-x)}function P0(o,s){if(o.indexOf(s[1])===-1)return-1;var d=o.length,k=0,x=0;for(;x<d;x++)if(o[x]==="\\")x++;else if(o[x]===s[0])k++;else if(o[x]===s[1]){if(k--,k<0)return x}return-1}function R0(o){if(o&&o.sanitize&&!o.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T0(o,s){if(s<1)return"";var d="";while(s>1){if(s&1)d+=o;s>>=1,o+=o}return d+o}function A0(o,s,d,k){var x=s.href,p=s.title?K(s.title):null,f=o[1].replace(/\\([\[\]])/g,"$1");if(o[0].charAt(0)!=="!"){k.state.inLink=!0;var t={type:"link",raw:d,href:x,title:p,text:f,tokens:k.inlineTokens(f)};return k.state.inLink=!1,t}return{type:"image",raw:d,href:x,title:p,text:K(f)}}function f0(o,s){var d=o.match(/^(\s+)(?:```)/);if(d===null)return s;var k=d[1];return s.split(`
`).map(function(x){var p=x.match(/^\s+/);if(p===null)return x;var f=p[0];if(f.length>=k.length)return x.slice(k.length);return x}).join(`
`)}var d0=function(){function o(d){this.options=d||$.defaults}var s=o.prototype;return s.space=function d(k){var x=this.rules.block.newline.exec(k);if(x&&x[0].length>0)return{type:"space",raw:x[0]}},s.code=function d(k){var x=this.rules.block.code.exec(k);if(x){var p=x[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:x[0],codeBlockStyle:"indented",text:!this.options.pedantic?Y0(p,`
`):p}}},s.fences=function d(k){var x=this.rules.block.fences.exec(k);if(x){var p=x[0],f=f0(p,x[3]||"");return{type:"code",raw:p,lang:x[2]?x[2].trim():x[2],text:f}}},s.heading=function d(k){var x=this.rules.block.heading.exec(k);if(x){var p=x[2].trim();if(/#$/.test(p)){var f=Y0(p,"#");if(this.options.pedantic)p=f.trim();else if(!f||/ $/.test(f))p=f.trim()}return{type:"heading",raw:x[0],depth:x[1].length,text:p,tokens:this.lexer.inline(p)}}},s.hr=function d(k){var x=this.rules.block.hr.exec(k);if(x)return{type:"hr",raw:x[0]}},s.blockquote=function d(k){var x=this.rules.block.blockquote.exec(k);if(x){var p=x[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:x[0],tokens:this.lexer.blockTokens(p,[]),text:p}}},s.list=function d(k){var x=this.rules.block.list.exec(k);if(x){var p,f,t,W0,k0,C0,q1,Z1,o1,s1,a0,C6,v6=x[1].trim(),Y4=v6.length>1,b1={type:"list",raw:"",ordered:Y4,start:Y4?+v6.slice(0,-1):"",loose:!1,items:[]};if(v6=Y4?"\\d{1,9}\\"+v6.slice(-1):"\\"+v6,this.options.pedantic)v6=Y4?v6:"[*+-]";var X5=new RegExp("^( {0,3}"+v6+")((?:[\t ][^\\n]*)?(?:\\n|$))");while(k){if(C6=!1,!(x=X5.exec(k)))break;if(this.rules.block.hr.test(k))break;if(p=x[0],k=k.substring(p.length),Z1=x[2].split(`
`,1)[0],o1=k.split(`
`,1)[0],this.options.pedantic)W0=2,a0=Z1.trimLeft();else W0=x[2].search(/[^ ]/),W0=W0>4?1:W0,a0=Z1.slice(W0),W0+=x[1].length;if(C0=!1,!Z1&&/^ *$/.test(o1))p+=o1+`
`,k=k.substring(o1.length+1),C6=!0;if(!C6){var BZ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),FZ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),a4=new RegExp("^ {0,"+Math.min(3,W0-1)+"}(?:```|~~~)"),yX=new RegExp("^ {0,"+Math.min(3,W0-1)+"}#");while(k){if(s1=k.split(`
`,1)[0],Z1=s1,this.options.pedantic)Z1=Z1.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(a4.test(Z1))break;if(yX.test(Z1))break;if(BZ.test(Z1))break;if(FZ.test(k))break;if(Z1.search(/[^ ]/)>=W0||!Z1.trim())a0+=`
`+Z1.slice(W0);else if(!C0)a0+=`
`+Z1;else break;if(!C0&&!Z1.trim())C0=!0;p+=s1+`
`,k=k.substring(s1.length+1)}}if(!b1.loose){if(q1)b1.loose=!0;else if(/\n *\n *$/.test(p))q1=!0}if(this.options.gfm){if(f=/^\[[ xX]\] /.exec(a0),f)t=f[0]!=="[ ] ",a0=a0.replace(/^\[[ xX]\] +/,"")}b1.items.push({type:"list_item",raw:p,task:!!f,checked:t,loose:!1,text:a0}),b1.raw+=p}b1.items[b1.items.length-1].raw=p.trimRight(),b1.items[b1.items.length-1].text=a0.trimRight(),b1.raw=b1.raw.trimRight();var KZ=b1.items.length;for(k0=0;k0<KZ;k0++){this.lexer.state.top=!1,b1.items[k0].tokens=this.lexer.blockTokens(b1.items[k0].text,[]);var AZ=b1.items[k0].tokens.filter(function(PZ){return PZ.type==="space"}),kG=AZ.every(function(PZ){var gR=PZ.raw.split(""),sJ=0;for(var xU=G(gR),bU;!(bU=xU()).done;){var WW=bU.value;if(WW===`
`)sJ+=1;if(sJ>1)return!0}return!1});if(!b1.loose&&AZ.length&&kG)b1.loose=!0,b1.items[k0].loose=!0}return b1}},s.html=function d(k){var x=this.rules.block.html.exec(k);if(x){var p={type:"html",raw:x[0],pre:!this.options.sanitizer&&(x[1]==="pre"||x[1]==="script"||x[1]==="style"),text:x[0]};if(this.options.sanitize){var f=this.options.sanitizer?this.options.sanitizer(x[0]):K(x[0]);p.type="paragraph",p.text=f,p.tokens=this.lexer.inline(f)}return p}},s.def=function d(k){var x=this.rules.block.def.exec(k);if(x){if(x[3])x[3]=x[3].substring(1,x[3].length-1);var p=x[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:p,raw:x[0],href:x[2],title:x[3]}}},s.table=function d(k){var x=this.rules.block.table.exec(k);if(x){var p={type:"table",header:i(x[1]).map(function(q1){return{text:q1}}),align:x[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:x[3]&&x[3].trim()?x[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(p.header.length===p.align.length){p.raw=x[0];var f=p.align.length,t,W0,k0,C0;for(t=0;t<f;t++)if(/^ *-+: *$/.test(p.align[t]))p.align[t]="right";else if(/^ *:-+: *$/.test(p.align[t]))p.align[t]="center";else if(/^ *:-+ *$/.test(p.align[t]))p.align[t]="left";else p.align[t]=null;f=p.rows.length;for(t=0;t<f;t++)p.rows[t]=i(p.rows[t],p.header.length).map(function(q1){return{text:q1}});f=p.header.length;for(W0=0;W0<f;W0++)p.header[W0].tokens=this.lexer.inline(p.header[W0].text);f=p.rows.length;for(W0=0;W0<f;W0++){C0=p.rows[W0];for(k0=0;k0<C0.length;k0++)C0[k0].tokens=this.lexer.inline(C0[k0].text)}return p}}},s.lheading=function d(k){var x=this.rules.block.lheading.exec(k);if(x)return{type:"heading",raw:x[0],depth:x[2].charAt(0)==="="?1:2,text:x[1],tokens:this.lexer.inline(x[1])}},s.paragraph=function d(k){var x=this.rules.block.paragraph.exec(k);if(x){var p=x[1].charAt(x[1].length-1)===`
`?x[1].slice(0,-1):x[1];return{type:"paragraph",raw:x[0],text:p,tokens:this.lexer.inline(p)}}},s.text=function d(k){var x=this.rules.block.text.exec(k);if(x)return{type:"text",raw:x[0],text:x[0],tokens:this.lexer.inline(x[0])}},s.escape=function d(k){var x=this.rules.inline.escape.exec(k);if(x)return{type:"escape",raw:x[0],text:K(x[1])}},s.tag=function d(k){var x=this.rules.inline.tag.exec(k);if(x){if(!this.lexer.state.inLink&&/^<a /i.test(x[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(x[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(x[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(x[0]))this.lexer.state.inRawBlock=!1;return{type:this.options.sanitize?"text":"html",raw:x[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(x[0]):K(x[0]):x[0]}}},s.link=function d(k){var x=this.rules.inline.link.exec(k);if(x){var p=x[2].trim();if(!this.options.pedantic&&/^</.test(p)){if(!/>$/.test(p))return;var f=Y0(p.slice(0,-1),"\\");if((p.length-f.length)%2===0)return}else{var t=P0(x[2],"()");if(t>-1){var W0=x[0].indexOf("!")===0?5:4,k0=W0+x[1].length+t;x[2]=x[2].substring(0,t),x[0]=x[0].substring(0,k0).trim(),x[3]=""}}var C0=x[2],q1="";if(this.options.pedantic){var Z1=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(C0);if(Z1)C0=Z1[1],q1=Z1[3]}else q1=x[3]?x[3].slice(1,-1):"";if(C0=C0.trim(),/^</.test(C0))if(this.options.pedantic&&!/>$/.test(p))C0=C0.slice(1);else C0=C0.slice(1,-1);return A0(x,{href:C0?C0.replace(this.rules.inline._escapes,"$1"):C0,title:q1?q1.replace(this.rules.inline._escapes,"$1"):q1},x[0],this.lexer)}},s.reflink=function d(k,x){var p;if((p=this.rules.inline.reflink.exec(k))||(p=this.rules.inline.nolink.exec(k))){var f=(p[2]||p[1]).replace(/\s+/g," ");if(f=x[f.toLowerCase()],!f||!f.href){var t=p[0].charAt(0);return{type:"text",raw:t,text:t}}return A0(p,f,p[0],this.lexer)}},s.emStrong=function d(k,x,p){if(p===void 0)p="";var f=this.rules.inline.emStrong.lDelim.exec(k);if(!f)return;if(f[3]&&p.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))return;var t=f[1]||f[2]||"";if(!t||t&&(p===""||this.rules.inline.punctuation.exec(p))){var W0=f[0].length-1,k0,C0,q1=W0,Z1=0,o1=f[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;o1.lastIndex=0,x=x.slice(-1*k.length+W0);while((f=o1.exec(x))!=null){if(k0=f[1]||f[2]||f[3]||f[4]||f[5]||f[6],!k0)continue;if(C0=k0.length,f[3]||f[4]){q1+=C0;continue}else if(f[5]||f[6]){if(W0%3&&!((W0+C0)%3)){Z1+=C0;continue}}if(q1-=C0,q1>0)continue;if(C0=Math.min(C0,C0+q1+Z1),Math.min(W0,C0)%2){var s1=k.slice(1,W0+f.index+C0);return{type:"em",raw:k.slice(0,W0+f.index+C0+1),text:s1,tokens:this.lexer.inlineTokens(s1)}}var a0=k.slice(2,W0+f.index+C0-1);return{type:"strong",raw:k.slice(0,W0+f.index+C0+1),text:a0,tokens:this.lexer.inlineTokens(a0)}}}},s.codespan=function d(k){var x=this.rules.inline.code.exec(k);if(x){var p=x[2].replace(/\n/g," "),f=/[^ ]/.test(p),t=/^ /.test(p)&&/ $/.test(p);if(f&&t)p=p.substring(1,p.length-1);return p=K(p,!0),{type:"codespan",raw:x[0],text:p}}},s.br=function d(k){var x=this.rules.inline.br.exec(k);if(x)return{type:"br",raw:x[0]}},s.del=function d(k){var x=this.rules.inline.del.exec(k);if(x)return{type:"del",raw:x[0],text:x[2],tokens:this.lexer.inlineTokens(x[2])}},s.autolink=function d(k,x){var p=this.rules.inline.autolink.exec(k);if(p){var f,t;if(p[2]==="@")f=K(this.options.mangle?x(p[1]):p[1]),t="mailto:"+f;else f=K(p[1]),t=f;return{type:"link",raw:p[0],text:f,href:t,tokens:[{type:"text",raw:f,text:f}]}}},s.url=function d(k,x){var p;if(p=this.rules.inline.url.exec(k)){var f,t;if(p[2]==="@")f=K(this.options.mangle?x(p[0]):p[0]),t="mailto:"+f;else{var W0;do W0=p[0],p[0]=this.rules.inline._backpedal.exec(p[0])[0];while(W0!==p[0]);if(f=K(p[0]),p[1]==="www.")t="http://"+f;else t=f}return{type:"link",raw:p[0],text:f,href:t,tokens:[{type:"text",raw:f,text:f}]}}},s.inlineText=function d(k,x){var p=this.rules.inline.text.exec(k);if(p){var f;if(this.lexer.state.inRawBlock)f=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(p[0]):K(p[0]):p[0];else f=K(this.options.smartypants?x(p[0]):p[0]);return{type:"text",raw:p[0],text:f}}},o}(),x0={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:C,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};x0._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,x0._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,x0.def=R(x0.def).replace("label",x0._label).replace("title",x0._title).getRegex(),x0.bullet=/(?:[*+-]|\d{1,9}[.)])/,x0.listItemStart=R(/^( *)(bull) */).replace("bull",x0.bullet).getRegex(),x0.list=R(x0.list).replace(/bull/g,x0.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x0.def.source+")").getRegex(),x0._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x0._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x0.html=R(x0.html,"i").replace("comment",x0._comment).replace("tag",x0._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x0.paragraph=R(x0._paragraph).replace("hr",x0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0._tag).getRegex(),x0.blockquote=R(x0.blockquote).replace("paragraph",x0.paragraph).getRegex(),x0.normal=u({},x0),x0.gfm=u({},x0.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x0.gfm.table=R(x0.gfm.table).replace("hr",x0.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0._tag).getRegex(),x0.gfm.paragraph=R(x0._paragraph).replace("hr",x0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",x0.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0._tag).getRegex(),x0.pedantic=u({},x0.normal,{html:R(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x0._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,paragraph:R(x0.normal._paragraph).replace("hr",x0.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x0.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z0={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:C,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:C,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};z0._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",z0.punctuation=R(z0.punctuation).replace(/punctuation/g,z0._punctuation).getRegex(),z0.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,z0.escapedEmSt=/\\\*|\\_/g,z0._comment=R(x0._comment).replace("(?:-->|$)","-->").getRegex(),z0.emStrong.lDelim=R(z0.emStrong.lDelim).replace(/punct/g,z0._punctuation).getRegex(),z0.emStrong.rDelimAst=R(z0.emStrong.rDelimAst,"g").replace(/punct/g,z0._punctuation).getRegex(),z0.emStrong.rDelimUnd=R(z0.emStrong.rDelimUnd,"g").replace(/punct/g,z0._punctuation).getRegex(),z0._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z0._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z0._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z0.autolink=R(z0.autolink).replace("scheme",z0._scheme).replace("email",z0._email).getRegex(),z0._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z0.tag=R(z0.tag).replace("comment",z0._comment).replace("attribute",z0._attribute).getRegex(),z0._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z0._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z0._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z0.link=R(z0.link).replace("label",z0._label).replace("href",z0._href).replace("title",z0._title).getRegex(),z0.reflink=R(z0.reflink).replace("label",z0._label).replace("ref",x0._label).getRegex(),z0.nolink=R(z0.nolink).replace("ref",x0._label).getRegex(),z0.reflinkSearch=R(z0.reflinkSearch,"g").replace("reflink",z0.reflink).replace("nolink",z0.nolink).getRegex(),z0.normal=u({},z0),z0.pedantic=u({},z0.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",z0._label).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z0._label).getRegex()}),z0.gfm=u({},z0.normal,{escape:R(z0.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),z0.gfm.url=R(z0.gfm.url,"i").replace("email",z0.gfm._extended_email).getRegex(),z0.breaks=u({},z0.gfm,{br:R(z0.br).replace("{2,}","*").getRegex(),text:R(z0.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function B8(o){return o.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function C5(o){var s="",d,k,x=o.length;for(d=0;d<x;d++){if(k=o.charCodeAt(d),Math.random()>0.5)k="x"+k.toString(16);s+="&#"+k+";"}return s}var F8=function(){function o(d){this.tokens=[],this.tokens.links=Object.create(null),this.options=d||$.defaults,this.options.tokenizer=this.options.tokenizer||new d0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var k={block:x0.normal,inline:z0.normal};if(this.options.pedantic)k.block=x0.pedantic,k.inline=z0.pedantic;else if(this.options.gfm)if(k.block=x0.gfm,this.options.breaks)k.inline=z0.breaks;else k.inline=z0.gfm;this.tokenizer.rules=k}o.lex=function d(k,x){var p=new o(x);return p.lex(k)},o.lexInline=function d(k,x){var p=new o(x);return p.inlineTokens(k)};var s=o.prototype;return s.lex=function d(k){k=k.replace(/\r\n|\r/g,`
`),this.blockTokens(k,this.tokens);var x;while(x=this.inlineQueue.shift())this.inlineTokens(x.src,x.tokens);return this.tokens},s.blockTokens=function d(k,x){var p=this;if(x===void 0)x=[];if(this.options.pedantic)k=k.replace(/\t/g,"    ").replace(/^ +$/gm,"");else k=k.replace(/^( *)(\t+)/gm,function(q1,Z1,o1){return Z1+"    ".repeat(o1.length)});var f,t,W0,k0;while(k){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(q1){if(f=q1.call({lexer:p},k,x))return k=k.substring(f.raw.length),x.push(f),!0;return!1}))continue;if(f=this.tokenizer.space(k)){if(k=k.substring(f.raw.length),f.raw.length===1&&x.length>0)x[x.length-1].raw+=`
`;else x.push(f);continue}if(f=this.tokenizer.code(k)){if(k=k.substring(f.raw.length),t=x[x.length-1],t&&(t.type==="paragraph"||t.type==="text"))t.raw+=`
`+f.raw,t.text+=`
`+f.text,this.inlineQueue[this.inlineQueue.length-1].src=t.text;else x.push(f);continue}if(f=this.tokenizer.fences(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.heading(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.hr(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.blockquote(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.list(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.html(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.def(k)){if(k=k.substring(f.raw.length),t=x[x.length-1],t&&(t.type==="paragraph"||t.type==="text"))t.raw+=`
`+f.raw,t.text+=`
`+f.raw,this.inlineQueue[this.inlineQueue.length-1].src=t.text;else if(!this.tokens.links[f.tag])this.tokens.links[f.tag]={href:f.href,title:f.title};continue}if(f=this.tokenizer.table(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.lheading(k)){k=k.substring(f.raw.length),x.push(f);continue}if(W0=k,this.options.extensions&&this.options.extensions.startBlock)(function(){var q1=1/0,Z1=k.slice(1),o1=void 0;if(p.options.extensions.startBlock.forEach(function(s1){if(o1=s1.call({lexer:this},Z1),typeof o1==="number"&&o1>=0)q1=Math.min(q1,o1)}),q1<1/0&&q1>=0)W0=k.substring(0,q1+1)})();if(this.state.top&&(f=this.tokenizer.paragraph(W0))){if(t=x[x.length-1],k0&&t.type==="paragraph")t.raw+=`
`+f.raw,t.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=t.text;else x.push(f);k0=W0.length!==k.length,k=k.substring(f.raw.length);continue}if(f=this.tokenizer.text(k)){if(k=k.substring(f.raw.length),t=x[x.length-1],t&&t.type==="text")t.raw+=`
`+f.raw,t.text+=`
`+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=t.text;else x.push(f);continue}if(k){var C0="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(C0);break}else throw new Error(C0)}}return this.state.top=!0,x},s.inline=function d(k,x){if(x===void 0)x=[];return this.inlineQueue.push({src:k,tokens:x}),x},s.inlineTokens=function d(k,x){var p=this;if(x===void 0)x=[];var f,t,W0,k0=k,C0,q1,Z1;if(this.tokens.links){var o1=Object.keys(this.tokens.links);if(o1.length>0){while((C0=this.tokenizer.rules.inline.reflinkSearch.exec(k0))!=null)if(o1.includes(C0[0].slice(C0[0].lastIndexOf("[")+1,-1)))k0=k0.slice(0,C0.index)+"["+T0("a",C0[0].length-2)+"]"+k0.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((C0=this.tokenizer.rules.inline.blockSkip.exec(k0))!=null)k0=k0.slice(0,C0.index)+"["+T0("a",C0[0].length-2)+"]"+k0.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((C0=this.tokenizer.rules.inline.escapedEmSt.exec(k0))!=null)k0=k0.slice(0,C0.index)+"++"+k0.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);while(k){if(!q1)Z1="";if(q1=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(a0){if(f=a0.call({lexer:p},k,x))return k=k.substring(f.raw.length),x.push(f),!0;return!1}))continue;if(f=this.tokenizer.escape(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.tag(k)){if(k=k.substring(f.raw.length),t=x[x.length-1],t&&f.type==="text"&&t.type==="text")t.raw+=f.raw,t.text+=f.text;else x.push(f);continue}if(f=this.tokenizer.link(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.reflink(k,this.tokens.links)){if(k=k.substring(f.raw.length),t=x[x.length-1],t&&f.type==="text"&&t.type==="text")t.raw+=f.raw,t.text+=f.text;else x.push(f);continue}if(f=this.tokenizer.emStrong(k,k0,Z1)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.codespan(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.br(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.del(k)){k=k.substring(f.raw.length),x.push(f);continue}if(f=this.tokenizer.autolink(k,C5)){k=k.substring(f.raw.length),x.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(k,C5))){k=k.substring(f.raw.length),x.push(f);continue}if(W0=k,this.options.extensions&&this.options.extensions.startInline)(function(){var a0=1/0,C6=k.slice(1),v6=void 0;if(p.options.extensions.startInline.forEach(function(Y4){if(v6=Y4.call({lexer:this},C6),typeof v6==="number"&&v6>=0)a0=Math.min(a0,v6)}),a0<1/0&&a0>=0)W0=k.substring(0,a0+1)})();if(f=this.tokenizer.inlineText(W0,B8)){if(k=k.substring(f.raw.length),f.raw.slice(-1)!=="_")Z1=f.raw.slice(-1);if(q1=!0,t=x[x.length-1],t&&t.type==="text")t.raw+=f.raw,t.text+=f.text;else x.push(f);continue}if(k){var s1="Infinite loop on byte: "+k.charCodeAt(0);if(this.options.silent){console.error(s1);break}else throw new Error(s1)}}return x},X(o,null,[{key:"rules",get:function d(){return{block:x0,inline:z0}}}]),o}(),I1=function(){function o(d){this.options=d||$.defaults}var s=o.prototype;return s.code=function d(k,x,p){var f=(x||"").match(/\S*/)[0];if(this.options.highlight){var t=this.options.highlight(k,f);if(t!=null&&t!==k)p=!0,k=t}if(k=k.replace(/\n$/,"")+`
`,!f)return"<pre><code>"+(p?k:K(k,!0))+`</code></pre>
`;return'<pre><code class="'+this.options.langPrefix+K(f,!0)+'">'+(p?k:K(k,!0))+`</code></pre>
`},s.blockquote=function d(k){return`<blockquote>
`+k+`</blockquote>
`},s.html=function d(k){return k},s.heading=function d(k,x,p,f){if(this.options.headerIds){var t=this.options.headerPrefix+f.slug(p);return"<h"+x+' id="'+t+'">'+k+"</h"+x+`>
`}return"<h"+x+">"+k+"</h"+x+`>
`},s.hr=function d(){return this.options.xhtml?`<hr/>
`:`<hr>
`},s.list=function d(k,x,p){var f=x?"ol":"ul",t=x&&p!==1?' start="'+p+'"':"";return"<"+f+t+`>
`+k+"</"+f+`>
`},s.listitem=function d(k){return"<li>"+k+`</li>
`},s.checkbox=function d(k){return"<input "+(k?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.paragraph=function d(k){return"<p>"+k+`</p>
`},s.table=function d(k,x){if(x)x="<tbody>"+x+"</tbody>";return`<table>
<thead>
`+k+`</thead>
`+x+`</table>
`},s.tablerow=function d(k){return`<tr>
`+k+`</tr>
`},s.tablecell=function d(k,x){var p=x.header?"th":"td",f=x.align?"<"+p+' align="'+x.align+'">':"<"+p+">";return f+k+("</"+p+`>
`)},s.strong=function d(k){return"<strong>"+k+"</strong>"},s.em=function d(k){return"<em>"+k+"</em>"},s.codespan=function d(k){return"<code>"+k+"</code>"},s.br=function d(){return this.options.xhtml?"<br/>":"<br>"},s.del=function d(k){return"<del>"+k+"</del>"},s.link=function d(k,x,p){if(k=T(this.options.sanitize,this.options.baseUrl,k),k===null)return p;var f='<a href="'+K(k)+'"';if(x)f+=' title="'+x+'"';return f+=">"+p+"</a>",f},s.image=function d(k,x,p){if(k=T(this.options.sanitize,this.options.baseUrl,k),k===null)return p;var f='<img src="'+k+'" alt="'+p+'"';if(x)f+=' title="'+x+'"';return f+=this.options.xhtml?"/>":">",f},s.text=function d(k){return k},o}(),v5=function(){function o(){}var s=o.prototype;return s.strong=function d(k){return k},s.em=function d(k){return k},s.codespan=function d(k){return k},s.del=function d(k){return k},s.html=function d(k){return k},s.text=function d(k){return k},s.link=function d(k,x,p){return""+p},s.image=function d(k,x,p){return""+p},s.br=function d(){return""},o}(),a8=function(){function o(){this.seen={}}var s=o.prototype;return s.serialize=function d(k){return k.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},s.getNextSafeSlug=function d(k,x){var p=k,f=0;if(this.seen.hasOwnProperty(p)){f=this.seen[k];do f++,p=k+"-"+f;while(this.seen.hasOwnProperty(p))}if(!x)this.seen[k]=f,this.seen[p]=0;return p},s.slug=function d(k,x){if(x===void 0)x={};var p=this.serialize(k);return this.getNextSafeSlug(p,x.dryrun)},o}(),h5=function(){function o(d){this.options=d||$.defaults,this.options.renderer=this.options.renderer||new I1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new v5,this.slugger=new a8}o.parse=function d(k,x){var p=new o(x);return p.parse(k)},o.parseInline=function d(k,x){var p=new o(x);return p.parseInline(k)};var s=o.prototype;return s.parse=function d(k,x){if(x===void 0)x=!0;var p="",f,t,W0,k0,C0,q1,Z1,o1,s1,a0,C6,v6,Y4,b1,X5,BZ,FZ,a4,yX,KZ=k.length;for(f=0;f<KZ;f++){if(a0=k[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a0.type]){if(yX=this.options.extensions.renderers[a0.type].call({parser:this},a0),yX!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a0.type)){p+=yX||"";continue}}switch(a0.type){case"space":continue;case"hr":{p+=this.renderer.hr();continue}case"heading":{p+=this.renderer.heading(this.parseInline(a0.tokens),a0.depth,A(this.parseInline(a0.tokens,this.textRenderer)),this.slugger);continue}case"code":{p+=this.renderer.code(a0.text,a0.lang,a0.escaped);continue}case"table":{o1="",Z1="",k0=a0.header.length;for(t=0;t<k0;t++)Z1+=this.renderer.tablecell(this.parseInline(a0.header[t].tokens),{header:!0,align:a0.align[t]});o1+=this.renderer.tablerow(Z1),s1="",k0=a0.rows.length;for(t=0;t<k0;t++){q1=a0.rows[t],Z1="",C0=q1.length;for(W0=0;W0<C0;W0++)Z1+=this.renderer.tablecell(this.parseInline(q1[W0].tokens),{header:!1,align:a0.align[W0]});s1+=this.renderer.tablerow(Z1)}p+=this.renderer.table(o1,s1);continue}case"blockquote":{s1=this.parse(a0.tokens),p+=this.renderer.blockquote(s1);continue}case"list":{C6=a0.ordered,v6=a0.start,Y4=a0.loose,k0=a0.items.length,s1="";for(t=0;t<k0;t++){if(X5=a0.items[t],BZ=X5.checked,FZ=X5.task,b1="",X5.task)if(a4=this.renderer.checkbox(BZ),Y4)if(X5.tokens.length>0&&X5.tokens[0].type==="paragraph"){if(X5.tokens[0].text=a4+" "+X5.tokens[0].text,X5.tokens[0].tokens&&X5.tokens[0].tokens.length>0&&X5.tokens[0].tokens[0].type==="text")X5.tokens[0].tokens[0].text=a4+" "+X5.tokens[0].tokens[0].text}else X5.tokens.unshift({type:"text",text:a4});else b1+=a4;b1+=this.parse(X5.tokens,Y4),s1+=this.renderer.listitem(b1,FZ,BZ)}p+=this.renderer.list(s1,C6,v6);continue}case"html":{p+=this.renderer.html(a0.text);continue}case"paragraph":{p+=this.renderer.paragraph(this.parseInline(a0.tokens));continue}case"text":{s1=a0.tokens?this.parseInline(a0.tokens):a0.text;while(f+1<KZ&&k[f+1].type==="text")a0=k[++f],s1+=`
`+(a0.tokens?this.parseInline(a0.tokens):a0.text);p+=x?this.renderer.paragraph(s1):s1;continue}default:{var AZ='Token with "'+a0.type+'" type was not found.';if(this.options.silent){console.error(AZ);return}else throw new Error(AZ)}}}return p},s.parseInline=function d(k,x){x=x||this.renderer;var p="",f,t,W0,k0=k.length;for(f=0;f<k0;f++){if(t=k[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[t.type]){if(W0=this.options.extensions.renderers[t.type].call({parser:this},t),W0!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(t.type)){p+=W0||"";continue}}switch(t.type){case"escape":{p+=x.text(t.text);break}case"html":{p+=x.html(t.text);break}case"link":{p+=x.link(t.href,t.title,this.parseInline(t.tokens,x));break}case"image":{p+=x.image(t.href,t.title,t.text);break}case"strong":{p+=x.strong(this.parseInline(t.tokens,x));break}case"em":{p+=x.em(this.parseInline(t.tokens,x));break}case"codespan":{p+=x.codespan(t.text);break}case"br":{p+=x.br();break}case"del":{p+=x.del(this.parseInline(t.tokens,x));break}case"text":{p+=x.text(t.text);break}default:{var C0='Token with "'+t.type+'" type was not found.';if(this.options.silent){console.error(C0);return}else throw new Error(C0)}}}return p},o}();function X1(o,s,d){if(typeof o==="undefined"||o===null)throw new Error("marked(): input parameter is undefined or null");if(typeof o!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected");if(typeof s==="function")d=s,s=null;if(s=u({},X1.defaults,s||{}),R0(s),d){var k=s.highlight,x;try{x=F8.lex(o,s)}catch(k0){return d(k0)}var p=function k0(C0){var q1;if(!C0)try{if(s.walkTokens)X1.walkTokens(x,s.walkTokens);q1=h5.parse(x,s)}catch(Z1){C0=Z1}return s.highlight=k,C0?d(C0):d(null,q1)};if(!k||k.length<3)return p();if(delete s.highlight,!x.length)return p();var f=0;if(X1.walkTokens(x,function(k0){if(k0.type==="code")f++,setTimeout(function(){k(k0.text,k0.lang,function(C0,q1){if(C0)return p(C0);if(q1!=null&&q1!==k0.text)k0.text=q1,k0.escaped=!0;if(f--,f===0)p()})},0)}),f===0)p();return}function t(k0){if(k0.message+=`
Please report this to https://github.com/markedjs/marked.`,s.silent)return"<p>An error occurred:</p><pre>"+K(k0.message+"",!0)+"</pre>";throw k0}try{var W0=F8.lex(o,s);if(s.walkTokens){if(s.async)return Promise.all(X1.walkTokens(W0,s.walkTokens)).then(function(){return h5.parse(W0,s)}).catch(t);X1.walkTokens(W0,s.walkTokens)}return h5.parse(W0,s)}catch(k0){t(k0)}}X1.options=X1.setOptions=function(o){return u(X1.defaults,o),U(X1.defaults),X1},X1.getDefaults=q,X1.defaults=$.defaults,X1.use=function(){for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];var k=u.apply(void 0,[{}].concat(s)),x=X1.defaults.extensions||{renderers:{},childTokens:{}},p;s.forEach(function(f){if(f.extensions)p=!0,f.extensions.forEach(function(W0){if(!W0.name)throw new Error("extension name required");if(W0.renderer){var k0=x.renderers?x.renderers[W0.name]:null;if(k0)x.renderers[W0.name]=function(){for(var C0=arguments.length,q1=new Array(C0),Z1=0;Z1<C0;Z1++)q1[Z1]=arguments[Z1];var o1=W0.renderer.apply(this,q1);if(o1===!1)o1=k0.apply(this,q1);return o1};else x.renderers[W0.name]=W0.renderer}if(W0.tokenizer){if(!W0.level||W0.level!=="block"&&W0.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");if(x[W0.level])x[W0.level].unshift(W0.tokenizer);else x[W0.level]=[W0.tokenizer];if(W0.start){if(W0.level==="block")if(x.startBlock)x.startBlock.push(W0.start);else x.startBlock=[W0.start];else if(W0.level==="inline")if(x.startInline)x.startInline.push(W0.start);else x.startInline=[W0.start]}}if(W0.childTokens)x.childTokens[W0.name]=W0.childTokens});if(f.renderer)(function(){var W0=X1.defaults.renderer||new I1,k0=function q1(Z1){var o1=W0[Z1];W0[Z1]=function(){for(var s1=arguments.length,a0=new Array(s1),C6=0;C6<s1;C6++)a0[C6]=arguments[C6];var v6=f.renderer[Z1].apply(W0,a0);if(v6===!1)v6=o1.apply(W0,a0);return v6}};for(var C0 in f.renderer)k0(C0);k.renderer=W0})();if(f.tokenizer)(function(){var W0=X1.defaults.tokenizer||new d0,k0=function q1(Z1){var o1=W0[Z1];W0[Z1]=function(){for(var s1=arguments.length,a0=new Array(s1),C6=0;C6<s1;C6++)a0[C6]=arguments[C6];var v6=f.tokenizer[Z1].apply(W0,a0);if(v6===!1)v6=o1.apply(W0,a0);return v6}};for(var C0 in f.tokenizer)k0(C0);k.tokenizer=W0})();if(f.walkTokens){var t=X1.defaults.walkTokens;k.walkTokens=function(W0){var k0=[];if(k0.push(f.walkTokens.call(this,W0)),t)k0=k0.concat(t.call(this,W0));return k0}}if(p)k.extensions=x;X1.setOptions(k)})},X1.walkTokens=function(o,s){var d=[],k=function f(){var t=p.value;switch(d=d.concat(s.call(X1,t)),t.type){case"table":{for(var W0=G(t.header),k0;!(k0=W0()).done;){var C0=k0.value;d=d.concat(X1.walkTokens(C0.tokens,s))}for(var q1=G(t.rows),Z1;!(Z1=q1()).done;){var o1=Z1.value;for(var s1=G(o1),a0;!(a0=s1()).done;){var C6=a0.value;d=d.concat(X1.walkTokens(C6.tokens,s))}}break}case"list":{d=d.concat(X1.walkTokens(t.items,s));break}default:if(X1.defaults.extensions&&X1.defaults.extensions.childTokens&&X1.defaults.extensions.childTokens[t.type])X1.defaults.extensions.childTokens[t.type].forEach(function(v6){d=d.concat(X1.walkTokens(t[v6],s))});else if(t.tokens)d=d.concat(X1.walkTokens(t.tokens,s))}};for(var x=G(o),p;!(p=x()).done;)k();return d},X1.parseInline=function(o,s){if(typeof o==="undefined"||o===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof o!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected");s=u({},X1.defaults,s||{}),R0(s);try{var d=F8.lexInline(o,s);if(s.walkTokens)X1.walkTokens(d,s.walkTokens);return h5.parseInline(d,s)}catch(k){if(k.message+=`
Please report this to https://github.com/markedjs/marked.`,s.silent)return"<p>An error occurred:</p><pre>"+K(k.message+"",!0)+"</pre>";throw k}},X1.Parser=h5,X1.parser=h5.parse,X1.Renderer=I1,X1.TextRenderer=v5,X1.Lexer=F8,X1.lexer=F8.lex,X1.Tokenizer=d0,X1.Slugger=a8,X1.parse=X1;var{options:Q4,setOptions:X4,use:o7,walkTokens:ZQ,parseInline:T5}=X1,s4=X1,VW=h5.parse,fR=F8.lex;$.Lexer=F8,$.Parser=h5,$.Renderer=I1,$.Slugger=a8,$.TextRenderer=v5,$.Tokenizer=d0,$.getDefaults=q,$.lexer=fR,$.marked=X1,$.options=Q4,$.parse=s4,$.parseInline=T5,$.parser=VW,$.setOptions=X4,$.use=o7,$.walkTokens=ZQ,Object.defineProperty($,"__esModule",{value:!0})})})();V90=Y7.Lexer||qk.Lexer,W90=Y7.Parser||qk.Parser,B90=Y7.Renderer||qk.Renderer,F90=Y7.Slugger||qk.Slugger,K90=Y7.TextRenderer||qk.TextRenderer,A90=Y7.Tokenizer||qk.Tokenizer,P90=Y7.getDefaults||qk.getDefaults,D90=Y7.lexer||qk.lexer,h4=Y7.marked||qk.marked,R90=Y7.options||qk.options,M90=Y7.parse||qk.parse,_90=Y7.parseInline||qk.parseInline,O90=Y7.parser||qk.parser,N90=Y7.setOptions||qk.setOptions,T90=Y7.use||qk.use,w90=Y7.walkTokens||qk.walkTokens});function _d(J){return JSON.stringify(J,k90)}function Pj(J){let $=JSON.parse(J);return $=Uk($),$}function k90(J,$){if($ instanceof RegExp)return{$mid:2,source:$.source,flags:$.flags};return $}function Uk(J,$=0){if(!J||$>200)return J;if(typeof J==="object"){switch(J.$mid){case 1:return I0.revive(J);case 2:return new RegExp(J.source,J.flags);case 17:return new Date(J.source)}if(J instanceof LF||J instanceof Uint8Array)return J;if(Array.isArray(J))for(let Q=0;Q<J.length;++Q)J[Q]=Uk(J[Q],$+1);else for(let Q in J)if(Object.hasOwnProperty.call(J,Q))J[Q]=Uk(J[Q],$+1)}return J}var UP=N(()=>{xz();o6()});function L3(J,$={},Q={}){var X,Y;let Z=new r,G=!1,q=JP($),U=function(A){let D;try{D=Pj(decodeURIComponent(A))}catch(R){}if(!D)return A;return D=OW(D,(R)=>{if(J.uris&&J.uris[R])return I0.revive(J.uris[R]);else return}),encodeURIComponent(JSON.stringify(D))},z=function(A,D){let R=J.uris&&J.uris[A],M=I0.revive(R);if(D){if(A.startsWith($1.data+":"))return A;if(!M)M=I0.parse(A);return FF.uriToBrowserUri(M).toString(!0)}if(!M)return A;if(I0.parse(A).toString()===M.toString())return A;if(M.query)M=M.with({query:U(M.query)});return M.toString()},H=new h4.Renderer;H.image=zk.image,H.link=zk.link,H.paragraph=zk.paragraph;let j=[],V=[];if($.codeBlockRendererSync)H.code=(A,D)=>{let R=Zk.nextId(),M=$.codeBlockRendererSync(Od(D),A);return V.push([R,M]),`<div class="code" data-code="${R}">${CZ(A)}</div>`};else if($.codeBlockRenderer)H.code=(A,D)=>{let R=Zk.nextId(),M=$.codeBlockRenderer(Od(D),A);return j.push(M.then((_)=>[R,_])),`<div class="code" data-code="${R}">${CZ(A)}</div>`};if($.actionHandler){let A=function(M){let _=M.target;if(_.tagName!=="A"){if(_=_.parentElement,!_||_.tagName!=="A")return}try{let T=_.dataset.href;if(T){if(J.baseUri)T=Hk(I0.from(J.baseUri),T);$.actionHandler.callback(T,M)}}catch(T){o0(T)}finally{M.preventDefault()}},D=$.actionHandler.disposables.add(new G1(q,"click")),R=$.actionHandler.disposables.add(new G1(q,"auxclick"));$.actionHandler.disposables.add(J0.any(D.event,R.event)((M)=>{let _=new $8(B0(q),M);if(!_.leftButton&&!_.middleButton)return;A(_)})),$.actionHandler.disposables.add(m(q,"keydown",(M)=>{let _=new K1(M);if(!_.equals(10)&&!_.equals(3))return;A(_)}))}if(!J.supportHtml)Q.sanitizer=(A)=>{return(J.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:""},Q.sanitize=!0,Q.silent=!0;Q.renderer=H;let W=(X=J.value)!==null&&X!==void 0?X:"";if(W.length>1e5)W=`${W.substr(0,1e5)}…`;if(J.supportThemeIcons)W=Ad(W);let B;if($.fillInIncompleteTokens){let A={...h4.defaults,...Q},D=h4.lexer(W,A),R=C90(D);B=h4.parser(R,A)}else B=h4.parse(W,Q);if(J.supportThemeIcons)B=C4(B).map((D)=>typeof D==="string"?D:D.outerHTML).join("");let P=new DOMParser().parseFromString(jk(J,B),"text/html");if(P.body.querySelectorAll("img").forEach((A)=>{let D=A.getAttribute("src");if(D){let R=D;try{if(J.baseUri)R=Hk(I0.from(J.baseUri),R)}catch(M){}A.src=z(R,!0)}}),P.body.querySelectorAll("a").forEach((A)=>{let D=A.getAttribute("href");if(A.setAttribute("href",""),!D||/^data:|javascript:/i.test(D)||/^command:/i.test(D)&&!J.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(D))A.replaceWith(...A.childNodes);else{let R=z(D,!1);if(J.baseUri)R=Hk(I0.from(J.baseUri),D);A.dataset.href=R}}),q.innerHTML=jk(J,P.body.innerHTML),j.length>0)Promise.all(j).then((A)=>{var D,R;if(G)return;let M=new Map(A),_=q.querySelectorAll("div[data-code]");for(let T of _){let w=M.get((D=T.dataset.code)!==null&&D!==void 0?D:"");if(w)V5(T,w)}(R=$.asyncRenderCallback)===null||R===void 0||R.call($)});else if(V.length>0){let A=new Map(V),D=q.querySelectorAll("div[data-code]");for(let R of D){let M=A.get((Y=R.dataset.code)!==null&&Y!==void 0?Y:"");if(M)V5(R,M)}}if($.asyncRenderCallback)for(let A of q.getElementsByTagName("img")){let D=Z.add(m(A,"load",()=>{D.dispose(),$.asyncRenderCallback()}))}return{element:q,dispose:()=>{G=!0,Z.dispose()}}}function Od(J){if(!J)return"";let $=J.split(/[\s+|:|,|\{|\?]/,1);if($.length)return $[0];return J}function Hk(J,$){if(/^\w[\w\d+.-]*:/.test($))return $;if(J.path.endsWith("/"))return Gw(J,$).toString();else return Gw(KA(J),$).toString()}function jk(J,$){let{config:Q,allowedSchemes:X}=I90(J);Az("uponSanitizeAttribute",(Z,G)=>{var q;if(G.attrName==="style"||G.attrName==="class"){if(Z.tagName==="SPAN"){if(G.attrName==="style"){G.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(G.attrValue);return}else if(G.attrName==="class"){G.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(G.attrValue);return}}G.keepAttr=!1;return}else if(Z.tagName==="INPUT"&&((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox"){if(G.attrName==="type"&&G.attrValue==="checkbox"||G.attrName==="disabled"||G.attrName==="checked"){G.keepAttr=!0;return}G.keepAttr=!1}}),Az("uponSanitizeElement",(Z,G)=>{var q,U;if(G.tagName==="input")if(((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox")Z.setAttribute("disabled","");else(U=Z.parentElement)===null||U===void 0||U.removeChild(Z)});let Y=PC(X);try{return VF($,{...Q,RETURN_TRUSTED_TYPE:!0})}finally{WF("uponSanitizeAttribute"),Y.dispose()}}function I90(J){let $=[$1.http,$1.https,$1.mailto,$1.data,$1.file,$1.vscodeFileResource,$1.vscodeRemote,$1.vscodeRemoteResource];if(J.isTrusted)$.push($1.command);return{config:{ALLOWED_TAGS:[...DC],ALLOWED_ATTR:E90,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:$}}function Nd(J){return typeof J==="string"?J:y90(J)}function y90(J){var $;let Q=($=J.value)!==null&&$!==void 0?$:"";if(Q.length>1e5)Q=`${Q.substr(0,1e5)}…`;let X=h4.parse(Q,{renderer:b90.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(Y)=>{var Z;return(Z=x90.get(Y))!==null&&Z!==void 0?Z:Y});return jk({isTrusted:!1},X).toString()}function Vk(J){let $="";return J.forEach((Q)=>{$+=Q.raw}),$}function S90(J){var $,Q;for(let X=0;X<J.tokens.length;X++){let Y=J.tokens[X];if(Y.type==="text"){let Z=Y.raw.split(`
`),G=Z[Z.length-1];if(G.includes("`"))return h90(J);else if(G.includes("**"))return c90(J);else if(G.match(/\*\w/))return f90(J);else if(G.match(/(^|\s)__\w/))return l90(J);else if(G.match(/(^|\s)_\w/))return g90(J);else if(G.match(/(^|\s)\[.*\]\(\w*/)){let q=J.tokens.slice(X+1);if((($=q[0])===null||$===void 0?void 0:$.type)==="link"&&((Q=q[1])===null||Q===void 0?void 0:Q.type)==="text"&&q[1].raw.match(/^ *"[^"]*$/))return m90(J);return p90(J)}else if(G.match(/(^|\s)\[\w/))return u90(J)}}return}function C90(J){let $,Q;for($=0;$<J.length;$++){let X=J[$];if(X.type==="paragraph"&&X.raw.match(/(\n|^)```/)){Q=v90(J.slice($));break}if(X.type==="paragraph"&&X.raw.match(/(\n|^)\|/)){Q=d90(J.slice($));break}if($===J.length-1&&X.type==="paragraph"){let Y=S90(X);if(Y){Q=[Y];break}}}if(Q){let X=[...J.slice(0,$),...Q];return X.links=J.links,X}return J}function v90(J){let $=Vk(J);return h4.lexer($+"\n```")}function h90(J){return hY(J,"`")}function f90(J){return hY(J,"*")}function g90(J){return hY(J,"_")}function p90(J){return hY(J,")")}function m90(J){return hY(J,'")')}function u90(J){return hY(J,"](about:blank)")}function c90(J){return hY(J,"**")}function l90(J){return hY(J,"__")}function hY(J,$){let Q=Vk(Array.isArray(J)?J:[J]);return h4.lexer(Q+$)[0]}function d90(J){let $=Vk(J),Q=$.split(`
`),X,Y=!1;for(let Z=0;Z<Q.length;Z++){let G=Q[Z].trim();if(typeof X==="undefined"&&G.match(/^\s*\|/)){let q=G.match(/(\|[^\|]+)(?=\||$)/g);if(q)X=q.length}else if(typeof X==="number")if(G.match(/^\s*\|/)){if(Z!==Q.length-1)return;Y=!0}else return}if(typeof X==="number"&&X>0){let Z=Y?Q.slice(0,-1).join(`
`):$,G=!!Z.match(/\|\s*$/),q=Z+(G?"":"|")+`
|${" --- |".repeat(X)}`;return h4.lexer(q)}return}var zk,E90,x90,b90;var zP=N(()=>{D0();BF();NJ();aL();R8();k9();l2();P1();F0();s2();T3();Gk();Q0();Md();UP();U9();j7();v$();t0();o6();zk=Object.freeze({image:(J,$,Q)=>{let X=[],Y=[];if(J)({href:J,dimensions:X}=Rd(J)),Y.push(`src="${Aj(J)}"`);if(Q)Y.push(`alt="${Aj(Q)}"`);if($)Y.push(`title="${Aj($)}"`);if(X.length)Y=Y.concat(X);return"<img "+Y.join(" ")+">"},paragraph:(J)=>{return`<p>${J}</p>`},link:(J,$,Q)=>{if(typeof J!=="string")return"";if(J===Q)Q=GP(Q);return $=typeof $==="string"?Aj(GP($)):"",J=GP(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${$||J}" draggable="false">${Q}</a>`}});E90=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];x90=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),b90=new $9(()=>{let J=new h4.Renderer;return J.code=($)=>{return $},J.blockquote=($)=>{return $},J.html=($)=>{return""},J.heading=($,Q,X)=>{return $+`
`},J.hr=()=>{return""},J.list=($,Q)=>{return $},J.listitem=($)=>{return $+`
`},J.paragraph=($)=>{return $+`
`},J.table=($,Q)=>{return $+Q+`
`},J.tablerow=($)=>{return $},J.tablecell=($,Q)=>{return $+" "},J.strong=($)=>{return $},J.em=($)=>{return $},J.codespan=($)=>{return $},J.br=()=>{return`
`},J.del=($)=>{return $},J.image=($,Q,X)=>{return""},J.text=($)=>{return $},J.link=($,Q,X)=>{return X},J})});var Td=N(()=>{j0(".monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;border-radius:3px;padding:1px 3px}")});async function Bk(J,$,Q){try{return await J.open($,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:a90(Q)})}catch(X){return o0(X),!1}}function a90(J){if(J===!0)return!0;if(J&&Array.isArray(J.enabledCommands))return J.enabledCommands;return!1}var s90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},wd=function(J,$){return function(Q,X){$(Q,X,J)}},Wk,a2;var Fk=N(()=>{zP();oX();P1();F0();Q0();Td();W4();v9();T4();QL();c2();a2=Wk=class J{constructor($,Q,X){this._options=$,this._languageService=Q,this._openerService=X,this._onDidRenderAsync=new y,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render($,Q,X){if(!$)return{element:document.createElement("span"),dispose:()=>{}};let Y=new r,Z=Y.add(L3($,{...this._getRenderOptions($,Y),...Q},X));return Z.element.classList.add("rendered-markdown"),{element:Z.element,dispose:()=>Y.dispose()}}_getRenderOptions($,Q){return{codeBlockRenderer:async(X,Y)=>{var Z,G,q;let U;if(X)U=this._languageService.getLanguageIdByLanguageName(X);else if(this._options.editor)U=(Z=this._options.editor.getModel())===null||Z===void 0?void 0:Z.getLanguageId();if(!U)U=R5;let z=await Sc(this._languageService,Y,U),H=document.createElement("span");if(H.innerHTML=(q=(G=Wk._ttpTokenizer)===null||G===void 0?void 0:G.createHTML(z))!==null&&q!==void 0?q:z,this._options.editor){let j=this._options.editor.getOption(50);M6(H,j)}else if(this._options.codeBlockFontFamily)H.style.fontFamily=this._options.codeBlockFontFamily;if(this._options.codeBlockFontSize!==void 0)H.style.fontSize=this._options.codeBlockFontSize;return H},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:(X)=>Bk(this._openerService,X,$.isTrusted),disposables:Q}}}};a2._ttpTokenizer=z9("tokenizeToString",{createHTML(J){return J}});a2=Wk=s90([wd(1,e1),wd(2,l$)],a2)});class Ld{constructor(J){this._element=J,this.targetElements=[this._element]}dispose(){}}var r90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Dj=function(J,$){return function(Q,X){$(Q,X,J)}},s$,HP,Kk;var kd=N(()=>{al();Q0();F0();D0();x4();v8();t5();nl();L$();c2();u0();Fk();s2();g0();M1();BJ();UY();s$=q0,HP=class J extends Z8{get _targetWindow(){return B0(this._target.targetElements[0])}get _targetDocumentElement(){return B0(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked($){if(this._isLocked===$)return;this._isLocked=$,this._hoverContainer.classList.toggle("locked",this._isLocked)}constructor($,Q,X,Y,Z,G){var q,U,z,H,j,V,W,B;super();if(this._keybindingService=Q,this._configurationService=X,this._openerService=Y,this._instantiationService=Z,this._accessibilityService=G,this._messageListeners=new r,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new y),this._onRequestLayout=this._register(new y),this._linkHandler=$.linkHandler||((M)=>{return Bk(this._openerService,M,AX($.content)?$.content.isTrusted:void 0)}),this._target="targetElements"in $.target?$.target:new Ld($.target),this._hoverPointer=((q=$.appearance)===null||q===void 0?void 0:q.showPointer)?s$("div.workbench-hover-pointer"):void 0,this._hover=this._register(new dL),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(U=$.appearance)===null||U===void 0?void 0:U.compact)this._hover.containerDomNode.classList.add("workbench-hover","compact");if((z=$.appearance)===null||z===void 0?void 0:z.skipFadeInAnimation)this._hover.containerDomNode.classList.add("skip-fade-in");if($.additionalClasses)this._hover.containerDomNode.classList.add(...$.additionalClasses);if((H=$.position)===null||H===void 0?void 0:H.forcePosition)this._forcePosition=!0;if($.trapFocus)this._enableFocusTraps=!0;this._hoverPosition=(V=(j=$.position)===null||j===void 0?void 0:j.hoverPosition)!==null&&V!==void 0?V:3,this.onmousedown(this._hover.containerDomNode,(M)=>M.stopPropagation()),this.onkeydown(this._hover.containerDomNode,(M)=>{if(M.equals(9))this.dispose()}),this._register(m(this._targetWindow,"blur",()=>this.dispose()));let K=s$("div.hover-row.markdown-hover"),P=s$("div.hover-contents");if(typeof $.content==="string")P.textContent=$.content,P.style.whiteSpace="pre-wrap";else if($.content instanceof HTMLElement)P.appendChild($.content),P.classList.add("html-hover-contents");else{let M=$.content,_=this._instantiationService.createInstance(a2,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||y8.fontFamily}),{element:T}=_.render(M,{actionHandler:{callback:(w)=>this._linkHandler(w),disposables:this._messageListeners},asyncRenderCallback:()=>{P.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});P.appendChild(T)}if(K.appendChild(P),this._hover.contentsDomNode.appendChild(K),$.actions&&$.actions.length>0){let M=s$("div.hover-row.status-bar"),_=s$("div.actions");$.actions.forEach((T)=>{let w=this._keybindingService.lookupKeybinding(T.commandId),b=w?w.getLabel():null;eA.render(_,{label:T.label,commandId:T.commandId,run:(S)=>{T.run(S),this.dispose()},iconClass:T.iconClass},b)}),M.appendChild(_),this._hover.containerDomNode.appendChild(M)}if(this._hoverContainer=s$("div.workbench-hover-container"),this._hoverPointer)this._hoverContainer.appendChild(this._hoverPointer);this._hoverContainer.appendChild(this._hover.containerDomNode);let A;if($.actions&&$.actions.length>0)A=!1;else if(((W=$.persistence)===null||W===void 0?void 0:W.hideOnHover)===void 0)A=typeof $.content==="string"||AX($.content)&&!$.content.value.includes("](")&&!$.content.value.includes("</a>");else A=$.persistence.hideOnHover;if(A&&((B=$.appearance)===null||B===void 0?void 0:B.showHoverHint)){let M=s$("div.hover-row.status-bar"),_=s$("div.info");_.textContent=F("hoverhint","Hold {0} key to mouse over",r0?"Option":"Alt"),M.appendChild(_),this._hover.containerDomNode.appendChild(M)}let D=[...this._target.targetElements];if(!A)D.push(this._hoverContainer);let R=this._register(new Kk(D));if(this._register(R.onMouseOut(()=>{if(!this._isLocked)this.dispose()})),A){let M=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new Kk(M)),this._register(this._lockMouseTracker.onMouseOut(()=>{if(!this._isLocked)this.dispose()}))}else this._lockMouseTracker=R}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;let $=this._hover.containerDomNode,Q=this.findLastFocusableChild(this._hover.containerDomNode);if(Q){let X=qq(this._hoverContainer,s$("div")),Y=Z0(this._hoverContainer,s$("div"));X.tabIndex=0,Y.tabIndex=0,this._register(m(Y,"focus",(Z)=>{$.focus(),Z.preventDefault()})),this._register(m(X,"focus",(Z)=>{Q.focus(),Z.preventDefault()}))}}findLastFocusableChild($){if($.hasChildNodes())for(let Q=0;Q<$.childNodes.length;Q++){let X=$.childNodes.item($.childNodes.length-Q-1);if(X.nodeType===X.ELEMENT_NODE){let Z=X;if(typeof Z.tabIndex==="number"&&Z.tabIndex>=0)return Z}let Y=this.findLastFocusableChild(X);if(Y)return Y}return}render($){var Q;$.appendChild(this._hoverContainer);let Y=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&il(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(Q=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||Q===void 0?void 0:Q.getAriaLabel());if(Y)K$(Y);this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";let $=(H)=>{let j=DF(H),V=H.getBoundingClientRect();return{top:V.top*j,bottom:V.bottom*j,right:V.right*j,left:V.left*j}},Q=this._target.targetElements.map((H)=>$(H)),X=Math.min(...Q.map((H)=>H.top)),Y=Math.max(...Q.map((H)=>H.right)),Z=Math.max(...Q.map((H)=>H.bottom)),G=Math.min(...Q.map((H)=>H.left)),q=Y-G,U=Z-X,z={top:X,right:Y,bottom:Z,left:G,width:q,height:U,center:{x:G+q/2,y:X+U/2}};if(this.adjustHorizontalHoverPosition(z),this.adjustVerticalHoverPosition(z),this.adjustHoverMaxHeight(z),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:z.left+=3,z.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:z.left-=3,z.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:z.top+=3,z.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:z.top-=3,z.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}z.center.x=z.left+q/2,z.center.y=z.top+U/2}if(this.computeXCordinate(z),this.computeYCordinate(z),this._hoverPointer)this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(z);this._hover.onContentsChanged()}computeXCordinate($){let Q=this._hover.containerDomNode.clientWidth+2;if(this._target.x!==void 0)this._x=this._target.x;else if(this._hoverPosition===1)this._x=$.right;else if(this._hoverPosition===0)this._x=$.left-Q;else{if(this._hoverPointer)this._x=$.center.x-this._hover.containerDomNode.clientWidth/2;else this._x=$.left;if(this._x+Q>=this._targetDocumentElement.clientWidth)this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-Q-2,this._targetDocumentElement.clientLeft)}if(this._x<this._targetDocumentElement.clientLeft)this._x=$.left+2}computeYCordinate($){if(this._target.y!==void 0)this._y=this._target.y;else if(this._hoverPosition===3)this._y=$.top;else if(this._hoverPosition===2)this._y=$.bottom-2;else if(this._hoverPointer)this._y=$.center.y+this._hover.containerDomNode.clientHeight/2;else this._y=$.bottom;if(this._y>this._targetWindow.innerHeight)this._y=$.bottom}adjustHorizontalHoverPosition($){if(this._target.x!==void 0)return;if(this._forcePosition){let Q=(this._hoverPointer?3:0)+2;if(this._hoverPosition===1)this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-$.right-Q}px`;else if(this._hoverPosition===0)this._hover.containerDomNode.style.maxWidth=`${$.left-Q}px`;return}if(this._hoverPosition===1){if(this._targetDocumentElement.clientWidth-$.right<this._hover.containerDomNode.clientWidth)if($.left>=this._hover.containerDomNode.clientWidth)this._hoverPosition=0;else this._hoverPosition=2}else if(this._hoverPosition===0){if($.left<this._hover.containerDomNode.clientWidth)if(this._targetDocumentElement.clientWidth-$.right>=this._hover.containerDomNode.clientWidth)this._hoverPosition=1;else this._hoverPosition=2;if($.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft)this._hoverPosition=1}}adjustVerticalHoverPosition($){if(this._target.y!==void 0||this._forcePosition)return;if(this._hoverPosition===3){if($.top-this._hover.containerDomNode.clientHeight<0)this._hoverPosition=2}else if(this._hoverPosition===2){if($.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight)this._hoverPosition=3}}adjustHoverMaxHeight($){let Q=this._targetWindow.innerHeight/2;if(this._forcePosition){let X=(this._hoverPointer?3:0)+2;if(this._hoverPosition===3)Q=Math.min(Q,$.top-X);else if(this._hoverPosition===2)Q=Math.min(Q,this._targetWindow.innerHeight-$.bottom-X)}if(this._hover.containerDomNode.style.maxHeight=`${Q}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){let X=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;if(this._hover.contentsDomNode.style.paddingRight!==X)this._hover.contentsDomNode.style.paddingRight=X}}setHoverPointerPosition($){if(!this._hoverPointer)return;switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");let Q=this._hover.containerDomNode.clientHeight;if(Q>$.height)this._hoverPointer.style.top=`${$.center.y-(this._y-Q)-3}px`;else this._hoverPointer.style.top=`${Math.round(Q/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");let Q=this._hover.containerDomNode.clientWidth,X=Math.round(Q/2)-3,Y=this._x+X;if(Y<$.left||Y>$.right)X=$.center.x-this._x-3;this._hoverPointer.style.left=`${X}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){if(!this._isDisposed)this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose();this._isDisposed=!0}};HP=r90([Dj(1,u6),Dj(2,y1),Dj(3,l$),Dj(4,p0),Dj(5,_8)],HP);Kk=class Kk extends Z8{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(J){super();this._elements=J,this._isMouseIn=!0,this._onMouseOut=this._register(new y),this._elements.forEach(($)=>this.onmouseover($,()=>this._onTargetMouseOver($))),this._elements.forEach(($)=>this.onmouseleave($,()=>this._onTargetMouseLeave($)))}_onTargetMouseOver(J){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(J)}_onTargetMouseLeave(J){this._isMouseIn=!1,this._evaluateMouseState(J)}_evaluateMouseState(J){this._clearEvaluateMouseStateTimeout(J),this._mouseTimeout=B0(J).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(J){if(this._mouseTimeout)B0(J).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0}_fireIfMouseOutside(){if(!this._isMouseIn)this._onMouseOut.fire()}}});function Ed(J){var $;if(J===void 0)return;return($=J===null||J===void 0?void 0:J.id)!==null&&$!==void 0?$:J}class Id{get anchorPosition(){return this._hover.anchor}constructor(J,$=!1){this._hover=J,this._focus=$}render(J){if(this._hover.render(J),this._focus)this._hover.focus();return this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}var i90=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},k3=function(J,$){return function(Q,X){$(Q,X,J)}},Ak=class J{constructor($,Q,X,Y,Z,G){this._instantiationService=$,this._contextViewService=Q,this._keybindingService=Y,this._layoutService=Z,this._accessibilityService=G,X.onDidShowContextMenu(()=>this.hideHover())}showHover($,Q,X){var Y,Z,G,q;if(Ed(this._currentHoverOptions)===Ed($))return;if(this._currentHover&&((Z=(Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.persistence)===null||Z===void 0?void 0:Z.sticky))return;this._currentHoverOptions=$,this._lastHoverOptions=$;let U=$.trapFocus||this._accessibilityService.isScreenReaderOptimized(),z=e6();if(!X)if(U&&z)this._lastFocusedElementBeforeOpen=z;else this._lastFocusedElementBeforeOpen=void 0;let H=new r,j=this._instantiationService.createInstance(HP,$);if((G=$.persistence)===null||G===void 0?void 0:G.sticky)j.isLocked=!0;if(j.onDispose(()=>{var W,B;if(((W=this._currentHover)===null||W===void 0?void 0:W.domNode)&&_F(this._currentHover.domNode))(B=this._lastFocusedElementBeforeOpen)===null||B===void 0||B.focus();if(this._currentHoverOptions===$)this._currentHoverOptions=void 0;H.dispose()}),!$.container){let W=$.target instanceof HTMLElement?$.target:$.target.targetElements[0];$.container=this._layoutService.getContainer(B0(W))}let V=this._contextViewService;if(V.showContextView(new Id(j,Q),$.container),j.onRequestLayout(()=>V.layout()),(q=$.persistence)===null||q===void 0?void 0:q.sticky)H.add(m(B0($.container).document,$0.MOUSE_DOWN,(W)=>{if(!p6(W.target,j.domNode))this.doHideHover()}));else{if("targetElements"in $.target)for(let B of $.target.targetElements)H.add(m(B,$0.CLICK,()=>this.hideHover()));else H.add(m($.target,$0.CLICK,()=>this.hideHover()));let W=e6();if(W){let B=B0(W).document;H.add(m(W,$0.KEY_DOWN,(K)=>{var P;return this._keyDown(K,j,!!((P=$.persistence)===null||P===void 0?void 0:P.hideOnKeyDown))})),H.add(m(B,$0.KEY_DOWN,(K)=>{var P;return this._keyDown(K,j,!!((P=$.persistence)===null||P===void 0?void 0:P.hideOnKeyDown))})),H.add(m(W,$0.KEY_UP,(K)=>this._keyUp(K,j))),H.add(m(B,$0.KEY_UP,(K)=>this._keyUp(K,j)))}}if("IntersectionObserver"in z1){let W=new IntersectionObserver((K)=>this._intersectionChange(K,j),{threshold:0}),B="targetElements"in $.target?$.target.targetElements[0]:$.target;W.observe(B),H.add(K0(()=>W.disconnect()))}return this._currentHover=j,j}hideHover(){var $;if((($=this._currentHover)===null||$===void 0?void 0:$.isLocked)||!this._currentHoverOptions)return;this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange($,Q){if(!$[$.length-1].isIntersecting)Q.dispose()}_keyDown($,Q,X){var Y,Z;if($.key==="Alt"){Q.isLocked=!0;return}let G=new K1($);if(this._keybindingService.resolveKeyboardEvent(G).getSingleModifierDispatchChords().some((U)=>!!U)||this._keybindingService.softDispatch(G,G.target).kind!==0)return;if(X&&(!((Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.trapFocus)||$.key!=="Tab"))this.hideHover(),(Z=this._lastFocusedElementBeforeOpen)===null||Z===void 0||Z.focus()}_keyUp($,Q){var X;if($.key==="Alt"){if(Q.isLocked=!1,!Q.isMouseIn)this.hideHover(),(X=this._lastFocusedElementBeforeOpen)===null||X===void 0||X.focus()}}};var yd=N(()=>{h9();s6();N8();oA();KX();u0();kd();Q0();D0();x4();R8();BJ();xY();J8();Ak=i90([k3(0,p0),k3(1,IJ),k3(2,r7),k3(3,u6),k3(4,F9),k3(5,_8)],Ak);H1(_3,Ak,1);m8((J,$)=>{let Q=J.getColor(kf);if(Q)$.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Q.transparent(0.5)}; }`),$.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${Q.transparent(0.5)}; }`)})});class Rj{constructor(J){this.metadata=J}static convert(J){return J.edits.map(($)=>{if(fY.is($))return fY.lift($);if(E3.is($))return E3.lift($);throw new Error("Unsupported edit")})}}var xd,fY,E3;var bd=N(()=>{u0();o6();xd=M0("IWorkspaceEditService");fY=class fY extends Rj{static is(J){if(J instanceof fY)return!0;return r6(J)&&I0.isUri(J.resource)&&r6(J.textEdit)}static lift(J){if(J instanceof fY)return J;else return new fY(J.resource,J.textEdit,J.versionId,J.metadata)}constructor(J,$,Q=void 0,X){super(X);this.resource=J,this.textEdit=$,this.versionId=Q}};E3=class E3 extends Rj{static is(J){if(J instanceof E3)return!0;else return r6(J)&&(Boolean(J.newResource)||Boolean(J.oldResource))}static lift(J){if(J instanceof E3)return J;else return new E3(J.oldResource,J.newResource,J.options,J.metadata)}constructor(J,$,Q={},X){super(X);this.oldResource=J,this.newResource=$,this.options=Q}}});var z8;var Pk=N(()=>{z8={enableSplitViewResizing:!0,splitViewDefaultRatio:0.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5000,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}});function o90(J){return typeof J.type!=="undefined"||typeof J.anyOf!=="undefined"}function Sd(){if(jP===null)jP=Object.create(null),Object.keys(VP.properties).forEach((J)=>{jP[J]=!0});return jP}function Cd(J){return Sd()[`editor.${J}`]||!1}function vd(J){return Sd()[`diffEditor.${J}`]||!1}var n90,VP,jP=null,t90;var hd=N(()=>{Pk();t5();mU();g0();X2();$7();n90=Object.freeze({id:"editor",order:5,type:"object",title:F("editorConfigurationTitle","Editor"),scope:5}),VP={...n90,properties:{"editor.tabSize":{type:"number",default:F5.tabSize,minimum:1,markdownDescription:F("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:F("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:F5.insertSpaces,markdownDescription:F("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:F5.detectIndentation,markdownDescription:F("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:F5.trimAutoWhitespace,description:F("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:F5.largeFileOptimizations,description:F("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[F("wordBasedSuggestions.off","Turn off Word Based Suggestions."),F("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),F("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),F("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:F("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[F("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),F("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),F("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:F("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:F("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:20000,description:F("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:F("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:F("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:z8.maxComputationTime,description:F("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:z8.maxFileSize,description:F("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:z8.renderSideBySide,description:F("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:z8.renderSideBySideInlineBreakpoint,description:F("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:z8.useInlineViewWhenSpaceIsLimited,description:F("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:z8.renderMarginRevertIcon,description:F("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:z8.ignoreTrimWhitespace,description:F("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:z8.renderIndicators,description:F("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:z8.diffCodeLens,description:F("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:z8.diffWordWrap,markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:z8.diffAlgorithm,markdownEnumDescriptions:[F("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),F("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:z8.hideUnchangedRegions.enabled,markdownDescription:F("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:z8.hideUnchangedRegions.revealLineCount,markdownDescription:F("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:z8.hideUnchangedRegions.minimumLineCount,markdownDescription:F("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:z8.hideUnchangedRegions.contextLineCount,markdownDescription:F("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:z8.experimental.showMoves,markdownDescription:F("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:z8.experimental.showEmptyDecorations,description:F("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};for(let J of hX){let $=J.schema;if(typeof $!=="undefined"){if(o90($))VP.properties[`editor.${J.name}`]=$;else for(let Q in $)if(Object.hasOwnProperty.call($,Q))VP.properties[Q]=$[Q]}}t90=r1.as(g9.Configuration);t90.registerConfiguration(VP)});class r9{static insert(J,$){return{range:new L(J.lineNumber,J.column,J.lineNumber,J.column),text:$,forceMoveMarkers:!0}}static delete(J){return{range:J,text:null}}static replace(J,$){return{range:J,text:$}}static replaceMove(J,$){return{range:J,text:$,forceMoveMarkers:!0}}}var Mj=N(()=>{l0()});function Dk(J){return Object.isFrozen(J)?J:fx(J)}class i5{constructor(J={},$=[],Q=[],X){this._contents=J,this._keys=$,this._overrides=Q,this.raw=X,this.overrideConfigurations=new Map}get rawConfiguration(){var J;if(!this._rawConfiguration)if((J=this.raw)===null||J===void 0?void 0:J.length){let $=this.raw.map((Q)=>{if(Q instanceof i5)return Q;let X=new fd("");return X.parseRaw(Q),X.configurationModel});this._rawConfiguration=$.reduce((Q,X)=>X===Q?X:Q.merge(X),$[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(J){return J?x_(this.contents,J):this.contents}inspect(J,$){let Q=this.rawConfiguration.getValue(J),X=$?this.rawConfiguration.getOverrideValue(J,$):void 0,Y=$?this.rawConfiguration.override($).getValue(J):Q;return{value:Q,override:X,merged:Y}}getOverrideValue(J,$){let Q=this.getContentsForOverrideIdentifer($);return Q?J?x_(Q,J):Q:void 0}override(J){let $=this.overrideConfigurations.get(J);if(!$)$=this.createOverrideConfigurationModel(J),this.overrideConfigurations.set(J,$);return $}merge(...J){var $,Q;let X=rJ(this.contents),Y=rJ(this.overrides),Z=[...this.keys],G=(($=this.raw)===null||$===void 0?void 0:$.length)?[...this.raw]:[this];for(let q of J){if(G.push(...((Q=q.raw)===null||Q===void 0?void 0:Q.length)?q.raw:[q]),q.isEmpty())continue;this.mergeContents(X,q.contents);for(let U of q.overrides){let[z]=Y.filter((H)=>Q6(H.identifiers,U.identifiers));if(z)this.mergeContents(z.contents,U.contents),z.keys.push(...U.keys),z.keys=q4(z.keys);else Y.push(rJ(U))}for(let U of q.keys)if(Z.indexOf(U)===-1)Z.push(U)}return new i5(X,Z,Y,G.every((q)=>q instanceof i5)?void 0:G)}createOverrideConfigurationModel(J){let $=this.getContentsForOverrideIdentifer(J);if(!$||typeof $!=="object"||!Object.keys($).length)return this;let Q={};for(let X of q4([...Object.keys(this.contents),...Object.keys($)])){let Y=this.contents[X],Z=$[X];if(Z)if(typeof Y==="object"&&typeof Z==="object")Y=rJ(Y),this.mergeContents(Y,Z);else Y=Z;Q[X]=Y}return new i5(Q,this.keys,this.overrides)}mergeContents(J,$){for(let Q of Object.keys($)){if(Q in J){if(r6(J[Q])&&r6($[Q])){this.mergeContents(J[Q],$[Q]);continue}}J[Q]=rJ($[Q])}}getContentsForOverrideIdentifer(J){let $=null,Q=null,X=(Y)=>{if(Y)if(Q)this.mergeContents(Q,Y);else Q=rJ(Y)};for(let Y of this.overrides)if(Y.identifiers.length===1&&Y.identifiers[0]===J)$=Y.contents;else if(Y.identifiers.includes(J))X(Y.contents);return X($),Q}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(J,$){this.updateValue(J,$,!0)}setValue(J,$){this.updateValue(J,$,!1)}removeValue(J){let $=this.keys.indexOf(J);if($===-1)return;if(this.keys.splice($,1),cC(this.contents,J),xQ.test(J))this.overrides.splice(this.overrides.findIndex((Q)=>Q6(Q.identifiers,Cz(J))),1)}updateValue(J,$,Q){if(y_(this.contents,J,$,(X)=>console.error(X)),Q=Q||this.keys.indexOf(J)===-1,Q)this.keys.push(J);if(xQ.test(J))this.overrides.push({identifiers:Cz(J),keys:Object.keys(this.contents[J]),contents:bF(this.contents[J],(X)=>console.error(X))})}}class fd{constructor(J){this._name=J,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new i5}parseRaw(J,$){this._raw=J;let{contents:Q,keys:X,overrides:Y,restricted:Z,hasExcludedProperties:G}=this.doParseRaw(J,$);this._configurationModel=new i5(Q,X,Y,G?[J]:void 0),this._restrictedConfigurations=Z||[]}doParseRaw(J,$){let Q=r1.as(g9.Configuration).getConfigurationProperties(),X=this.filter(J,Q,!0,$);J=X.raw;let Y=bF(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`)),Z=Object.keys(J),G=this.toOverrides(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`));return{contents:Y,keys:Z,overrides:G,restricted:X.restricted,hasExcludedProperties:X.hasExcludedProperties}}filter(J,$,Q,X){var Y,Z,G;let q=!1;if(!(X===null||X===void 0?void 0:X.scopes)&&!(X===null||X===void 0?void 0:X.skipRestricted)&&!((Y=X===null||X===void 0?void 0:X.exclude)===null||Y===void 0?void 0:Y.length))return{raw:J,restricted:[],hasExcludedProperties:q};let U={},z=[];for(let H in J)if(xQ.test(H)&&Q){let j=this.filter(J[H],$,!1,X);U[H]=j.raw,q=q||j.hasExcludedProperties,z.push(...j.restricted)}else{let j=$[H],V=j?typeof j.scope!=="undefined"?j.scope:3:void 0;if(j===null||j===void 0?void 0:j.restricted)z.push(H);if(!((Z=X.exclude)===null||Z===void 0?void 0:Z.includes(H))&&(((G=X.include)===null||G===void 0?void 0:G.includes(H))||(V===void 0||X.scopes===void 0||X.scopes.includes(V))&&!(X.skipRestricted&&(j===null||j===void 0?void 0:j.restricted))))U[H]=J[H];else q=!0}return{raw:U,restricted:z,hasExcludedProperties:q}}toOverrides(J,$){let Q=[];for(let X of Object.keys(J))if(xQ.test(X)){let Y={};for(let Z in J[X])Y[Z]=J[X][Z];Q.push({identifiers:Cz(X),keys:Object.keys(Y),contents:bF(Y,$)})}return Q}}class gd{constructor(J,$,Q,X,Y,Z,G,q,U,z,H,j,V){this.key=J,this.overrides=$,this._value=Q,this.overrideIdentifiers=X,this.defaultConfiguration=Y,this.policyConfiguration=Z,this.applicationConfiguration=G,this.userConfiguration=q,this.localUserConfiguration=U,this.remoteUserConfiguration=z,this.workspaceConfiguration=H,this.folderConfigurationModel=j,this.memoryConfigurationModel=V}inspect(J,$,Q){let X=J.inspect($,Q);return{get value(){return Dk(X.value)},get override(){return Dk(X.override)},get merged(){return Dk(X.merged)}}}get userInspectValue(){if(!this._userInspectValue)this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier);return this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class _j{constructor(J,$,Q,X,Y=new i5,Z=new i5,G=new y5,q=new i5,U=new y5){this._defaultConfiguration=J,this._policyConfiguration=$,this._applicationConfiguration=Q,this._localUserConfiguration=X,this._remoteUserConfiguration=Y,this._workspaceConfiguration=Z,this._folderConfigurations=G,this._memoryConfiguration=q,this._memoryConfigurationByResource=U,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new y5,this._userConfiguration=null}getValue(J,$,Q){return this.getConsolidatedConfigurationModel(J,$,Q).getValue(J)}updateValue(J,$,Q={}){let X;if(Q.resource){if(X=this._memoryConfigurationByResource.get(Q.resource),!X)X=new i5,this._memoryConfigurationByResource.set(Q.resource,X)}else X=this._memoryConfiguration;if($===void 0)X.removeValue(J);else X.setValue(J,$);if(!Q.resource)this._workspaceConsolidatedConfiguration=null}inspect(J,$,Q){let X=this.getConsolidatedConfigurationModel(J,$,Q),Y=this.getFolderConfigurationModelForResource($.resource,Q),Z=$.resource?this._memoryConfigurationByResource.get($.resource)||this._memoryConfiguration:this._memoryConfiguration,G=new Set;for(let q of X.overrides)for(let U of q.identifiers)if(X.getOverrideValue(J,U)!==void 0)G.add(U);return new gd(J,$,X.getValue(J),G.size?[...G]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,Q?this._workspaceConfiguration:void 0,Y?Y:void 0,Z)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){if(!this._userConfiguration)this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration);return this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(J,$,Q){let X=this.getConsolidatedConfigurationModelForResource($,Q);if($.overrideIdentifier)X=X.override($.overrideIdentifier);if(!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(J)!==void 0)X=X.merge(this._policyConfiguration);return X}getConsolidatedConfigurationModelForResource({resource:J},$){let Q=this.getWorkspaceConsolidatedConfiguration();if($&&J){let X=$.getFolder(J);if(X)Q=this.getFolderConsolidatedConfiguration(X.uri)||Q;let Y=this._memoryConfigurationByResource.get(J);if(Y)Q=Q.merge(Y)}return Q}getWorkspaceConsolidatedConfiguration(){if(!this._workspaceConsolidatedConfiguration)this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration);return this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(J){let $=this._foldersConsolidatedConfigurations.get(J);if(!$){let Q=this.getWorkspaceConsolidatedConfiguration(),X=this._folderConfigurations.get(J);if(X)$=Q.merge(X),this._foldersConsolidatedConfigurations.set(J,$);else $=Q}return $}getFolderConfigurationModelForResource(J,$){if($&&J){let Q=$.getFolder(J);if(Q)return this._folderConfigurations.get(Q.uri)}return}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((J,$)=>{let{contents:Q,overrides:X,keys:Y}=this._folderConfigurations.get($);return J.push([$,{contents:Q,overrides:X,keys:Y}]),J},[])}}static parse(J){let $=this.parseConfigurationModel(J.defaults),Q=this.parseConfigurationModel(J.policy),X=this.parseConfigurationModel(J.application),Y=this.parseConfigurationModel(J.user),Z=this.parseConfigurationModel(J.workspace),G=J.folders.reduce((q,U)=>{return q.set(I0.revive(U[0]),this.parseConfigurationModel(U[1])),q},new y5);return new _j($,Q,X,Y,new i5,Z,G,new i5,new y5)}static parseConfigurationModel(J){return new i5(J.contents,J.keys,J.overrides)}}class Rk{constructor(J,$,Q,X){this.change=J,this.previous=$,this.currentConfiguraiton=Q,this.currentWorkspace=X,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(let Y of J.keys)this.affectedKeys.add(Y);for(let[,Y]of J.overrides)for(let Z of Y)this.affectedKeys.add(Z);this._affectsConfigStr=this._marker;for(let Y of this.affectedKeys)this._affectsConfigStr+=Y+this._marker}get previousConfiguration(){if(!this._previousConfiguration&&this.previous)this._previousConfiguration=_j.parse(this.previous.data);return this._previousConfiguration}affectsConfiguration(J,$){var Q;let X=this._marker+J,Y=this._affectsConfigStr.indexOf(X);if(Y<0)return!1;let Z=Y+X.length;if(Z>=this._affectsConfigStr.length)return!1;let G=this._affectsConfigStr.charCodeAt(Z);if(G!==this._markerCode1&&G!==this._markerCode2)return!1;if($){let q=this.previousConfiguration?this.previousConfiguration.getValue(J,$,(Q=this.previous)===null||Q===void 0?void 0:Q.workspace):void 0,U=this.currentConfiguraiton.getValue(J,$,this.currentWorkspace);return!L5(q,U)}return!0}}var Mk=N(()=>{U1();jJ();j7();o6();v8();X2();$7()});function J40(J,$,Q){return{kind:2,commandId:J,commandArgs:$,isBubble:Q}}class I3{constructor(J,$,Q){var X;this._log=Q,this._defaultKeybindings=J,this._defaultBoundCommands=new Map;for(let Y of J){let Z=Y.command;if(Z&&Z.charAt(0)!=="-")this._defaultBoundCommands.set(Z,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=I3.handleRemovals([].concat(J).concat($));for(let Y=0,Z=this._keybindings.length;Y<Z;Y++){let G=this._keybindings[Y];if(G.chords.length===0)continue;let q=(X=G.when)===null||X===void 0?void 0:X.substituteConstants();if(q&&q.type===0)continue;this._addKeyPress(G.chords[0],G)}}static _isTargetedForRemoval(J,$,Q){if($){for(let X=0;X<$.length;X++)if($[X]!==J.chords[X])return!1}if(Q&&Q.type!==1){if(!J.when)return!1;if(!IS(Q,J.when))return!1}return!0}static handleRemovals(J){let $=new Map;for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.command&&Z.command.charAt(0)==="-"){let G=Z.command.substring(1);if(!$.has(G))$.set(G,[Z]);else $.get(G).push(Z)}}if($.size===0)return J;let Q=[];for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(!Z.command||Z.command.length===0){Q.push(Z);continue}if(Z.command.charAt(0)==="-")continue;let G=$.get(Z.command);if(!G||!Z.isDefault){Q.push(Z);continue}let q=!1;for(let U of G){let z=U.when;if(this._isTargetedForRemoval(Z,U.chords,z)){q=!0;break}}if(!q){Q.push(Z);continue}}return Q}_addKeyPress(J,$){let Q=this._map.get(J);if(typeof Q==="undefined"){this._map.set(J,[$]),this._addToLookupMap($);return}for(let X=Q.length-1;X>=0;X--){let Y=Q[X];if(Y.command===$.command)continue;let Z=!0;for(let G=1;G<Y.chords.length&&G<$.chords.length;G++)if(Y.chords[G]!==$.chords[G]){Z=!1;break}if(!Z)continue;if(I3.whenIsEntirelyIncluded(Y.when,$.when))this._removeFromLookupMap(Y)}Q.push($),this._addToLookupMap($)}_addToLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $==="undefined")$=[J],this._lookupMap.set(J.command,$);else $.push(J)}_removeFromLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $==="undefined")return;for(let Q=0,X=$.length;Q<X;Q++)if($[Q]===J){$.splice(Q,1);return}}static whenIsEntirelyIncluded(J,$){if(!$||$.type===1)return!0;if(!J||J.type===1)return!1;return cB(J,$)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(J,$){let Q=this._lookupMap.get(J);if(typeof Q==="undefined"||Q.length===0)return null;if(Q.length===1)return Q[0];for(let X=Q.length-1;X>=0;X--){let Y=Q[X];if($.contextMatchesRules(Y.when))return Y}return Q[Q.length-1]}resolve(J,$,Q){let X=[...$,Q];this._log(`| Resolving ${X}`);let Y=this._map.get(X[0]);if(Y===void 0)return this._log("\\ No keybinding entries."),Oj;let Z=null;if(X.length<2)Z=Y;else{Z=[];for(let q=0,U=Y.length;q<U;q++){let z=Y[q];if(X.length>z.chords.length)continue;let H=!0;for(let j=1;j<X.length;j++)if(z.chords[j]!==X[j]){H=!1;break}if(H)Z.push(z)}}let G=this._findCommand(J,Z);if(!G)return this._log(`\\ From ${Z.length} keybinding entries, no when clauses matched the context.`),Oj;if(X.length<G.chords.length)return this._log(`\\ From ${Z.length} keybinding entries, awaiting ${G.chords.length-X.length} more chord(s), when: ${pd(G.when)}, source: ${md(G)}.`),e90;return this._log(`\\ From ${Z.length} keybinding entries, matched ${G.command}, when: ${pd(G.when)}, source: ${md(G)}.`),J40(G.command,G.commandArgs,G.bubble)}_findCommand(J,$){for(let Q=$.length-1;Q>=0;Q--){let X=$[Q];if(!I3._contextMatchesRules(J,X.when))continue;return X}return null}static _contextMatchesRules(J,$){if(!$)return!0;return $.evaluate(J)}}function pd(J){if(!J)return"no when condition";return`${J.serialize()}`}function md(J){return J.extensionId?J.isBuiltinExtension?`built-in extension ${J.extensionId}`:`user extension ${J.extensionId}`:J.isDefault?"built-in":"user"}var Oj,e90;var _k=N(()=>{m1();Oj={kind:0},e90={kind:1}});class r2{constructor(J){this._ctrlKey=J?J.ctrlKey:!1,this._shiftKey=J?J.shiftKey:!1,this._altKey=J?J.altKey:!1,this._metaKey=J?J.metaKey:!1}has(J){switch(J){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}var $40,Ok;var ud=N(()=>{u1();P1();F0();wN();Q0();g0();_k();$40=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;Ok=class Ok extends h{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:J0.None}get inChordMode(){return this._currentChords.length>0}constructor(J,$,Q,X,Y){super();this._contextKeyService=J,this._commandService=$,this._telemetryService=Q,this._notificationService=X,this._logService=Y,this._onDidUpdateKeybindings=this._register(new y),this._currentChords=[],this._currentChordChecker=new sZ,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=r2.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new M8,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(J){if(this._logging)this._logService.info(`[KeybindingService]: ${J}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(J,$){let Q=this._getResolver().lookupPrimaryKeybinding(J,$||this._contextKeyService);if(!Q)return;return Q.resolvedKeybinding}dispatchEvent(J,$){return this._dispatch(J,$)}softDispatch(J,$){this._log("/ Soft dispatching keyboard event");let Q=this.resolveKeyboardEvent(J);if(Q.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),Oj;let[X]=Q.getDispatchChords();if(X===null)return this._log("\\ Keyboard event cannot be dispatched"),Oj;let Y=this._contextKeyService.getContext($),Z=this._currentChords.map(({keypress:G})=>G);return this._getResolver().resolve(Y,Z,X)}_scheduleLeaveChordMode(){let J=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}if(Date.now()-J>5000)this._leaveChordMode()},500)}_expectAnotherChord(J,$){switch(this._currentChords.push({keypress:J,label:$}),this._currentChords.length){case 0:throw hG("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(F("first.chord","({0}) was pressed. Waiting for second key of chord...",$));break;default:{let Q=this._currentChords.map(({label:X})=>X).join(", ");this._currentChordStatusMessage=this._notificationService.status(F("next.chord","({0}) was pressed. Waiting for next key of chord...",Q))}}if(this._scheduleLeaveChordMode(),KY.enabled)KY.disable()}_leaveChordMode(){if(this._currentChordStatusMessage)this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null;this._currentChordChecker.cancel(),this._currentChords=[],KY.enable()}_dispatch(J,$){return this._doDispatch(this.resolveKeyboardEvent(J),$,!1)}_singleModifierDispatch(J,$){let Q=this.resolveKeyboardEvent(J),[X]=Q.getSingleModifierDispatchChords();if(X){if(this._ignoreSingleModifiers.has(X))return this._log(`+ Ignoring single modifier ${X} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=r2.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1;if(this._ignoreSingleModifiers=r2.EMPTY,this._currentSingleModifier===null)return this._log(`+ Storing single modifier for possible chord ${X}.`),this._currentSingleModifier=X,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1;if(X===this._currentSingleModifier)return this._log(`/ Dispatching single modifier chord ${X} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Q,$,!0);return this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${X}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}let[Y]=Q.getChords();if(this._ignoreSingleModifiers=new r2(Y),this._currentSingleModifier!==null)this._log("+ Clearing single modifier due to other key up.");return this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(J,$,Q=!1){var X;let Y=!1;if(J.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Z=null,G=null;if(Q){let[H]=J.getSingleModifierDispatchChords();Z=H,G=H?[H]:[]}else[Z]=J.getDispatchChords(),G=this._currentChords.map(({keypress:H})=>H);if(Z===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Y;let q=this._contextKeyService.getContext($),U=J.getLabel(),z=this._getResolver().resolve(q,G,Z);switch(z.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",U,"[ No matching keybinding ]"),this.inChordMode){let H=this._currentChords.map(({label:j})=>j).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${H}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",H,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}return Y}case 1:return this._logService.trace("KeybindingService#dispatch",U,"[ Several keybindings match - more chords needed ]"),Y=!0,this._expectAnotherChord(Z,U),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),Y;case 2:{if(this._logService.trace("KeybindingService#dispatch",U,`[ Will dispatch command ${z.commandId} ]`),z.commandId===null||z.commandId===""){if(this.inChordMode){let H=this._currentChords.map(({label:j})=>j).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${H}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",H,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}}else{if(this.inChordMode)this._leaveChordMode();if(!z.isBubble)Y=!0;this._log(`+ Invoking command ${z.commandId}.`),this._currentlyDispatchingCommandId=z.commandId;try{if(typeof z.commandArgs==="undefined")this._commandService.executeCommand(z.commandId).then(void 0,(H)=>this._notificationService.warn(H));else this._commandService.executeCommand(z.commandId,z.commandArgs).then(void 0,(H)=>this._notificationService.warn(H))}finally{this._currentlyDispatchingCommandId=null}if(!$40.test(z.commandId))this._telemetryService.publicLog2("workbenchActionExecuted",{id:z.commandId,from:"keybinding",detail:(X=J.getUserSettingsLabel())!==null&&X!==void 0?X:void 0})}return Y}}}mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey)return!1;if(J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30)return!0;return!1}};r2.EMPTY=new r2(null)});class BP{constructor(J,$,Q,X,Y,Z,G){if(this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=J,this.chords=J?WP(J.getDispatchChords()):[],J&&this.chords.length===0)this.chords=WP(J.getSingleModifierDispatchChords());this.bubble=$?$.charCodeAt(0)===94:!1,this.command=this.bubble?$.substr(1):$,this.commandArgs=Q,this.when=X,this.isDefault=Y,this.extensionId=Z,this.isBuiltinExtension=G}}function WP(J){let $=[];for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y)return[];$.push(Y)}return $}class Nj{constructor(J,$,Q=$){this.modifierLabels=[null],this.modifierLabels[2]=J,this.modifierLabels[1]=$,this.modifierLabels[3]=Q}toLabel(J,$,Q){if($.length===0)return null;let X=[];for(let Y=0,Z=$.length;Y<Z;Y++){let G=$[Y],q=Q(G);if(q===null)return null;X[Y]=Q40(G,q,this.modifierLabels[J])}return X.join(" ")}}function Q40(J,$,Q){if($===null)return"";let X=[];if(J.ctrlKey)X.push(Q.ctrlKey);if(J.shiftKey)X.push(Q.shiftKey);if(J.altKey)X.push(Q.altKey);if(J.metaKey)X.push(Q.metaKey);if($!=="")X.push($);return X.join(Q.separator)}var y3,cd,ld,dd;var FP=N(()=>{g0();y3=new Nj({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),cd=new Nj({ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:F({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),ld=new Nj({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),dd=new Nj({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})});var Nk;var sd=N(()=>{P1();FP();cZ();Nk=class Nk extends fM{constructor(J,$){super();if($.length===0)throw t4("chords");this._os=J,this._chords=$}getLabel(){return y3.toLabel(this._os,this._chords,(J)=>this._getLabel(J))}getAriaLabel(){return cd.toLabel(this._os,this._chords,(J)=>this._getAriaLabel(J))}getElectronAccelerator(){if(this._chords.length>1)return null;if(this._chords[0].isDuplicateModifierCase())return null;return ld.toLabel(this._os,this._chords,(J)=>this._getElectronAccelerator(J))}getUserSettingsLabel(){return dd.toLabel(this._os,this._chords,(J)=>this._getUserSettingsLabel(J))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((J)=>this._getChord(J))}_getChord(J){return new hM(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,this._getLabel(J),this._getAriaLabel(J))}getDispatchChords(){return this._chords.map((J)=>this._getChordDispatch(J))}getSingleModifierDispatchChords(){return this._chords.map((J)=>this._getSingleModifierChordDispatch(J))}}});var x3;var ad=N(()=>{IZ();cZ();sd();x3=class x3 extends Nk{constructor(J,$){super($,J)}_keyCodeToUILabel(J){if(this._os===2)switch(J){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return j4.toString(J)}_getLabel(J){if(J.isDuplicateModifierCase())return"";return this._keyCodeToUILabel(J.keyCode)}_getAriaLabel(J){if(J.isDuplicateModifierCase())return"";return j4.toString(J.keyCode)}_getElectronAccelerator(J){return j4.toElectronAccelerator(J.keyCode)}_getUserSettingsLabel(J){if(J.isDuplicateModifierCase())return"";let $=j4.toUserSettingsUS(J.keyCode);return $?$.toLowerCase():$}_getChordDispatch(J){return x3.getDispatchStr(J)}static getDispatchStr(J){if(J.isModifierKey())return null;let $="";if(J.ctrlKey)$+="ctrl+";if(J.shiftKey)$+="shift+";if(J.altKey)$+="alt+";if(J.metaKey)$+="meta+";return $+=j4.toString(J.keyCode),$}_getSingleModifierChordDispatch(J){if(J.keyCode===5&&!J.shiftKey&&!J.altKey&&!J.metaKey)return"ctrl";if(J.keyCode===4&&!J.ctrlKey&&!J.altKey&&!J.metaKey)return"shift";if(J.keyCode===6&&!J.ctrlKey&&!J.shiftKey&&!J.metaKey)return"alt";if(J.keyCode===57&&!J.ctrlKey&&!J.shiftKey&&!J.altKey)return"meta";return null}static _scanCodeToKeyCode(J){let $=CW[J];if($!==-1)return $;switch(J){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(J){if(!J)return null;if(J instanceof L9)return J;let $=this._scanCodeToKeyCode(J.scanCode);if($===0)return null;return new L9(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,$)}static resolveKeybinding(J,$){let Q=WP(J.chords.map((X)=>this._toKeyCodeChord(X)));if(Q.length>0)return[new x3(Q,$)];return[]}}});var Tj;var Tk=N(()=>{u0();Tj=M0("labelService")});class b3{constructor(J){this.callback=J}report(J){this._value=J,this.callback(this._value)}}var rd,aS0,PX;var wj=N(()=>{u0();rd=M0("progressService"),aS0=Object.freeze({total(){},worked(){},done(){}});b3.None=Object.freeze({report(){}});PX=M0("editorProgressService")});class id{constructor(){this._value="",this._pos=0}reset(J){return this._value=J,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(J){let $=J.charCodeAt(0),Q=this._value.charCodeAt(this._pos);return $-Q}value(){return this._value[this._pos]}}class nd{constructor(J=!0){this._caseSensitive=J}reset(J){return this._value=J,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let J=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(J)this._from++;else break;else J=!1;return this}cmp(J){return this._caseSensitive?bB(J,this._value,0,J.length,this._from,this._to):uG(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class od{constructor(J=!0,$=!0){this._splitOnBackslash=J,this._caseSensitive=$}reset(J){this._from=0,this._to=0,this._value=J,this._valueLen=J.length;for(let $=J.length-1;$>=0;$--,this._valueLen--){let Q=this._value.charCodeAt($);if(!(Q===47||this._splitOnBackslash&&Q===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let J=!0;for(;this._to<this._valueLen;this._to++){let $=this._value.charCodeAt(this._to);if($===47||this._splitOnBackslash&&$===92)if(J)this._from++;else break;else J=!1}return this}cmp(J){return this._caseSensitive?bB(J,this._value,0,J.length,this._from,this._to):uG(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class td{constructor(J,$){this._ignorePathCasing=J,this._ignoreQueryAndFragment=$,this._states=[],this._stateIdx=0}reset(J){if(this._value=J,this._states=[],this._value.scheme)this._states.push(1);if(this._value.authority)this._states.push(2);if(this._value.path){if(this._pathIterator=new od(!1,!this._ignorePathCasing(J)),this._pathIterator.reset(J.path),this._pathIterator.value())this._states.push(3)}if(!this._ignoreQueryAndFragment(J)){if(this._value.query)this._states.push(4);if(this._value.fragment)this._states.push(5)}return this._stateIdx=0,this}next(){if(this._states[this._stateIdx]===3&&this._pathIterator.hasNext())this._pathIterator.next();else this._stateIdx+=1;return this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(J){if(this._states[this._stateIdx]===1)return Jz(J,this._value.scheme);else if(this._states[this._stateIdx]===2)return Jz(J,this._value.authority);else if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(J);else if(this._states[this._stateIdx]===4)return eU(J,this._value.query);else if(this._states[this._stateIdx]===5)return eU(J,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;else if(this._states[this._stateIdx]===2)return this._value.authority;else if(this._states[this._stateIdx]===3)return this._pathIterator.value();else if(this._states[this._stateIdx]===4)return this._value.query;else if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Lj{constructor(){this.height=1}rotateLeft(){let J=this.right;return this.right=J.left,J.left=this,this.updateHeight(),J.updateHeight(),J}rotateRight(){let J=this.left;return this.left=J.right,J.right=this,this.updateHeight(),J.updateHeight(),J}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var J,$;return($=(J=this.left)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}get heightRight(){var J,$;return($=(J=this.right)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}}var DX;var KP=N(()=>{t0();DX=class DX{static forUris(J=()=>!1,$=()=>!1){return new DX(new td(J,$))}static forStrings(){return new DX(new id)}static forConfigKeys(){return new DX(new nd)}constructor(J){this._iter=J}clear(){this._root=void 0}set(J,$){let Q=this._iter.reset(J),X;if(!this._root)this._root=new Lj,this._root.segment=Q.value();let Y=[];X=this._root;while(!0){let G=Q.cmp(X.segment);if(G>0){if(!X.left)X.left=new Lj,X.left.segment=Q.value();Y.push([-1,X]),X=X.left}else if(G<0){if(!X.right)X.right=new Lj,X.right.segment=Q.value();Y.push([1,X]),X=X.right}else if(Q.hasNext()){if(Q.next(),!X.mid)X.mid=new Lj,X.mid.segment=Q.value();Y.push([0,X]),X=X.mid}else break}let Z=X.value;X.value=$,X.key=J;for(let G=Y.length-1;G>=0;G--){let q=Y[G][1];q.updateHeight();let U=q.balanceFactor();if(U<-1||U>1){let z=Y[G][0],H=Y[G+1][0];if(z===1&&H===1)Y[G][1]=q.rotateLeft();else if(z===-1&&H===-1)Y[G][1]=q.rotateRight();else if(z===1&&H===-1)q.right=Y[G+1][1]=Y[G+1][1].rotateRight(),Y[G][1]=q.rotateLeft();else if(z===-1&&H===1)q.left=Y[G+1][1]=Y[G+1][1].rotateLeft(),Y[G][1]=q.rotateRight();else throw new Error;if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}return Z}get(J){var $;return($=this._getNode(J))===null||$===void 0?void 0:$.value}_getNode(J){let $=this._iter.reset(J),Q=this._root;while(Q){let X=$.cmp(Q.segment);if(X>0)Q=Q.left;else if(X<0)Q=Q.right;else if($.hasNext())$.next(),Q=Q.mid;else break}return Q}has(J){let $=this._getNode(J);return!(($===null||$===void 0?void 0:$.value)===void 0&&($===null||$===void 0?void 0:$.mid)===void 0)}delete(J){return this._delete(J,!1)}deleteSuperstr(J){return this._delete(J,!0)}_delete(J,$){var Q;let X=this._iter.reset(J),Y=[],Z=this._root;while(Z){let G=X.cmp(Z.segment);if(G>0)Y.push([-1,Z]),Z=Z.left;else if(G<0)Y.push([1,Z]),Z=Z.right;else if(X.hasNext())X.next(),Y.push([0,Z]),Z=Z.mid;else break}if(!Z)return;if($)Z.left=void 0,Z.mid=void 0,Z.right=void 0,Z.height=1;else Z.key=void 0,Z.value=void 0;if(!Z.mid&&!Z.value)if(Z.left&&Z.right){let G=this._min(Z.right);if(G.key){let{key:q,value:U,segment:z}=G;this._delete(G.key,!1),Z.key=q,Z.value=U,Z.segment=z}}else{let G=(Q=Z.left)!==null&&Q!==void 0?Q:Z.right;if(Y.length>0){let[q,U]=Y[Y.length-1];switch(q){case-1:U.left=G;break;case 0:U.mid=G;break;case 1:U.right=G;break}}else this._root=G}for(let G=Y.length-1;G>=0;G--){let q=Y[G][1];q.updateHeight();let U=q.balanceFactor();if(U>1)if(q.right.balanceFactor()>=0)Y[G][1]=q.rotateLeft();else q.right=q.right.rotateRight(),Y[G][1]=q.rotateLeft();else if(U<-1)if(q.left.balanceFactor()<=0)Y[G][1]=q.rotateRight();else q.left=q.left.rotateLeft(),Y[G][1]=q.rotateRight();if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}_min(J){while(J.left)J=J.left;return J}findSubstr(J){let $=this._iter.reset(J),Q=this._root,X=void 0;while(Q){let Y=$.cmp(Q.segment);if(Y>0)Q=Q.left;else if(Y<0)Q=Q.right;else if($.hasNext())$.next(),X=Q.value||X,Q=Q.mid;else break}return Q&&Q.value||X}findSuperstr(J){return this._findSuperstrOrElement(J,!1)}_findSuperstrOrElement(J,$){let Q=this._iter.reset(J),X=this._root;while(X){let Y=Q.cmp(X.segment);if(Y>0)X=X.left;else if(Y<0)X=X.right;else if(Q.hasNext())Q.next(),X=X.mid;else if(!X.mid)if($)return X.value;else return;else return this._entries(X.mid)}return}forEach(J){for(let[$,Q]of this)J(Q,$)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(J){let $=[];return this._dfsEntries(J,$),$[Symbol.iterator]()}_dfsEntries(J,$){if(!J)return;if(J.left)this._dfsEntries(J.left,$);if(J.value)$.push([J.key,J.value]);if(J.mid)this._dfsEntries(J.mid,$);if(J.right)this._dfsEntries(J.right,$)}}});function AP(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.uri)}function ed(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&!AP(J)&&!Z40(J)}function Js(J,$){if(typeof J==="string"||typeof J==="undefined"){if(typeof J==="string")return{id:V4(J)};if($)return X40;return Y40}let Q=J;if(Q.configuration)return{id:Q.id,configPath:Q.configuration};if(Q.folders.length===1)return{id:Q.id,uri:Q.folders[0].uri};return{id:Q.id}}function Z40(J){let $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.configPath)}class wk{constructor(J,$){this.raw=$,this.uri=J.uri,this.index=J.index,this.name=J.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var kj,X40,Y40,PP="code-workspace",QC0,$s="4064f6ec-cb38-4ad0-af64-ee6467e63c82";var DP=N(()=>{g0();BQ();KP();o6();u0();kj=M0("contextService");X40={id:"ext-dev"},Y40={id:"empty-window"};QC0=[{name:F("codeWorkspace","Code Workspace"),extensions:[PP]}]});var Qs,Xs,Ys,Zs,Gs,Ej,qs,RP;var Lk=N(()=>{g0();(function(J){J.inspectTokensAction=F("inspectTokens","Developer: Inspect Tokens")})(Qs||(Qs={}));(function(J){J.gotoLineActionLabel=F("gotoLineActionLabel","Go to Line/Column...")})(Xs||(Xs={}));(function(J){J.helpQuickAccessActionLabel=F("helpQuickAccess","Show all Quick Access Providers")})(Ys||(Ys={}));(function(J){J.quickCommandActionLabel=F("quickCommandActionLabel","Command Palette"),J.quickCommandHelp=F("quickCommandActionHelp","Show And Run Commands")})(Zs||(Zs={}));(function(J){J.quickOutlineActionLabel=F("quickOutlineActionLabel","Go to Symbol..."),J.quickOutlineByCategoryActionLabel=F("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(Gs||(Gs={}));(function(J){J.editorViewAccessibleLabel=F("editorViewAccessibleLabel","Editor content"),J.accessibilityHelpMessage=F("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(Ej||(Ej={}));(function(J){J.toggleHighContrast=F("toggleHighContrast","Toggle High Contrast Theme")})(qs||(qs={}));(function(J){J.bulkEditServiceSummary=F("bulkEditServiceSummary","Made {0} edits in {1} files")})(RP||(RP={}))});var Us;var zs=N(()=>{u0();Us=M0("workspaceTrustManagementService")});var O5;var Ij=N(()=>{(function(J){function $(Z,G){if(Z.start>=G.end||G.start>=Z.end)return{start:0,end:0};let q=Math.max(Z.start,G.start),U=Math.min(Z.end,G.end);if(U-q<=0)return{start:0,end:0};return{start:q,end:U}}J.intersect=$;function Q(Z){return Z.end-Z.start<=0}J.isEmpty=Q;function X(Z,G){return!Q($(Z,G))}J.intersects=X;function Y(Z,G){let q=[],U={start:Z.start,end:Math.min(G.start,Z.end)},z={start:Math.max(G.end,Z.start),end:Z.end};if(!Q(U))q.push(U);if(!Q(z))q.push(z);return q}J.relativeComplement=Y})(O5||(O5={}))});var Hs=N(()=>{j0(".context-view{position:absolute}.context-view.fixed{all:initial;color:inherit;font-family:inherit;font-size:13px;position:fixed}")});function G40(J){let $=J;return!!$&&typeof $.x==="number"&&typeof $.y==="number"}function i2(J,$,Q){let X=Q.mode===gY.ALIGN?Q.offset:Q.offset+Q.size,Y=Q.mode===gY.ALIGN?Q.offset+Q.size:Q.offset;if(Q.position===0){if($<=J-X)return X;if($<=Y)return Y-$;return Math.max(J-$,0)}else{if($<=Y)return Y-$;if($<=J-X)return X;return 0}}var gY,n2,q40=`
\t:host {
\t\tall: initial; /* 1st rule so subsequent properties are reset. */
\t}

\t.codicon[class*='codicon-'] {
\t\tfont: normal normal normal 16px/1 codicon;
\t\tdisplay: inline-block;
\t\ttext-decoration: none;
\t\ttext-rendering: auto;
\t\ttext-align: center;
\t\t-webkit-font-smoothing: antialiased;
\t\t-moz-osx-font-smoothing: grayscale;
\t\tuser-select: none;
\t\t-webkit-user-select: none;
\t\t-ms-user-select: none;
\t}

\t:host {
\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
\t}

\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var kk=N(()=>{YF();D0();Q0();M1();Ij();Hs();(function(J){J[J.AVOID=0]="AVOID",J[J.ALIGN=1]="ALIGN"})(gY||(gY={}));n2=class n2 extends h{constructor(J,$){super();this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=h.None,this.toDisposeOnSetContainer=h.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=q0(".context-view"),b7(this.view),this.setContainer(J,$),this._register(K0(()=>this.setContainer(null,1)))}setContainer(J,$){var Q;this.useFixedPosition=$!==1;let X=this.useShadowDOM;if(this.useShadowDOM=$===3,J===this.container&&X===this.useShadowDOM)return;if(this.container){if(this.toDisposeOnSetContainer.dispose(),this.shadowRoot)this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(Q=this.shadowRootHostElement)===null||Q===void 0||Q.remove(),this.shadowRootHostElement=null;else this.container.removeChild(this.view);this.container=null}if(J){if(this.container=J,this.useShadowDOM){this.shadowRootHostElement=q0(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let Z=document.createElement("style");Z.textContent=q40,this.shadowRoot.appendChild(Z),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(q0("slot"))}else this.container.appendChild(this.view);let Y=new r;n2.BUBBLE_UP_EVENTS.forEach((Z)=>{Y.add(i1(this.container,Z,(G)=>{this.onDOMEvent(G,!1)}))}),n2.BUBBLE_DOWN_EVENTS.forEach((Z)=>{Y.add(i1(this.container,Z,(G)=>{this.onDOMEvent(G,!0)},!0))}),this.toDisposeOnSetContainer=Y}}show(J){var $,Q;if(this.isVisible())this.hide();I5(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",x7(this.view),this.toDisposeOnClean=J.render(this.view)||h.None,this.delegate=J,this.doLayout(),(Q=($=this.delegate).focus)===null||Q===void 0||Q.call($)}getViewElement(){return this.view}layout(){if(!this.isVisible())return;if(this.delegate.canRelayout===!1&&!(O9&&Jq.pointerEvents)){this.hide();return}if(this.delegate.layout)this.delegate.layout();this.doLayout()}doLayout(){if(!this.isVisible())return;let J=this.delegate.getAnchor(),$;if(J instanceof HTMLElement){let j=P5(J),V=DF(J);$={top:j.top*V,left:j.left*V,width:j.width*V,height:j.height*V}}else if(G40(J))$={top:J.y,left:J.x,width:J.width||1,height:J.height||2};else $={top:J.posy,left:J.posx,width:2,height:2};let Q=Yq(this.view),X=wz(this.view),Y=this.delegate.anchorPosition||0,Z=this.delegate.anchorAlignment||0,G=this.delegate.anchorAxisAlignment||0,q,U,z=HC();if(G===0){let j={offset:$.top-z.pageYOffset,size:$.height,position:Y===0?0:1},V={offset:$.left,size:$.width,position:Z===0?0:1,mode:gY.ALIGN};if(q=i2(z.innerHeight,X,j)+z.pageYOffset,O5.intersects({start:q,end:q+X},{start:j.offset,end:j.offset+j.size}))V.mode=gY.AVOID;U=i2(z.innerWidth,Q,V)}else{let j={offset:$.left,size:$.width,position:Z===0?0:1},V={offset:$.top,size:$.height,position:Y===0?0:1,mode:gY.ALIGN};if(U=i2(z.innerWidth,Q,j),O5.intersects({start:U,end:U+Q},{start:j.offset,end:j.offset+j.size}))V.mode=gY.AVOID;q=i2(z.innerHeight,X,V)+z.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(Y===0?"bottom":"top"),this.view.classList.add(Z===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let H=P5(this.container);this.view.style.top=`${q-(this.useFixedPosition?P5(this.view).top:H.top)}px`,this.view.style.left=`${U-(this.useFixedPosition?P5(this.view).left:H.left)}px`,this.view.style.width="initial"}hide(J){let $=this.delegate;if(this.delegate=null,$===null||$===void 0?void 0:$.onHide)$.onHide(J);this.toDisposeOnClean.dispose(),b7(this.view)}isVisible(){return!!this.delegate}onDOMEvent(J,$){if(this.delegate){if(this.delegate.onDOMEvent)this.delegate.onDOMEvent(J,B0(J).document.activeElement);else if($&&!p6(J.target,this.container))this.hide()}}dispose(){this.hide(),super.dispose()}};n2.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];n2.BUBBLE_DOWN_EVENTS=["click"]});var U40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},z40=function(J,$){return function(Q,X){$(Q,X,J)}},MP;var js=N(()=>{kk();Q0();xY();D0();MP=class J extends h{constructor($){super();this.layoutService=$,this.currentViewDisposable=h.None,this.contextView=this._register(new n2(this.layoutService.mainContainer,1)),this.layout(),this._register($.onDidLayoutContainer(()=>this.layout()))}showContextView($,Q,X){let Y;if(Q)if(Q===this.layoutService.getContainer(B0(Q)))Y=1;else if(X)Y=3;else Y=2;else Y=1;this.contextView.setContainer(Q!==null&&Q!==void 0?Q:this.layoutService.activeContainer,Y),this.contextView.show($);let Z=K0(()=>{if(this.currentViewDisposable===Z)this.hideContextView()});return this.currentViewDisposable=Z,Z}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView($){this.contextView.hide($)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=h.None}};MP=U40([z40(0,F9)],MP)});function yj(J,$=!1){H40(J,!1,$)}function H40(J,$,Q){let X=j40(J,$);if(S3.push(X),!X.userConfigured)Ek.push(X);else Ws.push(X);if(Q&&!X.userConfigured)S3.forEach((Y)=>{if(Y.mime===X.mime||Y.userConfigured)return;if(X.extension&&Y.extension===X.extension)console.warn(`Overwriting extension <<${X.extension}>> to now point to mime <<${X.mime}>>`);if(X.filename&&Y.filename===X.filename)console.warn(`Overwriting filename <<${X.filename}>> to now point to mime <<${X.mime}>>`);if(X.filepattern&&Y.filepattern===X.filepattern)console.warn(`Overwriting filepattern <<${X.filepattern}>> to now point to mime <<${X.mime}>>`);if(X.firstline&&Y.firstline===X.firstline)console.warn(`Overwriting firstline <<${X.firstline}>> to now point to mime <<${X.mime}>>`)})}function j40(J,$){return{id:J.id,mime:J.mime,filename:J.filename,extension:J.extension,filepattern:J.filepattern,firstline:J.firstline,userConfigured:$,filenameLowercase:J.filename?J.filename.toLowerCase():void 0,extensionLowercase:J.extension?J.extension.toLowerCase():void 0,filepatternLowercase:J.filepattern?mL(J.filepattern.toLowerCase()):void 0,filepatternOnPath:J.filepattern?J.filepattern.indexOf(R6.sep)>=0:!1}}function Bs(){S3=S3.filter((J)=>J.userConfigured),Ek=[]}function Fs(J,$){return V40(J,$).map((Q)=>Q.id)}function V40(J,$){let Q;if(J)switch(J.scheme){case $1.file:Q=J.fsPath;break;case $1.data:{Q=B9.parseMetaData(J).get(B9.META_DATA_LABEL);break}case $1.vscodeNotebookCell:Q=void 0;break;default:Q=J.path}if(!Q)return[{id:"unknown",mime:f9.unknown}];Q=Q.toLowerCase();let X=V4(Q),Y=Vs(Q,X,Ws);if(Y)return[Y,{id:R5,mime:f9.text}];let Z=Vs(Q,X,Ek);if(Z)return[Z,{id:R5,mime:f9.text}];if($){let G=W40($);if(G)return[G,{id:R5,mime:f9.text}]}return[{id:"unknown",mime:f9.unknown}]}function Vs(J,$,Q){var X;let Y=void 0,Z=void 0,G=void 0;for(let q=Q.length-1;q>=0;q--){let U=Q[q];if($===U.filenameLowercase){Y=U;break}if(U.filepattern){if(!Z||U.filepattern.length>Z.filepattern.length){let z=U.filepatternOnPath?J:$;if((X=U.filepatternLowercase)===null||X===void 0?void 0:X.call(U,z))Z=U}}if(U.extension){if(!G||U.extension.length>G.extension.length){if($.endsWith(U.extensionLowercase))G=U}}}if(Y)return Y;if(Z)return Z;if(G)return G;return}function W40(J){if(aG(J))J=J.substr(1);if(J.length>0)for(let $=S3.length-1;$>=0;$--){let Q=S3[$];if(!Q.firstline)continue;let X=J.match(Q.firstline);if(X&&X.length>0)return Q}return}var S3,Ek,Ws;var Ks=N(()=>{uL();bz();U9();BQ();v$();t0();T4();S3=[],Ek=[],Ws=[]});class Ps{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(As,0),this._register(R5,1),this._nextLanguageId=2}_register(J,$){this._languageIdToLanguage[$]=J,this._languageToLanguageId.set(J,$)}register(J){if(this._languageToLanguageId.has(J))return;let $=this._nextLanguageId++;this._register(J,$)}encodeLanguageId(J){return this._languageToLanguageId.get(J)||0}decodeLanguageId(J){return this._languageIdToLanguage[J]||As}}var _P,As="vs.editor.nullLanguage",C3;var Ds=N(()=>{F0();Q0();t0();Ks();T4();X2();$7();_P=Object.prototype.hasOwnProperty;C3=class C3 extends h{constructor(J=!0,$=!1){super();if(this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,C3.instanceCount++,this._warnOnOverwrite=$,this.languageIdCodec=new Ps,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},J)this._initializeFromRegistry(),this._register(eX.onDidChangeLanguages((Q)=>{this._initializeFromRegistry()}))}dispose(){C3.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Bs();let J=[].concat(eX.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(J)}_registerLanguages(J){for(let $ of J)this._registerLanguage($);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(($)=>{let Q=this._languages[$];if(Q.name)this._nameMap[Q.name]=Q.identifier;Q.aliases.forEach((X)=>{this._lowercaseNameMap[X.toLowerCase()]=Q.identifier}),Q.mimetypes.forEach((X)=>{this._mimeTypesMap[X]=Q.identifier})}),r1.as(g9.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(J){let $=J.id,Q;if(_P.call(this._languages,$))Q=this._languages[$];else this.languageIdCodec.register($),Q={identifier:$,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[$]=Q;this._mergeLanguage(Q,J)}_mergeLanguage(J,$){let Q=$.id,X=null;if(Array.isArray($.mimetypes)&&$.mimetypes.length>0)J.mimetypes.push(...$.mimetypes),X=$.mimetypes[0];if(!X)X=`text/x-${Q}`,J.mimetypes.push(X);if(Array.isArray($.extensions)){if($.configuration)J.extensions=$.extensions.concat(J.extensions);else J.extensions=J.extensions.concat($.extensions);for(let G of $.extensions)yj({id:Q,mime:X,extension:G},this._warnOnOverwrite)}if(Array.isArray($.filenames))for(let G of $.filenames)yj({id:Q,mime:X,filename:G},this._warnOnOverwrite),J.filenames.push(G);if(Array.isArray($.filenamePatterns))for(let G of $.filenamePatterns)yj({id:Q,mime:X,filepattern:G},this._warnOnOverwrite);if(typeof $.firstLine==="string"&&$.firstLine.length>0){let G=$.firstLine;if(G.charAt(0)!=="^")G="^"+G;try{let q=new RegExp(G);if(!WS(q))yj({id:Q,mime:X,firstline:q},this._warnOnOverwrite)}catch(q){console.warn(`[${$.id}]: Invalid regular expression \`${G}\`: `,q)}}J.aliases.push(Q);let Y=null;if(typeof $.aliases!=="undefined"&&Array.isArray($.aliases))if($.aliases.length===0)Y=[null];else Y=$.aliases;if(Y!==null)for(let G of Y){if(!G||G.length===0)continue;J.aliases.push(G)}let Z=Y!==null&&Y.length>0;if(Z&&Y[0]===null);else{let G=(Z?Y[0]:null)||Q;if(Z||!J.name)J.name=G}if($.configuration)J.configurationFiles.push($.configuration);if($.icon)J.icons.push($.icon)}isRegisteredLanguageId(J){if(!J)return!1;return _P.call(this._languages,J)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(J){let $=J.toLowerCase();if(!_P.call(this._lowercaseNameMap,$))return null;return this._lowercaseNameMap[$]}getLanguageIdByMimeType(J){if(!J)return null;if(_P.call(this._mimeTypesMap,J))return this._mimeTypesMap[J];return null}guessLanguageIdByFilepathOrFirstLine(J,$){if(!J&&!$)return[];return Fs(J,$)}};C3.instanceCount=0});class Ik{constructor(J,$){this._onDidChangeLanguages=J,this._selector=$,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){if(this._listener)this._listener.dispose(),this._listener=null;if(this._emitter)this._emitter.dispose(),this._emitter=null}get onDidChange(){if(!this._listener)this._listener=this._onDidChangeLanguages(()=>this._evaluate());if(!this._emitter)this._emitter=new y({onDidRemoveLastListener:()=>{this._dispose()}});return this._emitter.event}_evaluate(){var J;let $=this._selector();if($===this.languageId)return;this.languageId=$,(J=this._emitter)===null||J===void 0||J.fire(this.languageId)}}var v3;var Rs=N(()=>{F0();Q0();Ds();U1();P8();T4();v3=class v3 extends h{constructor(J=!1){super();this._onDidRequestBasicLanguageFeatures=this._register(new y),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new y),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new y({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,v3.instanceCount++,this._registry=this._register(new C3(!0,J)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){v3.instanceCount--,super.dispose()}isRegisteredLanguageId(J){return this._registry.isRegisteredLanguageId(J)}getLanguageIdByLanguageName(J){return this._registry.getLanguageIdByLanguageName(J)}getLanguageIdByMimeType(J){return this._registry.getLanguageIdByMimeType(J)}guessLanguageIdByFilepathOrFirstLine(J,$){let Q=this._registry.guessLanguageIdByFilepathOrFirstLine(J,$);return IG(Q,null)}createById(J){return new Ik(this.onDidChange,()=>{return this._createAndGetLanguageIdentifier(J)})}createByFilepathOrFirstLine(J,$){return new Ik(this.onDidChange,()=>{let Q=this.guessLanguageIdByFilepathOrFirstLine(J,$);return this._createAndGetLanguageIdentifier(Q)})}_createAndGetLanguageIdentifier(J){if(!J||!this.isRegisteredLanguageId(J))J=R5;return J}requestBasicLanguageFeatures(J){if(!this._requestedBasicLanguages.has(J))this._requestedBasicLanguages.add(J),this._onDidRequestBasicLanguageFeatures.fire(J)}requestRichLanguageFeatures(J){if(!this._requestedRichLanguages.has(J))this._requestedRichLanguages.add(J),this.requestBasicLanguageFeatures(J),c1.getOrCreate(J),this._onDidRequestRichLanguageFeatures.fire(J)}};v3.instanceCount=0});var OP;var yk=N(()=>{bz();OP={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f9.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}});function Ms(J,$){if(Y5($))J.title=YP($);else if($===null||$===void 0?void 0:$.markdownNotSupportedFallback)J.title=$.markdownNotSupportedFallback;else J.removeAttribute("title")}class _s{constructor(J,$,Q){this.hoverDelegate=J,this.target=$,this.fadeInAnimation=Q}async update(J,$,Q){var X;if(this._cancellationTokenSource)this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0;if(this.isDisposed)return;let Y;if(J===void 0||Y5(J)||J instanceof HTMLElement)Y=J;else if(!yG(J.markdown))Y=(X=J.markdown)!==null&&X!==void 0?X:J.markdownNotSupportedFallback;else{if(!this._hoverWidget)this.show(F("iconLabel.loading","Loading..."),$);this._cancellationTokenSource=new q5;let Z=this._cancellationTokenSource.token;if(Y=await J.markdown(Z),Y===void 0)Y=J.markdownNotSupportedFallback;if(this.isDisposed||Z.isCancellationRequested)return}this.show(Y,$,Q)}show(J,$,Q){let X=this._hoverWidget;if(this.hasContent(J)){let Y={content:J,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!X},position:{hoverPosition:2},...Q};this._hoverWidget=this.hoverDelegate.showHover(Y,$)}X===null||X===void 0||X.dispose()}hasContent(J){if(!J)return!1;if(AX(J))return!!J.value;return!0}get isDisposed(){var J;return(J=this._hoverWidget)===null||J===void 0?void 0:J.isDisposed}dispose(){var J,$;(J=this._hoverWidget)===null||J===void 0||J.dispose(),($=this._cancellationTokenSource)===null||$===void 0||$.dispose(!0),this._cancellationTokenSource=void 0}}function NP(J,$,Q,X){let Y,Z,G=(A,D)=>{var R;let M=Z!==void 0;if(A)Z===null||Z===void 0||Z.dispose(),Z=void 0;if(D)Y===null||Y===void 0||Y.dispose(),Y=void 0;if(M)(R=J.onDidHideHover)===null||R===void 0||R.call(J)},q=(A,D,R)=>{return new M8(async()=>{if(!Z||Z.isDisposed)Z=new _s(J,R||$,A>0),await Z.update(Q,D,X)},A)},U=!1,z=m($,$0.MOUSE_DOWN,()=>{U=!0,G(!0,!0)},!0),H=m($,$0.MOUSE_UP,()=>{U=!1},!0),j=m($,$0.MOUSE_LEAVE,(A)=>{U=!1,G(!1,A.fromElement===$)},!0),V=()=>{if(Y)return;let A=new r,D={targetElements:[$],dispose:()=>{}};if(J.placement===void 0||J.placement==="mouse"){let R=(M)=>{if(D.x=M.x+10,M.target instanceof HTMLElement&&M.target.classList.contains("action-label"))G(!0,!0)};A.add(m($,$0.MOUSE_MOVE,R,!0))}A.add(q(J.delay,!1,D)),Y=A},W=m($,$0.MOUSE_OVER,V,!0),B=()=>{if(U||Y)return;let A={targetElements:[$],dispose:()=>{}},D=new r,R=()=>G(!0,!0);D.add(m($,$0.BLUR,R,!0)),D.add(q(J.delay,!1,A)),Y=D},K=m($,$0.FOCUS,B,!0);return{show:(A)=>{G(!1,!0),q(0,A)},hide:()=>{G(!0,!0)},update:async(A,D)=>{Q=A,await(Z===null||Z===void 0?void 0:Z.update(Q,void 0,D))},dispose:()=>{W.dispose(),j.dispose(),z.dispose(),H.dispose(),K.dispose(),G(!0,!0)}}}var xk=N(()=>{D0();u1();e5();s2();T3();Q0();g0()});class bk{constructor(J){this.spliceables=J}splice(J,$,Q){this.spliceables.forEach((X)=>X.splice(J,$,Q))}}var Sk=N(()=>{j0(".monaco-list{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-list.mouse-support{-webkit-user-select:none;user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{width:100%;height:100%;position:relative}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{box-sizing:border-box;width:100%;position:absolute;overflow:hidden}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list .monaco-scrollable-element>.scrollbar.vertical,.monaco-pane-view>.monaco-split-view2.vertical>.monaco-scrollable-element>.scrollbar.vertical{z-index:14}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-single,.monaco-list.selection-multiple{outline:0!important}.monaco-drag-image{z-index:1000;border-radius:10px;padding:1px 7px;font-size:12px;display:inline-block;position:absolute}.monaco-list-type-filter-message{box-sizing:border-box;text-align:center;white-space:normal;opacity:.7;pointer-events:none;width:100%;height:100%;padding:40px 1em 1em;position:absolute;top:0;left:0}.monaco-list-type-filter-message:empty{display:none}")});var RX;var Os=N(()=>{RX=class RX extends Error{constructor(J,$){super(`ListError [${J}] ${$}`)}}});function Ns(J,$){let Q=[];for(let X of $){if(J.start>=X.range.end)continue;if(J.end<X.range.start)break;let Y=O5.intersect(J,X.range);if(O5.isEmpty(Y))continue;Q.push({range:Y,size:X.size})}return Q}function TP({start:J,end:$},Q){return{start:J+Q,end:$+Q}}function B40(J){let $=[],Q=null;for(let X of J){let Y=X.range.start,Z=X.range.end,G=X.size;if(Q&&G===Q.size){Q.range.end=Z;continue}Q={range:{start:Y,end:Z},size:G},$.push(Q)}return $}function F40(...J){return B40(J.reduce(($,Q)=>$.concat(Q),[]))}class wP{get paddingTop(){return this._paddingTop}set paddingTop(J){this._size=this._size+J-this._paddingTop,this._paddingTop=J}constructor(J){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=J!==null&&J!==void 0?J:0,this._size=this._paddingTop}splice(J,$,Q=[]){let X=Q.length-$,Y=Ns({start:0,end:J},this.groups),Z=Ns({start:J+$,end:Number.POSITIVE_INFINITY},this.groups).map((q)=>({range:TP(q.range,X),size:q.size})),G=Q.map((q,U)=>({range:{start:J+U,end:J+U+1},size:q.size}));this.groups=F40(Y,G,Z),this._size=this._paddingTop+this.groups.reduce((q,U)=>q+U.size*(U.range.end-U.range.start),0)}get count(){let J=this.groups.length;if(!J)return 0;return this.groups[J-1].range.end}get size(){return this._size}indexAt(J){if(J<0)return-1;if(J<this._paddingTop)return 0;let $=0,Q=this._paddingTop;for(let X of this.groups){let Y=X.range.end-X.range.start,Z=Q+Y*X.size;if(J<Z)return $+Math.floor((J-Q)/X.size);$+=Y,Q=Z}return $}indexAfter(J){return Math.min(this.indexAt(J)+1,this.count)}positionAt(J){if(J<0)return-1;let $=0,Q=0;for(let X of this.groups){let Y=X.range.end-X.range.start,Z=Q+Y;if(J<Z)return this._paddingTop+$+(J-Q)*X.size;$+=Y*X.size,Q=Z}return-1}}var Ts=N(()=>{Ij()});function K40(J){var $;try{($=J.parentElement)===null||$===void 0||$.removeChild(J)}catch(Q){}}class Ck{constructor(J){this.renderers=J,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(J){let $=this.getTemplateCache(J).pop(),Q=!1;if($){if(Q=this.transactionNodesPendingRemoval.has($.domNode),Q)this.transactionNodesPendingRemoval.delete($.domNode)}else{let X=q0(".monaco-list-row"),Z=this.getRenderer(J).renderTemplate(X);$={domNode:X,templateId:J,templateData:Z}}return{row:$,isReusingConnectedDomNode:Q}}release(J){if(!J)return;this.releaseRow(J)}transact(J){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{J()}finally{for(let $ of this.transactionNodesPendingRemoval)this.doRemoveNode($);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(J){let{domNode:$,templateId:Q}=J;if($)if(this.inTransaction)this.transactionNodesPendingRemoval.add($);else this.doRemoveNode($);this.getTemplateCache(Q).push(J)}doRemoveNode(J){J.classList.remove("scrolling"),K40(J)}getTemplateCache(J){let $=this.cache.get(J);if(!$)$=[],this.cache.set(J,$);return $}dispose(){this.cache.forEach((J,$)=>{for(let Q of J)this.getRenderer($).disposeTemplate(Q.templateData),Q.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(J){let $=this.renderers.get(J);if(!$)throw new Error(`No renderer found for ${J}`);return $}}var ws=N(()=>{D0()});class pY{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class Ls{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class ks{constructor(){this.types=[],this.files=[]}update(J){if(J.types)this.types.splice(0,this.types.length,...J.types);if(J.files){this.files.splice(0,this.files.length);for(let $=0;$<J.files.length;$++){let Q=J.files.item($);if(Q&&(Q.size||Q.type))this.files.push(Q)}}}getData(){return{types:this.types,files:this.files}}}function A40(J,$){if(Array.isArray(J)&&Array.isArray($))return Q6(J,$);return J===$}class Es{constructor(J){if(J===null||J===void 0?void 0:J.getSetSize)this.getSetSize=J.getSetSize.bind(J);else this.getSetSize=($,Q,X)=>X;if(J===null||J===void 0?void 0:J.getPosInSet)this.getPosInSet=J.getPosInSet.bind(J);else this.getPosInSet=($,Q)=>Q+1;if(J===null||J===void 0?void 0:J.getRole)this.getRole=J.getRole.bind(J);else this.getRole=($)=>"listitem";if(J===null||J===void 0?void 0:J.isChecked)this.isChecked=J.isChecked.bind(J);else this.isChecked=($)=>{return}}}class K9{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(J){if(J===this._horizontalScrolling)return;if(J&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=J,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:RF(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}constructor(J,$,Q,X=a$){var Y,Z,G,q,U,z,H,j,V,W,B,K,P;if(this.virtualDelegate=$,this.domId=`list_id_${++K9.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new R4(50),this.splicing=!1,this.dragOverAnimationStopDisposable=h.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=h.None,this.onDragLeaveTimeout=h.None,this.disposables=new r,this._onDidChangeContentHeight=new y,this._onDidChangeContentWidth=new y,this.onDidChangeContentHeight=J0.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,X.horizontalScrolling&&X.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new wP((Y=X.paddingTop)!==null&&Y!==void 0?Y:0);for(let D of Q)this.renderers.set(D.templateId,D);if(this.cache=this.disposables.add(new Ck(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof X.mouseSupport==="boolean"?X.mouseSupport:!0),this._horizontalScrolling=(Z=X.horizontalScrolling)!==null&&Z!==void 0?Z:a$.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof X.paddingBottom==="undefined"?0:X.paddingBottom,this.accessibilityProvider=new Es(X.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(G=X.transformOptimization)!==null&&G!==void 0?G:a$.transformOptimization)this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict";this.disposables.add(T1.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new y4({forceIntegerValues:!0,smoothScrollDuration:((q=X.smoothScrolling)!==null&&q!==void 0?q:!1)?125:0,scheduleAtNextAnimationFrame:(D)=>A5(B0(this.domNode),D)})),this.scrollableElement=this.disposables.add(new nQ(this.rowsContainer,{alwaysConsumeMouseWheel:(U=X.alwaysConsumeMouseWheel)!==null&&U!==void 0?U:a$.alwaysConsumeMouseWheel,horizontal:1,vertical:(z=X.verticalScrollMode)!==null&&z!==void 0?z:a$.verticalScrollMode,useShadows:(H=X.useShadows)!==null&&H!==void 0?H:a$.useShadows,mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity,fastScrollSensitivity:X.fastScrollSensitivity,scrollByPage:X.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),J.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(m(this.rowsContainer,E1.Change,(D)=>this.onTouchChange(D))),this.disposables.add(m(this.scrollableElement.getDomNode(),"scroll",(D)=>D.target.scrollTop=0)),this.disposables.add(m(this.domNode,"dragover",(D)=>this.onDragOver(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"drop",(D)=>this.onDrop(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"dragleave",(D)=>this.onDragLeave(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"dragend",(D)=>this.onDragEnd(D))),this.setRowLineHeight=(j=X.setRowLineHeight)!==null&&j!==void 0?j:a$.setRowLineHeight,this.setRowHeight=(V=X.setRowHeight)!==null&&V!==void 0?V:a$.setRowHeight,this.supportDynamicHeights=(W=X.supportDynamicHeights)!==null&&W!==void 0?W:a$.supportDynamicHeights,this.dnd=(B=X.dnd)!==null&&B!==void 0?B:this.disposables.add(a$.dnd),this.layout((K=X.initialSize)===null||K===void 0?void 0:K.height,(P=X.initialSize)===null||P===void 0?void 0:P.width)}updateOptions(J){if(J.paddingBottom!==void 0)this.paddingBottom=J.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});if(J.smoothScrolling!==void 0)this.scrollable.setSmoothScrollDuration(J.smoothScrolling?125:0);if(J.horizontalScrolling!==void 0)this.horizontalScrolling=J.horizontalScrolling;let $;if(J.scrollByPage!==void 0)$={...$!==null&&$!==void 0?$:{},scrollByPage:J.scrollByPage};if(J.mouseWheelScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},mouseWheelScrollSensitivity:J.mouseWheelScrollSensitivity};if(J.fastScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},fastScrollSensitivity:J.fastScrollSensitivity};if($)this.scrollableElement.updateOptions($);if(J.paddingTop!==void 0&&J.paddingTop!==this.rangeMap.paddingTop){let Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),X=J.paddingTop-this.rangeMap.paddingTop;if(this.rangeMap.paddingTop=J.paddingTop,this.render(Q,Math.max(0,this.lastRenderTop+X),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(J,$,Q=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(J,$,Q)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(J,$,Q=[]){let X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Y={start:J,end:J+$},Z=O5.intersect(X,Y),G=new Map;for(let _=Z.end-1;_>=Z.start;_--){let T=this.items[_];if(T.dragStartDisposable.dispose(),T.checkedDisposable.dispose(),T.row){let w=G.get(T.templateId);if(!w)w=[],G.set(T.templateId,w);let b=this.renderers.get(T.templateId);if(b&&b.disposeElement)b.disposeElement(T.element,_,T.row.templateData,T.size);w.push(T.row)}T.row=null}let q={start:J+$,end:this.items.length},U=O5.intersect(q,X),z=O5.relativeComplement(q,X),H=Q.map((_)=>({id:String(this.itemId++),element:_,templateId:this.virtualDelegate.getTemplateId(_),size:this.virtualDelegate.getHeight(_),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(_),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:h.None,checkedDisposable:h.None})),j;if(J===0&&$>=this.items.length)this.rangeMap=new wP(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,H),j=this.items,this.items=H;else this.rangeMap.splice(J,$,H),j=this.items.splice(J,$,...H);let V=Q.length-$,W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),B=TP(U,V),K=O5.intersect(W,B);for(let _=K.start;_<K.end;_++)this.updateItemInDOM(this.items[_],_);let P=O5.relativeComplement(B,W);for(let _ of P)for(let T=_.start;T<_.end;T++)this.removeItemFromDOM(T);let A=z.map((_)=>TP(_,V)),R=[{start:J,end:J+Q.length},...A].map((_)=>O5.intersect(W,_)),M=this.getNextToLastElement(R);for(let _ of R)for(let T=_.start;T<_.end;T++){let w=this.items[T],b=G.get(w.templateId),S=b===null||b===void 0?void 0:b.pop();this.insertItemInDOM(T,M,S)}for(let _ of G.values())for(let T of _)this.cache.release(T);if(this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight);return j.map((_)=>_.element)}eventuallyUpdateScrollDimensions(){if(this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,!this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable=A5(B0(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let J=0;for(let $ of this.items)if(typeof $.width!=="undefined")J=Math.max(J,$.width);this.scrollWidth=J,this.scrollableElement.setScrollDimensions({scrollWidth:J===0?0:J+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(!this.supportDynamicHeights)return;for(let J of this.items)J.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(J){return this.items[J].element}indexOf(J){return this.items.findIndex(($)=>$.element===J)}domElement(J){let $=this.items[J].row;return $&&$.domNode}elementHeight(J){return this.items[J].size}elementTop(J){return this.rangeMap.positionAt(J)}indexAt(J){return this.rangeMap.indexAt(J)}indexAfter(J){return this.rangeMap.indexAfter(J)}layout(J,$){let Q={height:typeof J==="number"?J:UC(this.domNode)};if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,Q.scrollHeight=this.scrollHeight;if(this.scrollableElement.setScrollDimensions(Q),typeof $!=="undefined"){if(this.renderWidth=$,this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight)}if(this.horizontalScrolling)this.scrollableElement.setScrollDimensions({width:typeof $==="number"?$:RF(this.domNode)})}render(J,$,Q,X,Y,Z=!1){let G=this.getRenderRange($,Q),q=O5.relativeComplement(G,J),U=O5.relativeComplement(J,G),z=this.getNextToLastElement(q);if(Z){let H=O5.intersect(J,G);for(let j=H.start;j<H.end;j++)this.updateItemInDOM(this.items[j],j)}if(this.cache.transact(()=>{for(let H of U)for(let j=H.start;j<H.end;j++)this.removeItemFromDOM(j);for(let H of q)for(let j=H.start;j<H.end;j++)this.insertItemInDOM(j,z)}),X!==void 0)this.rowsContainer.style.left=`-${X}px`;if(this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&Y!==void 0)this.rowsContainer.style.width=`${Math.max(Y,this.renderWidth)}px`;this.lastRenderTop=$,this.lastRenderHeight=Q}insertItemInDOM(J,$,Q){let X=this.items[J],Y=!1;if(!X.row)if(Q)X.row=Q;else{let z=this.cache.alloc(X.templateId);X.row=z.row,Y=z.isReusingConnectedDomNode}let Z=this.accessibilityProvider.getRole(X.element)||"listitem";X.row.domNode.setAttribute("role",Z);let G=this.accessibilityProvider.isChecked(X.element);if(typeof G==="boolean")X.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){let z=(H)=>X.row.domNode.setAttribute("aria-checked",String(!!H));z(G.value),X.checkedDisposable=G.onDidChange(z)}if(Y||!X.row.domNode.parentElement)if($)this.rowsContainer.insertBefore(X.row.domNode,$);else this.rowsContainer.appendChild(X.row.domNode);this.updateItemInDOM(X,J);let q=this.renderers.get(X.templateId);if(!q)throw new Error(`No renderer found for template id ${X.templateId}`);q===null||q===void 0||q.renderElement(X.element,J,X.row.templateData,X.size);let U=this.dnd.getDragURI(X.element);if(X.dragStartDisposable.dispose(),X.row.domNode.draggable=!!U,U)X.dragStartDisposable=m(X.row.domNode,"dragstart",(z)=>this.onDragStart(X.element,U,z));if(this.horizontalScrolling)this.measureItemWidth(X),this.eventuallyUpdateScrollWidth()}measureItemWidth(J){if(!J.row||!J.row.domNode)return;J.row.domNode.style.width="fit-content",J.width=RF(J.row.domNode);let $=B0(J.row.domNode).getComputedStyle(J.row.domNode);if($.paddingLeft)J.width+=parseFloat($.paddingLeft);if($.paddingRight)J.width+=parseFloat($.paddingRight);J.row.domNode.style.width=""}updateItemInDOM(J,$){if(J.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight)J.row.domNode.style.height=`${J.size}px`;if(this.setRowLineHeight)J.row.domNode.style.lineHeight=`${J.size}px`;J.row.domNode.setAttribute("data-index",`${$}`),J.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),J.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),J.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(J.element,$,this.length))),J.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(J.element,$))),J.row.domNode.setAttribute("id",this.getElementDomId($)),J.row.domNode.classList.toggle("drop-target",J.dropTarget)}removeItemFromDOM(J){let $=this.items[J];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){let Q=this.renderers.get($.templateId);if(Q&&Q.disposeElement)Q.disposeElement($.element,J,$.row.templateData,$.size);this.cache.release($.row),$.row=null}if(this.horizontalScrolling)this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(J,$){if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});this.scrollableElement.setScrollPosition({scrollTop:J,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(J){this.setScrollTop(J)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return J0.map(this.disposables.add(new G1(this.domNode,"click")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseDblClick(){return J0.map(this.disposables.add(new G1(this.domNode,"dblclick")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseMiddleClick(){return J0.filter(J0.map(this.disposables.add(new G1(this.domNode,"auxclick")).event,(J)=>this.toMouseEvent(J),this.disposables),(J)=>J.browserEvent.button===1,this.disposables)}get onMouseDown(){return J0.map(this.disposables.add(new G1(this.domNode,"mousedown")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOver(){return J0.map(this.disposables.add(new G1(this.domNode,"mouseover")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOut(){return J0.map(this.disposables.add(new G1(this.domNode,"mouseout")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onContextMenu(){return J0.any(J0.map(this.disposables.add(new G1(this.domNode,"contextmenu")).event,(J)=>this.toMouseEvent(J),this.disposables),J0.map(this.disposables.add(new G1(this.domNode,E1.Contextmenu)).event,(J)=>this.toGestureEvent(J),this.disposables))}get onTouchStart(){return J0.map(this.disposables.add(new G1(this.domNode,"touchstart")).event,(J)=>this.toTouchEvent(J),this.disposables)}get onTap(){return J0.map(this.disposables.add(new G1(this.rowsContainer,E1.Tap)).event,(J)=>this.toGestureEvent(J),this.disposables)}toMouseEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $==="undefined"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toTouchEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $==="undefined"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toGestureEvent(J){let $=this.getItemIndexFromEventTarget(J.initialTarget||null),Q=typeof $==="undefined"?void 0:this.items[$],X=Q&&Q.element;return{browserEvent:J,index:$,element:X}}toDragEvent(J){let $=this.getItemIndexFromEventTarget(J.target||null),Q=typeof $==="undefined"?void 0:this.items[$],X=Q&&Q.element,Y=this.getTargetSector(J,$);return{browserEvent:J,index:$,element:X,sector:Y}}onScroll(J){try{let $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);if(this.render($,J.scrollTop,J.height,J.scrollLeft,J.scrollWidth),this.supportDynamicHeights)this._rerender(J.scrollTop,J.height,J.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",J),$}}onTouchChange(J){J.preventDefault(),J.stopPropagation(),this.scrollTop-=J.translationY}onDragStart(J,$,Q){var X,Y;if(!Q.dataTransfer)return;let Z=this.dnd.getDragElements(J);if(Q.dataTransfer.effectAllowed="copyMove",Q.dataTransfer.setData(OP.TEXT,$),Q.dataTransfer.setDragImage){let G;if(this.dnd.getDragLabel)G=this.dnd.getDragLabel(Z,Q);if(typeof G==="undefined")G=String(Z.length);let q=q0(".monaco-drag-image");q.textContent=G;let z=((H)=>{while(H&&!H.classList.contains("monaco-workbench"))H=H.parentElement;return H||this.domNode.ownerDocument})(this.domNode);z.appendChild(q),Q.dataTransfer.setDragImage(q,-10,-10),setTimeout(()=>z.removeChild(q),0)}this.domNode.classList.add("dragging"),this.currentDragData=new pY(Z),o2.CurrentDragAndDropData=new Ls(Z),(Y=(X=this.dnd).onDragStart)===null||Y===void 0||Y.call(X,this.currentDragData,Q)}onDragOver(J){var $,Q;if(J.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),o2.CurrentDragAndDropData&&o2.CurrentDragAndDropData.getData()==="vscode-ui")return!1;if(this.setupDragAndDropScrollTopAnimation(J.browserEvent),!J.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(o2.CurrentDragAndDropData)this.currentDragData=o2.CurrentDragAndDropData;else{if(!J.browserEvent.dataTransfer.types)return!1;this.currentDragData=new ks}let X=this.dnd.onDragOver(this.currentDragData,J.element,J.index,J.sector,J.browserEvent);if(this.canDrop=typeof X==="boolean"?X:X.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;J.browserEvent.dataTransfer.dropEffect=typeof X!=="boolean"&&(($=X.effect)===null||$===void 0?void 0:$.type)===0?"copy":"move";let Y;if(typeof X!=="boolean"&&X.feedback)Y=X.feedback;else if(typeof J.index==="undefined")Y=[-1];else Y=[J.index];Y=q4(Y).filter((G)=>G>=-1&&G<this.length).sort((G,q)=>G-q),Y=Y[0]===-1?[-1]:Y;let Z=typeof X!=="boolean"&&X.effect&&X.effect.position?X.effect.position:"drop-target";if(A40(this.currentDragFeedback,Y)&&this.currentDragFeedbackPosition===Z)return!0;if(this.currentDragFeedback=Y,this.currentDragFeedbackPosition=Z,this.currentDragFeedbackDisposable.dispose(),Y[0]===-1)this.domNode.classList.add(Z),this.rowsContainer.classList.add(Z),this.currentDragFeedbackDisposable=K0(()=>{this.domNode.classList.remove(Z),this.rowsContainer.classList.remove(Z)});else{if(Y.length>1&&Z!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");if(Z==="drop-target-after"){if(Y[0]<this.length-1)Y[0]+=1,Z="drop-target-before"}for(let G of Y){let q=this.items[G];q.dropTarget=!0,(Q=q.row)===null||Q===void 0||Q.domNode.classList.add(Z)}this.currentDragFeedbackDisposable=K0(()=>{var G;for(let q of Y){let U=this.items[q];U.dropTarget=!1,(G=U.row)===null||G===void 0||G.domNode.classList.remove(Z)}})}return!0}onDragLeave(J){var $,Q;if(this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=aX(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData)(Q=($=this.dnd).onDragLeave)===null||Q===void 0||Q.call($,this.currentDragData,J.element,J.index,J.browserEvent)}onDrop(J){if(!this.canDrop)return;let $=this.currentDragData;if(this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,o2.CurrentDragAndDropData=void 0,!$||!J.browserEvent.dataTransfer)return;J.browserEvent.preventDefault(),$.update(J.browserEvent.dataTransfer),this.dnd.drop($,J.element,J.index,J.sector,J.browserEvent)}onDragEnd(J){var $,Q;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,o2.CurrentDragAndDropData=void 0,(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=h.None}setupDragAndDropScrollTopAnimation(J){if(!this.dragOverAnimationDisposable){let $=GC(this.domNode).top;this.dragOverAnimationDisposable=AC(B0(this.domNode),this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=aX(()=>{if(this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0},1000,this.disposables),this.dragOverMouseY=J.pageY}animateDragAndDropScrollTop(J){if(this.dragOverMouseY===void 0)return;let $=this.dragOverMouseY-J,Q=this.renderHeight-35;if($<35)this.scrollTop+=Math.max(-14,Math.floor(0.3*($-35)));else if($>Q)this.scrollTop+=Math.min(14,Math.floor(0.3*($-Q)))}teardownDragAndDropScrollTopAnimation(){if(this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0}getTargetSector(J,$){if($===void 0)return;let Q=J.offsetY/this.items[$].size;return Math.floor(Q/0.25)}getItemIndexFromEventTarget(J){let $=this.scrollableElement.getDomNode(),Q=J;while(Q instanceof HTMLElement&&Q!==this.rowsContainer&&$.contains(Q)){let X=Q.getAttribute("data-index");if(X){let Y=Number(X);if(!isNaN(Y))return Y}Q=Q.parentElement}return}getRenderRange(J,$){return{start:this.rangeMap.indexAt(J),end:this.rangeMap.indexAfter(J+$-1)}}_rerender(J,$,Q){let X=this.getRenderRange(J,$),Y,Z;if(J===this.elementTop(X.start))Y=X.start,Z=0;else if(X.end-X.start>1)Y=X.start+1,Z=this.elementTop(Y)-J;let G=0;while(!0){let q=this.getRenderRange(J,$),U=!1;for(let z=q.start;z<q.end;z++){let H=this.probeDynamicHeight(z);if(H!==0)this.rangeMap.splice(z,1,[this.items[z]]);G+=H,U=U||H!==0}if(!U){if(G!==0)this.eventuallyUpdateScrollDimensions();let z=O5.relativeComplement(X,q);for(let j of z)for(let V=j.start;V<j.end;V++)if(this.items[V].row)this.removeItemFromDOM(V);let H=O5.relativeComplement(q,X);for(let j of H)for(let V=j.start;V<j.end;V++){let W=V+1,B=W<this.items.length?this.items[W].row:null,K=B?B.domNode:null;this.insertItemInDOM(V,K)}for(let j=q.start;j<q.end;j++)if(this.items[j].row)this.updateItemInDOM(this.items[j],j);if(typeof Y==="number"){let j=this.scrollable.getFutureScrollPosition().scrollTop-J,V=this.elementTop(Y)-Z+j;this.setScrollTop(V,Q)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(J){var $,Q,X;let Y=this.items[J];if(this.virtualDelegate.getDynamicHeight){let U=this.virtualDelegate.getDynamicHeight(Y.element);if(U!==null){let z=Y.size;return Y.size=U,Y.lastDynamicHeightWidth=this.renderWidth,U-z}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth)return 0;if(!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;let Z=Y.size;if(Y.row)return Y.row.domNode.style.height="",Y.size=Y.row.domNode.offsetHeight,Y.lastDynamicHeightWidth=this.renderWidth,Y.size-Z;let{row:G}=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);let q=this.renderers.get(Y.templateId);if(!q)throw new S1("Missing renderer for templateId: "+Y.templateId);return q.renderElement(Y.element,J,G.templateData,void 0),Y.size=G.domNode.offsetHeight,($=q.disposeElement)===null||$===void 0||$.call(q,Y.element,J,G.templateData,void 0),(X=(Q=this.virtualDelegate).setDynamicHeight)===null||X===void 0||X.call(Q,Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-Z}getNextToLastElement(J){let $=J[J.length-1];if(!$)return null;let Q=this.items[$.end];if(!Q)return null;if(!Q.row)return null;return Q.row.domNode}getElementDomId(J){return`${this.domId}_${J}`}dispose(){var J,$;for(let Q of this.items)if(Q.dragStartDisposable.dispose(),Q.checkedDisposable.dispose(),Q.row){let X=this.renderers.get(Q.row.templateId);if(X)(J=X.disposeElement)===null||J===void 0||J.call(X,Q.element,-1,Q.row.templateData,void 0),X.disposeTemplate(Q.row.templateData)}if(this.items=[],this.domNode&&this.domNode.parentNode)this.domNode.parentNode.removeChild(this.domNode);($=this.dragOverAnimationDisposable)===null||$===void 0||$.dispose(),this.disposables.dispose()}}var MX=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},o2,a$;var LP=N(()=>{yk();D0();NJ();d9();OJ();U1();u1();F0();Q0();Ij();sq();Ts();ws();P1();o2={CurrentDragAndDropData:void 0},a$={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(J){return[J]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};K9.InstanceCount=0;MX([X6],K9.prototype,"onMouseClick",null);MX([X6],K9.prototype,"onMouseDblClick",null);MX([X6],K9.prototype,"onMouseMiddleClick",null);MX([X6],K9.prototype,"onMouseDown",null);MX([X6],K9.prototype,"onMouseOver",null);MX([X6],K9.prototype,"onMouseOut",null);MX([X6],K9.prototype,"onContextMenu",null);MX([X6],K9.prototype,"onTouchStart",null);MX([X6],K9.prototype,"onTap",null)});class xs{constructor(J){this.trait=J,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(J){return J}renderElement(J,$,Q){let X=this.renderedElements.findIndex((Y)=>Y.templateData===Q);if(X>=0){let Y=this.renderedElements[X];this.trait.unrender(Q),Y.index=$}else{let Y={index:$,templateData:Q};this.renderedElements.push(Y)}this.trait.renderIndex($,Q)}splice(J,$,Q){let X=[];for(let Y of this.renderedElements)if(Y.index<J)X.push(Y);else if(Y.index>=J+$)X.push({index:Y.index+Q-$,templateData:Y.templateData});this.renderedElements=X}renderIndexes(J){for(let{index:$,templateData:Q}of this.renderedElements)if(J.indexOf($)>-1)this.trait.renderIndex($,Q)}disposeTemplate(J){let $=this.renderedElements.findIndex((Q)=>Q.templateData===J);if($<0)return;this.renderedElements.splice($,1)}}class xj{get name(){return this._trait}get renderer(){return new xs(this)}constructor(J){this._trait=J,this.indexes=[],this.sortedIndexes=[],this._onChange=new y,this.onChange=this._onChange.event}splice(J,$,Q){let X=Q.length-$,Y=J+$,Z=[],G=0;while(G<this.sortedIndexes.length&&this.sortedIndexes[G]<J)Z.push(this.sortedIndexes[G++]);for(let q=0;q<Q.length;q++)if(Q[q])Z.push(q+J);while(G<this.sortedIndexes.length&&this.sortedIndexes[G]>=Y)Z.push(this.sortedIndexes[G++]+X);this.renderer.splice(J,$,Q.length),this._set(Z,Z)}renderIndex(J,$){$.classList.toggle(this._trait,this.contains(J))}unrender(J){J.classList.remove(this._trait)}set(J,$){return this._set(J,[...J].sort(ys),$)}_set(J,$,Q){let X=this.indexes,Y=this.sortedIndexes;this.indexes=J,this.sortedIndexes=$;let Z=vk(Y,J);return this.renderer.renderIndexes(Z),this._onChange.fire({indexes:J,browserEvent:Q}),X}get(){return this.indexes}contains(J){return KW(this.sortedIndexes,J,ys)>=0}dispose(){k1(this._onChange)}}class kP{constructor(J,$,Q){this.trait=J,this.view=$,this.identityProvider=Q}splice(J,$,Q){if(!this.identityProvider)return this.trait.splice(J,$,new Array(Q.length).fill(!1));let X=this.trait.get().map((G)=>this.identityProvider.getId(this.view.element(G)).toString());if(X.length===0)return this.trait.splice(J,$,new Array(Q.length).fill(!1));let Y=new Set(X),Z=Q.map((G)=>Y.has(this.identityProvider.getId(G).toString()));this.trait.splice(J,$,Z)}}function _X(J){return J.tagName==="INPUT"||J.tagName==="TEXTAREA"}function bj(J,$){if(J.classList.contains($))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return bj(J.parentElement,$)}function h3(J){return bj(J,"monaco-editor")}function Ss(J){return bj(J,"monaco-custom-toggle")}function Cs(J){return bj(J,"action-item")}function g3(J){return bj(J,"monaco-tree-sticky-row")}function Sj(J){return J.classList.contains("monaco-tree-sticky-container")}function hk(J){if(J.tagName==="A"&&J.classList.contains("monaco-button")||J.tagName==="DIV"&&J.classList.contains("monaco-button-dropdown"))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return hk(J.parentElement)}class fk{get onKeyDown(){return J0.chain(this.disposables.add(new G1(this.view.domNode,"keydown")).event,(J)=>J.filter(($)=>!_X($.target)).map(($)=>new K1($)))}constructor(J,$,Q){this.list=J,this.view=$,this.disposables=new r,this.multipleSelectionDisposables=new r,this.multipleSelectionSupport=Q.multipleSelectionSupport,this.disposables.add(this.onKeyDown((X)=>{switch(X.keyCode){case 3:return this.onEnter(X);case 16:return this.onUpArrow(X);case 18:return this.onDownArrow(X);case 11:return this.onPageUpArrow(X);case 12:return this.onPageDownArrow(X);case 9:return this.onEscape(X);case 31:if(this.multipleSelectionSupport&&(r0?X.metaKey:X.ctrlKey))this.onCtrlA(X)}}))}updateOptions(J){if(J.multipleSelectionSupport!==void 0)this.multipleSelectionSupport=J.multipleSelectionSupport}onEnter(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(this.list.getFocus(),J.browserEvent)}onUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPrevious(1,!1,J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNext(1,!1,J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPreviousPage(J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNextPage(J.browserEvent);let $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(w5(this.list.length),J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(J){if(this.list.getSelection().length)J.preventDefault(),J.stopPropagation(),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}class vs{constructor(J,$,Q,X,Y){this.list=J,this.view=$,this.keyboardNavigationLabelProvider=Q,this.keyboardNavigationEventFilter=X,this.delegate=Y,this.enabled=!1,this.state=f3.Idle,this.mode=yJ.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r,this.disposables=new r,this.updateOptions(J.options)}updateOptions(J){var $,Q;if(($=J.typeNavigationEnabled)!==null&&$!==void 0?$:!0)this.enable();else this.disable();this.mode=(Q=J.typeNavigationMode)!==null&&Q!==void 0?Q:yJ.Automatic}enable(){if(this.enabled)return;let J=!1,$=J0.chain(this.enabledDisposables.add(new G1(this.view.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!_X(Z.target)).filter(()=>this.mode===yJ.Automatic||this.triggered).map((Z)=>new K1(Z)).filter((Z)=>J||this.keyboardNavigationEventFilter(Z)).filter((Z)=>this.delegate.mightProducePrintableCharacter(Z)).forEach((Z)=>c0.stop(Z,!0)).map((Z)=>Z.browserEvent.key)),Q=J0.debounce($,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);J0.reduce(J0.any($,Q),(Y,Z)=>Z===null?null:(Y||"")+Z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Q(this.onClear,this,this.enabledDisposables),$(()=>J=!0,void 0,this.enabledDisposables),Q(()=>J=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){if(!this.enabled)return;this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1}onClear(){var J;let $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){let Q=(J=this.list.options.accessibilityProvider)===null||J===void 0?void 0:J.getAriaLabel(this.list.element($[0]));if(Q)Tq(Q)}this.previouslyFocused=-1}onInput(J){if(!J){this.state=f3.Idle,this.triggered=!1;return}let $=this.list.getFocus(),Q=$.length>0?$[0]:0,X=this.state===f3.Idle?1:0;this.state=f3.Typing;for(let Y=0;Y<this.list.length;Y++){let Z=(Q+Y+X)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Z)),q=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof q!=="undefined"){if(Kj(J,q)){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}let U=jd(J,q);if(U){if(U[0].end-U[0].start>1&&U.length===1){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}}}}else if(typeof q==="undefined"||Kj(J,q)){this.previouslyFocused=Q,this.list.setFocus([Z]),this.list.reveal(Z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class hs{constructor(J,$){this.list=J,this.view=$,this.disposables=new r;let Q=J0.chain(this.disposables.add(new G1($.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!_X(Z.target)).map((Z)=>new K1(Z)));J0.chain(Q,(Y)=>Y.filter((Z)=>Z.keyCode===2&&!Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey))(this.onTab,this,this.disposables)}onTab(J){if(J.target!==this.view.domNode)return;let $=this.list.getFocus();if($.length===0)return;let Q=this.view.domElement($[0]);if(!Q)return;let X=Q.querySelector("[tabIndex]");if(!X||!(X instanceof HTMLElement)||X.tabIndex===-1)return;let Y=B0(X).getComputedStyle(X);if(Y.visibility==="hidden"||Y.display==="none")return;J.preventDefault(),J.stopPropagation(),X.focus()}dispose(){this.disposables.dispose()}}function gk(J){return r0?J.browserEvent.metaKey:J.browserEvent.ctrlKey}function pk(J){return J.browserEvent.shiftKey}function D40(J){return Zq(J)&&J.button===2}class EP{constructor(J){if(this.list=J,this.disposables=new r,this._onPointer=new y,this.onPointer=this._onPointer.event,J.options.multipleSelectionSupport!==!1)this.multipleSelectionController=this.list.options.multipleSelectionController||Is;if(this.mouseSupport=typeof J.options.mouseSupport==="undefined"||!!J.options.mouseSupport,this.mouseSupport)J.onMouseDown(this.onMouseDown,this,this.disposables),J.onContextMenu(this.onContextMenu,this,this.disposables),J.onMouseDblClick(this.onDoubleClick,this,this.disposables),J.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(T1.addTarget(J.getHTMLElement()));J0.any(J.onMouseClick,J.onMouseMiddleClick,J.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(J){if(J.multipleSelectionSupport!==void 0){if(this.multipleSelectionController=void 0,J.multipleSelectionSupport)this.multipleSelectionController=this.list.options.multipleSelectionController||Is}}isSelectionSingleChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionSingleChangeEvent(J)}isSelectionRangeChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionRangeChangeEvent(J)}isSelectionChangeEvent(J){return this.isSelectionSingleChangeEvent(J)||this.isSelectionRangeChangeEvent(J)}onMouseDown(J){if(h3(J.browserEvent.target))return;if(e6()!==J.browserEvent.target)this.list.domFocus()}onContextMenu(J){if(_X(J.browserEvent.target)||h3(J.browserEvent.target))return;let $=typeof J.index==="undefined"?[]:[J.index];this.list.setFocus($,J.browserEvent)}onViewPointer(J){if(!this.mouseSupport)return;if(_X(J.browserEvent.target)||h3(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;let $=J.index;if(typeof $==="undefined"){this.list.setFocus([],J.browserEvent),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(J))return this.changeSelection(J);if(this.list.setFocus([$],J.browserEvent),this.list.setAnchor($),!D40(J.browserEvent))this.list.setSelection([$],J.browserEvent);this._onPointer.fire(J)}onDoubleClick(J){if(_X(J.browserEvent.target)||h3(J.browserEvent.target))return;if(this.isSelectionChangeEvent(J))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;let $=this.list.getFocus();this.list.setSelection($,J.browserEvent)}changeSelection(J){let $=J.index,Q=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(J)){if(typeof Q==="undefined"){let z=this.list.getFocus()[0];Q=z!==null&&z!==void 0?z:$,this.list.setAnchor(Q)}let X=Math.min(Q,$),Y=Math.max(Q,$),Z=w5(X,Y+1),G=this.list.getSelection(),q=M40(vk(G,[Q]),Q);if(q.length===0)return;let U=vk(Z,_40(G,q));this.list.setSelection(U,J.browserEvent),this.list.setFocus([$],J.browserEvent)}else if(this.isSelectionSingleChangeEvent(J)){let X=this.list.getSelection(),Y=X.filter((Z)=>Z!==$);if(this.list.setFocus([$]),this.list.setAnchor($),X.length===Y.length)this.list.setSelection([...Y,$],J.browserEvent);else this.list.setSelection(Y,J.browserEvent)}}dispose(){this.disposables.dispose()}}class IP{constructor(J,$){this.styleElement=J,this.selectorSuffix=$}style(J){var $,Q;let X=this.selectorSuffix&&`.${this.selectorSuffix}`,Y=[];if(J.listBackground)Y.push(`.monaco-list${X} .monaco-list-rows { background: ${J.listBackground}; }`);if(J.listFocusBackground)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused { background-color: ${J.listFocusBackground}; }`),Y.push(`.monaco-list${X}:focus .monaco-list-row.focused:hover { background-color: ${J.listFocusBackground}; }`);if(J.listFocusForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`);if(J.listActiveSelectionBackground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected { background-color: ${J.listActiveSelectionBackground}; }`),Y.push(`.monaco-list${X}:focus .monaco-list-row.selected:hover { background-color: ${J.listActiveSelectionBackground}; }`);if(J.listActiveSelectionForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected { color: ${J.listActiveSelectionForeground}; }`);if(J.listActiveSelectionIconForeground)Y.push(`.monaco-list${X}:focus .monaco-list-row.selected .codicon { color: ${J.listActiveSelectionIconForeground}; }`);if(J.listFocusAndSelectionBackground)Y.push(`
\t\t\t\t.monaco-drag-image,
\t\t\t\t.monaco-list${X}:focus .monaco-list-row.selected.focused { background-color: ${J.listFocusAndSelectionBackground}; }
\t\t\t`);if(J.listFocusAndSelectionForeground)Y.push(`
\t\t\t\t.monaco-drag-image,
\t\t\t\t.monaco-list${X}:focus .monaco-list-row.selected.focused { color: ${J.listFocusAndSelectionForeground}; }
\t\t\t`);if(J.listInactiveFocusForeground)Y.push(`.monaco-list${X} .monaco-list-row.focused { color:  ${J.listInactiveFocusForeground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.focused:hover { color:  ${J.listInactiveFocusForeground}; }`);if(J.listInactiveSelectionIconForeground)Y.push(`.monaco-list${X} .monaco-list-row.focused .codicon { color:  ${J.listInactiveSelectionIconForeground}; }`);if(J.listInactiveFocusBackground)Y.push(`.monaco-list${X} .monaco-list-row.focused { background-color:  ${J.listInactiveFocusBackground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.focused:hover { background-color:  ${J.listInactiveFocusBackground}; }`);if(J.listInactiveSelectionBackground)Y.push(`.monaco-list${X} .monaco-list-row.selected { background-color:  ${J.listInactiveSelectionBackground}; }`),Y.push(`.monaco-list${X} .monaco-list-row.selected:hover { background-color:  ${J.listInactiveSelectionBackground}; }`);if(J.listInactiveSelectionForeground)Y.push(`.monaco-list${X} .monaco-list-row.selected { color: ${J.listInactiveSelectionForeground}; }`);if(J.listHoverBackground)Y.push(`.monaco-list${X}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${J.listHoverBackground}; }`);if(J.listHoverForeground)Y.push(`.monaco-list${X}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${J.listHoverForeground}; }`);let Z=I9(J.listFocusAndSelectionOutline,I9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Z)Y.push(`.monaco-list${X}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Z}; outline-offset: -1px;}`);if(J.listFocusOutline)Y.push(`
\t\t\t\t.monaco-drag-image,
\t\t\t\t.monaco-list${X}:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${X}.last-focused .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
\t\t\t`);let G=I9(J.listSelectionOutline,(Q=J.listInactiveFocusOutline)!==null&&Q!==void 0?Q:"");if(G)Y.push(`.monaco-list${X} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`);if(J.listSelectionOutline)Y.push(`.monaco-list${X} .monaco-list-row.selected { outline: 1px dotted ${J.listSelectionOutline}; outline-offset: -1px; }`);if(J.listInactiveFocusOutline)Y.push(`.monaco-list${X} .monaco-list-row.focused { outline: 1px dotted ${J.listInactiveFocusOutline}; outline-offset: -1px; }`);if(J.listHoverOutline)Y.push(`.monaco-list${X} .monaco-list-row:hover { outline: 1px dashed ${J.listHoverOutline}; outline-offset: -1px; }`);if(J.listDropOverBackground)Y.push(`
\t\t\t\t.monaco-list${X}.drop-target,
\t\t\t\t.monaco-list${X} .monaco-list-rows.drop-target,
\t\t\t\t.monaco-list${X} .monaco-list-row.drop-target { background-color: ${J.listDropOverBackground} !important; color: inherit !important; }
\t\t\t`);if(J.listDropBetweenBackground)Y.push(`
\t\t\t.monaco-list${X} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
\t\t\t.monaco-list${X} .monaco-list-row.drop-target-before::before {
\t\t\t\tcontent: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
\t\t\t\tbackground-color: ${J.listDropBetweenBackground};
\t\t\t}`),Y.push(`
\t\t\t.monaco-list${X} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
\t\t\t.monaco-list${X} .monaco-list-row.drop-target-after::after {
\t\t\t\tcontent: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
\t\t\t\tbackground-color: ${J.listDropBetweenBackground};
\t\t\t}`);if(J.tableColumnsBorder)Y.push(`
\t\t\t\t.monaco-table > .monaco-split-view2,
\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
\t\t\t\t\tborder-color: ${J.tableColumnsBorder};
\t\t\t\t}

\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
\t\t\t\t\tborder-color: transparent;
\t\t\t\t}
\t\t\t`);if(J.tableOddRowsBackgroundColor)Y.push(`
\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
\t\t\t\t\tbackground-color: ${J.tableOddRowsBackgroundColor};
\t\t\t\t}
\t\t\t`);this.styleElement.textContent=Y.join(`
`)}}function M40(J,$){let Q=J.indexOf($);if(Q===-1)return[];let X=[],Y=Q-1;while(Y>=0&&J[Y]===$-(Q-Y))X.push(J[Y--]);X.reverse(),Y=Q;while(Y<J.length&&J[Y]===$+(Y-Q))X.push(J[Y++]);return X}function vk(J,$){let Q=[],X=0,Y=0;while(X<J.length||Y<$.length)if(X>=J.length)Q.push($[Y++]);else if(Y>=$.length)Q.push(J[X++]);else if(J[X]===$[Y]){Q.push(J[X]),X++,Y++;continue}else if(J[X]<$[Y])Q.push(J[X++]);else Q.push($[Y++]);return Q}function _40(J,$){let Q=[],X=0,Y=0;while(X<J.length||Y<$.length)if(X>=J.length)Q.push($[Y++]);else if(Y>=$.length)Q.push(J[X++]);else if(J[X]===$[Y]){X++,Y++;continue}else if(J[X]<$[Y])Q.push(J[X++]);else Y++;return Q}class gs{constructor(J,$){this._templateId=J,this.renderers=$}get templateId(){return this._templateId}renderTemplate(J){return this.renderers.map(($)=>$.renderTemplate(J))}renderElement(J,$,Q,X){let Y=0;for(let Z of this.renderers)Z.renderElement(J,$,Q[Y++],X)}disposeElement(J,$,Q,X){var Y;let Z=0;for(let G of this.renderers)(Y=G.disposeElement)===null||Y===void 0||Y.call(G,J,$,Q[Z],X),Z+=1}disposeTemplate(J){let $=0;for(let Q of this.renderers)Q.disposeTemplate(J[$++])}}class ps{constructor(J){this.accessibilityProvider=J,this.templateId="a18n"}renderTemplate(J){return J}renderElement(J,$,Q){let X=this.accessibilityProvider.getAriaLabel(J);if(X)Q.setAttribute("aria-label",X);else Q.removeAttribute("aria-label");let Y=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(J);if(typeof Y==="number")Q.setAttribute("aria-level",`${Y}`);else Q.removeAttribute("aria-level")}disposeTemplate(J){}}class ms{constructor(J,$){this.list=J,this.dnd=$}getDragElements(J){let $=this.list.getSelectedElements();return $.indexOf(J)>-1?$:[J]}getDragURI(J){return this.dnd.getDragURI(J)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J,$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,J,$)}onDragOver(J,$,Q,X,Y){return this.dnd.onDragOver(J,$,Q,X,Y)}onDragLeave(J,$,Q,X){var Y,Z;(Z=(Y=this.dnd).onDragLeave)===null||Z===void 0||Z.call(Y,J,$,Q,X)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}drop(J,$,Q,X,Y){this.dnd.drop(J,$,Q,X,Y)}dispose(){this.dnd.dispose()}}class c8{get onDidChangeFocus(){return J0.map(this.eventBufferer.wrapEvent(this.focus.onChange),(J)=>this.toListEvent(J),this.disposables)}get onDidChangeSelection(){return J0.map(this.eventBufferer.wrapEvent(this.selection.onChange),(J)=>this.toListEvent(J),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let J=!1,$=J0.chain(this.disposables.add(new G1(this.view.domNode,"keydown")).event,(Y)=>Y.map((Z)=>new K1(Z)).filter((Z)=>J=Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>c0.stop(Z,!0)).filter(()=>!1)),Q=J0.chain(this.disposables.add(new G1(this.view.domNode,"keyup")).event,(Y)=>Y.forEach(()=>J=!1).map((Z)=>new K1(Z)).filter((Z)=>Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>c0.stop(Z,!0)).map(({browserEvent:Z})=>{let G=this.getFocus(),q=G.length?G[0]:void 0,U=typeof q!=="undefined"?this.view.element(q):void 0,z=typeof q!=="undefined"?this.view.domElement(q):this.view.domNode;return{index:q,element:U,anchor:z,browserEvent:Z}})),X=J0.chain(this.view.onContextMenu,(Y)=>Y.filter((Z)=>!J).map(({element:Z,index:G,browserEvent:q})=>({element:Z,index:G,anchor:new $8(B0(this.view.domNode),q),browserEvent:q})));return J0.any($,Q,X)}get onKeyDown(){return this.disposables.add(new G1(this.view.domNode,"keydown")).event}get onDidFocus(){return J0.signal(this.disposables.add(new G1(this.view.domNode,"focus",!0)).event)}constructor(J,$,Q,X,Y=R40){var Z,G,q,U;this.user=J,this._options=Y,this.focus=new xj("focused"),this.anchor=new xj("anchor"),this.eventBufferer=new EZ,this._ariaLabel="",this.disposables=new r,this._onDidDispose=new y,this.onDidDispose=this._onDidDispose.event;let z=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Z=this._options.accessibilityProvider)===null||Z===void 0?void 0:Z.getWidgetRole():"list";this.selection=new bs(z!=="listbox");let H=[this.focus.renderer,this.selection.renderer];if(this.accessibilityProvider=Y.accessibilityProvider,this.accessibilityProvider)H.push(new ps(this.accessibilityProvider)),(q=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||q===void 0||q.call(G,this.onDidChangeActiveDescendant,this,this.disposables);X=X.map((V)=>new gs(V.templateId,[...H,V]));let j={...Y,dnd:Y.dnd&&new ms(this,Y.dnd)};if(this.view=this.createListView($,Q,X,j),this.view.domNode.setAttribute("role",z),Y.styleController)this.styleController=Y.styleController(this.view.domId);else{let V=D5(this.view.domNode);this.styleController=new IP(V,this.view.domId)}if(this.spliceable=new bk([new kP(this.focus,this.view,Y.identityProvider),new kP(this.selection,this.view,Y.identityProvider),new kP(this.anchor,this.view,Y.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new hs(this,this.view)),typeof Y.keyboardSupport!=="boolean"||Y.keyboardSupport)this.keyboardController=new fk(this,this.view,Y),this.disposables.add(this.keyboardController);if(Y.keyboardNavigationLabelProvider){let V=Y.keyboardNavigationDelegate||P40;this.typeNavigationController=new vs(this,this.view,Y.keyboardNavigationLabelProvider,(U=Y.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,V),this.disposables.add(this.typeNavigationController)}if(this.mouseController=this.createMouseController(Y),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider)this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel();if(this._options.multipleSelectionSupport!==!1)this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(J,$,Q,X){return new K9(J,$,Q,X)}createMouseController(J){return new EP(this)}updateOptions(J={}){var $,Q;if(this._options={...this._options,...J},($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0)if(this._options.multipleSelectionSupport)this.view.domNode.setAttribute("aria-multiselectable","true");else this.view.domNode.removeAttribute("aria-multiselectable");this.mouseController.updateOptions(J),(Q=this.keyboardController)===null||Q===void 0||Q.updateOptions(J),this.view.updateOptions(J)}get options(){return this._options}splice(J,$,Q=[]){if(J<0||J>this.view.length)throw new RX(this.user,`Invalid start index: ${J}`);if($<0)throw new RX(this.user,`Invalid delete count: ${$}`);if($===0&&Q.length===0)return;this.eventBufferer.bufferEvents(()=>this.spliceable.splice(J,$,Q))}rerender(){this.view.rerender()}element(J){return this.view.element(J)}indexOf(J){return this.view.indexOf(J)}indexAt(J){return this.view.indexAt(J)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(J){this.view.setScrollTop(J)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(J){this._ariaLabel=J,this.view.domNode.setAttribute("aria-label",J)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(J,$){this.view.layout(J,$)}setSelection(J,$){for(let Q of J)if(Q<0||Q>=this.length)throw new RX(this.user,`Invalid index ${Q}`);this.selection.set(J,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((J)=>this.view.element(J))}setAnchor(J){if(typeof J==="undefined"){this.anchor.set([]);return}if(J<0||J>=this.length)throw new RX(this.user,`Invalid index ${J}`);this.anchor.set([J])}getAnchor(){return IG(this.anchor.get(),void 0)}getAnchorElement(){let J=this.getAnchor();return typeof J==="undefined"?void 0:this.element(J)}setFocus(J,$){for(let Q of J)if(Q<0||Q>=this.length)throw new RX(this.user,`Invalid index ${Q}`);this.focus.set(J,$)}focusNext(J=1,$=!1,Q,X){if(this.length===0)return;let Y=this.focus.get(),Z=this.findNextIndex(Y.length>0?Y[0]+J:0,$,X);if(Z>-1)this.setFocus([Z],Q)}focusPrevious(J=1,$=!1,Q,X){if(this.length===0)return;let Y=this.focus.get(),Z=this.findPreviousIndex(Y.length>0?Y[0]-J:0,$,X);if(Z>-1)this.setFocus([Z],Q)}async focusNextPage(J,$){let Q=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Q=Q===0?0:Q-1;let X=this.getFocus()[0];if(X!==Q&&(X===void 0||Q>X)){let Y=this.findPreviousIndex(Q,!1,$);if(Y>-1&&X!==Y)this.setFocus([Y],J);else this.setFocus([Q],J)}else{let Y=this.view.getScrollTop(),Z=Y+this.view.renderHeight;if(Q>X)Z-=this.view.elementHeight(Q);if(this.view.setScrollTop(Z),this.view.getScrollTop()!==Y)this.setFocus([]),await LQ(0),await this.focusNextPage(J,$)}}async focusPreviousPage(J,$,Q=()=>0){let X,Y=Q(),Z=this.view.getScrollTop()+Y;if(Z===0)X=this.view.indexAt(Z);else X=this.view.indexAfter(Z-1);let G=this.getFocus()[0];if(G!==X&&(G===void 0||G>=X)){let q=this.findNextIndex(X,!1,$);if(q>-1&&G!==q)this.setFocus([q],J);else this.setFocus([X],J)}else{let q=Z;if(this.view.setScrollTop(Z-this.view.renderHeight-Y),this.view.getScrollTop()+Q()!==q)this.setFocus([]),await LQ(0),await this.focusPreviousPage(J,$,Q)}}focusLast(J,$){if(this.length===0)return;let Q=this.findPreviousIndex(this.length-1,!1,$);if(Q>-1)this.setFocus([Q],J)}focusFirst(J,$){this.focusNth(0,J,$)}focusNth(J,$,Q){if(this.length===0)return;let X=this.findNextIndex(J,!1,Q);if(X>-1)this.setFocus([X],$)}findNextIndex(J,$=!1,Q){for(let X=0;X<this.length;X++){if(J>=this.length&&!$)return-1;if(J=J%this.length,!Q||Q(this.element(J)))return J;J++}return-1}findPreviousIndex(J,$=!1,Q){for(let X=0;X<this.length;X++){if(J<0&&!$)return-1;if(J=(this.length+J%this.length)%this.length,!Q||Q(this.element(J)))return J;J--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((J)=>this.view.element(J))}reveal(J,$,Q=0){if(J<0||J>=this.length)throw new RX(this.user,`Invalid index ${J}`);let X=this.view.getScrollTop(),Y=this.view.elementTop(J),Z=this.view.elementHeight(J);if(e7($)){let G=Z-this.view.renderHeight+Q;this.view.setScrollTop(G*r5($,0,1)+Y-Q)}else{let G=Y+Z,q=X+this.view.renderHeight;if(Y<X+Q&&G>=q);else if(Y<X+Q||G>=q&&Z>=this.view.renderHeight)this.view.setScrollTop(Y-Q);else if(G>=q)this.view.setScrollTop(G-this.view.renderHeight)}}getRelativeTop(J,$=0){if(J<0||J>=this.length)throw new RX(this.user,`Invalid index ${J}`);let Q=this.view.getScrollTop(),X=this.view.elementTop(J),Y=this.view.elementHeight(J);if(X<Q+$||X+Y>Q+this.view.renderHeight)return null;let Z=Y-this.view.renderHeight+$;return Math.abs((Q+$-X)/Z)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(J){return this.view.getElementDomId(J)}getElementTop(J){return this.view.elementTop(J)}style(J){this.styleController.style(J)}toListEvent({indexes:J,browserEvent:$}){return{indexes:J,elements:J.map((Q)=>this.view.element(Q)),browserEvent:$}}_onFocusChange(){let J=this.focus.get();this.view.domNode.classList.toggle("element-focused",J.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var J;let $=this.focus.get();if($.length>0){let Q;if((J=this.accessibilityProvider)===null||J===void 0?void 0:J.getActiveDescendantId)Q=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]));this.view.domNode.setAttribute("aria-activedescendant",Q||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let J=this.selection.get();this.view.domNode.classList.toggle("selection-none",J.length===0),this.view.domNode.classList.toggle("selection-single",J.length===1),this.view.domNode.classList.toggle("selection-multiple",J.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}var t2=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},bs,yJ,f3,P40,Is,fs,R40,ys=(J,$)=>J-$;var e2=N(()=>{D0();NJ();R8();d9();UY();U1();u1();g7();F0();vY();Q0();M1();Sk();Os();LP();k9();t2([X6],xj.prototype,"renderer",null);bs=class bs extends xj{constructor(J){super("selected");this.setAriaSelected=J}renderIndex(J,$){if(super.renderIndex(J,$),this.setAriaSelected)if(this.contains(J))$.setAttribute("aria-selected","true");else $.setAttribute("aria-selected","false")}};t2([X6],fk.prototype,"onKeyDown",null);(function(J){J[J.Automatic=0]="Automatic",J[J.Trigger=1]="Trigger"})(yJ||(yJ={}));(function(J){J[J.Idle=0]="Idle",J[J.Typing=1]="Typing"})(f3||(f3={}));P40=new class{mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey||J.altKey)return!1;return J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30||J.keyCode>=98&&J.keyCode<=107||J.keyCode>=85&&J.keyCode<=95}};Is={isSelectionSingleChangeEvent:gk,isSelectionRangeChangeEvent:pk};fs={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:l.fromHex("#a9a9a9").transparent(0.4).toString(),tableColumnsBorder:l.fromHex("#cccccc").transparent(0.2).toString(),tableOddRowsBackgroundColor:l.fromHex("#cccccc").transparent(0.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},R40={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};t2([X6],c8.prototype,"onDidChangeFocus",null);t2([X6],c8.prototype,"onDidChangeSelection",null);t2([X6],c8.prototype,"onContextMenu",null);t2([X6],c8.prototype,"onKeyDown",null);t2([X6],c8.prototype,"onDidFocus",null)});var us=N(()=>{j0(".monaco-select-box-dropdown-padding{--dropdown-padding-top:1px;--dropdown-padding-bottom:1px}.hc-black .monaco-select-box-dropdown-padding,.hc-light .monaco-select-box-dropdown-padding{--dropdown-padding-top:3px;--dropdown-padding-bottom:4px}.monaco-select-box-dropdown-container{box-sizing:border-box;display:none}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown *{margin:0}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{line-height:15px;font-family:var(--monaco-monospace-font)}.monaco-select-box-dropdown-container.visible{text-align:left;border-bottom-right-radius:3px;border-bottom-left-radius:3px;flex-direction:column;width:1px;display:flex;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom);box-sizing:border-box;flex:none;align-self:flex-start;width:100%;padding-left:1px;padding-right:1px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-details-pane{padding:5px}.hc-black .monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom)}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row{cursor:pointer}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-text{text-overflow:ellipsis;white-space:nowrap;float:left;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-detail{text-overflow:ellipsis;white-space:nowrap;float:left;opacity:.7;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-decorator-right{text-overflow:ellipsis;white-space:nowrap;float:right;padding-right:10px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.visually-hidden{width:1px;height:1px;position:absolute;top:auto;left:-10000px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control{opacity:0;flex:auto;align-self:flex-start}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div{max-height:0;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div>.option-text-width-control{white-space:nowrap;padding-left:4px;padding-right:8px}")});class ls{get templateId(){return cs}renderTemplate(J){let $=Object.create(null);return $.root=J,$.text=Z0(J,JG(".option-text")),$.detail=Z0(J,JG(".option-detail")),$.decoratorRight=Z0(J,JG(".option-decorator-right")),$}renderElement(J,$,Q){let X=Q,Y=J.text,Z=J.detail,G=J.decoratorRight,q=J.isDisabled;if(X.text.textContent=Y,X.detail.textContent=Z?Z:"",X.decoratorRight.innerText=G?G:"",q)X.root.classList.add("option-disabled");else X.root.classList.remove("option-disabled")}disposeTemplate(J){}}var JG,cs="selectOption.entry.template",xJ;var ds=N(()=>{D0();NJ();R8();zP();e2();U1();F0();IZ();Q0();M1();us();g0();JG=q0;xJ=class xJ extends h{constructor(J,$,Q,X,Y){super();if(this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=X,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!=="number")this.selectBoxOptions.minBottomMargin=xJ.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;else if(this.selectBoxOptions.minBottomMargin<0)this.selectBoxOptions.minBottomMargin=0;if(this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);if(this._onDidSelect=new y,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(Q),this.selected=$||0,J)this.setOptions(J,$);this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return cs}constructSelectDropDown(J){this.contextViewProvider=J,this.selectDropDownContainer=q0(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Z0(this.selectDropDownContainer,JG(".select-box-details-pane"));let $=Z0(this.selectDropDownContainer,JG(".select-box-dropdown-container-width-control")),Q=Z0($,JG(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Z0(Q,this.widthControlElement),this._dropDownPosition=0,this.styleElement=D5(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(m(this.selectDropDownContainer,$0.DRAG_START,(X)=>{c0.stop(X,!0)}))}registerListeners(){this._register(i1(this.selectElement,"change",($)=>{if(this.selected=$.target.selectedIndex,this._onDidSelect.fire({index:$.target.selectedIndex,selected:$.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text})),this._register(m(this.selectElement,$0.CLICK,($)=>{if(c0.stop($),this._isVisible)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(m(this.selectElement,$0.MOUSE_DOWN,($)=>{c0.stop($)}));let J;this._register(m(this.selectElement,"touchstart",($)=>{J=this._isVisible})),this._register(m(this.selectElement,"touchend",($)=>{if(c0.stop($),J)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(m(this.selectElement,$0.KEY_DOWN,($)=>{let Q=new K1($),X=!1;if(r0){if(Q.keyCode===18||Q.keyCode===16||Q.keyCode===10||Q.keyCode===3)X=!0}else if(Q.keyCode===18&&Q.altKey||Q.keyCode===16&&Q.altKey||Q.keyCode===10||Q.keyCode===3)X=!0;if(X)this.showSelectDropDown(),c0.stop($,!0)}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!Q6(this.options,J))this.options=J,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((Q,X)=>{if(this.selectElement.add(this.createOption(Q.text,X,Q.isDisabled)),typeof Q.description==="string")this._hasDetails=!0});if($!==void 0)this.select($),this._currentSelection=this.selected}setOptionsList(){var J;(J=this.selectList)===null||J===void 0||J.splice(0,this.selectList.length,this.options)}select(J){if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){this.container=J,J.classList.add("select-container"),J.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){let J=[];if(this.styles.listFocusBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);if(this.styles.listFocusForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);if(this.styles.decoratorRightForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);if(this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground)J.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);else if(this.styles.selectListBorder)J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);if(this.styles.listHoverForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);if(this.styles.listHoverBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);if(this.styles.listFocusOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);if(this.styles.listHoverOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=J.join(`
`)}styleSelectElement(){var J,$,Q;let X=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Y=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",Z=(Q=this.styles.selectBorder)!==null&&Q!==void 0?Q:"";this.selectElement.style.backgroundColor=X,this.selectElement.style.color=Y,this.selectElement.style.borderColor=Z}styleList(){var J,$;let Q=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",X=I9(this.styles.selectListBackground,Q);this.selectDropDownListContainer.style.backgroundColor=X,this.selectionDetailsPane.style.backgroundColor=X;let Y=($=this.styles.focusBorder)!==null&&$!==void 0?$:"";this.selectDropDownContainer.style.outlineColor=Y,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(J,$,Q){let X=document.createElement("option");return X.value=J,X.text=J,X.disabled=!!Q,X}showSelectDropDown(){if(this.selectionDetailsPane.innerText="",!this.contextViewProvider||this._isVisible)return;this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true")}hideSelectDropDown(J){if(!this.contextViewProvider||!this._isVisible)return;if(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),J)this.selectElement.focus();this.contextViewProvider.hideContextView()}renderSelectDropDown(J,$){return J.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown($),{dispose:()=>{try{J.removeChild(this.selectDropDownContainer)}catch(Q){}}}}measureMaxDetailsHeight(){let J=0;return this.options.forEach(($,Q)=>{if(this.updateDetail(Q),this.selectionDetailsPane.offsetHeight>J)J=this.selectionDetailsPane.offsetHeight}),J}layoutSelectDropDown(J){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");let $=B0(this.selectElement),Q=P5(this.selectElement),X=B0(this.selectElement).getComputedStyle(this.selectElement),Y=parseFloat(X.getPropertyValue("--dropdown-padding-top"))+parseFloat(X.getPropertyValue("--dropdown-padding-bottom")),Z=$.innerHeight-Q.top-Q.height-(this.selectBoxOptions.minBottomMargin||0),G=Q.top-xJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,q=this.selectElement.offsetWidth,U=this.setWidthControlElement(this.widthControlElement),z=Math.max(U,Math.round(q)).toString()+"px";this.selectDropDownContainer.style.width=z,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let H=this.selectList.contentHeight;if(this._hasDetails&&this._cachedMaxDetailsHeight===void 0)this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight();let j=this._hasDetails?this._cachedMaxDetailsHeight:0,V=H+Y+j,W=Math.floor((Z-Y-j)/this.getHeight()),B=Math.floor((G-Y-j)/this.getHeight());if(J){if(Q.top+Q.height>$.innerHeight-22||Q.top<xJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||W<1&&B<1)return!1;if(W<xJ.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&B>W&&this.options.length>W)this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom");else this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top");return!0}if(Q.top+Q.height>$.innerHeight-22||Q.top<xJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&W<1||this._dropDownPosition===1&&B<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&W+B<1)return this.hideSelectDropDown(!0),!1;if(V>Z)H=W*this.getHeight()}else if(V>G)H=B*this.getHeight();if(this.selectList.layout(H),this.selectList.domFocus(),this.selectList.length>0)this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0);if(this._hasDetails)this.selectList.getHTMLElement().style.height=H+Y+"px",this.selectDropDownContainer.style.height="";else this.selectDropDownContainer.style.height=H+Y+"px";return this.updateDetail(this.selected),this.selectDropDownContainer.style.width=z,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(J){let $=0;if(J){let Q=0,X=0;this.options.forEach((Y,Z)=>{let G=Y.detail?Y.detail.length:0,q=Y.decoratorRight?Y.decoratorRight.length:0,U=Y.text.length+G+q;if(U>X)Q=Z,X=U}),J.textContent=this.options[Q].text+(this.options[Q].decoratorRight?this.options[Q].decoratorRight+" ":""),$=Yq(J)}return $}createSelectList(J){if(this.selectList)return;if(this.selectDropDownListContainer=Z0(J,JG(".select-box-dropdown-list-container")),this.listRenderer=new ls,this.selectList=new c8("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:(X)=>{let Y=X.text;if(X.detail)Y+=`. ${X.detail}`;if(X.decoratorRight)Y+=`. ${X.decoratorRight}`;if(X.description)Y+=`. ${X.description}`;return Y},getWidgetAriaLabel:()=>F({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>r0?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel)this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel;let $=this._register(new G1(this.selectDropDownListContainer,"keydown")),Q=J0.chain($.event,(X)=>X.filter(()=>this.selectList.length>0).map((Y)=>new K1(Y)));this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===3))(this.onEnter,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===2))(this.onEnter,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===9))(this.onEscape,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===16))(this.onUpArrow,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===18))(this.onDownArrow,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===12))(this.onPageDown,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===11))(this.onPageUp,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===14))(this.onHome,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode===13))(this.onEnd,this)),this._register(J0.chain(Q,(X)=>X.filter((Y)=>Y.keyCode>=21&&Y.keyCode<=56||Y.keyCode>=85&&Y.keyCode<=113))(this.onCharacter,this)),this._register(m(this.selectList.getHTMLElement(),$0.POINTER_UP,(X)=>this.onPointerUp(X))),this._register(this.selectList.onMouseOver((X)=>typeof X.index!=="undefined"&&this.selectList.setFocus([X.index]))),this._register(this.selectList.onDidChangeFocus((X)=>this.onListFocus(X))),this._register(m(this.selectDropDownContainer,$0.FOCUS_OUT,(X)=>{if(!this._isVisible||p6(X.relatedTarget,this.selectDropDownContainer))return;this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(J){if(!this.selectList.length)return;c0.stop(J);let $=J.target;if(!$)return;if($.classList.contains("slider"))return;let Q=$.closest(".monaco-list-row");if(!Q)return;let X=Number(Q.getAttribute("data-index")),Y=Q.classList.contains("option-disabled");if(X>=0&&X<this.options.length&&!Y){if(this.selected=X,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}}onListBlur(){if(this._sticky)return;if(this.selected!==this._currentSelection)this.select(this._currentSelection);this.hideSelectDropDown(!1)}renderDescriptionMarkdown(J,$){let Q=(Y)=>{for(let Z=0;Z<Y.childNodes.length;Z++){let G=Y.childNodes.item(Z);if((G.tagName&&G.tagName.toLowerCase())==="img")Y.removeChild(G);else Q(G)}},X=L3({value:J,supportThemeIcons:!0},{actionHandler:$});return X.element.classList.add("select-box-description-markdown"),Q(X.element),X.element}onListFocus(J){if(!this._isVisible||!this._hasDetails)return;this.updateDetail(J.indexes[0])}updateDetail(J){var $,Q;this.selectionDetailsPane.innerText="";let X=this.options[J],Y=($=X===null||X===void 0?void 0:X.description)!==null&&$!==void 0?$:"",Z=(Q=X===null||X===void 0?void 0:X.descriptionIsMarkdown)!==null&&Q!==void 0?Q:!1;if(Y){if(Z){let G=X.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Y,G))}else this.selectionDetailsPane.innerText=Y;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(J){c0.stop(J),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(J){if(c0.stop(J),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}onDownArrow(J){if(this.selected<this.options.length-1){c0.stop(J,!0);let $=this.options[this.selected+1].isDisabled;if($&&this.options.length>this.selected+2)this.selected+=2;else if($)return;else this.selected++;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(J){if(this.selected>0){if(c0.stop(J,!0),this.options[this.selected-1].isDisabled&&this.selected>1)this.selected-=2;else this.selected--;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(J){c0.stop(J),this.selectList.focusPreviousPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1)this.selected++,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(J){c0.stop(J),this.selectList.focusNextPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0)this.selected--,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(J){if(c0.stop(J),this.options.length<2)return;if(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1)this.selected++;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onEnd(J){if(c0.stop(J),this.options.length<2)return;if(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1)this.selected--;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onCharacter(J){let $=j4.toString(J.keyCode),Q=-1;for(let X=0;X<this.options.length-1;X++)if(Q=(X+this.selected+1)%this.options.length,this.options[Q].text.charAt(0).toUpperCase()===$&&!this.options[Q].isDisabled){this.select(Q),this.selectList.setFocus([Q]),this.selectList.reveal(this.selectList.getFocus()[0]),c0.stop(J);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};xJ.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;xJ.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;xJ.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3});var mk;var ss=N(()=>{D0();d9();U1();F0();Q0();M1();mk=class mk extends h{constructor(J,$,Q,X){super();if(this.selected=0,this.selectBoxOptions=X||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);this._onDidSelect=this._register(new y),this.styles=Q,this.registerListeners(),this.setOptions(J,$)}registerListeners(){this._register(T1.addTarget(this.selectElement)),[E1.Tap].forEach((J)=>{this._register(m(this.selectElement,J,($)=>{this.selectElement.focus()}))}),this._register(i1(this.selectElement,"click",(J)=>{c0.stop(J,!0)})),this._register(i1(this.selectElement,"change",(J)=>{this.selectElement.title=J.target.value,this._onDidSelect.fire({index:J.target.selectedIndex,selected:J.target.value})})),this._register(i1(this.selectElement,"keydown",(J)=>{let $=!1;if(r0){if(J.keyCode===18||J.keyCode===16||J.keyCode===10)$=!0}else if(J.keyCode===18&&J.altKey||J.keyCode===10||J.keyCode===3)$=!0;if($)J.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!this.options||!Q6(this.options,J))this.options=J,this.selectElement.options.length=0,this.options.forEach((Q,X)=>{this.selectElement.add(this.createOption(Q.text,X,Q.isDisabled))});if($!==void 0)this.select($)}select(J){if(this.options.length===0)this.selected=0;else if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text==="string")this.selectElement.title=this.options[this.selected].text;else this.selectElement.title=""}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){J.classList.add("select-container"),J.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var J,$,Q;if(this.selectElement)this.selectElement.style.backgroundColor=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",this.selectElement.style.color=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",this.selectElement.style.borderColor=(Q=this.styles.selectBorder)!==null&&Q!==void 0?Q:""}createOption(J,$,Q){let X=document.createElement("option");return X.value=J,X.text=J,X.disabled=!!Q,X}}});var as=N(()=>{j0(".monaco-select-box{cursor:pointer;border-radius:2px;width:100%}.monaco-select-box-dropdown-container{text-transform:none;font-size:13px;font-weight:400}.monaco-action-bar .action-item.select-container{cursor:default}.monaco-action-bar .action-item .monaco-select-box{cursor:pointer;min-width:100px;min-height:18px;padding:2px 23px 2px 8px}.mac .monaco-action-bar .action-item .monaco-select-box{border-radius:5px;font-size:11px}")});var uk;var rs=N(()=>{ds();ss();L$();M1();as();uk=class uk extends Z8{constructor(J,$,Q,X,Y){super();if(r0&&!(Y===null||Y===void 0?void 0:Y.useCustomDrawn))this.selectBoxDelegate=new mk(J,$,X,Y);else this.selectBoxDelegate=new xJ(J,$,Q,X,Y);this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(J,$){this.selectBoxDelegate.setOptions(J,$)}select(J){this.selectBoxDelegate.select(J)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(J){this.selectBoxDelegate.setFocusable(J)}render(J){this.selectBoxDelegate.render(J)}}});var ck=N(()=>{j0(".monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{align-items:center;width:100%;height:100%;margin:0 auto;padding:0;display:flex}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{cursor:pointer;justify-content:center;align-items:center;display:block;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .icon,.monaco-action-bar .action-item .codicon{display:block}.monaco-action-bar .action-item .codicon{align-items:center;width:16px;height:16px;display:flex}.monaco-action-bar .action-label{border-radius:5px;padding:3px;font-size:11px;display:flex}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.6}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{border-bottom:1px solid #bbb;margin-left:.8em;margin-right:.8em;padding-top:1px;display:block}.monaco-action-bar .action-item .action-label.separator{cursor:default;background-color:#bbb;width:1px;min-width:1px;height:16px;padding:0;margin:5px 4px!important}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{flex:1;justify-content:center;align-items:center;min-width:60px;max-width:170px;margin-right:10px;display:flex;overflow:hidden}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator{cursor:default;align-items:center;display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator>div{width:1px}")});var R7,$G,lk;var Cj=N(()=>{B7();yk();D0();d9();xk();rs();t8();Q0();M1();ck();g0();R7=class R7 extends h{get action(){return this._action}constructor(J,$,Q={}){super();if(this.options=Q,this._context=J||this,this._action=$,$ instanceof F7)this._register($.onDidChange((X)=>{if(!this.element)return;this.handleActionChangeEvent(X)}))}handleActionChangeEvent(J){if(J.enabled!==void 0)this.updateEnabled();if(J.checked!==void 0)this.updateChecked();if(J.class!==void 0)this.updateClass();if(J.label!==void 0)this.updateLabel(),this.updateTooltip();if(J.tooltip!==void 0)this.updateTooltip()}get actionRunner(){if(!this._actionRunner)this._actionRunner=this._register(new Z9);return this._actionRunner}set actionRunner(J){this._actionRunner=J}isEnabled(){return this._action.enabled}setActionContext(J){this._context=J}render(J){let $=this.element=J;this._register(T1.addTarget(J));let Q=this.options&&this.options.draggable;if(Q){if(J.draggable=!0,g5)this._register(m(J,$0.DRAG_START,(X)=>{var Y;return(Y=X.dataTransfer)===null||Y===void 0?void 0:Y.setData(OP.TEXT,this._action.label)}))}if(this._register(m($,E1.Tap,(X)=>this.onClick(X,!0))),this._register(m($,$0.MOUSE_DOWN,(X)=>{if(!Q)c0.stop(X,!0);if(this._action.enabled&&X.button===0)$.classList.add("active")})),r0)this._register(m($,$0.CONTEXT_MENU,(X)=>{if(X.button===0&&X.ctrlKey===!0)this.onClick(X)}));this._register(m($,$0.CLICK,(X)=>{if(c0.stop(X,!0),!(this.options&&this.options.isMenu))this.onClick(X)})),this._register(m($,$0.DBLCLICK,(X)=>{c0.stop(X,!0)})),[$0.MOUSE_UP,$0.MOUSE_OUT].forEach((X)=>{this._register(m($,X,(Y)=>{c0.stop(Y),$.classList.remove("active")}))})}onClick(J,$=!1){var Q;c0.stop(J,!0);let X=K8(this._context)?((Q=this.options)===null||Q===void 0?void 0:Q.useEventAsContext)?J:{preserveFocus:$}:this._context;this.actionRunner.run(this._action,X)}focus(){if(this.element)this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused")}blur(){if(this.element)this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused")}setFocusable(J){if(this.element)this.element.tabIndex=J?0:-1}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var J;if(!this.element)return;let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";if(this.updateAriaLabel(),!this.options.hoverDelegate)this.element.title=$;else if(this.element.title="",!this.customHover)this.customHover=NP(this.options.hoverDelegate,this.element,$),this._store.add(this.customHover);else this.customHover.update($)}updateAriaLabel(){var J;if(this.element){let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.element.setAttribute("aria-label",$)}}updateClass(){}updateChecked(){}dispose(){if(this.element)this.element.remove(),this.element=void 0;this._context=void 0,super.dispose()}};$G=class $G extends R7{constructor(J,$,Q){super(J,$,Q);this.options=Q,this.options.icon=Q.icon!==void 0?Q.icon:!1,this.options.label=Q.label!==void 0?Q.label:!0,this.cssClass=""}render(J){super.render(J),Z5(this.element);let $=document.createElement("a");if($.classList.add("action-label"),$.setAttribute("role",this.getDefaultAriaRole()),this.label=$,this.element.appendChild($),this.options.label&&this.options.keybinding){let Q=document.createElement("span");Q.classList.add("keybinding"),Q.textContent=this.options.keybinding,this.element.appendChild(Q)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){if(this._action.id===l6.ID)return"presentation";else if(this.options.isMenu)return"menuitem";else return"button"}focus(){if(this.label)this.label.tabIndex=0,this.label.focus()}blur(){if(this.label)this.label.tabIndex=-1}setFocusable(J){if(this.label)this.label.tabIndex=J?0:-1}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this.action.label}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(!this.options.label&&this.action.label&&this.options.icon){if(J=this.action.label,this.options.keybinding)J=F({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",J,this.options.keybinding)}return J!==null&&J!==void 0?J:void 0}updateClass(){var J;if(this.cssClass&&this.label)this.label.classList.remove(...this.cssClass.split(" "));if(this.options.icon){if(this.cssClass=this.getClass(),this.label){if(this.label.classList.add("codicon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "))}this.updateEnabled()}else(J=this.label)===null||J===void 0||J.classList.remove("codicon")}updateEnabled(){var J,$;if(this.action.enabled){if(this.label)this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled");(J=this.element)===null||J===void 0||J.classList.remove("disabled")}else{if(this.label)this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled");($=this.element)===null||$===void 0||$.classList.add("disabled")}}updateAriaLabel(){var J;if(this.label){let $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.label.setAttribute("aria-label",$)}}updateChecked(){if(this.label)if(this.action.checked!==void 0)this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox");else this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())}};lk=class lk extends R7{constructor(J,$,Q,X,Y,Z,G){super(J,$);this.selectBox=new uk(Q,X,Y,Z,G),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(J){this.selectBox.select(J)}registerListeners(){this._register(this.selectBox.onDidSelect((J)=>this.runAction(J.selected,J.index)))}runAction(J,$){this.actionRunner.run(this._action,this.getActionContext(J,$))}getActionContext(J,$){return J}setFocusable(J){this.selectBox.setFocusable(J)}focus(){var J;(J=this.selectBox)===null||J===void 0||J.focus()}blur(){var J;(J=this.selectBox)===null||J===void 0||J.blur()}render(J){this.selectBox.render(J)}}});var dk=N(()=>{j0(".monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;justify-content:center;align-items:center;height:100%;display:flex}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});var is,sk;var ns=N(()=>{D0();R8();d9();t8();F0();dk();is=class is extends Z9{constructor(J,$){super();this._onDidChangeVisibility=this._register(new y),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Z0(J,q0(".monaco-dropdown")),this._label=Z0(this._element,q0(".dropdown-label"));let Q=$.labelRenderer;if(!Q)Q=(Y)=>{return Y.textContent=$.label||"",null};for(let Y of[$0.CLICK,$0.MOUSE_DOWN,E1.Tap])this._register(m(this.element,Y,(Z)=>c0.stop(Z,!0)));for(let Y of[$0.MOUSE_DOWN,E1.Tap])this._register(m(this._label,Y,(Z)=>{if(Zq(Z)&&(Z.detail>1||Z.button!==0))return;if(this.visible)this.hide();else this.show()}));this._register(m(this._label,$0.KEY_UP,(Y)=>{let Z=new K1(Y);if(Z.equals(3)||Z.equals(10))if(c0.stop(Y,!0),this.visible)this.hide();else this.show()}));let X=Q(this._label);if(X)this._register(X);this._register(T1.addTarget(this._label))}get element(){return this._element}show(){if(!this.visible)this.visible=!0,this._onDidChangeVisibility.fire(!0)}hide(){if(this.visible)this.visible=!1,this._onDidChangeVisibility.fire(!1)}dispose(){if(super.dispose(),this.hide(),this.boxContainer)this.boxContainer.remove(),this.boxContainer=void 0;if(this.contents)this.contents.remove(),this.contents=void 0;if(this._label)this._label.remove(),this._label=void 0}};sk=class sk extends is{constructor(J,$){super(J,$);this._options=$,this._actions=[],this.actions=$.actions||[]}set menuOptions(J){this._menuOptions=J}get menuOptions(){return this._menuOptions}get actions(){if(this._options.actionProvider)return this._options.actionProvider.getActions();return this._actions}set actions(J){this._actions=J}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(J,$)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(J,$):void 0,getKeyBinding:(J)=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(J):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}});var QG;var ak=N(()=>{D0();Cj();ns();F0();dk();QG=class QG extends R7{constructor(J,$,Q,X=Object.create(null)){super(null,J,X);if(this.actionItem=null,this._onDidChangeVisibility=this._register(new y),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=$,this.contextMenuProvider=Q,this.options=X,this.options.actionRunner)this.actionRunner=this.options.actionRunner}render(J){this.actionItem=J;let $=(Y)=>{this.element=Z0(Y,q0("a.action-label"));let Z=[];if(typeof this.options.classNames==="string")Z=this.options.classNames.split(/\s+/g).filter((G)=>!!G);else if(this.options.classNames)Z=this.options.classNames;if(!Z.find((G)=>G==="icon"))Z.push("codicon");return this.element.classList.add(...Z),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},Q=Array.isArray(this.menuActionsOrProvider),X={contextMenuProvider:this.contextMenuProvider,labelRenderer:$,menuAsChild:this.options.menuAsChild,actions:Q?this.menuActionsOrProvider:void 0,actionProvider:Q?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new sk(J,X)),this._register(this.dropdownMenu.onDidChangeVisibility((Y)=>{var Z;(Z=this.element)===null||Z===void 0||Z.setAttribute("aria-expanded",`${Y}`),this._onDidChangeVisibility.fire(Y)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let Y=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return Y.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(this.action.label)J=this.action.label;return J!==null&&J!==void 0?J:void 0}setActionContext(J){if(super.setActionContext(J),this.dropdownMenu)if(this.dropdownMenu.menuOptions)this.dropdownMenu.menuOptions.context=J;else this.dropdownMenu.menuOptions={context:J}}show(){var J;(J=this.dropdownMenu)===null||J===void 0||J.show()}updateEnabled(){var J,$;let Q=!this.action.enabled;(J=this.actionItem)===null||J===void 0||J.classList.toggle("disabled",Q),($=this.element)===null||$===void 0||$.classList.toggle("disabled",Q)}}});var os=N(()=>{j0(".monaco-action-bar .action-item.menu-entry .action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});function ts(J){return J?J.condition!==void 0:!1}class vj{constructor(){this.onDidChangeItemsExternal=J0.None,this.items=new Map}async updateItems(J){var $,Q;($=J.insert)===null||$===void 0||$.forEach((X,Y)=>this.items.set(Y,X)),(Q=J.delete)===null||Q===void 0||Q.forEach((X)=>this.items.delete(X))}}var XG,p3,YG;var es=N(()=>{u1();F0();Q0();UP();(function(J){J[J.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",J[J.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(XG||(XG={}));(function(J){J[J.None=0]="None",J[J.Initialized=1]="Initialized",J[J.Closed=2]="Closed"})(p3||(p3={}));YG=class YG extends h{constructor(J,$=Object.create(null)){super();this.database=J,this.options=$,this._onDidChangeStorage=this._register(new H4),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=p3.None,this.cache=new Map,this.flushDelayer=this._register(new Wz(YG.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((J)=>this.onDidChangeItemsExternal(J)))}onDidChangeItemsExternal(J){var $,Q;this._onDidChangeStorage.pause();try{($=J.changed)===null||$===void 0||$.forEach((X,Y)=>this.acceptExternal(Y,X)),(Q=J.deleted)===null||Q===void 0||Q.forEach((X)=>this.acceptExternal(X,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(J,$){if(this.state===p3.Closed)return;let Q=!1;if(K8($))Q=this.cache.delete(J);else if(this.cache.get(J)!==$)this.cache.set(J,$),Q=!0;if(Q)this._onDidChangeStorage.fire({key:J,external:!0})}get(J,$){let Q=this.cache.get(J);if(K8(Q))return $;return Q}getBoolean(J,$){let Q=this.get(J);if(K8(Q))return $;return Q==="true"}getNumber(J,$){let Q=this.get(J);if(K8(Q))return $;return parseInt(Q,10)}async set(J,$,Q=!1){if(this.state===p3.Closed)return;if(K8($))return this.delete(J,Q);let X=r6($)||Array.isArray($)?_d($):String($);if(this.cache.get(J)===X)return;return this.cache.set(J,X),this.pendingInserts.set(J,X),this.pendingDeletes.delete(J),this._onDidChangeStorage.fire({key:J,external:Q}),this.doFlush()}async delete(J,$=!1){if(this.state===p3.Closed)return;if(!this.cache.delete(J))return;if(!this.pendingDeletes.has(J))this.pendingDeletes.add(J);return this.pendingInserts.delete(J),this._onDidChangeStorage.fire({key:J,external:$}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;let J={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(J).finally(()=>{var $;if(!this.hasPending)while(this.whenFlushedCallbacks.length)($=this.whenFlushedCallbacks.pop())===null||$===void 0||$()})}async doFlush(J){if(this.options.hint===XG.STORAGE_IN_MEMORY)return this.flushPending();return this.flushDelayer.trigger(()=>this.flushPending(),J)}};YG.DEFAULT_FLUSH_DELAY=100});function O40(J){let $=J.get(yP);if($)try{return JSON.parse($)}catch(Q){}return Object.create(null)}var yP="__$__targetStorageMarker",bJ,xP,bP,rk;var m3=N(()=>{F0();Q0();es();u0();bJ=M0("storageService");(function(J){J[J.NONE=0]="NONE",J[J.SHUTDOWN=1]="SHUTDOWN"})(xP||(xP={}));bP=class bP extends h{constructor(J={flushInterval:bP.DEFAULT_FLUSH_INTERVAL}){super();this.options=J,this._onDidChangeValue=this._register(new H4),this._onDidChangeTarget=this._register(new H4),this._onWillSaveState=this._register(new y),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(J,$,Q){return J0.filter(this._onDidChangeValue.event,(X)=>X.scope===J&&($===void 0||X.key===$),Q)}emitDidChangeValue(J,$){let{key:Q,external:X}=$;if(Q===yP){switch(J){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:J})}else this._onDidChangeValue.fire({scope:J,key:Q,target:this.getKeyTargets(J)[Q],external:X})}get(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.get(J,Q)}getBoolean(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.getBoolean(J,Q)}getNumber(J,$,Q){var X;return(X=this.getStorage($))===null||X===void 0?void 0:X.getNumber(J,Q)}store(J,$,Q,X,Y=!1){if(K8($)){this.remove(J,Q,Y);return}this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(J,Q,X),(Z=this.getStorage(Q))===null||Z===void 0||Z.set(J,$,Y)})}remove(J,$,Q=!1){this.withPausedEmitters(()=>{var X;this.updateKeyTarget(J,$,void 0),(X=this.getStorage($))===null||X===void 0||X.delete(J,Q)})}withPausedEmitters(J){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{J()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(J,$,Q,X=!1){var Y,Z;let G=this.getKeyTargets($);if(typeof Q==="number"){if(G[J]!==Q)G[J]=Q,(Y=this.getStorage($))===null||Y===void 0||Y.set(yP,JSON.stringify(G),X)}else if(typeof G[J]==="number")delete G[J],(Z=this.getStorage($))===null||Z===void 0||Z.set(yP,JSON.stringify(G),X)}get workspaceKeyTargets(){if(!this._workspaceKeyTargets)this._workspaceKeyTargets=this.loadKeyTargets(1);return this._workspaceKeyTargets}get profileKeyTargets(){if(!this._profileKeyTargets)this._profileKeyTargets=this.loadKeyTargets(0);return this._profileKeyTargets}get applicationKeyTargets(){if(!this._applicationKeyTargets)this._applicationKeyTargets=this.loadKeyTargets(-1);return this._applicationKeyTargets}getKeyTargets(J){switch(J){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(J){let $=this.getStorage(J);return $?O40($):Object.create(null)}};bP.DEFAULT_FLUSH_INTERVAL=60000;rk=class rk extends bP{constructor(){super();this.applicationStorage=this._register(new YG(new vj,{hint:XG.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new YG(new vj,{hint:XG.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new YG(new vj,{hint:XG.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(1,J))),this._register(this.profileStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(0,J))),this._register(this.applicationStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(-1,J)))}getStorage(J){switch(J){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}});function N40(J,$){let Q={...$};for(let X in J){let Y=J[X];Q[X]=Y!==void 0?V0(Y):void 0}return Q}function OX(J){return N40(J,ZG)}var Ja,$a,Qa,ik,eh0,Jf0,nk,Xa,Ya,$f0,ZG,Za,Ga;var u3=N(()=>{N8();g7();Ja={keybindingLabelBackground:V0(Of),keybindingLabelForeground:V0(Nf),keybindingLabelBorder:V0(Tf),keybindingLabelBottomBorder:V0(wf),keybindingLabelShadow:V0(P$)},$a={buttonForeground:V0(Lq),buttonSeparator:V0(Vf),buttonBackground:V0(kq),buttonHoverBackground:V0(Wf),buttonSecondaryForeground:V0(Ff),buttonSecondaryBackground:V0(VK),buttonSecondaryHoverBackground:V0(Kf),buttonBorder:V0(Bf)},Qa={progressBarBackground:V0(Pf)},ik={inputActiveOptionBorder:V0(eh),inputActiveOptionForeground:V0($f),inputActiveOptionBackground:V0(Jf)},eh0={checkboxBackground:V0(tf),checkboxBorder:V0(Jg),checkboxForeground:V0(ef)},Jf0={dialogBackground:V0(y6),dialogForeground:V0(M$),dialogShadow:V0(P$),dialogBorder:V0(O1),errorIconForeground:V0(Ag),warningIconForeground:V0(Pg),infoIconForeground:V0(Dg),textLinkForeground:V0(rh)},nk={inputBackground:V0(nh),inputForeground:V0(oh),inputBorder:V0(th),inputValidationInfoBorder:V0(Yf),inputValidationInfoBackground:V0(Qf),inputValidationInfoForeground:V0(Xf),inputValidationWarningBorder:V0(qf),inputValidationWarningBackground:V0(Zf),inputValidationWarningForeground:V0(Gf),inputValidationErrorBorder:V0(Hf),inputValidationErrorBackground:V0(Uf),inputValidationErrorForeground:V0(zf)},Xa={listFilterWidgetBackground:V0(lf),listFilterWidgetOutline:V0(df),listFilterWidgetNoMatchesOutline:V0(sf),listFilterWidgetShadow:V0(af),inputBoxStyles:nk,toggleStyles:ik},Ya={badgeBackground:V0(zH),badgeForeground:V0(Af),badgeBorder:V0(O1)},$f0={breadcrumbsBackground:V0(zg),breadcrumbsForeground:V0(Ug),breadcrumbsHoverForeground:V0(dO),breadcrumbsFocusForeground:V0(dO),breadcrumbsFocusAndSelectionForeground:V0(Hg)},ZG={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:V0(bf),listFocusForeground:V0(Sf),listFocusOutline:V0(Cf),listActiveSelectionBackground:V0(_$),listActiveSelectionForeground:V0(DJ),listActiveSelectionIconForeground:V0(Sq),listFocusAndSelectionOutline:V0(vf),listFocusAndSelectionBackground:V0(_$),listFocusAndSelectionForeground:V0(DJ),listInactiveSelectionBackground:V0(hf),listInactiveSelectionIconForeground:V0(gf),listInactiveSelectionForeground:V0(ff),listInactiveFocusBackground:V0(pf),listInactiveFocusOutline:V0(mf),listHoverBackground:V0(cO),listHoverForeground:V0(lO),listDropOverBackground:V0(uf),listDropBetweenBackground:V0(cf),listSelectionOutline:V0(H6),listHoverOutline:V0(H6),treeIndentGuidesStroke:V0(Cq),treeInactiveIndentGuidesStroke:V0(rf),tableColumnsBorder:V0(nf),tableOddRowsBackgroundColor:V0(of)};Za={selectBackground:V0(AJ),selectListBackground:V0(jf),selectForeground:V0(D$),decoratorRightForeground:V0(AK),selectBorder:V0(jY),focusBorder:V0(V9),listFocusBackground:V0(T$),listInactiveSelectionIconForeground:V0(sQ),listFocusForeground:V0(N$),listFocusOutline:sh(H6,l.transparent.toString()),listHoverBackground:V0(cO),listHoverForeground:V0(lO),listHoverOutline:V0(H6),selectListBorder:V0(PJ),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},Ga={shadowColor:V0(P$),borderColor:V0($g),foregroundColor:V0(Qg),backgroundColor:V0(Xg),selectionForegroundColor:V0(Yg),selectionBackgroundColor:V0(Zg),selectionBorderColor:V0(Gg),separatorColor:V0(qg),scrollbarShadow:V0(Eq),scrollbarSliderBackground:V0(Iq),scrollbarSliderHoverBackground:V0(yq),scrollbarSliderActiveBackground:V0(xq)}});function Ha(J,$,Q,X){let Y=J.getActions($),Z=z$.getInstance(),G=Z.keyStatus.altKey||(L6||V6)&&Z.keyStatus.shiftKey;Va(Y,Q,G,X?(q)=>q===X:(q)=>q==="navigation")}function ja(J,$,Q,X,Y,Z){let G=J.getActions($);Va(G,Q,!1,typeof X==="string"?(U)=>U===X:X,Y,Z)}function Va(J,$,Q,X=(G)=>G==="navigation",Y=()=>!1,Z=!1){let G,q;if(Array.isArray($))G=$,q=$;else G=$.primary,q=$.secondary;let U=new Set;for(let[z,H]of J){let j;if(X(z)){if(j=G,j.length>0&&Z)j.push(new l6)}else if(j=q,j.length>0)j.push(new l6);for(let V of H){if(Q)V=V instanceof K4&&V.alt?V.alt:V;let W=j.push(V);if(V instanceof NQ)U.add({group:z,action:V,index:W-1})}}for(let{group:z,action:H,index:j}of U){let V=X(z)?G:q,W=H.actions;if(Y(H,z,V.length))V.splice(j,1,...W)}}var SP=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},M7=function(J,$){return function(Q,X){$(Q,X,J)}},c3,qa,Ua,za;var CP=N(()=>{D0();R8();Cj();ak();t8();FP();Q0();M1();os();g0();P4();m1();KX();u0();x4();VX();m3();s6();H5();aQ();N8();u3();BJ();c3=class J extends $G{constructor($,Q,X,Y,Z,G,q,U){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:Q===null||Q===void 0?void 0:Q.draggable,keybinding:Q===null||Q===void 0?void 0:Q.keybinding,hoverDelegate:Q===null||Q===void 0?void 0:Q.hoverDelegate});this._keybindingService=X,this._notificationService=Y,this._contextKeyService=Z,this._themeService=G,this._contextMenuService=q,this._accessibilityService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new f5),this._altKey=z$.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick($){$.preventDefault(),$.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(Q){this._notificationService.error(Q)}}render($){if(super.render($),$.classList.add("menu-entry"),this.options.icon)this._updateItemClass(this._menuItemAction.item);if(this._menuItemAction.alt){let Q=!1,X=()=>{var Y;let Z=!!((Y=this._menuItemAction.alt)===null||Y===void 0?void 0:Y.enabled)&&(!this._accessibilityService.isMotionReduced()||Q)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Q);if(Z!==this._wantsAltCommand)this._wantsAltCommand=Z,this.updateLabel(),this.updateTooltip(),this.updateClass()};this._register(this._altKey.event(X)),this._register(m($,"mouseleave",(Y)=>{Q=!1,X()})),this._register(m($,"mouseenter",(Y)=>{Q=!0,X()})),X()}}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this._commandAction.label}getTooltip(){var $;let Q=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),X=Q&&Q.getLabel(),Y=this._commandAction.tooltip||this._commandAction.label,Z=X?F("titleAndKb","{0} ({1})",Y,X):Y;if(!this._wantsAltCommand&&(($=this._menuItemAction.alt)===null||$===void 0?void 0:$.enabled)){let G=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),U=q&&q.getLabel(),z=U?F("titleAndKb","{0} ({1})",G,U):G;Z=F("titleAndKbAndAlt",`{0}
[{1}] {2}`,Z,y3.modifierLabels[I8].altKey,z)}return Z}updateClass(){if(this.options.icon)if(this._commandAction!==this._menuItemAction){if(this._menuItemAction.alt)this._updateItemClass(this._menuItemAction.alt.item)}else this._updateItemClass(this._menuItemAction.item)}_updateItemClass($){this._itemClassDispose.value=void 0;let{element:Q,label:X}=this;if(!Q||!X)return;let Y=this._commandAction.checked&&ts($.toggled)&&$.toggled.icon?$.toggled.icon:$.icon;if(!Y)return;if(b0.isThemeIcon(Y)){let Z=b0.asClassNameArray(Y);X.classList.add(...Z),this._itemClassDispose.value=K0(()=>{X.classList.remove(...Z)})}else X.style.backgroundImage=_2(this._themeService.getColorTheme().type)?_4(Y.dark):_4(Y.light),X.classList.add("icon"),this._itemClassDispose.value=x8(K0(()=>{X.style.backgroundImage="",X.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};c3=SP([M7(2,u6),M7(3,a5),M7(4,h0),M7(5,d6),M7(6,r7),M7(7,_8)],c3);qa=class J extends QG{constructor($,Q,X,Y,Z){var G,q,U;let z={...Q,menuAsChild:(G=Q===null||Q===void 0?void 0:Q.menuAsChild)!==null&&G!==void 0?G:!1,classNames:(q=Q===null||Q===void 0?void 0:Q.classNames)!==null&&q!==void 0?q:b0.isThemeIcon($.item.icon)?b0.asClassName($.item.icon):void 0,keybindingProvider:(U=Q===null||Q===void 0?void 0:Q.keybindingProvider)!==null&&U!==void 0?U:(H)=>X.lookupKeybinding(H.id)};super($,{getActions:()=>$.actions},Y,z);this._keybindingService=X,this._contextMenuService=Y,this._themeService=Z}render($){super.render($),Z5(this.element),$.classList.add("menu-entry");let Q=this._action,{icon:X}=Q.item;if(X&&!b0.isThemeIcon(X)){this.element.classList.add("icon");let Y=()=>{if(this.element)this.element.style.backgroundImage=_2(this._themeService.getColorTheme().type)?_4(X.dark):_4(X.light)};Y(),this._register(this._themeService.onDidColorThemeChange(()=>{Y()}))}}};qa=SP([M7(2,u6),M7(3,r7),M7(4,d6)],qa);Ua=class J extends R7{constructor($,Q,X,Y,Z,G,q,U){var z,H,j;super(null,$);this._keybindingService=X,this._notificationService=Y,this._contextMenuService=Z,this._menuService=G,this._instaService=q,this._storageService=U,this._container=null,this._options=Q,this._storageKey=`${$.item.submenu.id}_lastActionId`;let V,W=(Q===null||Q===void 0?void 0:Q.persistLastActionId)?U.get(this._storageKey,1):void 0;if(W)V=$.actions.find((K)=>W===K.id);if(!V)V=$.actions[0];this._defaultAction=this._instaService.createInstance(c3,V,{keybinding:this._getDefaultActionKeybindingLabel(V)});let B={keybindingProvider:(K)=>this._keybindingService.lookupKeybinding(K.id),...Q,menuAsChild:(z=Q===null||Q===void 0?void 0:Q.menuAsChild)!==null&&z!==void 0?z:!0,classNames:(H=Q===null||Q===void 0?void 0:Q.classNames)!==null&&H!==void 0?H:["codicon","codicon-chevron-down"],actionRunner:(j=Q===null||Q===void 0?void 0:Q.actionRunner)!==null&&j!==void 0?j:new Z9};this._dropdown=new QG($,$.actions,this._contextMenuService,B),this._register(this._dropdown.actionRunner.onDidRun((K)=>{if(K.action instanceof K4)this.update(K.action)}))}update($){var Q;if((Q=this._options)===null||Q===void 0?void 0:Q.persistLastActionId)this._storageService.store(this._storageKey,$.id,1,1);if(this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(c3,$,{keybinding:this._getDefaultActionKeybindingLabel($)}),this._defaultAction.actionRunner=new class extends Z9{async runAction(X,Y){await X.run(void 0)}},this._container)this._defaultAction.render(qq(this._container,q0(".action-container")))}_getDefaultActionKeybindingLabel($){var Q;let X;if((Q=this._options)===null||Q===void 0?void 0:Q.renderKeybindingWithDefaultActionLabel){let Y=this._keybindingService.lookupKeybinding($.id);if(Y)X=`(${Y.getLabel()})`}return X}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");let Q=q0(".action-container");this._defaultAction.render(Z0(this._container,Q)),this._register(m(Q,$0.KEY_DOWN,(Y)=>{let Z=new K1(Y);if(Z.equals(17))this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Z.stopPropagation()}));let X=q0(".dropdown-action-container");this._dropdown.render(Z0(this._container,X)),this._register(m(X,$0.KEY_DOWN,(Y)=>{var Z;let G=new K1(Y);if(G.equals(15))this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(Z=this._defaultAction.element)===null||Z===void 0||Z.focus(),G.stopPropagation()}))}focus($){if($)this._dropdown.focus();else this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus()}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){if($)this._defaultAction.element.tabIndex=0;else this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1)}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Ua=SP([M7(2,u6),M7(3,a5),M7(4,r7),M7(5,A4),M7(6,p0),M7(7,bJ)],Ua);za=class J extends lk{constructor($,Q){super(null,$,$.actions.map((X)=>({text:X.id===l6.ID?"─────────":X.label,isDisabled:!X.enabled})),0,Q,Za,{ariaLabel:$.tooltip,optionsAsChildren:!0});this.select(Math.max(0,$.actions.findIndex((X)=>X.checked)))}render($){super.render($),$.style.borderColor=V0(jY)}runAction($,Q){let X=this.action.actions[Q];if(X)this.actionRunner.run(X)}};za=SP([M7(1,IJ)],za)});var H8;var r$=N(()=>{D0();R8();Cj();t8();F0();Q0();ck();H8=class H8 extends h{constructor(J,$={}){var Q,X,Y,Z,G,q;super();if(this._actionRunnerDisposables=this._register(new r),this.viewItemDisposables=this._register(new kZ),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new y({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new y),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new y),this.onWillRun=this._onWillRun.event,this.options=$,this._context=(Q=$.context)!==null&&Q!==void 0?Q:null,this._orientation=(X=this.options.orientation)!==null&&X!==void 0?X:0,this._triggerKeys={keyDown:(Z=(Y=this.options.triggerKeys)===null||Y===void 0?void 0:Y.keyDown)!==null&&Z!==void 0?Z:!1,keys:(q=(G=this.options.triggerKeys)===null||G===void 0?void 0:G.keys)!==null&&q!==void 0?q:[3,10]},this.options.actionRunner)this._actionRunner=this.options.actionRunner;else this._actionRunner=new Z9,this._actionRunnerDisposables.add(this._actionRunner);if(this._actionRunnerDisposables.add(this._actionRunner.onDidRun((H)=>this._onDidRun.fire(H))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((H)=>this._onWillRun.fire(H))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",$.animated!==!1)this.domNode.classList.add("animated");let U,z;switch(this._orientation){case 0:U=[15],z=[17];break;case 1:U=[16],z=[18],this.domNode.className+=" vertical";break}if(this._register(m(this.domNode,$0.KEY_DOWN,(H)=>{let j=new K1(H),V=!0,W=typeof this.focusedItem==="number"?this.viewItems[this.focusedItem]:void 0;if(U&&(j.equals(U[0])||j.equals(U[1])))V=this.focusPrevious();else if(z&&(j.equals(z[0])||j.equals(z[1])))V=this.focusNext();else if(j.equals(9)&&this.cancelHasListener)this._onDidCancel.fire();else if(j.equals(14))V=this.focusFirst();else if(j.equals(13))V=this.focusLast();else if(j.equals(2)&&W instanceof R7&&W.trapsArrowNavigation)V=this.focusNext();else if(this.isTriggerKeyEvent(j))if(this._triggerKeys.keyDown)this.doTrigger(j);else this.triggerKeyDown=!0;else V=!1;if(V)j.preventDefault(),j.stopPropagation()})),this._register(m(this.domNode,$0.KEY_UP,(H)=>{let j=new K1(H);if(this.isTriggerKeyEvent(j)){if(!this._triggerKeys.keyDown&&this.triggerKeyDown)this.triggerKeyDown=!1,this.doTrigger(j);j.preventDefault(),j.stopPropagation()}else if(j.equals(2)||j.equals(1026)||j.equals(16)||j.equals(18)||j.equals(15)||j.equals(17))this.updateFocusedItem()})),this.focusTracker=this._register(IQ(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{if(e6()===this.domNode||!p6(e6(),this.domNode))this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems)this.actionsList.classList.add("highlight-toggled");if(this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel)this.actionsList.setAttribute("aria-label",this.options.ariaLabel);this.domNode.appendChild(this.actionsList),J.appendChild(this.domNode)}refreshRole(){if(this.length()>=1)this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar");else this.actionsList.setAttribute("role","presentation")}setFocusable(J){if(this.focusable=J,this.focusable){let $=this.viewItems.find((Q)=>Q instanceof R7&&Q.isEnabled());if($ instanceof R7)$.setFocusable(!0)}else this.viewItems.forEach(($)=>{if($ instanceof R7)$.setFocusable(!1)})}isTriggerKeyEvent(J){let $=!1;return this._triggerKeys.keys.forEach((Q)=>{$=$||J.equals(Q)}),$}updateFocusedItem(){var J,$;for(let Q=0;Q<this.actionsList.children.length;Q++){let X=this.actionsList.children[Q];if(p6(e6(),X)){this.focusedItem=Q,($=(J=this.viewItems[this.focusedItem])===null||J===void 0?void 0:J.showHover)===null||$===void 0||$.call(J);break}}}get context(){return this._context}set context(J){this._context=J,this.viewItems.forEach(($)=>$.setActionContext(J))}get actionRunner(){return this._actionRunner}set actionRunner(J){this._actionRunner=J,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(($)=>this._onDidRun.fire($))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(($)=>this._onWillRun.fire($))),this.viewItems.forEach(($)=>$.actionRunner=J)}getContainer(){return this.domNode}getAction(J){var $;if(typeof J==="number")return($=this.viewItems[J])===null||$===void 0?void 0:$.action;if(J instanceof HTMLElement){while(J.parentElement!==this.actionsList){if(!J.parentElement)return;J=J.parentElement}for(let Q=0;Q<this.actionsList.childNodes.length;Q++)if(this.actionsList.childNodes[Q]===J)return this.viewItems[Q].action}return}push(J,$={}){let Q=Array.isArray(J)?J:[J],X=e7($.index)?$.index:null;if(Q.forEach((Y)=>{let Z=document.createElement("li");Z.className="action-item",Z.setAttribute("role","presentation");let G,q={hoverDelegate:this.options.hoverDelegate,...$};if(this.options.actionViewItemProvider)G=this.options.actionViewItemProvider(Y,q);if(!G)G=new $G(this.context,Y,q);if(!this.options.allowContextMenu)this.viewItemDisposables.set(G,m(Z,$0.CONTEXT_MENU,(U)=>{c0.stop(U,!0)}));if(G.actionRunner=this._actionRunner,G.setActionContext(this.context),G.render(Z),this.focusable&&G instanceof R7&&this.viewItems.length===0)G.setFocusable(!0);if(X===null||X<0||X>=this.actionsList.children.length)this.actionsList.appendChild(Z),this.viewItems.push(G);else this.actionsList.insertBefore(Z,this.actionsList.children[X]),this.viewItems.splice(X,0,G),X++}),typeof this.focusedItem==="number")this.focus(this.focusedItem);this.refreshRole()}clear(){if(this.isEmpty())return;this.viewItems=k1(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),I5(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(J){let $=!1,Q=void 0;if(J===void 0)$=!0;else if(typeof J==="number")Q=J;else if(typeof J==="boolean")$=J;if($&&typeof this.focusedItem==="undefined"){let X=this.viewItems.findIndex((Y)=>Y.isEnabled());this.focusedItem=X===-1?void 0:X,this.updateFocus(void 0,void 0,!0)}else{if(Q!==void 0)this.focusedItem=Q;this.updateFocus(void 0,void 0,!0)}}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(J){if(typeof this.focusedItem==="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let $=this.focusedItem,Q;do{if(!J&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=$,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,Q=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!Q.isEnabled()||Q.action.id===l6.ID));return this.updateFocus(),!0}focusPrevious(J){if(typeof this.focusedItem==="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let $=this.focusedItem,Q;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!J&&this.options.preventLoopNavigation)return this.focusedItem=$,!1;this.focusedItem=this.viewItems.length-1}Q=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!Q.isEnabled()||Q.action.id===l6.ID));return this.updateFocus(!0),!0}updateFocus(J,$,Q=!1){var X,Y;if(typeof this.focusedItem==="undefined")this.actionsList.focus({preventScroll:$});if(this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem)(X=this.viewItems[this.previouslyFocusedItem])===null||X===void 0||X.blur();let Z=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(Z){let G=!0;if(!yG(Z.focus))G=!1;if(this.options.focusOnlyEnabledItems&&yG(Z.isEnabled)&&!Z.isEnabled())G=!1;if(Z.action.id===l6.ID)G=!1;if(!G)this.actionsList.focus({preventScroll:$}),this.previouslyFocusedItem=void 0;else if(Q||this.previouslyFocusedItem!==this.focusedItem)Z.focus(J),this.previouslyFocusedItem=this.focusedItem;if(G)(Y=Z.showHover)===null||Y===void 0||Y.call(Z)}}doTrigger(J){if(typeof this.focusedItem==="undefined")return;let $=this.viewItems[this.focusedItem];if($ instanceof R7){let Q=$._context===null||$._context===void 0?J:$._context;this.run($._action,Q)}}async run(J,$){await this._actionRunner.run(J,$)}dispose(){this._context=void 0,this.viewItems=k1(this.viewItems),this.getContainer().remove(),super.dispose()}}});function T40(J){let $=tk,Q=$.exec(J);if(!Q)return J;let X=!Q[1];return J.replace($,X?"$2$3":"").trim()}function Wa(J){let $=pW()[J.id];return`.codicon-${J.id}:before { content: '\\${$.toString(16)}'; }`}function w40(J,$){let Q=`
.monaco-menu {
\tfont-size: 13px;
\tborder-radius: 5px;
\tmin-width: 160px;
}

${Wa(U0.menuSelection)}
${Wa(U0.menuSubmenu)}

.monaco-menu .monaco-action-bar {
\ttext-align: right;
\toverflow: hidden;
\twhite-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
\tdisplay: flex;
\tmargin: 0 auto;
\tpadding: 0;
\twidth: 100%;
\tjustify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
\tdisplay: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
\tflex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
\tcursor: pointer;
\tdisplay: inline-block;
\ttransition: transform 50ms ease;
\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
\tcursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
\tdisplay: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
\tdisplay: flex;
\talign-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
\tfont-size: 11px;
\tmargin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
\tcolor: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
\ttext-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
\tdisplay: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
\tdisplay: block;
\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);
\tpadding-top: 1px;
\tpadding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
\tmargin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
\tflex: 1;
\tmax-width: 170px;
\tmin-width: 60px;
\tdisplay: flex;
\talign-items: center;
\tjustify-content: center;
\tmargin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
\tmargin-left: 0;
\toverflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
\tdisplay: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
\tpadding: 0;
\ttransform: none;
\tdisplay: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
\ttransform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
\tflex: 1 1 auto;
\tdisplay: flex;
\theight: 2em;
\talign-items: center;
\tposition: relative;
\tmargin: 0 4px;
\tborder-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
\topacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
\tflex: 1 1 auto;
\ttext-decoration: none;
\tpadding: 0 1em;
\tbackground: none;
\tfont-size: 12px;
\tline-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
\tdisplay: inline-block;
\tflex: 2 1 auto;
\tpadding: 0 1em;
\ttext-align: right;
\tfont-size: 12px;
\tline-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
\theight: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
\tfont-size: 16px !important;
\tdisplay: flex;
\talign-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
\tmargin-left: auto;
\tmargin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
\topacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
\tdisplay: inline-block;
\tbox-sizing: border-box;
\tmargin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
\tposition: static;
\toverflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
\tposition: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
\twidth: 100%;
\theight: 0px !important;
\topacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
\tpadding: 0.7em 1em 0.1em 1em;
\tfont-weight: bold;
\topacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
\tcolor: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
\tposition: absolute;
\tvisibility: hidden;
\twidth: 1em;
\theight: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
\tvisibility: visible;
\tdisplay: flex;
\talign-items: center;
\tjustify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
\toutline: 0;
\tborder: none;
\tanimation: fadeIn 0.083s linear;
\t-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
\toutline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
\tbox-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
\tbackground: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
\tpadding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
\theight: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
\tfont-size: inherit;
\tpadding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
\tfont-size: inherit;
\twidth: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
\tfont-size: inherit;
\tmargin: 5px 0 !important;
\tpadding: 0;
\tborder-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
\tmargin-left: 0;
\tmargin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
\tfont-size: 60%;
\tpadding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
\theight: 100%;
\tmask-size: 10px 10px;
\t-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
\tcursor: default;
}`;if($){Q+=`
\t\t\t/* Arrows */
\t\t\t.monaco-scrollable-element > .scrollbar > .scra {
\t\t\t\tcursor: pointer;
\t\t\t\tfont-size: 11px !important;
\t\t\t}

\t\t\t.monaco-scrollable-element > .visible {
\t\t\t\topacity: 1;

\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */
\t\t\t\tbackground:rgba(0,0,0,0);

\t\t\t\ttransition: opacity 100ms linear;
\t\t\t}
\t\t\t.monaco-scrollable-element > .invisible {
\t\t\t\topacity: 0;
\t\t\t\tpointer-events: none;
\t\t\t}
\t\t\t.monaco-scrollable-element > .invisible.fade {
\t\t\t\ttransition: opacity 800ms linear;
\t\t\t}

\t\t\t/* Scrollable Content Inset Shadow */
\t\t\t.monaco-scrollable-element > .shadow {
\t\t\t\tposition: absolute;
\t\t\t\tdisplay: none;
\t\t\t}
\t\t\t.monaco-scrollable-element > .shadow.top {
\t\t\t\tdisplay: block;
\t\t\t\ttop: 0;
\t\t\t\tleft: 3px;
\t\t\t\theight: 3px;
\t\t\t\twidth: 100%;
\t\t\t}
\t\t\t.monaco-scrollable-element > .shadow.left {
\t\t\t\tdisplay: block;
\t\t\t\ttop: 3px;
\t\t\t\tleft: 0;
\t\t\t\theight: 100%;
\t\t\t\twidth: 3px;
\t\t\t}
\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {
\t\t\t\tdisplay: block;
\t\t\t\ttop: 0;
\t\t\t\tleft: 0;
\t\t\t\theight: 3px;
\t\t\t\twidth: 3px;
\t\t\t}
\t\t`;let X=J.scrollbarShadow;if(X)Q+=`
\t\t\t\t.monaco-scrollable-element > .shadow.top {
\t\t\t\t\tbox-shadow: ${X} 0 6px 6px -6px inset;
\t\t\t\t}

\t\t\t\t.monaco-scrollable-element > .shadow.left {
\t\t\t\t\tbox-shadow: ${X} 6px 0 6px -6px inset;
\t\t\t\t}

\t\t\t\t.monaco-scrollable-element > .shadow.top.left {
\t\t\t\t\tbox-shadow: ${X} 6px 6px 6px -6px inset;
\t\t\t\t}
\t\t\t`;let Y=J.scrollbarSliderBackground;if(Y)Q+=`
\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {
\t\t\t\t\tbackground: ${Y};
\t\t\t\t}
\t\t\t`;let Z=J.scrollbarSliderHoverBackground;if(Z)Q+=`
\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {
\t\t\t\t\tbackground: ${Z};
\t\t\t\t}
\t\t\t`;let G=J.scrollbarSliderActiveBackground;if(G)Q+=`
\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {
\t\t\t\t\tbackground: ${G};
\t\t\t\t}
\t\t\t`}return Q}var tk,ok,vP,GG,$E,ek,JE;var Ba=N(()=>{B7();d9();D0();R8();k9();r$();Cj();kk();OJ();t8();u1();U5();H5();T3();Q0();M1();t0();tk=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,ok=/(&amp;)?(&amp;)([^\s&])/g;(function(J){J[J.Right=0]="Right",J[J.Left=1]="Left"})(vP||(vP={}));GG=class GG extends H8{constructor(J,$,Q,X){J.classList.add("monaco-menu-container"),J.setAttribute("role","presentation");let Y=document.createElement("div");Y.classList.add("monaco-menu"),Y.setAttribute("role","presentation");super(Y,{orientation:1,actionViewItemProvider:(U)=>this.doGetActionViewItem(U,Q,Z),context:Q.context,actionRunner:Q.actionRunner,ariaLabel:Q.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...r0||V6?[10]:[]],keyDown:!0}});if(this.menuStyles=X,this.menuElement=Y,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(J,X),this._register(T1.addTarget(Y)),this._register(m(Y,$0.KEY_DOWN,(U)=>{if(new K1(U).equals(2))U.preventDefault()})),Q.enableMnemonics)this._register(m(Y,$0.KEY_DOWN,(U)=>{let z=U.key.toLocaleLowerCase();if(this.mnemonics.has(z)){c0.stop(U,!0);let H=this.mnemonics.get(z);if(H.length===1){if(H[0]instanceof ek&&H[0].container)this.focusItemByElement(H[0].container);H[0].onClick(U)}if(H.length>1){let j=H.shift();if(j&&j.container)this.focusItemByElement(j.container),H.push(j);this.mnemonics.set(z,H)}}}));if(V6)this._register(m(Y,$0.KEY_DOWN,(U)=>{let z=new K1(U);if(z.equals(14)||z.equals(11))this.focusedItem=this.viewItems.length-1,this.focusNext(),c0.stop(U,!0);else if(z.equals(13)||z.equals(12))this.focusedItem=0,this.focusPrevious(),c0.stop(U,!0)}));this._register(m(this.domNode,$0.MOUSE_OUT,(U)=>{let z=U.relatedTarget;if(!p6(z,this.domNode))this.focusedItem=void 0,this.updateFocus(),U.stopPropagation()})),this._register(m(this.actionsList,$0.MOUSE_OVER,(U)=>{let z=U.target;if(!z||!p6(z,this.actionsList)||z===this.actionsList)return;while(z.parentElement!==this.actionsList&&z.parentElement!==null)z=z.parentElement;if(z.classList.contains("action-item")){let H=this.focusedItem;if(this.setFocusedItem(z),H!==this.focusedItem)this.updateFocus()}})),this._register(T1.addTarget(this.actionsList)),this._register(m(this.actionsList,E1.Tap,(U)=>{let z=U.initialTarget;if(!z||!p6(z,this.actionsList)||z===this.actionsList)return;while(z.parentElement!==this.actionsList&&z.parentElement!==null)z=z.parentElement;if(z.classList.contains("action-item")){let H=this.focusedItem;if(this.setFocusedItem(z),H!==this.focusedItem)this.updateFocus()}}));let Z={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new oQ(Y,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));let G=this.scrollableElement.getDomNode();G.style.position="",this.styleScrollElement(G,X),this._register(m(Y,E1.Change,(U)=>{c0.stop(U,!0);let z=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:z-U.translationY})})),this._register(m(G,$0.MOUSE_UP,(U)=>{U.preventDefault()}));let q=B0(J);Y.style.maxHeight=`${Math.max(10,q.innerHeight-J.getBoundingClientRect().top-35)}px`,$=$.filter((U,z)=>{var H;if((H=Q.submenuIds)===null||H===void 0?void 0:H.has(U.id))return console.warn(`Found submenu cycle: ${U.id}`),!1;if(U instanceof l6){if(z===$.length-1||z===0)return!1;if($[z-1]instanceof l6)return!1}return!0}),this.push($,{icon:!0,label:!0,isMenu:!0}),J.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((U)=>!(U instanceof JE)).forEach((U,z,H)=>{U.updatePositionInSet(z+1,H.length)})}initializeOrUpdateStyleSheet(J,$){if(!this.styleSheet)if(iZ(J))this.styleSheet=D5(J);else{if(!GG.globalStyleSheet)GG.globalStyleSheet=D5();this.styleSheet=GG.globalStyleSheet}this.styleSheet.textContent=w40($,iZ(J))}styleScrollElement(J,$){var Q,X;let Y=(Q=$.foregroundColor)!==null&&Q!==void 0?Q:"",Z=(X=$.backgroundColor)!==null&&X!==void 0?X:"",G=$.borderColor?`1px solid ${$.borderColor}`:"",q="5px",U=$.shadowColor?`0 2px 8px ${$.shadowColor}`:"";J.style.outline=G,J.style.borderRadius="5px",J.style.color=Y,J.style.backgroundColor=Z,J.style.boxShadow=U}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(J){let $=this.focusedItem;if(this.setFocusedItem(J),$!==this.focusedItem)this.updateFocus()}setFocusedItem(J){for(let $=0;$<this.actionsList.children.length;$++){let Q=this.actionsList.children[$];if(J===Q){this.focusedItem=$;break}}}updateFocus(J){if(super.updateFocus(J,!0,!0),typeof this.focusedItem!=="undefined")this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(J,$,Q){if(J instanceof l6)return new JE($.context,J,{icon:!0},this.menuStyles);else if(J instanceof NQ){let X=new ek(J,J.actions,Q,{...$,submenuIds:new Set([...$.submenuIds||[],J.id])},this.menuStyles);if($.enableMnemonics){let Y=X.getMnemonic();if(Y&&X.isEnabled()){let Z=[];if(this.mnemonics.has(Y))Z=this.mnemonics.get(Y);Z.push(X),this.mnemonics.set(Y,Z)}}return X}else{let X={enableMnemonics:$.enableMnemonics,useEventAsContext:$.useEventAsContext};if($.getKeyBinding){let Z=$.getKeyBinding(J);if(Z){let G=Z.getLabel();if(G)X.keybinding=G}}let Y=new $E($.context,J,X,this.menuStyles);if($.enableMnemonics){let Z=Y.getMnemonic();if(Z&&Y.isEnabled()){let G=[];if(this.mnemonics.has(Z))G=this.mnemonics.get(Z);G.push(Y),this.mnemonics.set(Z,G)}}return Y}}};$E=class $E extends R7{constructor(J,$,Q,X){Q.isMenu=!0;super($,$,Q);if(this.menuStyle=X,this.options=Q,this.options.icon=Q.icon!==void 0?Q.icon:!1,this.options.label=Q.label!==void 0?Q.label:!0,this.cssClass="",this.options.label&&Q.enableMnemonics){let Y=this.action.label;if(Y){let Z=tk.exec(Y);if(Z)this.mnemonic=(Z[1]?Z[1]:Z[3]).toLocaleLowerCase()}}this.runOnceToEnableMouseUp=new t1(()=>{if(!this.element)return;this._register(m(this.element,$0.MOUSE_UP,(Y)=>{if(c0.stop(Y,!0),g5){if(new $8(B0(this.element),Y).rightButton)return;this.onClick(Y)}else setTimeout(()=>{this.onClick(Y)},0)})),this._register(m(this.element,$0.CONTEXT_MENU,(Y)=>{c0.stop(Y,!0)}))},100),this._register(this.runOnceToEnableMouseUp)}render(J){if(super.render(J),!this.element)return;if(this.container=J,this.item=Z0(this.element,q0("a.action-menu-item")),this._action.id===l6.ID)this.item.setAttribute("role","presentation");else if(this.item.setAttribute("role","menuitem"),this.mnemonic)this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`);if(this.check=Z0(this.item,q0("span.menu-item-check"+b0.asCSSSelector(U0.menuSelection))),this.check.setAttribute("role","none"),this.label=Z0(this.item,q0("span.action-label")),this.options.label&&this.options.keybinding)Z0(this.item,q0("span.keybinding")).textContent=this.options.keybinding;this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle()}blur(){super.blur(),this.applyStyle()}focus(){var J;super.focus(),(J=this.item)===null||J===void 0||J.focus(),this.applyStyle()}updatePositionInSet(J,$){if(this.item)this.item.setAttribute("aria-posinset",`${J}`),this.item.setAttribute("aria-setsize",`${$}`)}updateLabel(){var J;if(!this.label)return;if(this.options.label){I5(this.label);let $=YP(this.action.label);if($){let Q=T40($);if(!this.options.enableMnemonics)$=Q;this.label.setAttribute("aria-label",Q.replace(/&&/g,"&"));let X=tk.exec($);if(X){$=CZ($),ok.lastIndex=0;let Y=ok.exec($);while(Y&&Y[1])Y=ok.exec($);let Z=(G)=>G.replace(/&amp;&amp;/g,"&amp;");if(Y)this.label.append(dX(Z($.substr(0,Y.index))," "),q0("u",{"aria-hidden":"true"},Y[3]),jS(Z($.substr(Y.index+Y[0].length))," "));else this.label.innerText=Z($).trim();(J=this.item)===null||J===void 0||J.setAttribute("aria-keyshortcuts",(X[1]?X[1]:X[3]).toLocaleLowerCase())}else this.label.innerText=$.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){if(this.cssClass&&this.item)this.item.classList.remove(...this.cssClass.split(" "));if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "));this.updateEnabled()}else if(this.label)this.label.classList.remove("icon")}updateEnabled(){if(this.action.enabled){if(this.element)this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled");if(this.item)this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0}else{if(this.element)this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true");if(this.item)this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")}}updateChecked(){if(!this.item)return;let J=this.action.checked;if(this.item.classList.toggle("checked",!!J),J!==void 0)this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",J?"true":"false");else this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","")}getMnemonic(){return this.mnemonic}applyStyle(){let J=this.element&&this.element.classList.contains("focused"),$=J&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,Q=J&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,X=J&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Y=J&&this.menuStyle.selectionBorderColor?"-1px":"";if(this.item)this.item.style.color=$!==null&&$!==void 0?$:"",this.item.style.backgroundColor=Q!==null&&Q!==void 0?Q:"",this.item.style.outline=X,this.item.style.outlineOffset=Y;if(this.check)this.check.style.color=$!==null&&$!==void 0?$:""}};ek=class ek extends $E{constructor(J,$,Q,X,Y){super(J,J,X,Y);this.submenuActions=$,this.parentData=Q,this.submenuOptions=X,this.mysubmenu=null,this.submenuDisposables=this._register(new r),this.mouseOver=!1,this.expandDirection=X&&X.expandDirection!==void 0?X.expandDirection:vP.Right,this.showScheduler=new t1(()=>{if(this.mouseOver)this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},250),this.hideScheduler=new t1(()=>{if(this.element&&(!p6(e6(),this.element)&&this.parentData.submenu===this.mysubmenu))this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)},750)}render(J){if(super.render(J),!this.element)return;if(this.item)this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Z0(this.item,q0("span.submenu-indicator"+b0.asCSSSelector(U0.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true");this._register(m(this.element,$0.KEY_UP,($)=>{let Q=new K1($);if(Q.equals(17)||Q.equals(3))c0.stop($,!0),this.createSubmenu(!0)})),this._register(m(this.element,$0.KEY_DOWN,($)=>{let Q=new K1($);if(e6()===this.item){if(Q.equals(17)||Q.equals(3))c0.stop($,!0)}})),this._register(m(this.element,$0.MOUSE_OVER,($)=>{if(!this.mouseOver)this.mouseOver=!0,this.showScheduler.schedule()})),this._register(m(this.element,$0.MOUSE_LEAVE,($)=>{this.mouseOver=!1})),this._register(m(this.element,$0.FOCUS_OUT,($)=>{if(this.element&&!p6(e6(),this.element))this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{if(this.parentData.submenu===this.mysubmenu)this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)}))}updateEnabled(){}onClick(J){c0.stop(J,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(J){if(this.parentData.submenu&&(J||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch($){}if(this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer)this.submenuDisposables.clear(),this.submenuContainer=void 0}}calculateSubmenuMenuLayout(J,$,Q,X){let Y={top:0,left:0};if(Y.left=i2(J.width,$.width,{position:X===vP.Right?0:1,offset:Q.left,size:Q.width}),Y.left>=Q.left&&Y.left<Q.left+Q.width){if(Q.left+10+$.width<=J.width)Y.left=Q.left+10;Q.top+=10,Q.height=0}if(Y.top=i2(J.height,$.height,{position:0,offset:Q.top,size:0}),Y.top+$.height===Q.top&&Y.top+Q.height+$.height<=J.height)Y.top+=Q.height;return Y}createSubmenu(J=!0){if(!this.element)return;if(!this.parentData.submenu){this.updateAriaExpanded("true"),this.submenuContainer=Z0(this.element,q0("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");let $=B0(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),Q=parseFloat($.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new GG(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Uz],this.submenuOptions,this.menuStyle);let X=this.element.getBoundingClientRect(),Y={top:X.top-Q,left:X.left,height:X.height+2*Q,width:X.width},Z=this.submenuContainer.getBoundingClientRect(),G=B0(this.element),{top:q,left:U}=this.calculateSubmenuMenuLayout(new d1(G.innerWidth,G.innerHeight),d1.lift(Z),Y,this.expandDirection);this.submenuContainer.style.left=`${U-Z.left}px`,this.submenuContainer.style.top=`${q-Z.top}px`,this.submenuDisposables.add(m(this.submenuContainer,$0.KEY_UP,(z)=>{if(new K1(z).equals(15))c0.stop(z,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.submenuDisposables.add(m(this.submenuContainer,$0.KEY_DOWN,(z)=>{if(new K1(z).equals(15))c0.stop(z,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(J),this.mysubmenu=this.parentData.submenu}else this.parentData.submenu.focus(!1)}updateAriaExpanded(J){var $;if(this.item)($=this.item)===null||$===void 0||$.setAttribute("aria-expanded",J)}applyStyle(){super.applyStyle();let $=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;if(this.submenuIndicator)this.submenuIndicator.style.color=$!==null&&$!==void 0?$:""}dispose(){if(super.dispose(),this.hideScheduler.dispose(),this.mysubmenu)this.mysubmenu.dispose(),this.mysubmenu=null;if(this.submenuContainer)this.submenuContainer=void 0}};JE=class JE extends $G{constructor(J,$,Q,X){super(J,$,Q);this.menuStyles=X}render(J){if(super.render(J),this.label)this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:""}}});class QE{constructor(J,$,Q,X){this.contextViewService=J,this.telemetryService=$,this.notificationService=Q,this.keybindingService=X,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(J){this.options=J}showContextMenu(J){let $=J.getActions();if(!$.length)return;this.focusToReturn=e6();let Q,X=J.domForShadowRoot instanceof HTMLElement?J.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>J.getAnchor(),canRelayout:!1,anchorAlignment:J.anchorAlignment,anchorAxisAlignment:J.anchorAxisAlignment,render:(Y)=>{var Z;this.lastContainer=Y;let G=J.getMenuClassName?J.getMenuClassName():"";if(G)Y.className+=" "+G;if(this.options.blockMouse)this.block=Y.appendChild(q0(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Z=this.blockDisposable)===null||Z===void 0||Z.dispose(),this.blockDisposable=m(this.block,$0.MOUSE_DOWN,(H)=>H.stopPropagation());let q=new r,U=J.actionRunner||new Z9;U.onWillRun((H)=>this.onActionRun(H,!J.skipTelemetry),this,q),U.onDidRun(this.onDidActionRun,this,q),Q=new GG(Y,$,{actionViewItemProvider:J.getActionViewItem,context:J.getActionsContext?J.getActionsContext():null,actionRunner:U,getKeyBinding:J.getKeyBinding?J.getKeyBinding:(H)=>this.keybindingService.lookupKeybinding(H.id)},Ga),Q.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,q),Q.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,q);let z=B0(Y);return q.add(m(z,$0.BLUR,()=>this.contextViewService.hideContextView(!0))),q.add(m(z,$0.MOUSE_DOWN,(H)=>{if(H.defaultPrevented)return;let j=new $8(z,H),V=j.target;if(j.rightButton)return;while(V){if(V===Y)return;V=V.parentElement}this.contextViewService.hideContextView(!0)})),x8(q,Q)},focus:()=>{Q===null||Q===void 0||Q.focus(!!J.autoSelectFirstItem)},onHide:(Y)=>{var Z,G,q;if((Z=J.onHide)===null||Z===void 0||Z.call(J,!!Y),this.block)this.block.remove(),this.block=null;if((G=this.blockDisposable)===null||G===void 0||G.dispose(),this.blockDisposable=null,!!this.lastContainer&&(e6()===this.lastContainer||p6(e6(),this.lastContainer)))(q=this.focusToReturn)===null||q===void 0||q.focus();this.lastContainer=null}},X,!!X)}onActionRun(J,$){if($)this.telemetryService.publicLog2("workbenchActionExecuted",{id:J.action.id,from:"contextMenu"});this.contextViewService.hideContextView(!1)}onDidActionRun(J){if(J.error&&!eJ(J.error))this.notificationService.error(J.error)}}var Fa=N(()=>{D0();k9();Ba();t8();P1();Q0();u3()});var L40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},l3=function(J,$){return function(Q,X){$(Q,X,J)}},hP,XE;var Ka=N(()=>{D0();t8();F0();Q0();CP();P4();m1();x4();VX();sX();Fa();KX();hP=class J extends h{get contextMenuHandler(){if(!this._contextMenuHandler)this._contextMenuHandler=new QE(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService);return this._contextMenuHandler}constructor($,Q,X,Y,Z,G){super();this.telemetryService=$,this.notificationService=Q,this.contextViewService=X,this.keybindingService=Y,this.menuService=Z,this.contextKeyService=G,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new y)}configure($){this.contextMenuHandler.configure($)}showContextMenu($){$=XE.transform($,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...$,onHide:(Q)=>{var X;(X=$.onHide)===null||X===void 0||X.call($,Q),this._onDidHideContextMenu.fire()}}),z$.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};hP=L40([l3(0,Q7),l3(1,a5),l3(2,IJ),l3(3,u6),l3(4,A4),l3(5,h0)],hP);(function(J){function $(X){return X&&X.menuId instanceof I}function Q(X,Y,Z){if(!$(X))return X;let{menuId:G,menuActionOptions:q,contextKeyService:U}=X;return{...X,getActions:()=>{let z=[];if(G){let H=Y.createMenu(G,U!==null&&U!==void 0?U:Z);Ha(H,q,z),H.dispose()}if(!X.getActions)return z;else return l6.join(X.getActions(),z)}}}J.transform=Q})(XE||(XE={}))});var hj;var Aa=N(()=>{(function(J){J[J.API=0]="API",J[J.USER=1]="USER"})(hj||(hj={}))});var GE=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fP=function(J,$){return function(Q,X){$(Q,X,J)}},YE=class J{constructor($){this._commandService=$}async open($,Q){if(!Dz($,$1.command))return!1;if(!(Q===null||Q===void 0?void 0:Q.allowCommands))return!0;if(typeof $==="string")$=I0.parse($);if(Array.isArray(Q.allowCommands)){if(!Q.allowCommands.includes($.path))return!0}let X=[];try{X=Pj(decodeURIComponent($.query))}catch(Y){try{X=Pj($.query)}catch(Z){}}if(!Array.isArray(X))X=[X];return await this._commandService.executeCommand($.path,...X),!0}},ZE=class J{constructor($){this._editorService=$}async open($,Q){if(typeof $==="string")$=I0.parse($);let{selection:X,uri:Y}=ol($);if($=Y,$.scheme===$1.file)$=Cu($);return await this._editorService.openCodeEditor({resource:$,options:{selection:X,source:(Q===null||Q===void 0?void 0:Q.fromUserGesture)?hj.USER:hj.API,...Q===null||Q===void 0?void 0:Q.editorOptions}},this._editorService.getFocusedCodeEditor(),Q===null||Q===void 0?void 0:Q.openToSide),!0}},gP=class J{constructor($,Q){this._openers=new k6,this._validators=new k6,this._resolvers=new k6,this._resolvedUriTargets=new y5((X)=>X.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k6,this._defaultExternalOpener={openExternal:async(X)=>{if($_(X,$1.http,$1.https))TF(X);else z1.location.href=X;return!0}},this._openers.push({open:async(X,Y)=>{if((Y===null||Y===void 0?void 0:Y.openExternal)||$_(X,$1.mailto,$1.http,$1.https,$1.vsls))return await this._doOpenExternal(X,Y),!0;return!1}}),this._openers.push(new YE(Q)),this._openers.push(new ZE($))}registerOpener($){return{dispose:this._openers.unshift($)}}async open($,Q){var X;let Y=typeof $==="string"?I0.parse($):$,Z=(X=this._resolvedUriTargets.get(Y))!==null&&X!==void 0?X:$;for(let G of this._validators)if(!await G.shouldOpen(Z,Q))return!1;for(let G of this._openers)if(await G.open($,Q))return!0;return!1}async resolveExternalUri($,Q){for(let X of this._resolvers)try{let Y=await X.resolveExternalUri($,Q);if(Y){if(!this._resolvedUriTargets.has(Y.resolved))this._resolvedUriTargets.set(Y.resolved,$);return Y}}catch(Y){}throw new Error("Could not resolve external URI: "+$.toString())}async _doOpenExternal($,Q){let X=typeof $==="string"?I0.parse($):$,Y;try{Y=(await this.resolveExternalUri(X,Q)).resolved}catch(G){Y=X}let Z;if(typeof $==="string"&&X.toString()===Y.toString())Z=$;else Z=encodeURI(Y.toString(!0));if(Q===null||Q===void 0?void 0:Q.allowContributedOpeners){let G=typeof(Q===null||Q===void 0?void 0:Q.allowContributedOpeners)==="string"?Q===null||Q===void 0?void 0:Q.allowContributedOpeners:void 0;for(let q of this._externalOpeners)if(await q.openExternal(Z,{sourceUri:X,preferredOpenerId:G},n6.None))return!0}return this._defaultExternalOpener.openExternal(Z,{sourceUri:X},n6.None)}dispose(){this._validators.clear()}};var Pa=N(()=>{D0();J8();e5();T9();jJ();UP();U9();v$();o6();Y9();e8();Aa();c2();YE=GE([fP(0,j5)],YE);ZE=GE([fP(0,l1)],ZE);gP=GE([fP(0,l1),fP(1,j5)],gP)});var A9;var d3=N(()=>{u0();A9=M0("editorWorkerService")});var i7,Da,SJ;var s3=N(()=>{IY();g0();u0();(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(i7||(i7={}));(function(J){function $(G,q){return q-G}J.compare=$;let Q=Object.create(null);Q[J.Error]=F("sev.error","Error"),Q[J.Warning]=F("sev.warning","Warning"),Q[J.Info]=F("sev.info","Info");function X(G){return Q[G]||""}J.toString=X;function Y(G){switch(G){case A6.Error:return J.Error;case A6.Warning:return J.Warning;case A6.Info:return J.Info;case A6.Ignore:return J.Hint}}J.fromSeverity=Y;function Z(G){switch(G){case J.Error:return A6.Error;case J.Warning:return A6.Warning;case J.Info:return A6.Info;case J.Hint:return A6.Ignore}}J.toSeverity=Z})(i7||(i7={}));(function(J){function Q(Y){return X(Y,!0)}J.makeKey=Q;function X(Y,Z){let G=[""];if(Y.source)G.push(Y.source.replace("¦","\\¦"));else G.push("");if(Y.code)if(typeof Y.code==="string")G.push(Y.code.replace("¦","\\¦"));else G.push(Y.code.value.replace("¦","\\¦"));else G.push("");if(Y.severity!==void 0&&Y.severity!==null)G.push(i7.toString(Y.severity));else G.push("");if(Y.message&&Z)G.push(Y.message.replace("¦","\\¦"));else G.push("");if(Y.startLineNumber!==void 0&&Y.startLineNumber!==null)G.push(Y.startLineNumber.toString());else G.push("");if(Y.startColumn!==void 0&&Y.startColumn!==null)G.push(Y.startColumn.toString());else G.push("");if(Y.endLineNumber!==void 0&&Y.endLineNumber!==null)G.push(Y.endLineNumber.toString());else G.push("");if(Y.endColumn!==void 0&&Y.endColumn!==null)G.push(Y.endColumn.toString());else G.push("");return G.push(""),G.join("¦")}J.makeKeyOptionalMessage=X})(Da||(Da={}));SJ=M0("markerService")});function Ra(J,$){let Q=[],X=[];for(let Y of J)if(!$.has(Y))Q.push(Y);for(let Y of $)if(!J.has(Y))X.push(Y);return{removed:Q,added:X}}function Ma(J,$){let Q=new Set;for(let X of $)if(J.has(X))Q.add(X);return Q}var k40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},_a=function(J,$){return function(Q,X){$(Q,X,J)}},pP,Oa;var Na=N(()=>{s3();Q0();v7();s6();TJ();_Q();l0();U9();F0();N8();jJ();pP=class J extends h{constructor($,Q){super();this._markerService=Q,this._onDidChangeMarker=this._register(new y),this._markerDecorations=new y5,$.getModels().forEach((X)=>this._onModelAdded(X)),this._register($.onModelAdded(this._onModelAdded,this)),this._register($.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(($)=>$.dispose()),this._markerDecorations.clear()}getMarker($,Q){let X=this._markerDecorations.get($);return X?X.getMarker(Q)||null:null}_handleMarkerChange($){$.forEach((Q)=>{let X=this._markerDecorations.get(Q);if(X)this._updateDecorations(X)})}_onModelAdded($){let Q=new Oa($);this._markerDecorations.set($.uri,Q),this._updateDecorations(Q)}_onModelRemoved($){var Q;let X=this._markerDecorations.get($.uri);if(X)X.dispose(),this._markerDecorations.delete($.uri);if($.uri.scheme===$1.inMemory||$.uri.scheme===$1.internal||$.uri.scheme===$1.vscode)(Q=this._markerService)===null||Q===void 0||Q.read({resource:$.uri}).map((Y)=>Y.owner).forEach((Y)=>this._markerService.remove(Y,[$.uri]))}_updateDecorations($){let Q=this._markerService.read({resource:$.model.uri,take:500});if($.update(Q))this._onDidChangeMarker.fire($.model)}};pP=k40([_a(0,z5),_a(1,SJ)],pP);Oa=class Oa extends h{constructor(J){super();this.model=J,this._map=new WO,this._register(K0(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(J){let{added:$,removed:Q}=Ra(new Set(this._map.keys()),new Set(J));if($.length===0&&Q.length===0)return!1;let X=Q.map((G)=>this._map.get(G)),Y=$.map((G)=>{return{range:this._createDecorationRange(this.model,G),options:this._createDecorationOption(G)}}),Z=this.model.deltaDecorations(X,Y);for(let G of Q)this._map.delete(G);for(let G=0;G<Z.length;G++)this._map.set($[G],Z[G]);return!0}getMarker(J){return this._map.getKey(J.id)}_createDecorationRange(J,$){let Q=L.lift($);if($.severity===i7.Hint&&!this._hasMarkerTag($,1)&&!this._hasMarkerTag($,2))Q=Q.setEndPosition(Q.startLineNumber,Q.startColumn+2);if(Q=J.validateRange(Q),Q.isEmpty()){let X=J.getLineLastNonWhitespaceColumn(Q.startLineNumber)||J.getLineMaxColumn(Q.startLineNumber);if(X===1||Q.endColumn>=X)return Q;let Y=J.getWordAtPosition(Q.getStartPosition());if(Y)Q=new L(Q.startLineNumber,Y.startColumn,Q.endLineNumber,Y.endColumn)}else if($.endColumn===Number.MAX_VALUE&&$.startColumn===1&&Q.startLineNumber===Q.endLineNumber){let X=J.getLineFirstNonWhitespaceColumn($.startLineNumber);if(X<Q.endColumn)Q=new L(Q.startLineNumber,X,Q.endLineNumber,Q.endColumn),$.startColumn=X}return Q}_createDecorationOption(J){let $,Q=void 0,X,Y=void 0,Z;switch(J.severity){case i7.Hint:if(this._hasMarkerTag(J,2))$=void 0;else if(this._hasMarkerTag(J,1))$="squiggly-unnecessary";else $="squiggly-hint";X=0;break;case i7.Info:$="squiggly-info",Q=tQ(Pp),X=10,Z={color:tQ(Vg),position:w4.Inline};break;case i7.Warning:$="squiggly-warning",Q=tQ(Ap),X=20,Z={color:tQ(Wg),position:w4.Inline};break;case i7.Error:default:$="squiggly-error",Q=tQ(Kp),X=30,Z={color:tQ(Bg),position:w4.Inline};break}if(J.tags){if(J.tags.indexOf(1)!==-1)Y="squiggly-inline-unnecessary";if(J.tags.indexOf(2)!==-1)Y="squiggly-inline-deprecated"}return{description:"marker-decoration",stickiness:1,className:$,showIfCollapsed:!0,overviewRuler:{color:Q,position:jq.Right},minimap:Z,zIndex:X,inlineClassName:Y}}_hasMarkerTag(J,$){if(J.tags)return J.tags.indexOf($)>=0;return!1}}});function qG(J){return J.toString()}class Ta{constructor(J,$,Q){this.model=J,this._modelEventListeners=new r,this.model=J,this._modelEventListeners.add(J.onWillDispose(()=>$(J))),this._modelEventListeners.add(J.onDidChangeLanguage((X)=>Q(J,X)))}dispose(){this._modelEventListeners.dispose()}}class wa{constructor(J,$,Q,X,Y,Z,G,q){this.uri=J,this.initialUndoRedoSnapshot=$,this.time=Q,this.sharesUndoRedoStack=X,this.heapSize=Y,this.sha1=Z,this.versionId=G,this.alternativeVersionId=q}}class mP{canComputeSHA1(J){return J.getValueLength()<=mP.MAX_MODEL_SIZE}computeSHA1(J){let $=new _z,Q=J.createSnapshot(),X;while(X=Q.read())$.update(X);return $.digest()}}var E40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fj=function(J,$){return function(Q,X){$(Q,X,J)}},a3,I40,gj;var La=N(()=>{F0();Q0();M1();EY();mU();T4();v9();rF();v8();NA();iX();zw();U9();j7();h8();I40=V6||r0?1:2;gj=a3=class J extends h{constructor($,Q,X,Y,Z){super();this._configurationService=$,this._resourcePropertiesService=Q,this._undoRedoService=X,this._languageService=Y,this._languageConfigurationService=Z,this._onModelAdded=this._register(new y),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((G)=>this._updateModelOptions(G))),this._updateModelOptions(void 0)}static _readModelOptions($,Q){var X;let Y=F5.tabSize;if($.editor&&typeof $.editor.tabSize!=="undefined"){let W=parseInt($.editor.tabSize,10);if(!isNaN(W))Y=W;if(Y<1)Y=1}let Z="tabSize";if($.editor&&typeof $.editor.indentSize!=="undefined"&&$.editor.indentSize!=="tabSize"){let W=parseInt($.editor.indentSize,10);if(!isNaN(W))Z=Math.max(W,1)}let G=F5.insertSpaces;if($.editor&&typeof $.editor.insertSpaces!=="undefined")G=$.editor.insertSpaces==="false"?!1:Boolean($.editor.insertSpaces);let q=I40,U=$.eol;if(U===`\r
`)q=2;else if(U===`
`)q=1;let z=F5.trimAutoWhitespace;if($.editor&&typeof $.editor.trimAutoWhitespace!=="undefined")z=$.editor.trimAutoWhitespace==="false"?!1:Boolean($.editor.trimAutoWhitespace);let H=F5.detectIndentation;if($.editor&&typeof $.editor.detectIndentation!=="undefined")H=$.editor.detectIndentation==="false"?!1:Boolean($.editor.detectIndentation);let j=F5.largeFileOptimizations;if($.editor&&typeof $.editor.largeFileOptimizations!=="undefined")j=$.editor.largeFileOptimizations==="false"?!1:Boolean($.editor.largeFileOptimizations);let V=F5.bracketPairColorizationOptions;if(((X=$.editor)===null||X===void 0?void 0:X.bracketPairColorization)&&typeof $.editor.bracketPairColorization==="object")V={enabled:!!$.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!$.editor.bracketPairColorization.independentColorPoolPerBracketType};return{isForSimpleWidget:Q,tabSize:Y,indentSize:Z,insertSpaces:G,detectIndentation:H,defaultEOL:q,trimAutoWhitespace:z,largeFileOptimizations:j,bracketPairColorizationOptions:V}}_getEOL($,Q){if($)return this._resourcePropertiesService.getEOL($,Q);let X=this._configurationService.getValue("files.eol",{overrideIdentifier:Q});if(X&&typeof X==="string"&&X!=="auto")return X;return I8===3||I8===2?`
`:`\r
`}_shouldRestoreUndoStack(){let $=this._configurationService.getValue("files.restoreUndoStack");if(typeof $==="boolean")return $;return!0}getCreationOptions($,Q,X){let Y=typeof $==="string"?$:$.languageId,Z=this._modelCreationOptionsByLanguageAndResource[Y+Q];if(!Z){let G=this._configurationService.getValue("editor",{overrideIdentifier:Y,resource:Q}),q=this._getEOL(Q,Y);Z=a3._readModelOptions({editor:G,eol:q},X),this._modelCreationOptionsByLanguageAndResource[Y+Q]=Z}return Z}_updateModelOptions($){let Q=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let X=Object.keys(this._models);for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y],q=this._models[G],U=q.model.getLanguageId(),z=q.model.uri;if($&&!$.affectsConfiguration("editor",{overrideIdentifier:U,resource:z})&&!$.affectsConfiguration("files.eol",{overrideIdentifier:U,resource:z}))continue;let H=Q[U+z],j=this.getCreationOptions(U,z,q.model.isForSimpleWidget);a3._setModelOptionsForModel(q.model,j,H)}}static _setModelOptionsForModel($,Q,X){if(X&&X.defaultEOL!==Q.defaultEOL&&$.getLineCount()===1)$.setEOL(Q.defaultEOL===1?0:1);if(X&&X.detectIndentation===Q.detectIndentation&&X.insertSpaces===Q.insertSpaces&&X.tabSize===Q.tabSize&&X.indentSize===Q.indentSize&&X.trimAutoWhitespace===Q.trimAutoWhitespace&&L5(X.bracketPairColorizationOptions,Q.bracketPairColorizationOptions))return;if(Q.detectIndentation)$.detectIndentation(Q.insertSpaces,Q.tabSize),$.updateOptions({trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions});else $.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.indentSize,trimAutoWhitespace:Q.trimAutoWhitespace,bracketColorizationOptions:Q.bracketPairColorizationOptions})}_insertDisposedModel($){this._disposedModels.set(qG($.uri),$),this._disposedModelsHeapSize+=$.heapSize}_removeDisposedModel($){let Q=this._disposedModels.get(qG($));if(Q)this._disposedModelsHeapSize-=Q.heapSize;return this._disposedModels.delete(qG($)),Q}_ensureDisposedModelsHeapSize($){if(this._disposedModelsHeapSize>$){let Q=[];this._disposedModels.forEach((X)=>{if(!X.sharesUndoRedoStack)Q.push(X)}),Q.sort((X,Y)=>X.time-Y.time);while(Q.length>0&&this._disposedModelsHeapSize>$){let X=Q.shift();if(this._removeDisposedModel(X.uri),X.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(X.initialUndoRedoSnapshot)}}}_createModelData($,Q,X,Y){let Z=this.getCreationOptions(Q,X,Y),G=new HX($,Q,Z,X,this._undoRedoService,this._languageService,this._languageConfigurationService);if(X&&this._disposedModels.has(qG(X))){let z=this._removeDisposedModel(X),H=this._undoRedoService.getElements(X),j=this._getSHA1Computer(),V=j.canComputeSHA1(G)?j.computeSHA1(G)===z.sha1:!1;if(V||z.sharesUndoRedoStack){for(let W of H.past)if(h$(W)&&W.matchesResource(X))W.setModel(G);for(let W of H.future)if(h$(W)&&W.matchesResource(X))W.setModel(G);if(this._undoRedoService.setElementsValidFlag(X,!0,(W)=>h$(W)&&W.matchesResource(X)),V)G._overwriteVersionId(z.versionId),G._overwriteAlternativeVersionId(z.alternativeVersionId),G._overwriteInitialUndoRedoSnapshot(z.initialUndoRedoSnapshot)}else if(z.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(z.initialUndoRedoSnapshot)}let q=qG(G.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");let U=new Ta(G,(z)=>this._onWillDispose(z),(z,H)=>this._onDidChangeLanguage(z,H));return this._models[q]=U,U}createModel($,Q,X,Y=!1){let Z;if(Q)Z=this._createModelData($,Q,X,Y);else Z=this._createModelData($,R5,X,Y);return this._onModelAdded.fire(Z.model),Z.model}getModels(){let $=[],Q=Object.keys(this._models);for(let X=0,Y=Q.length;X<Y;X++){let Z=Q[X];$.push(this._models[Z].model)}return $}getModel($){let Q=qG($),X=this._models[Q];if(!X)return null;return X.model}_schemaShouldMaintainUndoRedoElements($){return $.scheme===$1.file||$.scheme===$1.vscodeRemote||$.scheme===$1.vscodeUserData||$.scheme===$1.vscodeNotebookCell||$.scheme==="fake-fs"}_onWillDispose($){let Q=qG($.uri),X=this._models[Q],Y=this._undoRedoService.getUriComparisonKey($.uri)!==$.uri.toString(),Z=!1,G=0;if(Y||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements($.uri)){let z=this._undoRedoService.getElements($.uri);if(z.past.length>0||z.future.length>0){for(let H of z.past)if(h$(H)&&H.matchesResource($.uri))Z=!0,G+=H.heapSize($.uri),H.setModel($.uri);for(let H of z.future)if(h$(H)&&H.matchesResource($.uri))Z=!0,G+=H.heapSize($.uri),H.setModel($.uri)}}let q=a3.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,U=this._getSHA1Computer();if(!Z){if(!Y){let z=X.model.getInitialUndoRedoSnapshot();if(z!==null)this._undoRedoService.restoreSnapshot(z)}}else if(!Y&&(G>q||!U.canComputeSHA1($))){let z=X.model.getInitialUndoRedoSnapshot();if(z!==null)this._undoRedoService.restoreSnapshot(z)}else this._ensureDisposedModelsHeapSize(q-G),this._undoRedoService.setElementsValidFlag($.uri,!1,(z)=>h$(z)&&z.matchesResource($.uri)),this._insertDisposedModel(new wa($.uri,X.model.getInitialUndoRedoSnapshot(),Date.now(),Y,G,U.computeSHA1($),$.getVersionId(),$.getAlternativeVersionId()));delete this._models[Q],X.dispose(),delete this._modelCreationOptionsByLanguageAndResource[$.getLanguageId()+$.uri],this._onModelRemoved.fire($)}_onDidChangeLanguage($,Q){let X=Q.oldLanguage,Y=$.getLanguageId(),Z=this.getCreationOptions(X,$.uri,$.isForSimpleWidget),G=this.getCreationOptions(Y,$.uri,$.isForSimpleWidget);a3._setModelOptionsForModel($,G,Z),this._onModelModeChanged.fire({model:$,oldLanguageId:X})}_getSHA1Computer(){return new mP}};gj.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520;gj=a3=E40([fj(0,y1),fj(1,aF),fj(2,F3),fj(3,e1),fj(4,_6)],gj);mP.MAX_MODEL_SIZE=10485760});var ka=N(()=>{j0(".quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight,.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight,.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.hc-light .quick-input-widget .monaco-highlighted-label .highlight,.hc-light .quick-input-widget .monaco-highlighted-label .highlight{color:#0f4a85}.monaco-keybinding>.monaco-keybinding-key{color:#555;background-color:#ddd6;border:1px solid #ccc6;border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6}.hc-black .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#fff;background-color:#0000;border:1px solid #6fc3df}.hc-light .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#292929;background-color:#0000;border:1px solid #0f4a85}.vs-dark .monaco-keybinding>.monaco-keybinding-key{color:#ccc;background-color:#8080802b;border:1px solid #3339;border-bottom-color:#4449;box-shadow:inset 0 -1px #4449}")});class Ea{get templateId(){return this.renderer.templateId}constructor(J,$){this.renderer=J,this.modelProvider=$}renderTemplate(J){return{data:this.renderer.renderTemplate(J),disposable:h.None}}renderElement(J,$,Q,X){var Y;if((Y=Q.disposable)===null||Y===void 0||Y.dispose(),!Q.data)return;let Z=this.modelProvider();if(Z.isResolved(J))return this.renderer.renderElement(Z.get(J),J,Q.data,X);let G=new q5,q=Z.resolve(J,G.token);Q.disposable={dispose:()=>G.cancel()},this.renderer.renderPlaceholder(J,Q.data),q.then((U)=>this.renderer.renderElement(U,J,Q.data,X))}disposeTemplate(J){if(J.disposable)J.disposable.dispose(),J.disposable=void 0;if(J.data)this.renderer.disposeTemplate(J.data),J.data=void 0}}class Ia{constructor(J,$){this.modelProvider=J,this.accessibilityProvider=$}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(J){let $=this.modelProvider();if(!$.isResolved(J))return null;return this.accessibilityProvider.getAriaLabel($.get(J))}}function y40(J,$){return{...$,accessibilityProvider:$.accessibilityProvider&&new Ia(J,$.accessibilityProvider)}}class qE{constructor(J,$,Q,X,Y={}){let Z=()=>this.model,G=X.map((q)=>new Ea(q,Z));this.list=new c8(J,$,Q,G,y40(Z,Y))}updateOptions(J){this.list.updateOptions(J)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return J0.map(this.list.onMouseDblClick,({element:J,index:$,browserEvent:Q})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:Q}))}get onPointer(){return J0.map(this.list.onPointer,({element:J,index:$,browserEvent:Q})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:Q}))}get onDidChangeSelection(){return J0.map(this.list.onDidChangeSelection,({elements:J,indexes:$,browserEvent:Q})=>({elements:J.map((X)=>this._model.get(X)),indexes:$,browserEvent:Q}))}get model(){return this._model}set model(J){this._model=J,this.list.splice(0,this.list.length,w5(J.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((J)=>this.model.get(J))}style(J){this.list.style(J)}dispose(){this.list.dispose()}}var ya=N(()=>{U1();e5();F0();Q0();Sk();e2()});var xa=N(()=>{j0(':root{--vscode-sash-size:4px;--vscode-sash-hover-size:4px}.monaco-sash{z-index:35;touch-action:none;position:absolute}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;width:var(--vscode-sash-size);height:100%;top:0}.monaco-sash.horizontal{cursor:ns-resize;height:var(--vscode-sash-size);width:100%;left:0}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--vscode-sash-size)*2);width:calc(var(--vscode-sash-size)*2);z-index:100;cursor:all-scroll;display:block;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--vscode-sash-size)*-.5);top:calc(var(--vscode-sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--vscode-sash-size)*-.5);bottom:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--vscode-sash-size)*-.5);left:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--vscode-sash-size)*-.5);right:calc(var(--vscode-sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;background:0 0;width:100%;height:100%;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-sash:before{transition:background-color .1s ease-out}.monaco-sash.hover:before,.monaco-sash.active:before{background:var(--vscode-sash-hoverBorder)}.monaco-sash.vertical:before{width:var(--vscode-sash-hover-size);left:calc(50% - (var(--vscode-sash-hover-size)/2))}.monaco-sash.horizontal:before{height:var(--vscode-sash-hover-size);top:calc(50% - (var(--vscode-sash-hover-size)/2))}.pointer-events-disabled{pointer-events:none!important}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:#0ff3}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}')});class uP{constructor(J){this.el=J,this.disposables=new r}get onPointerMove(){return this.disposables.add(new G1(B0(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new G1(B0(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}class cP{get onPointerMove(){return this.disposables.add(new G1(this.el,E1.Change)).event}get onPointerUp(){return this.disposables.add(new G1(this.el,E1.End)).event}constructor(J){this.el=J,this.disposables=new r}dispose(){this.disposables.dispose()}}class mj{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(J){this.factory=J}dispose(){}}var r3=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},x40=!1,pj,b40=4,S40,C40=300,v40,ba="pointer-events-disabled",j8;var lP=N(()=>{D0();NJ();d9();u1();F0();Q0();M1();xa();(function(J){J.North="north",J.South="south",J.East="east",J.West="west"})(pj||(pj={}));S40=new y,v40=new y;r3([X6],uP.prototype,"onPointerMove",null);r3([X6],uP.prototype,"onPointerUp",null);r3([X6],cP.prototype,"onPointerMove",null);r3([X6],cP.prototype,"onPointerUp",null);r3([X6],mj.prototype,"onPointerMove",null);r3([X6],mj.prototype,"onPointerUp",null);j8=class j8 extends h{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(J){if(this._state===J)return;this.el.classList.toggle("disabled",J===0),this.el.classList.toggle("minimum",J===1),this.el.classList.toggle("maximum",J===2),this._state=J,this.onDidEnablementChange.fire(J)}set orthogonalStartSash(J){if(this._orthogonalStartSash===J)return;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),J){let $=(Q)=>{if(this.orthogonalStartDragHandleDisposables.clear(),Q!==0)this._orthogonalStartDragHandle=Z0(this.el,q0(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(K0(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new G1(this._orthogonalStartDragHandle,"mouseenter")).event(()=>j8.onMouseEnter(J),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new G1(this._orthogonalStartDragHandle,"mouseleave")).event(()=>j8.onMouseLeave(J),void 0,this.orthogonalStartDragHandleDisposables)};this.orthogonalStartSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalStartSash=J}set orthogonalEndSash(J){if(this._orthogonalEndSash===J)return;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),J){let $=(Q)=>{if(this.orthogonalEndDragHandleDisposables.clear(),Q!==0)this._orthogonalEndDragHandle=Z0(this.el,q0(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(K0(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new G1(this._orthogonalEndDragHandle,"mouseenter")).event(()=>j8.onMouseEnter(J),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new G1(this._orthogonalEndDragHandle,"mouseleave")).event(()=>j8.onMouseLeave(J),void 0,this.orthogonalEndDragHandleDisposables)};this.orthogonalEndSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalEndSash=J}constructor(J,$,Q){super();if(this.hoverDelay=C40,this.hoverDelayer=this._register(new R4(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new y),this._onDidStart=this._register(new y),this._onDidChange=this._register(new y),this._onDidReset=this._register(new y),this._onDidEnd=this._register(new y),this.orthogonalStartSashDisposables=this._register(new r),this.orthogonalStartDragHandleDisposables=this._register(new r),this.orthogonalEndSashDisposables=this._register(new r),this.orthogonalEndDragHandleDisposables=this._register(new r),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Z0(J,q0(".monaco-sash")),Q.orthogonalEdge)this.el.classList.add(`orthogonal-edge-${Q.orthogonalEdge}`);if(r0)this.el.classList.add("mac");let X=this._register(new G1(this.el,"mousedown")).event;this._register(X((H)=>this.onPointerStart(H,new uP(J)),this));let Y=this._register(new G1(this.el,"dblclick")).event;this._register(Y(this.onPointerDoublePress,this));let Z=this._register(new G1(this.el,"mouseenter")).event;this._register(Z(()=>j8.onMouseEnter(this)));let G=this._register(new G1(this.el,"mouseleave")).event;this._register(G(()=>j8.onMouseLeave(this))),this._register(T1.addTarget(this.el));let q=this._register(new G1(this.el,E1.Start)).event;this._register(q((H)=>this.onPointerStart(H,new cP(this.el)),this));let U=this._register(new G1(this.el,E1.Tap)).event,z=void 0;if(this._register(U((H)=>{if(z){clearTimeout(z),z=void 0,this.onPointerDoublePress(H);return}clearTimeout(z),z=setTimeout(()=>z=void 0,250)},this)),typeof Q.size==="number")if(this.size=Q.size,Q.orientation===0)this.el.style.width=`${this.size}px`;else this.el.style.height=`${this.size}px`;else this.size=b40,this._register(S40.event((H)=>{this.size=H,this.layout()}));if(this._register(v40.event((H)=>this.hoverDelay=H)),this.layoutProvider=$,this.orthogonalStartSash=Q.orthogonalStartSash,this.orthogonalEndSash=Q.orthogonalEndSash,this.orientation=Q.orientation||0,this.orientation===1)this.el.classList.add("horizontal"),this.el.classList.remove("vertical");else this.el.classList.remove("horizontal"),this.el.classList.add("vertical");this.el.classList.toggle("debug",x40),this.layout()}onPointerStart(J,$){c0.stop(J);let Q=!1;if(!J.__orthogonalSashEvent){let W=this.getOrthogonalSash(J);if(W)Q=!0,J.__orthogonalSashEvent=!0,W.onPointerStart(J,new mj($))}if(this.linkedSash&&!J.__linkedSashEvent)J.__linkedSashEvent=!0,this.linkedSash.onPointerStart(J,new mj($));if(!this.state)return;let X=this.el.ownerDocument.getElementsByTagName("iframe");for(let W of X)W.classList.add(ba);let{pageX:Y,pageY:Z,altKey:G}=J,q={startX:Y,currentX:Y,startY:Z,currentY:Z,altKey:G};this.el.classList.add("active"),this._onDidStart.fire(q);let U=D5(this.el),z=()=>{let W="";if(Q)W="all-scroll";else if(this.orientation===1)if(this.state===1)W="s-resize";else if(this.state===2)W="n-resize";else W=r0?"row-resize":"ns-resize";else if(this.state===1)W="e-resize";else if(this.state===2)W="w-resize";else W=r0?"col-resize":"ew-resize";U.textContent=`* { cursor: ${W} !important; }`},H=new r;if(z(),!Q)this.onDidEnablementChange.event(z,null,H);let j=(W)=>{c0.stop(W,!1);let B={startX:Y,currentX:W.pageX,startY:Z,currentY:W.pageY,altKey:G};this._onDidChange.fire(B)},V=(W)=>{c0.stop(W,!1),this.el.removeChild(U),this.el.classList.remove("active"),this._onDidEnd.fire(),H.dispose();for(let B of X)B.classList.remove(ba)};$.onPointerMove(j,null,H),$.onPointerUp(V,null,H),H.add($)}onPointerDoublePress(J){let $=this.getOrthogonalSash(J);if($)$._onDidReset.fire();if(this.linkedSash)this.linkedSash._onDidReset.fire();this._onDidReset.fire()}static onMouseEnter(J,$=!1){if(J.el.classList.contains("active"))J.hoverDelayer.cancel(),J.el.classList.add("hover");else J.hoverDelayer.trigger(()=>J.el.classList.add("hover"),J.hoverDelay).then(void 0,()=>{});if(!$&&J.linkedSash)j8.onMouseEnter(J.linkedSash,!0)}static onMouseLeave(J,$=!1){if(J.hoverDelayer.cancel(),J.el.classList.remove("hover"),!$&&J.linkedSash)j8.onMouseLeave(J.linkedSash,!0)}clearSashHoverState(){j8.onMouseLeave(this)}layout(){if(this.orientation===0){let J=this.layoutProvider;if(this.el.style.left=J.getVerticalSashLeft(this)-this.size/2+"px",J.getVerticalSashTop)this.el.style.top=J.getVerticalSashTop(this)+"px";if(J.getVerticalSashHeight)this.el.style.height=J.getVerticalSashHeight(this)+"px"}else{let J=this.layoutProvider;if(this.el.style.top=J.getHorizontalSashTop(this)-this.size/2+"px",J.getHorizontalSashLeft)this.el.style.left=J.getHorizontalSashLeft(this)+"px";if(J.getHorizontalSashWidth)this.el.style.width=J.getHorizontalSashWidth(this)+"px"}}getOrthogonalSash(J){var $;let Q=($=J.initialTarget)!==null&&$!==void 0?$:J.target;if(!Q||!(Q instanceof HTMLElement))return;if(Q.classList.contains("orthogonal-drag-handle"))return Q.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash;return}dispose(){super.dispose(),this.el.remove()}}});var Sa=N(()=>{j0('.monaco-split-view2{width:100%;height:100%;position:relative}.monaco-split-view2>.sash-container{pointer-events:none;width:100%;height:100%;position:absolute}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:initial}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:initial;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";z-index:5;pointer-events:none;background-color:var(--separator-border);position:absolute;top:0;left:0}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:1px;height:100%}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:100%;height:1px}')});class UE{set size(J){this._size=J}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize==="undefined"}setVisible(J,$){var Q,X;if(J===this.visible)return;if(J)this.size=r5(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0;else this._cachedVisibleSize=typeof $==="number"?$:this.size,this.size=0;this.container.classList.toggle("visible",J);try{(X=(Q=this.view).setVisible)===null||X===void 0||X.call(Q,J)}catch(Y){console.error("Splitview: Failed to set visible view"),console.error(Y)}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var J;return(J=this.view.proportionalLayout)!==null&&J!==void 0?J:!0}get snap(){return!!this.view.snap}set enabled(J){this.container.style.pointerEvents=J?"":"none"}constructor(J,$,Q,X){if(this.container=J,this.view=$,this.disposable=X,this._cachedVisibleSize=void 0,typeof Q==="number")this._size=Q,this._cachedVisibleSize=void 0,J.classList.add("visible");else this._size=0,this._cachedVisibleSize=Q.cachedVisibleSize}layout(J,$){this.layoutContainer(J);try{this.view.layout(this.size,J,$)}catch(Q){console.error("Splitview: Failed to layout view"),console.error(Q)}}dispose(){this.disposable.dispose()}}var h40,va,ha,NX,Ca,zE;var fa=N(()=>{D0();NJ();lP();OJ();U1();g7();F0();Q0();sq();Sa();h40={separatorBorder:l.transparent};va=class va extends UE{layoutContainer(J){this.container.style.top=`${J}px`,this.container.style.height=`${this.size}px`}};ha=class ha extends UE{layoutContainer(J){this.container.style.left=`${J}px`,this.container.style.width=`${this.size}px`}};(function(J){J[J.Idle=0]="Idle",J[J.Busy=1]="Busy"})(NX||(NX={}));(function(J){J.Distribute={type:"distribute"};function $(Y){return{type:"split",index:Y}}J.Split=$;function Q(Y){return{type:"auto",index:Y}}J.Auto=Q;function X(Y){return{type:"invisible",cachedVisibleSize:Y}}J.Invisible=X})(Ca||(Ca={}));zE=class zE extends h{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(J){for(let $ of this.sashItems)$.sash.orthogonalStartSash=J;this._orthogonalStartSash=J}set orthogonalEndSash(J){for(let $ of this.sashItems)$.sash.orthogonalEndSash=J;this._orthogonalEndSash=J}set startSnappingEnabled(J){if(this._startSnappingEnabled===J)return;this._startSnappingEnabled=J,this.updateSashEnablement()}set endSnappingEnabled(J){if(this._endSnappingEnabled===J)return;this._endSnappingEnabled=J,this.updateSashEnablement()}constructor(J,$={}){var Q,X,Y,Z,G;super();this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=NX.Idle,this._onDidSashChange=this._register(new y),this._onDidSashReset=this._register(new y),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(Q=$.orientation)!==null&&Q!==void 0?Q:0,this.inverseAltBehavior=(X=$.inverseAltBehavior)!==null&&X!==void 0?X:!1,this.proportionalLayout=(Y=$.proportionalLayout)!==null&&Y!==void 0?Y:!0,this.getSashOrthogonalSize=$.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),J.appendChild(this.el),this.sashContainer=Z0(this.el,q0(".sash-container")),this.viewContainer=q0(".split-view-container"),this.scrollable=this._register(new y4({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:(U)=>A5(B0(this.el),U)})),this.scrollableElement=this._register(new nQ(this.viewContainer,{vertical:this.orientation===0?(Z=$.scrollbarVisibility)!==null&&Z!==void 0?Z:1:2,horizontal:this.orientation===1?(G=$.scrollbarVisibility)!==null&&G!==void 0?G:1:2},this.scrollable));let q=this._register(new G1(this.viewContainer,"scroll")).event;if(this._register(q((U)=>{let z=this.scrollableElement.getScrollPosition(),H=Math.abs(this.viewContainer.scrollLeft-z.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,j=Math.abs(this.viewContainer.scrollTop-z.scrollTop)<=1?void 0:this.viewContainer.scrollTop;if(H!==void 0||j!==void 0)this.scrollableElement.setScrollPosition({scrollLeft:H,scrollTop:j})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((U)=>{if(U.scrollTopChanged)this.viewContainer.scrollTop=U.scrollTop;if(U.scrollLeftChanged)this.viewContainer.scrollLeft=U.scrollLeft})),Z0(this.el,this.scrollableElement.getDomNode()),this.style($.styles||h40),$.descriptor)this.size=$.descriptor.size,$.descriptor.views.forEach((U,z)=>{let H=o5(U.visible)||U.visible?U.size:{type:"invisible",cachedVisibleSize:U.size},j=U.view;this.doAddView(j,H,z,!0)}),this._contentSize=this.viewItems.reduce((U,z)=>U+z.size,0),this.saveProportions()}style(J){if(J.separatorBorder.isTransparent())this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border");else this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",J.separatorBorder.toString())}addView(J,$,Q=this.viewItems.length,X){this.doAddView(J,$,Q,X)}layout(J,$){let Q=Math.max(this.size,this._contentSize);if(this.size=J,this.layoutContext=$,!this.proportions){let X=w5(this.viewItems.length),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);this.resize(this.viewItems.length-1,J-Q,void 0,Y,Z)}else{let X=0;for(let Y=0;Y<this.viewItems.length;Y++){let Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number")X+=G;else J-=Z.size}for(let Y=0;Y<this.viewItems.length;Y++){let Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number"&&X>0)Z.size=r5(Math.round(G*J/X),Z.minimumSize,Z.maximumSize)}}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){if(this.proportionalLayout&&this._contentSize>0)this.proportions=this.viewItems.map((J)=>J.proportionalLayout&&J.visible?J.size/this._contentSize:void 0)}onSashStart({sash:J,start:$,alt:Q}){for(let G of this.viewItems)G.enabled=!1;let X=this.sashItems.findIndex((G)=>G.sash===J),Y=x8(m(this.el.ownerDocument.body,"keydown",(G)=>Z(this.sashDragState.current,G.altKey)),m(this.el.ownerDocument.body,"keyup",()=>Z(this.sashDragState.current,!1))),Z=(G,q)=>{let U=this.viewItems.map((W)=>W.size),z=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior)q=!q;if(q)if(X===this.sashItems.length-1){let B=this.viewItems[X];z=(B.minimumSize-B.size)/2,H=(B.maximumSize-B.size)/2}else{let B=this.viewItems[X+1];z=(B.size-B.maximumSize)/2,H=(B.size-B.minimumSize)/2}let j,V;if(!q){let W=w5(X,-1),B=w5(X+1,this.viewItems.length),K=W.reduce((w,b)=>w+(this.viewItems[b].minimumSize-U[b]),0),P=W.reduce((w,b)=>w+(this.viewItems[b].viewMaximumSize-U[b]),0),A=B.length===0?Number.POSITIVE_INFINITY:B.reduce((w,b)=>w+(U[b]-this.viewItems[b].minimumSize),0),D=B.length===0?Number.NEGATIVE_INFINITY:B.reduce((w,b)=>w+(U[b]-this.viewItems[b].viewMaximumSize),0),R=Math.max(K,D),M=Math.min(A,P),_=this.findFirstSnapIndex(W),T=this.findFirstSnapIndex(B);if(typeof _==="number"){let w=this.viewItems[_],b=Math.floor(w.viewMinimumSize/2);j={index:_,limitDelta:w.visible?R-b:R+b,size:w.size}}if(typeof T==="number"){let w=this.viewItems[T],b=Math.floor(w.viewMinimumSize/2);V={index:T,limitDelta:w.visible?M+b:M-b,size:w.size}}}this.sashDragState={start:G,current:G,index:X,sizes:U,minDelta:z,maxDelta:H,alt:q,snapBefore:j,snapAfter:V,disposable:Y}};Z($,Q)}onSashChange({current:J}){let{index:$,start:Q,sizes:X,alt:Y,minDelta:Z,maxDelta:G,snapBefore:q,snapAfter:U}=this.sashDragState;this.sashDragState.current=J;let z=J-Q,H=this.resize($,z,X,void 0,void 0,Z,G,q,U);if(Y){let j=$===this.sashItems.length-1,V=this.viewItems.map((D)=>D.size),W=j?$:$+1,B=this.viewItems[W],K=B.size-B.maximumSize,P=B.size-B.minimumSize,A=j?$-1:$+1;this.resize(A,-H,V,void 0,void 0,K,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(J){this._onDidSashChange.fire(J),this.sashDragState.disposable.dispose(),this.saveProportions();for(let $ of this.viewItems)$.enabled=!0}onViewChange(J,$){let Q=this.viewItems.indexOf(J);if(Q<0||Q>=this.viewItems.length)return;if($=typeof $==="number"?$:J.size,$=r5($,J.minimumSize,J.maximumSize),this.inverseAltBehavior&&Q>0)this.resize(Q-1,Math.floor((J.size-$)/2)),this.distributeEmptySpace(),this.layoutViews();else J.size=$,this.relayout([Q],void 0)}resizeView(J,$){if(J<0||J>=this.viewItems.length)return;if(this.state!==NX.Idle)throw new Error("Cant modify splitview");this.state=NX.Busy;try{let Q=w5(this.viewItems.length).filter((G)=>G!==J),X=[...Q.filter((G)=>this.viewItems[G].priority===1),J],Y=Q.filter((G)=>this.viewItems[G].priority===2),Z=this.viewItems[J];$=Math.round($),$=r5($,Z.minimumSize,Math.min(Z.maximumSize,this.size)),Z.size=$,this.relayout(X,Y)}finally{this.state=NX.Idle}}distributeViewSizes(){let J=[],$=0;for(let G of this.viewItems)if(G.maximumSize-G.minimumSize>0)J.push(G),$+=G.size;let Q=Math.floor($/J.length);for(let G of J)G.size=r5(Q,G.minimumSize,G.maximumSize);let X=w5(this.viewItems.length),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);this.relayout(Y,Z)}getViewSize(J){if(J<0||J>=this.viewItems.length)return-1;return this.viewItems[J].size}doAddView(J,$,Q=this.viewItems.length,X){if(this.state!==NX.Idle)throw new Error("Cant modify splitview");this.state=NX.Busy;try{let Y=q0(".split-view-view");if(Q===this.viewItems.length)this.viewContainer.appendChild(Y);else this.viewContainer.insertBefore(Y,this.viewContainer.children.item(Q));let Z=J.onDidChange((j)=>this.onViewChange(z,j)),G=K0(()=>this.viewContainer.removeChild(Y)),q=x8(Z,G),U;if(typeof $==="number")U=$;else{if($.type==="auto")if(this.areViewsDistributed())$={type:"distribute"};else $={type:"split",index:$.index};if($.type==="split")U=this.getViewSize($.index)/2;else if($.type==="invisible")U={cachedVisibleSize:$.cachedVisibleSize};else U=J.minimumSize}let z=this.orientation===0?new va(Y,J,U,q):new ha(Y,J,U,q);if(this.viewItems.splice(Q,0,z),this.viewItems.length>1){let j={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},V=this.orientation===0?new j8(this.sashContainer,{getHorizontalSashTop:(w)=>this.getSashPosition(w),getHorizontalSashWidth:this.getSashOrthogonalSize},{...j,orientation:1}):new j8(this.sashContainer,{getVerticalSashLeft:(w)=>this.getSashPosition(w),getVerticalSashHeight:this.getSashOrthogonalSize},{...j,orientation:0}),W=this.orientation===0?(w)=>({sash:V,start:w.startY,current:w.currentY,alt:w.altKey}):(w)=>({sash:V,start:w.startX,current:w.currentX,alt:w.altKey}),K=J0.map(V.onDidStart,W)(this.onSashStart,this),A=J0.map(V.onDidChange,W)(this.onSashChange,this),R=J0.map(V.onDidEnd,()=>this.sashItems.findIndex((w)=>w.sash===V))(this.onSashEnd,this),M=V.onDidReset(()=>{let w=this.sashItems.findIndex((C)=>C.sash===V),b=w5(w,-1),S=w5(w+1,this.viewItems.length),g=this.findFirstSnapIndex(b),c=this.findFirstSnapIndex(S);if(typeof g==="number"&&!this.viewItems[g].visible)return;if(typeof c==="number"&&!this.viewItems[c].visible)return;this._onDidSashReset.fire(w)}),_=x8(K,A,R,M,V),T={sash:V,disposable:_};this.sashItems.splice(Q-1,0,T)}Y.appendChild(J.element);let H;if(typeof $!=="number"&&$.type==="split")H=[$.index];if(!X)this.relayout([Q],H);if(!X&&typeof $!=="number"&&$.type==="distribute")this.distributeViewSizes()}finally{this.state=NX.Idle}}relayout(J,$){let Q=this.viewItems.reduce((X,Y)=>X+Y.size,0);this.resize(this.viewItems.length-1,this.size-Q,void 0,J,$),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(J,$,Q=this.viewItems.map((z)=>z.size),X,Y,Z=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,q,U){if(J<0||J>=this.viewItems.length)return 0;let z=w5(J,-1),H=w5(J+1,this.viewItems.length);if(Y)for(let T of Y)RW(z,T),RW(H,T);if(X)for(let T of X)CU(z,T),CU(H,T);let j=z.map((T)=>this.viewItems[T]),V=z.map((T)=>Q[T]),W=H.map((T)=>this.viewItems[T]),B=H.map((T)=>Q[T]),K=z.reduce((T,w)=>T+(this.viewItems[w].minimumSize-Q[w]),0),P=z.reduce((T,w)=>T+(this.viewItems[w].maximumSize-Q[w]),0),A=H.length===0?Number.POSITIVE_INFINITY:H.reduce((T,w)=>T+(Q[w]-this.viewItems[w].minimumSize),0),D=H.length===0?Number.NEGATIVE_INFINITY:H.reduce((T,w)=>T+(Q[w]-this.viewItems[w].maximumSize),0),R=Math.max(K,D,Z),M=Math.min(A,P,G),_=!1;if(q){let T=this.viewItems[q.index],w=$>=q.limitDelta;_=w!==T.visible,T.setVisible(w,q.size)}if(!_&&U){let T=this.viewItems[U.index],w=$<U.limitDelta;_=w!==T.visible,T.setVisible(w,U.size)}if(_)return this.resize(J,$,Q,X,Y,Z,G);$=r5($,R,M);for(let T=0,w=$;T<j.length;T++){let b=j[T],S=r5(V[T]+w,b.minimumSize,b.maximumSize),g=S-V[T];w-=g,b.size=S}for(let T=0,w=$;T<W.length;T++){let b=W[T],S=r5(B[T]-w,b.minimumSize,b.maximumSize),g=S-B[T];w+=g,b.size=S}return $}distributeEmptySpace(J){let $=this.viewItems.reduce((G,q)=>G+q.size,0),Q=this.size-$,X=w5(this.viewItems.length-1,-1),Y=X.filter((G)=>this.viewItems[G].priority===1),Z=X.filter((G)=>this.viewItems[G].priority===2);for(let G of Z)RW(X,G);for(let G of Y)CU(X,G);if(typeof J==="number")CU(X,J);for(let G=0;Q!==0&&G<X.length;G++){let q=this.viewItems[X[G]],U=r5(q.size+Q,q.minimumSize,q.maximumSize),z=U-q.size;Q-=z,q.size=U}}layoutViews(){this._contentSize=this.viewItems.reduce(($,Q)=>$+Q.size,0);let J=0;for(let $ of this.viewItems)$.layout(J,this.layoutContext),J+=$.size;this.sashItems.forEach(($)=>$.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){if(this.orientation===0)this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize});else this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let J=!1,$=this.viewItems.map((q)=>J=q.size-q.minimumSize>0||J);J=!1;let Q=this.viewItems.map((q)=>J=q.maximumSize-q.size>0||J),X=[...this.viewItems].reverse();J=!1;let Y=X.map((q)=>J=q.size-q.minimumSize>0||J).reverse();J=!1;let Z=X.map((q)=>J=q.maximumSize-q.size>0||J).reverse(),G=0;for(let q=0;q<this.sashItems.length;q++){let{sash:U}=this.sashItems[q],z=this.viewItems[q];G+=z.size;let H=!($[q]&&Z[q+1]),j=!(Q[q]&&Y[q+1]);if(H&&j){let V=w5(q,-1),W=w5(q+1,this.viewItems.length),B=this.findFirstSnapIndex(V),K=this.findFirstSnapIndex(W),P=typeof B==="number"&&!this.viewItems[B].visible,A=typeof K==="number"&&!this.viewItems[K].visible;if(P&&Y[q]&&(G>0||this.startSnappingEnabled))U.state=1;else if(A&&$[q]&&(G<this._contentSize||this.endSnappingEnabled))U.state=2;else U.state=0}else if(H&&!j)U.state=1;else if(!H&&j)U.state=2;else U.state=3}}getSashPosition(J){let $=0;for(let Q=0;Q<this.sashItems.length;Q++)if($+=this.viewItems[Q].size,this.sashItems[Q].sash===J)return $;return 0}findFirstSnapIndex(J){for(let $ of J){let Q=this.viewItems[$];if(!Q.visible)continue;if(Q.snap)return $}for(let $ of J){let Q=this.viewItems[$];if(Q.visible&&Q.maximumSize-Q.minimumSize>0)return;if(!Q.visible&&Q.snap)return $}return}areViewsDistributed(){let J=void 0,$=void 0;for(let Q of this.viewItems)if(J=J===void 0?Q.size:Math.min(J,Q.size),$=$===void 0?Q.size:Math.max($,Q.size),$-J>2)return!1;return!0}dispose(){var J;(J=this.sashDragState)===null||J===void 0||J.disposable.dispose(),k1(this.viewItems),this.viewItems=[],this.sashItems.forEach(($)=>$.disposable.dispose()),this.sashItems=[],super.dispose()}}});var ga=N(()=>{j0('.monaco-table{white-space:nowrap;flex-direction:column;width:100%;height:100%;display:flex;position:relative;overflow:hidden}.monaco-table>.monaco-split-view2{border-bottom:1px solid #0000}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{height:100%;display:flex}.monaco-table-th{text-overflow:ellipsis;width:100%;height:100%;font-weight:700;overflow:hidden}.monaco-table-th,.monaco-table-td{box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;flex-shrink:0;overflow:hidden}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";left:calc(var(--vscode-sash-size)/2);border-left:1px solid #0000;width:0;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2,.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}')});class uj{constructor(J,$,Q){this.columns=J,this.getColumnSize=Q,this.templateId=uj.TemplateId,this.renderedTemplates=new Set;let X=new Map($.map((Y)=>[Y.templateId,Y]));this.renderers=[];for(let Y of J){let Z=X.get(Y.templateId);if(!Z)throw new Error(`Table cell renderer for template id ${Y.templateId} not found.`);this.renderers.push(Z)}}renderTemplate(J){let $=Z0(J,q0(".monaco-table-tr")),Q=[],X=[];for(let Z=0;Z<this.columns.length;Z++){let G=this.renderers[Z],q=Z0($,q0(".monaco-table-td",{"data-col-index":Z}));q.style.width=`${this.getColumnSize(Z)}px`,Q.push(q),X.push(G.renderTemplate(q))}let Y={container:J,cellContainers:Q,cellTemplateData:X};return this.renderedTemplates.add(Y),Y}renderElement(J,$,Q,X){for(let Y=0;Y<this.columns.length;Y++){let G=this.columns[Y].project(J);this.renderers[Y].renderElement(G,$,Q.cellTemplateData[Y],X)}}disposeElement(J,$,Q,X){for(let Y=0;Y<this.columns.length;Y++){let Z=this.renderers[Y];if(Z.disposeElement){let q=this.columns[Y].project(J);Z.disposeElement(q,$,Q.cellTemplateData[Y],X)}}}disposeTemplate(J){for(let $=0;$<this.columns.length;$++)this.renderers[$].disposeTemplate(J.cellTemplateData[$]);I5(J.container),this.renderedTemplates.delete(J)}layoutColumn(J,$){for(let{cellContainers:Q}of this.renderedTemplates)Q[J].style.width=`${$}px`}}function f40(J){return{getHeight($){return J.getHeight($)},getTemplateId(){return uj.TemplateId}}}class pa{get minimumSize(){var J;return(J=this.column.minimumWidth)!==null&&J!==void 0?J:120}get maximumSize(){var J;return(J=this.column.maximumWidth)!==null&&J!==void 0?J:Number.POSITIVE_INFINITY}get onDidChange(){var J;return(J=this.column.onDidChangeWidthConstraints)!==null&&J!==void 0?J:J0.None}constructor(J,$){this.column=J,this.index=$,this._onDidLayout=new y,this.onDidLayout=this._onDidLayout.event,this.element=q0(".monaco-table-th",{"data-col-index":$,title:J.tooltip},J.label)}layout(J){this._onDidLayout.fire([this.index,J])}}class cj{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(J,$,Q,X,Y,Z){this.virtualDelegate=Q,this.domId=`table_id_${++cj.InstanceCount}`,this.disposables=new r,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Z0($,q0(`.monaco-table.${this.domId}`));let G=X.map((z,H)=>new pa(z,H)),q={size:G.reduce((z,H)=>z+H.column.weight,0),views:G.map((z)=>({size:z.column.weight,view:z}))};this.splitview=this.disposables.add(new zE(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:q})),this.splitview.el.style.height=`${Q.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Q.headerRowHeight}px`;let U=new uj(X,Y,(z)=>this.splitview.getViewSize(z));this.list=this.disposables.add(new c8(J,this.domNode,f40(Q),[U],Z)),J0.any(...G.map((z)=>z.onDidLayout))(([z,H])=>U.layoutColumn(z,H),null,this.disposables),this.splitview.onDidSashReset((z)=>{let H=X.reduce((V,W)=>V+W.weight,0),j=X[z].weight/H*this.cachedWidth;this.splitview.resizeView(z,j)},null,this.disposables),this.styleElement=D5(this.domNode),this.style(fs)}updateOptions(J){this.list.updateOptions(J)}splice(J,$,Q=[]){this.list.splice(J,$,Q)}getHTMLElement(){return this.domNode}style(J){let $=[];$.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;
\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
\t\t}`),this.styleElement.textContent=$.join(`
`),this.list.style(J)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}var ma=N(()=>{D0();e2();fa();F0();Q0();ga();uj.TemplateId="row";cj.InstanceCount=0});var ua=N(()=>{j0(".monaco-custom-toggle{float:left;cursor:pointer;box-sizing:border-box;-webkit-user-select:none;user-select:none;border:1px solid #0000;border-radius:3px;width:20px;height:20px;margin-left:2px;padding:1px;overflow:hidden}.monaco-custom-toggle:hover{background-color:var(--vscode-inputOption-hoverBackground)}.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{border:1px dashed var(--vscode-focusBorder)}.hc-black .monaco-custom-toggle,.hc-light .monaco-custom-toggle,.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{background:0 0}.monaco-custom-toggle.monaco-checkbox{opacity:1;border:1px solid #0000;border-radius:3px;width:18px;height:18px;margin-left:0;margin-right:9px;padding:0;background-size:16px!important}.monaco-action-bar .checkbox-action-item{align-items:center;display:flex}.monaco-action-bar .checkbox-action-item>.monaco-custom-toggle.monaco-checkbox{margin-right:4px}.monaco-action-bar .checkbox-action-item>.checkbox-label{font-size:12px}.monaco-custom-toggle.monaco-checkbox:not(.checked):before{visibility:hidden}")});var i$;var lj=N(()=>{L$();H5();F0();ua();i$=class i$ extends Z8{constructor(J){super();this._onChange=this._register(new y),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._opts=J,this._checked=this._opts.isChecked;let $=["monaco-custom-toggle"];if(this._opts.icon)this._icon=this._opts.icon,$.push(...b0.asClassNameArray(this._icon));if(this._opts.actionClassName)$.push(...this._opts.actionClassName.split(" "));if(this._checked)$.push("checked");if(this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...$),!this._opts.notFocusable)this.domNode.tabIndex=0;this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(Q)=>{if(this.enabled)this.checked=!this._checked,this._onChange.fire(!1),Q.preventDefault()}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(Q)=>{if(Q.keyCode===10||Q.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),Q.preventDefault(),Q.stopPropagation();return}this._onKeyDown.fire(Q)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(J){this._checked=J,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){if(this.domNode)this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||""}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}});var g40,p40,m40,HE,jE,VE;var ca=N(()=>{lj();U5();g0();g40=F("caseDescription","Match Case"),p40=F("wordsDescription","Match Whole Word"),m40=F("regexDescription","Use Regular Expression");HE=class HE extends i${constructor(J){super({icon:U0.caseSensitive,title:g40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}};jE=class jE extends i${constructor(J){super({icon:U0.wholeWord,title:p40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}};VE=class VE extends i${constructor(J){super({icon:U0.regex,title:m40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}});class WE{constructor(J,$=0,Q=J.length,X=$-1){this.items=J,this.start=$,this.end=Q,this.index=X}current(){if(this.index===this.start-1||this.index===this.end)return null;return this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class BE{constructor(J=[],$=10){this._initialize(J),this._limit=$,this._onChange()}getHistory(){return this._elements}add(J){this._history.delete(J),this._history.add(J),this._onChange()}next(){return this._navigator.next()}previous(){if(this._currentPosition()!==0)return this._navigator.previous();return null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(J){return this._history.has(J)}_onChange(){this._reduceToLimit();let J=this._elements;this._navigator=new WE(J,0,J.length,J.length)}_reduceToLimit(){let J=this._elements;if(J.length>this._limit)this._initialize(J.slice(J.length-this._limit))}_currentPosition(){let J=this._navigator.current();if(!J)return-1;return this._elements.indexOf(J)}_initialize(J){this._history=new Set;for(let $ of J)this._history.add($)}get _elements(){let J=[];return this._history.forEach(($)=>J.push($)),J}}var la=()=>{};var da=N(()=>{j0(".monaco-inputbox{box-sizing:border-box;font-size:inherit;border-radius:2px;padding:0;display:block;position:relative}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px 6px}.monaco-inputbox>.ibwrapper{width:100%;height:100%;position:relative}.monaco-inputbox>.ibwrapper>.input{box-sizing:border-box;line-height:inherit;font-family:inherit;font-size:inherit;resize:none;color:inherit;border:none;width:100%;height:100%;display:inline-block}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{scrollbar-width:none;outline:none;display:block}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word;width:100%;display:inline-block;position:absolute;top:0;left:0}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{text-align:left;box-sizing:border-box;word-wrap:break-word;width:100%;margin-top:-1px;padding:.4em;font-size:12px;line-height:17px;display:inline-block;overflow:hidden}.monaco-inputbox .monaco-action-bar{position:absolute;top:4px;right:2px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}")});var dj,sa,sj;var dP=N(()=>{D0();NJ();aL();r$();UY();OJ();L$();F0();la();j7();da();g0();dj=q0;sa=class sa extends Z8{constructor(J,$,Q){var X;super();if(this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new y),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=$,this.options=Q,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(X=this.options.tooltip)!==null&&X!==void 0?X:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions)this.validation=this.options.validationOptions.validation;this.element=Z0(J,dj(".monaco-inputbox.idle"));let Y=this.options.flexibleHeight?"textarea":"input",Z=Z0(this.element,dj(".ibwrapper"));if(this.input=Z0(Z,dj(Y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){if(this.maxHeight=typeof this.options.flexibleMaxHeight==="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Z0(Z,dj("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new FN(this.element,{vertical:1}),this.options.flexibleWidth)this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial";Z0(J,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((U)=>this.input.scrollTop=U.scrollTop));let G=this._register(new G1(J.ownerDocument,"selectionchange")),q=J0.filter(G.event,()=>{let U=J.ownerDocument.getSelection();return(U===null||U===void 0?void 0:U.anchorNode)===Z});this._register(q(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");if(this.ariaLabel)this.input.setAttribute("aria-label",this.ariaLabel);if(this.placeholder&&!this.options.showPlaceholderOnFocus)this.setPlaceHolder(this.placeholder);if(this.tooltip)this.setTooltip(this.tooltip);if(this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions)this.actionbar=this._register(new H8(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1});this.applyStyles()}onBlur(){if(this._hideMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder","")}onFocus(){if(this._showMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(J){this.placeholder=J,this.input.setAttribute("placeholder",J)}setTooltip(J){this.tooltip=J,this.input.title=J}get inputElement(){return this.input}get value(){return this.input.value}set value(J){if(this.input.value!==J)this.input.value=J,this.onValueChange()}get height(){return typeof this.cachedHeight==="number"?this.cachedHeight:wz(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return nZ(this.input)}select(J=null){if(this.input.select(),J){if(this.input.setSelectionRange(J.start,J.end),J.end===this.input.value.length)this.input.scrollLeft=this.input.scrollWidth}}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(J){if(this.input.style.width=`calc(100% - ${J}px)`,this.mirror)this.mirror.style.paddingRight=J+"px"}updateScrollDimensions(){if(typeof this.cachedContentHeight!=="number"||typeof this.cachedHeight!=="number"||!this.scrollableElement)return;let J=this.cachedContentHeight,$=this.cachedHeight,Q=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:J,height:$}),this.scrollableElement.setScrollPosition({scrollTop:Q})}showMessage(J,$){if(this.state==="open"&&L5(this.message,J))return;this.message=J,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(J.type));let Q=this.stylesForType(this.message.type);if(this.element.style.border=`1px solid ${I9(Q.border,"transparent")}`,this.message.content&&(this.hasFocus()||$))this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let J=null;if(this.validation){if(J=this.validation(this.value),J)this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(J);else if(this.inputElement.hasAttribute("aria-invalid"))this.inputElement.removeAttribute("aria-invalid"),this.hideMessage()}return J===null||J===void 0?void 0:J.type}stylesForType(J){let $=this.options.inputBoxStyles;switch(J){case 1:return{border:$.inputValidationInfoBorder,background:$.inputValidationInfoBackground,foreground:$.inputValidationInfoForeground};case 2:return{border:$.inputValidationWarningBorder,background:$.inputValidationWarningBackground,foreground:$.inputValidationWarningForeground};default:return{border:$.inputValidationErrorBorder,background:$.inputValidationErrorBackground,foreground:$.inputValidationErrorForeground}}}classForType(J){switch(J){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let J,$=()=>J.style.width=Yq(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:(X)=>{var Y,Z;if(!this.message)return null;J=Z0(X,dj(".monaco-inputbox-container")),$();let G={inline:!0,className:"monaco-inputbox-message"},q=this.message.formatContent?el(this.message.content,G):tl(this.message.content,G);q.classList.add(this.classForType(this.message.type));let U=this.stylesForType(this.message.type);return q.style.backgroundColor=(Y=U.background)!==null&&Y!==void 0?Y:"",q.style.color=(Z=U.foreground)!==null&&Z!==void 0?Z:"",q.style.border=U.border?`1px solid ${U.border}`:"",Z0(J,q),null},onHide:()=>{this.state="closed"},layout:$});let Q;if(this.message.type===3)Q=F("alertErrorMessage","Error: {0}",this.message.content);else if(this.message.type===2)Q=F("alertWarningMessage","Warning: {0}",this.message.content);else Q=F("alertInfoMessage","Info: {0}",this.message.content);Tq(Q),this.state="open"}_hideMessage(){if(!this.contextViewProvider)return;if(this.state==="open")this.contextViewProvider.hideContextView();this.state="idle"}onValueChange(){if(this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider)this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let J=this.value,Q=J.charCodeAt(J.length-1)===10?" ":"";if((J+Q).replace(/\u000c/g,""))this.mirror.textContent=J+Q;else this.mirror.innerText=" ";this.layout()}applyStyles(){var J,$,Q;let X=this.options.inputBoxStyles,Y=(J=X.inputBackground)!==null&&J!==void 0?J:"",Z=($=X.inputForeground)!==null&&$!==void 0?$:"",G=(Q=X.inputBorder)!==null&&Q!==void 0?Q:"";this.element.style.backgroundColor=Y,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.border=`1px solid ${I9(G,"transparent")}`}layout(){if(!this.mirror)return;let J=this.cachedContentHeight;if(this.cachedContentHeight=wz(this.mirror),J!==this.cachedContentHeight)this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight)}insertAtCursor(J){let $=this.inputElement,Q=$.selectionStart,X=$.selectionEnd,Y=$.value;if(Q!==null&&X!==null)this.value=Y.substr(0,Q)+J+Y.substr(X),$.setSelectionRange(Q+1,Q+1),this.layout()}dispose(){var J;this._hideMessage(),this.message=null,(J=this.actionbar)===null||J===void 0||J.dispose(),super.dispose()}};sj=class sj extends sa{constructor(J,$,Q){let X=F({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," or {0} for history","⇅"),Y=F({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," ({0} for history)","⇅");super(J,$,Q);this._onDidFocus=this._register(new y),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event,this.history=new BE(Q.history,100);let Z=()=>{if(Q.showHistoryHint&&Q.showHistoryHint()&&!this.placeholder.endsWith(X)&&!this.placeholder.endsWith(Y)&&this.history.getHistory().length){let G=this.placeholder.endsWith(")")?X:Y,q=this.placeholder+G;if(Q.showPlaceholderOnFocus&&!nZ(this.input))this.placeholder=q;else this.setPlaceHolder(q)}};this.observer=new MutationObserver((G,q)=>{G.forEach((U)=>{if(!U.target.textContent)Z()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Z()),this.onblur(this.input,()=>{let G=(q)=>{if(!this.placeholder.endsWith(q))return!1;else{let U=this.placeholder.slice(0,this.placeholder.length-q.length);if(Q.showPlaceholderOnFocus)this.placeholder=U;else this.setPlaceHolder(U);return!0}};if(!G(Y))G(X)})}dispose(){if(super.dispose(),this.observer)this.observer.disconnect(),this.observer=void 0}addToHistory(J){if(this.value&&(J||this.value!==this.getCurrentValue()))this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getNextValue();if(J)J=J===this.value?this.getNextValue():J;this.value=J!==null&&J!==void 0?J:"",K$(this.value?this.value:F("clearedInput","Cleared Input"))}showPreviousValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getPreviousValue();if(J)J=J===this.value?this.getPreviousValue():J;if(J)this.value=J,K$(this.value)}setPlaceHolder(J){super.setPlaceHolder(J),this.setTooltip(J)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let J=this.history.current();if(!J)J=this.history.last(),this.history.next();return J}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}});var FE=N(()=>{j0(".monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{width:100%;font-size:13px}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls,.hc-light .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-0}.monaco-findInput.highlight-1 .controls,.hc-light .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-1}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-dark-0}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-dark-1}@keyframes monaco-findInput-highlight-0{0%{background:#fdff00cc}to{background:0 0}}@keyframes monaco-findInput-highlight-1{0%{background:#fdff00cc}99%{background:0 0}}@keyframes monaco-findInput-highlight-dark-0{0%{background:#ffffff70}to{background:0 0}}@keyframes monaco-findInput-highlight-dark-1{0%{background:#ffffff70}99%{background:0 0}}")});var u40,i3;var sP=N(()=>{D0();ca();dP();L$();F0();FE();g0();Q0();u40=F("defaultLabel","input");i3=class i3 extends Z8{constructor(J,$,Q){super();this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new f5),this.additionalToggles=[],this._onDidOptionChange=this._register(new y),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y),this._onKeyUp=this._register(new y),this._onCaseSensitiveKeyDown=this._register(new y),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=Q.placeholder||"",this.validation=Q.validation,this.label=Q.label||u40,this.showCommonFindToggles=!!Q.showCommonFindToggles;let X=Q.appendCaseSensitiveLabel||"",Y=Q.appendWholeWordsLabel||"",Z=Q.appendRegexLabel||"",G=Q.history||[],q=!!Q.flexibleHeight,U=!!Q.flexibleWidth,z=Q.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new sj(this.domNode,$,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:G,showHistoryHint:Q.showHistoryHint,flexibleHeight:q,flexibleWidth:U,flexibleMaxHeight:z,inputBoxStyles:Q.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new VE({appendTitle:Z,isChecked:!1,...Q.toggleStyles})),this._register(this.regex.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.regex.onKeyDown((j)=>{this._onRegexKeyDown.fire(j)})),this.wholeWords=this._register(new jE({appendTitle:Y,isChecked:!1,...Q.toggleStyles})),this._register(this.wholeWords.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this.caseSensitive=this._register(new HE({appendTitle:X,isChecked:!1,...Q.toggleStyles})),this._register(this.caseSensitive.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.caseSensitive.onKeyDown((j)=>{this._onCaseSensitiveKeyDown.fire(j)}));let H=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(j)=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let V=H.indexOf(this.domNode.ownerDocument.activeElement);if(V>=0){let W=-1;if(j.equals(17))W=(V+1)%H.length;else if(j.equals(15))if(V===0)W=H.length-1;else W=V-1;if(j.equals(9))H[V].blur(),this.inputBox.focus();else if(W>=0)H[W].focus();c0.stop(j,!0)}}})}if(this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive)this.controls.append(this.caseSensitive.domNode);if(this.wholeWords)this.controls.appendChild(this.wholeWords.domNode);if(this.regex)this.controls.appendChild(this.regex.domNode);if(this.setAdditionalToggles(Q===null||Q===void 0?void 0:Q.additionalToggles),this.controls)this.domNode.appendChild(this.controls);J===null||J===void 0||J.appendChild(this.domNode),this._register(m(this.inputBox.inputElement,"compositionstart",(H)=>{this.imeSessionInProgress=!0})),this._register(m(this.inputBox.inputElement,"compositionend",(H)=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,(H)=>this._onKeyDown.fire(H)),this.onkeyup(this.inputBox.inputElement,(H)=>this._onKeyUp.fire(H)),this.oninput(this.inputBox.inputElement,(H)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(H)=>this._onMouseDown.fire(H))}get onDidChange(){return this.inputBox.onDidChange}layout(J){this.inputBox.layout(),this.updateInputBoxPadding(J.collapsedFindWidget)}enable(){var J,$,Q;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(J=this.regex)===null||J===void 0||J.enable(),($=this.wholeWords)===null||$===void 0||$.enable(),(Q=this.caseSensitive)===null||Q===void 0||Q.enable();for(let X of this.additionalToggles)X.enable()}disable(){var J,$,Q;this.domNode.classList.add("disabled"),this.inputBox.disable(),(J=this.regex)===null||J===void 0||J.disable(),($=this.wholeWords)===null||$===void 0||$.disable(),(Q=this.caseSensitive)===null||Q===void 0||Q.disable();for(let X of this.additionalToggles)X.disable()}setFocusInputOnOptionClick(J){this.fixFocusOnOptionClickEnabled=J}setEnabled(J){if(J)this.enable();else this.disable()}setAdditionalToggles(J){for(let $ of this.additionalToggles)$.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new r;for(let $ of J!==null&&J!==void 0?J:[])this.additionalTogglesDisposables.value.add($),this.controls.appendChild($.domNode),this.additionalTogglesDisposables.value.add($.onChange((Q)=>{if(this._onDidOptionChange.fire(Q),!Q&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus()})),this.additionalToggles.push($);if(this.additionalToggles.length>0)this.controls.style.display="";this.updateInputBoxPadding()}updateInputBoxPadding(J=!1){var $,Q,X,Y,Z,G;if(J)this.inputBox.paddingRight=0;else this.inputBox.paddingRight=((Q=($=this.caseSensitive)===null||$===void 0?void 0:$.width())!==null&&Q!==void 0?Q:0)+((Y=(X=this.wholeWords)===null||X===void 0?void 0:X.width())!==null&&Y!==void 0?Y:0)+((G=(Z=this.regex)===null||Z===void 0?void 0:Z.width())!==null&&G!==void 0?G:0)+this.additionalToggles.reduce((q,U)=>q+U.width(),0)}getValue(){return this.inputBox.value}setValue(J){if(this.inputBox.value!==J)this.inputBox.value=J}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var J,$;return($=(J=this.caseSensitive)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setCaseSensitive(J){if(this.caseSensitive)this.caseSensitive.checked=J}getWholeWords(){var J,$;return($=(J=this.wholeWords)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setWholeWords(J){if(this.wholeWords)this.wholeWords.checked=J}getRegex(){var J,$;return($=(J=this.regex)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setRegex(J){if(this.regex)this.regex.checked=J,this.validate()}focusOnCaseSensitive(){var J;(J=this.caseSensitive)===null||J===void 0||J.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(J){this.inputBox.showMessage(J)}clearMessage(){this.inputBox.hideMessage()}}});class n3{constructor(J){this.fn=J,this._map=new WeakMap}map(J){let $=this._map.get(J);if(!$)$=this.fn(J),this._map.set(J,$);return $}}var _7,mY,w8;var o3=N(()=>{(function(J){J[J.Expanded=0]="Expanded",J[J.Collapsed=1]="Collapsed",J[J.PreserveOrExpanded=2]="PreserveOrExpanded",J[J.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(_7||(_7={}));(function(J){J[J.Unknown=0]="Unknown",J[J.Twistie=1]="Twistie",J[J.Element=2]="Element",J[J.Filter=3]="Filter"})(mY||(mY={}));w8=class w8 extends Error{constructor(J,$){super(`TreeError [${J}] ${$}`)}}});function aj(J){return typeof J==="object"&&"visibility"in J&&"data"in J}function UG(J){switch(J){case!0:return 1;case!1:return 0;default:return J}}function KE(J){return typeof J.collapsible==="boolean"}class AE{constructor(J,$,Q,X={}){this.user=J,this.list=$,this.rootRef=[],this.eventBufferer=new EZ,this._onDidChangeCollapseState=new y,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new y,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new y,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new R4(ZF),this.collapseByDefault=typeof X.collapseByDefault==="undefined"?!1:X.collapseByDefault,this.filter=X.filter,this.autoExpandSingleChildren=typeof X.autoExpandSingleChildren==="undefined"?!1:X.autoExpandSingleChildren,this.root={parent:void 0,element:Q,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(J,$,Q=W1.empty(),X={}){if(J.length===0)throw new w8(this.user,"Invalid tree location");if(X.diffIdentityProvider)this.spliceSmart(X.diffIdentityProvider,J,$,Q,X);else this.spliceSimple(J,$,Q,X)}spliceSmart(J,$,Q,X,Y,Z){var G;if(X===void 0)X=W1.empty();if(Z===void 0)Z=(G=Y.diffDepth)!==null&&G!==void 0?G:0;let{parentNode:q}=this.getParentNodeWithListIndex($);if(!q.lastDiffIds)return this.spliceSimple($,Q,X,Y);let U=[...X],z=$[$.length-1],H=new UJ({getElements:()=>q.lastDiffIds},{getElements:()=>[...q.children.slice(0,z),...U,...q.children.slice(z+Q)].map((K)=>J.getId(K.element).toString())}).ComputeDiff(!1);if(H.quitEarly)return q.lastDiffIds=void 0,this.spliceSimple($,Q,U,Y);let j=$.slice(0,-1),V=(K,P,A)=>{if(Z>0)for(let D=0;D<A;D++)K--,P--,this.spliceSmart(J,[...j,K,0],Number.MAX_SAFE_INTEGER,U[P].children,Y,Z-1)},W=Math.min(q.children.length,z+Q),B=U.length;for(let K of H.changes.sort((P,A)=>A.originalStart-P.originalStart))V(W,B,W-(K.originalStart+K.originalLength)),W=K.originalStart,B=K.modifiedStart-z,this.spliceSimple([...j,W],K.originalLength,W1.slice(U,B,B+K.modifiedLength),Y);V(W,B,W)}spliceSimple(J,$,Q=W1.empty(),{onDidCreateNode:X,onDidDeleteNode:Y,diffIdentityProvider:Z}){let{parentNode:G,listIndex:q,revealed:U,visible:z}=this.getParentNodeWithListIndex(J),H=[],j=W1.map(Q,(M)=>this.createTreeNode(M,G,G.visible?1:0,U,H,X)),V=J[J.length-1],W=0;for(let M=V;M>=0&&M<G.children.length;M--){let _=G.children[M];if(_.visible){W=_.visibleChildIndex;break}}let B=[],K=0,P=0;for(let M of j)if(B.push(M),P+=M.renderNodeCount,M.visible)M.visibleChildIndex=W+K++;let A=cR(G.children,V,$,B);if(!Z)G.lastDiffIds=void 0;else if(G.lastDiffIds)cR(G.lastDiffIds,V,$,B.map((M)=>Z.getId(M.element).toString()));else G.lastDiffIds=G.children.map((M)=>Z.getId(M.element).toString());let D=0;for(let M of A)if(M.visible)D++;if(D!==0)for(let M=V+B.length;M<G.children.length;M++){let _=G.children[M];if(_.visible)_.visibleChildIndex-=D}if(G.visibleChildrenCount+=K-D,U&&z){let M=A.reduce((_,T)=>_+(T.visible?T.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(G,P-M),this.list.splice(q,M,H)}if(A.length>0&&Y){let M=(_)=>{Y(_),_.children.forEach(M)};A.forEach(M)}this._onDidSplice.fire({insertedNodes:B,deletedNodes:A});let R=G;while(R){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(J){if(J.length===0)throw new w8(this.user,"Invalid tree location");let{node:$,listIndex:Q,revealed:X}=this.getTreeNodeWithListIndex(J);if($.visible&&X)this.list.splice(Q,1,[$])}has(J){return this.hasTreeNode(J)}getListIndex(J){let{listIndex:$,visible:Q,revealed:X}=this.getTreeNodeWithListIndex(J);return Q&&X?$:-1}getListRenderCount(J){return this.getTreeNode(J).renderNodeCount}isCollapsible(J){return this.getTreeNode(J).collapsible}setCollapsible(J,$){let Q=this.getTreeNode(J);if(typeof $==="undefined")$=!Q.collapsible;let X={collapsible:$};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,X))}isCollapsed(J){return this.getTreeNode(J).collapsed}setCollapsed(J,$,Q){let X=this.getTreeNode(J);if(typeof $==="undefined")$=!X.collapsed;let Y={collapsed:$,recursive:Q||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Y))}_setCollapseState(J,$){let{node:Q,listIndex:X,revealed:Y}=this.getTreeNodeWithListIndex(J),Z=this._setListNodeCollapseState(Q,X,Y,$);if(Q!==this.root&&this.autoExpandSingleChildren&&Z&&!KE($)&&Q.collapsible&&!Q.collapsed&&!$.recursive){let G=-1;for(let q=0;q<Q.children.length;q++)if(Q.children[q].visible)if(G>-1){G=-1;break}else G=q;if(G>-1)this._setCollapseState([...J,G],$)}return Z}_setListNodeCollapseState(J,$,Q,X){let Y=this._setNodeCollapseState(J,X,!1);if(!Q||!J.visible||!Y)return Y;let Z=J.renderNodeCount,G=this.updateNodeAfterCollapseChange(J),q=Z-($===-1?0:1);return this.list.splice($+1,q,G.slice(1)),Y}_setNodeCollapseState(J,$,Q){let X;if(J===this.root)X=!1;else{if(KE($))X=J.collapsible!==$.collapsible,J.collapsible=$.collapsible;else if(!J.collapsible)X=!1;else X=J.collapsed!==$.collapsed,J.collapsed=$.collapsed;if(X)this._onDidChangeCollapseState.fire({node:J,deep:Q})}if(!KE($)&&$.recursive)for(let Y of J.children)X=this._setNodeCollapseState(Y,$,!0)||X;return X}expandTo(J){this.eventBufferer.bufferEvents(()=>{let $=this.getTreeNode(J);while($.parent)if($=$.parent,J=J.slice(0,J.length-1),$.collapsed)this._setCollapseState(J,{collapsed:!1,recursive:!1})})}refilter(){let J=this.root.renderNodeCount,$=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,J,$),this.refilterDelayer.cancel()}createTreeNode(J,$,Q,X,Y,Z){let G={parent:$,element:J.element,children:[],depth:$.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof J.collapsible==="boolean"?J.collapsible:typeof J.collapsed!=="undefined",collapsed:typeof J.collapsed==="undefined"?this.collapseByDefault:J.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},q=this._filterNode(G,Q);if(G.visibility=q,X)Y.push(G);let U=J.children||W1.empty(),z=X&&q!==0&&!G.collapsed,H=0,j=1;for(let V of U){let W=this.createTreeNode(V,G,q,z,Y,Z);if(G.children.push(W),j+=W.renderNodeCount,W.visible)W.visibleChildIndex=H++}if(G.collapsible=G.collapsible||G.children.length>0,G.visibleChildrenCount=H,G.visible=q===2?H>0:q===1,!G.visible){if(G.renderNodeCount=0,X)Y.pop()}else if(!G.collapsed)G.renderNodeCount=j;return Z===null||Z===void 0||Z(G),G}updateNodeAfterCollapseChange(J){let $=J.renderNodeCount,Q=[];return this._updateNodeAfterCollapseChange(J,Q),this._updateAncestorsRenderNodeCount(J.parent,Q.length-$),Q}_updateNodeAfterCollapseChange(J,$){if(J.visible===!1)return 0;if($.push(J),J.renderNodeCount=1,!J.collapsed)for(let Q of J.children)J.renderNodeCount+=this._updateNodeAfterCollapseChange(Q,$);return this._onDidChangeRenderNodeCount.fire(J),J.renderNodeCount}updateNodeAfterFilterChange(J){let $=J.renderNodeCount,Q=[];return this._updateNodeAfterFilterChange(J,J.visible?1:0,Q),this._updateAncestorsRenderNodeCount(J.parent,Q.length-$),Q}_updateNodeAfterFilterChange(J,$,Q,X=!0){let Y;if(J!==this.root){if(Y=this._filterNode(J,$),Y===0)return J.visible=!1,J.renderNodeCount=0,!1;if(X)Q.push(J)}let Z=Q.length;J.renderNodeCount=J===this.root?0:1;let G=!1;if(!J.collapsed||Y!==0){let q=0;for(let U of J.children)if(G=this._updateNodeAfterFilterChange(U,Y,Q,X&&!J.collapsed)||G,U.visible)U.visibleChildIndex=q++;J.visibleChildrenCount=q}else J.visibleChildrenCount=0;if(J!==this.root)J.visible=Y===2?G:Y===1,J.visibility=Y;if(!J.visible){if(J.renderNodeCount=0,X)Q.pop()}else if(!J.collapsed)J.renderNodeCount+=Q.length-Z;return this._onDidChangeRenderNodeCount.fire(J),J.visible}_updateAncestorsRenderNodeCount(J,$){if($===0)return;while(J)J.renderNodeCount+=$,this._onDidChangeRenderNodeCount.fire(J),J=J.parent}_filterNode(J,$){let Q=this.filter?this.filter.filter(J.element,$):1;if(typeof Q==="boolean")return J.filterData=void 0,Q?1:0;else if(aj(Q))return J.filterData=Q.data,UG(Q.visibility);else return J.filterData=void 0,UG(Q)}hasTreeNode(J,$=this.root){if(!J||J.length===0)return!0;let[Q,...X]=J;if(Q<0||Q>$.children.length)return!1;return this.hasTreeNode(X,$.children[Q])}getTreeNode(J,$=this.root){if(!J||J.length===0)return $;let[Q,...X]=J;if(Q<0||Q>$.children.length)throw new w8(this.user,"Invalid tree location");return this.getTreeNode(X,$.children[Q])}getTreeNodeWithListIndex(J){if(J.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:$,listIndex:Q,revealed:X,visible:Y}=this.getParentNodeWithListIndex(J),Z=J[J.length-1];if(Z<0||Z>$.children.length)throw new w8(this.user,"Invalid tree location");let G=$.children[Z];return{node:G,listIndex:Q,revealed:X,visible:Y&&G.visible}}getParentNodeWithListIndex(J,$=this.root,Q=0,X=!0,Y=!0){let[Z,...G]=J;if(Z<0||Z>$.children.length)throw new w8(this.user,"Invalid tree location");for(let q=0;q<Z;q++)Q+=$.children[q].renderNodeCount;if(X=X&&!$.collapsed,Y=Y&&$.visible,G.length===0)return{parentNode:$,listIndex:Q,revealed:X,visible:Y};return this.getParentNodeWithListIndex(G,$.children[Z],Q+1,X,Y)}getNode(J=[]){return this.getTreeNode(J)}getNodeLocation(J){let $=[],Q=J;while(Q.parent)$.push(Q.parent.children.indexOf(Q)),Q=Q.parent;return $.reverse()}getParentNodeLocation(J){if(J.length===0)return;else if(J.length===1)return[];else return kx(J)[0]}getFirstElementChild(J){let $=this.getTreeNode(J);if($.children.length===0)return;return $.children[0].element}}var aP=N(()=>{o3();U1();u1();dM();gF();F0();N9()});var aa=N(()=>{j0(".monaco-tl-row{align-items:center;height:100%;display:flex;position:relative}.monaco-tl-row.disabled{cursor:default}.monaco-tl-indent{pointer-events:none;height:100%;position:absolute;top:0;left:16px}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{box-sizing:border-box;border-left:1px solid #0000;height:100%;display:inline-block}.monaco-workbench:not(.reduce-motion) .monaco-tl-indent>.indent-guide{transition:border-color .1s linear}.monaco-tl-twistie,.monaco-tl-contents{height:100%}.monaco-tl-twistie{text-align:right;flex-shrink:0;justify-content:center;align-items:center;width:16px;padding-right:6px;font-size:10px;transform:translate(3px);display:flex!important}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:1.25s steps(30,end) infinite codicon-spin}.monaco-tree-type-filter{z-index:100;border:1px solid var(--vscode-widget-border);border-bottom-right-radius:4px;border-bottom-left-radius:4px;max-width:200px;margin:0 6px;padding:3px;display:flex;position:absolute;top:0}.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter{transition:top .3s}.monaco-tree-type-filter.disabled{top:-40px!important}.monaco-tree-type-filter-grab{cursor:grab;justify-content:center;align-items:center;margin-right:2px;display:flex!important}.monaco-tree-type-filter-grab.grabbing{cursor:grabbing}.monaco-tree-type-filter-input{flex:1}.monaco-tree-type-filter-input .monaco-inputbox{height:23px}.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.input,.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.mirror{padding:2px 4px}.monaco-tree-type-filter-input .monaco-findInput>.controls{top:2px}.monaco-tree-type-filter-actionbar{margin-left:4px}.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label{padding:2px}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container{z-index:13;background-color:var(--vscode-sideBar-background);width:100%;height:0;position:absolute;top:0;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row.monaco-list-row{background-color:var(--vscode-sideBar-background);width:100%;position:absolute;overflow:hidden;opacity:1!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row:hover{cursor:pointer;background-color:var(--vscode-list-hoverBackground)!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty,.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty .monaco-tree-sticky-container-shadow{display:none}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;width:100%;height:3px;position:absolute;bottom:-3px;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container[tabindex=\"0\"]:focus{outline:none}")});function PE(J){if(J instanceof pY)return new ia(J);return J}class na{constructor(J,$){this.modelProvider=J,this.dnd=$,this.autoExpandDisposable=h.None,this.disposables=new r}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((Q)=>Q.element),$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,PE(J),$)}onDragOver(J,$,Q,X,Y,Z=!0){let G=this.dnd.onDragOver(PE(J),$&&$.element,Q,X,Y),q=this.autoExpandNode!==$;if(q)this.autoExpandDisposable.dispose(),this.autoExpandNode=$;if(typeof $==="undefined")return G;if(q&&typeof G!=="boolean"&&G.autoExpand)this.autoExpandDisposable=aX(()=>{let V=this.modelProvider(),W=V.getNodeLocation($);if(V.isCollapsed(W))V.setCollapsed(W,!1);this.autoExpandNode=void 0},500,this.disposables);if(typeof G==="boolean"||!G.accept||typeof G.bubble==="undefined"||G.feedback){if(!Z){let V=typeof G==="boolean"?G:G.accept,W=typeof G==="boolean"?void 0:G.effect;return{accept:V,effect:W,feedback:[Q]}}return G}if(G.bubble===1){let V=this.modelProvider(),W=V.getNodeLocation($),B=V.getParentNodeLocation(W),K=V.getNode(B),P=B&&V.getListIndex(B);return this.onDragOver(J,K,P,X,Y,!1)}let U=this.modelProvider(),z=U.getNodeLocation($),H=U.getListIndex(z),j=U.getListRenderCount(z);return{...G,feedback:w5(H,H+j)}}drop(J,$,Q,X,Y){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(PE(J),$&&$.element,Q,X,Y)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function c40(J,$){return $&&{...$,identityProvider:$.identityProvider&&{getId(Q){return $.identityProvider.getId(Q.element)}},dnd:$.dnd&&new na(J,$.dnd),multipleSelectionController:$.multipleSelectionController&&{isSelectionSingleChangeEvent(Q){return $.multipleSelectionController.isSelectionSingleChangeEvent({...Q,element:Q.element})},isSelectionRangeChangeEvent(Q){return $.multipleSelectionController.isSelectionRangeChangeEvent({...Q,element:Q.element})}},accessibilityProvider:$.accessibilityProvider&&{...$.accessibilityProvider,getSetSize(Q){let X=J(),Y=X.getNodeLocation(Q),Z=X.getParentNodeLocation(Y);return X.getNode(Z).visibleChildrenCount},getPosInSet(Q){return Q.visibleChildIndex+1},isChecked:$.accessibilityProvider&&$.accessibilityProvider.isChecked?(Q)=>{return $.accessibilityProvider.isChecked(Q.element)}:void 0,getRole:$.accessibilityProvider&&$.accessibilityProvider.getRole?(Q)=>{return $.accessibilityProvider.getRole(Q.element)}:()=>"treeitem",getAriaLabel(Q){return $.accessibilityProvider.getAriaLabel(Q.element)},getWidgetAriaLabel(){return $.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:$.accessibilityProvider&&$.accessibilityProvider.getWidgetRole?()=>$.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$.accessibilityProvider&&$.accessibilityProvider.getAriaLevel?(Q)=>$.accessibilityProvider.getAriaLevel(Q.element):(Q)=>{return Q.depth},getActiveDescendantId:$.accessibilityProvider.getActiveDescendantId&&((Q)=>{return $.accessibilityProvider.getActiveDescendantId(Q.element)})},keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(Q){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q.element)}}}}class nj{constructor(J){this.delegate=J}getHeight(J){return this.delegate.getHeight(J.element)}getTemplateId(J){return this.delegate.getTemplateId(J.element)}hasDynamicHeight(J){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(J.element)}setDynamicHeight(J,$){var Q,X;(X=(Q=this.delegate).setDynamicHeight)===null||X===void 0||X.call(Q,J.element,$)}}class oa{get elements(){return this._elements}constructor(J,$=[]){this._elements=$,this.disposables=new r,this.onDidChange=J0.forEach(J,(Q)=>this._elements=Q,this.disposables)}dispose(){this.disposables.dispose()}}class ij{constructor(J,$,Q,X,Y,Z={}){var G;this.renderer=J,this.modelProvider=$,this.activeNodes=X,this.renderedIndentGuides=Y,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ij.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=h.None,this.disposables=new r,this.templateId=J.templateId,this.updateOptions(Z),J0.map(Q,(q)=>q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(G=J.onDidChangeTwistieState)===null||G===void 0||G.call(J,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(J={}){if(typeof J.indent!=="undefined"){let $=r5(J.indent,0,40);if($!==this.indent){this.indent=$;for(let[Q,X]of this.renderedNodes)this.renderTreeElement(Q,X)}}if(typeof J.renderIndentGuides!=="undefined"){let $=J.renderIndentGuides!==rj.None;if($!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=$;for(let[Q,X]of this.renderedNodes)this._renderIndentGuides(Q,X);if(this.indentGuidesDisposable.dispose(),$){let Q=new r;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Q),this.indentGuidesDisposable=Q,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}if(typeof J.hideTwistiesOfChildlessElements!=="undefined")this.hideTwistiesOfChildlessElements=J.hideTwistiesOfChildlessElements}renderTemplate(J){let $=Z0(J,q0(".monaco-tl-row")),Q=Z0($,q0(".monaco-tl-indent")),X=Z0($,q0(".monaco-tl-twistie")),Y=Z0($,q0(".monaco-tl-contents")),Z=this.renderer.renderTemplate(Y);return{container:J,indent:Q,twistie:X,indentGuidesDisposable:h.None,templateData:Z}}renderElement(J,$,Q,X){this.renderedNodes.set(J,Q),this.renderedElements.set(J.element,J),this.renderTreeElement(J,Q),this.renderer.renderElement(J,$,Q.templateData,X)}disposeElement(J,$,Q,X){var Y,Z;if(Q.indentGuidesDisposable.dispose(),(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,J,$,Q.templateData,X),typeof X==="number")this.renderedNodes.delete(J),this.renderedElements.delete(J.element)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}onDidChangeTwistieState(J){let $=this.renderedElements.get(J);if(!$)return;this.onDidChangeNodeTwistieState($)}onDidChangeNodeTwistieState(J){let $=this.renderedNodes.get(J);if(!$)return;this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(J,$)}renderTreeElement(J,$){let Q=ij.DefaultIndent+(J.depth-1)*this.indent;if($.twistie.style.paddingLeft=`${Q}px`,$.indent.style.width=`${Q+this.indent-16}px`,J.collapsible)$.container.setAttribute("aria-expanded",String(!J.collapsed));else $.container.removeAttribute("aria-expanded");$.twistie.classList.remove(...b0.asClassNameArray(U0.treeItemExpanded));let X=!1;if(this.renderer.renderTwistie)X=this.renderer.renderTwistie(J.element,$.twistie);if(J.collapsible&&(!this.hideTwistiesOfChildlessElements||J.visibleChildrenCount>0)){if(!X)$.twistie.classList.add(...b0.asClassNameArray(U0.treeItemExpanded));$.twistie.classList.add("collapsible"),$.twistie.classList.toggle("collapsed",J.collapsed)}else $.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(J,$)}_renderIndentGuides(J,$){if(I5($.indent),$.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let Q=new r,X=this.modelProvider();while(!0){let Y=X.getNodeLocation(J),Z=X.getParentNodeLocation(Y);if(!Z)break;let G=X.getNode(Z),q=q0(".indent-guide",{style:`width: ${this.indent}px`});if(this.activeIndentNodes.has(G))q.classList.add("active");if($.indent.childElementCount===0)$.indent.appendChild(q);else $.indent.insertBefore(q,$.indent.firstElementChild);this.renderedIndentGuides.add(G,q),Q.add(K0(()=>this.renderedIndentGuides.delete(G,q))),J=G}$.indentGuidesDisposable=Q}_onDidChangeActiveNodes(J){if(!this.shouldRenderIndentGuides)return;let $=new Set,Q=this.modelProvider();J.forEach((X)=>{let Y=Q.getNodeLocation(X);try{let Z=Q.getParentNodeLocation(Y);if(X.collapsible&&X.children.length>0&&!X.collapsed)$.add(X);else if(Z)$.add(Q.getNode(Z))}catch(Z){}}),this.activeIndentNodes.forEach((X)=>{if(!$.has(X))this.renderedIndentGuides.forEach(X,(Y)=>Y.classList.remove("active"))}),$.forEach((X)=>{if(!this.activeIndentNodes.has(X))this.renderedIndentGuides.forEach(X,(Y)=>Y.classList.add("active"))}),this.activeIndentNodes=$}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),k1(this.disposables)}}class ta{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(J,$,Q){this.tree=J,this.keyboardNavigationLabelProvider=$,this._filter=Q,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new r,J.onWillRefilter(this.reset,this,this.disposables)}filter(J,$){let Q=1;if(this._filter){let Z=this._filter.filter(J,$);if(typeof Z==="boolean")Q=Z?1:0;else if(aj(Z))Q=UG(Z.visibility);else Q=Z;if(Q===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:v4.Default,visibility:Q};let X=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(J),Y=Array.isArray(X)?X:[X];for(let Z of Y){let G=Z&&Z.toString();if(typeof G==="undefined")return{data:v4.Default,visibility:Q};let q;if(this.tree.findMatchType===uY.Contiguous){let U=G.toLowerCase().indexOf(this._lowercasePattern);if(U>-1){q=[Number.MAX_SAFE_INTEGER,0];for(let z=this._lowercasePattern.length;z>0;z--)q.push(U+z-1)}}else q=CY(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return this._matchCount++,Y.length===1?{data:q,visibility:Q}:{data:{label:G,score:q},visibility:Q}}if(this.tree.findMode===n$.Filter)if(typeof this.tree.options.defaultFindVisibility==="number")return this.tree.options.defaultFindVisibility;else if(this.tree.options.defaultFindVisibility)return this.tree.options.defaultFindVisibility(J);else return 2;else return{data:v4.Default,visibility:Q}}reset(){this._totalCount=0,this._matchCount=0}dispose(){k1(this.disposables)}}class ea{get pattern(){return this._pattern}get mode(){return this._mode}set mode(J){if(J===this._mode)return;if(this._mode=J,this.widget)this.widget.mode=this._mode;this.tree.refilter(),this.render(),this._onDidChangeMode.fire(J)}get matchType(){return this._matchType}set matchType(J){if(J===this._matchType)return;if(this._matchType=J,this.widget)this.widget.matchType=this._matchType;this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(J)}constructor(J,$,Q,X,Y,Z={}){var G,q;this.tree=J,this.view=Q,this.filter=X,this.contextViewProvider=Y,this.options=Z,this._pattern="",this.width=0,this._onDidChangeMode=new y,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new y,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new y,this._onDidChangeOpenState=new y,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new r,this.disposables=new r,this._mode=(G=J.options.defaultFindMode)!==null&&G!==void 0?G:n$.Highlight,this._matchType=(q=J.options.defaultFindMatchType)!==null&&q!==void 0?q:uY.Fuzzy,$.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(J={}){if(J.defaultFindMode!==void 0)this.mode=J.defaultFindMode;if(J.defaultFindMatchType!==void 0)this.matchType=J.defaultFindMatchType}onDidSpliceModel(){if(!this.widget||this.pattern.length===0)return;this.tree.refilter(),this.render()}render(){var J,$,Q,X;let Y=this.filter.totalCount>0&&this.filter.matchCount===0;if(this.pattern&&Y)if((J=this.tree.options.showNotFoundMessage)!==null&&J!==void 0?J:!0)($=this.widget)===null||$===void 0||$.showMessage({type:2,content:F("not found","No elements found.")});else(Q=this.widget)===null||Q===void 0||Q.showMessage({type:2});else(X=this.widget)===null||X===void 0||X.clearMessage()}shouldAllowFocus(J){if(!this.widget||!this.pattern)return!0;if(this.filter.totalCount>0&&this.filter.matchCount<=1)return!0;return!v4.isDefault(J.filterData)}layout(J){var $;this.width=J,($=this.widget)===null||$===void 0||$.layout(J)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function l40(J,$){return J.position===$.position&&Jr(J,$)}function Jr(J,$){return J.node.element===$.node.element&&J.startIndex===$.startIndex&&J.height===$.height&&J.endIndex===$.endIndex}class $r{constructor(J=[]){this.stickyNodes=J}get count(){return this.stickyNodes.length}equal(J){return Q6(this.stickyNodes,J.stickyNodes,l40)}lastNodePartiallyVisible(){if(this.count===0)return!1;let J=this.stickyNodes[this.count-1];if(this.count===1)return J.position!==0;let $=this.stickyNodes[this.count-2];return $.position+$.height!==J.position}animationStateChanged(J){if(!Q6(this.stickyNodes,J.stickyNodes,Jr))return!1;if(this.count===0)return!1;let $=this.stickyNodes[this.count-1],Q=J.stickyNodes[J.count-1];return $.position!==Q.position}}class Qr{constrainStickyScrollNodes(J,$,Q){for(let X=0;X<J.length;X++){let Y=J[X];if(Y.position+Y.height>Q||X>=$)return J.slice(0,X)}return J}}class Xr{constructor(J,$,Q,X,Y,Z){this.view=$,this.tree=Q,this.treeRenderers=X,this.treeDelegate=Y,this.accessibilityProvider=Z,this._previousElements=[],this._previousStateDisposables=new r,this._rootDomNode=q0(".monaco-tree-sticky-container.empty"),J.appendChild(this._rootDomNode);let G=q0(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(G),this.stickyScrollFocus=new Yr(this._rootDomNode,$),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(J){let $=!!this._previousState&&this._previousState.count>0,Q=!!J&&J.count>0;if(!$&&!Q||$&&Q&&this._previousState.equal(J))return;if($!==Q)this.setVisible(Q);if(!Q){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}let X=J.stickyNodes[J.count-1];if(this._previousState&&J.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${X.position}px`;else{this._previousStateDisposables.clear();let Y=Array(J.count);for(let Z=J.count-1;Z>=0;Z--){let G=J.stickyNodes[Z],{element:q,disposable:U}=this.createElement(G,Z,J.count);Y[Z]=q,this._rootDomNode.appendChild(q),this._previousStateDisposables.add(U)}this.stickyScrollFocus.updateElements(Y,J),this._previousElements=Y}this._previousState=J,this._rootDomNode.style.height=`${X.position+X.height}px`}createElement(J,$,Q){let X=J.startIndex,Y=document.createElement("div");Y.style.top=`${J.position}px`,Y.style.height=`${J.height}px`,Y.style.lineHeight=`${J.height}px`,Y.classList.add("monaco-tree-sticky-row"),Y.classList.add("monaco-list-row"),Y.setAttribute("data-index",`${X}`),Y.setAttribute("data-parity",X%2===0?"even":"odd"),Y.setAttribute("id",this.view.getElementID(X)),this.setAccessibilityAttributes(Y,J.node.element,$,Q);let Z=this.treeDelegate.getTemplateId(J.node),G=this.treeRenderers.find((H)=>H.templateId===Z);if(!G)throw new Error(`No renderer found for template id ${Z}`);let q=J.node;if(q===this.tree.getNode(this.tree.getNodeLocation(J.node)))q=new Proxy(J.node,{});let U=G.renderTemplate(Y);G.renderElement(q,J.startIndex,U,J.height);let z=K0(()=>{G.disposeElement(q,J.startIndex,U,J.height),G.disposeTemplate(U),Y.remove()});return{element:Y,disposable:z}}setAccessibilityAttributes(J,$,Q,X){var Y;if(!this.accessibilityProvider)return;if(this.accessibilityProvider.getSetSize)J.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($,Q,X)));if(this.accessibilityProvider.getPosInSet)J.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($,Q)));if(this.accessibilityProvider.getRole)J.setAttribute("role",(Y=this.accessibilityProvider.getRole($))!==null&&Y!==void 0?Y:"treeitem");let Z=this.accessibilityProvider.getAriaLabel($);if(Z)J.setAttribute("aria-label",Z);let G=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel($);if(typeof G==="number")J.setAttribute("aria-level",`${G}`);J.setAttribute("aria-selected",String(!1))}setVisible(J){if(this._rootDomNode.classList.toggle("empty",!J),!J)this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}function ra(J){let $=mY.Unknown;if(MF(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row"))$=mY.Twistie;else if(MF(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row"))$=mY.Element;else if(MF(J.browserEvent.target,"monaco-tree-type-filter","monaco-list"))$=mY.Filter;return{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:$}}function rP(J,$){$(J),J.children.forEach((Q)=>rP(Q,$))}class iP{get nodeSet(){if(!this._nodeSet)this._nodeSet=this.createNodeSet();return this._nodeSet}constructor(J,$){this.getFirstViewElementWithTrait=J,this.identityProvider=$,this.nodes=[],this._onDidChange=new y,this.onDidChange=this._onDidChange.event}set(J,$){if(!($===null||$===void 0?void 0:$.__forceEvent)&&Q6(this.nodes,J))return;this._set(J,!1,$)}_set(J,$,Q){if(this.nodes=[...J],this.elements=void 0,this._nodeSet=void 0,!$){let X=this;this._onDidChange.fire({get elements(){return X.get()},browserEvent:Q})}}get(){if(!this.elements)this.elements=this.nodes.map((J)=>J.element);return[...this.elements]}getNodes(){return this.nodes}has(J){return this.nodeSet.has(J)}onDidModelSplice({insertedNodes:J,deletedNodes:$}){if(!this.identityProvider){let q=this.createNodeSet(),U=(z)=>q.delete(z);$.forEach((z)=>rP(z,U)),this.set([...q.values()]);return}let Q=new Set,X=(q)=>Q.add(this.identityProvider.getId(q.element).toString());$.forEach((q)=>rP(q,X));let Y=new Map,Z=(q)=>Y.set(this.identityProvider.getId(q.element).toString(),q);J.forEach((q)=>rP(q,Z));let G=[];for(let q of this.nodes){let U=this.identityProvider.getId(q.element).toString();if(!Q.has(U))G.push(q);else{let H=Y.get(U);if(H&&H.visible)G.push(H)}}if(this.nodes.length>0&&G.length===0){let q=this.getFirstViewElementWithTrait();if(q)G.push(q)}this._set(G,!0)}createNodeSet(){let J=new Set;for(let $ of this.nodes)J.add($);return J}}class oj{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return J0.filter(J0.map(this.view.onMouseDblClick,ra),(J)=>J.target!==mY.Filter)}get onPointer(){return J0.map(this.view.onPointer,ra)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return J0.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.mode)!==null&&$!==void 0?$:n$.Highlight}set findMode(J){if(this.findController)this.findController.mode=J}get findMatchType(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.matchType)!==null&&$!==void 0?$:uY.Fuzzy}set findMatchType(J){if(this.findController)this.findController.matchType=J}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick==="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick==="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(J,$,Q,X,Y={}){var Z;this._user=J,this._options=Y,this.eventBufferer=new EZ,this.onDidChangeFindOpenState=J0.None,this.onDidChangeStickyScrollFocused=J0.None,this.disposables=new r,this._onWillRefilter=new y,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new y,this.treeDelegate=new nj(Q);let G=new xW,q=new xW,U=this.disposables.add(new oa(q.event)),z=new sz;this.renderers=X.map((B)=>new ij(B,()=>this.model,G.event,U,z,Y));for(let B of this.renderers)this.disposables.add(B);let H;if(Y.keyboardNavigationLabelProvider)H=new ta(this,Y.keyboardNavigationLabelProvider,Y.filter),Y={...Y,filter:H},this.disposables.add(H);this.focus=new iP(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new iP(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new iP(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new Gr(J,$,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...c40(()=>this.model,Y),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(J,this.view,Y),G.input=this.model.onDidChangeCollapseState;let j=J0.forEach(this.model.onDidSplice,(B)=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})},this.disposables);j(()=>null,null,this.disposables);let V=this.disposables.add(new y),W=this.disposables.add(new R4(0));if(this.disposables.add(J0.any(j,this.focus.onDidChange,this.selection.onDidChange)(()=>{W.trigger(()=>{let B=new Set;for(let K of this.focus.getNodes())B.add(K);for(let K of this.selection.getNodes())B.add(K);V.fire([...B.values()])})})),q.input=V.event,Y.keyboardSupport!==!1){let B=J0.chain(this.view.onKeyDown,(K)=>K.filter((P)=>!_X(P.target)).map((P)=>new K1(P)));J0.chain(B,(K)=>K.filter((P)=>P.keyCode===15))(this.onLeftArrow,this,this.disposables),J0.chain(B,(K)=>K.filter((P)=>P.keyCode===17))(this.onRightArrow,this,this.disposables),J0.chain(B,(K)=>K.filter((P)=>P.keyCode===10))(this.onSpace,this,this.disposables)}if(((Z=Y.findWidgetEnabled)!==null&&Z!==void 0?Z:!0)&&Y.keyboardNavigationLabelProvider&&Y.contextViewProvider){let B=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new ea(this,this.model,this.view,H,Y.contextViewProvider,B),this.focusNavigationFilter=(K)=>this.findController.shouldAllowFocus(K),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=J0.None,this.onDidChangeFindMatchType=J0.None;if(Y.enableStickyScroll)this.stickyScrollController=new DE(this,this.model,this.view,this.renderers,this.treeDelegate,Y),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;this.styleElement=D5(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===rj.Always)}updateOptions(J={}){var $;this._options={...this._options,...J};for(let Q of this.renderers)Q.updateOptions(J);this.view.updateOptions(this._options),($=this.findController)===null||$===void 0||$.updateOptions(J),this.updateStickyScroll(J),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===rj.Always)}get options(){return this._options}updateStickyScroll(J){var $;if(!this.stickyScrollController&&this._options.enableStickyScroll)this.stickyScrollController=new DE(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;else if(this.stickyScrollController&&!this._options.enableStickyScroll)this.onDidChangeStickyScrollFocused=J0.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0;($=this.stickyScrollController)===null||$===void 0||$.updateOptions(J)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(J){this.view.scrollTop=J}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var J;if((J=this.stickyScrollController)===null||J===void 0?void 0:J.focusedLast())this.stickyScrollController.domFocus();else this.view.domFocus()}layout(J,$){var Q;if(this.view.layout(J,$),e7($))(Q=this.findController)===null||Q===void 0||Q.layout($)}style(J){var $;let Q=`.${this.view.domId}`,X=[];if(J.treeIndentGuidesStroke)X.push(`.monaco-list${Q}:hover .monaco-tl-indent > .indent-guide, .monaco-list${Q}.always .monaco-tl-indent > .indent-guide  { border-color: ${J.treeInactiveIndentGuidesStroke}; }`),X.push(`.monaco-list${Q} .monaco-tl-indent > .indent-guide.active { border-color: ${J.treeIndentGuidesStroke}; }`);if(J.listBackground)X.push(`.monaco-list${Q} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${J.listBackground}; }`),X.push(`.monaco-list${Q} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${J.listBackground}; }`);if(J.listFocusForeground)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`);let Y=I9(J.listFocusAndSelectionOutline,I9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Y)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${Y}; outline-offset: -1px;}`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`);if(J.listFocusOutline)X.push(`.monaco-list${Q}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }`),X.push(`.monaco-list${Q}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),X.push(`.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`);this.styleElement.textContent=X.join(`
`),this.view.style(J)}getParentElement(J){let $=this.model.getParentNodeLocation(J);return this.model.getNode($).element}getFirstElementChild(J){return this.model.getFirstElementChild(J)}getNode(J){return this.model.getNode(J)}getNodeLocation(J){return this.model.getNodeLocation(J)}collapse(J,$=!1){return this.model.setCollapsed(J,!0,$)}expand(J,$=!1){return this.model.setCollapsed(J,!1,$)}toggleCollapsed(J,$=!1){return this.model.setCollapsed(J,void 0,$)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(J,$){this.eventBufferer.bufferEvents(()=>{let Q=J.map((Y)=>this.model.getNode(Y));this.selection.set(Q,$);let X=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setSelection(X,$,!0)})}getSelection(){return this.selection.get()}setFocus(J,$){this.eventBufferer.bufferEvents(()=>{let Q=J.map((Y)=>this.model.getNode(Y));this.focus.set(Q,$);let X=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setFocus(X,$,!0)})}getFocus(){return this.focus.get()}reveal(J,$){this.model.expandTo(J);let Q=this.model.getListIndex(J);if(Q===-1)return;if(!this.stickyScrollController)this.view.reveal(Q,$);else{let X=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(J));this.view.reveal(Q,$,X)}}onLeftArrow(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(X,!0)){let Z=this.model.getParentNodeLocation(X);if(!Z)return;let G=this.model.getListIndex(Z);this.view.reveal(G),this.view.setFocus([G])}}onRightArrow(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q);if(!this.model.setCollapsed(X,!1)){if(!Q.children.some((q)=>q.visible))return;let[Z]=this.view.getFocus(),G=Z+1;this.view.reveal(G),this.view.setFocus([G])}}onSpace(J){J.preventDefault(),J.stopPropagation();let $=this.view.getFocusedElements();if($.length===0)return;let Q=$[0],X=this.model.getNodeLocation(Q),Y=J.browserEvent.altKey;this.model.setCollapsed(X,void 0,Y)}dispose(){var J;k1(this.disposables),(J=this.stickyScrollController)===null||J===void 0||J.dispose(),this.view.dispose()}}var ia,rj,n$,uY,DE,Yr,Zr,Gr;var tj=N(()=>{D0();NJ();R8();r$();sP();dP();LP();e2();lj();aP();o3();t8();U1();u1();U5();H5();jJ();F0();vY();Q0();aa();g0();ia=class ia extends pY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}};(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(rj||(rj={}));ij.DefaultIndent=8;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(n$||(n$={}));(function(J){J[J.Fuzzy=0]="Fuzzy",J[J.Contiguous=1]="Contiguous"})(uY||(uY={}));DE=class DE extends h{constructor(J,$,Q,X,Y,Z={}){var G;super();this.tree=J,this.model=$,this.view=Q,this.treeDelegate=Y,this.maxWidgetViewRatio=0.4;let q=this.validateStickySettings(Z);this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.stickyScrollDelegate=(G=Z.stickyScrollDelegate)!==null&&G!==void 0?G:new Qr,this._widget=this._register(new Xr(Q.getScrollableElement(),Q,J,X,Y,Z.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(Q.onDidScroll(()=>this.update())),this._register(Q.onDidChangeContentHeight(()=>this.update())),this._register(J.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(J){let $;if(J===0)$=this.view.firstVisibleIndex;else $=this.view.indexAt(J+this.view.scrollTop);if($<0||$>=this.view.length)return;return this.view.element($)}update(){let J=this.getNodeAtHeight(0);if(!J||this.tree.scrollTop===0){this._widget.setState(void 0);return}let $=this.findStickyState(J);this._widget.setState($)}findStickyState(J){let $=[],Q=J,X=0,Y=this.getNextStickyNode(Q,void 0,X);while(Y){if($.push(Y),X+=Y.height,$.length<=this.stickyScrollMaxItemCount){if(Q=this.getNextVisibleNode(Y),!Q)break}Y=this.getNextStickyNode(Q,Y.node,X)}let Z=this.constrainStickyNodes($);return Z.length?new $r(Z):void 0}getNextVisibleNode(J){return this.getNodeAtHeight(J.position+J.height)}getNextStickyNode(J,$,Q){let X=this.getAncestorUnderPrevious(J,$);if(!X)return;if(X===J){if(!this.nodeIsUncollapsedParent(J))return;if(this.nodeTopAlignsWithStickyNodesBottom(J,Q))return}return this.createStickyScrollNode(X,Q)}nodeTopAlignsWithStickyNodesBottom(J,$){let Q=this.getNodeIndex(J),X=this.view.getElementTop(Q),Y=$;return this.view.scrollTop===X-Y}createStickyScrollNode(J,$){let Q=this.treeDelegate.getHeight(J),{startIndex:X,endIndex:Y}=this.getNodeRange(J),Z=this.calculateStickyNodePosition(Y,$,Q);return{node:J,position:Z,height:Q,startIndex:X,endIndex:Y}}getAncestorUnderPrevious(J,$=void 0){let Q=J,X=this.getParentNode(Q);while(X){if(X===$)return Q;Q=X,X=this.getParentNode(Q)}if($===void 0)return Q;return}calculateStickyNodePosition(J,$,Q){let X=this.view.getRelativeTop(J);if(X===null&&this.view.firstVisibleIndex===J&&J+1<this.view.length){let U=this.treeDelegate.getHeight(this.view.element(J)),z=this.view.getRelativeTop(J+1);X=z?z-U/this.view.renderHeight:null}if(X===null)return $;let Y=this.view.element(J),Z=this.treeDelegate.getHeight(Y),q=X*this.view.renderHeight+Z;if($+Q>q&&$<=q)return q-Q;return $}constrainStickyNodes(J){if(J.length===0)return[];let $=this.view.renderHeight*this.maxWidgetViewRatio,Q=J[J.length-1];if(J.length<=this.stickyScrollMaxItemCount&&Q.position+Q.height<=$)return J;let X=this.stickyScrollDelegate.constrainStickyScrollNodes(J,this.stickyScrollMaxItemCount,$);if(!X.length)return[];let Y=X[X.length-1];if(X.length>this.stickyScrollMaxItemCount||Y.position+Y.height>$)throw new Error("stickyScrollDelegate violates constraints");return X}getParentNode(J){let $=this.model.getNodeLocation(J),Q=this.model.getParentNodeLocation($);return Q?this.model.getNode(Q):void 0}nodeIsUncollapsedParent(J){let $=this.model.getNodeLocation(J);return this.model.getListRenderCount($)>1}getNodeIndex(J){let $=this.model.getNodeLocation(J);return this.model.getListIndex($)}getNodeRange(J){let $=this.model.getNodeLocation(J),Q=this.model.getListIndex($);if(Q<0)throw new Error("Node not found in tree");let X=this.model.getListRenderCount($),Y=Q+X-1;return{startIndex:Q,endIndex:Y}}nodePositionTopBelowWidget(J){let $=[],Q=this.getParentNode(J);while(Q)$.push(Q),Q=this.getParentNode(Q);let X=0;for(let Y=0;Y<$.length&&Y<this.stickyScrollMaxItemCount;Y++)X+=this.treeDelegate.getHeight($[Y]);return X}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(J={}){if(!J.stickyScrollMaxItemCount)return;let $=this.validateStickySettings(J);if(this.stickyScrollMaxItemCount!==$.stickyScrollMaxItemCount)this.stickyScrollMaxItemCount=$.stickyScrollMaxItemCount,this.update()}validateStickySettings(J){let $=7;if(typeof J.stickyScrollMaxItemCount==="number")$=Math.max(J.stickyScrollMaxItemCount,1);return{stickyScrollMaxItemCount:$}}};Yr=class Yr extends h{get domHasFocus(){return this._domHasFocus}set domHasFocus(J){if(J!==this._domHasFocus)this._onDidChangeHasFocus.fire(J),this._domHasFocus=J}constructor(J,$){super();this.container=J,this.view=$,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new y,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new y,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown((Q)=>this.onKeyDown(Q))),this._register(this.view.onMouseDown((Q)=>this.onMouseDown(Q))),this._register(this.view.onContextMenu((Q)=>this.handleContextMenu(Q)))}handleContextMenu(J){let $=J.browserEvent.target;if(!Sj($)&&!g3($)){if(this.focusedLast())this.view.domFocus();return}if(!Gq(J.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");let Z=this.state.stickyNodes.findIndex((G)=>{var q;return G.node.element===((q=J.element)===null||q===void 0?void 0:q.element)});if(Z===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(Z);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");let X=this.state.stickyNodes[this.focusedIndex].node.element,Y=this.elements[this.focusedIndex];this._onContextMenu.fire({element:X,anchor:Y,browserEvent:J.browserEvent,isStickyScroll:!0})}onKeyDown(J){if(this.domHasFocus&&this.state){if(J.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),J.preventDefault(),J.stopPropagation();else if(J.key==="ArrowDown"||J.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){let $=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([$]),this.scrollNodeUnderWidget($,this.state)}else this.setFocusedElement(this.focusedIndex+1);J.preventDefault(),J.stopPropagation()}}}onMouseDown(J){let $=J.browserEvent.target;if(!Sj($)&&!g3($))return;J.browserEvent.preventDefault(),J.browserEvent.stopPropagation()}updateElements(J,$){if($&&$.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if($&&$.count!==J.length)throw new Error("Sticky scroll focus received illigel state");let Q=this.focusedIndex;if(this.removeFocus(),this.elements=J,this.state=$,$){let X=r5(Q,0,$.count-1);this.setFocus(X)}else if(this.domHasFocus)this.view.domFocus();this.container.tabIndex=$?0:-1}setFocusedElement(J){let $=this.state;if(!$)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(J),J<$.count-1)return;if($.lastNodePartiallyVisible()){let Q=$.stickyNodes[J];this.scrollNodeUnderWidget(Q.endIndex+1,$)}}scrollNodeUnderWidget(J,$){let Q=$.stickyNodes[$.count-1],X=$.count>1?$.stickyNodes[$.count-2]:void 0,Y=this.view.getElementTop(J),Z=X?X.position+X.height+Q.height:Q.height;this.view.scrollTop=Y-Z}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){if(!this.state)return!1;return this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){if(this.focusedIndex===-1)return;this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1}setFocus(J){if(0>J)throw new Error("addFocus() can not remove focus");if(!this.state&&J>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&J>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");let $=this.focusedIndex;if($>=0)this.toggleElementFocus(this.elements[$],!1);if(J>=0)this.toggleElementFocus(this.elements[J],!0);this.focusedIndex=J}toggleElementFocus(J,$){J.classList.toggle("focused",$)}toggleStickyScrollFocused(J){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",J)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");if(this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1)this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}};Zr=class Zr extends EP{constructor(J,$,Q){super(J);this.tree=$,this.stickyScrollProvider=Q}onViewPointer(J){if(hk(J.browserEvent.target)||_X(J.browserEvent.target)||h3(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;let $=J.element;if(!$)return super.onViewPointer(J);if(this.isSelectionRangeChangeEvent(J)||this.isSelectionSingleChangeEvent(J))return super.onViewPointer(J);let Q=J.browserEvent.target,X=Q.classList.contains("monaco-tl-twistie")||Q.classList.contains("monaco-icon-label")&&Q.classList.contains("folder-icon")&&J.browserEvent.offsetX<16,Y=g3(J.browserEvent.target),Z=!1;if(Y)Z=!0;else if(typeof this.tree.expandOnlyOnTwistieClick==="function")Z=this.tree.expandOnlyOnTwistieClick($.element);else Z=!!this.tree.expandOnlyOnTwistieClick;if(!Y){if(Z&&!X&&J.browserEvent.detail!==2)return super.onViewPointer(J);if(!this.tree.expandOnDoubleClick&&J.browserEvent.detail===2)return super.onViewPointer(J)}else this.handleStickyScrollMouseEvent(J,$);if($.collapsible&&(!Y||X)){let G=this.tree.getNodeLocation($),q=J.browserEvent.altKey;if(this.tree.setFocus([G]),this.tree.toggleCollapsed(G,q),Z&&X){J.browserEvent.isHandledByList=!0;return}}if(!Y)super.onViewPointer(J)}handleStickyScrollMouseEvent(J,$){if(Ss(J.browserEvent.target)||Cs(J.browserEvent.target))return;let Q=this.stickyScrollProvider();if(!Q)throw new Error("Sticky scroll controller not found");let X=this.list.indexOf($),Y=this.list.getElementTop(X),Z=Q.nodePositionTopBelowWidget($);this.tree.scrollTop=Y-Z,this.list.domFocus(),this.list.setFocus([X]),this.list.setSelection([X])}onDoubleClick(J){if(J.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick)return;if(J.browserEvent.isHandledByList)return;super.onDoubleClick(J)}onMouseDown(J){let $=J.browserEvent.target;if(!Sj($)&&!g3($)){super.onMouseDown(J);return}}onContextMenu(J){let $=J.browserEvent.target;if(!Sj($)&&!g3($)){super.onContextMenu(J);return}}};Gr=class Gr extends c8{constructor(J,$,Q,X,Y,Z,G,q){super(J,$,Q,X,q);this.focusTrait=Y,this.selectionTrait=Z,this.anchorTrait=G}createMouseController(J){return new Zr(this,J.tree,J.stickyScrollProvider)}splice(J,$,Q=[]){if(super.splice(J,$,Q),Q.length===0)return;let X=[],Y=[],Z;if(Q.forEach((G,q)=>{if(this.focusTrait.has(G))X.push(J+q);if(this.selectionTrait.has(G))Y.push(J+q);if(this.anchorTrait.has(G))Z=J+q}),X.length>0)super.setFocus(q4([...super.getFocus(),...X]));if(Y.length>0)super.setSelection(q4([...super.getSelection(),...Y]));if(typeof Z==="number")super.setAnchor(Z)}setFocus(J,$,Q=!1){if(super.setFocus(J,$),!Q)this.focusTrait.set(J.map((X)=>this.element(X)),$)}setSelection(J,$,Q=!1){if(super.setSelection(J,$),!Q)this.selectionTrait.set(J.map((X)=>this.element(X)),$)}setAnchor(J,$=!1){if(super.setAnchor(J),!$)if(typeof J==="undefined")this.anchorTrait.set([]);else this.anchorTrait.set([this.element(J)])}}});class zG{constructor(J,$,Q={}){if(this.user=J,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new AE(J,$,null,Q),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Q.sorter)this.sorter={compare(X,Y){return Q.sorter.compare(X.element,Y.element)}};this.identityProvider=Q.identityProvider}setChildren(J,$=W1.empty(),Q={}){let X=this.getElementLocation(J);this._setChildren(X,this.preserveCollapseState($),Q)}_setChildren(J,$=W1.empty(),Q){let X=new Set,Y=new Set,Z=(q)=>{var U;if(q.element===null)return;let z=q;if(X.add(z.element),this.nodes.set(z.element,z),this.identityProvider){let H=this.identityProvider.getId(z.element).toString();Y.add(H),this.nodesByIdentity.set(H,z)}(U=Q.onDidCreateNode)===null||U===void 0||U.call(Q,z)},G=(q)=>{var U;if(q.element===null)return;let z=q;if(!X.has(z.element))this.nodes.delete(z.element);if(this.identityProvider){let H=this.identityProvider.getId(z.element).toString();if(!Y.has(H))this.nodesByIdentity.delete(H)}(U=Q.onDidDeleteNode)===null||U===void 0||U.call(Q,z)};this.model.splice([...J,0],Number.MAX_VALUE,$,{...Q,onDidCreateNode:Z,onDidDeleteNode:G})}preserveCollapseState(J=W1.empty()){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return W1.map(J,($)=>{let Q=this.nodes.get($.element);if(!Q&&this.identityProvider){let Z=this.identityProvider.getId($.element).toString();Q=this.nodesByIdentity.get(Z)}if(!Q){let Z;if(typeof $.collapsed==="undefined")Z=void 0;else if($.collapsed===_7.Collapsed||$.collapsed===_7.PreserveOrCollapsed)Z=!0;else if($.collapsed===_7.Expanded||$.collapsed===_7.PreserveOrExpanded)Z=!1;else Z=Boolean($.collapsed);return{...$,children:this.preserveCollapseState($.children),collapsed:Z}}let X=typeof $.collapsible==="boolean"?$.collapsible:Q.collapsible,Y;if(typeof $.collapsed==="undefined"||$.collapsed===_7.PreserveOrCollapsed||$.collapsed===_7.PreserveOrExpanded)Y=Q.collapsed;else if($.collapsed===_7.Collapsed)Y=!0;else if($.collapsed===_7.Expanded)Y=!1;else Y=Boolean($.collapsed);return{...$,collapsible:X,collapsed:Y,children:this.preserveCollapseState($.children)}})}rerender(J){let $=this.getElementLocation(J);this.model.rerender($)}getFirstElementChild(J=null){let $=this.getElementLocation(J);return this.model.getFirstElementChild($)}has(J){return this.nodes.has(J)}getListIndex(J){let $=this.getElementLocation(J);return this.model.getListIndex($)}getListRenderCount(J){let $=this.getElementLocation(J);return this.model.getListRenderCount($)}isCollapsible(J){let $=this.getElementLocation(J);return this.model.isCollapsible($)}setCollapsible(J,$){let Q=this.getElementLocation(J);return this.model.setCollapsible(Q,$)}isCollapsed(J){let $=this.getElementLocation(J);return this.model.isCollapsed($)}setCollapsed(J,$,Q){let X=this.getElementLocation(J);return this.model.setCollapsed(X,$,Q)}expandTo(J){let $=this.getElementLocation(J);this.model.expandTo($)}refilter(){this.model.refilter()}getNode(J=null){if(J===null)return this.model.getNode(this.model.rootRef);let $=this.nodes.get(J);if(!$)throw new w8(this.user,`Tree element not found: ${J}`);return $}getNodeLocation(J){return J.element}getParentNodeLocation(J){if(J===null)throw new w8(this.user,"Invalid getParentNodeLocation call");let $=this.nodes.get(J);if(!$)throw new w8(this.user,`Tree element not found: ${J}`);let Q=this.model.getNodeLocation($),X=this.model.getParentNodeLocation(Q);return this.model.getNode(X).element}getElementLocation(J){if(J===null)return[];let $=this.nodes.get(J);if(!$)throw new w8(this.user,`Tree element not found: ${J}`);return this.model.getNodeLocation($)}}var nP=N(()=>{aP();o3();N9()});function oP(J){let $=[J.element],Q=J.incompressible||!1;return{element:{elements:$,incompressible:Q},children:W1.map(W1.from(J.children),oP),collapsible:J.collapsible,collapsed:J.collapsed}}function tP(J){let $=[J.element],Q=J.incompressible||!1,X,Y;while(!0){if([Y,X]=W1.consume(W1.from(J.children),2),Y.length!==1)break;if(Y[0].incompressible)break;J=Y[0],$.push(J.element)}return{element:{elements:$,incompressible:Q},children:W1.map(W1.concat(Y,X),tP),collapsible:J.collapsible,collapsed:J.collapsed}}function RE(J,$=0){let Q;if($<J.element.elements.length-1)Q=[RE(J,$+1)];else Q=W1.map(W1.from(J.children),(X)=>RE(X,0));if($===0&&J.element.incompressible)return{element:J.element.elements[$],children:Q,incompressible:!0,collapsible:J.collapsible,collapsed:J.collapsed};return{element:J.element.elements[$],children:Q,collapsible:J.collapsible,collapsed:J.collapsed}}function qr(J){return RE(J,0)}function Ur(J,$,Q){if(J.element===$)return{...J,children:Q};return{...J,children:W1.map(W1.from(J.children),(X)=>Ur(X,$,Q))}}class zr{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(J,$,Q={}){this.user=J,this.rootRef=null,this.nodes=new Map,this.model=new zG(J,$,Q),this.enabled=typeof Q.compressionEnabled==="undefined"?!0:Q.compressionEnabled,this.identityProvider=Q.identityProvider}setChildren(J,$=W1.empty(),Q){let X=Q.diffIdentityProvider&&d40(Q.diffIdentityProvider);if(J===null){let W=W1.map($,this.enabled?tP:oP);this._setChildren(null,W,{diffIdentityProvider:X,diffDepth:1/0});return}let Y=this.nodes.get(J);if(!Y)throw new w8(this.user,"Unknown compressed tree node");let Z=this.model.getNode(Y),G=this.model.getParentNodeLocation(Y),q=this.model.getNode(G),U=qr(Z),z=Ur(U,J,$),H=(this.enabled?tP:oP)(z),j=Q.diffIdentityProvider?(W,B)=>Q.diffIdentityProvider.getId(W)===Q.diffIdentityProvider.getId(B):void 0;if(Q6(H.element.elements,Z.element.elements,j)){this._setChildren(Y,H.children||W1.empty(),{diffIdentityProvider:X,diffDepth:1});return}let V=q.children.map((W)=>W===Z?H:W);this._setChildren(q.element,V,{diffIdentityProvider:X,diffDepth:Z.depth-q.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(J){if(J===this.enabled)return;this.enabled=J;let Q=this.model.getNode().children,X=W1.map(Q,qr),Y=W1.map(X,J?tP:oP);this._setChildren(null,Y,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(J,$,Q){let X=new Set,Y=(G)=>{for(let q of G.element.elements)X.add(q),this.nodes.set(q,G.element)},Z=(G)=>{for(let q of G.element.elements)if(!X.has(q))this.nodes.delete(q)};this.model.setChildren(J,$,{...Q,onDidCreateNode:Y,onDidDeleteNode:Z})}has(J){return this.nodes.has(J)}getListIndex(J){let $=this.getCompressedNode(J);return this.model.getListIndex($)}getListRenderCount(J){let $=this.getCompressedNode(J);return this.model.getListRenderCount($)}getNode(J){if(typeof J==="undefined")return this.model.getNode();let $=this.getCompressedNode(J);return this.model.getNode($)}getNodeLocation(J){let $=this.model.getNodeLocation(J);if($===null)return null;return $.elements[$.elements.length-1]}getParentNodeLocation(J){let $=this.getCompressedNode(J),Q=this.model.getParentNodeLocation($);if(Q===null)return null;return Q.elements[Q.elements.length-1]}getFirstElementChild(J){let $=this.getCompressedNode(J);return this.model.getFirstElementChild($)}isCollapsible(J){let $=this.getCompressedNode(J);return this.model.isCollapsible($)}setCollapsible(J,$){let Q=this.getCompressedNode(J);return this.model.setCollapsible(Q,$)}isCollapsed(J){let $=this.getCompressedNode(J);return this.model.isCollapsed($)}setCollapsed(J,$,Q){let X=this.getCompressedNode(J);return this.model.setCollapsed(X,$,Q)}expandTo(J){let $=this.getCompressedNode(J);this.model.expandTo($)}rerender(J){let $=this.getCompressedNode(J);this.model.rerender($)}refilter(){this.model.refilter()}getCompressedNode(J){if(J===null)return null;let $=this.nodes.get(J);if(!$)throw new w8(this.user,`Tree element not found: ${J}`);return $}}class ME{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((J)=>new ME(this.unwrapper,J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J,$){this.unwrapper=J,this.node=$}}function a40(J,$){return{splice(Q,X,Y){$.splice(Q,X,Y.map((Z)=>J.map(Z)))},updateElementHeight(Q,X){$.updateElementHeight(Q,X)}}}function r40(J,$){return{...$,identityProvider:$.identityProvider&&{getId(Q){return $.identityProvider.getId(J(Q))}},sorter:$.sorter&&{compare(Q,X){return $.sorter.compare(Q.elements[0],X.elements[0])}},filter:$.filter&&{filter(Q,X){return $.filter.filter(J(Q),X)}}}}class _E{get onDidSplice(){return J0.map(this.model.onDidSplice,({insertedNodes:J,deletedNodes:$})=>({insertedNodes:J.map((Q)=>this.nodeMapper.map(Q)),deletedNodes:$.map((Q)=>this.nodeMapper.map(Q))}))}get onDidChangeCollapseState(){return J0.map(this.model.onDidChangeCollapseState,({node:J,deep:$})=>({node:this.nodeMapper.map(J),deep:$}))}get onDidChangeRenderNodeCount(){return J0.map(this.model.onDidChangeRenderNodeCount,(J)=>this.nodeMapper.map(J))}constructor(J,$,Q={}){this.rootRef=null,this.elementMapper=Q.elementMapper||s40;let X=(Y)=>this.elementMapper(Y.elements);this.nodeMapper=new n3((Y)=>new ME(X,Y)),this.model=new zr(J,a40(this.nodeMapper,$),r40(X,Q))}setChildren(J,$=W1.empty(),Q={}){this.model.setChildren(J,$,Q)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(J){this.model.setCompressionEnabled(J)}has(J){return this.model.has(J)}getListIndex(J){return this.model.getListIndex(J)}getListRenderCount(J){return this.model.getListRenderCount(J)}getNode(J){return this.nodeMapper.map(this.model.getNode(J))}getNodeLocation(J){return J.element}getParentNodeLocation(J){return this.model.getParentNodeLocation(J)}getFirstElementChild(J){let $=this.model.getFirstElementChild(J);if($===null||typeof $==="undefined")return $;return this.elementMapper($.elements)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}setCollapsed(J,$,Q){return this.model.setCollapsed(J,$,Q)}expandTo(J){return this.model.expandTo(J)}rerender(J){return this.model.rerender(J)}refilter(){return this.model.refilter()}getCompressedTreeNode(J=null){return this.model.getNode(J)}}var d40=(J)=>({getId($){return $.elements.map((Q)=>J.getId(Q).toString()).join("\x00")}}),s40=(J)=>J[J.length-1];var Hr=N(()=>{nP();o3();U1();F0();N9()});class OE{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(J,$,Q){if(this._compressedTreeNodeProvider=J,this.stickyScrollDelegate=$,this.renderer=Q,this.templateId=Q.templateId,Q.onDidChangeTwistieState)this.onDidChangeTwistieState=Q.onDidChangeTwistieState}renderTemplate(J){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){let Y=this.stickyScrollDelegate.getCompressedNode(J);if(!Y)Y=this.compressedTreeNodeProvider.getCompressedTreeNode(J.element);if(Y.element.elements.length===1)Q.compressedTreeNode=void 0,this.renderer.renderElement(J,$,Q.data,X);else Q.compressedTreeNode=Y,this.renderer.renderCompressedElements(Y,$,Q.data,X)}disposeElement(J,$,Q,X){var Y,Z,G,q;if(Q.compressedTreeNode)(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,Q.compressedTreeNode,$,Q.data,X);else(q=(G=this.renderer).disposeElement)===null||q===void 0||q.call(G,J,$,Q.data,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.data)}renderTwistie(J,$){if(this.renderer.renderTwistie)return this.renderer.renderTwistie(J,$);return!1}}class jr{constructor(J){this.modelProvider=J,this.compressedStickyNodes=new Map}getCompressedNode(J){return this.compressedStickyNodes.get(J)}constrainStickyScrollNodes(J,$,Q){if(this.compressedStickyNodes.clear(),J.length===0)return[];for(let X=0;X<J.length;X++){let Y=J[X],Z=Y.position+Y.height;if(X+1<J.length&&Z+J[X+1].height>Q||X>=$-1&&$<J.length){let q=J.slice(0,X),U=J.slice(X),z=this.compressStickyNodes(U);return[...q,z]}}return J}compressStickyNodes(J){if(J.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return J[0];let $=[];for(let q of J){let U=this.modelProvider().getCompressedTreeNode(q.node.element);if(U.element){if(U.element.incompressible)break;$.push(...U.element.elements)}}if($.length<2)return J[0];let Q=J[J.length-1],X={elements:$,incompressible:!1},Y={...Q.node,children:[],element:X},Z=new Proxy(J[0].node,{}),G={node:Z,startIndex:J[0].startIndex,endIndex:Q.endIndex,position:J[0].position,height:J[0].height};return this.compressedStickyNodes.set(Z,Y),G}}function n40(J,$){return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Q){let X;try{X=J().getCompressedTreeNode(Q)}catch(Y){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q)}if(X.element.elements.length===1)return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Q);else return $.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(X.element.elements)}}}}var i40=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},t3,ej;var NE=N(()=>{tj();Hr();nP();N9();t3=class t3 extends oj{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(J,$,Q,X,Y={}){super(J,$,Q,X,Y);this.user=J}setChildren(J,$=W1.empty(),Q){this.model.setChildren(J,$,Q)}rerender(J){if(J===void 0){this.view.rerender();return}this.model.rerender(J)}hasElement(J){return this.model.has(J)}createModel(J,$,Q){return new zG(J,$,Q)}};i40([X6],OE.prototype,"compressedTreeNodeProvider",null);ej=class ej extends t3{constructor(J,$,Q,X,Y={}){let Z=()=>this,G=new jr(()=>this.model),q=X.map((U)=>new OE(Z,G,U));super(J,$,Q,q,{...n40(Z,Y),stickyScrollDelegate:G})}setChildren(J,$=W1.empty(),Q){this.model.setChildren(J,$,Q)}createModel(J,$,Q){return new _E(J,$,Q)}updateOptions(J={}){if(super.updateOptions(J),typeof J.compressionEnabled!=="undefined")this.model.setCompressionEnabled(J.compressionEnabled)}getCompressedTreeNode(J=null){return this.model.getCompressedTreeNode(J)}}});function TE(J){return{...J,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function LE(J,$){if(!$.parent)return!1;else if($.parent===J)return!0;else return LE(J,$.parent)}function o40(J,$){return J===$||LE(J,$)||LE($,J)}class EE{get element(){return this.node.element.element}get children(){return this.node.children.map((J)=>new EE(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class Br{constructor(J,$,Q){this.renderer=J,this.nodeMapper=$,this.onDidChangeTwistieState=Q,this.renderedNodes=new Map,this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){this.renderer.renderElement(this.nodeMapper.map(J),$,Q.templateData,X)}renderTwistie(J,$){if(J.slow)return $.classList.add(...b0.asClassNameArray(U0.treeItemLoading)),!0;else return $.classList.remove(...b0.asClassNameArray(U0.treeItemLoading)),!1}disposeElement(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,Q.templateData,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear()}}function Vr(J){return{browserEvent:J.browserEvent,elements:J.elements.map(($)=>$.element)}}function Wr(J){return{browserEvent:J.browserEvent,element:J.element&&J.element.element,target:J.target}}function wE(J){if(J instanceof pY)return new Fr(J);return J}class Kr{constructor(J){this.dnd=J}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((Q)=>Q.element),$);return}onDragStart(J,$){var Q,X;(X=(Q=this.dnd).onDragStart)===null||X===void 0||X.call(Q,wE(J),$)}onDragOver(J,$,Q,X,Y,Z=!0){return this.dnd.onDragOver(wE(J),$&&$.element,Q,X,Y)}drop(J,$,Q,X,Y){this.dnd.drop(wE(J),$&&$.element,Q,X,Y)}onDragEnd(J){var $,Q;(Q=($=this.dnd).onDragEnd)===null||Q===void 0||Q.call($,J)}dispose(){this.dnd.dispose()}}function Ar(J){return J&&{...J,collapseByDefault:!0,identityProvider:J.identityProvider&&{getId($){return J.identityProvider.getId($.element)}},dnd:J.dnd&&new Kr(J.dnd),multipleSelectionController:J.multipleSelectionController&&{isSelectionSingleChangeEvent($){return J.multipleSelectionController.isSelectionSingleChangeEvent({...$,element:$.element})},isSelectionRangeChangeEvent($){return J.multipleSelectionController.isSelectionRangeChangeEvent({...$,element:$.element})}},accessibilityProvider:J.accessibilityProvider&&{...J.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:J.accessibilityProvider.getRole?($)=>{return J.accessibilityProvider.getRole($.element)}:()=>"treeitem",isChecked:J.accessibilityProvider.isChecked?($)=>{var Q;return!!((Q=J.accessibilityProvider)===null||Q===void 0?void 0:Q.isChecked($.element))}:void 0,getAriaLabel($){return J.accessibilityProvider.getAriaLabel($.element)},getWidgetAriaLabel(){return J.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:J.accessibilityProvider.getWidgetRole?()=>J.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:J.accessibilityProvider.getAriaLevel&&(($)=>{return J.accessibilityProvider.getAriaLevel($.element)}),getActiveDescendantId:J.accessibilityProvider.getActiveDescendantId&&(($)=>{return J.accessibilityProvider.getActiveDescendantId($.element)})},filter:J.filter&&{filter($,Q){return J.filter.filter($.element,Q)}},keyboardNavigationLabelProvider:J.keyboardNavigationLabelProvider&&{...J.keyboardNavigationLabelProvider,getKeyboardNavigationLabel($){return J.keyboardNavigationLabelProvider.getKeyboardNavigationLabel($.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof J.expandOnlyOnTwistieClick==="undefined"?void 0:typeof J.expandOnlyOnTwistieClick!=="function"?J.expandOnlyOnTwistieClick:($)=>J.expandOnlyOnTwistieClick($.element),defaultFindVisibility:($)=>{if($.hasChildren&&$.stale)return 1;else if(typeof J.defaultFindVisibility==="number")return J.defaultFindVisibility;else if(typeof J.defaultFindVisibility==="undefined")return 2;else return J.defaultFindVisibility($.element)}}}function kE(J,$){$(J),J.children.forEach((Q)=>kE(Q,$))}class eP{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return J0.map(this.tree.onDidChangeFocus,Vr)}get onDidChangeSelection(){return J0.map(this.tree.onDidChangeSelection,Vr)}get onMouseDblClick(){return J0.map(this.tree.onMouseDblClick,Wr)}get onPointer(){return J0.map(this.tree.onPointer,Wr)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(J,$,Q,X,Y,Z={}){if(this.user=J,this.dataSource=Y,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new y,this._onDidChangeNodeSlowState=new y,this.nodeMapper=new n3((G)=>new EE(G)),this.disposables=new r,this.identityProvider=Z.identityProvider,this.autoExpandSingleChildren=typeof Z.autoExpandSingleChildren==="undefined"?!1:Z.autoExpandSingleChildren,this.sorter=Z.sorter,this.getDefaultCollapseState=(G)=>Z.collapseByDefault?Z.collapseByDefault(G)?_7.PreserveOrCollapsed:_7.PreserveOrExpanded:void 0,this.tree=this.createTree(J,$,Q,X,Z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=TE({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider)this.root={...this.root,id:null};this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(J,$,Q,X,Y){let Z=new nj(Q),G=X.map((U)=>new Br(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=Ar(Y)||{};return new t3(J,$,Z,G,q)}updateOptions(J={}){this.tree.updateOptions(J)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(J){this.tree.scrollTop=J}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(J,$){this.tree.layout(J,$)}style(J){this.tree.style(J)}getInput(){return this.root.element}async setInput(J,$){this.refreshPromises.forEach((X)=>X.cancel()),this.refreshPromises.clear(),this.root.element=J;let Q=$&&{viewState:$,focus:[],selection:[]};if(await this._updateChildren(J,!0,!1,Q),Q)this.tree.setFocus(Q.focus),this.tree.setSelection(Q.selection);if($&&typeof $.scrollTop==="number")this.scrollTop=$.scrollTop}async _updateChildren(J=this.root.element,$=!0,Q=!1,X,Y){if(typeof this.root.element==="undefined")throw new w8(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);let Z=this.getDataNode(J);if(await this.refreshAndRenderNode(Z,$,X,Y),Q)try{this.tree.rerender(Z)}catch(G){}}rerender(J){if(J===void 0||J===this.root.element){this.tree.rerender();return}let $=this.getDataNode(J);this.tree.rerender($)}getNode(J=this.root.element){let $=this.getDataNode(J),Q=this.tree.getNode($===this.root?null:$);return this.nodeMapper.map(Q)}collapse(J,$=!1){let Q=this.getDataNode(J);return this.tree.collapse(Q===this.root?null:Q,$)}async expand(J,$=!1){if(typeof this.root.element==="undefined")throw new w8(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);let Q=this.getDataNode(J);if(this.tree.hasElement(Q)&&!this.tree.isCollapsible(Q))return!1;if(Q.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);if(Q!==this.root&&!Q.refreshPromise&&!this.tree.isCollapsed(Q))return!1;let X=this.tree.expand(Q===this.root?null:Q,$);if(Q.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);return X}setSelection(J,$){let Q=J.map((X)=>this.getDataNode(X));this.tree.setSelection(Q,$)}getSelection(){return this.tree.getSelection().map(($)=>$.element)}setFocus(J,$){let Q=J.map((X)=>this.getDataNode(X));this.tree.setFocus(Q,$)}getFocus(){return this.tree.getFocus().map(($)=>$.element)}reveal(J,$){this.tree.reveal(this.getDataNode(J),$)}getParentElement(J){let $=this.tree.getParentElement(this.getDataNode(J));return $&&$.element}getFirstElementChild(J=this.root.element){let $=this.getDataNode(J),Q=this.tree.getFirstElementChild($===this.root?null:$);return Q&&Q.element}getDataNode(J){let $=this.nodes.get(J===this.root.element?null:J);if(!$)throw new w8(this.user,`Data tree node not found: ${J}`);return $}async refreshAndRenderNode(J,$,Q,X){if(await this.refreshNode(J,$,Q),this.disposables.isDisposed)return;this.render(J,Q,X)}async refreshNode(J,$,Q){let X;if(this.subTreeRefreshPromises.forEach((Y,Z)=>{if(!X&&o40(Z,J))X=Y.then(()=>this.refreshNode(J,$,Q))}),X)return X;if(J!==this.root){if(this.tree.getNode(J).collapsed){J.hasChildren=!!this.dataSource.hasChildren(J.element),J.stale=!0;return}}return this.doRefreshSubTree(J,$,Q)}async doRefreshSubTree(J,$,Q){let X;J.refreshPromise=new Promise((Y)=>X=Y),this.subTreeRefreshPromises.set(J,J.refreshPromise),J.refreshPromise.finally(()=>{J.refreshPromise=void 0,this.subTreeRefreshPromises.delete(J)});try{let Y=await this.doRefreshNode(J,$,Q);J.stale=!1,await GF.settled(Y.map((Z)=>this.doRefreshSubTree(Z,$,Q)))}finally{X()}}async doRefreshNode(J,$,Q){J.hasChildren=!!this.dataSource.hasChildren(J.element);let X;if(!J.hasChildren)X=Promise.resolve(W1.empty());else{let Y=this.doGetChildren(J);if(lR(Y))X=Promise.resolve(Y);else{let Z=LQ(800);Z.then(()=>{J.slow=!0,this._onDidChangeNodeSlowState.fire(J)},(G)=>null),X=Y.finally(()=>Z.cancel())}}try{let Y=await X;return this.setChildren(J,Y,$,Q)}catch(Y){if(J!==this.root&&this.tree.hasElement(J))this.tree.collapse(J);if(eJ(Y))return[];throw Y}finally{if(J.slow)J.slow=!1,this._onDidChangeNodeSlowState.fire(J)}}doGetChildren(J){let $=this.refreshPromises.get(J);if($)return $;let Q=this.dataSource.getChildren(J.element);if(lR(Q))return this.processChildren(Q);else return $=dZ(async()=>this.processChildren(await Q)),this.refreshPromises.set(J,$),$.finally(()=>{this.refreshPromises.delete(J)})}_onDidChangeCollapseState({node:J,deep:$}){if(J.element===null)return;if(!J.collapsed&&J.element.stale)if($)this.collapse(J.element.element);else this.refreshAndRenderNode(J.element,!1).catch(o0)}setChildren(J,$,Q,X){let Y=[...$];if(J.children.length===0&&Y.length===0)return[];let Z=new Map,G=new Map;for(let z of J.children)if(Z.set(z.element,z),this.identityProvider)G.set(z.id,{node:z,collapsed:this.tree.hasElement(z)&&this.tree.isCollapsed(z)});let q=[],U=Y.map((z)=>{let H=!!this.dataSource.hasChildren(z);if(!this.identityProvider){let B=TE({element:z,parent:J,hasChildren:H,defaultCollapseState:this.getDefaultCollapseState(z)});if(H&&B.defaultCollapseState===_7.PreserveOrExpanded)q.push(B);return B}let j=this.identityProvider.getId(z).toString(),V=G.get(j);if(V){let B=V.node;if(Z.delete(B.element),this.nodes.delete(B.element),this.nodes.set(z,B),B.element=z,B.hasChildren=H,Q)if(V.collapsed)B.children.forEach((K)=>kE(K,(P)=>this.nodes.delete(P.element))),B.children.splice(0,B.children.length),B.stale=!0;else q.push(B);else if(H&&!V.collapsed)q.push(B);return B}let W=TE({element:z,parent:J,id:j,hasChildren:H,defaultCollapseState:this.getDefaultCollapseState(z)});if(X&&X.viewState.focus&&X.viewState.focus.indexOf(j)>-1)X.focus.push(W);if(X&&X.viewState.selection&&X.viewState.selection.indexOf(j)>-1)X.selection.push(W);if(X&&X.viewState.expanded&&X.viewState.expanded.indexOf(j)>-1)q.push(W);else if(H&&W.defaultCollapseState===_7.PreserveOrExpanded)q.push(W);return W});for(let z of Z.values())kE(z,(H)=>this.nodes.delete(H.element));for(let z of U)this.nodes.set(z.element,z);if(J.children.splice(0,J.children.length,...U),J!==this.root&&this.autoExpandSingleChildren&&U.length===1&&q.length===0)U[0].forceExpanded=!0,q.push(U[0]);return q}render(J,$,Q){let X=J.children.map((Z)=>this.asTreeElement(Z,$)),Y=Q&&{...Q,diffIdentityProvider:Q.diffIdentityProvider&&{getId(Z){return Q.diffIdentityProvider.getId(Z.element)}}};if(this.tree.setChildren(J===this.root?null:J,X,Y),J!==this.root)this.tree.setCollapsible(J,J.hasChildren);this._onDidRender.fire()}asTreeElement(J,$){if(J.stale)return{element:J,collapsible:J.hasChildren,collapsed:!0};let Q;if($&&$.viewState.expanded&&J.id&&$.viewState.expanded.indexOf(J.id)>-1)Q=!1;else if(J.forceExpanded)Q=!1,J.forceExpanded=!1;else Q=J.defaultCollapseState;return{element:J,children:J.hasChildren?W1.map(J.children,(X)=>this.asTreeElement(X,$)):[],collapsible:J.hasChildren,collapsed:Q}}processChildren(J){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return J}dispose(){this.disposables.dispose(),this.tree.dispose()}}class IE{get element(){return{elements:this.node.element.elements.map((J)=>J.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((J)=>new IE(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class Pr{constructor(J,$,Q,X){this.renderer=J,this.nodeMapper=$,this.compressibleNodeMapperProvider=Q,this.onDidChangeTwistieState=X,this.renderedNodes=new Map,this.disposables=[],this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,Q,X){this.renderer.renderElement(this.nodeMapper.map(J),$,Q.templateData,X)}renderCompressedElements(J,$,Q,X){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(J),$,Q.templateData,X)}renderTwistie(J,$){if(J.slow)return $.classList.add(...b0.asClassNameArray(U0.treeItemLoading)),!0;else return $.classList.remove(...b0.asClassNameArray(U0.treeItemLoading)),!1}disposeElement(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,Q.templateData,X)}disposeCompressedElements(J,$,Q,X){var Y,Z;(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,this.compressibleNodeMapperProvider().map(J),$,Q.templateData,X)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=k1(this.disposables)}}function t40(J){let $=J&&Ar(J);return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(Q){return J.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Q.map((X)=>X.element))}}}}function e40(J){if(typeof J==="boolean")return J?1:0;else if(aj(J))return UG(J.visibility);else return UG(J)}var Fr,yE;var Dr=N(()=>{LP();tj();aP();NE();o3();u1();U5();H5();P1();F0();N9();Q0();Fr=class Fr extends pY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}};yE=class yE extends eP{constructor(J,$,Q,X,Y,Z,G={}){super(J,$,Q,Y,Z,G);this.compressionDelegate=X,this.compressibleNodeMapper=new n3((q)=>new IE(q)),this.filter=G.filter}createTree(J,$,Q,X,Y){let Z=new nj(Q),G=X.map((U)=>new Pr(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=t40(Y)||{};return new ej(J,$,Z,G,q)}asTreeElement(J,$){return{incompressible:this.compressionDelegate.isIncompressible(J.element),...super.asTreeElement(J,$)}}updateOptions(J={}){this.tree.updateOptions(J)}render(J,$,Q){if(!this.identityProvider)return super.render(J,$);let X=(V)=>this.identityProvider.getId(V).toString(),Y=(V)=>{let W=new Set;for(let B of V){let K=this.tree.getCompressedTreeNode(B===this.root?null:B);if(!K.element)continue;for(let P of K.element.elements)W.add(X(P.element))}return W},Z=Y(this.tree.getSelection()),G=Y(this.tree.getFocus());super.render(J,$,Q);let q=this.getSelection(),U=!1,z=this.getFocus(),H=!1,j=(V)=>{let W=V.element;if(W)for(let B=0;B<W.elements.length;B++){let K=X(W.elements[B].element),P=W.elements[W.elements.length-1].element;if(Z.has(K)&&q.indexOf(P)===-1)q.push(P),U=!0;if(G.has(K)&&z.indexOf(P)===-1)z.push(P),H=!0}V.children.forEach(j)};if(j(this.tree.getCompressedTreeNode(J===this.root?null:J)),U)this.setSelection(q);if(H)this.setFocus(z)}processChildren(J){if(this.filter)J=W1.filter(J,($)=>{let Q=this.filter.filter($,1),X=e40(Q);if(X===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return X===1});return super.processChildren(J)}}});var xE;var Rr=N(()=>{tj();nP();xE=class xE extends oj{constructor(J,$,Q,X,Y,Z={}){super(J,$,Q,X,Z);this.user=J,this.dataSource=Y,this.identityProvider=Z.identityProvider}createModel(J,$,Q){return new zG(J,$,Q)}}});var tu0,eu0,Jc0,$c0,Qc0,Xc0,Yc0,Zc0,Gc0,bE="inputFocus",qc0;var Mr=N(()=>{M1();g0();m1();tu0=new H0("isMac",r0,F("isMac","Whether the operating system is macOS")),eu0=new H0("isLinux",V6,F("isLinux","Whether the operating system is Linux")),Jc0=new H0("isWindows",L6,F("isWindows","Whether the operating system is Windows")),$c0=new H0("isWeb",nJ,F("isWeb","Whether the platform is a web browser")),Qc0=new H0("isMacNative",r0&&!nJ,F("isMacNative","Whether the operating system is macOS on a non-browser platform")),Xc0=new H0("isIOS",O9,F("isIOS","Whether the operating system is iOS")),Yc0=new H0("isMobile",TW,F("isMobile","Whether the platform is a mobile web browser")),Zc0=new H0("isDevelopment",!1,!0),Gc0=new H0("productQualityType","",F("productQualityType","Quality type of VS Code")),qc0=new H0(bE,!1,F("inputFocus","Whether keyboard focus is inside an input box"))});class SE{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new r,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(J){var $,Q;if(J===this._lastFocusedWidget)return;($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=J,(Q=this._lastFocusedWidget)===null||Q===void 0||Q.getHTMLElement().classList.add("last-focused")}register(J,$){if(!this._hasCreatedStyleController)this._hasCreatedStyleController=!0,new IP(D5(),"").style(ZG);if(this.lists.some((X)=>X.widget===J))throw new Error("Cannot register the same widget multiple times");let Q={widget:J,extraContextKeys:$};if(this.lists.push(Q),nZ(J.getHTMLElement()))this.setLastFocusedList(J);return x8(J.onDidFocus(()=>this.setLastFocusedList(J)),K0(()=>this.lists.splice(this.lists.indexOf(Q),1)),J.onDidDispose(()=>{if(this.lists=this.lists.filter((X)=>X!==Q),this._lastFocusedWidget===J)this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}function zD(J,$){let Q=J.createScoped($.getHTMLElement());return Er.bindTo(Q),Q}function HD(J,$){let Q=JV.bindTo(J),X=()=>{let Y=$.scrollTop===0,Z=$.scrollHeight-$.renderHeight-$.scrollTop<1;if(Y&&Z)Q.set("both");else if(Y)Q.set("top");else if(Z)Q.set("bottom");else Q.set("none")};return X(),$.onDidScroll(X)}function e$(J){return J.getValue(jG)==="alt"}function jD(J,$){var Q;let X=J.get(y1),Y=J.get(u6),Z=new r;return[{...$,keyboardNavigationDelegate:{mightProducePrintableCharacter(q){return Y.mightProducePrintableCharacter(q)}},smoothScrolling:Boolean(X.getValue(vJ)),mouseWheelScrollSensitivity:X.getValue(o$),fastScrollSensitivity:X.getValue(t$),multipleSelectionController:(Q=$.multipleSelectionController)!==null&&Q!==void 0?Q:Z.add(new br(X)),keyboardNavigationEventFilter:GJ0(Y),scrollByPage:Boolean(X.getValue(CJ))},Z]}function GJ0(J){let $=!1;return(Q)=>{if(Q.toKeyCodeChord().isModifierKey())return!1;if($)return $=!1,!1;let X=J.softDispatch(Q,Q.target);if(X.kind===1)return $=!0,!1;return $=!1,X.kind===0}}function vr(J){let $=J.getValue(fE);if($==="highlight")return n$.Highlight;else if($==="filter")return n$.Filter;let Q=J.getValue($D);if(Q==="simple"||Q==="highlight")return n$.Highlight;else if(Q==="filter")return n$.Filter;return}function hr(J){let $=J.getValue(pE);if($==="fuzzy")return uY.Fuzzy;else if($==="contiguous")return uY.Contiguous;return}function QV(J,$){var Q;let X=J.get(y1),Y=J.get(IJ),Z=J.get(h0),G=J.get(p0),q=()=>{let W=Z.getContextKeyValue(yr);if(W==="automatic")return yJ.Automatic;else if(W==="trigger")return yJ.Trigger;if(Z.getContextKeyValue(xr)===!1)return yJ.Trigger;let K=X.getValue(gE);if(K==="automatic")return yJ.Automatic;else if(K==="trigger")return yJ.Trigger;return},U=$.horizontalScrolling!==void 0?$.horizontalScrolling:Boolean(X.getValue(i9)),[z,H]=G.invokeFunction(jD,$),j=$.paddingBottom,V=$.renderIndentGuides!==void 0?$.renderIndentGuides:X.getValue(QD);return{getTypeNavigationMode:q,disposable:H,options:{keyboardSupport:!1,...z,indent:typeof X.getValue($V)==="number"?X.getValue($V):void 0,renderIndentGuides:V,smoothScrolling:Boolean(X.getValue(vJ)),defaultFindMode:vr(X),defaultFindMatchType:hr(X),horizontalScrolling:U,scrollByPage:Boolean(X.getValue(CJ)),paddingBottom:j,hideTwistiesOfChildlessElements:$.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(Q=$.expandOnlyOnTwistieClick)!==null&&Q!==void 0?Q:X.getValue(XD)==="doubleClick",contextViewProvider:Y,findWidgetStyles:Xa,enableStickyScroll:Boolean(X.getValue(YD)),stickyScrollMaxItemCount:Number(X.getValue(ZD))}}}var TX=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},$6=function(J,$){return function(Q,X){$(Q,X,J)}},hJ,JV,Ec0,Ic0,Er,Ir,qD,yc0,CE,vE,hE,UD,JJ0,$J0,QJ0,XJ0,YJ0,ZJ0,yr="listTypeNavigationMode",xr="listAutomaticKeyboardNavigation",jG="workbench.list.multiSelectModifier",JD="workbench.list.openMode",i9="workbench.list.horizontalScrolling",fE="workbench.list.defaultFindMode",gE="workbench.list.typeNavigationMode",$D="workbench.list.keyboardNavigation",CJ="workbench.list.scrollByPage",pE="workbench.list.defaultFindMatchType",$V="workbench.tree.indent",QD="workbench.tree.renderIndentGuides",vJ="workbench.list.smoothScrolling",o$="workbench.list.mouseWheelScrollSensitivity",t$="workbench.list.fastScrollSensitivity",XD="workbench.tree.expandMode",YD="workbench.tree.enableStickyScroll",ZD="workbench.tree.stickyScrollMaxItemCount",br,GD,_r,Or,VD,mE,Sr,Cr,Nr,Tr,wr,Lr,kr,HG=class J{get onDidOpen(){return this.navigator.onDidOpen}constructor($,Q,X,Y,Z,G,q){var U;this.tree=$,this.disposables=[],this.contextKeyService=zD(Z,$),this.disposables.push(HD(this.contextKeyService,$)),this.listSupportsMultiSelect=qD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Q.multipleSelectionSupport!==!1),UD.bindTo(this.contextKeyService).set(Boolean(Q.selectionNavigation)),this.listSupportFindWidget=JJ0.bindTo(this.contextKeyService),this.listSupportFindWidget.set((U=Q.findWidgetEnabled)!==null&&U!==void 0?U:!0),this.hasSelectionOrFocus=CE.bindTo(this.contextKeyService),this.hasDoubleSelection=vE.bindTo(this.contextKeyService),this.hasMultiSelection=hE.bindTo(this.contextKeyService),this.treeElementCanCollapse=$J0.bindTo(this.contextKeyService),this.treeElementHasParent=QJ0.bindTo(this.contextKeyService),this.treeElementCanExpand=XJ0.bindTo(this.contextKeyService),this.treeElementHasChild=YJ0.bindTo(this.contextKeyService),this.treeFindOpen=ZJ0.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Ir.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=e$(q),this.updateStyleOverrides(Y);let H=()=>{let V=$.getFocus()[0];if(!V)return;let W=$.getNode(V);this.treeElementCanCollapse.set(W.collapsible&&!W.collapsed),this.treeElementHasParent.set(!!$.getParentElement(V)),this.treeElementCanExpand.set(W.collapsible&&W.collapsed),this.treeElementHasChild.set(!!$.getFirstElementChild(V))},j=new Set;j.add(yr),j.add(xr),this.disposables.push(this.contextKeyService,G.register($),$.onDidChangeSelection(()=>{let V=$.getSelection(),W=$.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(V.length>0||W.length>0),this.hasMultiSelection.set(V.length>1),this.hasDoubleSelection.set(V.length===2)})}),$.onDidChangeFocus(()=>{let V=$.getSelection(),W=$.getFocus();this.hasSelectionOrFocus.set(V.length>0||W.length>0),H()}),$.onDidChangeCollapseState(H),$.onDidChangeModel(H),$.onDidChangeFindOpenState((V)=>this.treeFindOpen.set(V)),$.onDidChangeStickyScrollFocused((V)=>this.treeStickyScrollFocused.set(V)),q.onDidChangeConfiguration((V)=>{let W={};if(V.affectsConfiguration(jG))this._useAltAsMultipleSelectionModifier=e$(q);if(V.affectsConfiguration($V)){let B=q.getValue($V);W={...W,indent:B}}if(V.affectsConfiguration(QD)&&Q.renderIndentGuides===void 0){let B=q.getValue(QD);W={...W,renderIndentGuides:B}}if(V.affectsConfiguration(vJ)){let B=Boolean(q.getValue(vJ));W={...W,smoothScrolling:B}}if(V.affectsConfiguration(fE)||V.affectsConfiguration($D)){let B=vr(q);W={...W,defaultFindMode:B}}if(V.affectsConfiguration(gE)||V.affectsConfiguration($D)){let B=X();W={...W,typeNavigationMode:B}}if(V.affectsConfiguration(pE)){let B=hr(q);W={...W,defaultFindMatchType:B}}if(V.affectsConfiguration(i9)&&Q.horizontalScrolling===void 0){let B=Boolean(q.getValue(i9));W={...W,horizontalScrolling:B}}if(V.affectsConfiguration(CJ)){let B=Boolean(q.getValue(CJ));W={...W,scrollByPage:B}}if(V.affectsConfiguration(XD)&&Q.expandOnlyOnTwistieClick===void 0)W={...W,expandOnlyOnTwistieClick:q.getValue(XD)==="doubleClick"};if(V.affectsConfiguration(YD)){let B=q.getValue(YD);W={...W,enableStickyScroll:B}}if(V.affectsConfiguration(ZD)){let B=Math.max(1,q.getValue(ZD));W={...W,stickyScrollMaxItemCount:B}}if(V.affectsConfiguration(o$)){let B=q.getValue(o$);W={...W,mouseWheelScrollSensitivity:B}}if(V.affectsConfiguration(t$)){let B=q.getValue(t$);W={...W,fastScrollSensitivity:B}}if(Object.keys(W).length>0)$.updateOptions(W)}),this.contextKeyService.onDidChangeContext((V)=>{if(V.affectsSome(j))$.updateOptions({typeNavigationMode:X()})})),this.navigator=new Cr($,{configurationService:q,...Q}),this.disposables.push(this.navigator)}updateOptions($){if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyleOverrides($){this.tree.style($?OX($):ZG)}dispose(){this.disposables=k1(this.disposables)}},qJ0;var uE=N(()=>{D0();ya();e2();ma();tj();Dr();Rr();NE();F0();Q0();g0();v8();X2();m1();Mr();KX();u0();x4();$7();u3();hJ=M0("listService");JV=new H0("listScrollAtBoundary","none"),Ec0=N0.or(JV.isEqualTo("top"),JV.isEqualTo("both")),Ic0=N0.or(JV.isEqualTo("bottom"),JV.isEqualTo("both")),Er=new H0("listFocus",!0),Ir=new H0("treestickyScrollFocused",!1),qD=new H0("listSupportsMultiselect",!0),yc0=N0.and(Er,N0.not(bE),Ir.negate()),CE=new H0("listHasSelectionOrFocus",!1),vE=new H0("listDoubleSelection",!1),hE=new H0("listMultiSelection",!1),UD=new H0("listSelectionNavigation",!1),JJ0=new H0("listSupportsFind",!0),$J0=new H0("treeElementCanCollapse",!1),QJ0=new H0("treeElementHasParent",!1),XJ0=new H0("treeElementCanExpand",!1),YJ0=new H0("treeElementHasChild",!1),ZJ0=new H0("treeFindOpen",!1);br=class br extends h{constructor(J){super();this.configurationService=J,this.useAltAsMultipleSelectionModifier=e$(J),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((J)=>{if(J.affectsConfiguration(jG))this.useAltAsMultipleSelectionModifier=e$(this.configurationService)}))}isSelectionSingleChangeEvent(J){if(this.useAltAsMultipleSelectionModifier)return J.browserEvent.altKey;return gk(J)}isSelectionRangeChangeEvent(J){return pk(J)}};GD=class J extends c8{constructor($,Q,X,Y,Z,G,q,U,z){let H=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(i9)),[j,V]=z.invokeFunction(jD,Z);super($,Q,X,Y,{keyboardSupport:!1,...j,horizontalScrolling:H});this.disposables.add(V),this.contextKeyService=zD(G,this),this.disposables.add(HD(this.contextKeyService,this)),this.listSupportsMultiSelect=qD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),UD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this.listHasSelectionOrFocus=CE.bindTo(this.contextKeyService),this.listDoubleSelection=vE.bindTo(this.contextKeyService),this.listMultiSelection=hE.bindTo(this.contextKeyService),this.horizontalScrolling=Z.horizontalScrolling,this._useAltAsMultipleSelectionModifier=e$(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let B=this.getSelection(),K=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(B.length>0||K.length>0),this.listMultiSelection.set(B.length>1),this.listDoubleSelection.set(B.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let B=this.getSelection(),K=this.getFocus();this.listHasSelectionOrFocus.set(B.length>0||K.length>0)})),this.disposables.add(U.onDidChangeConfiguration((B)=>{if(B.affectsConfiguration(jG))this._useAltAsMultipleSelectionModifier=e$(U);let K={};if(B.affectsConfiguration(i9)&&this.horizontalScrolling===void 0){let P=Boolean(U.getValue(i9));K={...K,horizontalScrolling:P}}if(B.affectsConfiguration(CJ)){let P=Boolean(U.getValue(CJ));K={...K,scrollByPage:P}}if(B.affectsConfiguration(vJ)){let P=Boolean(U.getValue(vJ));K={...K,smoothScrolling:P}}if(B.affectsConfiguration(o$)){let P=U.getValue(o$);K={...K,mouseWheelScrollSensitivity:P}}if(B.affectsConfiguration(t$)){let P=U.getValue(t$);K={...K,fastScrollSensitivity:P}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new mE(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?OX($):ZG)}};GD=TX([$6(5,h0),$6(6,hJ),$6(7,y1),$6(8,p0)],GD);_r=class J extends qE{constructor($,Q,X,Y,Z,G,q,U,z){let H=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(i9)),[j,V]=z.invokeFunction(jD,Z);super($,Q,X,Y,{keyboardSupport:!1,...j,horizontalScrolling:H});this.disposables=new r,this.disposables.add(V),this.contextKeyService=zD(G,this),this.disposables.add(HD(this.contextKeyService,this.widget)),this.horizontalScrolling=Z.horizontalScrolling,this.listSupportsMultiSelect=qD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),UD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this._useAltAsMultipleSelectionModifier=e$(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(U.onDidChangeConfiguration((B)=>{if(B.affectsConfiguration(jG))this._useAltAsMultipleSelectionModifier=e$(U);let K={};if(B.affectsConfiguration(i9)&&this.horizontalScrolling===void 0){let P=Boolean(U.getValue(i9));K={...K,horizontalScrolling:P}}if(B.affectsConfiguration(CJ)){let P=Boolean(U.getValue(CJ));K={...K,scrollByPage:P}}if(B.affectsConfiguration(vJ)){let P=Boolean(U.getValue(vJ));K={...K,smoothScrolling:P}}if(B.affectsConfiguration(o$)){let P=U.getValue(o$);K={...K,mouseWheelScrollSensitivity:P}}if(B.affectsConfiguration(t$)){let P=U.getValue(t$);K={...K,fastScrollSensitivity:P}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new mE(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?OX($):ZG)}dispose(){this.disposables.dispose(),super.dispose()}};_r=TX([$6(5,h0),$6(6,hJ),$6(7,y1),$6(8,p0)],_r);Or=class J extends cj{constructor($,Q,X,Y,Z,G,q,U,z,H){let j=typeof G.horizontalScrolling!=="undefined"?G.horizontalScrolling:Boolean(z.getValue(i9)),[V,W]=H.invokeFunction(jD,G);super($,Q,X,Y,Z,{keyboardSupport:!1,...V,horizontalScrolling:j});this.disposables.add(W),this.contextKeyService=zD(q,this),this.disposables.add(HD(this.contextKeyService,this)),this.listSupportsMultiSelect=qD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(G.multipleSelectionSupport!==!1),UD.bindTo(this.contextKeyService).set(Boolean(G.selectionNavigation)),this.listHasSelectionOrFocus=CE.bindTo(this.contextKeyService),this.listDoubleSelection=vE.bindTo(this.contextKeyService),this.listMultiSelection=hE.bindTo(this.contextKeyService),this.horizontalScrolling=G.horizontalScrolling,this._useAltAsMultipleSelectionModifier=e$(z),this.disposables.add(this.contextKeyService),this.disposables.add(U.register(this)),this.updateStyles(G.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let K=this.getSelection(),P=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(K.length>0||P.length>0),this.listMultiSelection.set(K.length>1),this.listDoubleSelection.set(K.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let K=this.getSelection(),P=this.getFocus();this.listHasSelectionOrFocus.set(K.length>0||P.length>0)})),this.disposables.add(z.onDidChangeConfiguration((K)=>{if(K.affectsConfiguration(jG))this._useAltAsMultipleSelectionModifier=e$(z);let P={};if(K.affectsConfiguration(i9)&&this.horizontalScrolling===void 0){let A=Boolean(z.getValue(i9));P={...P,horizontalScrolling:A}}if(K.affectsConfiguration(CJ)){let A=Boolean(z.getValue(CJ));P={...P,scrollByPage:A}}if(K.affectsConfiguration(vJ)){let A=Boolean(z.getValue(vJ));P={...P,smoothScrolling:A}}if(K.affectsConfiguration(o$)){let A=z.getValue(o$);P={...P,mouseWheelScrollSensitivity:A}}if(K.affectsConfiguration(t$)){let A=z.getValue(t$);P={...P,fastScrollSensitivity:A}}if(Object.keys(P).length>0)this.updateOptions(P)})),this.navigator=new Sr(this,{configurationService:z,...G}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?OX($):ZG)}dispose(){this.disposables.dispose(),super.dispose()}};Or=TX([$6(6,h0),$6(7,hJ),$6(8,y1),$6(9,p0)],Or);VD=class VD extends h{constructor(J,$){var Q;super();if(this.widget=J,this._onDidOpen=this._register(new y),this.onDidOpen=this._onDidOpen.event,this._register(J0.filter(this.widget.onDidChangeSelection,(X)=>Gq(X.browserEvent))((X)=>this.onSelectionFromKeyboard(X))),this._register(this.widget.onPointer((X)=>this.onPointer(X.element,X.browserEvent))),this._register(this.widget.onMouseDblClick((X)=>this.onMouseDblClick(X.element,X.browserEvent))),typeof($===null||$===void 0?void 0:$.openOnSingleClick)!=="boolean"&&($===null||$===void 0?void 0:$.configurationService))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(JD))!=="doubleClick",this._register($===null||$===void 0?void 0:$.configurationService.onDidChangeConfiguration((X)=>{if(X.affectsConfiguration(JD))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(JD))!=="doubleClick"}));else this.openOnSingleClick=(Q=$===null||$===void 0?void 0:$.openOnSingleClick)!==null&&Q!==void 0?Q:!0}onSelectionFromKeyboard(J){if(J.elements.length!==1)return;let $=J.browserEvent,Q=typeof $.preserveFocus==="boolean"?$.preserveFocus:!0,X=typeof $.pinned==="boolean"?$.pinned:!Q,Y=!1;this._open(this.getSelectedElement(),Q,X,Y,J.browserEvent)}onPointer(J,$){if(!this.openOnSingleClick)return;if($.detail===2)return;let X=$.button===1,Y=!0,Z=X,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}onMouseDblClick(J,$){if(!$)return;let Q=$.target;if(Q.classList.contains("monaco-tl-twistie")||Q.classList.contains("monaco-icon-label")&&Q.classList.contains("folder-icon")&&$.offsetX<16)return;let Y=!1,Z=!0,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}_open(J,$,Q,X,Y){if(!J)return;this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:Q,revealIfVisible:!0},sideBySide:X,element:J,browserEvent:Y})}};mE=class mE extends VD{constructor(J,$){super(J,$);this.widget=J}getSelectedElement(){return this.widget.getSelectedElements()[0]}};Sr=class Sr extends VD{constructor(J,$){super(J,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}};Cr=class Cr extends VD{constructor(J,$){super(J,$)}getSelectedElement(){var J;return(J=this.widget.getSelection()[0])!==null&&J!==void 0?J:void 0}};Nr=class J extends t3{constructor($,Q,X,Y,Z,G,q,U,z){let{options:H,getTypeNavigationMode:j,disposable:V}=G.invokeFunction(QV,Z);super($,Q,X,Y,H);this.disposables.add(V),this.internals=new HG(this,Z,j,Z.overrideStyles,q,U,z),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};Nr=TX([$6(5,p0),$6(6,h0),$6(7,hJ),$6(8,y1)],Nr);Tr=class J extends ej{constructor($,Q,X,Y,Z,G,q,U,z){let{options:H,getTypeNavigationMode:j,disposable:V}=G.invokeFunction(QV,Z);super($,Q,X,Y,H);this.disposables.add(V),this.internals=new HG(this,Z,j,Z.overrideStyles,q,U,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};Tr=TX([$6(5,p0),$6(6,h0),$6(7,hJ),$6(8,y1)],Tr);wr=class J extends xE{constructor($,Q,X,Y,Z,G,q,U,z,H){let{options:j,getTypeNavigationMode:V,disposable:W}=q.invokeFunction(QV,G);super($,Q,X,Y,Z,j);this.disposables.add(W),this.internals=new HG(this,G,V,G.overrideStyles,U,z,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles!==void 0)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};wr=TX([$6(6,p0),$6(7,h0),$6(8,hJ),$6(9,y1)],wr);Lr=class J extends eP{get onDidOpen(){return this.internals.onDidOpen}constructor($,Q,X,Y,Z,G,q,U,z,H){let{options:j,getTypeNavigationMode:V,disposable:W}=q.invokeFunction(QV,G);super($,Q,X,Y,Z,j);this.disposables.add(W),this.internals=new HG(this,G,V,G.overrideStyles,U,z,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};Lr=TX([$6(6,p0),$6(7,h0),$6(8,hJ),$6(9,y1)],Lr);kr=class J extends yE{constructor($,Q,X,Y,Z,G,q,U,z,H,j){let{options:V,getTypeNavigationMode:W,disposable:B}=U.invokeFunction(QV,q);super($,Q,X,Y,Z,G,V);this.disposables.add(B),this.internals=new HG(this,q,W,q.overrideStyles,z,H,j),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};kr=TX([$6(7,p0),$6(8,h0),$6(9,hJ),$6(10,y1)],kr);HG=TX([$6(4,h0),$6(5,hJ),$6(6,y1)],HG);qJ0=r1.as(g9.Configuration);qJ0.registerConfiguration({id:"workbench",order:7,title:F("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[jG]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[F("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:F({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[JD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[i9]:{type:"boolean",default:!1,description:F("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[CJ]:{type:"boolean",default:!1,description:F("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[$V]:{type:"number",default:8,minimum:4,maximum:40,description:F("tree indent setting","Controls tree indentation in pixels.")},[QD]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:F("render tree indent guides","Controls whether the tree should render indent guides.")},[vJ]:{type:"boolean",default:!1,description:F("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[o$]:{type:"number",default:1,markdownDescription:F("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[t$]:{type:"number",default:5,markdownDescription:F("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[fE]:{type:"string",enum:["highlight","filter"],enumDescriptions:[F("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),F("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:F("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[$D]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[F("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),F("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),F("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:F("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:F("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[pE]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[F("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),F("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:F("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[XD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[YD]:{type:"boolean",default:!0,description:F("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[ZD]:{type:"number",minimum:1,default:7,markdownDescription:F("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[gE]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:F("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})});class fr{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(J){if(J.prefix.length===0)this.defaultProvider=J;else this.providers.push(J);return this.providers.sort(($,Q)=>Q.prefix.length-$.prefix.length),K0(()=>{if(this.providers.splice(this.providers.indexOf(J),1),this.defaultProvider===J)this.defaultProvider=void 0})}getQuickAccessProviders(){return PW([this.defaultProvider,...this.providers])}getQuickAccessProvider(J){return(J?this.providers.find((Q)=>J.startsWith(Q.prefix))||void 0:void 0)||this.defaultProvider}}var WD,cE;var gr=N(()=>{U1();Q0();$7();(function(J){J[J.PRESERVE=0]="PRESERVE",J[J.LAST=1]="LAST"})(WD||(WD={}));cE={Quickaccess:"workbench.contributions.quickaccess"};r1.add(cE.Quickaccess,new fr)});class mr{constructor(J){this.options=J}}var pr,VG,f4,fc0,BD;var XV=N(()=>{u0();pr={ctrlCmd:!1,alt:!1};(function(J){J[J.Blur=1]="Blur",J[J.Gesture=2]="Gesture",J[J.Other=3]="Other"})(VG||(VG={}));(function(J){J[J.NONE=0]="NONE",J[J.FIRST=1]="FIRST",J[J.SECOND=2]="SECOND",J[J.LAST=3]="LAST"})(f4||(f4={}));fc0=new mr,BD=M0("quickInputService")});var UJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ur=function(J,$){return function(Q,X){$(Q,X,J)}},FD;var cr=N(()=>{u1();e5();F0();Q0();u0();gr();XV();$7();FD=class J extends h{constructor($,Q){super();this.quickInputService=$,this.instantiationService=Q,this.registry=r1.as(cE.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show($="",Q){this.doShowOrPick($,!1,Q)}doShowOrPick($,Q,X){var Y;let[Z,G]=this.getOrInstantiateProvider($),q=this.visibleQuickAccess,U=q===null||q===void 0?void 0:q.descriptor;if(q&&G&&U===G){if($!==G.prefix&&!(X===null||X===void 0?void 0:X.preserveValue))q.picker.value=$;this.adjustValueSelection(q.picker,G,X);return}if(G&&!(X===null||X===void 0?void 0:X.preserveValue)){let W=void 0;if(q&&U&&U!==G){let B=q.value.substr(U.prefix.length);if(B)W=`${G.prefix}${B}`}if(!W){let B=Z===null||Z===void 0?void 0:Z.defaultFilterValue;if(B===WD.LAST)W=this.lastAcceptedPickerValues.get(G);else if(typeof B==="string")W=`${G.prefix}${B}`}if(typeof W==="string")$=W}let z=new r,H=z.add(this.quickInputService.createQuickPick());if(H.value=$,this.adjustValueSelection(H,G,X),H.placeholder=G===null||G===void 0?void 0:G.placeholder,H.quickNavigate=X===null||X===void 0?void 0:X.quickNavigateConfiguration,H.hideInput=!!H.quickNavigate&&!q,typeof(X===null||X===void 0?void 0:X.itemActivation)==="number"||(X===null||X===void 0?void 0:X.quickNavigateConfiguration))H.itemActivation=(Y=X===null||X===void 0?void 0:X.itemActivation)!==null&&Y!==void 0?Y:f4.SECOND;H.contextKey=G===null||G===void 0?void 0:G.contextKey,H.filterValue=(W)=>W.substring(G?G.prefix.length:0);let j=void 0;if(Q)j=new Bz,z.add(J0.once(H.onWillAccept)((W)=>{W.veto(),H.hide()}));z.add(this.registerPickerListeners(H,Z,G,$,X===null||X===void 0?void 0:X.providerOptions));let V=z.add(new q5);if(Z)z.add(Z.provide(H,V.token,X===null||X===void 0?void 0:X.providerOptions));if(J0.once(H.onDidHide)(()=>{if(H.selectedItems.length===0)V.cancel();z.dispose(),j===null||j===void 0||j.complete(H.selectedItems.slice(0))}),H.show(),Q)return j===null||j===void 0?void 0:j.p}adjustValueSelection($,Q,X){var Y;let Z;if(X===null||X===void 0?void 0:X.preserveValue)Z=[$.value.length,$.value.length];else Z=[(Y=Q===null||Q===void 0?void 0:Q.prefix.length)!==null&&Y!==void 0?Y:0,$.value.length];$.valueSelection=Z}registerPickerListeners($,Q,X,Y,Z){let G=new r,q=this.visibleQuickAccess={picker:$,descriptor:X,value:Y};if(G.add(K0(()=>{if(q===this.visibleQuickAccess)this.visibleQuickAccess=void 0})),G.add($.onDidChangeValue((U)=>{let[z]=this.getOrInstantiateProvider(U);if(z!==Q)this.show(U,{preserveValue:!0,providerOptions:Z});else q.value=U})),X)G.add($.onDidAccept(()=>{this.lastAcceptedPickerValues.set(X,$.value)}));return G}getOrInstantiateProvider($){let Q=this.registry.getQuickAccessProvider($);if(!Q)return[void 0,void 0];let X=this.mapProviderToDescriptor.get(Q);if(!X)X=this.instantiationService.createInstance(Q.ctor),this.mapProviderToDescriptor.set(Q,X);return[X,Q]}};FD=UJ0([ur(0,BD),ur(1,p0)],FD)});var YV=N(()=>{j0(".quick-input-widget{z-index:2550;-webkit-app-region:no-drag;border-radius:6px;width:600px;margin-left:-300px;position:absolute;left:50%}.quick-input-titlebar{border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;display:flex}.quick-input-left-action-bar{flex:1;margin-left:4px;display:flex}.quick-input-title{text-align:center;text-overflow:ellipsis;padding:3px 0;overflow:hidden}.quick-input-right-action-bar{flex:1;margin-right:4px;display:flex}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px 6px 6px 11px}.quick-input-header .quick-input-description{flex:1;margin:4px 2px}.quick-input-header{padding:8px 6px 6px;display:flex}.quick-input-widget.hidden-input .quick-input-header{margin-bottom:0;padding:0}.quick-input-and-message{flex-direction:column;flex-grow:1;min-width:0;display:flex;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;align-items:center;display:flex;position:absolute;right:4px}.quick-input-count .monaco-count-badge{vertical-align:middle;border-radius:2px;min-height:auto;padding:2px 4px;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{align-items:center;height:25px;padding:0 6px;font-size:11px;display:flex}.quick-input-message{overflow-wrap:break-word;margin-top:-1px;padding:5px}.quick-input-message>.codicon{vertical-align:text-bottom;margin:0 .2em}.quick-input-message a{color:inherit}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-list{line-height:22px}.quick-input-widget.hidden-input .quick-input-list{margin-top:4px;padding-bottom:4px}.quick-input-list .monaco-list{max-height:440px;padding-bottom:5px;overflow:hidden}.quick-input-list .monaco-scrollable-element{padding:0 5px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;height:100%;padding:0 6px;display:flex;overflow:hidden}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-style:solid;border-top-width:1px}.quick-input-list .monaco-list-row{border-radius:3px}.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{flex:1;height:100%;display:flex;overflow:hidden}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-icon{background-position:0;background-repeat:no-repeat;background-size:16px;justify-content:center;align-items:center;width:16px;height:22px;padding-right:6px;display:flex}.quick-input-list .quick-input-list-rows{text-overflow:ellipsis;flex-direction:column;flex:1;height:100%;margin-left:5px;display:flex;overflow:hidden}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{align-items:center;display:flex}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label>span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;text-overflow:ellipsis;line-height:normal;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:4px}.quick-input-list .quick-input-list-entry-action-bar{flex:0;display:flex;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:0 0}.quick-input-list .quick-input-list-separator-as-item{font-size:12px;font-weight:600}")});var lr=N(()=>{j0(".monaco-icon-label{text-overflow:ellipsis;display:flex;overflow:hidden}.monaco-icon-label:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;background-position:0;background-repeat:no-repeat;background-size:16px;flex-shrink:0;width:16px;height:22px;padding-right:6px;display:inline-block;line-height:inherit!important}.monaco-icon-label-container.disabled{color:var(--vscode-disabledForeground)}.monaco-icon-label>.monaco-icon-label-container{text-overflow:ellipsis;flex:1;min-width:0;overflow:hidden}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{opacity:.5;margin:0 2px}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-suffix-container>.label-suffix{opacity:.7;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;white-space:pre;margin-left:.5em;font-size:.9em}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{font-style:italic}.monaco-icon-label.deprecated{opacity:.66;text-decoration:line-through}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;text-align:center;margin:auto 16px 0 5px;font-size:90%;font-weight:600}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}")});class cY{constructor(J,$){var Q;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(Q=$===null||$===void 0?void 0:$.supportIcons)!==null&&Q!==void 0?Q:!1,this.domNode=Z0(J,q0("span.monaco-highlighted-label"))}get element(){return this.domNode}set(J,$=[],Q="",X){if(!J)J="";if(X)J=cY.escapeNewLines(J,$);if(this.didEverRender&&this.text===J&&this.title===Q&&L5(this.highlights,$))return;this.text=J,this.title=Q,this.highlights=$,this.render()}render(){let J=[],$=0;for(let Q of this.highlights){if(Q.end===Q.start)continue;if($<Q.start){let Z=this.text.substring($,Q.start);if(this.supportIcons)J.push(...C4(Z));else J.push(Z);$=Q.start}let X=this.text.substring($,Q.end),Y=q0("span.highlight",void 0,...this.supportIcons?C4(X):[X]);if(Q.extraClasses)Y.classList.add(...Q.extraClasses);J.push(Y),$=Q.end}if($<this.text.length){let Q=this.text.substring($);if(this.supportIcons)J.push(...C4(Q));else J.push(Q)}if(V5(this.domNode,...J),this.title)this.domNode.title=this.title;else this.domNode.removeAttribute("title");this.didEverRender=!0}static escapeNewLines(J,$){let Q=0,X=0;return J.replace(/\r\n|\r|\n/g,(Y,Z)=>{X=Y===`\r
`?-1:0,Z+=Q;for(let G of $){if(G.end<=Z)continue;if(G.start>=Z)G.start+=X;if(G.end>=Z)G.end+=X}return Q+=X,"⏎"})}}var dr=N(()=>{D0();l2();j7()});class e3{constructor(J){this._element=J}get element(){return this._element}set textContent(J){if(this.disposed||J===this._textContent)return;this._textContent=J,this._element.textContent=J}set className(J){if(this.disposed||J===this._className)return;this._className=J,this._element.className=J}set empty(J){if(this.disposed||J===this._empty)return;this._empty=J,this._element.style.marginLeft=J?"0":""}dispose(){this.disposed=!0}}class sr{constructor(J){this.container=J,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&L5(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Z0(this.container,q0("a.label-name",{id:$===null||$===void 0?void 0:$.domId}));this.singleLabel.textContent=J}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let Q=0;Q<J.length;Q++){let X=J[Q],Y=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Q}`;if(Z0(this.container,q0("a.label-name",{id:Y,"data-icon-label-count":J.length,"data-icon-label-index":Q,role:"treeitem"},X)),Q<J.length-1)Z0(this.container,q0("span.label-separator",void 0,($===null||$===void 0?void 0:$.separator)||"/"))}}}}function zJ0(J,$,Q){if(!Q)return;let X=0;return J.map((Y)=>{let Z={start:X,end:X+Y.length},G=Q.map((q)=>O5.intersect(Z,q)).filter((q)=>!O5.isEmpty(q)).map(({start:q,end:U})=>({start:q-X,end:U-X}));return X=Z.end+$.length,G})}class ar{constructor(J,$){this.container=J,this.supportIcons=$,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&L5(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new cY(Z0(this.container,q0("a.label-name",{id:$===null||$===void 0?void 0:$.domId})),{supportIcons:this.supportIcons});this.singleLabel.set(J,$===null||$===void 0?void 0:$.matches,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines)}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let Q=($===null||$===void 0?void 0:$.separator)||"/",X=zJ0(J,Q,$===null||$===void 0?void 0:$.matches);for(let Y=0;Y<J.length;Y++){let Z=J[Y],G=X?X[Y]:void 0,q=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Y}`,U=q0("a.label-name",{id:q,"data-icon-label-count":J.length,"data-icon-label-index":Y,role:"treeitem"});if(new cY(Z0(this.container,U),{supportIcons:this.supportIcons}).set(Z,G,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines),Y<J.length-1)Z0(U,q0("span.label-separator",void 0,Q))}}}}var JU;var lE=N(()=>{lr();D0();dr();xk();Q0();j7();Ij();JU=class JU extends h{constructor(J,$){super();if(this.customHovers=new Map,this.creationOptions=$,this.domNode=this._register(new e3(Z0(J,q0(".monaco-icon-label")))),this.labelContainer=Z0(this.domNode.element,q0(".monaco-icon-label-container")),this.nameContainer=Z0(this.labelContainer,q0("span.monaco-icon-name-container")),($===null||$===void 0?void 0:$.supportHighlights)||($===null||$===void 0?void 0:$.supportIcons))this.nameNode=new ar(this.nameContainer,!!$.supportIcons);else this.nameNode=new sr(this.nameContainer);this.hoverDelegate=$===null||$===void 0?void 0:$.hoverDelegate}get element(){return this.domNode.element}setLabel(J,$,Q){var X;let Y=["monaco-icon-label"],Z=["monaco-icon-label-container"],G="";if(Q){if(Q.extraClasses)Y.push(...Q.extraClasses);if(Q.italic)Y.push("italic");if(Q.strikethrough)Y.push("strikethrough");if(Q.disabledCommand)Z.push("disabled");if(Q.title)if(typeof Q.title==="string")G+=Q.title;else G+=J}if(this.domNode.className=Y.join(" "),this.domNode.element.setAttribute("aria-label",G),this.labelContainer.className=Z.join(" "),this.setupHover((Q===null||Q===void 0?void 0:Q.descriptionTitle)?this.labelContainer:this.element,Q===null||Q===void 0?void 0:Q.title),this.nameNode.setLabel(J,Q),$||this.descriptionNode){let q=this.getOrCreateDescriptionNode();if(q instanceof cY)q.set($||"",Q?Q.descriptionMatches:void 0,void 0,Q===null||Q===void 0?void 0:Q.labelEscapeNewLines),this.setupHover(q.element,Q===null||Q===void 0?void 0:Q.descriptionTitle);else q.textContent=$&&(Q===null||Q===void 0?void 0:Q.labelEscapeNewLines)?cY.escapeNewLines($,[]):$||"",this.setupHover(q.element,(Q===null||Q===void 0?void 0:Q.descriptionTitle)||""),q.empty=!$}if((Q===null||Q===void 0?void 0:Q.suffix)||this.suffixNode){let q=this.getOrCreateSuffixNode();q.textContent=(X=Q===null||Q===void 0?void 0:Q.suffix)!==null&&X!==void 0?X:""}}setupHover(J,$){let Q=this.customHovers.get(J);if(Q)Q.dispose(),this.customHovers.delete(J);if(!$){J.removeAttribute("title");return}if(!this.hoverDelegate)Ms(J,$);else{let X=NP(this.hoverDelegate,J,$);if(X)this.customHovers.set(J,X)}}dispose(){super.dispose();for(let J of this.customHovers.values())J.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){let J=this._register(new e3(FC(this.nameContainer,q0("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new e3(Z0(J.element,q0("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var J;if(!this.descriptionNode){let $=this._register(new e3(Z0(this.labelContainer,q0("span.monaco-icon-description-container"))));if((J=this.creationOptions)===null||J===void 0?void 0:J.supportDescriptionHighlights)this.descriptionNode=new cY(Z0($.element,q0("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons});else this.descriptionNode=this._register(new e3(Z0($.element,q0("span.label-description"))))}return this.descriptionNode}}});var rr=N(()=>{j0(".monaco-keybinding{align-items:center;line-height:10px;display:flex}.monaco-keybinding>.monaco-keybinding-key{vertical-align:middle;border-style:solid;border-width:1px;border-radius:3px;margin:0 2px;padding:3px 5px;font-size:11px;display:inline-block}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}")});class AD{constructor(J,$,Q){this.os=$,this.keyElements=new Set,this.options=Q||Object.create(null);let X=this.options.keybindingLabelForeground;if(this.domNode=Z0(J,KD(".monaco-keybinding")),X)this.domNode.style.color=X;this.didEverRender=!1,J.appendChild(this.domNode)}get element(){return this.domNode}set(J,$){if(this.didEverRender&&this.keybinding===J&&AD.areSame(this.matches,$))return;this.keybinding=J,this.matches=$,this.render()}render(){var J;if(this.clear(),this.keybinding){let $=this.keybinding.getChords();if($[0])this.renderChord(this.domNode,$[0],this.matches?this.matches.firstPart:null);for(let X=1;X<$.length;X++)Z0(this.domNode,KD("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,$[X],this.matches?this.matches.chordPart:null);let Q=((J=this.options.disableTitle)!==null&&J!==void 0?J:!1)?void 0:this.keybinding.getAriaLabel()||void 0;if(Q!==void 0)this.domNode.title=Q;else this.domNode.removeAttribute("title")}else if(this.options&&this.options.renderUnboundKeybindings)this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){I5(this.domNode),this.keyElements.clear()}renderChord(J,$,Q){let X=y3.modifierLabels[this.os];if($.ctrlKey)this.renderKey(J,X.ctrlKey,Boolean(Q===null||Q===void 0?void 0:Q.ctrlKey),X.separator);if($.shiftKey)this.renderKey(J,X.shiftKey,Boolean(Q===null||Q===void 0?void 0:Q.shiftKey),X.separator);if($.altKey)this.renderKey(J,X.altKey,Boolean(Q===null||Q===void 0?void 0:Q.altKey),X.separator);if($.metaKey)this.renderKey(J,X.metaKey,Boolean(Q===null||Q===void 0?void 0:Q.metaKey),X.separator);let Y=$.keyLabel;if(Y)this.renderKey(J,Y,Boolean(Q===null||Q===void 0?void 0:Q.keyCode),"")}renderKey(J,$,Q,X){if(Z0(J,this.createKeyElement($,Q?".highlight":"")),X)Z0(J,KD("span.monaco-keybinding-key-separator",void 0,X))}renderUnbound(J){Z0(J,this.createKeyElement(F("unbound","Unbound")))}createKeyElement(J,$=""){let Q=KD("span.monaco-keybinding-key"+$,void 0,J);if(this.keyElements.add(Q),this.options.keybindingLabelBackground)Q.style.backgroundColor=this.options.keybindingLabelBackground;if(this.options.keybindingLabelBorder)Q.style.borderColor=this.options.keybindingLabelBorder;if(this.options.keybindingLabelBottomBorder)Q.style.borderBottomColor=this.options.keybindingLabelBottomBorder;if(this.options.keybindingLabelShadow)Q.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;return Q}static areSame(J,$){if(J===$||!J&&!$)return!0;return!!J&&!!$&&L5(J.firstPart,$.firstPart)&&L5(J.chordPart,$.chordPart)}}var KD;var ir=N(()=>{D0();FP();j7();rr();g0();KD=q0});function HJ0(J,$,Q=!1){let X=J||"",Y=$||"",Z=nr.value.collator.compare(X,Y);if(nr.value.collatorIsNumeric&&Z===0&&X!==Y)return X<Y?-1:1;return Z}function or(J,$,Q){let X=J.toLowerCase(),Y=$.toLowerCase(),Z=jJ0(J,$,Q);if(Z)return Z;let G=X.endsWith(Q),q=Y.endsWith(Q);if(G!==q)return G?-1:1;let U=HJ0(X,Y);if(U!==0)return U;return X.localeCompare(Y)}function jJ0(J,$,Q){let X=J.toLowerCase(),Y=$.toLowerCase(),Z=X.startsWith(Q),G=Y.startsWith(Q);if(Z!==G)return Z?-1:1;else if(Z&&G){if(X.length<Y.length)return-1;if(X.length>Y.length)return 1}return 0}var nr,Wl0,Bl0;var tr=N(()=>{nr=new $9(()=>{let J=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:J,collatorIsNumeric:J.resolvedOptions().numeric}}),Wl0=new $9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0})}}),Bl0=new $9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}})});class dE{constructor(J){this.nodes=J}toString(){return this.nodes.map((J)=>typeof J==="string"?J:J.label).join("")}}function er(J){let $=[],Q=0,X;while(X=WJ0.exec(J)){if(X.index-Q>0)$.push(J.substring(Q,X.index));let[,Y,Z,,G]=X;if(G)$.push({label:Y,href:Z,title:G});else $.push({label:Y,href:Z});Q=X.index+X[0].length}if(Q<J.length)$.push(J.substring(Q));return new dE($)}var VJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},WJ0;var Ji=N(()=>{VJ0([X6],dE.prototype,"toString",null);WJ0=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi});function FJ0(J){if(!J)return;let $,Q=J.dark.toString();if(sE[Q])$=sE[Q];else $=BJ0.nextId(),NF(`.${$}, .hc-light .${$}`,`background-image: ${_4(J.light||J.dark)}`),NF(`.vs-dark .${$}, .hc-black .${$}`,`background-image: ${_4(J.dark)}`),sE[Q]=$;return $}function ZV(J,$,Q){let X=J.iconClass||FJ0(J.iconPath);if(J.alwaysVisible)X=X?`${X} always-visible`:"always-visible";return{id:$,label:"",tooltip:J.tooltip||"",class:X,enabled:!0,run:Q}}function $i(J,$,Q){V5($);let X=er(J),Y=0;for(let Z of X.nodes)if(typeof Z==="string")$.append(...C4(Z));else{let G=Z.title;if(!G&&Z.href.startsWith("command:"))G=F("executeCommand","Click to execute command '{0}'",Z.href.substring(8));else if(!G)G=Z.href;let q=q0("a",{href:Z.href,title:G,tabIndex:Y++},Z.label);q.style.textDecoration="underline";let U=(W)=>{if(VC(W))c0.stop(W,!0);Q.callback(Z.href)},z=Q.disposables.add(new G1(q,$0.CLICK)).event,H=Q.disposables.add(new G1(q,$0.KEY_DOWN)).event,j=J0.chain(H,(W)=>W.filter((B)=>{let K=new K1(B);return K.equals(10)||K.equals(3)}));Q.disposables.add(T1.addTarget(q));let V=Q.disposables.add(new G1(q,E1.Tap)).event;J0.any(z,V,j)(U,null,Q.disposables),$.appendChild(q)}}var sE,BJ0;var aE=N(()=>{D0();NJ();F0();R8();d9();l2();Gk();Ji();YV();g0();sE={},BJ0=new qP("quick-input-button-icon-")});class Yi{constructor(J,$,Q,X,Y,Z,G){var q,U,z;if(this._checked=!1,this._hidden=!1,this.hasCheckbox=X,this.index=Q,this.fireButtonTriggered=Y,this.fireSeparatorButtonTriggered=Z,this._onChecked=G,this.onChecked=X?J0.map(J0.filter(this._onChecked.event,(H)=>H.listElement===this),(H)=>H.checked):J0.None,J.type==="separator")this._separator=J;else{if(this.item=J,$&&$.type==="separator"&&!$.buttons)this._separator=$;this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(q=this.item.highlights)===null||q===void 0?void 0:q.label,this._descriptionHighlights=(U=this.item.highlights)===null||U===void 0?void 0:U.description,this._detailHighlights=(z=this.item.highlights)===null||z===void 0?void 0:z.detail,this.saneTooltip=this.item.tooltip}this._init=new $9(()=>{var H;let j=(H=J.label)!==null&&H!==void 0?H:"",V=N3(j).text.trim(),W=J.ariaLabel||[j,this.saneDescription,this.saneDetail].map((B)=>Pd(B)).filter((B)=>!!B).join(", ");return{saneLabel:j,saneSortLabel:V,saneAriaLabel:W}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(J){this._element=J}get hidden(){return this._hidden}set hidden(J){this._hidden=J}get checked(){return this._checked}set checked(J){if(J!==this._checked)this._checked=J,this._onChecked.fire({listElement:this,checked:J})}get separator(){return this._separator}set separator(J){this._separator=J}get labelHighlights(){return this._labelHighlights}set labelHighlights(J){this._labelHighlights=J}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(J){this._descriptionHighlights=J}get detailHighlights(){return this._detailHighlights}set detailHighlights(J){this._detailHighlights=J}}class GV{constructor(J,$){this.themeService=J,this.hoverDelegate=$}get templateId(){return GV.ID}renderTemplate(J){let $=Object.create(null);$.toDisposeElement=[],$.toDisposeTemplate=[],$.entry=Z0(J,fJ(".quick-input-list-entry"));let Q=Z0($.entry,fJ("label.quick-input-list-label"));$.toDisposeTemplate.push(i1(Q,$0.CLICK,(U)=>{if(!$.checkbox.offsetParent)U.preventDefault()})),$.checkbox=Z0(Q,fJ("input.quick-input-list-checkbox")),$.checkbox.type="checkbox",$.toDisposeTemplate.push(i1($.checkbox,$0.CHANGE,(U)=>{$.element.checked=$.checkbox.checked}));let X=Z0(Q,fJ(".quick-input-list-rows")),Y=Z0(X,fJ(".quick-input-list-row")),Z=Z0(X,fJ(".quick-input-list-row"));$.label=new JU(Y,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.label),$.icon=qq($.label.element,fJ(".quick-input-list-icon"));let G=Z0(Y,fJ(".quick-input-list-entry-keybinding"));$.keybinding=new AD(G,I8);let q=Z0(Z,fJ(".quick-input-list-label-meta"));return $.detail=new JU(q,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.detail),$.separator=Z0($.entry,fJ(".quick-input-list-separator")),$.actionBar=new H8($.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),$.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),$.toDisposeTemplate.push($.actionBar),$}renderElement(J,$,Q){var X,Y,Z,G;Q.element=J,J.element=(X=Q.entry)!==null&&X!==void 0?X:void 0;let q=J.item?J.item:J.separator;Q.checkbox.checked=J.checked,Q.toDisposeElement.push(J.onChecked((W)=>Q.checkbox.checked=W));let{labelHighlights:U,descriptionHighlights:z,detailHighlights:H}=J;if((Y=J.item)===null||Y===void 0?void 0:Y.iconPath){let W=_2(this.themeService.getColorTheme().type)?J.item.iconPath.dark:(Z=J.item.iconPath.light)!==null&&Z!==void 0?Z:J.item.iconPath.dark,B=I0.revive(W);Q.icon.className="quick-input-list-icon",Q.icon.style.backgroundImage=_4(B)}else Q.icon.style.backgroundImage="",Q.icon.className=((G=J.item)===null||G===void 0?void 0:G.iconClass)?`quick-input-list-icon ${J.item.iconClass}`:"";let j={matches:U||[],descriptionTitle:J.saneTooltip?void 0:J.saneDescription,descriptionMatches:z||[],labelEscapeNewLines:!0};if(q.type!=="separator")j.extraClasses=q.iconClasses,j.italic=q.italic,j.strikethrough=q.strikethrough,Q.entry.classList.remove("quick-input-list-separator-as-item");else Q.entry.classList.add("quick-input-list-separator-as-item");if(Q.label.setLabel(J.saneLabel,J.saneDescription,j),Q.keybinding.set(q.type==="separator"?void 0:q.keybinding),J.saneDetail)Q.detail.element.style.display="",Q.detail.setLabel(J.saneDetail,void 0,{matches:H,title:J.saneTooltip?void 0:J.saneDetail,labelEscapeNewLines:!0});else Q.detail.element.style.display="none";if(J.item&&J.separator&&J.separator.label)Q.separator.textContent=J.separator.label,Q.separator.style.display="";else Q.separator.style.display="none";Q.entry.classList.toggle("quick-input-list-separator-border",!!J.separator);let V=q.buttons;if(V&&V.length)Q.actionBar.push(V.map((W,B)=>ZV(W,`id-${B}`,()=>q.type!=="separator"?J.fireButtonTriggered({button:W,item:q}):J.fireSeparatorButtonTriggered({button:W,separator:q}))),{icon:!0,label:!1}),Q.entry.classList.add("has-actions");else Q.entry.classList.remove("has-actions")}disposeElement(J,$,Q){Q.toDisposeElement=k1(Q.toDisposeElement),Q.actionBar.clear()}disposeTemplate(J){J.toDisposeElement=k1(J.toDisposeElement),J.toDisposeTemplate=k1(J.toDisposeTemplate)}}class Zi{getHeight(J){if(!J.item)return 24;return J.saneDetail?44:22}getTemplateId(J){return GV.ID}}class qV{constructor(J,$,Q,X){this.parent=J,this.options=Q,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new y,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new y,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new y,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new y,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new y,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new y,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new y,this.onKeyDown=this._onKeyDown.event,this._onLeave=new y,this.onLeave=this._onLeave.event,this._listElementChecked=new y,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=$,this.container=Z0(this.parent,fJ(".quick-input-list"));let Y=new Zi,Z=new Gi;this.list=Q.createList("QuickInput",this.container,Y,[new GV(X,Q.hoverDelegate)],{identityProvider:{getId:(q)=>{var U,z,H,j,V,W,B,K;return(K=(W=(j=(z=(U=q.item)===null||U===void 0?void 0:U.id)!==null&&z!==void 0?z:(H=q.item)===null||H===void 0?void 0:H.label)!==null&&j!==void 0?j:(V=q.separator)===null||V===void 0?void 0:V.id)!==null&&W!==void 0?W:(B=q.separator)===null||B===void 0?void 0:B.label)!==null&&K!==void 0?K:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Z}),this.list.getHTMLElement().id=$,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((q)=>{let U=new K1(q);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:if(r0?q.metaKey:q.ctrlKey)this.list.setFocus(w5(this.list.length));break;case 16:{let z=this.list.getFocus();if(z.length===1&&z[0]===0)this._onLeave.fire();break}case 18:{let z=this.list.getFocus();if(z.length===1&&z[0]===this.list.length-1)this._onLeave.fire();break}}this._onKeyDown.fire(U)})),this.disposables.push(this.list.onMouseDown((q)=>{if(q.browserEvent.button!==2)q.browserEvent.preventDefault()})),this.disposables.push(m(this.container,$0.CLICK,(q)=>{if(q.x||q.y)this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick((q)=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu((q)=>{if(typeof q.index==="number")q.browserEvent.preventDefault(),this.list.setSelection([q.index])}));let G=new Wz(Q.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async(q)=>{var U;if(q.browserEvent.target instanceof HTMLAnchorElement){G.cancel();return}if(!(q.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&p6(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;try{await G.trigger(async()=>{if(q.element)this.showHover(q.element)})}catch(z){if(!eJ(z))throw z}})),this.disposables.push(this.list.onMouseOut((q)=>{var U;if(p6(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;G.cancel()})),this.disposables.push(G),this.disposables.push(this._listElementChecked.event((q)=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return J0.map(this.list.onDidChangeFocus,(J)=>J.elements.map(($)=>$.item))}get onDidChangeSelection(){return J0.map(this.list.onDidChangeSelection,(J)=>({items:J.elements.map(($)=>$.item),event:J.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(J){this.list.getHTMLElement().ariaLabel=J}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(J,$=!0){for(let Q=0,X=J.length;Q<X;Q++){let Y=J[Q];if(!Y.hidden)if(!Y.checked)return!1;else $=!0}return $}getCheckedCount(){let J=0,$=this.elements;for(let Q=0,X=$.length;Q<X;Q++)if($[Q].checked)J++;return J}getVisibleCount(){let J=0,$=this.elements;for(let Q=0,X=$.length;Q<X;Q++)if(!$[Q].hidden)J++;return J}setAllVisibleChecked(J){try{this._fireCheckedEvents=!1,this.elements.forEach(($)=>{if(!$.hidden)$.checked=J})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(J){this.elementDisposables=k1(this.elementDisposables);let $=(Z)=>this.fireButtonTriggered(Z),Q=(Z)=>this.fireSeparatorButtonTriggered(Z);this.inputElements=J;let X=new Map,Y=this.parent.classList.contains("show-checkboxes");this.elements=J.reduce((Z,G,q)=>{var U;let z=q>0?J[q-1]:void 0;if(G.type==="separator"){if(!G.buttons)return Z}let H=new Yi(G,z,q,Y,$,Q,this._listElementChecked),j=Z.length;return Z.push(H),X.set((U=H.item)!==null&&U!==void 0?U:H.separator,j),Z},[]),this.elementsToIndexes=X,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((J)=>J.item)}setFocusedElements(J){if(this.list.setFocus(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($))),J.length>0){let $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(J){this.list.setSelection(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($)))}getCheckedElements(){return this.elements.filter((J)=>J.checked).map((J)=>J.item).filter((J)=>!!J)}setCheckedElements(J){try{this._fireCheckedEvents=!1;let $=new Set;for(let Q of J)$.add(Q);for(let Q of this.elements)Q.checked=$.has(Q.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(J){this.list.getHTMLElement().style.pointerEvents=J?"":"none"}focus(J){if(!this.list.length)return;if(J===N5.Second&&this.list.length<2)J=N5.First;switch(J){case N5.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(Q)=>!!Q.item);break;case N5.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(Q)=>!!Q.item);break;case N5.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(Q)=>!!Q.item);break;case N5.Next:{this.list.focusNext(void 0,!0,void 0,(X)=>!!X.item);let Q=this.list.getFocus()[0];if(Q!==0&&!this.elements[Q-1].item&&this.list.firstVisibleIndex>Q-1)this.list.reveal(Q-1);break}case N5.Previous:{this.list.focusPrevious(void 0,!0,void 0,(X)=>!!X.item);let Q=this.list.getFocus()[0];if(Q!==0&&!this.elements[Q-1].item&&this.list.firstVisibleIndex>Q-1)this.list.reveal(Q-1);break}case N5.NextPage:this.list.focusNextPage(void 0,(Q)=>!!Q.item);break;case N5.PreviousPage:this.list.focusPreviousPage(void 0,(Q)=>!!Q.item);break}let $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(J){var $,Q,X;if(this._lastHover&&!this._lastHover.isDisposed)(Q=($=this.options.hoverDelegate).onDidHideHover)===null||Q===void 0||Q.call($),(X=this._lastHover)===null||X===void 0||X.dispose();if(!J.element||!J.saneTooltip)return;this._lastHover=this.options.hoverDelegate.showHover({content:J.saneTooltip,target:J.element,linkHandler:(Y)=>{this.options.linkOpenerDelegate(Y)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)}layout(J){this.list.getHTMLElement().style.maxHeight=J?`${Math.floor(J/44)*44+6}px`:"",this.list.layout()}filter(J){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;let $=J;if(J=J.trim(),!J||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach((X)=>{X.labelHighlights=void 0,X.descriptionHighlights=void 0,X.detailHighlights=void 0,X.hidden=!1;let Y=X.index&&this.inputElements[X.index-1];if(X.item)X.separator=Y&&Y.type==="separator"&&!Y.buttons?Y:void 0});else{let X;this.elements.forEach((Y)=>{var Z,G,q,U;let z;if(this.matchOnLabelMode==="fuzzy")z=this.matchOnLabel?(Z=ZP(J,N3(Y.saneLabel)))!==null&&Z!==void 0?Z:void 0:void 0;else z=this.matchOnLabel?(G=KJ0($,N3(Y.saneLabel)))!==null&&G!==void 0?G:void 0:void 0;let H=this.matchOnDescription?(q=ZP(J,N3(Y.saneDescription||"")))!==null&&q!==void 0?q:void 0:void 0,j=this.matchOnDetail?(U=ZP(J,N3(Y.saneDetail||"")))!==null&&U!==void 0?U:void 0:void 0;if(z||H||j)Y.labelHighlights=z,Y.descriptionHighlights=H,Y.detailHighlights=j,Y.hidden=!1;else Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=Y.item?!Y.item.alwaysShow:!0;if(Y.item)Y.separator=void 0;else if(Y.separator)Y.hidden=!0;if(!this.sortByLabel){let V=Y.index&&this.inputElements[Y.index-1];if(X=V&&V.type==="separator"?V:X,X&&!Y.hidden)Y.separator=X,X=void 0}})}let Q=this.elements.filter((X)=>!X.hidden);if(this.sortByLabel&&J){let X=J.toLowerCase();Q.sort((Y,Z)=>{return AJ0(Y,Z,X)})}return this.elementsToIndexes=Q.reduce((X,Y,Z)=>{var G;return X.set((G=Y.item)!==null&&G!==void 0?G:Y.separator,Z),X},new Map),this.list.splice(0,this.list.length,Q),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(Q.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;let J=this.list.getFocusedElements(),$=this.allVisibleChecked(J);for(let Q of J)Q.checked=!$}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(J){this.container.style.display=J?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=k1(this.elementDisposables),this.disposables=k1(this.disposables)}fireCheckedEvents(){if(this._fireCheckedEvents)this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements())}fireButtonTriggered(J){this._onButtonTriggered.fire(J)}fireSeparatorButtonTriggered(J){this._onSeparatorButtonTriggered.fire(J)}style(J){this.list.style(J)}toggleHover(){let J=this.list.getFocusedElements()[0];if(!(J===null||J===void 0?void 0:J.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}let $=this.list.getFocusedElements()[0];if(!$)return;this.showHover($);let Q=new r;if(Q.add(this.list.onDidChangeFocus((X)=>{if(X.indexes.length)this.showHover(X.elements[0])})),this._lastHover)Q.add(this._lastHover);this._toggleHover=Q,this.elementDisposables.push(this._toggleHover)}}function KJ0(J,$){let{text:Q,iconOffsets:X}=$;if(!X||X.length===0)return Qi(J,Q);let Y=dX(Q," "),Z=Q.length-Y.length,G=Qi(J,Y);if(G)for(let q of G){let U=X[q.start+Z]+Z;q.start+=U,q.end+=U}return G}function Qi(J,$){let Q=$.toLowerCase().indexOf(J.toLowerCase());if(Q!==-1)return[{start:Q,end:Q+J.length}];return null}function AJ0(J,$,Q){let X=J.labelHighlights||[],Y=$.labelHighlights||[];if(X.length&&!Y.length)return-1;if(!X.length&&Y.length)return 1;if(X.length===0&&Y.length===0)return 0;return or(J.saneSortLabel,$.saneSortLabel,Q)}class Gi{getWidgetAriaLabel(){return F("quickInput","Quick Input")}getAriaLabel(J){var $;return(($=J.separator)===null||$===void 0?void 0:$.label)?`${J.saneAriaLabel}, ${J.separator.label}`:J.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(J){return J.hasCheckbox?"checkbox":"option"}isChecked(J){if(!J.hasCheckbox)return;return{value:J.checked,onDidChange:J.onChecked}}}var Xi=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fJ,N5;var rE=N(()=>{D0();R8();r$();lE();ir();U1();u1();tr();P1();F0();T3();Q0();M1();t0();YV();g0();aE();o6();aQ();fJ=q0;GV.ID="listelement";(function(J){J[J.First=1]="First",J[J.Second=2]="Second",J[J.Last=3]="Last",J[J.Next=4]="Next",J[J.Previous=5]="Previous",J[J.NextPage=6]="NextPage",J[J.PreviousPage=7]="PreviousPage"})(N5||(N5={}));Xi([X6],qV.prototype,"onDidChangeFocus",null);Xi([X6],qV.prototype,"onDidChangeSelection",null)});class nE{get delay(){if(Date.now()-this.lastHoverHideTime<200)return 0;return this.configurationService.getValue("workbench.hover.delay")}constructor(J,$){this.configurationService=J,this.hoverService=$,this.lastHoverHideTime=0,this.placement="element"}showHover(J,$){var Q;let X=(J.content instanceof HTMLElement?(Q=J.content.textContent)!==null&&Q!==void 0?Q:"":typeof J.content==="string"?J.content:J.content.value).length>20;return this.hoverService.showHover({...J,persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:X,skipFadeInAnimation:!0}},$)}onDidHideHover(){this.lastHoverHideTime=Date.now()}}var PD,UV,$U,iE;var oE=N(()=>{D0();R8();lj();U1();u1();U5();F0();Q0();M1();IY();H5();YV();g0();XV();rE();aE();PD={iconClass:b0.asClassName(U0.quickInputBack),tooltip:F("quickInput.back","Back"),handle:-1};UV=class UV extends h{constructor(J){super();this.ui=J,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=UV.noPromptMessage,this._severity=A6.Ignore,this.onDidTriggerButtonEmitter=this._register(new y),this.onDidHideEmitter=this._register(new y),this.onDisposeEmitter=this._register(new y),this.visibleDisposables=this._register(new r),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(J){this._title=J,this.update()}get description(){return this._description}set description(J){this._description=J,this.update()}get step(){return this._steps}set step(J){this._steps=J,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(J){this._totalSteps=J,this.update()}get enabled(){return this._enabled}set enabled(J){this._enabled=J,this.update()}get contextKey(){return this._contextKey}set contextKey(J){this._contextKey=J,this.update()}get busy(){return this._busy}set busy(J){this._busy=J,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(J){let $=this._ignoreFocusOut!==J&&!O9;if(this._ignoreFocusOut=J&&!O9,$)this.update()}get buttons(){return this._buttons}set buttons(J){this._buttons=J,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(J){this._toggles=J!==null&&J!==void 0?J:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(J){this._validationMessage=J,this.update()}get severity(){return this._severity}set severity(J){this._severity=J,this.update()}show(){if(this.visible)return;if(this.visibleDisposables.add(this.ui.onDidTriggerButton((J)=>{if(this.buttons.indexOf(J)!==-1)this.onDidTriggerButtonEmitter.fire(J)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length)this.buttonsUpdated=!0;if(this.toggles.length)this.togglesUpdated=!0;this.update()}hide(){if(!this.visible)return;this.ui.hide()}didHide(J=VG.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:J})}update(){var J,$;if(!this.visible)return;let Q=this.getTitle();if(Q&&this.ui.title.textContent!==Q)this.ui.title.textContent=Q;else if(!Q&&this.ui.title.innerHTML!=="&nbsp;")this.ui.title.innerText=" ";let X=this.getDescription();if(this.ui.description1.textContent!==X)this.ui.description1.textContent=X;if(this.ui.description2.textContent!==X)this.ui.description2.textContent=X;if(this._widgetUpdated)if(this._widgetUpdated=!1,this._widget)V5(this.ui.widget,this._widget);else V5(this.ui.widget);if(this.busy&&!this.busyDelay)this.busyDelay=new M8,this.busyDelay.setIfNotSet(()=>{if(this.visible)this.ui.progressBar.infinite()},800);if(!this.busy&&this.busyDelay)this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0;if(this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let Z=this.buttons.filter((q)=>q===PD).map((q,U)=>ZV(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.leftActionBar.push(Z,{icon:!0,label:!1}),this.ui.rightActionBar.clear();let G=this.buttons.filter((q)=>q!==PD).map((q,U)=>ZV(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.rightActionBar.push(G,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;let Z=($=(J=this.toggles)===null||J===void 0?void 0:J.filter((G)=>G instanceof i$))!==null&&$!==void 0?$:[];this.ui.inputBox.toggles=Z}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let Y=this.validationMessage||this.noValidationMessage;if(this._lastValidationMessage!==Y)this._lastValidationMessage=Y,V5(this.ui.message),$i(Y,this.ui.message,{callback:(Z)=>{this.ui.linkOpenerDelegate(Z)},disposables:this.visibleDisposables});if(this._lastSeverity!==this.severity)this._lastSeverity=this.severity,this.showMessageDecoration(this.severity)}getTitle(){if(this.title&&this.step)return`${this.title} (${this.getSteps()})`;if(this.title)return this.title;if(this.step)return this.getSteps();return""}getDescription(){return this.description||""}getSteps(){if(this.step&&this.totalSteps)return F("quickInput.steps","{0}/{1}",this.step,this.totalSteps);if(this.step)return String(this.step);return""}showMessageDecoration(J){if(this.ui.inputBox.showDecoration(J),J!==A6.Ignore){let $=this.ui.inputBox.stylesForType(J);this.ui.message.style.color=$.foreground?`${$.foreground}`:"",this.ui.message.style.backgroundColor=$.background?`${$.background}`:"",this.ui.message.style.border=$.border?`1px solid ${$.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};UV.noPromptMessage=F("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");$U=class $U extends UV{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new y),this.onWillAcceptEmitter=this._register(new y),this.onDidAcceptEmitter=this._register(new y),this.onDidCustomEmitter=this._register(new y),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=f4.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new y),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new y),this.onDidTriggerItemButtonEmitter=this._register(new y),this.onDidTriggerSeparatorButtonEmitter=this._register(new y),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=(J)=>J,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(J){this._quickNavigate=J,this.update()}get value(){return this._value}set value(J){this.doSetValue(J)}doSetValue(J,$){if(this._value!==J){if(this._value=J,!$)this.update();if(this.visible){if(this.ui.list.filter(this.filterValue(this._value)))this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(J){this._ariaLabel=J,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(J){this.ui.list.scrollTop=J}set items(J){this._items=J,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(J){this._canSelectMany=J,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(J){this._canAcceptInBackground=J}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(J){this._matchOnDescription=J,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(J){this._matchOnDetail=J,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(J){this._matchOnLabel=J,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(J){this._matchOnLabelMode=J,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(J){this._sortByLabel=J,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(J){this._keepScrollPosition=J}get itemActivation(){return this._itemActivation}set itemActivation(J){this._itemActivation=J}get activeItems(){return this._activeItems}set activeItems(J){this._activeItems=J,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(J){this._selectedItems=J,this.selectedItemsUpdated=!0,this.update()}get keyMods(){if(this._quickNavigate)return pr;return this.ui.keyMods}set valueSelection(J){this._valueSelection=J,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(J){this._customButton=J,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(J){this._customButtonLabel=J,this.update()}get customHover(){return this._customButtonHover}set customHover(J){this._customButtonHover=J,this.update()}get ok(){return this._ok}set ok(J){this._ok=J,this.update()}get hideInput(){return!!this._hideInput}set hideInput(J){this._hideInput=J,this.update()}trySelectFirst(){if(!this.canSelectMany)this.ui.list.focus(N5.First)}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{this.doSetValue(J,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((J)=>{switch(J.keyCode){case 18:if(this.ui.list.focus(N5.Next),this.canSelectMany)this.ui.list.domFocus();c0.stop(J,!0);break;case 16:if(this.ui.list.getFocusedElements().length)this.ui.list.focus(N5.Previous);else this.ui.list.focus(N5.Last);if(this.canSelectMany)this.ui.list.domFocus();c0.stop(J,!0);break;case 12:if(this.ui.list.focus(N5.NextPage),this.canSelectMany)this.ui.list.domFocus();c0.stop(J,!0);break;case 11:if(this.ui.list.focus(N5.PreviousPage),this.canSelectMany)this.ui.list.domFocus();c0.stop(J,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0);break;case 14:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(N5.First),c0.stop(J,!0);break;case 13:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(N5.Last),c0.stop(J,!0);break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{if(this.canSelectMany){if(!this.ui.list.getCheckedElements().length)this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)}else if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems);this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((J)=>{if(this.activeItemsUpdated)return;if(this.activeItemsToConfirm!==this._activeItems&&Q6(J,this._activeItems,($,Q)=>$===Q))return;this._activeItems=J,this.onDidChangeActiveEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:J,event:$})=>{if(this.canSelectMany){if(J.length)this.ui.list.setSelectedElements([]);return}if(this.selectedItemsToConfirm!==this._selectedItems&&Q6(J,this._selectedItems,(Q,X)=>Q===X))return;if(this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J),J.length)this.handleAccept(Zq($)&&$.button===1)})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((J)=>{if(!this.canSelectMany)return;if(this.selectedItemsToConfirm!==this._selectedItems&&Q6(J,this._selectedItems,($,Q)=>$===Q))return;this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onButtonTriggered((J)=>this.onDidTriggerItemButtonEmitter.fire(J))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((J)=>this.onDidTriggerSeparatorButtonEmitter.fire(J))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0;super.show()}handleAccept(J){let $=!1;if(this.onWillAcceptEmitter.fire({veto:()=>$=!0}),!$)this.onDidAcceptEmitter.fire({inBackground:J})}registerQuickNavigation(){return m(this.ui.container,$0.KEY_UP,(J)=>{if(this.canSelectMany||!this._quickNavigate)return;let $=new K1(J),Q=$.keyCode;if(this._quickNavigate.keybindings.some((Z)=>{let G=Z.getChords();if(G.length>1)return!1;if(G[0].shiftKey&&Q===4){if($.ctrlKey||$.altKey||$.metaKey)return!1;return!0}if(G[0].altKey&&Q===6)return!0;if(G[0].ctrlKey&&Q===5)return!0;if(G[0].metaKey&&Q===57)return!0;return!1})){if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1);this._quickNavigate=void 0}})}update(){if(!this.visible)return;let J=this.keepScrollPosition?this.scrollTop:0,$=!!this.description,Q={title:!!this.title||!!this.step||!!this.buttons.length,description:$,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||$,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(Q),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";let X=this.ariaLabel;if(!X&&Q.inputBox){if(X=this.placeholder||$U.DEFAULT_ARIA_LABEL,this.title)X+=` - ${this.title}`}if(this.ui.list.ariaLabel!==X)this.ui.list.ariaLabel=X!==null&&X!==void 0?X:null;if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case f4.NONE:this._itemActivation=f4.FIRST;break;case f4.SECOND:this.ui.list.focus(N5.Second),this._itemActivation=f4.FIRST;break;case f4.LAST:this.ui.list.focus(N5.Last),this._itemActivation=f4.FIRST;break;default:this.trySelectFirst();break}if(this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany)if(this.canSelectMany)this.ui.list.clearFocus();else this.trySelectFirst();if(this.activeItemsUpdated){if(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems)this.activeItemsToConfirm=null}if(this.selectedItemsUpdated){if(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany)this.ui.list.setCheckedElements(this.selectedItems);else this.ui.list.setSelectedElements(this.selectedItems);if(this.selectedItemsToConfirm===this._selectedItems)this.selectedItemsToConfirm=null}if(this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",!Q.inputBox){if(this.ui.list.domFocus(),this.canSelectMany)this.ui.list.focus(N5.First)}if(this.keepScrollPosition)this.scrollTop=J}};$U.DEFAULT_ARIA_LABEL=F("quickInputBox.ariaLabel","Type to narrow down results.");iE=class iE extends UV{constructor(){super(...arguments);this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new y),this.onDidAcceptEmitter=this._register(new y),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(J){this._value=J||"",this.update()}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get password(){return this._password}set password(J){this._password=J,this.update()}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{if(J===this.value)return;this._value=J,this.onDidValueChangeEmitter.fire(J)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0;super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");let J={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};if(this.ui.setVisibilities(J),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";if(this.ui.inputBox.password!==this.password)this.ui.inputBox.password=this.password}}});var qi=N(()=>{j0(".monaco-text-button{box-sizing:border-box;text-align:center;cursor:pointer;border:1px solid var(--vscode-button-border,transparent);border-radius:2px;justify-content:center;align-items:center;width:100%;padding:4px;line-height:18px;display:flex}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled:focus,.monaco-button.disabled{cursor:default;opacity:.4!important}.monaco-text-button .codicon{margin:0 .2em;color:inherit!important}.monaco-text-button.monaco-text-button-with-short-label{flex-flow:wrap;height:28px;padding:0 4px;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label{flex-basis:100%}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{flex-grow:1;width:0;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label,.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{font-weight:400;font-style:inherit;justify-content:center;align-items:center;padding:4px 0;display:flex}.monaco-button-dropdown{cursor:pointer;display:flex}.monaco-button-dropdown.disabled{cursor:default}.monaco-button-dropdown>.monaco-button:focus{outline-offset:-1px!important}.monaco-button-dropdown.disabled>.monaco-button.disabled,.monaco-button-dropdown.disabled>.monaco-button.disabled:focus,.monaco-button-dropdown.disabled>.monaco-button-dropdown-separator{opacity:.4!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-right-width:0!important}.monaco-button-dropdown .monaco-button-dropdown-separator{cursor:default;padding:4px 0}.monaco-button-dropdown .monaco-button-dropdown-separator>div{width:1px;height:100%}.monaco-button-dropdown>.monaco-button.monaco-dropdown-button{border:1px solid var(--vscode-button-border,transparent);border-radius:0 2px 2px 0;align-items:center;display:flex;border-left-width:0!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-radius:2px 0 0 2px}.monaco-description-button{flex-direction:column;align-items:center;margin:4px 5px;display:flex}.monaco-description-button .monaco-button-description{padding:4px 20px;font-size:11px;font-style:italic}.monaco-description-button .monaco-button-label,.monaco-description-button .monaco-button-description{justify-content:center;align-items:center;display:flex}.monaco-description-button .monaco-button-label>.codicon,.monaco-description-button .monaco-button-description>.codicon{margin:0 .2em;color:inherit!important}.monaco-button.default-colors,.monaco-button-dropdown.default-colors>.monaco-button{color:var(--vscode-button-foreground);background-color:var(--vscode-button-background)}.monaco-button.default-colors:hover,.monaco-button-dropdown.default-colors>.monaco-button:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-button.default-colors.secondary,.monaco-button-dropdown.default-colors>.monaco-button.secondary{color:var(--vscode-button-secondaryForeground);background-color:var(--vscode-button-secondaryBackground)}.monaco-button.default-colors.secondary:hover,.monaco-button-dropdown.default-colors>.monaco-button.secondary:hover{background-color:var(--vscode-button-secondaryHoverBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator{background-color:var(--vscode-button-background);border-top:1px solid var(--vscode-button-border);border-bottom:1px solid var(--vscode-button-border)}.monaco-button-dropdown.default-colors .monaco-button.secondary+.monaco-button-dropdown-separator{background-color:var(--vscode-button-secondaryBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator>div{background-color:var(--vscode-button-separator)}")});var Od0,QU;var tE=N(()=>{D0();BF();R8();zP();d9();l2();g7();F0();s2();Q0();H5();qi();Od0={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:l.white.toString(),buttonForeground:l.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};QU=class QU extends h{get onDidClick(){return this._onDidClick.event}constructor(J,$){super();this._label="",this._onDidClick=this._register(new y),this.options=$,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!$.secondary);let Q=$.secondary?$.buttonSecondaryBackground:$.buttonBackground,X=$.secondary?$.buttonSecondaryForeground:$.buttonForeground;if(this._element.style.color=X||"",this._element.style.backgroundColor=Q||"",$.supportShortLabel)this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label");if(typeof $.ariaLabel==="string")this._element.setAttribute("aria-label",$.ariaLabel);J.appendChild(this._element),this._register(T1.addTarget(this._element)),[$0.CLICK,E1.Tap].forEach((Y)=>{this._register(m(this._element,Y,(Z)=>{if(!this.enabled){c0.stop(Z);return}this._onDidClick.fire(Z)}))}),this._register(m(this._element,$0.KEY_DOWN,(Y)=>{let Z=new K1(Y),G=!1;if(this.enabled&&(Z.equals(3)||Z.equals(10)))this._onDidClick.fire(Y),G=!0;else if(Z.equals(9))this._element.blur(),G=!0;if(G)c0.stop(Z,!0)})),this._register(m(this._element,$0.MOUSE_OVER,(Y)=>{if(!this._element.classList.contains("disabled"))this.updateBackground(!0)})),this._register(m(this._element,$0.MOUSE_OUT,(Y)=>{this.updateBackground(!1)})),this.focusTracker=this._register(IQ(this._element)),this._register(this.focusTracker.onDidFocus(()=>{if(this.enabled)this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{if(this.enabled)this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(J){let $=[];for(let Q of C4(J))if(typeof Q==="string"){if(Q=Q.trim(),Q==="")continue;let X=document.createElement("span");X.textContent=Q,$.push(X)}else $.push(Q);return $}updateBackground(J){let $;if(this.options.secondary)$=J?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground;else $=J?this.options.buttonHoverBackground:this.options.buttonBackground;if($)this._element.style.backgroundColor=$}get element(){return this._element}set label(J){var $;if(this._label===J)return;if(AX(this._label)&&AX(J)&&Dd(this._label,J))return;this._element.classList.add("monaco-text-button");let Q=this.options.supportShortLabel?this._labelElement:this._element;if(AX(J)){let X=L3(J,{inline:!0});X.dispose();let Y=($=X.element.querySelector("p"))===null||$===void 0?void 0:$.innerHTML;if(Y){let Z=VF(Y,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});Q.innerHTML=Z}else V5(Q)}else if(this.options.supportIcons)V5(Q,...this.getContentElements(J));else Q.textContent=J;if(typeof this.options.title==="string")this._element.title=this.options.title;else if(this.options.title)this._element.title=Nd(J);if(typeof this.options.ariaLabel==="string")this._element.setAttribute("aria-label",this.options.ariaLabel);else if(this.options.ariaLabel)this._element.setAttribute("aria-label",this._element.title);this._label=J}get label(){return this._label}set icon(J){this._element.classList.add(...b0.asClassNameArray(J))}set enabled(J){if(J)this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0;else this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0))}get enabled(){return!this._element.classList.contains("disabled")}}});var Ui=N(()=>{j0(".monaco-count-badge{text-align:center;box-sizing:border-box;border-radius:11px;min-width:18px;min-height:18px;padding:3px 6px;font-size:11px;font-weight:400;line-height:11px;display:inline-block}.monaco-count-badge.long{border-radius:2px;min-height:auto;padding:2px 3px;line-height:normal}")});class DD{constructor(J,$,Q){this.options=$,this.styles=Q,this.count=0,this.element=Z0(J,q0(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(J){this.count=J,this.render()}setTitleFormat(J){this.titleFormat=J,this.render()}render(){var J,$;if(this.element.textContent=lX(this.countFormat,this.count),this.element.title=lX(this.titleFormat,this.count),this.element.style.backgroundColor=(J=this.styles.badgeBackground)!==null&&J!==void 0?J:"",this.element.style.color=($=this.styles.badgeForeground)!==null&&$!==void 0?$:"",this.styles.badgeBorder)this.element.style.border=`1px solid ${this.styles.badgeBorder}`}}var zi=N(()=>{D0();t0();Ui()});var Hi=N(()=>{j0(".monaco-progress-container{width:100%;height:2px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:2px;display:none;position:absolute;left:0}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{transition:width .1s linear;left:0}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;transform:translate(0,0)}.monaco-progress-container.infinite.infinite-long-running .progress-bit{animation-timing-function:steps(100,end)}@keyframes progress{0%{transform:translate(0%)scaleX(1)}50%{transform:translate(2500%)scaleX(3)}to{transform:translate(4900%)scaleX(1)}}")});var ji="done",Vi="active",eE="infinite",JI="infinite-long-running",Wi="discrete",zV;var Bi=N(()=>{D0();u1();Q0();Hi();zV=class zV extends h{constructor(J,$){super();this.workedVal=0,this.showDelayedScheduler=this._register(new t1(()=>x7(this.element),0)),this.longRunningScheduler=this._register(new t1(()=>this.infiniteLongRunning(),zV.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(J,$)}create(J,$){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),J.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=($===null||$===void 0?void 0:$.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Vi,eE,JI,Wi),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(J){if(this.element.classList.add(ji),!this.element.classList.contains(eE))if(this.bit.style.width="inherit",J)setTimeout(()=>this.off(),200);else this.off();else if(this.bit.style.opacity="0",J)setTimeout(()=>this.off(),200);else this.off();return this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Wi,ji,JI),this.element.classList.add(Vi,eE),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(JI)}getContainer(){return this.element}};zV.LONG_RUNNING_INFINITE_THRESHOLD=1e4});var PJ0,$I;var Fi=N(()=>{D0();sP();Q0();IY();YV();PJ0=q0;$I=class $I extends h{constructor(J,$,Q){super();this.parent=J,this.onKeyDown=(Y)=>{return i1(this.findInput.inputBox.inputElement,$0.KEY_DOWN,Y)},this.onDidChange=(Y)=>{return this.findInput.onDidChange(Y)},this.container=Z0(this.parent,PJ0(".quick-input-box")),this.findInput=this._register(new i3(this.container,void 0,{label:"",inputBoxStyles:$,toggleStyles:Q}));let X=this.findInput.inputBox.inputElement;X.role="combobox",X.ariaHasPopup="menu",X.ariaAutoComplete="list",X.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(J){this.findInput.setValue(J)}select(J=null){this.findInput.inputBox.select(J)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(J){this.findInput.inputBox.setPlaceHolder(J)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(J){this.findInput.inputBox.inputElement.type=J?"password":"text"}set enabled(J){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!J)}set toggles(J){this.findInput.setAdditionalToggles(J)}setAttribute(J,$){this.findInput.inputBox.inputElement.setAttribute(J,$)}showDecoration(J){if(J===A6.Ignore)this.findInput.clearMessage();else this.findInput.showMessage({type:J===A6.Info?1:J===A6.Warning?2:3,content:""})}stylesForType(J){return this.findInput.inputBox.stylesForType(J===A6.Info?1:J===A6.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}});var n7,HV;var Ki=N(()=>{D0();r$();tE();zi();Bi();e5();F0();Q0();IY();g0();XV();Fi();rE();oE();J8();n7=q0;HV=class HV extends h{constructor(J,$,Q){super();this.options=J,this.themeService=$,this.layoutService=Q,this.enabled=!0,this.onDidAcceptEmitter=this._register(new y),this.onDidCustomEmitter=this._register(new y),this.onDidTriggerButtonEmitter=this._register(new y),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new y),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new y),this.onHide=this.onHideEmitter.event,this.idPrefix=J.idPrefix,this.parentElement=J.container,this.styles=J.styles,this._register(J0.runAndSubscribe(aZ,({window:X,disposables:Y})=>this.registerKeyModsListeners(X,Y),{window:z1,disposables:this._store})),this._register(YC((X)=>{if(this.ui&&B0(this.ui.container)===X)this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(J,$){let Q=(X)=>{this.keyMods.ctrlCmd=X.ctrlKey||X.metaKey,this.keyMods.alt=X.altKey};for(let X of[$0.KEY_DOWN,$0.KEY_UP,$0.MOUSE_DOWN])$.add(m(J,X,Q,!0))}getUI(J){if(this.ui){if(J){if(this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument)this.reparentUI(this.layoutService.activeContainer)}return this.ui}let $=Z0(this.parentElement,n7(".quick-input-widget.show-file-icons"));$.tabIndex=-1,$.style.display="none";let Q=D5($),X=Z0($,n7(".quick-input-titlebar")),Y=this._register(new H8(X,{hoverDelegate:this.options.hoverDelegate}));Y.domNode.classList.add("quick-input-left-action-bar");let Z=Z0(X,n7(".quick-input-title")),G=this._register(new H8(X,{hoverDelegate:this.options.hoverDelegate}));G.domNode.classList.add("quick-input-right-action-bar");let q=Z0($,n7(".quick-input-header")),U=Z0(q,n7("input.quick-input-check-all"));U.type="checkbox",U.setAttribute("aria-label",F("quickInput.checkAll","Toggle all checkboxes")),this._register(i1(U,$0.CHANGE,(C)=>{let u=U.checked;g.setAllVisibleChecked(u)})),this._register(m(U,$0.CLICK,(C)=>{if(C.x||C.y)V.setFocus()}));let z=Z0(q,n7(".quick-input-description")),H=Z0(q,n7(".quick-input-and-message")),j=Z0(H,n7(".quick-input-filter")),V=this._register(new $I(j,this.styles.inputBox,this.styles.toggle));V.setAttribute("aria-describedby",`${this.idPrefix}message`);let W=Z0(j,n7(".quick-input-visible-count"));W.setAttribute("aria-live","polite"),W.setAttribute("aria-atomic","true");let B=new DD(W,{countFormat:F({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),K=Z0(j,n7(".quick-input-count"));K.setAttribute("aria-live","polite");let P=new DD(K,{countFormat:F({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),A=Z0(q,n7(".quick-input-action")),D=this._register(new QU(A,this.styles.button));D.label=F("ok","OK"),this._register(D.onDidClick((C)=>{this.onDidAcceptEmitter.fire()}));let R=Z0(q,n7(".quick-input-action")),M=this._register(new QU(R,{...this.styles.button,supportIcons:!0}));M.label=F("custom","Custom"),this._register(M.onDidClick((C)=>{this.onDidCustomEmitter.fire()}));let _=Z0(H,n7(`#${this.idPrefix}message.quick-input-message`)),T=this._register(new zV($,this.styles.progressBar));T.getContainer().classList.add("quick-input-progress");let w=Z0($,n7(".quick-input-html-widget"));w.tabIndex=-1;let b=Z0($,n7(".quick-input-description")),S=this.idPrefix+"list",g=this._register(new qV($,S,this.options,this.themeService));V.setAttribute("aria-controls",S),this._register(g.onDidChangeFocus(()=>{var C;V.setAttribute("aria-activedescendant",(C=g.getActiveDescendant())!==null&&C!==void 0?C:"")})),this._register(g.onChangedAllVisibleChecked((C)=>{U.checked=C})),this._register(g.onChangedVisibleCount((C)=>{B.setCount(C)})),this._register(g.onChangedCheckedCount((C)=>{P.setCount(C)})),this._register(g.onLeave(()=>{setTimeout(()=>{if(V.setFocus(),this.controller instanceof $U&&this.controller.canSelectMany)g.clearFocus()},0)}));let c=IQ($);return this._register(c),this._register(m($,$0.FOCUS,(C)=>{if(p6(C.relatedTarget,$))return;this.previousFocusElement=C.relatedTarget instanceof HTMLElement?C.relatedTarget:void 0},!0)),this._register(c.onDidBlur(()=>{if(!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut())this.hide(VG.Blur);this.previousFocusElement=void 0})),this._register(m($,$0.FOCUS,(C)=>{V.setFocus()})),this._register(i1($,$0.KEY_DOWN,(C)=>{if(p6(C.target,w))return;switch(C.keyCode){case 3:if(c0.stop(C,!0),this.enabled)this.onDidAcceptEmitter.fire();break;case 9:c0.stop(C,!0),this.hide(VG.Gesture);break;case 2:if(!C.altKey&&!C.ctrlKey&&!C.metaKey){let u=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if($.classList.contains("show-checkboxes"))u.push("input");else u.push("input[type=text]");if(this.getUI().list.isDisplayed())u.push(".monaco-list");if(this.getUI().message)u.push(".quick-input-message a");if(this.getUI().widget){if(p6(C.target,this.getUI().widget))break;u.push(".quick-input-html-widget")}let i=$.querySelectorAll(u.join(", "));if(C.shiftKey&&C.target===i[0])c0.stop(C,!0),g.clearFocus();else if(!C.shiftKey&&p6(C.target,i[i.length-1]))c0.stop(C,!0),i[0].focus()}break;case 10:if(C.ctrlKey)c0.stop(C,!0),this.getUI().list.toggleHover();break}})),this.ui={container:$,styleSheet:Q,leftActionBar:Y,titleBar:X,title:Z,description1:b,description2:z,widget:w,rightActionBar:G,checkAll:U,inputContainer:H,filterContainer:j,inputBox:V,visibleCountContainer:W,visibleCount:B,countContainer:K,count:P,okContainer:A,ok:D,message:_,customButtonContainer:R,customButton:M,list:g,progressBar:T,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:(C)=>this.show(C),hide:()=>this.hide(),setVisibilities:(C)=>this.setVisibilities(C),setEnabled:(C)=>this.setEnabled(C),setContextKey:(C)=>this.options.setContextKey(C),linkOpenerDelegate:(C)=>this.options.linkOpenerDelegate(C)},this.updateStyles(),this.ui}reparentUI(J){if(this.ui)this.parentElement=J,Z0(this.parentElement,this.ui.container)}pick(J,$={},Q=n6.None){return new Promise((X,Y)=>{let Z=(z)=>{var H;Z=X,(H=$.onKeyMods)===null||H===void 0||H.call($,G.keyMods),X(z)};if(Q.isCancellationRequested){Z(void 0);return}let G=this.createQuickPick(),q,U=[G,G.onDidAccept(()=>{if(G.canSelectMany)Z(G.selectedItems.slice()),G.hide();else{let z=G.activeItems[0];if(z)Z(z),G.hide()}}),G.onDidChangeActive((z)=>{let H=z[0];if(H&&$.onDidFocus)$.onDidFocus(H)}),G.onDidChangeSelection((z)=>{if(!G.canSelectMany){let H=z[0];if(H)Z(H),G.hide()}}),G.onDidTriggerItemButton((z)=>$.onDidTriggerItemButton&&$.onDidTriggerItemButton({...z,removeItem:()=>{let H=G.items.indexOf(z.item);if(H!==-1){let j=G.items.slice(),V=j.splice(H,1),W=G.activeItems.filter((K)=>K!==V[0]),B=G.keepScrollPosition;if(G.keepScrollPosition=!0,G.items=j,W)G.activeItems=W;G.keepScrollPosition=B}}})),G.onDidTriggerSeparatorButton((z)=>{var H;return(H=$.onDidTriggerSeparatorButton)===null||H===void 0?void 0:H.call($,z)}),G.onDidChangeValue((z)=>{if(q&&!z&&(G.activeItems.length!==1||G.activeItems[0]!==q))G.activeItems=[q]}),Q.onCancellationRequested(()=>{G.hide()}),G.onDidHide(()=>{k1(U),Z(void 0)})];G.title=$.title,G.canSelectMany=!!$.canPickMany,G.placeholder=$.placeHolder,G.ignoreFocusOut=!!$.ignoreFocusLost,G.matchOnDescription=!!$.matchOnDescription,G.matchOnDetail=!!$.matchOnDetail,G.matchOnLabel=$.matchOnLabel===void 0||$.matchOnLabel,G.quickNavigate=$.quickNavigate,G.hideInput=!!$.hideInput,G.contextKey=$.contextKey,G.busy=!0,Promise.all([J,$.activeItem]).then(([z,H])=>{if(q=H,G.busy=!1,G.items=z,G.canSelectMany)G.selectedItems=z.filter((j)=>j.type!=="separator"&&j.picked);if(q)G.activeItems=[q]}),G.show(),Promise.resolve(J).then(void 0,(z)=>{Y(z),G.hide()})})}createQuickPick(){let J=this.getUI(!0);return new $U(J)}createInputBox(){let J=this.getUI(!0);return new iE(J)}show(J){let $=this.getUI(!0);this.onShowEmitter.fire();let Q=this.controller;this.controller=J,Q===null||Q===void 0||Q.didHide(),this.setEnabled(!0),$.leftActionBar.clear(),$.title.textContent="",$.description1.textContent="",$.description2.textContent="",V5($.widget),$.rightActionBar.clear(),$.checkAll.checked=!1,$.inputBox.placeholder="",$.inputBox.password=!1,$.inputBox.showDecoration(A6.Ignore),$.visibleCount.setCount(0),$.count.setCount(0),V5($.message),$.progressBar.stop(),$.list.setElements([]),$.list.matchOnDescription=!1,$.list.matchOnDetail=!1,$.list.matchOnLabel=!0,$.list.sortByLabel=!0,$.ignoreFocusOut=!1,$.inputBox.toggles=void 0;let X=this.options.backKeybindingLabel();PD.tooltip=X?F("quickInput.backWithKeybinding","Back ({0})",X):F("quickInput.back","Back"),$.container.style.display="",this.updateLayout(),$.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(J){let $=this.getUI();$.title.style.display=J.title?"":"none",$.description1.style.display=J.description&&(J.inputBox||J.checkAll)?"":"none",$.description2.style.display=J.description&&!(J.inputBox||J.checkAll)?"":"none",$.checkAll.style.display=J.checkAll?"":"none",$.inputContainer.style.display=J.inputBox?"":"none",$.filterContainer.style.display=J.inputBox?"":"none",$.visibleCountContainer.style.display=J.visibleCount?"":"none",$.countContainer.style.display=J.count?"":"none",$.okContainer.style.display=J.ok?"":"none",$.customButtonContainer.style.display=J.customButton?"":"none",$.message.style.display=J.message?"":"none",$.progressBar.getContainer().style.display=J.progressBar?"":"none",$.list.display(!!J.list),$.container.classList.toggle("show-checkboxes",!!J.checkBox),$.container.classList.toggle("hidden-input",!J.inputBox&&!J.description),this.updateLayout()}setEnabled(J){if(J!==this.enabled){this.enabled=J;for(let $ of this.getUI().leftActionBar.viewItems)$.action.enabled=J;for(let $ of this.getUI().rightActionBar.viewItems)$.action.enabled=J;this.getUI().checkAll.disabled=!J,this.getUI().inputBox.enabled=J,this.getUI().ok.enabled=J,this.getUI().list.enabled=J}}hide(J){var $,Q;let X=this.controller;if(!X)return;let Y=($=this.ui)===null||$===void 0?void 0:$.container,Z=Y&&!_F(Y);if(this.controller=null,this.onHideEmitter.fire(),Y)Y.style.display="none";if(!Z){let G=this.previousFocusElement;while(G&&!G.offsetParent)G=(Q=G.parentElement)!==null&&Q!==void 0?Q:void 0;if(G===null||G===void 0?void 0:G.offsetParent)G.focus(),this.previousFocusElement=void 0;else this.options.returnFocus()}X.didHide(J)}layout(J,$){this.dimension=J,this.titleBarOffset=$,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;let J=this.ui.container.style,$=Math.min(this.dimension.width*0.62,HV.MAX_WIDTH);J.width=$+"px",J.marginLeft="-"+$/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*0.4)}}applyStyles(J){this.styles=J,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:J,quickInputBackground:$,quickInputForeground:Q,widgetBorder:X,widgetShadow:Y}=this.styles.widget;this.ui.titleBar.style.backgroundColor=J!==null&&J!==void 0?J:"",this.ui.container.style.backgroundColor=$!==null&&$!==void 0?$:"",this.ui.container.style.color=Q!==null&&Q!==void 0?Q:"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=Y?`0 0 8px 2px ${Y}`:"",this.ui.list.style(this.styles.list);let Z=[];if(this.styles.pickerGroup.pickerGroupBorder)Z.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }");if(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground){if(Z.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground)Z.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);if(this.styles.keybindingLabel.keybindingLabelBorder)Z.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);if(this.styles.keybindingLabel.keybindingLabelBottomBorder)Z.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);if(this.styles.keybindingLabel.keybindingLabelShadow)Z.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);if(this.styles.keybindingLabel.keybindingLabelForeground)Z.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);Z.push("}")}let G=Z.join(`
`);if(G!==this.ui.styleSheet.textContent)this.ui.styleSheet.textContent=G}}};HV.MAX_WIDTH=600});var DJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},XU=function(J,$){return function(Q,X){$(Q,X,J)}},RD;var Ai=N(()=>{e5();F0();m1();u0();xY();uE();c2();cr();u3();N8();s6();oE();Ki();v8();oA();RD=class J extends MN{get controller(){if(!this._controller)this._controller=this._register(this.createController());return this._controller}get hasController(){return!!this._controller}get quickAccess(){if(!this._quickAccess)this._quickAccess=this._register(this.instantiationService.createInstance(FD));return this._quickAccess}constructor($,Q,X,Y,Z,G){super(X);this.instantiationService=$,this.contextKeyService=Q,this.layoutService=Y,this.configurationService=Z,this.hoverService=G,this._onShow=this._register(new y),this._onHide=this._register(new y),this.contexts=new Map}createController($=this.layoutService,Q){let X={idPrefix:"quickInput_",container:$.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{return},setContextKey:(Z)=>this.setContextKey(Z),linkOpenerDelegate:(Z)=>{this.instantiationService.invokeFunction((G)=>{G.get(l$).open(Z,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>$.focus(),createList:(Z,G,q,U,z)=>this.instantiationService.createInstance(GD,Z,G,q,U,z),styles:this.computeStyles(),hoverDelegate:new nE(this.configurationService,this.hoverService)},Y=this._register(new HV({...X,...Q},this.themeService,this.layoutService));return Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop),this._register($.onDidLayoutActiveContainer((Z)=>Y.layout(Z,$.activeContainerOffset.quickPickTop))),this._register($.onDidChangeActiveContainer(()=>{if(Y.isVisible())return;Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop)})),this._register(Y.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(Y.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),Y}setContextKey($){let Q;if($){if(Q=this.contexts.get($),!Q)Q=new H0($,!1).bindTo(this.contextKeyService),this.contexts.set($,Q)}if(Q&&Q.get())return;this.resetContextKeys(),Q===null||Q===void 0||Q.set(!0)}resetContextKeys(){this.contexts.forEach(($)=>{if($.get())$.reset()})}pick($,Q={},X=n6.None){return this.controller.pick($,Q,X)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){if(this.hasController)this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:V0(pO),quickInputForeground:V0(Rf),quickInputTitleBackground:V0(Mf),widgetBorder:V0(ih),widgetShadow:V0(P$)},inputBox:nk,toggle:ik,countBadge:Ya,button:$a,progressBar:Qa,keybindingLabel:Ja,list:OX({listBackground:pO,listFocusBackground:T$,listFocusForeground:N$,listInactiveFocusForeground:N$,listInactiveSelectionIconForeground:sQ,listInactiveFocusBackground:T$,listFocusOutline:H6,listInactiveFocusOutline:H6}),pickerGroup:{pickerGroupBorder:V0(_f),pickerGroupForeground:V0(AK)}}}};RD=DJ0([XU(0,p0),XU(1,h0),XU(2,d6),XU(3,F9),XU(4,y1),XU(5,_3)],RD)});class YU{static get(J){return J.getContribution(YU.ID)}constructor(J){this.editor=J,this.widget=new _D(this.editor)}dispose(){this.widget.dispose()}}class _D{constructor(J){this.codeEditor=J,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return _D.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var Pi=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},lY=function(J,$){return function(Q,X){$(Q,X,J)}},QI,MD=class J{get activeService(){let $=this.codeEditorService.getFocusedCodeEditor();if(!$)throw new Error("Quick input service needs a focused editor to work.");let Q=this.mapEditorToService.get($);if(!Q){let X=Q=this.instantiationService.createInstance(QI,$);this.mapEditorToService.set($,Q),e4($.onDidDispose)(()=>{X.dispose(),this.mapEditorToService.delete($)})}return Q}get quickAccess(){return this.activeService.quickAccess}constructor($,Q){this.instantiationService=$,this.codeEditorService=Q,this.mapEditorToService=new Map}pick($,Q={},X=n6.None){return this.activeService.pick($,Q,X)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};var Di=N(()=>{ka();F0();b9();s6();e5();u0();m1();wL();Y9();Ai();v8();oA();QI=class J extends RD{constructor($,Q,X,Y,Z,G,q){super(Q,X,Y,new pA($.getContainerDomNode(),Z),G,q);this.host=void 0;let U=YU.get($);if(U){let z=U.widget;this.host={_serviceBrand:void 0,get mainContainer(){return z.getDomNode()},getContainer(){return z.getDomNode()},get containers(){return[z.getDomNode()]},get activeContainer(){return z.getDomNode()},get mainContainerDimension(){return $.getLayoutInfo()},get activeContainerDimension(){return $.getLayoutInfo()},get onDidLayoutMainContainer(){return $.onDidLayoutChange},get onDidLayoutActiveContainer(){return $.onDidLayoutChange},get onDidLayoutContainer(){return J0.map($.onDidLayoutChange,(H)=>({container:z.getDomNode(),dimension:H}))},get onDidChangeActiveContainer(){return J0.None},get onDidAddContainer(){return J0.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>$.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};QI=Pi([lY(1,p0),lY(2,h0),lY(3,d6),lY(4,l1),lY(5,y1),lY(6,_3)],QI);MD=Pi([lY(0,p0),lY(1,l1)],MD);YU.ID="editor.controller.quickInput";_D.ID="editor.contrib.quickInputWidget";x9(YU.ID,YU,4)});class Ri{constructor(J,$,Q,X,Y){this._parsedThemeRuleBrand=void 0,this.token=J,this.index=$,this.fontStyle=Q,this.foreground=X,this.background=Y}}function RJ0(J){if(!J||!Array.isArray(J))return[];let $=[],Q=0;for(let X=0,Y=J.length;X<Y;X++){let Z=J[X],G=-1;if(typeof Z.fontStyle==="string"){G=0;let z=Z.fontStyle.split(" ");for(let H=0,j=z.length;H<j;H++)switch(z[H]){case"italic":G=G|1;break;case"bold":G=G|2;break;case"underline":G=G|4;break;case"strikethrough":G=G|8;break}}let q=null;if(typeof Z.foreground==="string")q=Z.foreground;let U=null;if(typeof Z.background==="string")U=Z.background;$[Q++]=new Ri(Z.token||"",X,G,q,U)}return $}function MJ0(J,$){J.sort((H,j)=>{let V=TJ0(H.token,j.token);if(V!==0)return V;return H.index-j.index});let Q=0,X="000000",Y="ffffff";while(J.length>=1&&J[0].token===""){let H=J.shift();if(H.fontStyle!==-1)Q=H.fontStyle;if(H.foreground!==null)X=H.foreground;if(H.background!==null)Y=H.background}let Z=new Mi;for(let H of $)Z.getId(H);let G=Z.getId(X),q=Z.getId(Y),U=new XI(Q,G,q),z=new YI(U);for(let H=0,j=J.length;H<j;H++){let V=J[H];z.insert(V.token,V.fontStyle,Z.getId(V.foreground),Z.getId(V.background))}return new OD(Z,z)}class Mi{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(J){if(J===null)return 0;let $=J.match(_J0);if(!$)throw new Error("Illegal value for token color: "+J);J=$[1].toUpperCase();let Q=this._color2id.get(J);if(Q)return Q;return Q=++this._lastColorId,this._color2id.set(J,Q),this._id2color[Q]=l.fromHex("#"+J),Q}getColorMap(){return this._id2color.slice(0)}}class OD{static createFromRawTokenTheme(J,$){return this.createFromParsedTokenTheme(RJ0(J),$)}static createFromParsedTokenTheme(J,$){return MJ0(J,$)}constructor(J,$){this._colorMap=J,this._root=$,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(J){return this._root.match(J)}match(J,$){let Q=this._cache.get($);if(typeof Q==="undefined"){let X=this._match($),Y=NJ0($);Q=(X.metadata|Y<<8)>>>0,this._cache.set($,Q)}return(Q|J<<0)>>>0}}function NJ0(J){let $=J.match(OJ0);if(!$)return 0;switch($[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function TJ0(J,$){if(J<$)return-1;if(J>$)return 1;return 0}class XI{constructor(J,$,Q){this._themeTrieElementRuleBrand=void 0,this._fontStyle=J,this._foreground=$,this._background=Q,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new XI(this._fontStyle,this._foreground,this._background)}acceptOverwrite(J,$,Q){if(J!==-1)this._fontStyle=J;if($!==0)this._foreground=$;if(Q!==0)this._background=Q;this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class YI{constructor(J){this._themeTrieElementBrand=void 0,this._mainRule=J,this._children=new Map}match(J){if(J==="")return this._mainRule;let $=J.indexOf("."),Q,X;if($===-1)Q=J,X="";else Q=J.substring(0,$),X=J.substring($+1);let Y=this._children.get(Q);if(typeof Y!=="undefined")return Y.match(X);return this._mainRule}insert(J,$,Q,X){if(J===""){this._mainRule.acceptOverwrite($,Q,X);return}let Y=J.indexOf("."),Z,G;if(Y===-1)Z=J,G="";else Z=J.substring(0,Y),G=J.substring(Y+1);let q=this._children.get(Z);if(typeof q==="undefined")q=new YI(this._mainRule.clone()),this._children.set(Z,q);q.insert(G,$,Q,X)}}function _i(J){let $=[];for(let Q=1,X=J.length;Q<X;Q++){let Y=J[Q];$[Q]=`.mtk${Q} { color: ${Y}; }`}return $.push(".mtki { font-style: italic; }"),$.push(".mtkb { font-weight: bold; }"),$.push(".mtku { text-decoration: underline; text-underline-position: under; }"),$.push(".mtks { text-decoration: line-through; }"),$.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),$.join(`
`)}var _J0,OJ0;var Oi=N(()=>{g7();_J0=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;OJ0=/\b(comment|string|regex|regexp)\b/});var Ni,Ti,wi,Li;var ki=N(()=>{TJ();N8();Ni={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[c5]:"#FFFFFE",[O$]:"#000000",[mO]:"#E5EBF1",[k2]:"#D3D3D3",[E2]:"#939393",[uO]:"#ADD6FF4D"}},Ti={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[c5]:"#1E1E1E",[O$]:"#D4D4D4",[mO]:"#3A3D41",[k2]:"#404040",[E2]:"#707070",[uO]:"#ADD6FF26"}},wi={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[c5]:"#000000",[O$]:"#FFFFFF",[k2]:"#FFFFFF",[E2]:"#FFFFFF"}},Li={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[c5]:"#FFFFFF",[O$]:"#292929",[k2]:"#292929",[E2]:"#292929"}}});class xi{constructor(){this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:F("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:F("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${b0.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(J,$,Q,X){let Y=this.iconsById[J];if(Y){if(Q&&!Y.description){Y.description=Q,this.iconSchema.properties[J].markdownDescription=`${Q} $(${J})`;let q=this.iconReferenceSchema.enum.indexOf(J);if(q!==-1)this.iconReferenceSchema.enumDescriptions[q]=Q;this._onDidChange.fire()}return Y}let Z={id:J,description:Q,defaults:$,deprecationMessage:X};this.iconsById[J]=Z;let G={$ref:"#/definitions/icons"};if(X)G.deprecationMessage=X;if(Q)G.markdownDescription=`${Q}: $(${J})`;return this.iconSchema.properties[J]=G,this.iconReferenceSchema.enum.push(J),this.iconReferenceSchema.enumDescriptions.push(Q||""),this._onDidChange.fire(),{id:J}}getIcons(){return Object.keys(this.iconsById).map((J)=>this.iconsById[J])}getIcon(J){return this.iconsById[J]}getIconSchema(){return this.iconSchema}toString(){let J=(Y,Z)=>{return Y.id.localeCompare(Z.id)},$=(Y)=>{while(b0.isThemeIcon(Y.defaults))Y=this.iconsById[Y.defaults.id];return`codicon codicon-${Y?Y.id:""}`},Q=[];Q.push("| preview     | identifier                        | default codicon ID                | description"),Q.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let X=Object.keys(this.iconsById).map((Y)=>this.iconsById[Y]);for(let Y of X.filter((Z)=>!!Z.description).sort(J))Q.push(`|<i class="${$(Y)}"></i>|${Y.id}|${b0.isThemeIcon(Y.defaults)?Y.defaults.id:Y.id}|${Y.description||""}|`);Q.push("| preview     | identifier                        "),Q.push("| ----------- | --------------------------------- |");for(let Y of X.filter((Z)=>!b0.isThemeIcon(Z.defaults)).sort(J))Q.push(`|<i class="${$(Y)}"></i>|${Y.id}|`);return Q.join(`
`)}}function Z7(J,$,Q,X){return WG.registerIcon(J,$,Q,X)}function ZI(){return WG}function LJ0(){let J=pW();for(let $ in J){let Q="\\"+J[$].toString(16);WG.registerIcon($,{fontCharacter:Q})}}var wJ0,Ei,Ii,WG,bi="vscode://schemas/icons",Si,yi,ds0,ss0,as0,rs0,is0;var ZU=N(()=>{u1();U5();H5();F0();o6();g0();SF();$7();wJ0={IconContribution:"base.contributions.icons"};(function(J){function $(Q,X){let Y=Q.defaults;while(b0.isThemeIcon(Y)){let Z=WG.getIcon(Y.id);if(!Z)return;Y=Z.defaults}return Y}J.getDefinition=$})(Ei||(Ei={}));(function(J){function $(X){return{weight:X.weight,style:X.style,src:X.src.map((Y)=>({format:Y.format,location:Y.location.toString()}))}}J.toJSONObject=$;function Q(X){let Y=(Z)=>Y5(Z)?Z:void 0;if(X&&Array.isArray(X.src)&&X.src.every((Z)=>Y5(Z.format)&&Y5(Z.location)))return{weight:Y(X.weight),style:Y(X.style),src:X.src.map((Z)=>({format:Z.format,location:I0.parse(Z.location)}))};return}J.fromJSONObject=Q})(Ii||(Ii={}));WG=new xi;r1.add(wJ0.IconContribution,WG);LJ0();Si=r1.as($2.JSONContribution);Si.registerSchema(bi,WG.getIconSchema());yi=new t1(()=>Si.notifySchemaChanged(bi),200);WG.onDidChange(()=>{if(!yi.isScheduled())yi.schedule()});ds0=Z7("widget-close",U0.close,F("widgetClose","Icon for the close action in widgets.")),ss0=Z7("goto-previous-location",U0.arrowUp,F("previousChangeIcon","Icon for goto previous editor location.")),as0=Z7("goto-next-location",U0.arrowDown,F("nextChangeIcon","Icon for goto next editor location.")),rs0=b0.modify(U0.sync,"spin"),is0=b0.modify(U0.loading,"spin")});function Ci(J){let $=new r,Q=$.add(new y),X=ZI();if($.add(X.onDidChange(()=>Q.fire())),J)$.add(J.onDidProductIconThemeChange(()=>Q.fire()));return{dispose:()=>$.dispose(),onDidChange:Q.event,getCSS(){let Y=J?J.getProductIconTheme():new ND,Z={},G=(U)=>{let z=Y.getIcon(U);if(!z)return;let H=z.font;if(H)return Z[H.id]=H.definition,`.codicon-${U.id}:before { content: '${z.fontCharacter}'; font-family: ${q_(H.id)}; }`;return`.codicon-${U.id}:before { content: '${z.fontCharacter}'; }`},q=[];for(let U of X.getIcons()){let z=G(U);if(z)q.push(z)}for(let U in Z){let z=Z[U],H=z.weight?`font-weight: ${z.weight};`:"",j=z.style?`font-style: ${z.style};`:"",V=z.src.map((W)=>`${_4(W.location)} format('${W.format}')`).join(", ");q.push(`@font-face { src: ${V}; font-family: ${q_(U)};${H}${j} font-display: block; }`)}return q.join(`
`)}}}class ND{getIcon(J){let $=ZI(),Q=J.defaults;while(b0.isThemeIcon(Q)){let X=$.getIcon(Q.id);if(!X)return;Q=X.defaults}return Q}}var vi=N(()=>{D0();F0();Q0();H5();ZU()});class qI{constructor(J,$){this.semanticHighlighting=!1,this.themeData=$;let Q=$.base;if(J.length>0){if(wD(J))this.id=J;else this.id=Q+" "+J;this.themeName=J}else this.id=Q,this.themeName=Q;this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){if(this.themeData.inherit)this.colors=null,this._tokenTheme=null}getColors(){if(!this.colors){let J=new Map;for(let $ in this.themeData.colors)J.set($,l.fromHex(this.themeData.colors[$]));if(this.themeData.inherit){let $=GI(this.themeData.base);for(let Q in $.colors)if(!J.has(Q))J.set(Q,l.fromHex($.colors[Q]))}this.colors=J}return this.colors}getColor(J,$){let Q=this.getColors().get(J);if(Q)return Q;if($!==!1)return this.getDefault(J);return}getDefault(J){let $=this.defaultColors[J];if($)return $;return $=hi.resolveDefaultColor(J,this),this.defaultColors[J]=$,$}defines(J){return this.getColors().has(J)}get type(){switch(this.base){case dY:return c7.LIGHT;case GU:return c7.HIGH_CONTRAST_DARK;case qU:return c7.HIGH_CONTRAST_LIGHT;default:return c7.DARK}}get tokenTheme(){if(!this._tokenTheme){let J=[],$=[];if(this.themeData.inherit){let Y=GI(this.themeData.base);if(J=Y.rules,Y.encodedTokensColors)$=Y.encodedTokensColors}let Q=this.themeData.colors["editor.foreground"],X=this.themeData.colors["editor.background"];if(Q||X){let Y={token:""};if(Q)Y.foreground=Q;if(X)Y.background=X;J.push(Y)}if(J=J.concat(this.themeData.rules),this.themeData.encodedTokensColors)$=this.themeData.encodedTokensColors;this._tokenTheme=OD.createFromRawTokenTheme(J,$)}return this._tokenTheme}getTokenStyleMetadata(J,$,Q){let Y=this.tokenTheme._match([J].concat($).join(".")).metadata,Z=u5.getForeground(Y),G=u5.getFontStyle(Y);return{foreground:Z,italic:Boolean(G&1),bold:Boolean(G&2),underline:Boolean(G&4),strikethrough:Boolean(G&8)}}}function wD(J){return J===dY||J===jV||J===GU||J===qU}function GI(J){switch(J){case dY:return Ni;case jV:return Ti;case GU:return wi;case qU:return Li}}function TD(J){let $=GI(J);return new qI(J,$)}var dY="vs",jV="vs-dark",GU="hc-black",qU="hc-light",hi,kJ0,UI;var fi=N(()=>{D0();B7();g7();F0();P8();Oi();ki();$7();N8();s6();Q0();aQ();vi();J8();hi=r1.as(gO.ColorContribution),kJ0=r1.as(RN.ThemingContribution);UI=class UI extends h{constructor(){super();this._onColorThemeChange=this._register(new y),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new y),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new ND,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(dY,TD(dY)),this._knownThemes.set(jV,TD(jV)),this._knownThemes.set(GU,TD(GU)),this._knownThemes.set(qU,TD(qU));let J=this._register(Ci(this));this._codiconCSS=J.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(dY),this._onOSSchemeChanged(),this._register(J.onDidChange(()=>{this._codiconCSS=J.getCSS(),this._updateCSS()})),LM(z1,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(J){if(iZ(J))return this._registerShadowDomContainer(J);return this._registerRegularEditorContainer()}_registerRegularEditorContainer(){if(!this._globalStyleElement)this._globalStyleElement=D5(void 0,(J)=>{J.className="monaco-colors",J.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement);return h.None}_registerShadowDomContainer(J){let $=D5(J,(Q)=>{Q.className="monaco-colors",Q.textContent=this._allCSS});return this._styleElements.push($),{dispose:()=>{for(let Q=0;Q<this._styleElements.length;Q++)if(this._styleElements[Q]===$){this._styleElements.splice(Q,1);return}}}}defineTheme(J,$){if(!/^[a-z0-9\-]+$/i.test(J))throw new Error("Illegal theme name!");if(!wD($.base)&&!wD(J))throw new Error("Illegal theme base!");if(this._knownThemes.set(J,new qI(J,$)),wD(J))this._knownThemes.forEach((Q)=>{if(Q.base===J)Q.notifyBaseUpdated()});if(this._theme.themeName===J)this.setTheme(J)}getColorTheme(){return this._theme}setColorMapOverride(J){this._colorMapOverride=J,this._updateThemeOrColorMap()}setTheme(J){let $;if(this._knownThemes.has(J))$=this._knownThemes.get(J);else $=this._knownThemes.get(dY);this._updateActualTheme($)}_updateActualTheme(J){if(!J||this._theme===J)return;this._theme=J,this._updateThemeOrColorMap()}_onOSSchemeChanged(){if(this._autoDetectHighContrast){let J=z1.matchMedia("(forced-colors: active)").matches;if(J!==E4(this._theme.type)){let $;if(_2(this._theme.type))$=J?GU:jV;else $=J?qU:dY;this._updateActualTheme(this._knownThemes.get($))}}}setAutoDetectHighContrast(J){this._autoDetectHighContrast=J,this._onOSSchemeChanged()}_updateThemeOrColorMap(){let J=[],$={},Q={addRule:(Z)=>{if(!$[Z])J.push(Z),$[Z]=!0}};kJ0.getThemingParticipants().forEach((Z)=>Z(this._theme,Q,this._environment));let X=[];for(let Z of hi.getColors()){let G=this._theme.getColor(Z.id,!0);if(G)X.push(`${FK(Z.id)}: ${G.toString()};`)}Q.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${X.join(`
`)} }`);let Y=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Q.addRule(_i(Y)),this._themeCSS=J.join(`
`),this._updateCSS(),c1.setColorMap(Y),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach((J)=>J.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}});var O7;var VV=N(()=>{u0();O7=M0("themeService")});var EJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},zI=function(J,$){return function(Q,X){$(Q,X,J)}},LD;var gi=N(()=>{D0();J8();F0();Q0();BJ();v8();m1();xY();LD=class J extends h{constructor($,Q,X){super();this._contextKeyService=$,this._layoutService=Q,this._configurationService=X,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y,this._onDidChangeReducedMotion=new y,this._accessibilityModeEnabledContext=xh.bindTo(this._contextKeyService);let Y=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((G)=>{if(G.affectsConfiguration("editor.accessibilitySupport"))Y(),this._onDidChangeScreenReaderOptimized.fire();if(G.affectsConfiguration("workbench.reduceMotion"))this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire()})),Y(),this._register(this.onDidChangeScreenReaderOptimized(()=>Y()));let Z=z1.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Z.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Z)}initReducedMotionListeners($){this._register(m($,"change",()=>{if(this._systemMotionReduced=$.matches,this._configMotionReduced==="auto")this._onDidChangeReducedMotion.fire()}));let Q=()=>{let X=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",X),this._layoutService.mainContainer.classList.toggle("enable-motion",!X)};Q(),this._register(this.onDidChangeReducedMotion(()=>Q()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){let $=this._configurationService.getValue("editor.accessibilitySupport");return $==="on"||$==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){let $=this._configMotionReduced;return $==="on"||$==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};LD=EJ0([zI(0,h0),zI(1,F9),zI(2,y1)],LD)});function IJ0(J,$,Q){let X=CS($)?$.submenu.id:$.id,Y=typeof $.title==="string"?$.title:$.title.value,Z=hZ({id:`hide/${J.id}/${X}`,label:F("hide.label","Hide '{0}'",Y),run(){Q.updateHidden(J,X,!0)}}),G=hZ({id:`toggle/${J.id}/${X}`,label:Y,get checked(){return!Q.isHidden(J,X)},run(){Q.updateHidden(J,X,!!this.checked)}});return{hide:Z,toggle:G,get isHidden(){return!G.checked}}}var ID=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},BG=function(J,$){return function(Q,X){$(Q,X,J)}},UU,sY,kD=class J{constructor($,Q){this._commandService=$,this._hiddenStates=new ED(Q)}createMenu($,Q,X){return new jI($,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...X},this._commandService,Q)}resetHiddenStates($){this._hiddenStates.reset($)}},ED,HI,jI=class J{constructor($,Q,X,Y,Z){this._disposables=new r,this._menuInfo=new HI($,Q,X.emitEventsForSubmenuChanges,Y,Z);let G=new t1(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},X.eventDebounceDelay);this._disposables.add(G),this._disposables.add(q$.onDidChangeMenu((H)=>{if(H.has($))G.schedule()}));let q=this._disposables.add(new r),U=(H)=>{let j=!1,V=!1,W=!1;for(let B of H)if(j=j||B.isStructuralChange,V=V||B.isEnablementChange,W=W||B.isToggleChange,j&&V&&W)break;return{menu:this,isStructuralChange:j,isEnablementChange:V,isToggleChange:W}},z=()=>{q.add(Z.onDidChangeContext((H)=>{let j=H.affectsSome(this._menuInfo.structureContextKeys),V=H.affectsSome(this._menuInfo.preconditionContextKeys),W=H.affectsSome(this._menuInfo.toggledContextKeys);if(j||V||W)this._onDidChange.fire({menu:this,isStructuralChange:j,isEnablementChange:V,isToggleChange:W})})),q.add(Q.onDidChange((H)=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new rU({onWillAddFirstListener:z,onDidRemoveLastListener:q.clear.bind(q),delay:X.eventDebounceDelay,merge:U}),this.onDidChange=this._onDidChange.event}getActions($){return this._menuInfo.createActionGroups($)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};var pi=N(()=>{u1();F0();Q0();P4();e8();m1();t8();m3();U1();g0();kD=ID([BG(0,j5),BG(1,bJ)],kD);ED=UU=class J{constructor($){this._storageService=$,this._disposables=new r,this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{let Q=$.get(UU._key,0,"{}");this._data=JSON.parse(Q)}catch(Q){this._data=Object.create(null)}this._disposables.add($.onDidChangeValue(0,UU._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{let Q=$.get(UU._key,0,"{}");this._data=JSON.parse(Q)}catch(Q){console.log("FAILED to read storage after UPDATE",Q)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault($,Q){var X;return(X=this._hiddenByDefaultCache.get(`${$.id}/${Q}`))!==null&&X!==void 0?X:!1}setDefaultState($,Q,X){this._hiddenByDefaultCache.set(`${$.id}/${Q}`,X)}isHidden($,Q){var X,Y;let Z=this._isHiddenByDefault($,Q),G=(Y=(X=this._data[$.id])===null||X===void 0?void 0:X.includes(Q))!==null&&Y!==void 0?Y:!1;return Z?!G:G}updateHidden($,Q,X){if(this._isHiddenByDefault($,Q))X=!X;let Z=this._data[$.id];if(!X){if(Z){let G=Z.indexOf(Q);if(G>=0)Ex(Z,G);if(Z.length===0)delete this._data[$.id]}}else if(!Z)this._data[$.id]=[Q];else if(Z.indexOf(Q)<0)Z.push(Q);this._persist()}reset($){if($===void 0)this._data=Object.create(null),this._persist();else{for(let{id:Q}of $)if(this._data[Q])delete this._data[Q];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;let $=JSON.stringify(this._data);this._storageService.store(UU._key,$,0,0)}finally{this._ignoreChangeEvent=!1}}};ED._key="menu.hiddenCommands";ED=UU=ID([BG(0,bJ)],ED);HI=sY=class J{constructor($,Q,X,Y,Z){this._id=$,this._hiddenStates=Q,this._collectContextKeysForSubmenus=X,this._commandService=Y,this._contextKeyService=Z,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();let $=q$.getMenuItems(this._id),Q;$.sort(sY._compareMenuItems);for(let X of $){let Y=X.group||"";if(!Q||Q[0]!==Y)Q=[Y,[]],this._menuGroups.push(Q);Q[1].push(X),this._collectContextKeys(X)}}_collectContextKeys($){if(sY._fillInKbExprKeys($.when,this._structureContextKeys),eG($)){if($.command.precondition)sY._fillInKbExprKeys($.command.precondition,this._preconditionContextKeys);if($.command.toggled){let Q=$.command.toggled.condition||$.command.toggled;sY._fillInKbExprKeys(Q,this._toggledContextKeys)}}else if(this._collectContextKeysForSubmenus)q$.getMenuItems($.submenu).forEach(this._collectContextKeys,this)}createActionGroups($){let Q=[];for(let X of this._menuGroups){let[Y,Z]=X,G=[];for(let q of Z)if(this._contextKeyService.contextMatchesRules(q.when)){let U=eG(q);if(U)this._hiddenStates.setDefaultState(this._id,q.command.id,!!q.isHiddenByDefault);let z=IJ0(this._id,U?q.command:q,this._hiddenStates);if(U)G.push(new K4(q.command,q.alt,$,z,this._contextKeyService,this._commandService));else{let H=new sY(q.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups($),j=l6.join(...H.map((V)=>V[1]));if(j.length>0)G.push(new lZ(q,z,j))}}if(G.length>0)Q.push([Y,G])}return Q}static _fillInKbExprKeys($,Q){if($)for(let X of $.keys())Q.add(X)}static _compareMenuItems($,Q){let X=$.group,Y=Q.group;if(X!==Y){if(!X)return 1;else if(!Y)return-1;if(X==="navigation")return-1;else if(Y==="navigation")return 1;let q=X.localeCompare(Y);if(q!==0)return q}let Z=$.order||0,G=Q.order||0;if(Z<G)return-1;else if(Z>G)return 1;return sY._compareTitles(eG($)?$.command.title:$.title,eG(Q)?Q.command.title:Q.title)}static _compareTitles($,Q){let X=typeof $==="string"?$:$.original,Y=typeof Q==="string"?Q:Q.original;return X.localeCompare(Y)}};HI=sY=ID([BG(3,j5),BG(4,h0)],HI);jI=ID([BG(3,j5),BG(4,h0)],jI)});var yJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},mi=function(J,$){return function(Q,X){$(Q,X,J)}},VI,WV;var ui=N(()=>{B7();D0();J8();u1();F0();iX();Q0();xY();G9();WV=VI=class J extends h{constructor($,Q){super();if(this.layoutService=$,this.logService=Q,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,I7||pB)this.installWebKitWriteTextWorkaround();this._register(J0.runAndSubscribe(aZ,({window:X,disposables:Y})=>{Y.add(m(X.document,"copy",()=>this.clearResources()))},{window:z1,disposables:this._store}))}installWebKitWriteTextWorkaround(){let $=()=>{let Q=new Bz;if(this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled)this.webKitPendingClipboardWritePromise.cancel();this.webKitPendingClipboardWritePromise=Q,navigator.clipboard.write([new ClipboardItem({"text/plain":Q.p})]).catch(async(X)=>{if(!(X instanceof Error)||X.name!=="NotAllowedError"||!Q.isRejected)this.logService.error(X)})};this._register(J0.runAndSubscribe(this.layoutService.onDidAddContainer,({container:Q,disposables:X})=>{X.add(m(Q,"click",$)),X.add(m(Q,"keydown",$))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText($,Q){if(this.writeResources([]),Q){this.mapTextToType.set(Q,$);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete($);try{return await navigator.clipboard.writeText($)}catch(X){console.error(X)}this.fallbackWriteText($)}fallbackWriteText($){let Q=OF(),X=Q.activeElement,Y=Q.body.appendChild(q0("textarea",{"aria-hidden":!0}));if(Y.style.height="1px",Y.style.width="1px",Y.style.position="absolute",Y.value=$,Y.focus(),Y.select(),Q.execCommand("copy"),X instanceof HTMLElement)X.focus();Q.body.removeChild(Y)}async readText($){if($)return this.mapTextToType.get($)||"";try{return await navigator.clipboard.readText()}catch(Q){console.error(Q)}return""}async readFindText(){return this.findText}async writeFindText($){this.findText=$}async writeResources($){if($.length===0)this.clearResources();else this.resources=$,this.resourcesStateHash=await this.computeResourcesStateHash()}async readResources(){let $=await this.computeResourcesStateHash();if(this.resourcesStateHash!==$)this.clearResources();return this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;let $=await this.readText();return rX($.substring(0,VI.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};WV.MAX_RESOURCE_STATE_SOURCE_LENGTH=1000;WV=VI=yJ0([mi(0,F9),mi(1,Q5)],WV)});var aY;var BV=N(()=>{u0();aY=M0("clipboardService")});class xD{constructor(J,$){this._id=J,this._parent=$,this._value=Object.create(null),this._value._contextId=J}get value(){return{...this._value}}setValue(J,$){if(this._value[J]!==$)return this._value[J]=$,!0;return!1}removeValue(J){if(J in this._value)return delete this._value[J],!0;return!1}getValue(J){let $=this._value[J];if(typeof $==="undefined"&&this._parent)return this._parent.getValue(J);return $}}class ci{constructor(J,$,Q){this._service=J,this._key=$,this._defaultValue=Q,this.reset()}set(J){this._service.setContext(this._key,J)}reset(){if(typeof this._defaultValue==="undefined")this._service.removeContext(this._key);else this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class WI{constructor(J){this.key=J}affectsSome(J){return J.has(this.key)}allKeysContainedIn(J){return this.affectsSome(J)}}class BI{constructor(J){this.keys=J}affectsSome(J){for(let $ of this.keys)if(J.has($))return!0;return!1}allKeysContainedIn(J){return this.keys.every(($)=>J.has($))}}class li{constructor(J){this.events=J}affectsSome(J){for(let $ of this.events)if($.affectsSome(J))return!0;return!1}allKeysContainedIn(J){return this.events.every(($)=>$.allKeysContainedIn(J))}}function SJ0(J,$){return J.allKeysContainedIn(new Set(Object.keys($)))}function CJ0(J){while(J){if(J.hasAttribute(FV)){let $=J.getAttribute(FV);if($)return parseInt($,10);return NaN}J=J.parentElement}return 0}function vJ0(J,$,Q){J.get(h0).createKey(String($),hJ0(Q))}function hJ0(J){return OW(J,($)=>{if(typeof $==="object"&&$.$mid===1)return I0.revive($).toString();if($ instanceof I0)return $.toString();return})}var xJ0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},bJ0=function(J,$){return function(Q,X){$(Q,X,J)}},FV="data-keybinding-context",FG,KV,FI,yD,di;var si=N(()=>{F0();N9();Q0();j7();KP();o6();g0();e8();v8();m1();FG=class FG extends xD{constructor(){super(-1,null)}setValue(J,$){return!1}removeValue(J){return!1}getValue(J){return}};FG.INSTANCE=new FG;KV=class KV extends xD{constructor(J,$,Q){super(J,null);this._configurationService=$,this._values=DX.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((X)=>{if(X.source===7){let Y=Array.from(this._values,([Z])=>Z);this._values.clear(),Q.fire(new BI(Y))}else{let Y=[];for(let Z of X.affectedKeys){let G=`config.${Z}`,q=this._values.findSuperstr(G);if(q!==void 0)Y.push(...W1.map(q,([U])=>U)),this._values.deleteSuperstr(G);if(this._values.has(G))Y.push(G),this._values.delete(G)}Q.fire(new BI(Y))}})}dispose(){this._listener.dispose()}getValue(J){if(J.indexOf(KV._keyPrefix)!==0)return super.getValue(J);if(this._values.has(J))return this._values.get(J);let $=J.substr(KV._keyPrefix.length),Q=this._configurationService.getValue($),X=void 0;switch(typeof Q){case"number":case"boolean":case"string":X=Q;break;default:if(Array.isArray(Q))X=JSON.stringify(Q);else X=Q}return this._values.set(J,X),X}setValue(J,$){return super.setValue(J,$)}removeValue(J){return super.removeValue(J)}};KV._keyPrefix="config.";FI=class FI extends h{constructor(J){super();this._onDidChangeContext=this._register(new H4({merge:($)=>new li($)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=J}createKey(J,$){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ci(this,J,$)}bufferChangeEvents(J){this._onDidChangeContext.pause();try{J()}finally{this._onDidChangeContext.resume()}}createScoped(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new di(this,J)}contextMatchesRules(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");let $=this.getContextValuesContainer(this._myContextId);return J?J.evaluate($):!0}getContextKeyValue(J){if(this._isDisposed)return;return this.getContextValuesContainer(this._myContextId).getValue(J)}setContext(J,$){if(this._isDisposed)return;let Q=this.getContextValuesContainer(this._myContextId);if(!Q)return;if(Q.setValue(J,$))this._onDidChangeContext.fire(new WI(J))}removeContext(J){if(this._isDisposed)return;if(this.getContextValuesContainer(this._myContextId).removeValue(J))this._onDidChangeContext.fire(new WI(J))}getContext(J){if(this._isDisposed)return FG.INSTANCE;return this.getContextValuesContainer(CJ0(J))}dispose(){super.dispose(),this._isDisposed=!0}};yD=class J extends FI{constructor($){super(0);this._contexts=new Map,this._lastContextId=0;let Q=this._register(new KV(this._myContextId,$,this._onDidChangeContext));this._contexts.set(this._myContextId,Q)}getContextValuesContainer($){if(this._isDisposed)return FG.INSTANCE;return this._contexts.get($)||FG.INSTANCE}createChildContext($=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let Q=++this._lastContextId;return this._contexts.set(Q,new xD(Q,this.getContextValuesContainer($))),Q}disposeContext($){if(!this._isDisposed)this._contexts.delete($)}};yD=xJ0([bJ0(0,y1)],yD);di=class di extends FI{constructor(J,$){super(J.createChildContext());if(this._parentChangeListener=this._register(new f5),this._parent=J,this._updateParentChangeListener(),this._domNode=$,this._domNode.hasAttribute(FV)){let Q="";if(this._domNode.classList)Q=Array.from(this._domNode.classList.values()).join(", ");console.error(`Element already has context attribute${Q?": "+Q:""}`)}this._domNode.setAttribute(FV,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((J)=>{let Q=this._parent.getContextValuesContainer(this._myContextId).value;if(!SJ0(J,Q))this._onDidChangeContext.fire(J)})}dispose(){if(this._isDisposed)return;this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(FV),super.dispose()}getContextValuesContainer(J){if(this._isDisposed)return FG.INSTANCE;return this._parent.getContextValuesContainer(J)}createChildContext(J=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(J)}disposeContext(J){if(this._isDisposed)return;this._parent.disposeContext(J)}};z6.registerCommand("_setContext",vJ0);z6.registerCommand({id:"getContextKeyInfo",handler(){return[...H0.all()].sort((J,$)=>J.key.localeCompare($.key))},metadata:{description:F("getContextKeyInfo","A command that returns information about context keys"),args:[]}});z6.registerCommand("_generateContextKeyInfo",function(){let J=[],$=new Set;for(let Q of H0.all())if(!$.has(Q.key))$.add(Q.key),J.push(Q);J.sort((Q,X)=>Q.key.localeCompare(X.key)),console.log(JSON.stringify(J,void 0,2))})});class ai{constructor(J,$){this.key=J,this.data=$,this.incoming=new Map,this.outgoing=new Map}}class bD{constructor(J){this._hashFn=J,this._nodes=new Map}roots(){let J=[];for(let $ of this._nodes.values())if($.outgoing.size===0)J.push($);return J}insertEdge(J,$){let Q=this.lookupOrInsertNode(J),X=this.lookupOrInsertNode($);Q.outgoing.set(X.key,X),X.incoming.set(Q.key,Q)}removeNode(J){let $=this._hashFn(J);this._nodes.delete($);for(let Q of this._nodes.values())Q.outgoing.delete($),Q.incoming.delete($)}lookupOrInsertNode(J){let $=this._hashFn(J),Q=this._nodes.get($);if(!Q)Q=new ai($,J),this._nodes.set($,Q);return Q}isEmpty(){return this._nodes.size===0}toString(){let J=[];for(let[$,Q]of this._nodes)J.push(`${$}
\t(-> incoming)[${[...Q.incoming.keys()].join(", ")}]
\t(outgoing ->)[${[...Q.outgoing.keys()].join(",")}]
`);return J.join(`
`)}findCycleSlow(){for(let[J,$]of this._nodes){let Q=new Set([J]),X=this._findCycle($,Q);if(X)return X}return}_findCycle(J,$){for(let[Q,X]of J.outgoing){if($.has(Q))return[...$,Q].join(" -> ");$.add(Q);let Y=this._findCycle(X,$);if(Y)return Y;$.delete(Q)}return}}class AV{constructor(J=new EJ,$=!1,Q,X=fJ0){var Y;this._services=J,this._strict=$,this._parent=Q,this._enableTracing=X,this._activeInstantiations=new Set,this._services.set(p0,this),this._globalGraph=X?(Y=Q===null||Q===void 0?void 0:Q._globalGraph)!==null&&Y!==void 0?Y:new bD((Z)=>Z):void 0}createChild(J){return new AV(J,this._strict,this,this._enableTracing)}invokeFunction(J,...$){let Q=N7.traceInvocation(this._enableTracing,J),X=!1;try{return J({get:(Z)=>{if(X)throw hG("service accessor is only valid during the invocation of its target method");let G=this._getOrCreateServiceInstance(Z,Q);if(!G)throw new Error(`[invokeFunction] unknown service '${Z}'`);return G}},...$)}finally{X=!0,Q.stop()}}createInstance(J,...$){let Q,X;if(J instanceof H9)Q=N7.traceCreation(this._enableTracing,J.ctor),X=this._createInstance(J.ctor,J.staticArguments.concat($),Q);else Q=N7.traceCreation(this._enableTracing,J),X=this._createInstance(J,$,Q);return Q.stop(),X}_createInstance(J,$=[],Q){let X=F4.getServiceDependencies(J).sort((G,q)=>G.index-q.index),Y=[];for(let G of X){let q=this._getOrCreateServiceInstance(G.id,Q);if(!q)this._throwIfStrict(`[createInstance] ${J.name} depends on UNKNOWN service ${G.id}.`,!1);Y.push(q)}let Z=X.length>0?X[0].index:$.length;if($.length!==Z){console.trace(`[createInstance] First service dependency of ${J.name} at position ${Z+1} conflicts with ${$.length} static arguments`);let G=Z-$.length;if(G>0)$=$.concat(new Array(G));else $=$.slice(0,Z)}return Reflect.construct(J,$.concat(Y))}_setServiceInstance(J,$){if(this._services.get(J)instanceof H9)this._services.set(J,$);else if(this._parent)this._parent._setServiceInstance(J,$);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(J){let $=this._services.get(J);if(!$&&this._parent)return this._parent._getServiceInstanceOrDescriptor(J);else return $}_getOrCreateServiceInstance(J,$){if(this._globalGraph&&this._globalGraphImplicitDependency)this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(J));let Q=this._getServiceInstanceOrDescriptor(J);if(Q instanceof H9)return this._safeCreateAndCacheServiceInstance(J,Q,$.branch(J,!0));else return $.branch(J,!1),Q}_safeCreateAndCacheServiceInstance(J,$,Q){if(this._activeInstantiations.has(J))throw new Error(`illegal state - RECURSIVELY instantiating service '${J}'`);this._activeInstantiations.add(J);try{return this._createAndCacheServiceInstance(J,$,Q)}finally{this._activeInstantiations.delete(J)}}_createAndCacheServiceInstance(J,$,Q){var X;let Y=new bD((q)=>q.id.toString()),Z=0,G=[{id:J,desc:$,_trace:Q}];while(G.length){let q=G.pop();if(Y.lookupOrInsertNode(q),Z++>1000)throw new KI(Y);for(let U of F4.getServiceDependencies(q.desc.ctor)){let z=this._getServiceInstanceOrDescriptor(U.id);if(!z)this._throwIfStrict(`[createInstance] ${J} depends on ${U.id} which is NOT registered.`,!0);if((X=this._globalGraph)===null||X===void 0||X.insertEdge(String(q.id),String(U.id)),z instanceof H9){let H={id:U.id,desc:z,_trace:q._trace.branch(U.id,!0)};Y.insertEdge(q,H),G.push(H)}}}while(!0){let q=Y.roots();if(q.length===0){if(!Y.isEmpty())throw new KI(Y);break}for(let{data:U}of q){if(this._getServiceInstanceOrDescriptor(U.id)instanceof H9){let H=this._createServiceInstanceWithOwner(U.id,U.desc.ctor,U.desc.staticArguments,U.desc.supportsDelayedInstantiation,U._trace);this._setServiceInstance(U.id,H)}Y.removeNode(U)}}return this._getServiceInstanceOrDescriptor(J)}_createServiceInstanceWithOwner(J,$,Q=[],X,Y){if(this._services.get(J)instanceof H9)return this._createServiceInstance(J,$,Q,X,Y);else if(this._parent)return this._parent._createServiceInstanceWithOwner(J,$,Q,X,Y);else throw new Error(`illegalState - creating UNKNOWN service instance ${$.name}`)}_createServiceInstance(J,$,Q=[],X,Y){if(!X)return this._createInstance($,Q,Y);else{let Z=new AV(void 0,this._strict,this,this._enableTracing);Z._globalGraphImplicitDependency=String(J);let G=new Map,q=new aM(()=>{let U=Z._createInstance($,Q,Y);for(let[z,H]of G){let j=U[z];if(typeof j==="function")for(let V of H)V.disposable=j.apply(U,V.listener)}return G.clear(),U});return new Proxy(Object.create(null),{get(U,z){if(!q.isInitialized){if(typeof z==="string"&&(z.startsWith("onDid")||z.startsWith("onWill"))){let V=G.get(z);if(!V)V=new k6,G.set(z,V);return(B,K,P)=>{if(q.isInitialized)return q.value[z](B,K,P);else{let A={listener:[B,K,P],disposable:void 0},D=V.push(A);return K0(()=>{var M;D(),(M=A.disposable)===null||M===void 0||M.dispose()})}}}}if(z in U)return U[z];let H=q.value,j=H[z];if(typeof j!=="function")return j;return j=j.bind(H),U[z]=j,j},set(U,z,H){return q.value[z]=H,!0},getPrototypeOf(U){return $.prototype}})}}_throwIfStrict(J,$){if($)console.warn(J);if(this._strict)throw new Error(J)}}class N7{static traceInvocation(J,$){return!J?N7._None:new N7(2,$.name||new Error().stack.split(`
`).slice(3,4).join(`
`))}static traceCreation(J,$){return!J?N7._None:new N7(1,$.name)}constructor(J,$){this.type=J,this.name=$,this._start=Date.now(),this._dep=[]}branch(J,$){let Q=new N7(3,J.toString());return this._dep.push([J,$,Q]),Q}stop(){let J=Date.now()-this._start;N7._totals+=J;let $=!1;function Q(Y,Z){let G=[],q=new Array(Y+1).join("\t");for(let[U,z,H]of Z._dep)if(z&&H){$=!0,G.push(`${q}CREATES -> ${U}`);let j=Q(Y+1,H);if(j)G.push(j)}else G.push(`${q}uses -> ${U}`);return G.join(`
`)}let X=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${Q(1,this)}`,`DONE, took ${J.toFixed(2)}ms (grand total ${N7._totals.toFixed(2)}ms)`];if(J>2||$)N7.all.add(X.join(`
`))}}var fJ0=!1,KI;var ri=N(()=>{u1();P1();Q0();u0();T9();KI=class KI extends Error{constructor(J){var $;super("cyclic dependency between services");this.message=($=J.findCycleSlow())!==null&&$!==void 0?$:`UNABLE to detect cycle, dumping graph: 
${J.toString()}`}};N7.all=new Set;N7._None=new class extends N7{constructor(){super(0,null)}stop(){}branch(){return this}};N7._totals=0});class ii{constructor(){this._byResource=new y5,this._byOwner=new Map}set(J,$,Q){let X=this._byResource.get(J);if(!X)X=new Map,this._byResource.set(J,X);X.set($,Q);let Y=this._byOwner.get($);if(!Y)Y=new y5,this._byOwner.set($,Y);Y.set(J,Q)}get(J,$){let Q=this._byResource.get(J);return Q===null||Q===void 0?void 0:Q.get($)}delete(J,$){let Q=!1,X=!1,Y=this._byResource.get(J);if(Y)Q=Y.delete($);let Z=this._byOwner.get($);if(Z)X=Z.delete(J);if(Q!==X)throw new Error("illegal state");return Q&&X}values(J){var $,Q,X,Y;if(typeof J==="string")return(Q=($=this._byOwner.get(J))===null||$===void 0?void 0:$.values())!==null&&Q!==void 0?Q:W1.empty();if(I0.isUri(J))return(Y=(X=this._byResource.get(J))===null||X===void 0?void 0:X.values())!==null&&Y!==void 0?Y:W1.empty();return W1.map(W1.concat(...this._byOwner.values()),(Z)=>Z[1])}}class ni{constructor(J){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new y5,this._service=J,this._subscription=J.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(J){for(let $ of J){let Q=this._data.get($);if(Q)this._substract(Q);let X=this._resourceStats($);this._add(X),this._data.set($,X)}}_resourceStats(J){let $={errors:0,warnings:0,infos:0,unknowns:0};if(gJ0.has(J.scheme))return $;for(let{severity:Q}of this._service.read({resource:J}))if(Q===i7.Error)$.errors+=1;else if(Q===i7.Warning)$.warnings+=1;else if(Q===i7.Info)$.infos+=1;else $.unknowns+=1;return $}_substract(J){this.errors-=J.errors,this.warnings-=J.warnings,this.infos-=J.infos,this.unknowns-=J.unknowns}_add(J){this.errors+=J.errors,this.warnings+=J.warnings,this.infos+=J.infos,this.unknowns+=J.unknowns}}class wX{constructor(){this._onMarkerChanged=new rU({delay:0,merge:wX._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ii,this._stats=new ni(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(J,$){for(let Q of $||[])this.changeOne(J,Q,[])}changeOne(J,$,Q){if(DW(Q)){if(this._data.delete($,J))this._onMarkerChanged.fire([$])}else{let X=[];for(let Y of Q){let Z=wX._toMarker(J,$,Y);if(Z)X.push(Z)}this._data.set($,J,X),this._onMarkerChanged.fire([$])}}static _toMarker(J,$,Q){let{code:X,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:z,endColumn:H,relatedInformation:j,tags:V}=Q;if(!Z)return;return q=q>0?q:1,U=U>0?U:1,z=z>=q?z:q,H=H>0?H:U,{resource:$,owner:J,code:X,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:z,endColumn:H,relatedInformation:j,tags:V}}changeAll(J,$){let Q=[],X=this._data.values(J);if(X)for(let Y of X){let Z=W1.first(Y);if(Z)Q.push(Z.resource),this._data.delete(Z.resource,J)}if(_9($)){let Y=new y5;for(let{resource:Z,marker:G}of $){let q=wX._toMarker(J,Z,G);if(!q)continue;let U=Y.get(Z);if(!U)Y.set(Z,[q]),Q.push(Z);else U.push(q)}for(let[Z,G]of Y)this._data.set(Z,J,G)}if(Q.length>0)this._onMarkerChanged.fire(Q)}read(J=Object.create(null)){let{owner:$,resource:Q,severities:X,take:Y}=J;if(!Y||Y<0)Y=-1;if($&&Q){let Z=this._data.get(Q,$);if(!Z)return[];else{let G=[];for(let q of Z)if(wX._accept(q,X)){let U=G.push(q);if(Y>0&&U===Y)break}return G}}else if(!$&&!Q){let Z=[];for(let G of this._data.values())for(let q of G)if(wX._accept(q,X)){let U=Z.push(q);if(Y>0&&U===Y)return Z}return Z}else{let Z=this._data.values(Q!==null&&Q!==void 0?Q:$),G=[];for(let q of Z)for(let U of q)if(wX._accept(U,X)){let z=G.push(U);if(Y>0&&z===Y)return G}return G}}static _accept(J,$){return $===void 0||($&J.severity)===J.severity}static _merge(J){let $=new y5;for(let Q of J)for(let X of Q)$.set(X,!0);return Array.from($.keys())}}var gJ0;var oi=N(()=>{U1();F0();N9();jJ();U9();o6();s3();gJ0=new Set([$1.inMemory,$1.vscodeSourceControl,$1.walkThrough,$1.walkThroughSnippet])});var AI;var ti=N(()=>{Q0();Mk();X2();$7();AI=class AI extends h{constructor(){super(...arguments);this._configurationModel=new i5}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new i5;let J=r1.as(g9.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(J),J)}updateConfigurationModel(J,$){let Q=this.getConfigurationDefaultOverrides();for(let X of J){let Y=Q[X],Z=$[X];if(Y!==void 0)this._configurationModel.addValue(X,Y);else if(Z)this._configurationModel.addValue(X,Z.default);else this._configurationModel.removeValue(X)}}}});class i0{static register(J){return new i0(J.fileName)}constructor(J){this.fileName=J}}class ei{constructor(J){this.randomOneOf=J}}class Q1{static register(J){let $=new ei("randomOneOf"in J.sound?J.sound.randomOneOf:[J.sound]),Q=new Q1($,J.name,J.settingsKey,J.alertSettingsKey,J.alertMessage);return Q1._audioCues.add(Q),Q}constructor(J,$,Q,X,Y){this.sound=J,this.name=$,this.settingsKey=Q,this.alertSettingsKey=X,this.alertMessage=Y}}var n9;var KG=N(()=>{u0();g0();n9=M0("audioCue");i0.error=i0.register({fileName:"error.mp3"});i0.warning=i0.register({fileName:"warning.mp3"});i0.foldedArea=i0.register({fileName:"foldedAreas.mp3"});i0.break=i0.register({fileName:"break.mp3"});i0.quickFixes=i0.register({fileName:"quickFixes.mp3"});i0.taskCompleted=i0.register({fileName:"taskCompleted.mp3"});i0.taskFailed=i0.register({fileName:"taskFailed.mp3"});i0.terminalBell=i0.register({fileName:"terminalBell.mp3"});i0.diffLineInserted=i0.register({fileName:"diffLineInserted.mp3"});i0.diffLineDeleted=i0.register({fileName:"diffLineDeleted.mp3"});i0.diffLineModified=i0.register({fileName:"diffLineModified.mp3"});i0.chatRequestSent=i0.register({fileName:"chatRequestSent.mp3"});i0.chatResponsePending=i0.register({fileName:"chatResponsePending.mp3"});i0.chatResponseReceived1=i0.register({fileName:"chatResponseReceived1.mp3"});i0.chatResponseReceived2=i0.register({fileName:"chatResponseReceived2.mp3"});i0.chatResponseReceived3=i0.register({fileName:"chatResponseReceived3.mp3"});i0.chatResponseReceived4=i0.register({fileName:"chatResponseReceived4.mp3"});i0.clear=i0.register({fileName:"clear.mp3"});i0.save=i0.register({fileName:"save.mp3"});i0.format=i0.register({fileName:"format.mp3"});Q1._audioCues=new Set;Q1.error=Q1.register({name:F("audioCues.lineHasError.name","Error on Line"),sound:i0.error,settingsKey:"audioCues.lineHasError",alertSettingsKey:"accessibility.alert.error",alertMessage:F("audioCues.lineHasError.alertMessage","Error")});Q1.warning=Q1.register({name:F("audioCues.lineHasWarning.name","Warning on Line"),sound:i0.warning,settingsKey:"audioCues.lineHasWarning",alertSettingsKey:"accessibility.alert.warning",alertMessage:F("audioCues.lineHasWarning.alertMessage","Warning")});Q1.foldedArea=Q1.register({name:F("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:i0.foldedArea,settingsKey:"audioCues.lineHasFoldedArea",alertSettingsKey:"accessibility.alert.foldedArea",alertMessage:F("audioCues.lineHasFoldedArea.alertMessage","Folded")});Q1.break=Q1.register({name:F("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:i0.break,settingsKey:"audioCues.lineHasBreakpoint",alertSettingsKey:"accessibility.alert.breakpoint",alertMessage:F("audioCues.lineHasBreakpoint.alertMessage","Breakpoint")});Q1.inlineSuggestion=Q1.register({name:F("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:i0.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});Q1.terminalQuickFix=Q1.register({name:F("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:i0.quickFixes,settingsKey:"audioCues.terminalQuickFix",alertSettingsKey:"accessibility.alert.terminalQuickFix",alertMessage:F("audioCues.terminalQuickFix.alertMessage","Quick Fix")});Q1.onDebugBreak=Q1.register({name:F("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:i0.break,settingsKey:"audioCues.onDebugBreak",alertSettingsKey:"accessibility.alert.onDebugBreak",alertMessage:F("audioCues.onDebugBreak.alertMessage","Breakpoint")});Q1.noInlayHints=Q1.register({name:F("audioCues.noInlayHints","No Inlay Hints on Line"),sound:i0.error,settingsKey:"audioCues.noInlayHints",alertSettingsKey:"accessibility.alert.noInlayHints",alertMessage:F("audioCues.noInlayHints.alertMessage","No Inlay Hints")});Q1.taskCompleted=Q1.register({name:F("audioCues.taskCompleted","Task Completed"),sound:i0.taskCompleted,settingsKey:"audioCues.taskCompleted",alertSettingsKey:"accessibility.alert.taskCompleted",alertMessage:F("audioCues.taskCompleted.alertMessage","Task Completed")});Q1.taskFailed=Q1.register({name:F("audioCues.taskFailed","Task Failed"),sound:i0.taskFailed,settingsKey:"audioCues.taskFailed",alertSettingsKey:"accessibility.alert.taskFailed",alertMessage:F("audioCues.taskFailed.alertMessage","Task Failed")});Q1.terminalCommandFailed=Q1.register({name:F("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:i0.error,settingsKey:"audioCues.terminalCommandFailed",alertSettingsKey:"accessibility.alert.terminalCommandFailed",alertMessage:F("audioCues.terminalCommandFailed.alertMessage","Command Failed")});Q1.terminalBell=Q1.register({name:F("audioCues.terminalBell","Terminal Bell"),sound:i0.terminalBell,settingsKey:"audioCues.terminalBell",alertSettingsKey:"accessibility.alert.terminalBell",alertMessage:F("audioCues.terminalBell.alertMessage","Terminal Bell")});Q1.notebookCellCompleted=Q1.register({name:F("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:i0.taskCompleted,settingsKey:"audioCues.notebookCellCompleted",alertSettingsKey:"accessibility.alert.notebookCellCompleted",alertMessage:F("audioCues.notebookCellCompleted.alertMessage","Notebook Cell Completed")});Q1.notebookCellFailed=Q1.register({name:F("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:i0.taskFailed,settingsKey:"audioCues.notebookCellFailed",alertSettingsKey:"accessibility.alert.notebookCellFailed",alertMessage:F("audioCues.notebookCellFailed.alertMessage","Notebook Cell Failed")});Q1.diffLineInserted=Q1.register({name:F("audioCues.diffLineInserted","Diff Line Inserted"),sound:i0.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});Q1.diffLineDeleted=Q1.register({name:F("audioCues.diffLineDeleted","Diff Line Deleted"),sound:i0.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});Q1.diffLineModified=Q1.register({name:F("audioCues.diffLineModified","Diff Line Modified"),sound:i0.diffLineModified,settingsKey:"audioCues.diffLineModified"});Q1.chatRequestSent=Q1.register({name:F("audioCues.chatRequestSent","Chat Request Sent"),sound:i0.chatRequestSent,settingsKey:"audioCues.chatRequestSent",alertSettingsKey:"accessibility.alert.chatRequestSent",alertMessage:F("audioCues.chatRequestSent.alertMessage","Chat Request Sent")});Q1.chatResponseReceived=Q1.register({name:F("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[i0.chatResponseReceived1,i0.chatResponseReceived2,i0.chatResponseReceived3,i0.chatResponseReceived4]}});Q1.chatResponsePending=Q1.register({name:F("audioCues.chatResponsePending","Chat Response Pending"),sound:i0.chatResponsePending,settingsKey:"audioCues.chatResponsePending",alertSettingsKey:"accessibility.alert.chatResponsePending",alertMessage:F("audioCues.chatResponsePending.alertMessage","Chat Response Pending")});Q1.clear=Q1.register({name:F("audioCues.clear","Clear"),sound:i0.clear,settingsKey:"audioCues.clear",alertSettingsKey:"accessibility.alert.clear",alertMessage:F("audioCues.clear.alertMessage","Clear")});Q1.save=Q1.register({name:F("audioCues.save","Save"),sound:i0.save,settingsKey:"audioCues.save",alertSettingsKey:"accessibility.alert.save",alertMessage:F("audioCues.save.alertMessage","Save")});Q1.format=Q1.register({name:F("audioCues.format","Format"),sound:i0.format,settingsKey:"audioCues.format",alertSettingsKey:"accessibility.alert.format",alertMessage:F("audioCues.format.alertMessage","Format")})});var PI;var Jn=N(()=>{Q0();G9();PI=class PI extends h{constructor(J,$=[]){super();this.logger=new cM([J,...$]),this._register(J.onDidChangeLogLevel((Q)=>this.setLevel(Q)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(J){this.logger.setLevel(J)}getLevel(){return this.logger.getLevel()}trace(J,...$){this.logger.trace(J,...$)}debug(J,...$){this.logger.debug(J,...$)}info(J,...$){this.logger.info(J,...$)}warn(J,...$){this.logger.warn(J,...$)}error(J,...$){this.logger.error(J,...$)}}});function $n(){return pJ0.slice(0)}var pJ0;var Qn=N(()=>{pJ0=[]});class Yn{constructor(J){this.disposed=!1,this.model=J,this._onWillDispose=new y}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}class SD{show(){return SD.NULL_PROGRESS_RUNNER}async showWhile(J,$){await J}}class Zn{withProgress(J,$,Q){return $({report:()=>{}})}}class Gn{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class qn{async confirm(J){return{confirmed:this.doConfirm(J.message,J.detail),checkboxChecked:!1}}doConfirm(J,$){let Q=J;if($)Q=Q+`

`+$;return z1.confirm(Q)}async prompt(J){var $,Q;let X=void 0;if(this.doConfirm(J.message,J.detail)){let Z=[...($=J.buttons)!==null&&$!==void 0?$:[]];if(J.cancelButton&&typeof J.cancelButton!=="string"&&typeof J.cancelButton!=="boolean")Z.push(J.cancelButton);X=await((Q=Z[0])===null||Q===void 0?void 0:Q.run({checkboxChecked:!1}))}return{result:X}}async error(J,$){await this.prompt({type:A6.Error,message:J,detail:$})}}class PV{info(J){return this.notify({severity:A6.Info,message:J})}warn(J){return this.notify({severity:A6.Warning,message:J})}error(J){return this.notify({severity:A6.Error,message:J})}notify(J){switch(J.severity){case A6.Error:console.error(J.message);break;case A6.Warning:console.warn(J.message);break;default:console.log(J.message);break}return PV.NO_OP}prompt(J,$,Q,X){return PV.NO_OP}status(J,$){return h.None}}function Xn(J){return J&&typeof J==="object"&&(!J.overrideIdentifier||typeof J.overrideIdentifier==="string")&&(!J.resource||J.resource instanceof I0)}class wI{constructor(){this._onDidChangeConfiguration=new y,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;let J=new AI;this._configuration=new _j(J.reload(),new i5,new i5,new i5),J.dispose()}getValue(J,$){let Q=typeof J==="string"?J:void 0,X=Xn(J)?J:Xn($)?$:{};return this._configuration.getValue(Q,X,void 0)}updateValues(J){let $={data:this._configuration.toData()},Q=[];for(let X of J){let[Y,Z]=X;if(this.getValue(Y)===Z)continue;this._configuration.updateValue(Y,Z),Q.push(Y)}if(Q.length>0){let X=new Rk({keys:Q,overrides:[]},$,this._configuration);X.source=8,this._onDidChangeConfiguration.fire(X)}return Promise.resolve()}updateValue(J,$,Q,X){return this.updateValues([[J,$]])}inspect(J,$={}){return this._configuration.inspect(J,$,void 0)}}class zn{publicLog2(){}}class DV{constructor(){let J=I0.from({scheme:DV.SCHEME,authority:"model",path:"/"});this.workspace={id:$s,folders:[new wk({uri:J,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(J){return J&&J.scheme===DV.SCHEME?this.workspace.folders[0]:null}}function RV(J,$,Q){if(!$)return;if(!(J instanceof wI))return;let X=[];if(Object.keys($).forEach((Y)=>{if(Cd(Y))X.push([`editor.${Y}`,$[Y]]);if(Q&&vd(Y))X.push([`diffEditor.${Y}`,$[Y]])}),X.length>0)J.updateValues(X)}class Hn{getUriLabel(J,$){if(J.scheme==="file")return J.fsPath;return J.path}getUriBasenameLabel(J){return v2(J)}}class jn{constructor(){this._neverEmitter=new y,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Bn{async playAudioCue(J,$){}}var iY=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},n5=function(J,$){return function(Q,X){$(Q,X,J)}},DI=class J{constructor($){this.modelService=$}createModelReference($){let Q=this.modelService.getModel($);if(!Q)return Promise.reject(new Error("Model not found"));return Promise.resolve(new QM(new Yn(Q)))}},RI=class J{constructor($){this._onWillExecuteCommand=new y,this._onDidExecuteCommand=new y,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=$}executeCommand($,...Q){let X=z6.getCommand($);if(!X)return Promise.reject(new Error(`command '${$}' not found`));try{this._onWillExecuteCommand.fire({commandId:$,args:Q});let Y=this._instantiationService.invokeFunction.apply(this._instantiationService,[X.handler,...Q]);return this._onDidExecuteCommand.fire({commandId:$,args:Q}),Promise.resolve(Y)}catch(Y){return Promise.reject(Y)}}},rY,Un,MI=class J{constructor($,Q,X){this.configurationService=$,this.modelService=Q,this.languageService=X,this._onDidChangeConfiguration=new y,this.configurationService.onDidChangeConfiguration((Y)=>{this._onDidChangeConfiguration.fire({affectedKeys:Y.affectedKeys,affectsConfiguration:(Z,G)=>Y.affectsConfiguration(G)})})}getValue($,Q,X){let Y=v.isIPosition(Q)?Q:null,Z=Y?typeof X==="string"?X:void 0:typeof Q==="string"?Q:void 0,G=$?this.getLanguage($,Y):void 0;if(typeof Z==="undefined")return this.configurationService.getValue({resource:$,overrideIdentifier:G});return this.configurationService.getValue(Z,{resource:$,overrideIdentifier:G})}getLanguage($,Q){let X=this.modelService.getModel($);if(X)return Q?X.getLanguageIdAtPosition(Q.lineNumber,Q.column):X.getLanguageId();return this.languageService.guessLanguageIdByFilepathOrFirstLine($)}},_I=class J{constructor($){this.configurationService=$}getEOL($,Q){let X=this.configurationService.getValue("files.eol",{overrideIdentifier:Q,resource:$});if(X&&typeof X==="string"&&X!=="auto")return X;return V6||r0?`
`:`\r
`}},OI=class J{constructor($){this._modelService=$}hasPreviewHandler(){return!1}async apply($,Q){let X=Array.isArray($)?$:Rj.convert($),Y=new Map;for(let q of X){if(!(q instanceof fY))throw new Error("bad edit - only text edits are supported");let U=this._modelService.getModel(q.resource);if(!U)throw new Error("bad edit - model not found");if(typeof q.versionId==="number"&&U.getVersionId()!==q.versionId)throw new Error("bad state - model changed in the meantime");let z=Y.get(U);if(!z)z=[],Y.set(U,z);z.push(r9.replaceMove(L.lift(q.textEdit.range),q.textEdit.text))}let Z=0,G=0;for(let[q,U]of Y)q.pushStackElement(),q.pushEditOperations([],U,()=>[]),q.pushStackElement(),G+=1,Z+=U.length;return{ariaSummary:lX(RP.bulkEditServiceSummary,Z,G),isApplied:Z>0}}},NI,Vn,Wn,TI,y0;var CD=N(()=>{h8();TL();wL();_l();CL();yl();sl();yd();t0();D0();R8();F0();cZ();Q0();M1();IY();o6();bd();hd();Mj();l0();_Q();qz();rF();e8();v8();Mk();m1();LL();u0();ud();x4();_k();tG();ad();Tk();VX();wj();sX();DP();xY();Lk();v$();Y9();G9();zs();KX();js();Rs();Ka();h9();Pa();d3();MO();v9();Na();CO();La();Di();fi();VV();gi();BJ();P4();pi();ui();BV();si();ri();uE();s3();oi();c2();XV();m3();ti();KG();Jn();Qn();P1();dA();J8();DI=iY([n5(0,z5)],DI);SD.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};PV.NO_OP=new BL;RI=iY([n5(0,p0)],RI);rY=class J extends Ok{constructor($,Q,X,Y,Z,G){super($,Q,X,Y,Z);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];let q=(W)=>{let B=new r;B.add(m(W,$0.KEY_DOWN,(K)=>{let P=new K1(K);if(this._dispatch(P,P.target))P.preventDefault(),P.stopPropagation()})),B.add(m(W,$0.KEY_UP,(K)=>{let P=new K1(K);if(this._singleModifierDispatch(P,P.target))P.preventDefault()})),this._domNodeListeners.push(new Un(W,B))},U=(W)=>{for(let B=0;B<this._domNodeListeners.length;B++){let K=this._domNodeListeners[B];if(K.domNode===W)this._domNodeListeners.splice(B,1),K.dispose()}},z=(W)=>{if(W.getOption(61))return;q(W.getContainerDomNode())},H=(W)=>{if(W.getOption(61))return;U(W.getContainerDomNode())};this._register(G.onCodeEditorAdd(z)),this._register(G.onCodeEditorRemove(H)),G.listCodeEditors().forEach(z);let j=(W)=>{q(W.getContainerDomNode())},V=(W)=>{U(W.getContainerDomNode())};this._register(G.onDiffEditorAdd(j)),this._register(G.onDiffEditorRemove(V)),G.listDiffEditors().forEach(j)}addDynamicKeybinding($,Q,X,Y){return x8(z6.registerCommand($,X),this.addDynamicKeybindings([{keybinding:Q,command:$,when:Y}]))}addDynamicKeybindings($){let Q=$.map((X)=>{var Y;return{keybinding:Vz(X.keybinding,I8),command:(Y=X.command)!==null&&Y!==void 0?Y:null,commandArgs:X.commandArgs,when:X.when,weight1:1000,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Q),this.updateResolver(),K0(()=>{for(let X=0;X<this._dynamicKeybindings.length;X++)if(this._dynamicKeybindings[X]===Q[0]){this._dynamicKeybindings.splice(X,Q.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){let $=this._toNormalizedKeybindingItems(ZJ.getDefaultKeybindings(),!0),Q=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new I3($,Q,(X)=>this._log(X))}return this._cachedResolver}_documentHasFocus(){return z1.document.hasFocus()}_toNormalizedKeybindingItems($,Q){let X=[],Y=0;for(let Z of $){let G=Z.when||void 0,q=Z.keybinding;if(!q)X[Y++]=new BP(void 0,Z.command,Z.commandArgs,G,Q,null,!1);else{let U=x3.resolveKeybinding(q,I8);for(let z of U)X[Y++]=new BP(z,Z.command,Z.commandArgs,G,Q,null,!1)}}return X}resolveKeyboardEvent($){let Q=new L9($.ctrlKey,$.shiftKey,$.altKey,$.metaKey,$.keyCode);return new x3([Q],I8)}};rY=iY([n5(0,h0),n5(1,j5),n5(2,Q7),n5(3,a5),n5(4,Q5),n5(5,l1)],rY);Un=class Un extends h{constructor(J,$){super();this.domNode=J,this._register($)}};MI=iY([n5(0,y1),n5(1,z5),n5(2,e1)],MI);_I=iY([n5(0,y1)],_I);DV.SCHEME="inmemory";OI=iY([n5(0,z5)],OI);NI=class J extends MP{constructor($,Q){super($);this._codeEditorService=Q}showContextView($,Q,X){if(!Q){let Y=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();if(Y)Q=Y.getContainerDomNode()}return super.showContextView($,Q,X)}};NI=iY([n5(0,F9),n5(1,l1)],NI);Vn=class Vn extends v3{constructor(){super()}};Wn=class Wn extends PI{constructor(){super(new uM)}};TI=class J extends hP{constructor($,Q,X,Y,Z,G){super($,Q,X,Y,Z,G);this.configure({blockMouse:!1})}};TI=iY([n5(0,Q7),n5(1,a5),n5(2,IJ),n5(3,u6),n5(4,A4),n5(5,h0)],TI);H1(y1,wI,0);H1(sF,MI,0);H1(aF,_I,0);H1(kj,DV,0);H1(Tj,Hn,0);H1(Q7,zn,0);H1(mA,qn,0);H1(M3,Gn,0);H1(a5,PV,0);H1(SJ,wX,0);H1(e1,Vn,0);H1(O7,UI,0);H1(Q5,Wn,0);H1(z5,gj,0);H1(UK,pP,0);H1(h0,yD,0);H1(rd,Zn,0);H1(PX,SD,0);H1(bJ,rk,0);H1(A9,nF,0);H1(xd,OI,0);H1(Us,jn,0);H1(OQ,DI,0);H1(_8,LD,0);H1(hJ,SE,0);H1(j5,RI,0);H1(u6,rY,0);H1(BD,MD,0);H1(IJ,NI,0);H1(l$,gP,0);H1(aY,WV,0);H1(r7,TI,0);H1(A4,kD,0);H1(n9,Bn,0);(function(J){let $=new EJ;for(let[U,z]of b_())$.set(U,z);let Q=new AV($,!0);$.set(p0,Q);function X(U){if(!Y)G({});let z=$.get(U);if(!z)throw new Error("Missing service "+U);if(z instanceof H9)return Q.invokeFunction((H)=>H.get(U));else return z}J.get=X;let Y=!1,Z=new y;function G(U){if(Y)return Q;Y=!0;for(let[H,j]of b_())if(!$.get(H))$.set(H,j);for(let H in U)if(U.hasOwnProperty(H)){let j=M0(H);if($.get(j)instanceof H9)$.set(j,U[H])}let z=$n();for(let H of z)try{Q.createInstance(H)}catch(j){o0(j)}return Z.fire(),Q}J.initialize=G;function q(U){if(Y)return U();let z=new r,H=z.add(Z.event(()=>{H.dispose(),z.add(U())}));return z}J.withServices=q})(y0||(y0={}))});function Kn(J){Fn=J}function P9(){return Fn}class LI{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(J){return mJ0([zU(lJ0("|  ",this.indentation)),J])}formatInfo(J){if(!J.hadValue)return[zU(" "),gJ(_V(J.newValue,60),{color:"green"}),zU(" (initial)")];return J.didChange?[zU(" "),gJ(_V(J.oldValue,70),{color:"red",strikeThrough:!0}),zU(" "),gJ(_V(J.newValue,60),{color:"green"})]:[zU(" (unchanged)")]}handleObservableChanged(J,$){console.log(...this.textToConsoleArgs([MV("observable value changed"),gJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($)]))}formatChanges(J){if(J.size===0)return;return gJ(" (changed deps: "+[...J].map(($)=>$.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(J){let $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(Q,X)=>{return this.changedObservablesSets.get(J).add(Q),$.apply(J,[Q,X])}}handleDerivedRecomputed(J,$){let Q=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([MV("derived recomputed"),gJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),this.formatChanges(Q),{data:[{fn:J._computeFn}]}])),Q.clear()}handleFromEventObservableTriggered(J,$){console.log(...this.textToConsoleArgs([MV("observable from event triggered"),gJ(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),{data:[{fn:J._getValue}]}]))}handleAutorunCreated(J){let $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(Q,X)=>{return this.changedObservablesSets.get(J).add(Q),$.apply(J,[Q,X])}}handleAutorunTriggered(J){let $=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([MV("autorun"),gJ(J.debugName,{color:"BlueViolet"}),this.formatChanges($),{data:[{fn:J._runFn}]}])),$.clear(),this.indentation++}handleAutorunFinished(J){this.indentation--}handleBeginTransaction(J){let $=J.getDebugName();if($===void 0)$="";console.log(...this.textToConsoleArgs([MV("transaction"),gJ($,{color:"BlueViolet"}),{data:[{fn:J._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function mJ0(J){let $=new Array,Q=[],X="";function Y(G){if("length"in G){for(let q of G)if(q)Y(q)}else if("text"in G){if(X+=`%c${G.text}`,$.push(G.style),G.data)Q.push(...G.data)}else if("data"in G)Q.push(...G.data)}Y(J);let Z=[X,...$];return Z.push(...Q),Z}function zU(J){return gJ(J,{color:"black"})}function MV(J){return gJ(dJ0(`${J}: `,10),{color:"black",bold:!0})}function gJ(J,$={color:"black"}){function Q(Y){return Object.entries(Y).reduce((Z,[G,q])=>{return`${Z}${G}:${q};`},"")}let X={color:$.color};if($.strikeThrough)X["text-decoration"]="line-through";if($.bold)X["font-weight"]="bold";return{text:J,style:Q(X)}}function _V(J,$){switch(typeof J){case"number":return""+J;case"string":if(J.length+2<=$)return`"${J}"`;return`"${J.substr(0,$-7)}"+...`;case"boolean":return J?"true":"false";case"undefined":return"undefined";case"object":if(J===null)return"null";if(Array.isArray(J))return uJ0(J,$);return cJ0(J,$);case"symbol":return J.toString();case"function":return`[[Function${J.name?" "+J.name:""}]]`;default:return""+J}}function uJ0(J,$){let Q="[ ",X=!0;for(let Y of J){if(!X)Q+=", ";if(Q.length-5>$){Q+="...";break}X=!1,Q+=`${_V(Y,$-Q.length)}`}return Q+=" ]",Q}function cJ0(J,$){let Q="{ ",X=!0;for(let[Y,Z]of Object.entries(J)){if(!X)Q+=", ";if(Q.length-5>$){Q+="...";break}X=!1,Q+=`${Y}: ${_V(Z,$-Q.length)}`}return Q+=" }",Q}function lJ0(J,$){let Q="";for(let X=1;X<=$;X++)Q+=J;return Q}function dJ0(J,$){while(J.length<$)J+=" ";return J}var Fn;function Mn(J){Rn=J}function _n(J){sJ0=J}function Nn(J){On=J}class fD{get TChange(){return null}reportChanges(){this.get()}read(J){if(J)return J.readObservable(this);else return this.get()}map(J,$){let Q=$===void 0?void 0:J,X=$===void 0?J:$;return On({owner:Q,debugName:()=>{let Y=pJ(X);if(Y!==void 0)return Y;let G=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(X.toString());if(G)return`${this.debugName}.${G[2]}`;if(!Q)return`${this.debugName} (mapped)`;return}},(Y)=>X(this.read(Y),Y))}recomputeInitiallyAndOnChange(J,$){return J.add(Rn(this,$)),this}}function D6(J,$){let Q=new gD(J,$);try{J(Q)}finally{Q.finish()}}function HU(J){if(vD)J(vD);else{let $=new gD(J,void 0);vD=$;try{J($)}finally{$.finish(),vD=void 0}}}function AG(J,$,Q){if(!J)D6($,Q);else $(J)}class gD{constructor(J,$){var Q;this._fn=J,this._getDebugName=$,this.updatingObservers=[],(Q=P9())===null||Q===void 0||Q.handleBeginTransaction(this)}getDebugName(){if(this._getDebugName)return this._getDebugName();return pJ(this._fn)}updateObserver(J,$){this.updatingObservers.push({observer:J,observable:$}),J.beginUpdate($)}finish(){var J;let $=this.updatingObservers;for(let Q=0;Q<$.length;Q++){let{observer:X,observable:Y}=$[Q];X.endUpdate(Y)}this.updatingObservers=null,(J=P9())===null||J===void 0||J.handleEndTransaction()}}function OV(J,$,Q,X){var Y;let Z=kI.get(J);if(Z)return Z;let G=aJ0(J,$,Q,X);if(G){let q=(Y=An.get(G))!==null&&Y!==void 0?Y:0;q++,An.set(G,q);let U=q===1?G:`${G}#${q}`;return kI.set(J,U),U}return}function aJ0(J,$,Q,X){let Y=kI.get(J);if(Y)return Y;let Z=X?rJ0(X)+".":"",G;if($!==void 0)if(typeof $==="function"){if(G=$(),G!==void 0)return Z+G}else return Z+$;if(Q!==void 0){if(G=pJ(Q),G!==void 0)return Z+G}if(X!==void 0){for(let q in X)if(X[q]===J)return Z+q}return}function rJ0(J){var $;let Q=Dn.get(J);if(Q)return Q;let X=iJ0(J),Y=($=Pn.get(X))!==null&&$!==void 0?$:0;Y++,Pn.set(X,Y);let Z=Y===1?X:`${X}#${Y}`;return Dn.set(J,Z),Z}function iJ0(J){let $=J.constructor;if($)return $.name;return"Object"}function pJ(J){let $=J.toString(),X=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),Y=X?X[1]:void 0;return Y===null||Y===void 0?void 0:Y.trim()}function A1(J,$){if(typeof J==="string")return new hD(void 0,J,$);else return new hD(J,void 0,$)}function II(J,$){if(typeof J==="string")return new EI(void 0,J,$);else return new EI(J,void 0,$)}var Rn,sJ0,On,nY,vD=void 0,An,kI,Pn,Dn,hD,EI;var PG=N(()=>{nY=class nY extends fD{constructor(){super(...arguments);this.observers=new Set}addObserver(J){let $=this.observers.size;if(this.observers.add(J),$===0)this.onFirstObserverAdded()}removeObserver(J){if(this.observers.delete(J)&&this.observers.size===0)this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};An=new Map,kI=new WeakMap;Pn=new Map,Dn=new WeakMap;hD=class hD extends nY{get debugName(){var J;return(J=OV(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"ObservableValue"}constructor(J,$,Q){super();this._owner=J,this._debugName=$,this._value=Q}get(){return this._value}set(J,$,Q){var X;if(this._value===J)return;let Y;if(!$)$=Y=new gD(()=>{},()=>`Setting ${this.debugName}`);try{let Z=this._value;this._setValue(J),(X=P9())===null||X===void 0||X.handleObservableChanged(this,{oldValue:Z,newValue:J,change:Q,didChange:!0,hadValue:!0});for(let G of this.observers)$.updateObserver(G,this),G.handleChange(this,Q)}finally{if(Y)Y.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(J){this._value=J}};EI=class EI extends hD{_setValue(J){if(this._value===J)return;if(this._value)this._value.dispose();this._value=J}dispose(){var J;(J=this._value)===null||J===void 0||J.dispose()}}});function n0(J,$){if($!==void 0)return new jU(J,void 0,$,void 0,void 0,void 0,NV);return new jU(void 0,void 0,J,void 0,void 0,void 0,NV)}function yI(J,$){var Q;return new jU(J.owner,J.debugName,$,void 0,void 0,J.onLastObserverRemoved,(Q=J.equalityComparer)!==null&&Q!==void 0?Q:NV)}function o9(J,$){let Q,X;if($===void 0)Q=J,X=void 0;else X=J,Q=$;let Y=new r;return new jU(X,()=>{var Z;return(Z=pJ(Q))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{return Y.clear(),Q(Z,Y)},void 0,void 0,()=>Y.dispose(),NV)}function JQ(J,$){let Q,X;if($===void 0)Q=J,X=void 0;else X=J,Q=$;let Y=new r;return new jU(X,()=>{var Z;return(Z=pJ(Q))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{Y.clear();let G=Q(Z);if(G)Y.add(G);return G},void 0,void 0,()=>Y.dispose(),NV)}var NV=(J,$)=>J===$,jU;var TV=N(()=>{G$();Q0();PG();Nn(yI);jU=class jU extends nY{get debugName(){var J;return(J=OV(this,this._debugName,this._computeFn,this._owner))!==null&&J!==void 0?J:"(anonymous)"}constructor(J,$,Q,X,Y,Z=void 0,G){var q,U;super();this._owner=J,this._debugName=$,this._computeFn=Q,this.createChangeSummary=X,this._handleChange=Y,this._handleLastObserverRemoved=Z,this._equalityComparator=G,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(q=this.createChangeSummary)===null||q===void 0?void 0:q.call(this),(U=P9())===null||U===void 0||U.handleDerivedCreated(this)}onLastObserverRemoved(){var J;this.state=0,this.value=void 0;for(let $ of this.dependencies)$.removeObserver(this);this.dependencies.clear(),(J=this._handleLastObserverRemoved)===null||J===void 0||J.call(this)}get(){var J;if(this.observers.size===0){let $=this._computeFn(this,(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this));return this.onLastObserverRemoved(),$}else{do{if(this.state===1){for(let $ of this.dependencies)if($.reportChanges(),this.state===2)break}if(this.state===1)this.state=3;this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var J,$;if(this.state===3)return;let Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q;let X=this.state!==0,Y=this.value;this.state=3;let Z=this.changeSummary;this.changeSummary=(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this);try{this.value=this._computeFn(this,Z)}finally{for(let q of this.dependenciesToBeRemoved)q.removeObserver(this);this.dependenciesToBeRemoved.clear()}let G=X&&!this._equalityComparator(Y,this.value);if(($=P9())===null||$===void 0||$.handleDerivedRecomputed(this,{oldValue:Y,newValue:this.value,change:void 0,didChange:G,hadValue:X}),G)for(let q of this.observers)q.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(J){this.updateCount++;let $=this.updateCount===1;if(this.state===3){if(this.state=1,!$)for(let Q of this.observers)Q.handlePossibleChange(this)}if($)for(let Q of this.observers)Q.beginUpdate(this)}endUpdate(J){if(this.updateCount--,this.updateCount===0){let $=[...this.observers];for(let Q of $)Q.endUpdate(this)}Z$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){this.state=1;for(let $ of this.observers)$.handlePossibleChange(this)}}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){let Q=this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Y)=>Y===J},this.changeSummary):!0,X=this.state===3;if(Q&&(this.state===1||X)){if(this.state=2,X)for(let Y of this.observers)Y.handlePossibleChange(this)}}}readObservable(J){J.addObserver(this);let $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}addObserver(J){let $=!this.observers.has(J)&&this.updateCount>0;if(super.addObserver(J),$)J.beginUpdate(this)}removeObserver(J){let $=this.observers.has(J)&&this.updateCount>0;if(super.removeObserver(J),$)J.endUpdate(this)}}});function R1(J){return new LV(void 0,J,void 0,void 0)}function wV(J,$){return new LV(J.debugName,$,void 0,void 0)}function oY(J,$){return new LV(J.debugName,$,J.createEmptyChangeSummary,J.handleChange)}function G7(J){let $=new r,Q=wV({debugName:()=>pJ(J)||"(anonymous)"},(X)=>{$.clear(),J(X,$)});return K0(()=>{Q.dispose(),$.dispose()})}class LV{get debugName(){if(typeof this._debugName==="string")return this._debugName;if(typeof this._debugName==="function"){let $=this._debugName();if($!==void 0)return $}let J=pJ(this._runFn);if(J!==void 0)return J;return"(anonymous)"}constructor(J,$,Q,X){var Y,Z;this._debugName=J,this._runFn=$,this.createChangeSummary=Q,this._handleChange=X,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(Z=P9())===null||Z===void 0||Z.handleAutorunCreated(this),this._runIfNeeded(),TZ(this)}dispose(){this.disposed=!0;for(let J of this.dependencies)J.removeObserver(this);this.dependencies.clear(),wZ(this)}_runIfNeeded(){var J,$,Q;if(this.state===3)return;let X=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=X,this.state=3;let Y=this.disposed;try{if(!Y){(J=P9())===null||J===void 0||J.handleAutorunTriggered(this);let Z=this.changeSummary;this.changeSummary=($=this.createChangeSummary)===null||$===void 0?void 0:$.call(this),this._runFn(this,Z)}}finally{if(!Y)(Q=P9())===null||Q===void 0||Q.handleAutorunFinished(this);for(let Z of this.dependenciesToBeRemoved)Z.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){if(this.state===3)this.state=1;this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let J of this.dependencies)if(J.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Z$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J))this.state=1}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){if(this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(X)=>X===J},this.changeSummary):!0)this.state=2}}readObservable(J){if(this.disposed)return J.get();J.addObserver(this);let $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}}var xI=N(()=>{G$();Q0();PG();(function(J){J.Observer=LV})(R1||(R1={}))});function pD(J){return new Tn(J)}function SI(J,$){return new Promise((Q)=>{let X=!1,Y=!1,Z=J.map((q)=>({isFinished:$(q),state:q})),G=R1((q)=>{let{isFinished:U,state:z}=Z.read(q);if(U){if(!X)Y=!0;else G.dispose();Q(z)}});if(X=!0,Y)G.dispose()})}function w6(J,$){return new DG(J,$)}function T7(J,$){return new wn(J,$)}function CI(J){if(typeof J==="string")return new bI(J);else return new bI(void 0,J)}function Ln(J){let $=new vI(!1,void 0);return J.addObserver($),K0(()=>{J.removeObserver($)})}function tY(J,$){let Q=new vI(!0,$);if(J.addObserver(Q),$)$(J.get());else J.reportChanges();return K0(()=>{J.removeObserver(Q)})}class vI{constructor(J,$){this._forceRecompute=J,this._handleValue=$,this._counter=0}beginUpdate(J){this._counter++}endUpdate(J){if(this._counter--,this._counter===0&&this._forceRecompute)if(this._handleValue)this._handleValue(J.get());else J.reportChanges()}handlePossibleChange(J){}handleChange(J,$){}}function hI(J){let $=void 0;return n0((X)=>{return $=J(X,$),$})}var Tn,DG,wn,bI;var kn=N(()=>{Q0();xI();PG();TV();Tn=class Tn extends fD{constructor(J){super();this.value=J}get debugName(){return this.toString()}get(){return this.value}addObserver(J){}removeObserver(J){}toString(){return`Const: ${this.value}`}};DG=class DG extends nY{constructor(J,$){super();this.event=J,this._getValue=$,this.hasValue=!1,this.handleEvent=(Q)=>{var X;let Y=this._getValue(Q),Z=this.value,G=!this.hasValue||Z!==Y,q=!1;if(G){if(this.value=Y,this.hasValue)q=!0,AG(DG.globalTransaction,(U)=>{var z;(z=P9())===null||z===void 0||z.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue});for(let H of this.observers)U.updateObserver(H,this),H.handleChange(this,void 0)},()=>{let U=this.getDebugName();return"Event fired"+(U?`: ${U}`:"")});this.hasValue=!0}if(!q)(X=P9())===null||X===void 0||X.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue})}}getDebugName(){return pJ(this._getValue)}get debugName(){let J=this.getDebugName();return"From Event"+(J?`: ${J}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){if(this.subscription){if(!this.hasValue)this.handleEvent(void 0);return this.value}else return this._getValue(void 0)}};(function(J){J.Observer=DG;function $(Q,X){let Y=!1;if(DG.globalTransaction===void 0)DG.globalTransaction=Q,Y=!0;try{X()}finally{if(Y)DG.globalTransaction=void 0}}J.batchEventsGlobally=$})(w6||(w6={}));wn=class wn extends nY{constructor(J,$){super();this.debugName=J,this.event=$,this.handleEvent=()=>{D6((Q)=>{for(let X of this.observers)Q.updateObserver(X,this),X.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}};bI=class bI extends nY{get debugName(){var J;return(J=OV(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"Observable Signal"}constructor(J,$){super();this._debugName=J,this._owner=$}trigger(J,$){if(!J){D6((Q)=>{this.trigger(Q,$)},()=>`Trigger signal ${this.debugName}`);return}for(let Q of this.observers)J.updateObserver(Q,this),Q.handleChange(this,$)}get(){}};_n(Ln);Mn(tY)});var nJ0=!1;var l8=N(()=>{PG();TV();xI();kn();if(nJ0)Kn(new LI)});var En=N(()=>{j0(".monaco-editor .diff-hidden-lines-widget{width:100%}.monaco-editor .diff-hidden-lines{height:0;font-size:13px;line-height:14px;transform:translateY(-10px)}.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,.monaco-editor .diff-hidden-lines .top.dragging,.monaco-editor .diff-hidden-lines .bottom.dragging{background-color:var(--vscode-focusBorder)}.monaco-editor .diff-hidden-lines .top,.monaco-editor .diff-hidden-lines .bottom{background-color:#0000;background-clip:padding-box;border-top:4px solid #0000;border-bottom:2px solid #0000;height:4px;transition:background-color .1s ease-out}.monaco-editor.draggingUnchangedRegion.canMoveTop:not(.canMoveBottom) *,.monaco-editor .diff-hidden-lines .top.canMoveTop:not(.canMoveBottom),.monaco-editor .diff-hidden-lines .bottom.canMoveTop:not(.canMoveBottom){cursor:n-resize!important}.monaco-editor.draggingUnchangedRegion:not(.canMoveTop).canMoveBottom *,.monaco-editor .diff-hidden-lines .top:not(.canMoveTop).canMoveBottom,.monaco-editor .diff-hidden-lines .bottom:not(.canMoveTop).canMoveBottom{cursor:s-resize!important}.monaco-editor.draggingUnchangedRegion.canMoveTop.canMoveBottom *,.monaco-editor .diff-hidden-lines .top.canMoveTop.canMoveBottom,.monaco-editor .diff-hidden-lines .bottom.canMoveTop.canMoveBottom{cursor:ns-resize!important}.monaco-editor .diff-hidden-lines .top{transform:translateY(4px)}.monaco-editor .diff-hidden-lines .bottom{transform:translateY(-6px)}.monaco-editor .diff-unchanged-lines{background:var(--vscode-diffEditor-unchangedCodeBackground)}.monaco-editor .noModificationsOverlay{z-index:1;background:var(--vscode-editor-background);justify-content:center;align-items:center;display:flex}.monaco-editor .diff-hidden-lines .center{background:var(--vscode-diffEditor-unchangedRegionBackground);color:var(--vscode-diffEditor-unchangedRegionForeground);text-overflow:ellipsis;white-space:nowrap;box-shadow:inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow),inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow);height:24px;display:block;overflow:hidden}.monaco-editor .diff-hidden-lines .center span.codicon{vertical-align:middle}.monaco-editor .diff-hidden-lines .center a:hover .codicon{cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .diff-hidden-lines div.breadcrumb-item{cursor:pointer}.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover{color:var(--vscode-editorLink-activeForeground)}.monaco-editor .movedOriginal,.monaco-editor .movedModified{border:2px solid var(--vscode-diffEditor-move-border)}.monaco-editor .movedOriginal.currentMove,.monaco-editor .movedModified.currentMove{border:2px solid var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path.currentMove{stroke:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path{pointer-events:visiblestroke}.monaco-diff-editor .moved-blocks-lines .arrow{fill:var(--vscode-diffEditor-move-border)}.monaco-diff-editor .moved-blocks-lines .arrow.currentMove{fill:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines .arrow-rectangle{fill:var(--vscode-editor-background)}.monaco-diff-editor .moved-blocks-lines{pointer-events:none;position:absolute}.monaco-diff-editor .moved-blocks-lines path{fill:none;stroke:var(--vscode-diffEditor-move-border);stroke-width:2px}.monaco-editor .char-delete.diff-range-empty{border-left:solid var(--vscode-diffEditor-removedTextBackground)3px;margin-left:-1px}.monaco-editor .char-insert.diff-range-empty{border-left:solid var(--vscode-diffEditor-insertedTextBackground)3px}.monaco-editor .fold-unchanged{cursor:pointer}.monaco-diff-editor .diff-moved-code-block{justify-content:flex-end;margin-top:-4px;display:flex}.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon{width:12px;height:12px;font-size:12px}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:#00000008}.monaco-diff-editor.vs-dark .diffOverview{background:#ffffff03}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light .scrollbar{background:0 0}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:#ababab66}.modified-in-monaco-diff-editor.hc-black .slider.active,.modified-in-monaco-diff-editor.hc-light .slider.active{background:0 0}.monaco-editor .insert-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-diff-editor .delete-sign{align-items:center;opacity:.7!important;font-size:11px!important;display:flex!important}.monaco-editor.hc-black .insert-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .delete-sign,.monaco-editor.hc-light .insert-sign,.monaco-diff-editor.hc-light .insert-sign,.monaco-editor.hc-light .delete-sign,.monaco-diff-editor.hc-light .delete-sign{opacity:1}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .inline-added-margin-view-zone{text-align:right}.monaco-editor .arrow-revert-change{z-index:10;position:absolute}.monaco-editor .arrow-revert-change:hover{cursor:pointer}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-editor .char-insert,.monaco-diff-editor .char-insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-editor .line-insert,.monaco-diff-editor .line-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .line-insert,.monaco-editor .char-insert{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-insertedTextBorder)}.monaco-editor.hc-black .line-insert,.monaco-editor.hc-light .line-insert,.monaco-editor.hc-black .char-insert,.monaco-editor.hc-light .char-insert{border-style:dashed}.monaco-editor .line-delete,.monaco-editor .char-delete{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-removedTextBorder)}.monaco-editor.hc-black .line-delete,.monaco-editor.hc-light .line-delete,.monaco-editor.hc-black .char-delete,.monaco-editor.hc-light .char-delete{border-style:dashed}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .gutter-insert,.monaco-diff-editor .gutter-insert{background-color:var(--vscode-diffEditorGutter-insertedLineBackground,var(--vscode-diffEditor-insertedLineBackground),var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .char-delete,.monaco-diff-editor .char-delete{background-color:var(--vscode-diffEditor-removedTextBackground)}.monaco-editor .line-delete,.monaco-diff-editor .line-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .gutter-delete,.monaco-diff-editor .gutter-delete{background-color:var(--vscode-diffEditorGutter-removedLineBackground,var(--vscode-diffEditor-removedLineBackground),var(--vscode-diffEditor-removedTextBackground))}.monaco-diff-editor.side-by-side .editor.modified{box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);border-left:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor .diffViewport{background:var(--vscode-scrollbarSlider-background)}.monaco-diff-editor .diffViewport:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-diff-editor .diffViewport:active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .diagonal-fill{background-image:linear-gradient(-45deg,var(--vscode-diffEditor-diagonalFill)12.5%,#0000 12.5%,#0000 50%,var(--vscode-diffEditor-diagonalFill)50%,var(--vscode-diffEditor-diagonalFill)62.5%,#0000 62.5%,#0000 100%);background-size:8px 8px}")});class g4{static capture(J){if(J.getScrollTop()===0||J.hasPendingScrollAnimation())return new g4(J.getScrollTop(),J.getContentHeight(),null,0,null);let $=null,Q=0,X=J.getVisibleRanges();if(X.length>0){$=X[0].getStartPosition();let Y=J.getTopForPosition($.lineNumber,$.column);Q=J.getScrollTop()-Y}return new g4(J.getScrollTop(),J.getContentHeight(),$,Q,J.getPosition())}constructor(J,$,Q,X,Y){this._initialScrollTop=J,this._initialContentHeight=$,this._visiblePosition=Q,this._visiblePositionScrollDelta=X,this._cursorPosition=Y}restore(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;if(this._visiblePosition){let $=J.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);J.setScrollTop($+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;let $=J.getPosition();if(!this._cursorPosition||!$)return;let Q=J.getTopForLineNumber($.lineNumber)-J.getTopForLineNumber(this._cursorPosition.lineNumber);J.setScrollTop(J.getScrollTop()+Q)}}function uD(){return oU&&!!oU.VSCODE_DEV}function fI(J){if(!uD())return{dispose(){}};else{let $=oJ0();return $.add(J),{dispose(){$.delete(J)}}}}function oJ0(){if(!mD)mD=new Set;let J=globalThis;if(!J.$hotReload_applyNewExports)J.$hotReload_applyNewExports=($)=>{for(let Q of mD){let X=Q($);if(X)return X}return};return mD}var mD=void 0;var In=N(()=>{jM();if(uD())fI(({oldExports:J,newSrc:$})=>{if($.indexOf("/* hot-reload:patch-prototype-methods */")===-1)return;return(Q)=>{var X,Y;for(let Z in Q){let G=Q[Z];if(console.log(`[hot-reload] Patching prototype methods of '${Z}'`,{exportedItem:G}),typeof G==="function"&&G.prototype){let q=J[Z];if(q){for(let U of Object.getOwnPropertyNames(G.prototype)){let z=Object.getOwnPropertyDescriptor(G.prototype,U),H=Object.getOwnPropertyDescriptor(q.prototype,U);if(((X=z===null||z===void 0?void 0:z.value)===null||X===void 0?void 0:X.toString())!==((Y=H===null||H===void 0?void 0:H.value)===null||Y===void 0?void 0:Y.toString()))console.log(`[hot-reload] Patching prototype method '${Z}.${U}'`);Object.defineProperty(q.prototype,U,z)}Q[Z]=q}}}return!0}})});function yn(J,$,Q,X){if(J.length===0)return $;if($.length===0)return J;let Y=[],Z=0,G=0;while(Z<J.length&&G<$.length){let q=J[Z],U=$[G],z=Q(q),H=Q(U);if(z<H)Y.push(q),Z++;else if(z>H)Y.push(U),G++;else Y.push(X(q,U)),Z++,G++}while(Z<J.length)Y.push(J[Z]),Z++;while(G<$.length)Y.push($[G]),G++;return Y}function VU(J,$){let Q=new r,X=J.createDecorationsCollection();return Q.add(wV({debugName:()=>`Apply decorations from ${$.debugName}`},(Y)=>{let Z=$.read(Y);X.set(Z)})),Q.add({dispose:()=>{X.clear()}}),Q}function kV(J,$){return J.appendChild($),K0(()=>{J.removeChild($)})}function gI(J,$,Q){let X=$.get(),Y=X,Z=X,G=A1("animatedValue",X),q=-1,U=300,z=void 0;Q.add(oY({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(j,V)=>{if(j.didChange($))V.animate=V.animate||j.change;return!0}},(j,V)=>{if(z!==void 0)J.cancelAnimationFrame(z),z=void 0;Y=Z,X=$.read(j),q=Date.now()-(V.animate?0:U),H()}));function H(){let j=Date.now()-q;if(Z=Math.floor(tJ0(j,Y,X-Y,U)),j<U)z=J.requestAnimationFrame(H);else Z=X;G.set(Z,void 0)}return G}function tJ0(J,$,Q,X){return J===X?$+Q:Q*(-Math.pow(2,-10*J/X)+1)+$}class RG{get afterLineNumber(){return this._afterLineNumber.get()}constructor(J,$){this._afterLineNumber=J,this.heightInPx=$,this.domNode=document.createElement("div"),this._actualTop=A1(this,void 0),this._actualHeight=A1(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=(Q)=>{this._actualTop.set(Q,void 0)},this.onComputedHeight=(Q)=>{this._actualHeight.set(Q,void 0)}}}class cD{constructor(J,$){this._editor=J,this._domElement=$,this._overlayWidgetId=`managedOverlayWidget-${cD._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}function p4(J,$){return R1((Q)=>{for(let[X,Y]of Object.entries($)){if(Y&&typeof Y==="object"&&"read"in Y)Y=Y.read(Q);if(typeof Y==="number")Y=`${Y}px`;X=X.replace(/[A-Z]/g,(Z)=>"-"+Z.toLowerCase()),J.style[X]=Y}})}function t9(J,$){return eJ0([J],$),J}function eJ0(J,$){if(uD())T7("reload",(X)=>fI(({oldExports:Y})=>{if(![...Object.values(Y)].some((Z)=>J.includes(Z)))return;return(Z)=>{return X(void 0),!0}})).read($)}function WU(J,$,Q,X){let Y=new r,Z=[];return Y.add(G7((G,q)=>{let U=$.read(G),z=new Map,H=new Map;if(Q)Q(!0);if(J.changeViewZones((j)=>{for(let V of Z)j.removeZone(V),X===null||X===void 0||X.delete(V);Z.length=0;for(let V of U){let W=j.addZone(V);if(V.setZoneId)V.setZoneId(W);Z.push(W),X===null||X===void 0||X.add(W),z.set(V,W)}}),Q)Q(!1);q.add(oY({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(j,V){let W=H.get(j.changedObservable);if(W!==void 0)V.zoneIds.push(W);return!0}},(j,V)=>{for(let W of U)if(W.onChange)H.set(W.onChange,z.get(W)),W.onChange.read(j);if(Q)Q(!0);if(J.changeViewZones((W)=>{for(let B of V.zoneIds)W.layoutZone(B)}),Q)Q(!1)}))})),Y.add({dispose(){if(Q)Q(!0);if(J.changeViewZones((G)=>{for(let q of Z)G.removeZone(q)}),X===null||X===void 0||X.clear(),Q)Q(!1)}}),Y}function pI(J,$){let Q=j2($,(Y)=>Y.original.startLineNumber<=J.lineNumber);if(!Q)return L.fromPositions(J);if(Q.original.endLineNumberExclusive<=J.lineNumber){let Y=J.lineNumber-Q.original.endLineNumberExclusive+Q.modified.endLineNumberExclusive;return L.fromPositions(new v(Y,J.column))}if(!Q.innerChanges)return L.fromPositions(new v(Q.modified.startLineNumber,1));let X=j2(Q.innerChanges,(Y)=>Y.originalRange.getStartPosition().isBeforeOrEqual(J));if(!X){let Y=J.lineNumber-Q.original.startLineNumber+Q.modified.startLineNumber;return L.fromPositions(new v(Y,J.column))}if(X.originalRange.containsPosition(J))return X.modifiedRange;else{let Y=J$0(X.originalRange.getEndPosition(),J);return L.fromPositions($$0(X.modifiedRange.getEndPosition(),Y))}}function J$0(J,$){if(J.lineNumber===$.lineNumber)return new S2(0,$.column-J.column);else return new S2($.lineNumber-J.lineNumber,$.column-1)}function $$0(J,$){if($.lineCount===0)return new v(J.lineNumber,J.column+$.columnCount);else return new v(J.lineNumber+$.lineCount,$.columnCount+1)}function yV(J,$,Q){let X=J.bindTo($);return wV({debugName:()=>`Update ${J.key}`},(Y)=>{X.set(Q(Y))})}function xn(J,$){let Q;return J.filter((X)=>{let Y=$(X,Q);return Q=X,Y})}var EV,IV;var mJ=N(()=>{zJ();e5();In();Q0();l8();vO();l0();y$();EV=class EV extends h{get width(){return this._width}get height(){return this._height}constructor(J,$){super();this.elementSizeObserver=this._register(new qH(J,$)),this._width=A1(this,this.elementSizeObserver.getWidth()),this._height=A1(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((Q)=>D6((X)=>{this._width.set(this.elementSizeObserver.getWidth(),X),this._height.set(this.elementSizeObserver.getHeight(),X)})))}observe(J){this.elementSizeObserver.observe(J)}setAutomaticLayout(J){if(J)this.elementSizeObserver.startObserving();else this.elementSizeObserver.stopObserving()}};IV=class IV extends h{constructor(J,$,Q){super();this._register(new cD(J,Q)),this._register(p4(Q,{height:$.actualHeight,top:$.actualTop}))}};cD._counter=0});var bn=N(()=>{j0(".monaco-diff-editor .diff-review-line-number{text-align:right;color:var(--vscode-editorLineNumber-foreground);display:inline-block}.monaco-diff-editor .diff-review{-webkit-user-select:none;user-select:none;z-index:99;position:absolute}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 -6px 6px -6px inset;position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{min-width:100%;display:table}.monaco-diff-editor .diff-review-row{width:100%;display:table-row}.monaco-diff-editor .diff-review-spacer{vertical-align:middle;width:10px;display:inline-block}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{z-index:100;display:inline-block;position:absolute;top:2px;right:10px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}.monaco-diff-editor .revertButton{cursor:pointer}")});function Z$0(J,$,Q){let X=[];for(let Y of EG(J,(Z,G)=>G.modified.startLineNumber-Z.modified.endLineNumberExclusive<2*xV)){let Z=[];Z.push(new Cn);let G=new S0(Math.max(1,Y[0].original.startLineNumber-xV),Math.min(Y[Y.length-1].original.endLineNumberExclusive+xV,$+1)),q=new S0(Math.max(1,Y[0].modified.startLineNumber-xV),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+xV,Q+1));AW(Y,(H,j)=>{let V=new S0(H?H.original.endLineNumberExclusive:G.startLineNumber,j?j.original.startLineNumber:G.endLineNumberExclusive),W=new S0(H?H.modified.endLineNumberExclusive:q.startLineNumber,j?j.modified.startLineNumber:q.endLineNumberExclusive);if(V.forEach((B)=>{Z.push(new fn(B,W.startLineNumber+(B-V.startLineNumber)))}),j)j.original.forEach((B)=>{Z.push(new vn(j,B))}),j.modified.forEach((B)=>{Z.push(new hn(j,B))})});let U=Y[0].modified.join(Y[Y.length-1].modified),z=Y[0].original.join(Y[Y.length-1].original);X.push(new Sn(new Q8(U,z),Z))}return X}class Sn{constructor(J,$){this.range=J,this.lines=$}}class Cn{constructor(){this.type=q7.Header}}class vn{constructor(J,$){this.diff=J,this.originalLineNumber=$,this.type=q7.Deleted,this.modifiedLineNumber=void 0}}class hn{constructor(J,$){this.diff=J,this.modifiedLineNumber=$,this.type=q7.Added,this.originalLineNumber=void 0}}class fn{constructor(J,$){this.originalLineNumber=J,this.modifiedLineNumber=$,this.type=q7.Unchanged}}var cI=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},lI=function(J,$){return function(Q,X){$(Q,X,J)}},Q$0,X$0,Y$0,LX,mI,xV=3,q7,uI;var gn=N(()=>{D0();oX();r$();OJ();t8();U1();U5();Q0();l8();H5();W4();mJ();t5();f7();m9();l0();XY();v9();pQ();Rq();L4();g0();KG();u0();ZU();bn();Q$0=Z7("diff-review-insert",U0.add,F("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),X$0=Z7("diff-review-remove",U0.remove,F("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),Y$0=Z7("diff-review-close",U0.close,F("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer.")),LX=class J extends h{constructor($,Q,X,Y,Z,G,q,U,z){super();this._parentNode=$,this._visible=Q,this._setVisible=X,this._canClose=Y,this._width=Z,this._height=G,this._diffs=q,this._editors=U,this._instantiationService=z,this._state=o9(this,(H,j)=>{let V=this._visible.read(H);if(this._parentNode.style.visibility=V?"visible":"hidden",!V)return null;let W=j.add(this._instantiationService.createInstance(mI,this._diffs,this._editors,this._setVisible,this._canClose)),B=j.add(this._instantiationService.createInstance(uI,this._parentNode,W,this._width,this._height,this._editors));return{model:W,view:B}}).recomputeInitiallyAndOnChange(this._store)}next(){D6(($)=>{let Q=this._visible.get();if(this._setVisible(!0,$),Q)this._state.get().model.nextGroup($)})}prev(){D6(($)=>{this._setVisible(!0,$),this._state.get().model.previousGroup($)})}close(){D6(($)=>{this._setVisible(!1,$)})}};LX._ttPolicy=z9("diffReview",{createHTML:(J)=>J});LX=cI([lI(8,p0)],LX);mI=class J extends h{constructor($,Q,X,Y,Z){super();this._diffs=$,this._editors=Q,this._setVisible=X,this.canClose=Y,this._audioCueService=Z,this._groups=A1(this,[]),this._currentGroupIdx=A1(this,0),this._currentElementIdx=A1(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((G,q)=>this._groups.read(q)[G]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((G,q)=>{var U;return(U=this.currentGroup.read(q))===null||U===void 0?void 0:U.lines[G]}),this._register(R1((G)=>{let q=this._diffs.read(G);if(!q){this._groups.set([],void 0);return}let U=Z$0(q,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());D6((z)=>{let H=this._editors.modified.getPosition();if(H){let j=U.findIndex((V)=>(H===null||H===void 0?void 0:H.lineNumber)<V.range.modified.endLineNumberExclusive);if(j!==-1)this._currentGroupIdx.set(j,z)}this._groups.set(U,z)})})),this._register(R1((G)=>{let q=this.currentElement.read(G);if((q===null||q===void 0?void 0:q.type)===q7.Deleted)this._audioCueService.playAudioCue(Q1.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"});else if((q===null||q===void 0?void 0:q.type)===q7.Added)this._audioCueService.playAudioCue(Q1.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(R1((G)=>{var q;let U=this.currentElement.read(G);if(U&&U.type!==q7.Header){let z=(q=U.modifiedLineNumber)!==null&&q!==void 0?q:U.diff.modified.startLineNumber;this._editors.modified.setSelection(L.fromPositions(new v(z,1)))}}))}_goToGroupDelta($,Q){let X=this.groups.get();if(!X||X.length<=1)return;AG(Q,(Y)=>{this._currentGroupIdx.set(s0.ofLength(X.length).clipCyclic(this._currentGroupIdx.get()+$),Y),this._currentElementIdx.set(0,Y)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){let Q=this.currentGroup.get();if(!Q||Q.lines.length<=1)return;D6((X)=>{this._currentElementIdx.set(s0.ofLength(Q.lines.length).clip(this._currentElementIdx.get()+$),X)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){let Q=this.currentGroup.get();if(!Q)return;let X=Q.lines.indexOf($);if(X===-1)return;D6((Y)=>{this._currentElementIdx.set(X,Y)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);let $=this.currentElement.get();if($)if($.type===q7.Deleted)this._editors.original.setSelection(L.fromPositions(new v($.originalLineNumber,1))),this._editors.original.revealLine($.originalLineNumber),this._editors.original.focus();else{if($.type!==q7.Header)this._editors.modified.setSelection(L.fromPositions(new v($.modifiedLineNumber,1))),this._editors.modified.revealLine($.modifiedLineNumber);this._editors.modified.focus()}}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};mI=cI([lI(4,n9)],mI);(function(J){J[J.Header=0]="Header",J[J.Unchanged=1]="Unchanged",J[J.Deleted=2]="Deleted",J[J.Added=3]="Added"})(q7||(q7={}));uI=class J extends h{constructor($,Q,X,Y,Z,G){super();this._element=$,this._model=Q,this._width=X,this._height=Y,this._editors=Z,this._languageService=G,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";let q=document.createElement("div");q.className="diff-review-actions",this._actionBar=this._register(new H8(q)),this._register(R1((U)=>{if(this._actionBar.clear(),this._model.canClose.read(U))this._actionBar.push(new F7("diffreview.close",F("label.close","Close"),"close-diff-review "+b0.asClassName(Y$0),!0,async()=>Q.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new oQ(this._content,{})),V5(this.domNode,this._scrollbar.getDomNode(),q),this._register(K0(()=>{V5(this.domNode)})),this._register(p4(this.domNode,{width:this._width,height:this._height})),this._register(p4(this._content,{width:this._width,height:this._height})),this._register(G7((U,z)=>{this._model.currentGroup.read(U),this._render(z)})),this._register(i1(this.domNode,"keydown",(U)=>{if(U.equals(18)||U.equals(2066)||U.equals(530))U.preventDefault(),this._model.goToNextLine();if(U.equals(16)||U.equals(2064)||U.equals(528))U.preventDefault(),this._model.goToPreviousLine();if(U.equals(9)||U.equals(2057)||U.equals(521)||U.equals(1033))U.preventDefault(),this._model.close();if(U.equals(10)||U.equals(3))U.preventDefault(),this._model.revealCurrentElementInEditor()}))}_render($){let Q=this._editors.original.getOptions(),X=this._editors.modified.getOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",F("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),M6(Y,X.get(50)),V5(this._content,Y);let Z=this._editors.original.getModel(),G=this._editors.modified.getModel();if(!Z||!G)return;let q=Z.getOptions(),U=G.getOptions(),z=X.get(66),H=this._model.currentGroup.get();for(let j of(H===null||H===void 0?void 0:H.lines)||[]){if(!H)break;let V;if(j.type===q7.Header){let B=document.createElement("div");B.className="diff-review-row",B.setAttribute("role","listitem");let K=H.range,P=this._model.currentGroupIndex.get(),A=this._model.groups.get().length,D=(T)=>T===0?F("no_lines_changed","no lines changed"):T===1?F("one_line_changed","1 line changed"):F("more_lines_changed","{0} lines changed",T),R=D(K.original.length),M=D(K.modified.length);B.setAttribute("aria-label",F({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",P+1,A,K.original.startLineNumber,R,K.modified.startLineNumber,M));let _=document.createElement("div");_.className="diff-review-cell diff-review-summary",_.appendChild(document.createTextNode(`${P+1}/${A}: @@ -${K.original.startLineNumber},${K.original.length} +${K.modified.startLineNumber},${K.modified.length} @@`)),B.appendChild(_),V=B}else V=this._createRow(j,z,this._width.get(),Q,Z,q,X,G,U);Y.appendChild(V);let W=n0((B)=>this._model.currentElement.read(B)===j);$.add(R1((B)=>{let K=W.read(B);if(V.tabIndex=K?0:-1,K)V.focus()})),$.add(m(V,"focus",()=>{this._model.goToLine(j)}))}this._scrollbar.scanDomNode()}_createRow($,Q,X,Y,Z,G,q,U,z){let H=Y.get(143),j=H.glyphMarginWidth+H.lineNumbersWidth,V=q.get(143),W=10+V.glyphMarginWidth+V.lineNumbersWidth,B="diff-review-row",K="",P="diff-review-spacer",A=null;switch($.type){case q7.Added:B="diff-review-row line-insert",K=" char-insert",A=Q$0;break;case q7.Deleted:B="diff-review-row line-delete",K=" char-delete",A=X$0;break}let D=document.createElement("div");D.style.minWidth=X+"px",D.className=B,D.setAttribute("role","listitem"),D.ariaLevel="";let R=document.createElement("div");R.className="diff-review-cell",R.style.height=`${Q}px`,D.appendChild(R);let M=document.createElement("span");if(M.style.width=j+"px",M.style.minWidth=j+"px",M.className="diff-review-line-number"+K,$.originalLineNumber!==void 0)M.appendChild(document.createTextNode(String($.originalLineNumber)));else M.innerText=" ";R.appendChild(M);let _=document.createElement("span");if(_.style.width=W+"px",_.style.minWidth=W+"px",_.style.paddingRight="10px",_.className="diff-review-line-number"+K,$.modifiedLineNumber!==void 0)_.appendChild(document.createTextNode(String($.modifiedLineNumber)));else _.innerText=" ";R.appendChild(_);let T=document.createElement("span");if(T.className=P,A){let S=document.createElement("span");S.className=b0.asClassName(A),S.innerText="  ",T.appendChild(S)}else T.innerText="  ";R.appendChild(T);let w;if($.modifiedLineNumber!==void 0){let S=this._getLineHtml(U,q,z.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);if(LX._ttPolicy)S=LX._ttPolicy.createHTML(S);R.insertAdjacentHTML("beforeend",S),w=U.getLineContent($.modifiedLineNumber)}else{let S=this._getLineHtml(Z,Y,G.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);if(LX._ttPolicy)S=LX._ttPolicy.createHTML(S);R.insertAdjacentHTML("beforeend",S),w=Z.getLineContent($.originalLineNumber)}if(w.length===0)w=F("blankLine","blank");let b="";switch($.type){case q7.Unchanged:if($.originalLineNumber===$.modifiedLineNumber)b=F({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",w,$.originalLineNumber);else b=F("equalLine","{0} original line {1} modified line {2}",w,$.originalLineNumber,$.modifiedLineNumber);break;case q7.Added:b=F("insertLine","+ {0} modified line {1}",w,$.modifiedLineNumber);break;case q7.Deleted:b=F("deleteLine","- {0} original line {1}",w,$.originalLineNumber);break}return D.setAttribute("aria-label",b),D}_getLineHtml($,Q,X,Y,Z){let G=$.getLineContent(Y),q=Q.get(50),U=O6.createEmpty(G,Z),z=f8.isBasicASCII(G,$.mightContainNonBasicASCII()),H=f8.containsRTL(G,z,$.mightContainRTL());return Dq(new VJ(q.isMonospace&&!Q.get(33),q.canUseHalfwidthRightwardsArrow,G,!1,z,H,0,U,[],X,0,q.spaceWidth,q.middotWidth,q.wsmiddotWidth,Q.get(116),Q.get(98),Q.get(93),Q.get(51)!==n8.OFF,null)).html}};uI=cI([lI(5,e1)],uI)});class sI{static compute(J){let $=[],Q=[];for(let X of J){let Y=$.findIndex((Z)=>!Z.intersectsStrict(X));if(Y===-1)if($.length>=6)Y=Ov($,k7((G)=>G.intersectWithRangeLength(X),qQ));else Y=$.length,$.push(new cF);$[Y].addRange(X),Q.push(Y)}return new sI($.length,Q)}constructor(J,$){this._trackCount=J,this.trackPerLineIdx=$}getTrack(J){return this.trackPerLineIdx[J]}getTrackCount(){return this._trackCount}}var $Q,dI;var aI=N(()=>{D0();r$();t8();U1();zJ();U5();Q0();l8();H5();mJ();m9();g0();$Q=class $Q extends h{constructor(J,$,Q,X,Y){super();this._rootElement=J,this._diffModel=$,this._originalEditorLayoutInfo=Q,this._modifiedEditorLayoutInfo=X,this._editors=Y,this._originalScrollTop=w6(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=w6(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=T7("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=A1(this,0),this._modifiedViewZonesChangedSignal=T7("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=T7("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=o9(this,(j,V)=>{var W;this._element.replaceChildren();let B=this._diffModel.read(j),K=(W=B===null||B===void 0?void 0:B.diff.read(j))===null||W===void 0?void 0:W.movedTexts;if(!K||K.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(j);let P=this._originalEditorLayoutInfo.read(j),A=this._modifiedEditorLayoutInfo.read(j);if(!P||!A){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(j),this._originalViewZonesChangedSignal.read(j);let D=K.map((S)=>{function g(A0,f0){let d0=f0.getTopForLineNumber(A0.startLineNumber,!0),x0=f0.getTopForLineNumber(A0.endLineNumberExclusive,!0);return(d0+x0)/2}let c=g(S.lineRangeMapping.original,this._editors.original),C=this._originalScrollTop.read(j),u=g(S.lineRangeMapping.modified,this._editors.modified),i=this._modifiedScrollTop.read(j),Y0=c-C,P0=u-i,R0=Math.min(c,u),T0=Math.max(c,u);return{range:new s0(R0,T0),from:Y0,to:P0,fromWithoutScroll:c,toWithoutScroll:u,move:S}});D.sort(bx(k7((S)=>S.fromWithoutScroll>S.toWithoutScroll,Sx),k7((S)=>S.fromWithoutScroll>S.toWithoutScroll?S.fromWithoutScroll:-S.toWithoutScroll,qQ)));let R=sI.compute(D.map((S)=>S.range)),M=10,_=P.verticalScrollbarWidth,T=(R.getTrackCount()-1)*10+M*2,w=_+T+(A.contentLeft-$Q.movedCodeBlockPadding),b=0;for(let S of D){let g=R.getTrack(b),c=_+M+g*10,C=15,u=15,i=w,Y0=A.glyphMarginWidth+A.lineNumbersWidth,P0=18,R0=document.createElementNS("http://www.w3.org/2000/svg","rect");R0.classList.add("arrow-rectangle"),R0.setAttribute("x",`${i-Y0}`),R0.setAttribute("y",`${S.to-9}`),R0.setAttribute("width",`${Y0}`),R0.setAttribute("height","18"),this._element.appendChild(R0);let T0=document.createElementNS("http://www.w3.org/2000/svg","g"),A0=document.createElementNS("http://www.w3.org/2000/svg","path");A0.setAttribute("d",`M 0 ${S.from} L ${c} ${S.from} L ${c} ${S.to} L ${i-15} ${S.to}`),A0.setAttribute("fill","none"),T0.appendChild(A0);let f0=document.createElementNS("http://www.w3.org/2000/svg","polygon");f0.classList.add("arrow"),V.add(R1((d0)=>{A0.classList.toggle("currentMove",S.move===B.activeMovedText.read(d0)),f0.classList.toggle("currentMove",S.move===B.activeMovedText.read(d0))})),f0.setAttribute("points",`${i-15},${S.to-7.5} ${i},${S.to} ${i-15},${S.to+7.5}`),T0.appendChild(f0),this._element.appendChild(T0),b++}this.width.set(T,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(K0(()=>this._element.remove())),this._register(R1((j)=>{let V=this._originalEditorLayoutInfo.read(j),W=this._modifiedEditorLayoutInfo.read(j);if(!V||!W)return;this._element.style.left=`${V.width-V.verticalScrollbarWidth}px`,this._element.style.height=`${V.height}px`,this._element.style.width=`${V.verticalScrollbarWidth+V.contentLeft-$Q.movedCodeBlockPadding+this.width.read(j)}px`})),this._register(tY(this._state));let Z=n0((j)=>{let V=this._diffModel.read(j),W=V===null||V===void 0?void 0:V.diff.read(j);if(!W)return[];return W.movedTexts.map((B)=>({move:B,original:new RG(pD(B.lineRangeMapping.original.startLineNumber-1),18),modified:new RG(pD(B.lineRangeMapping.modified.startLineNumber-1),18)}))});this._register(WU(this._editors.original,Z.map((j)=>j.map((V)=>V.original)))),this._register(WU(this._editors.modified,Z.map((j)=>j.map((V)=>V.modified)))),this._register(G7((j,V)=>{let W=Z.read(j);for(let B of W)V.add(new dI(this._editors.original,B.original,B.move,"original",this._diffModel.get())),V.add(new dI(this._editors.modified,B.modified,B.move,"modified",this._diffModel.get()))}));let G=w6(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),q=w6(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),U=T7("original.onDidFocusEditorWidget",(j)=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>j(void 0),0))),z=T7("modified.onDidFocusEditorWidget",(j)=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>j(void 0),0))),H="modified";this._register(oY({createEmptyChangeSummary:()=>{return},handleChange:(j,V)=>{if(j.didChange(U))H="original";if(j.didChange(z))H="modified";return!0}},(j)=>{U.read(j),z.read(j);let V=this._diffModel.read(j);if(!V)return;let W=V.diff.read(j),B=void 0;if(W&&H==="original"){let K=G.read(j);if(K)B=W.movedTexts.find((P)=>P.lineRangeMapping.original.contains(K.lineNumber))}if(W&&H==="modified"){let K=q.read(j);if(K)B=W.movedTexts.find((P)=>P.lineRangeMapping.modified.contains(K.lineNumber))}if(B!==V.movedTextToCompare.get())V.movedTextToCompare.set(void 0,void 0);V.setActiveMovedText(B)}))}};$Q.movedCodeBlockPadding=4;dI=class dI extends IV{constructor(J,$,Q,X,Y){let Z=p1("div.diff-hidden-lines-widget");super(J,$,Z.root);this._editor=J,this._move=Q,this._kind=X,this._diffModel=Y,this._nodes=p1("div.diff-moved-code-block",{style:{marginRight:"4px"}},[p1("div.text-content@textContent"),p1("div.action-bar@actionBar")]),Z.root.appendChild(this._nodes.root);let G=w6(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(p4(this._nodes.root,{paddingRight:G.map((j)=>j.verticalScrollbarWidth)}));let q;if(Q.changes.length>0)q=this._kind==="original"?F("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);else q=this._kind==="original"?F("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);let U=this._register(new H8(this._nodes.actionBar,{highlightToggledItems:!0})),z=new F7("",q,"",!1);U.push(z,{icon:!1,label:!0});let H=new F7("","Compare",b0.asClassName(U0.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===Q?void 0:this._move,void 0)});this._register(R1((j)=>{let V=this._diffModel.movedTextToCompare.read(j)===Q;H.checked=V})),U.push(H,{icon:!1,label:!0})}}});var oo0,to0,eo0,G$0,rI,iI,nI,oI,tI,eI,pn,mn,bV,un,cn;var Jy=N(()=>{U5();H5();EY();g0();N8();ZU();oo0=E("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},F("diffEditor.move.border","The border color for text that got moved in the diff editor.")),to0=E("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},F("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),eo0=E("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},F("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets.")),G$0=Z7("diff-insert",U0.add,F("diffInsertIcon","Line decoration for inserts in the diff editor.")),rI=Z7("diff-remove",U0.remove,F("diffRemoveIcon","Line decoration for removals in the diff editor.")),iI=L1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+b0.asClassName(G$0),marginClassName:"gutter-insert"}),nI=L1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+b0.asClassName(rI),marginClassName:"gutter-delete"}),oI=L1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),tI=L1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),eI=L1.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),pn=L1.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),mn=L1.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),bV=L1.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),un=L1.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),cn=L1.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})});var $y;var ln=N(()=>{Q0();l8();aI();Jy();mJ();$y=class $y extends h{constructor(J,$,Q,X){super();this._editors=J,this._diffModel=$,this._options=Q,this._decorations=n0(this,(Y)=>{var Z;let G=(Z=this._diffModel.read(Y))===null||Z===void 0?void 0:Z.diff.read(Y);if(!G)return null;let q=this._diffModel.read(Y).movedTextToCompare.read(Y),U=this._options.renderIndicators.read(Y),z=this._options.showEmptyDecorations.read(Y),H=[],j=[];if(!q)for(let W of G.mappings){if(!W.lineRangeMapping.original.isEmpty)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:U?nI:tI});if(!W.lineRangeMapping.modified.isEmpty)j.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:U?iI:oI});if(W.lineRangeMapping.modified.isEmpty||W.lineRangeMapping.original.isEmpty){if(!W.lineRangeMapping.original.isEmpty)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:un});if(!W.lineRangeMapping.modified.isEmpty)j.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:pn})}else for(let B of W.lineRangeMapping.innerChanges||[]){if(W.lineRangeMapping.original.contains(B.originalRange.startLineNumber))H.push({range:B.originalRange,options:B.originalRange.isEmpty()&&z?cn:bV});if(W.lineRangeMapping.modified.contains(B.modifiedRange.startLineNumber))j.push({range:B.modifiedRange,options:B.modifiedRange.isEmpty()&&z?mn:eI})}}if(q)for(let W of q.changes){let B=W.original.toInclusiveRange();if(B)H.push({range:B,options:U?nI:tI});let K=W.modified.toInclusiveRange();if(K)j.push({range:K,options:U?iI:oI});for(let P of W.innerChanges||[])H.push({range:P.originalRange,options:bV}),j.push({range:P.modifiedRange,options:eI})}let V=this._diffModel.read(Y).activeMovedText.read(Y);for(let W of G.movedTexts)H.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(W===V?" currentMove":""),blockPadding:[$Q.movedCodeBlockPadding,0,$Q.movedCodeBlockPadding,$Q.movedCodeBlockPadding]}}),j.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(W===V?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:H,modifiedDecorations:j}}),this._register(VU(this._editors.original,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.originalDecorations)||[]))),this._register(VU(this._editors.modified,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.modifiedDecorations)||[])))}}});var Qy;var dn=N(()=>{lP();Q0();l8();Qy=class Qy extends h{constructor(J,$,Q,X){super();this._options=J,this._domNode=$,this._dimensions=Q,this._sashes=X,this._sashRatio=A1(this,void 0),this.sashLeft=n0(this,(Y)=>{var Z;let G=(Z=this._sashRatio.read(Y))!==null&&Z!==void 0?Z:this._options.splitViewDefaultRatio.read(Y);return this._computeSashLeft(G,Y)}),this._sash=this._register(new j8(this._domNode,{getVerticalSashTop:(Y)=>0,getVerticalSashLeft:(Y)=>this.sashLeft.get(),getVerticalSashHeight:(Y)=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange((Y)=>{let Z=this._dimensions.width.get(),G=this._computeSashLeft((this._startSashPosition+(Y.currentX-Y.startX))/Z,void 0);this._sashRatio.set(G/Z,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(R1((Y)=>{let Z=this._sashes.read(Y);if(Z)this._sash.orthogonalEndSash=Z.bottom})),this._register(R1((Y)=>{let Z=this._options.enableSplitViewResizing.read(Y);this._sash.state=Z?3:0,this.sashLeft.read(Y),this._dimensions.height.read(Y),this._sash.layout()}))}_computeSashLeft(J,$){let Q=this._dimensions.width.read($),X=Math.floor(this._options.splitViewDefaultRatio.read($)*Q),Y=this._options.enableSplitViewResizing.read($)?Math.floor(J*Q):X,Z=100;if(Q<=200)return X;if(Y<100)return 100;if(Y>Q-100)return Q-100;return Y}}});var q$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},U$0=function(J,$){return function(Q,X){$(Q,X,J)}},Xy,SV,Yy;var sn=N(()=>{D0();l2();U5();s2();Q0();l8();TV();H5();mJ();f7();l0();P8();g0();u0();SV=Xy=class J extends h{static setBreadcrumbsSourceFactory($){this._breadcrumbsSourceFactory.set($,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor($,Q,X,Y){super();this._editors=$,this._diffModel=Q,this._options=X,this._instantiationService=Y,this._modifiedOutlineSource=JQ(this,(U)=>{let z=this._editors.modifiedModel.read(U),H=Xy._breadcrumbsSourceFactory.read(U);return!z||!H?void 0:H(z,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition((U)=>{if(U.reason===3){let z=this._diffModel.get();D6((H)=>{for(let j of this._editors.original.getSelections()||[])z===null||z===void 0||z.ensureOriginalLineIsVisible(j.getStartPosition().lineNumber,0,H),z===null||z===void 0||z.ensureOriginalLineIsVisible(j.getEndPosition().lineNumber,0,H)})}})),this._register(this._editors.modified.onDidChangeCursorPosition((U)=>{if(U.reason===3){let z=this._diffModel.get();D6((H)=>{for(let j of this._editors.modified.getSelections()||[])z===null||z===void 0||z.ensureModifiedLineIsVisible(j.getStartPosition().lineNumber,0,H),z===null||z===void 0||z.ensureModifiedLineIsVisible(j.getEndPosition().lineNumber,0,H)})}}));let Z=this._diffModel.map((U,z)=>{var H,j;let V=(H=U===null||U===void 0?void 0:U.unchangedRegions.read(z))!==null&&H!==void 0?H:[];if(V.length===1&&V[0].modifiedLineNumber===1&&V[0].lineCount===((j=this._editors.modifiedModel.read(z))===null||j===void 0?void 0:j.getLineCount()))return[];return V});this.viewZones=o9(this,(U,z)=>{let H=this._modifiedOutlineSource.read(U);if(!H)return{origViewZones:[],modViewZones:[]};let j=[],V=[],W=this._options.renderSideBySide.read(U),B=Z.read(U);for(let K of B){if(K.shouldHideControls(U))continue;{let P=n0(this,(D)=>K.getHiddenOriginalRange(D).startLineNumber-1),A=new RG(P,24);j.push(A),z.add(new Yy(this._editors.original,A,K,K.originalUnchangedRange,!W,H,(D)=>this._diffModel.get().ensureModifiedLineIsVisible(D,2,void 0),this._options))}{let P=n0(this,(D)=>K.getHiddenModifiedRange(D).startLineNumber-1),A=new RG(P,24);V.push(A),z.add(new Yy(this._editors.modified,A,K,K.modifiedUnchangedRange,!1,H,(D)=>this._diffModel.get().ensureModifiedLineIsVisible(D,2,void 0),this._options))}}return{origViewZones:j,modViewZones:V}});let G={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},q={description:"Fold Unchanged",glyphMarginHoverMessage:new w3(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(F("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+b0.asClassName(U0.fold),zIndex:10001};this._register(VU(this._editors.original,n0(this,(U)=>{let z=Z.read(U),H=z.map((j)=>({range:j.originalUnchangedRange.toInclusiveRange(),options:G}));for(let j of z)if(j.shouldHideControls(U))H.push({range:L.fromPositions(new v(j.originalLineNumber,1)),options:q});return H}))),this._register(VU(this._editors.modified,n0(this,(U)=>{let z=Z.read(U),H=z.map((j)=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:G}));for(let j of z)if(j.shouldHideControls(U))H.push({range:S0.ofLength(j.modifiedLineNumber,1).toInclusiveRange(),options:q});return H}))),this._register(R1((U)=>{let z=Z.read(U);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(z.map((H)=>H.getHiddenOriginalRange(U).toInclusiveRange()).filter(UQ)),this._editors.modified.setHiddenAreas(z.map((H)=>H.getHiddenModifiedRange(U).toInclusiveRange()).filter(UQ))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp((U)=>{var z;if(!U.event.rightButton&&U.target.position&&((z=U.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){let H=U.target.position.lineNumber,j=this._diffModel.get();if(!j)return;let V=j.unchangedRegions.get().find((W)=>W.modifiedUnchangedRange.includes(H));if(!V)return;V.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}})),this._register(this._editors.original.onMouseUp((U)=>{var z;if(!U.event.rightButton&&U.target.position&&((z=U.target.element)===null||z===void 0?void 0:z.className.includes("fold-unchanged"))){let H=U.target.position.lineNumber,j=this._diffModel.get();if(!j)return;let V=j.unchangedRegions.get().find((W)=>W.originalUnchangedRange.includes(H));if(!V)return;V.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}}))}};SV._breadcrumbsSourceFactory=A1("breadcrumbsSourceFactory",void 0);SV=Xy=q$0([U$0(3,p0)],SV);Yy=class Yy extends IV{constructor(J,$,Q,X,Y,Z,G,q){let U=p1("div.diff-hidden-lines-widget");super(J,$,U.root);this._editor=J,this._unchangedRegion=Q,this._unchangedRegionRange=X,this._hide=Y,this._modifiedOutlineSource=Z,this._revealModifiedHiddenLine=G,this._options=q,this._nodes=p1("div.diff-hidden-lines",[p1("div.top@top",{title:F("diff.hiddenLines.top","Click or drag to show more above")}),p1("div.center@content",{style:{display:"flex"}},[p1("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[q0("a",{title:F("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...C4("$(unfold)"))]),p1("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),p1("div.bottom@bottom",{title:F("diff.bottom","Click or drag to show more below"),role:"button"})]),U.root.appendChild(this._nodes.root);let z=w6(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());if(!this._hide)this._register(p4(this._nodes.first,{width:z.map((j)=>j.contentLeft)}));else V5(this._nodes.first);this._register(R1((j)=>{let V=this._unchangedRegion.visibleLineCountTop.read(j)+this._unchangedRegion.visibleLineCountBottom.read(j)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!V),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(j)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(j)>0),this._nodes.top.classList.toggle("canMoveBottom",!V);let W=this._unchangedRegion.isDragged.read(j),B=this._editor.getDomNode();if(B)if(B.classList.toggle("draggingUnchangedRegion",!!W),W==="top")B.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(j)>0),B.classList.toggle("canMoveBottom",!V);else if(W==="bottom")B.classList.toggle("canMoveTop",!V),B.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(j)>0);else B.classList.toggle("canMoveTop",!1),B.classList.toggle("canMoveBottom",!1)}));let H=this._editor;this._register(m(this._nodes.top,"mousedown",(j)=>{if(j.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),j.preventDefault();let V=j.clientY,W=!1,B=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);let K=B0(this._nodes.top),P=m(K,"mousemove",(D)=>{let M=D.clientY-V;W=W||Math.abs(M)>2;let _=Math.round(M/H.getOption(66)),T=Math.max(0,Math.min(B+_,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(T,void 0)}),A=m(K,"mouseup",(D)=>{if(!W)this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),P.dispose(),A.dispose()})})),this._register(m(this._nodes.bottom,"mousedown",(j)=>{if(j.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),j.preventDefault();let V=j.clientY,W=!1,B=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);let K=B0(this._nodes.bottom),P=m(K,"mousemove",(D)=>{let M=D.clientY-V;W=W||Math.abs(M)>2;let _=Math.round(M/H.getOption(66)),T=Math.max(0,Math.min(B-_,this._unchangedRegion.getMaxVisibleLineCountBottom())),w=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(T,void 0);let b=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);H.setScrollTop(H.getScrollTop()+(b-w))}),A=m(K,"mouseup",(D)=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!W){let R=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);let M=H.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);H.setScrollTop(H.getScrollTop()+(M-R))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),P.dispose(),A.dispose()})})),this._register(R1((j)=>{let V=[];if(!this._hide){let W=Q.getHiddenModifiedRange(j).length,B=F("hiddenLines","{0} hidden lines",W),K=q0("span",{title:F("diff.hiddenLines.expandAll","Double click to unfold")},B);K.addEventListener("dblclick",(D)=>{if(D.button!==0)return;D.preventDefault(),this._unchangedRegion.showAll(void 0)}),V.push(K);let P=this._unchangedRegion.getHiddenModifiedRange(j),A=this._modifiedOutlineSource.getBreadcrumbItems(P,j);if(A.length>0){V.push(q0("span",void 0,"  |  "));for(let D=0;D<A.length;D++){let R=A[D],M=mW.toIcon(R.kind),_=p1("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[O3(M)," ",R.name,...D===A.length-1?[]:[O3(U0.chevronRight)]]).root;V.push(_),_.onclick=()=>{this._revealModifiedHiddenLine(R.startLineNumber)}}}}V5(this._nodes.others,...V)}))}}});var an=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Zy=function(J,$){return function(Q,X){$(Q,X,J)}},MG,qy,Gy=class J{constructor($){this.instantiationService=$}createDiffProvider($){return this.instantiationService.createInstance(lD,$)}},lD;var rn=N(()=>{h9();u0();F0();J$();f7();XY();d3();sX();qy=M0("diffProviderFactoryService");Gy=an([Zy(0,p0)],Gy);H1(qy,Gy,1);lD=MG=class J{constructor($,Q,X){this.editorWorkerService=Q,this.telemetryService=X,this.onDidChangeEventEmitter=new y,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($)}dispose(){var $;($=this.diffAlgorithmOnDidChangeSubscription)===null||$===void 0||$.dispose()}async computeDiff($,Q,X,Y){var Z,G;if(typeof this.diffAlgorithm!=="string")return this.diffAlgorithm.computeDiff($,Q,X,Y);if($.getLineCount()===1&&$.getLineMaxColumn(1)===1){if(Q.getLineCount()===1&&Q.getLineMaxColumn(1)===1)return{changes:[],identical:!0,quitEarly:!1,moves:[]};return{changes:[new K7(new S0(1,2),new S0(1,Q.getLineCount()+1),[new u9($.getFullModelRange(),Q.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]}}let q=JSON.stringify([$.uri.toString(),Q.uri.toString()]),U=JSON.stringify([$.id,Q.id,$.getAlternativeVersionId(),Q.getAlternativeVersionId(),JSON.stringify(X)]),z=MG.diffCache.get(q);if(z&&z.context===U)return z.result;let H=G5.create(),j=await this.editorWorkerService.computeDiff($.uri,Q.uri,X,this.diffAlgorithm),V=H.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:V,timedOut:(Z=j===null||j===void 0?void 0:j.quitEarly)!==null&&Z!==void 0?Z:!0,detectedMoves:X.computeMoves?(G=j===null||j===void 0?void 0:j.moves.length)!==null&&G!==void 0?G:0:-1}),Y.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!j)throw new Error("no diff result available");if(MG.diffCache.size>10)MG.diffCache.delete(MG.diffCache.keys().next().value);return MG.diffCache.set(q,{result:j,context:U}),j}setOptions($){var Q;let X=!1;if($.diffAlgorithm){if(this.diffAlgorithm!==$.diffAlgorithm){if((Q=this.diffAlgorithmOnDidChangeSubscription)===null||Q===void 0||Q.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$.diffAlgorithm,typeof $.diffAlgorithm!=="string")this.diffAlgorithmOnDidChangeSubscription=$.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire());X=!0}}if(X)this.onDidChangeEventEmitter.fire()}};lD.diffCache=new Map;lD=MG=an([Zy(1,A9),Zy(2,Q7)],lD)});function j$0(J,$,Q){return{changes:J.changes.map((X)=>new K7(X.original,X.modified,X.innerChanges?X.innerChanges.map((Y)=>V$0(Y,$,Q)):void 0)),moves:J.moves,identical:J.identical,quitEarly:J.quitEarly}}function V$0(J,$,Q){let{originalRange:X,modifiedRange:Y}=J;if((X.endColumn!==1||Y.endColumn!==1)&&X.endColumn===$.getLineMaxColumn(X.endLineNumber)&&Y.endColumn===Q.getLineMaxColumn(Y.endLineNumber)&&X.endLineNumber<$.getLineCount()&&Y.endLineNumber<Q.getLineCount())X=X.setEndPosition(X.endLineNumber+1,1),Y=Y.setEndPosition(Y.endLineNumber+1,1);return new u9(X,Y)}class CV{static fromDiffResult(J){return new CV(J.changes.map(($)=>new sD($)),J.moves||[],J.identical,J.quitEarly)}constructor(J,$,Q,X){this.mappings=J,this.movedTexts=$,this.identical=Q,this.quitEarly=X}}class sD{constructor(J){this.lineRangeMapping=J}}class eY{static fromDiffs(J,$,Q,X,Y){let Z=K7.inverse(J,$,Q),G=[];for(let q of Z){let U=q.original.startLineNumber,z=q.modified.startLineNumber,H=q.original.length,j=U===1&&z===1,V=U+H===$+1&&z+H===Q+1;if((j||V)&&H>=Y+X){if(j&&!V)H-=Y;if(V&&!j)U+=Y,z+=Y,H-=Y;G.push(new eY(U,z,H,0,0))}else if(H>=Y*2+X)U+=Y,z+=Y,H-=Y*2,G.push(new eY(U,z,H,0,0))}return G}get originalUnchangedRange(){return S0.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return S0.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(J,$,Q,X,Y){this.originalLineNumber=J,this.modifiedLineNumber=$,this.lineCount=Q,this._visibleLineCountTop=A1(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=A1(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=n0(this,(q)=>this.visibleLineCountTop.read(q)+this.visibleLineCountBottom.read(q)===this.lineCount&&!this.isDragged.read(q)),this.isDragged=A1(this,void 0);let Z=Math.max(Math.min(X,this.lineCount),0),G=Math.max(Math.min(Y,this.lineCount-X),0);gM(X===Z),gM(Y===G),this._visibleLineCountTop.set(Z,void 0),this._visibleLineCountBottom.set(G,void 0)}setVisibleRanges(J,$){let Q=[],X=new h7(J.map((q)=>q.modified)).subtractFrom(this.modifiedUnchangedRange),Y=this.originalLineNumber,Z=this.modifiedLineNumber,G=this.modifiedLineNumber+this.lineCount;if(X.ranges.length===0)this.showAll($),Q.push(this);else{let q=0;for(let U of X.ranges){let z=q===X.ranges.length-1;q++;let H=(z?G:U.endLineNumberExclusive)-Z,j=new eY(Y,Z,H,0,0);j.setHiddenModifiedRange(U,$),Q.push(j),Y=j.originalUnchangedRange.endLineNumberExclusive,Z=j.modifiedUnchangedRange.endLineNumberExclusive}}return Q}shouldHideControls(J){return this._shouldHideControls.read(J)}getHiddenOriginalRange(J){return S0.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}getHiddenModifiedRange(J){return S0.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}setHiddenModifiedRange(J,$){let Q=J.startLineNumber-this.modifiedLineNumber,X=this.modifiedLineNumber+this.lineCount-J.endLineNumberExclusive;this.setState(Q,X,$)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(J=10,$){let Q=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+J,Q),$)}showMoreBelow(J=10,$){let Q=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+J,Q),$)}showAll(J){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),J)}showModifiedLine(J,$,Q){let X=J+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Y=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-J;if($===0&&X<Y||$===1)this._visibleLineCountTop.set(this._visibleLineCountTop.get()+X,Q);else this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Y,Q)}showOriginalLine(J,$,Q){let X=J-this.originalLineNumber,Y=this.originalLineNumber+this.lineCount-J;if($===0&&X<Y||$===1)this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Y-X,this.getMaxVisibleLineCountTop()),Q);else this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+X-Y,this.getMaxVisibleLineCountBottom()),Q)}collapseAll(J){this._visibleLineCountTop.set(0,J),this._visibleLineCountBottom.set(0,J)}setState(J,$,Q){J=Math.max(Math.min(J,this.lineCount),0),$=Math.max(Math.min($,this.lineCount-J),0),this._visibleLineCountTop.set(J,Q),this._visibleLineCountBottom.set($,Q)}}function nn(J,$,Q,X){return}function on(J,$,Q,X){return}var z$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},H$0=function(J,$){return function(Q,X){$(Q,X,J)}},dD;var Uy=N(()=>{u1();e5();Q0();l8();rn();mJ();f7();AO();XY();SH();iT();KO();U1();G$();dD=class J extends h{setActiveMovedText($){this._activeMovedText.set($,void 0)}constructor($,Q,X){super();this.model=$,this._options=Q,this._diffProviderFactoryService=X,this._isDiffUpToDate=A1(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=A1(this,void 0),this.diff=this._diff,this._unchangedRegions=A1(this,void 0),this.unchangedRegions=n0(this,(q)=>{var U,z;if(this._options.hideUnchangedRegions.read(q))return(z=(U=this._unchangedRegions.read(q))===null||U===void 0?void 0:U.regions)!==null&&z!==void 0?z:[];else return D6((H)=>{var j;for(let V of((j=this._unchangedRegions.get())===null||j===void 0?void 0:j.regions)||[])V.collapseAll(H)}),[]}),this.movedTextToCompare=A1(this,void 0),this._activeMovedText=A1(this,void 0),this._hoveredMovedText=A1(this,void 0),this.activeMovedText=n0(this,(q)=>{var U,z;return(z=(U=this.movedTextToCompare.read(q))!==null&&U!==void 0?U:this._hoveredMovedText.read(q))!==null&&z!==void 0?z:this._activeMovedText.read(q)}),this._cancellationTokenSource=new q5,this._diffProvider=n0(this,(q)=>{let U=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(q)}),z=T7("onDidChange",U.onDidChange);return{diffProvider:U,onChangeSignal:z}}),this._register(K0(()=>this._cancellationTokenSource.cancel()));let Y=CI("contentChangedSignal"),Z=this._register(new t1(()=>Y.trigger(void 0),200));this._register(R1((q)=>{let U=this._unchangedRegions.read(q);if(!U||U.regions.some((B)=>B.isDragged.read(q)))return;let z=U.originalDecorationIds.map((B)=>$.original.getDecorationRange(B)).map((B)=>B?S0.fromRangeInclusive(B):void 0),H=U.modifiedDecorationIds.map((B)=>$.modified.getDecorationRange(B)).map((B)=>B?S0.fromRangeInclusive(B):void 0),j=U.regions.map((B,K)=>!z[K]||!H[K]?void 0:new eY(z[K].startLineNumber,H[K].startLineNumber,z[K].length,B.visibleLineCountTop.read(q),B.visibleLineCountBottom.read(q))).filter(UQ),V=[],W=!1;for(let B of EG(j,(K,P)=>K.getHiddenModifiedRange(q).endLineNumberExclusive===P.getHiddenModifiedRange(q).startLineNumber))if(B.length>1){W=!0;let K=B.reduce((A,D)=>A+D.lineCount,0),P=new eY(B[0].originalLineNumber,B[0].modifiedLineNumber,K,B[0].visibleLineCountTop.get(),B[B.length-1].visibleLineCountBottom.get());V.push(P)}else V.push(B[0]);if(W){let B=$.original.deltaDecorations(U.originalDecorationIds,V.map((P)=>({range:P.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations(U.modifiedDecorationIds,V.map((P)=>({range:P.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));D6((P)=>{this._unchangedRegions.set({regions:V,originalDecorationIds:B,modifiedDecorationIds:K},P)})}}));let G=(q,U,z)=>{let H=eY.fromDiffs(q.changes,$.original.getLineCount(),$.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(z),this._options.hideUnchangedRegionsContextLineCount.read(z)),j=void 0,V=this._unchangedRegions.get();if(V){let P=V.originalDecorationIds.map((M)=>$.original.getDecorationRange(M)).map((M)=>M?S0.fromRangeInclusive(M):void 0),A=V.modifiedDecorationIds.map((M)=>$.modified.getDecorationRange(M)).map((M)=>M?S0.fromRangeInclusive(M):void 0),R=xn(V.regions.map((M,_)=>{if(!P[_]||!A[_])return;let T=P[_].length;return new eY(P[_].startLineNumber,A[_].startLineNumber,T,Math.min(M.visibleLineCountTop.get(),T),Math.min(M.visibleLineCountBottom.get(),T-M.visibleLineCountTop.get()))}).filter(UQ),(M,_)=>!_||M.modifiedLineNumber>=_.modifiedLineNumber+_.lineCount&&M.originalLineNumber>=_.originalLineNumber+_.lineCount).map((M)=>new Q8(M.getHiddenOriginalRange(z),M.getHiddenModifiedRange(z)));R=Q8.clip(R,S0.ofLength(1,$.original.getLineCount()),S0.ofLength(1,$.modified.getLineCount())),j=Q8.inverse(R,$.original.getLineCount(),$.modified.getLineCount())}let W=[];if(j)for(let P of H){let A=j.filter((D)=>D.original.intersectsStrict(P.originalUnchangedRange)&&D.modified.intersectsStrict(P.modifiedUnchangedRange));W.push(...P.setVisibleRanges(A,U))}else W.push(...H);let B=$.original.deltaDecorations((V===null||V===void 0?void 0:V.originalDecorationIds)||[],W.map((P)=>({range:P.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations((V===null||V===void 0?void 0:V.modifiedDecorationIds)||[],W.map((P)=>({range:P.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:W,originalDecorationIds:B,modifiedDecorationIds:K},U)};this._register($.modified.onDidChangeContent((q)=>{if(this._diff.get()){let z=S4.fromModelContentChanges(q.changes),H=on(this._lastDiff,z,$.original,$.modified);if(H)this._lastDiff=H,D6((j)=>{this._diff.set(CV.fromDiffResult(this._lastDiff),j),G(H,j);let V=this.movedTextToCompare.get();this.movedTextToCompare.set(V?this._lastDiff.moves.find((W)=>W.lineRangeMapping.modified.intersect(V.lineRangeMapping.modified)):void 0,j)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register($.original.onDidChangeContent((q)=>{if(this._diff.get()){let z=S4.fromModelContentChanges(q.changes),H=nn(this._lastDiff,z,$.original,$.modified);if(H)this._lastDiff=H,D6((j)=>{this._diff.set(CV.fromDiffResult(this._lastDiff),j),G(H,j);let V=this.movedTextToCompare.get();this.movedTextToCompare.set(V?this._lastDiff.moves.find((W)=>W.lineRangeMapping.modified.intersect(V.lineRangeMapping.modified)):void 0,j)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register(G7(async(q,U)=>{var z,H;this._options.hideUnchangedRegionsMinimumLineCount.read(q),this._options.hideUnchangedRegionsContextLineCount.read(q),Z.cancel(),Y.read(q);let j=this._diffProvider.read(q);j.onChangeSignal.read(q),t9(rz,q),t9(az,q),this._isDiffUpToDate.set(!1,void 0);let V=[];U.add($.original.onDidChangeContent((K)=>{let P=S4.fromModelContentChanges(K.changes);V=H3(V,P)}));let W=[];U.add($.modified.onDidChangeContent((K)=>{let P=S4.fromModelContentChanges(K.changes);W=H3(W,P)}));let B=await j.diffProvider.computeDiff($.original,$.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(q),maxComputationTimeMs:this._options.maxComputationTimeMs.read(q),computeMoves:this._options.showMoves.read(q)},this._cancellationTokenSource.token);if(this._cancellationTokenSource.token.isCancellationRequested)return;B=j$0(B,$.original,$.modified),B=(z=nn(B,V,$.original,$.modified))!==null&&z!==void 0?z:B,B=(H=on(B,W,$.original,$.modified))!==null&&H!==void 0?H:B,D6((K)=>{G(B,K),this._lastDiff=B;let P=CV.fromDiffResult(B);this._diff.set(P,K),this._isDiffUpToDate.set(!0,K);let A=this.movedTextToCompare.get();this.movedTextToCompare.set(A?this._lastDiff.moves.find((D)=>D.lineRangeMapping.modified.intersect(A.lineRangeMapping.modified)):void 0,K)})}))}ensureModifiedLineIsVisible($,Q,X){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;let G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenModifiedRange(void 0).contains($)){q.showModifiedLine($,Q,X);return}}ensureOriginalLineIsVisible($,Q,X){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;let G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenOriginalRange(void 0).contains($)){q.showOriginalLine($,Q,X);return}}async waitForDiff(){await SI(this.isDiffUpToDate,($)=>$)}serializeState(){let $=this._unchangedRegions.get();return{collapsedRegions:$===null||$===void 0?void 0:$.regions.map((Q)=>({range:Q.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($){var Q;let X=(Q=$.collapsedRegions)===null||Q===void 0?void 0:Q.map((Z)=>S0.deserialize(Z.range)),Y=this._unchangedRegions.get();if(!Y||!X)return;D6((Z)=>{for(let G of Y.regions)for(let q of X)if(G.modifiedUnchangedRange.intersect(q)){G.setHiddenModifiedRange(q,Z);break}})}};dD=z$0([H$0(2,qy)],dD)});var zy;var tn=N(()=>{D0();t8();U5();Q0();M1();H5();g0();zy=class zy extends h{get visibility(){return this._visibility}set visibility(J){if(this._visibility!==J)this._visibility=J,this._diffActions.style.visibility=J?"visible":"hidden"}constructor(J,$,Q,X,Y,Z,G,q,U){super();this._getViewZoneId=J,this._marginDomNode=$,this._modifiedEditor=Q,this._diff=X,this._editor=Y,this._viewLineCounts=Z,this._originalTextModel=G,this._contextMenuService=q,this._clipboardService=U,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=b0.asClassName(U0.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";let z=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${z}px`,this._diffActions.style.lineHeight=`${z}px`,this._marginDomNode.appendChild(this._diffActions);let H=0,j=Q.getOption(126)&&!O9,V=(W,B)=>{var K;this._contextMenuService.showContextMenu({domForShadowRoot:j?(K=Q.getDomNode())!==null&&K!==void 0?K:void 0:void 0,getAnchor:()=>({x:W,y:B}),getActions:()=>{let P=[],A=X.modified.isEmpty;if(P.push(new F7("diff.clipboard.copyDeletedContent",A?X.original.length>1?F("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):F("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):X.original.length>1?F("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):F("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{let R=this._originalTextModel.getValueInRange(X.original.toExclusiveRange());await this._clipboardService.writeText(R)})),X.original.length>1)P.push(new F7("diff.clipboard.copyDeletedLineContent",A?F("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",X.original.startLineNumber+H):F("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",X.original.startLineNumber+H),void 0,!0,async()=>{let R=this._originalTextModel.getLineContent(X.original.startLineNumber+H);if(R==="")R=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`;await this._clipboardService.writeText(R)}));if(!Q.getOption(90))P.push(new F7("diff.inline.revertChange",F("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)}));return P},autoSelectFirstItem:!0})};this._register(i1(this._diffActions,"mousedown",(W)=>{if(!W.leftButton)return;let{top:B,height:K}=P5(this._diffActions),P=Math.floor(z/3);W.preventDefault(),V(W.posx,B+K+P)})),this._register(Q.onMouseMove((W)=>{if((W.target.type===8||W.target.type===5)&&W.target.detail.viewZoneId===this._getViewZoneId())H=this._updateLightBulbPosition(this._marginDomNode,W.event.browserEvent.y,z),this.visibility=!0;else this.visibility=!1})),this._register(Q.onMouseDown((W)=>{if(!W.event.leftButton)return;if(W.target.type===8||W.target.type===5){if(W.target.detail.viewZoneId===this._getViewZoneId())W.event.preventDefault(),H=this._updateLightBulbPosition(this._marginDomNode,W.event.browserEvent.y,z),V(W.event.posx,W.event.posy+z)}}))}_updateLightBulbPosition(J,$,Q){let{top:X}=P5(J),Y=$-X,Z=Math.floor(Y/Q),G=Z*Q;if(this._diffActions.style.top=`${G}px`,this._viewLineCounts){let q=0;for(let U=0;U<this._viewLineCounts.length;U++)if(q+=this._viewLineCounts[U],Z<q)return U}return Z}}});function $o(J,$,Q,X){M6(X,$.fontInfo);let Y=Q.length>0,Z=new yQ(1e4),G=0,q=0,U=[];for(let V=0;V<J.lineTokens.length;V++){let W=V+1,B=J.lineTokens[V],K=J.lineBreakData[V],P=p7.filter(Q,W,1,Number.MAX_SAFE_INTEGER);if(K){let A=0;for(let D of K.breakOffsets){let R=B.sliceAndInflate(A,D,0);G=Math.max(G,Jo(q,R,p7.extractWrapped(P,A,D),Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++,A=D}U.push(K.breakOffsets.length)}else U.push(1),G=Math.max(G,Jo(q,B,P,Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++}G+=$.scrollBeyondLastColumn;let z=Z.build(),H=en?en.createHTML(z):z;X.innerHTML=H;let j=G*$.typicalHalfwidthCharacterWidth;return{heightInLines:q,minWidthInPx:j,viewLineCounts:U}}class Hy{constructor(J,$,Q,X){this.lineTokens=J,this.lineBreakData=$,this.mightContainNonBasicASCII=Q,this.mightContainRTL=X}}class aD{static fromEditor(J){var $;let Q=J.getOptions(),X=Q.get(50),Y=Q.get(143);return new aD((($=J.getModel())===null||$===void 0?void 0:$.getOptions().tabSize)||0,X,Q.get(33),X.typicalHalfwidthCharacterWidth,Q.get(103),Q.get(66),Y.decorationsWidth,Q.get(116),Q.get(98),Q.get(93),Q.get(51))}constructor(J,$,Q,X,Y,Z,G,q,U,z,H){this.tabSize=J,this.fontInfo=$,this.disableMonospaceOptimizations=Q,this.typicalHalfwidthCharacterWidth=X,this.scrollBeyondLastColumn=Y,this.lineHeight=Z,this.lineDecorationsWidth=G,this.stopRenderingLineAfter=q,this.renderWhitespace=U,this.renderControlCharacters=z,this.fontLigatures=H}}function Jo(J,$,Q,X,Y,Z,G,q){if(q.appendString('<div class="view-line'),!X)q.appendString(" char-delete");q.appendString('" style="top:'),q.appendString(String(J*G.lineHeight)),q.appendString('px;width:1000000px;">');let U=$.getLineContent(),z=f8.isBasicASCII(U,Y),H=f8.containsRTL(U,z,Z),j=$H(new VJ(G.fontInfo.isMonospace&&!G.disableMonospaceOptimizations,G.fontInfo.canUseHalfwidthRightwardsArrow,U,!1,z,H,0,$,Q,G.tabSize,0,G.fontInfo.spaceWidth,G.fontInfo.middotWidth,G.fontInfo.wsmiddotWidth,G.stopRenderingLineAfter,G.renderWhitespace,G.renderControlCharacters,G.fontLigatures!==n8.OFF,null),q);return q.appendString("</div>"),j.characterMapping.getHorizontalOffset(j.characterMapping.length)}var en;var Qo=N(()=>{oX();W4();t5();eZ();JK();Rq();L4();en=z9("diffEditorWidget",{createHTML:(J)=>J})});function Yo(J,$,Q,X,Y,Z){let G=new r8(Zo(J,X)),q=new r8(Zo($,Y)),U=J.getOption(66),z=$.getOption(66),H=[],j=0,V=0;function W(B,K){while(!0){let P=G.peek(),A=q.peek();if(P&&P.lineNumber>=B)P=void 0;if(A&&A.lineNumber>=K)A=void 0;if(!P&&!A)break;let D=P?P.lineNumber-j:Number.MAX_VALUE,R=A?A.lineNumber-V:Number.MAX_VALUE;if(D<R)G.dequeue(),A={lineNumber:P.lineNumber-j+V,heightInPx:0};else if(D>R)q.dequeue(),P={lineNumber:A.lineNumber-V+j,heightInPx:0};else G.dequeue(),q.dequeue();H.push({originalRange:S0.ofLength(P.lineNumber,1),modifiedRange:S0.ofLength(A.lineNumber,1),originalHeightInPx:U+P.heightInPx,modifiedHeightInPx:z+A.heightInPx,diff:void 0})}}for(let B of Q){let R=function(M,_){var T,w,b,S;if(M<D||_<A)return;if(P)P=!1;else if(M===D||_===A)return;let g=new S0(D,M),c=new S0(A,_);if(g.isEmpty&&c.isEmpty)return;let C=(w=(T=G.takeWhile((i)=>i.lineNumber<M))===null||T===void 0?void 0:T.reduce((i,Y0)=>i+Y0.heightInPx,0))!==null&&w!==void 0?w:0,u=(S=(b=q.takeWhile((i)=>i.lineNumber<_))===null||b===void 0?void 0:b.reduce((i,Y0)=>i+Y0.heightInPx,0))!==null&&S!==void 0?S:0;H.push({originalRange:g,modifiedRange:c,originalHeightInPx:g.length*U+C,modifiedHeightInPx:c.length*z+u,diff:B.lineRangeMapping}),D=M,A=_},K=B.lineRangeMapping;W(K.original.startLineNumber,K.modified.startLineNumber);let P=!0,A=K.modified.startLineNumber,D=K.original.startLineNumber;if(Z)for(let M of K.innerChanges||[]){if(M.originalRange.startColumn>1&&M.modifiedRange.startColumn>1)R(M.originalRange.startLineNumber,M.modifiedRange.startLineNumber);let _=J.getModel(),T=M.originalRange.endLineNumber<=_.getLineCount()?_.getLineMaxColumn(M.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;if(M.originalRange.endColumn<T)R(M.originalRange.endLineNumber,M.modifiedRange.endLineNumber)}R(K.original.endLineNumberExclusive,K.modified.endLineNumberExclusive),j=K.original.endLineNumberExclusive,V=K.modified.endLineNumberExclusive}return W(Number.MAX_VALUE,Number.MAX_VALUE),H}function Zo(J,$){let Q=[],X=[],Y=J.getOption(144).wrappingColumn!==-1,Z=J._getViewModel().coordinatesConverter,G=J.getOption(66);if(Y)for(let U=1;U<=J.getModel().getLineCount();U++){let z=Z.getModelLineViewLineCount(U);if(z>1)X.push({lineNumber:U,heightInPx:G*(z-1)})}for(let U of J.getWhitespaces()){if($.has(U.id))continue;let z=U.afterLineNumber===0?0:Z.convertViewPositionToModelPosition(new v(U.afterLineNumber,1)).lineNumber;Q.push({lineNumber:z,heightInPx:U.height})}return yn(Q,X,(U)=>U.lineNumber,(U,z)=>({lineNumber:U.lineNumber,heightInPx:U.heightInPx+z.heightInPx}))}var W$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Xo=function(J,$){return function(Q,X){$(Q,X,J)}},rD;var Go=N(()=>{D0();U1();u1();U5();Q0();l8();H5();W4();Jy();Uy();tn();Qo();mJ();f7();L4();BV();KX();rD=class J extends h{constructor($,Q,X,Y,Z,G,q,U,z,H){super();this._targetWindow=$,this._editors=Q,this._diffModel=X,this._options=Y,this._diffEditorWidget=Z,this._canIgnoreViewZoneUpdateEvent=G,this._origViewZonesToIgnore=q,this._modViewZonesToIgnore=U,this._clipboardService=z,this._contextMenuService=H,this._originalTopPadding=A1(this,0),this._originalScrollOffset=A1(this,0),this._originalScrollOffsetAnimated=gI(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=A1(this,0),this._modifiedScrollOffset=A1(this,0),this._modifiedScrollOffsetAnimated=gI(this._targetWindow,this._modifiedScrollOffset,this._store);let j=A1("invalidateAlignmentsState",0),V=this._register(new t1(()=>{j.set(j.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())V.schedule()})),this._register(this._editors.modified.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())V.schedule()})),this._register(this._editors.original.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))V.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))V.schedule()}));let W=this._diffModel.map((R)=>R?w6(R.model.original.onDidChangeTokens,()=>R.model.original.tokenization.backgroundTokenizationState===2):void 0).map((R,M)=>R===null||R===void 0?void 0:R.read(M)),B=n0((R)=>{let M=this._diffModel.read(R),_=M===null||M===void 0?void 0:M.diff.read(R);if(!M||!_)return null;j.read(R);let w=this._options.renderSideBySide.read(R);return Yo(this._editors.original,this._editors.modified,_.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,w)}),K=n0((R)=>{var M;let _=(M=this._diffModel.read(R))===null||M===void 0?void 0:M.movedTextToCompare.read(R);if(!_)return null;j.read(R);let T=_.changes.map((w)=>new sD(w));return Yo(this._editors.original,this._editors.modified,T,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function P(){let R=document.createElement("div");return R.className="diagonal-fill",R}let A=this._register(new r);this.viewZones=o9(this,(R,M)=>{var _,T,w,b,S,g,c,C;A.clear();let u=B.read(R)||[],i=[],Y0=[],P0=this._modifiedTopPadding.read(R);if(P0>0)Y0.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:P0,showInHiddenAreas:!0,suppressMouseDown:!0});let R0=this._originalTopPadding.read(R);if(R0>0)i.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:R0,showInHiddenAreas:!0,suppressMouseDown:!0});let T0=this._options.renderSideBySide.read(R),A0=!T0?(_=this._editors.modified._getViewModel())===null||_===void 0?void 0:_.createLineBreaksComputer():void 0;if(A0){let I1=this._editors.original.getModel();for(let v5 of u)if(v5.diff)for(let a8=v5.originalRange.startLineNumber;a8<v5.originalRange.endLineNumberExclusive;a8++){if(a8>I1.getLineCount())return{orig:i,mod:Y0};A0===null||A0===void 0||A0.addRequest(I1.getLineContent(a8),null,null)}}let f0=(T=A0===null||A0===void 0?void 0:A0.finalize())!==null&&T!==void 0?T:[],d0=0,x0=this._editors.modified.getOption(66),z0=(w=this._diffModel.read(R))===null||w===void 0?void 0:w.movedTextToCompare.read(R),B8=(S=(b=this._editors.original.getModel())===null||b===void 0?void 0:b.mightContainNonBasicASCII())!==null&&S!==void 0?S:!1,C5=(c=(g=this._editors.original.getModel())===null||g===void 0?void 0:g.mightContainRTL())!==null&&c!==void 0?c:!1,F8=aD.fromEditor(this._editors.modified);for(let I1 of u)if(I1.diff&&!T0){if(!I1.originalRange.isEmpty){W.read(R);let a8=document.createElement("div");a8.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");let h5=this._editors.original.getModel();if(I1.originalRange.endLineNumberExclusive-1>h5.getLineCount())return{orig:i,mod:Y0};let X1=new Hy(I1.originalRange.mapToLineArray((T5)=>h5.tokenization.getLineTokens(T5)),I1.originalRange.mapToLineArray((T5)=>f0[d0++]),B8,C5),Q4=[];for(let T5 of I1.diff.innerChanges||[])Q4.push(new qY(T5.originalRange.delta(-(I1.diff.original.startLineNumber-1)),bV.className,0));let X4=$o(X1,F8,Q4,a8),o7=document.createElement("div");if(o7.className="inline-deleted-margin-view-zone",M6(o7,F8.fontInfo),this._options.renderIndicators.read(R))for(let T5=0;T5<X4.heightInLines;T5++){let s4=document.createElement("div");s4.className=`delete-sign ${b0.asClassName(rI)}`,s4.setAttribute("style",`position:absolute;top:${T5*x0}px;width:${F8.lineDecorationsWidth}px;height:${x0}px;right:0;`),o7.appendChild(s4)}let ZQ=void 0;A.add(new zy(()=>_W(ZQ),o7,this._editors.modified,I1.diff,this._diffEditorWidget,X4.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let T5=0;T5<X4.viewLineCounts.length;T5++){let s4=X4.viewLineCounts[T5];if(s4>1)i.push({afterLineNumber:I1.originalRange.startLineNumber+T5,domNode:P(),heightInPx:(s4-1)*x0,showInHiddenAreas:!0,suppressMouseDown:!0})}Y0.push({afterLineNumber:I1.modifiedRange.startLineNumber-1,domNode:a8,heightInPx:X4.heightInLines*x0,minWidthInPx:X4.minWidthInPx,marginDomNode:o7,setZoneId(T5){ZQ=T5},showInHiddenAreas:!0,suppressMouseDown:!0})}let v5=document.createElement("div");v5.className="gutter-delete",i.push({afterLineNumber:I1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:I1.modifiedHeightInPx,marginDomNode:v5,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let v5=I1.modifiedHeightInPx-I1.originalHeightInPx;if(v5>0){if(z0===null||z0===void 0?void 0:z0.lineRangeMapping.original.delta(-1).deltaLength(2).contains(I1.originalRange.endLineNumberExclusive-1))continue;i.push({afterLineNumber:I1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:v5,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let a8=function(){let X1=document.createElement("div");return X1.className="arrow-revert-change "+b0.asClassName(U0.arrowRight),M.add(m(X1,"mousedown",(Q4)=>Q4.stopPropagation())),M.add(m(X1,"click",(Q4)=>{Q4.stopPropagation(),Z.revert(I1.diff)})),q0("div",{},X1)};if(z0===null||z0===void 0?void 0:z0.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(I1.modifiedRange.endLineNumberExclusive-1))continue;let h5=void 0;if(I1.diff&&I1.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(R))h5=a8();Y0.push({afterLineNumber:I1.modifiedRange.endLineNumberExclusive-1,domNode:P(),heightInPx:-v5,marginDomNode:h5,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(let I1 of(C=K.read(R))!==null&&C!==void 0?C:[]){if(!(z0===null||z0===void 0?void 0:z0.lineRangeMapping.original.intersect(I1.originalRange))||!(z0===null||z0===void 0?void 0:z0.lineRangeMapping.modified.intersect(I1.modifiedRange)))continue;let v5=I1.modifiedHeightInPx-I1.originalHeightInPx;if(v5>0)i.push({afterLineNumber:I1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:v5,showInHiddenAreas:!0,suppressMouseDown:!0});else Y0.push({afterLineNumber:I1.modifiedRange.endLineNumberExclusive-1,domNode:P(),heightInPx:-v5,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:i,mod:Y0}});let D=!1;this._register(this._editors.original.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!D)D=!0,this._editors.modified.setScrollLeft(R.scrollLeft),D=!1})),this._register(this._editors.modified.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!D)D=!0,this._editors.original.setScrollLeft(R.scrollLeft),D=!1})),this._originalScrollTop=w6(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=w6(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(R1((R)=>{let M=this._originalScrollTop.read(R)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(R))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(R));if(M!==this._editors.modified.getScrollTop())this._editors.modified.setScrollTop(M,1)})),this._register(R1((R)=>{let M=this._modifiedScrollTop.read(R)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(R))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(R));if(M!==this._editors.original.getScrollTop())this._editors.original.setScrollTop(M,1)})),this._register(R1((R)=>{var M;let _=(M=this._diffModel.read(R))===null||M===void 0?void 0:M.movedTextToCompare.read(R),T=0;if(_){let w=this._editors.original.getTopForLineNumber(_.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();T=this._editors.modified.getTopForLineNumber(_.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-w}if(T>0)this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(T,void 0);else if(T<0)this._modifiedTopPadding.set(-T,void 0),this._originalTopPadding.set(0,void 0);else setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400);if(this._editors.modified.hasTextFocus())this._originalScrollOffset.set(this._modifiedScrollOffset.get()-T,void 0,!0);else this._modifiedScrollOffset.set(this._originalScrollOffset.get()+T,void 0,!0)}))}};rD=W$0([Xo(8,aY),Xo(9,r7)],rD)});var B$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},F$0=function(J,$){return function(Q,X){$(Q,X,J)}},m4,kX;var jy=N(()=>{D0();Q0();l8();mJ();N8();s6();kX=m4=class J extends h{constructor($,Q,X,Y,Z,G,q){super();this._editors=$,this._rootElement=Q,this._diffModel=X,this._rootWidth=Y,this._rootHeight=Z,this._modifiedEditorLayoutInfo=G,this._themeService=q,this.width=m4.ENTIRE_DIFF_OVERVIEW_WIDTH;let U=w6(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),z=n0((V)=>{let W=U.read(V),B=W.getColor(yf)||(W.getColor(Ef)||WK).transparent(2),K=W.getColor(xf)||(W.getColor(If)||BK).transparent(2);return{insertColor:B,removeColor:K}}),H=e0(document.createElement("div"));H.setClassName("diffViewport"),H.setPosition("absolute");let j=p1("div.diffOverview",{style:{position:"absolute",top:"0px",width:m4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(kV(j,H.domNode)),this._register(i1(j,$0.POINTER_DOWN,(V)=>{this._editors.modified.delegateVerticalScrollbarPointerDown(V)})),this._register(m(j,$0.MOUSE_WHEEL,(V)=>{this._editors.modified.delegateScrollFromMouseWheelEvent(V)},{passive:!1})),this._register(kV(this._rootElement,j)),this._register(G7((V,W)=>{let B=this._diffModel.read(V),K=this._editors.original.createOverviewRuler("original diffOverviewRuler");if(K)W.add(K),W.add(kV(j,K.getDomNode()));let P=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(P)W.add(P),W.add(kV(j,P.getDomNode()));if(!K||!P)return;let A=T7("viewZoneChanged",this._editors.original.onDidChangeViewZones),D=T7("viewZoneChanged",this._editors.modified.onDidChangeViewZones),R=T7("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=T7("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);W.add(R1((_)=>{var T;A.read(_),D.read(_),R.read(_),M.read(_);let w=z.read(_),b=(T=B===null||B===void 0?void 0:B.diff.read(_))===null||T===void 0?void 0:T.mappings;function S(C,u,i){let Y0=i._getViewModel();if(!Y0)return[];return C.filter((P0)=>P0.length>0).map((P0)=>{let R0=Y0.coordinatesConverter.convertModelPositionToViewPosition(new v(P0.startLineNumber,1)),T0=Y0.coordinatesConverter.convertModelPositionToViewPosition(new v(P0.endLineNumberExclusive,1)),A0=T0.lineNumber-R0.lineNumber;return new QA(R0.lineNumber,T0.lineNumber,A0,u.toString())})}let g=S((b||[]).map((C)=>C.lineRangeMapping.original),w.removeColor,this._editors.original),c=S((b||[]).map((C)=>C.lineRangeMapping.modified),w.insertColor,this._editors.modified);K===null||K===void 0||K.setZones(g),P===null||P===void 0||P.setZones(c)})),W.add(R1((_)=>{let T=this._rootHeight.read(_),w=this._rootWidth.read(_),b=this._modifiedEditorLayoutInfo.read(_);if(b){let S=m4.ENTIRE_DIFF_OVERVIEW_WIDTH-2*m4.ONE_OVERVIEW_WIDTH;K.setLayout({top:0,height:T,right:S+m4.ONE_OVERVIEW_WIDTH,width:m4.ONE_OVERVIEW_WIDTH}),P.setLayout({top:0,height:T,right:0,width:m4.ONE_OVERVIEW_WIDTH});let g=this._editors.modifiedScrollTop.read(_),c=this._editors.modifiedScrollHeight.read(_),C=this._editors.modified.getOption(102),u=new iQ(C.verticalHasArrows?C.arrowSize:0,C.verticalScrollbarSize,0,b.height,c,g);H.setTop(u.getSliderPosition()),H.setHeight(u.getSliderSize())}else H.setTop(0),H.setHeight(0);j.style.height=T+"px",j.style.left=w-m4.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",H.setWidth(m4.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};kX.ONE_OVERVIEW_WIDTH=15;kX.ENTIRE_DIFF_OVERVIEW_WIDTH=m4.ONE_OVERVIEW_WIDTH*2;kX=m4=B$0([F$0(6,d6)],kX)});var vV;var qo=N(()=>{F0();Q0();vV=class vV extends h{constructor(){super(...arguments);this._id=++vV.idCounter,this._onDidDispose=this._register(new y),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(J){return this._targetEditor.getVisibleColumnFromPosition(J)}getPosition(){return this._targetEditor.getPosition()}setPosition(J,$="api"){this._targetEditor.setPosition(J,$)}revealLine(J,$=0){this._targetEditor.revealLine(J,$)}revealLineInCenter(J,$=0){this._targetEditor.revealLineInCenter(J,$)}revealLineInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealLineInCenterIfOutsideViewport(J,$)}revealLineNearTop(J,$=0){this._targetEditor.revealLineNearTop(J,$)}revealPosition(J,$=0){this._targetEditor.revealPosition(J,$)}revealPositionInCenter(J,$=0){this._targetEditor.revealPositionInCenter(J,$)}revealPositionInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(J,$)}revealPositionNearTop(J,$=0){this._targetEditor.revealPositionNearTop(J,$)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(J,$="api"){this._targetEditor.setSelection(J,$)}setSelections(J,$="api"){this._targetEditor.setSelections(J,$)}revealLines(J,$,Q=0){this._targetEditor.revealLines(J,$,Q)}revealLinesInCenter(J,$,Q=0){this._targetEditor.revealLinesInCenter(J,$,Q)}revealLinesInCenterIfOutsideViewport(J,$,Q=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(J,$,Q)}revealLinesNearTop(J,$,Q=0){this._targetEditor.revealLinesNearTop(J,$,Q)}revealRange(J,$=0,Q=!1,X=!0){this._targetEditor.revealRange(J,$,Q,X)}revealRangeInCenter(J,$=0){this._targetEditor.revealRangeInCenter(J,$)}revealRangeInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(J,$)}revealRangeNearTop(J,$=0){this._targetEditor.revealRangeNearTop(J,$)}revealRangeNearTopIfOutsideViewport(J,$=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(J,$)}revealRangeAtTop(J,$=0){this._targetEditor.revealRangeAtTop(J,$)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(J,$,Q){this._targetEditor.trigger(J,$,Q)}createDecorationsCollection(J){return this._targetEditor.createDecorationsCollection(J)}changeDecorations(J){return this._targetEditor.changeDecorations(J)}};vV.idCounter=0});var K$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Uo=function(J,$){return function(Q,X){$(Q,X,J)}},iD;var zo=N(()=>{F0();Q0();l8();jy();t5();g0();u0();x4();iD=class J extends h{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($,Q,X,Y,Z,G,q){super();this.originalEditorElement=$,this.modifiedEditorElement=Q,this._options=X,this._createInnerEditor=Z,this._instantiationService=G,this._keybindingService=q,this._onDidContentSizeChange=this._register(new y),this.original=this._register(this._createLeftHandSideEditor(X.editorOptions.get(),Y.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(X.editorOptions.get(),Y.modifiedEditor||{})),this.modifiedModel=w6(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=w6(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=w6(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=w6(this.modified.onDidChangeCursorSelection,()=>{var U;return(U=this.modified.getSelections())!==null&&U!==void 0?U:[]}),this.modifiedCursor=w6(this.modified.onDidChangeCursorPosition,()=>{var U;return(U=this.modified.getPosition())!==null&&U!==void 0?U:new v(1,1)}),this._register(oY({createEmptyChangeSummary:()=>({}),handleChange:(U,z)=>{if(U.didChange(X.editorOptions))Object.assign(z,U.change.changedOptions);return!0}},(U,z)=>{X.editorOptions.read(U),this._options.renderSideBySide.read(U),this.modified.updateOptions(this._adjustOptionsForRightHandSide(U,z)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(U,z))}))}_createLeftHandSideEditor($,Q){let X=this._adjustOptionsForLeftHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,X,Q);return Y.setContextValue("isInDiffLeftEditor",!0),Y}_createRightHandSideEditor($,Q){let X=this._adjustOptionsForRightHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,X,Q);return Y.setContextValue("isInDiffRightEditor",!0),Y}_constructInnerEditor($,Q,X,Y){let Z=this._createInnerEditor($,Q,X,Y);return this._register(Z.onDidContentSizeChange((G)=>{let q=this.original.getContentWidth()+this.modified.getContentWidth()+kX.ENTIRE_DIFF_OVERVIEW_WIDTH,U=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:U,contentWidth:q,contentHeightChanged:G.contentHeightChanged,contentWidthChanged:G.contentWidthChanged})})),Z}_adjustOptionsForLeftHandSide($,Q){let X=this._adjustOptionsForSubEditor(Q);if(!this._options.renderSideBySide.get())X.wordWrapOverride1="off",X.wordWrapOverride2="off",X.stickyScroll={enabled:!1},X.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1};else X.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},X.wordWrapOverride1=this._options.diffWordWrap.get();if(X.glyphMargin=this._options.renderSideBySide.get(),Q.originalAriaLabel)X.ariaLabel=Q.originalAriaLabel;return X.ariaLabel=this._updateAriaLabel(X.ariaLabel),X.readOnly=!this._options.originalEditable.get(),X.dropIntoEditor={enabled:!X.readOnly},X.extraEditorClassName="original-in-monaco-diff-editor",X}_adjustOptionsForRightHandSide($,Q){let X=this._adjustOptionsForSubEditor(Q);if(Q.modifiedAriaLabel)X.ariaLabel=Q.modifiedAriaLabel;return X.ariaLabel=this._updateAriaLabel(X.ariaLabel),X.wordWrapOverride1=this._options.diffWordWrap.get(),X.revealHorizontalRightPadding=o4.revealHorizontalRightPadding.defaultValue+kX.ENTIRE_DIFF_OVERVIEW_WIDTH,X.scrollbar.verticalHasArrows=!1,X.extraEditorClassName="modified-in-monaco-diff-editor",X}_adjustOptionsForSubEditor($){let Q={...$,dimension:{height:0,width:0}};if(Q.inDiffEditor=!0,Q.automaticLayout=!1,Q.scrollbar={...Q.scrollbar||{}},Q.folding=!1,Q.codeLens=this._options.diffCodeLens.get(),Q.fixedOverflowWidgets=!0,Q.minimap={...Q.minimap||{}},Q.minimap.enabled=!1,this._options.hideUnchangedRegions.get())Q.stickyScroll={enabled:!1};else Q.stickyScroll=this._options.editorOptions.get().stickyScroll;return Q}_updateAriaLabel($){var Q;if(!$)$="";let X=F("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(Q=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||Q===void 0?void 0:Q.getAriaLabel());if(this._options.accessibilityVerbose.get())return $+X;else if($)return $.replaceAll(X,"");return""}};iD=K$0([Uo(5,p0),Uo(6,u6)],iD)});class Vy{get editorOptions(){return this._options}constructor(J){this._diffEditorWidth=A1(this,0),this.couldShowInlineViewBecauseOfSize=n0(this,(Q)=>this._options.read(Q).renderSideBySide&&this._diffEditorWidth.read(Q)<=this._options.read(Q).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=n0(this,(Q)=>this._options.read(Q).renderOverviewRuler),this.renderSideBySide=n0(this,(Q)=>this._options.read(Q).renderSideBySide&&!(this._options.read(Q).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Q))),this.readOnly=n0(this,(Q)=>this._options.read(Q).readOnly),this.shouldRenderRevertArrows=n0(this,(Q)=>{if(!this._options.read(Q).renderMarginRevertIcon)return!1;if(!this.renderSideBySide.read(Q))return!1;if(this.readOnly.read(Q))return!1;return!0}),this.renderIndicators=n0(this,(Q)=>this._options.read(Q).renderIndicators),this.enableSplitViewResizing=n0(this,(Q)=>this._options.read(Q).enableSplitViewResizing),this.splitViewDefaultRatio=n0(this,(Q)=>this._options.read(Q).splitViewDefaultRatio),this.ignoreTrimWhitespace=n0(this,(Q)=>this._options.read(Q).ignoreTrimWhitespace),this.maxComputationTimeMs=n0(this,(Q)=>this._options.read(Q).maxComputationTime),this.showMoves=n0(this,(Q)=>this._options.read(Q).experimental.showMoves&&this.renderSideBySide.read(Q)),this.isInEmbeddedEditor=n0(this,(Q)=>this._options.read(Q).isInEmbeddedEditor),this.diffWordWrap=n0(this,(Q)=>this._options.read(Q).diffWordWrap),this.originalEditable=n0(this,(Q)=>this._options.read(Q).originalEditable),this.diffCodeLens=n0(this,(Q)=>this._options.read(Q).diffCodeLens),this.accessibilityVerbose=n0(this,(Q)=>this._options.read(Q).accessibilityVerbose),this.diffAlgorithm=n0(this,(Q)=>this._options.read(Q).diffAlgorithm),this.showEmptyDecorations=n0(this,(Q)=>this._options.read(Q).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=n0(this,(Q)=>this._options.read(Q).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=n0(this,(Q)=>this._options.read(Q).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=n0(this,(Q)=>this._options.read(Q).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=n0(this,(Q)=>this._options.read(Q).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=n0(this,(Q)=>this._options.read(Q).hideUnchangedRegions.minimumLineCount);let $={...J,...Ho(J,z8)};this._options=A1(this,$)}updateOptions(J){let $=Ho(J,this._options.get()),Q={...this._options.get(),...J,...$};this._options.set(Q,void 0,{changedOptions:J})}setWidth(J){this._diffEditorWidth.set(J,void 0)}}function Ho(J,$){var Q,X,Y,Z,G,q,U,z;return{enableSplitViewResizing:O0(J.enableSplitViewResizing,$.enableSplitViewResizing),splitViewDefaultRatio:Qb(J.splitViewDefaultRatio,0.5,0.1,0.9),renderSideBySide:O0(J.renderSideBySide,$.renderSideBySide),renderMarginRevertIcon:O0(J.renderMarginRevertIcon,$.renderMarginRevertIcon),maxComputationTime:vX(J.maxComputationTime,$.maxComputationTime,0,1073741824),maxFileSize:vX(J.maxFileSize,$.maxFileSize,0,1073741824),ignoreTrimWhitespace:O0(J.ignoreTrimWhitespace,$.ignoreTrimWhitespace),renderIndicators:O0(J.renderIndicators,$.renderIndicators),originalEditable:O0(J.originalEditable,$.originalEditable),diffCodeLens:O0(J.diffCodeLens,$.diffCodeLens),renderOverviewRuler:O0(J.renderOverviewRuler,$.renderOverviewRuler),diffWordWrap:E6(J.diffWordWrap,$.diffWordWrap,["off","on","inherit"]),diffAlgorithm:E6(J.diffAlgorithm,$.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:O0(J.accessibilityVerbose,$.accessibilityVerbose),experimental:{showMoves:O0((Q=J.experimental)===null||Q===void 0?void 0:Q.showMoves,$.experimental.showMoves),showEmptyDecorations:O0((X=J.experimental)===null||X===void 0?void 0:X.showEmptyDecorations,$.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:O0((Z=(Y=J.hideUnchangedRegions)===null||Y===void 0?void 0:Y.enabled)!==null&&Z!==void 0?Z:(G=J.experimental)===null||G===void 0?void 0:G.collapseUnchangedRegions,$.hideUnchangedRegions.enabled),contextLineCount:vX((q=J.hideUnchangedRegions)===null||q===void 0?void 0:q.contextLineCount,$.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:vX((U=J.hideUnchangedRegions)===null||U===void 0?void 0:U.minimumLineCount,$.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:vX((z=J.hideUnchangedRegions)===null||z===void 0?void 0:z.revealLineCount,$.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:O0(J.isInEmbeddedEditor,$.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:O0(J.onlyShowAccessibleDiffViewer,$.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:vX(J.renderSideBySideInlineBreakpoint,$.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:O0(J.useInlineViewWhenSpaceIsLimited,$.useInlineViewWhenSpaceIsLimited)}}var jo=N(()=>{l8();Pk();t5()});var Wy,hV;var Vo=N(()=>{D0();l2();U5();Q0();l8();f7();l0();v7();g0();Wy=class Wy extends h{constructor(J,$,Q,X){super();this._editors=J,this._diffModel=$,this._options=Q,this._widget=X;let Y=[],Z=n0(this,(G)=>{let q=this._diffModel.read(G),U=q===null||q===void 0?void 0:q.diff.read(G);if(!U)return Y;let z=this._editors.modifiedSelections.read(G);if(z.every((W)=>W.isEmpty()))return Y;let H=new h7(z.map((W)=>S0.fromRangeInclusive(W))),V=U.mappings.filter((W)=>W.lineRangeMapping.innerChanges&&H.intersects(W.lineRangeMapping.modified)).map((W)=>({mapping:W,rangeMappings:W.lineRangeMapping.innerChanges.filter((B)=>z.some((K)=>L.areIntersecting(B.modifiedRange,K)))}));if(V.length===0||V.every((W)=>W.rangeMappings.length===0))return Y;return V});this._register(G7((G,q)=>{let U=this._diffModel.read(G),z=U===null||U===void 0?void 0:U.diff.read(G);if(!U||!z)return;if(this._diffModel.read(G).movedTextToCompare.read(G))return;if(!this._options.shouldRenderRevertArrows.read(G))return;let j=[],V=Z.read(G),W=new Set(V.map((B)=>B.mapping));if(V.length>0){let B=this._editors.modifiedSelections.read(G),K=q.add(new hV(B[B.length-1].positionLineNumber,this._widget,V.flatMap((P)=>P.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(K),j.push(K)}for(let B of z.mappings){if(W.has(B))continue;if(!B.lineRangeMapping.modified.isEmpty&&B.lineRangeMapping.innerChanges){let K=q.add(new hV(B.lineRangeMapping.modified.startLineNumber,this._widget,B.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(K),j.push(K)}}q.add(K0(()=>{for(let B of j)this._editors.modified.removeGlyphMarginWidget(B)}))}))}};hV=class hV extends h{getId(){return this._id}constructor(J,$,Q,X){super();this._lineNumber=J,this._widget=$,this._diffs=Q,this._selection=X,this._id=`revertButton${hV.counter++}`,this._domNode=p1("div.revertButton",{title:this._selection?F("revertSelectedChanges","Revert Selected Changes"):F("revertChange","Revert Change")},[O3(U0.arrowRight)]).root,this._register(m(this._domNode,$0.MOUSE_DOWN,(Y)=>{if(Y.button!==2)Y.stopPropagation(),Y.preventDefault()})),this._register(m(this._domNode,$0.MOUSE_UP,(Y)=>{Y.stopPropagation(),Y.preventDefault()})),this._register(m(this._domNode,$0.CLICK,(Y)=>{this._widget.revertRangeMappings(this._diffs),Y.stopPropagation(),Y.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:p9.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}};hV.counter=0});function P$0(J){return J.mappings.map(($)=>{let Q=$.lineRangeMapping,X,Y,Z,G,q=Q.innerChanges;if(Q.original.isEmpty)X=Q.original.startLineNumber-1,Y=0,q=void 0;else X=Q.original.startLineNumber,Y=Q.original.endLineNumberExclusive-1;if(Q.modified.isEmpty)Z=Q.modified.startLineNumber-1,G=0,q=void 0;else Z=Q.modified.startLineNumber,G=Q.modified.endLineNumberExclusive-1;return{originalStartLineNumber:X,originalEndLineNumber:Y,modifiedStartLineNumber:Z,modifiedEndLineNumber:G,charChanges:q===null||q===void 0?void 0:q.map((U)=>({originalStartLineNumber:U.originalRange.startLineNumber,originalStartColumn:U.originalRange.startColumn,originalEndLineNumber:U.originalRange.endLineNumber,originalEndColumn:U.originalRange.endColumn,modifiedStartLineNumber:U.modifiedRange.startLineNumber,modifiedStartColumn:U.modifiedRange.startColumn,modifiedEndLineNumber:U.modifiedRange.endLineNumber,modifiedEndColumn:U.modifiedRange.endColumn}))}})}var A$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fV=function(J,$){return function(Q,X){$(Q,X,J)}},BU;var By=N(()=>{D0();zJ();P1();F0();Q0();l8();TV();En();b9();Y9();hA();gn();ln();dn();sn();Go();aI();jy();mJ();l0();tz();$X();KG();m1();u0();wj();qo();zo();jo();Uy();Vo();BU=class J extends vV{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($,Q,X,Y,Z,G,q,U){var z;super();this._domElement=$,this._parentContextKeyService=Y,this._parentInstantiationService=Z,this._audioCueService=q,this._editorProgressService=U,this.elements=p1("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[p1("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[q0("span",{},"No Changes")]),p1("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),p1("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),p1("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=A1(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=J0.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new EJ([h0,this._contextKeyService])),this._boundarySashes=A1(this,void 0),this._accessibleDiffViewerShouldBeVisible=A1(this,!1),this._accessibleDiffViewerVisible=n0(this,(M)=>this._options.onlyShowAccessibleDiffViewer.read(M)?!0:this._accessibleDiffViewerShouldBeVisible.read(M)),this._movedBlocksLinesPart=A1(this,void 0),this._layoutInfo=n0(this,(M)=>{var _,T,w,b,S;let g=this._rootSizeObserver.width.read(M),c=this._rootSizeObserver.height.read(M),C=(_=this._sash.read(M))===null||_===void 0?void 0:_.sashLeft.read(M),u=C!==null&&C!==void 0?C:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),i=g-u-((w=(T=this._overviewRulerPart.read(M))===null||T===void 0?void 0:T.width)!==null&&w!==void 0?w:0),Y0=(S=(b=this._movedBlocksLinesPart.read(M))===null||b===void 0?void 0:b.width.read(M))!==null&&S!==void 0?S:0,P0=u-Y0;return this.elements.original.style.width=P0+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=i+"px",this.elements.modified.style.left=u+"px",this._editors.original.layout({width:P0,height:c},!0),this._editors.modified.layout({width:i,height:c},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((M,_)=>M===null||M===void 0?void 0:M.diff.read(_)),this.onDidUpdateDiff=J0.fromObservableLight(this._diffValue),G.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(K0(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new EV(this.elements.root,Q.dimension)),this._rootSizeObserver.setAutomaticLayout((z=Q.automaticLayout)!==null&&z!==void 0?z:!1),this._options=new Vy(Q),this._register(R1((M)=>{this._options.setWidth(this._rootSizeObserver.width.read(M))})),this._contextKeyService.createKey(n.isEmbeddedDiffEditor.key,!1),this._register(yV(n.isEmbeddedDiffEditor,this._contextKeyService,(M)=>this._options.isInEmbeddedEditor.read(M))),this._register(yV(n.comparingMovedCode,this._contextKeyService,(M)=>{var _;return!!((_=this._diffModel.read(M))===null||_===void 0?void 0:_.movedTextToCompare.read(M))})),this._register(yV(n.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,(M)=>this._options.couldShowInlineViewBecauseOfSize.read(M))),this._register(yV(n.hasChanges,this._contextKeyService,(M)=>{var _,T,w;return((w=(T=(_=this._diffModel.read(M))===null||_===void 0?void 0:_.diff.read(M))===null||T===void 0?void 0:T.mappings.length)!==null&&w!==void 0?w:0)>0})),this._editors=this._register(this._instantiationService.createInstance(iD,this.elements.original,this.elements.modified,this._options,X,(M,_,T,w)=>this._createInnerEditor(M,_,T,w))),this._overviewRulerPart=JQ(this,(M)=>!this._options.renderOverviewRuler.read(M)?void 0:this._instantiationService.createInstance(t9(kX,M),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((_)=>_.modifiedEditor))).recomputeInitiallyAndOnChange(this._store),this._sash=JQ(this,(M)=>{let _=this._options.renderSideBySide.read(M);return this.elements.root.classList.toggle("side-by-side",_),!_?void 0:new Qy(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((T,w)=>{var b,S;return T-((S=(b=this._overviewRulerPart.read(w))===null||b===void 0?void 0:b.width)!==null&&S!==void 0?S:0)})},this._boundarySashes)}).recomputeInitiallyAndOnChange(this._store);let H=JQ(this,(M)=>this._instantiationService.createInstance(t9(SV,M),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);JQ(this,(M)=>this._instantiationService.createInstance(t9($y,M),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);let j=new Set,V=new Set,W=!1,B=JQ(this,(M)=>this._instantiationService.createInstance(t9(rD,M),B0(this._domElement),this._editors,this._diffModel,this._options,this,()=>W||H.get().isUpdatingHiddenAreas,j,V)).recomputeInitiallyAndOnChange(this._store),K=n0(this,(M)=>{let _=B.read(M).viewZones.read(M).orig,T=H.read(M).viewZones.read(M).origViewZones;return _.concat(T)}),P=n0(this,(M)=>{let _=B.read(M).viewZones.read(M).mod,T=H.read(M).viewZones.read(M).modViewZones;return _.concat(T)});this._register(WU(this._editors.original,K,(M)=>{W=M},j));let A;this._register(WU(this._editors.modified,P,(M)=>{if(W=M,W)A=g4.capture(this._editors.modified);else A===null||A===void 0||A.restore(this._editors.modified),A=void 0},V)),this._accessibleDiffViewer=JQ(this,(M)=>this._instantiationService.createInstance(t9(LX,M),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(_,T)=>this._accessibleDiffViewerShouldBeVisible.set(_,T),this._options.onlyShowAccessibleDiffViewer.map((_)=>!_),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((_,T)=>{var w;return(w=_===null||_===void 0?void 0:_.diff.read(T))===null||w===void 0?void 0:w.mappings.map((b)=>b.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);let D=this._accessibleDiffViewerVisible.map((M)=>M?"hidden":"visible");this._register(p4(this.elements.modified,{visibility:D})),this._register(p4(this.elements.original,{visibility:D})),this._createDiffEditorContributions(),G.addDiffEditor(this),this._register(tY(this._layoutInfo)),JQ(this,(M)=>new(t9($Q,M))(this.elements.root,this._diffModel,this._layoutInfo.map((_)=>_.originalEditor),this._layoutInfo.map((_)=>_.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,(M)=>{this._movedBlocksLinesPart.set(M,void 0)}),this._register(p4(this.elements.overlay,{width:this._layoutInfo.map((M,_)=>M.originalEditor.width+(this._options.renderSideBySide.read(_)?0:M.modifiedEditor.width)),visibility:n0((M)=>{var _,T;return this._options.hideUnchangedRegions.read(M)&&((T=(_=this._diffModel.read(M))===null||_===void 0?void 0:_.diff.read(M))===null||T===void 0?void 0:T.mappings.length)===0?"visible":"hidden"})})),this._register(J0.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(M)=>{var _,T;if((M===null||M===void 0?void 0:M.reason)===3){let w=(T=(_=this._diffModel.get())===null||_===void 0?void 0:_.diff.get())===null||T===void 0?void 0:T.mappings.find((b)=>b.lineRangeMapping.modified.contains(M.position.lineNumber));if(w===null||w===void 0?void 0:w.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue(Q1.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"});else if(w===null||w===void 0?void 0:w.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue(Q1.diffLineInserted,{source:"diffEditor.cursorPositionChanged"});else if(w)this._audioCueService.playAudioCue(Q1.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));let R=this._diffModel.map(this,(M,_)=>{if(!M)return;return M.diff.read(_)===void 0&&!M.isDiffUpToDate.read(_)});this._register(G7((M,_)=>{if(R.read(M)===!0){let T=this._editorProgressService.show(!0,1000);_.add(K0(()=>T.done()))}})),this._register(K0(()=>{var M;if(this._shouldDisposeDiffModel)(M=this._diffModel.get())===null||M===void 0||M.dispose()})),this._register(new Wy(this._editors,this._diffModel,this._options,this))}_createInnerEditor($,Q,X,Y){return $.createInstance(BX,Q,X,Y)}_createDiffEditorContributions(){let $=nX.getDiffEditorContributions();for(let Q of $)try{this._register(this._instantiationService.createInstance(Q.ctor,this))}catch(X){o0(X)}}get _targetEditor(){return this._editors.modified}getEditorType(){return ZY.IDiffEditor}layout($){this._rootSizeObserver.observe($)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $;let Q=this._editors.original.saveViewState(),X=this._editors.modified.saveViewState();return{original:Q,modified:X,modelState:($=this._diffModel.get())===null||$===void 0?void 0:$.serializeState()}}restoreViewState($){var Q;if($&&$.original&&$.modified){let X=$;if(this._editors.original.restoreViewState(X.original),this._editors.modified.restoreViewState(X.modified),X.modelState)(Q=this._diffModel.get())===null||Q===void 0||Q.restoreSerializedState(X.modelState)}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($){return this._instantiationService.createInstance(dD,$,this._options)}getModel(){var $,Q;return(Q=($=this._diffModel.get())===null||$===void 0?void 0:$.model)!==null&&Q!==void 0?Q:null}setModel($,Q){if(!$&&this._diffModel.get())this._accessibleDiffViewer.get().close();let X=$?"model"in $?{model:$,shouldDispose:!1}:{model:this.createViewModel($),shouldDispose:!0}:void 0;if(this._diffModel.get()!==(X===null||X===void 0?void 0:X.model))AG(Q,(Y)=>{var Z;w6.batchEventsGlobally(Y,()=>{this._editors.original.setModel(X?X.model.model.original:null),this._editors.modified.setModel(X?X.model.model.modified:null)});let G=this._diffModel.get(),q=this._shouldDisposeDiffModel;if(this._shouldDisposeDiffModel=(Z=X===null||X===void 0?void 0:X.shouldDispose)!==null&&Z!==void 0?Z:!1,this._diffModel.set(X===null||X===void 0?void 0:X.model,Y),q)G===null||G===void 0||G.dispose()})}updateOptions($){this._options.updateOptions($)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get();if(!Q)return null;return P$0(Q)}revert($){if($.innerChanges){this.revertRangeMappings($.innerChanges);return}let Q=this._diffModel.get();if(!Q||!Q.isDiffUpToDate.get())return;this._editors.modified.executeEdits("diffEditor",[{range:$.modified.toExclusiveRange(),text:Q.model.original.getValueInRange($.original.toExclusiveRange())}])}revertRangeMappings($){let Q=this._diffModel.get();if(!Q||!Q.isDiffUpToDate.get())return;let X=$.map((Y)=>({range:Y.modifiedRange,text:Q.model.original.getValueInRange(Y.originalRange)}));this._editors.modified.executeEdits("diffEditor",X)}_goTo($){this._editors.modified.setPosition(new v($.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($.lineRangeMapping.modified.toExclusiveRange())}goToDiff($){var Q,X,Y,Z;let G=(X=(Q=this._diffModel.get())===null||Q===void 0?void 0:Q.diff.get())===null||X===void 0?void 0:X.mappings;if(!G||G.length===0)return;let q=this._editors.modified.getPosition().lineNumber,U;if($==="next")U=(Y=G.find((z)=>z.lineRangeMapping.modified.startLineNumber>q))!==null&&Y!==void 0?Y:G[0];else U=(Z=j2(G,(z)=>z.lineRangeMapping.modified.startLineNumber<q))!==null&&Z!==void 0?Z:G[G.length-1];if(this._goTo(U),U.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue(Q1.diffLineDeleted,{source:"diffEditor.goToDiff"});else if(U.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue(Q1.diffLineInserted,{source:"diffEditor.goToDiff"});else if(U)this._audioCueService.playAudioCue(Q1.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){let $=this._diffModel.get();if(!$)return;this.waitForDiff().then(()=>{var Q;let X=(Q=$.diff.get())===null||Q===void 0?void 0:Q.mappings;if(!X||X.length===0)return;this._goTo(X[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){let $=this._diffModel.get();if(!$)return;await $.waitForDiff()}mapToOtherSide(){var $,Q;let X=this._editors.modified.hasWidgetFocus(),Y=X?this._editors.modified:this._editors.original,Z=X?this._editors.original:this._editors.modified,G,q=Y.getSelection();if(q){let U=(Q=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get())===null||Q===void 0?void 0:Q.mappings.map((z)=>X?z.lineRangeMapping.flip():z.lineRangeMapping);if(U){let z=pI(q.getStartPosition(),U),H=pI(q.getEndPosition(),U);G=L.plusRange(z,H)}}return{destination:Z,destinationSelection:G}}switchSide(){let{destination:$,destinationSelection:Q}=this.mapToOtherSide();if($.focus(),Q)$.setSelection(Q)}exitCompareMove(){let $=this._diffModel.get();if(!$)return;$.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!Q)return;D6((X)=>{for(let Y of Q)Y.collapseAll(X)})}showAllUnchangedRegions(){var $;let Q=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!Q)return;D6((X)=>{for(let Y of Q)Y.showAll(X)})}};BU=A$0([fV(3,h0),fV(4,p0),fV(5,l1),fV(6,n9),fV(7,PX)],BU)});function R$0(J){if(!J){if(Wo)return;Wo=!0}Th(J||z1.document.body)}function Ky(J,$,Q,X,Y){if(Q=Q||"",!X){let Z=Q.indexOf(`
`),G=Q;if(Z!==-1)G=Q.substring(0,Z);return Bo(J,Q,$.createByFilepathOrFirstLine(Y||null,G),Y)}return Bo(J,Q,$.createById(X),Y)}function Bo(J,$,Q,X){return J.createModel($,Q,X)}var Fy=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},q6=function(J,$){return function(Q,X){$(Q,X,J)}},D$0=0,Wo=!1,nD,oD,tD;var Fo=N(()=>{UY();Q0();Y9();hA();CD();VV();P4();e8();v8();m1();KX();u0();x4();VX();s6();BJ();Lk();BV();wj();_Q();v9();TL();T4();h8();l9();By();KG();J8();nD=class J extends BX{constructor($,Q,X,Y,Z,G,q,U,z,H,j,V){let W={...Q};W.ariaLabel=W.ariaLabel||Ej.editorViewAccessibleLabel,W.ariaLabel=W.ariaLabel+";"+Ej.accessibilityHelpMessage;super($,W,{},X,Y,Z,G,U,z,H,j,V);if(q instanceof rY)this._standaloneKeybindingService=q;else this._standaloneKeybindingService=null;R$0(W.ariaContainerElement)}addCommand($,Q,X){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let Y="DYNAMIC_"+ ++D$0,Z=N0.deserialize(X);return this._standaloneKeybindingService.addDynamicKeybinding(Y,$,Q,Z),Y}createContextKey($,Q){return this._contextKeyService.createKey($,Q)}addAction($){if(typeof $.id!=="string"||typeof $.label!=="string"||typeof $.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),h.None;let{id:Q,label:X}=$,Y=N0.and(N0.equals("editorId",this.getId()),N0.deserialize($.precondition)),Z=$.keybindings,G=N0.and(Y,N0.deserialize($.keybindingContext)),q=$.contextMenuGroupId||null,U=$.contextMenuOrder||0,z=(W,...B)=>{return Promise.resolve($.run(this,...B))},H=new r,j=this.getId()+":"+Q;if(H.add(z6.registerCommand(j,z)),q){let W={command:{id:j,title:X},when:Y,group:q,order:U};H.add(q$.appendMenuItem(I.EditorContext,W))}if(Array.isArray(Z))for(let W of Z)H.add(this._standaloneKeybindingService.addDynamicKeybinding(j,W,z,G));let V=new bH(j,X,X,void 0,Y,(...W)=>Promise.resolve($.run(this,...W)),this._contextKeyService);return this._actions.set(Q,V),H.add(K0(()=>{this._actions.delete(Q)})),H}_triggerCommand($,Q){if(this._codeEditorService instanceof jj)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand($,Q)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand($,Q)}};nD=Fy([q6(2,p0),q6(3,l1),q6(4,j5),q6(5,h0),q6(6,u6),q6(7,d6),q6(8,a5),q6(9,_8),q6(10,_6),q6(11,F1)],nD);oD=class J extends nD{constructor($,Q,X,Y,Z,G,q,U,z,H,j,V,W,B,K){let P={...Q};RV(H,P,!1);let A=U.registerEditorContainer($);if(typeof P.theme==="string")U.setTheme(P.theme);if(typeof P.autoDetectHighContrast!=="undefined")U.setAutoDetectHighContrast(Boolean(P.autoDetectHighContrast));let D=P.model;delete P.model;super($,P,X,Y,Z,G,q,U,z,j,B,K);this._configurationService=H,this._standaloneThemeService=U,this._register(A);let R;if(typeof D==="undefined"){let M=W.getLanguageIdByMimeType(P.language)||P.language||R5;R=Ky(V,W,P.value||"",M,void 0),this._ownsModel=!0}else R=D,this._ownsModel=!1;if(this._attachModel(R),R){let M={oldModelUrl:null,newModelUrl:R.uri};this._onDidChangeModel.fire(M)}}dispose(){super.dispose()}updateOptions($){if(RV(this._configurationService,$,!1),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_postDetachModelCleanup($){if(super._postDetachModelCleanup($),$&&this._ownsModel)$.dispose(),this._ownsModel=!1}};oD=Fy([q6(2,p0),q6(3,l1),q6(4,j5),q6(5,h0),q6(6,u6),q6(7,O7),q6(8,a5),q6(9,y1),q6(10,_8),q6(11,z5),q6(12,e1),q6(13,_6),q6(14,F1)],oD);tD=class J extends BU{constructor($,Q,X,Y,Z,G,q,U,z,H,j,V){let W={...Q};RV(U,W,!0);let B=G.registerEditorContainer($);if(typeof W.theme==="string")G.setTheme(W.theme);if(typeof W.autoDetectHighContrast!=="undefined")G.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast));super($,W,{},Y,X,Z,V,H);this._configurationService=U,this._standaloneThemeService=G,this._register(B)}dispose(){super.dispose()}updateOptions($){if(RV(this._configurationService,$,!0),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_createInnerEditor($,Q,X){return $.createInstance(nD,Q,X)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand($,Q,X){return this.getModifiedEditor().addCommand($,Q,X)}createContextKey($,Q){return this.getModifiedEditor().createContextKey($,Q)}addAction($){return this.getModifiedEditor().addAction($)}};tD=Fy([q6(2,p0),q6(3,h0),q6(4,l1),q6(5,O7),q6(6,a5),q6(7,y1),q6(8,r7),q6(9,PX),q6(10,aY),q6(11,n9)],tD)});var Ko=N(()=>{j0(".monaco-component.multiDiffEditor{background:var(--vscode-multiDiffEditor-background);overflow-y:hidden}.monaco-component .multiDiffEntry{border-bottom:1px solid var(--vscode-multiDiffEditor-border);flex-direction:column;flex:1;display:flex;overflow:hidden}.monaco-component .multiDiffEntry .collapse-button{cursor:pointer;margin:0 5px}.monaco-component .multiDiffEntry .collapse-button a{display:block}.monaco-component .multiDiffEntry .header{color:var(--vscode-foreground);background:var(--vscode-editor-background);z-index:1000;border-top:1px solid var(--vscode-multiDiffEditor-border);border-bottom:1px solid var(--vscode-sideBarSectionHeader-border);align-items:center;padding:8px 5px;display:flex}.monaco-component .multiDiffEntry .header.shadow{box-shadow:var(--vscode-scrollbar-shadow)0px 6px 6px -6px}.monaco-component .multiDiffEntry .header .file-path{flex:1;min-width:0;display:flex}.monaco-component .multiDiffEntry .header .file-path .title{font-size:14px;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .status{opacity:.75;margin:0 10px;font-weight:600;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .title.original{text-overflow:ellipsis;flex:1;min-width:0}.monaco-component .multiDiffEntry .header .actions{padding:0 8px}.monaco-component .multiDiffEntry .editorParent{flex-direction:column;flex:1;display:flex}.monaco-component .multiDiffEntry .editorContainer{flex:1}")});var Ao=N(()=>{j0(".monaco-toolbar{height:100%}.monaco-toolbar .toolbar-toggle-more{padding:0;display:inline-block}")});var Ay,gV;var Po=N(()=>{r$();ak();t8();U5();H5();F0();Q0();Ao();g0();Ay=class Ay extends h{constructor(J,$,Q={orientation:0}){super();this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new ZM),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new r),this.options=Q,this.lookupKeybindings=typeof this.options.getKeyBinding==="function",this.toggleMenuAction=this._register(new gV(()=>{var X;return(X=this.toggleMenuActionViewItem)===null||X===void 0?void 0:X.show()},Q.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",J.appendChild(this.element),this.actionBar=this._register(new H8(this.element,{orientation:Q.orientation,ariaLabel:Q.ariaLabel,actionRunner:Q.actionRunner,allowContextMenu:Q.allowContextMenu,highlightToggledItems:Q.highlightToggledItems,actionViewItemProvider:(X,Y)=>{var Z;if(X.id===gV.ID)return this.toggleMenuActionViewItem=new QG(X,X.menuActions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:b0.asClassNameArray((Z=Q.moreIcon)!==null&&Z!==void 0?Z:U0.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(Q.actionViewItemProvider){let G=Q.actionViewItemProvider(X,Y);if(G)return G}if(X instanceof NQ){let G=new QG(X,X.actions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:X.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return G.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(G),this.disposables.add(this._onDidChangeDropdownVisibility.add(G.onDidChangeVisibility)),G}return}}))}set actionRunner(J){this.actionBar.actionRunner=J}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(J){return this.actionBar.getAction(J)}setActions(J,$){this.clear();let Q=J?J.slice(0):[];if(this.hasSecondaryActions=!!($&&$.length>0),this.hasSecondaryActions&&$)this.toggleMenuAction.menuActions=$.slice(0),Q.push(this.toggleMenuAction);Q.forEach((X)=>{this.actionBar.push(X,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(X)})})}getKeybindingLabel(J){var $,Q,X;let Y=this.lookupKeybindings?(Q=($=this.options).getKeyBinding)===null||Q===void 0?void 0:Q.call($,J):void 0;return(X=Y===null||Y===void 0?void 0:Y.getLabel())!==null&&X!==void 0?X:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}};gV=class gV extends F7{constructor(J,$){$=$||F("moreActions","More Actions...");super(gV.ID,$,void 0,!0);this._menuActions=[],this.toggleDropdownMenu=J}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(J){this._menuActions=J}};gV.ID="toolbar.toggle.more"});var Do=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},QQ=function(J,$){return function(Q,X){$(Q,X,J)}},Py,eD;var Ro=N(()=>{D0();k9();Po();t8();U1();P1();F0();N9();Q0();g0();CP();P4();m1();KX();x4();sX();Py=class J extends Ay{constructor($,Q,X,Y,Z,G,q){super($,Z,{getKeyBinding:(z)=>{var H;return(H=G.lookupKeybinding(z.id))!==null&&H!==void 0?H:void 0},...Q,allowContextMenu:!0,skipTelemetry:typeof(Q===null||Q===void 0?void 0:Q.telemetrySource)==="string"});this._options=Q,this._menuService=X,this._contextKeyService=Y,this._contextMenuService=Z,this._sessionDisposables=this._store.add(new r);let U=Q===null||Q===void 0?void 0:Q.telemetrySource;if(U)this._store.add(this.actionBar.onDidRun((z)=>q.publicLog2("workbenchActionExecuted",{id:z.action.id,from:U})))}setActions($,Q=[],X){var Y,Z,G;this._sessionDisposables.clear();let q=$.slice(),U=Q.slice(),z=[],H=0,j=[],V=!1;if(((Y=this._options)===null||Y===void 0?void 0:Y.hiddenItemStrategy)!==-1)for(let W=0;W<q.length;W++){let B=q[W];if(!(B instanceof K4)&&!(B instanceof lZ))continue;if(!B.hideActions)continue;if(z.push(B.hideActions.toggle),B.hideActions.toggle.checked)H++;if(B.hideActions.isHidden){if(V=!0,q[W]=void 0,((Z=this._options)===null||Z===void 0?void 0:Z.hiddenItemStrategy)!==0)j[W]=B}}if(((G=this._options)===null||G===void 0?void 0:G.overflowBehavior)!==void 0){let W=Ma(new Set(this._options.overflowBehavior.exempted),W1.map(q,(P)=>P===null||P===void 0?void 0:P.id)),B=this._options.overflowBehavior.maxItems-W.size,K=0;for(let P=0;P<q.length;P++){let A=q[P];if(!A)continue;if(K++,W.has(A.id))continue;if(K>=B)q[P]=void 0,j[P]=A}}if(uR(q),uR(j),super.setActions(q,l6.join(j,U)),z.length>0)this._sessionDisposables.add(m(this.getElement(),"contextmenu",(W)=>{var B,K,P,A,D;let R=new $8(B0(this.getElement()),W),M=this.getItemAction(R.target);if(!M)return;R.preventDefault(),R.stopPropagation();let _=!1;if(H===1&&((B=this._options)===null||B===void 0?void 0:B.hiddenItemStrategy)===0){_=!0;for(let b=0;b<z.length;b++)if(z[b].checked){z[b]=hZ({id:M.id,label:M.label,checked:!0,enabled:!1,run(){}});break}}let T;if(!_&&(M instanceof K4||M instanceof lZ)){if(!M.hideActions)return;T=M.hideActions.hide}else T=hZ({id:"label",label:F("hide","Hide"),enabled:!1,run(){}});let w=l6.join([T],z);if(((K=this._options)===null||K===void 0?void 0:K.resetMenu)&&!X)X=[this._options.resetMenu];if(V&&X)w.push(new l6),w.push(hZ({id:"resetThisMenu",label:F("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(X)}));this._contextMenuService.showContextMenu({getAnchor:()=>R,getActions:()=>w,menuId:(P=this._options)===null||P===void 0?void 0:P.contextMenu,menuActionOptions:{renderShortTitle:!0,...(A=this._options)===null||A===void 0?void 0:A.menuOptions},skipTelemetry:typeof((D=this._options)===null||D===void 0?void 0:D.telemetrySource)==="string",contextKeyService:this._contextKeyService})}))}};Py=Do([QQ(2,A4),QQ(3,h0),QQ(4,r7),QQ(5,u6),QQ(6,Q7)],Py);eD=class J extends Py{constructor($,Q,X,Y,Z,G,q,U){super($,{resetMenu:Q,...X},Y,Z,G,q,U);this._onDidChangeMenuItems=this._store.add(new y);let z=this._store.add(Y.createMenu(Q,Z,{emitEventsForSubmenuChanges:!0})),H=()=>{var j,V,W;let B=[],K=[];ja(z,X===null||X===void 0?void 0:X.menuOptions,{primary:B,secondary:K},(j=X===null||X===void 0?void 0:X.toolbarOptions)===null||j===void 0?void 0:j.primaryGroup,(V=X===null||X===void 0?void 0:X.toolbarOptions)===null||V===void 0?void 0:V.shouldInlineSubmenu,(W=X===null||X===void 0?void 0:X.toolbarOptions)===null||W===void 0?void 0:W.useSeparatorsInPrimaryActions),$.classList.toggle("has-no-actions",B.length===0&&K.length===0),super.setActions(B,K)};this._store.add(z.onDidChange(()=>{H(),this._onDidChangeMenuItems.fire(this)})),H()}setActions(){throw new S1("This toolbar is populated from a menu.")}};eD=Do([QQ(3,A4),QQ(4,h0),QQ(5,r7),QQ(6,u6),QQ(7,Q7)],eD)});var Dy;var Mo=N(()=>{t8();Dy=class Dy extends Z9{constructor(J){super();this._getContext=J}runAction(J,$){return super.runAction(J,this._getContext())}}});class Ry{constructor(J){this.viewModel=J}getId(){return this.viewModel}}function _o(J){return w6(($)=>{let Q=new r;return Q.add(J.onDidFocusEditorWidget(()=>$(!0))),Q.add(J.onDidBlurEditorWidget(()=>$(!1))),Q},()=>J.hasWidgetFocus())}var M$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},_$0=function(J,$){return function(Q,X){$(Q,X,J)}},FU;var My=N(()=>{D0();tE();U5();Q0();l8();PG();By();Ro();P4();u0();Mo();FU=class J extends h{constructor($,Q,X,Y){super();this._container=$,this._overflowWidgetsDomNode=Q,this._workbenchUIElementFactory=X,this._instantiationService=Y,this._viewModel=A1(this,void 0),this._collapsed=n0(this,(G)=>{var q;return(q=this._viewModel.read(G))===null||q===void 0?void 0:q.collapsed.read(G)}),this._editorContentHeight=A1(this,500),this.contentHeight=n0(this,(G)=>{return(this._collapsed.read(G)?0:this._editorContentHeight.read(G))+this._outerEditorHeight}),this._modifiedContentWidth=A1(this,0),this._modifiedWidth=A1(this,0),this._originalContentWidth=A1(this,0),this._originalWidth=A1(this,0),this.maxScroll=n0(this,(G)=>{let q=this._modifiedContentWidth.read(G)-this._modifiedWidth.read(G),U=this._originalContentWidth.read(G)-this._originalWidth.read(G);if(q>U)return{maxScroll:q,width:this._modifiedWidth.read(G)};else return{maxScroll:U,width:this._originalWidth.read(G)}}),this._elements=p1("div.multiDiffEntry",[p1("div.header@header",[p1("div.collapse-button@collapseButton"),p1("div.file-path",[p1("div.title.modified.show-file-icons@primaryPath",[]),p1("div.status.deleted@status",["R"]),p1("div.title.original.show-file-icons@secondaryPath",[])]),p1("div.actions@actions")]),p1("div.editorParent",[p1("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(BU,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=_o(this.editor.getModifiedEditor()),this.isOriginalFocused=_o(this.editor.getOriginalEditor()),this.isFocused=n0(this,(G)=>this.isModifedFocused.read(G)||this.isOriginalFocused.read(G)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new r,this._headerHeight=38;let Z=new QU(this._elements.collapseButton,{});this._register(R1((G)=>{Z.element.className="",Z.icon=this._collapsed.read(G)?U0.chevronRight:U0.chevronDown})),this._register(Z.onDidClick(()=>{var G;(G=this._viewModel.get())===null||G===void 0||G.collapsed.set(!this._collapsed.get(),void 0)})),this._register(R1((G)=>{this._elements.editor.style.display=this._collapsed.read(G)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange((G)=>{let q=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(q,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange((G)=>{let q=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(q,void 0)}),this._register(this.editor.onDidContentSizeChange((G)=>{HU((q)=>{this._editorContentHeight.set(G.contentHeight,q),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),q),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),q)})})),this._register(R1((G)=>{let q=this.isFocused.read(G);this._elements.root.classList.toggle("focused",q)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(eD,this._elements.actions,I.MultiDiffEditorFileToolbar,{actionRunner:this._register(new Dy(()=>{var G;return(G=this._viewModel.get())===null||G===void 0?void 0:G.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:(G)=>G.startsWith("navigation")}}))}setScrollLeft($){if(this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get())this.editor.getModifiedEditor().setScrollLeft($);else this.editor.getOriginalEditor().setScrollLeft($)}setData($){function Q(Y){return{...Y,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}let X=$.viewModel.entry.value;if(X.onOptionsDidChange)this._dataStore.add(X.onOptionsDidChange(()=>{var Y;this.editor.updateOptions(Q((Y=X.options)!==null&&Y!==void 0?Y:{}))}));HU((Y)=>{var Z,G,q,U;(Z=this._resourceLabel)===null||Z===void 0||Z.setUri((G=$.viewModel.modifiedUri)!==null&&G!==void 0?G:$.viewModel.originalUri,{strikethrough:$.viewModel.modifiedUri===void 0});let z=!1,H=!1,j=!1,V="";if($.viewModel.modifiedUri&&$.viewModel.originalUri&&$.viewModel.modifiedUri.path!==$.viewModel.originalUri.path)V="R",z=!0;else if(!$.viewModel.modifiedUri)V="D",H=!0;else if(!$.viewModel.originalUri)V="A",j=!0;this._elements.status.classList.toggle("renamed",z),this._elements.status.classList.toggle("deleted",H),this._elements.status.classList.toggle("added",j),this._elements.status.innerText=V,(q=this._resourceLabel2)===null||q===void 0||q.setUri(z?$.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set($.viewModel,Y),this.editor.setModel($.viewModel.diffEditorViewModel,Y),this.editor.updateOptions(Q((U=X.options)!==null&&U!==void 0?U:{}))})}render($,Q,X,Y){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${$.start}px`,this._elements.root.style.height=`${$.length}px`,this._elements.root.style.width=`${Q}px`,this._elements.root.style.position="absolute";let Z=Math.max(0,Math.min($.length-this._headerHeight,Y.start-$.start));this._elements.header.style.transform=`translateY(${Z}px)`,HU((G)=>{this.editor.layout({width:Q,height:$.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(X),this._elements.header.classList.toggle("shadow",Z>0||X>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};FU=M$0([_$0(3,p0)],FU)});class _y{constructor(J){this._create=J,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(J){var $;let Q;if(this._unused.size===0)Q=this._create(J),this._itemData.set(Q,J);else{let X=[...this._unused.values()];Q=($=X.find((Y)=>this._itemData.get(Y).getId()===J.getId()))!==null&&$!==void 0?$:X[0],this._unused.delete(Q),this._itemData.set(Q,J),Q.setData(J)}return this._used.add(Q),{object:Q,dispose:()=>{if(this._used.delete(Q),this._unused.size>5)Q.dispose();else this._unused.add(Q)}}}dispose(){for(let J of this._used)J.dispose();for(let J of this._unused)J.dispose();this._used.clear(),this._unused.clear()}}var O$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Oo=function(J,$){return function(Q,X){$(Q,X,J)}},JR,No;var To=N(()=>{D0();OJ();zJ();Q0();l8();PG();sq();Ko();mJ();m9();u0();My();m1();$X();E5();JR=class J extends h{constructor($,Q,X,Y,Z,G){super();this._element=$,this._dimension=Q,this._viewModel=X,this._workbenchUIElementFactory=Y,this._parentContextKeyService=Z,this._parentInstantiationService=G,this._elements=p1("div.monaco-component.multiDiffEditor",[p1("div@content",{style:{overflow:"hidden"}}),p1("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new EV(this._element,void 0)),this._objectPool=this._register(new _y((U)=>{let z=this._instantiationService.createInstance(FU,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return z.setData(U),z})),this._scrollable=this._register(new y4({forceIntegerValues:!1,scheduleAtNextAnimationFrame:(U)=>A5(B0(this._element),U),smoothScrollDuration:100})),this._scrollableElement=this._register(new nQ(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=w6(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=w6(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=o9(this,(U,z)=>{let H=this._viewModel.read(U);if(!H)return[];return H.items.read(U).map((V)=>{var W;let B=z.add(new No(V,this._objectPool,this.scrollLeft)),K=(W=this._lastDocStates)===null||W===void 0?void 0:W[B.getKey()];if(K)D6((P)=>{B.setViewState(K,P)});return B})}),this._spaceBetweenPx=10,this._totalHeight=this._viewItems.map(this,(U,z)=>U.reduce((H,j)=>H+j.contentHeight.read(z)+this._spaceBetweenPx,0)),this.activeDiffItem=n0(this,(U)=>this._viewItems.read(U).find((z)=>{var H;return(H=z.template.read(U))===null||H===void 0?void 0:H.isFocused.read(U)})),this.lastActiveDiffItem=hI((U,z)=>{var H;return(H=this.activeDiffItem.read(U))!==null&&H!==void 0?H:z}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new EJ([h0,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(n.inMultiDiffEditor.key,!0),this._register(G7((U,z)=>{let H=this._viewModel.read(U);if(H&&H.contextKeys)for(let[j,V]of Object.entries(H.contextKeys)){let W=this._contextKeyService.createKey(j,void 0);W.set(V),z.add(K0(()=>W.reset()))}}));let q=this._parentContextKeyService.createKey(n.multiDiffEditorAllCollapsed.key,!1);this._register(R1((U)=>{let z=this._viewModel.read(U);if(z){let H=z.items.read(U).every((j)=>j.collapsed.read(U));q.set(H)}})),this._register(R1((U)=>{let z=this.lastActiveDiffItem.read(U);D6((H)=>{var j;(j=this._viewModel.read(U))===null||j===void 0||j.activeDiffItem.set(z===null||z===void 0?void 0:z.viewModel,H)})})),this._register(R1((U)=>{let z=this._dimension.read(U);this._sizeObserver.observe(z)})),this._elements.content.style.position="relative",this._register(R1((U)=>{let z=this._sizeObserver.height.read(U);this._elements.root.style.height=`${z}px`;let H=this._totalHeight.read(U);this._elements.content.style.height=`${H}px`;let j=this._sizeObserver.width.read(U),V=j,W=this._viewItems.read(U),B=YO(W,(K)=>K.maxScroll.read(U).maxScroll);if(B){let K=B.maxScroll.read(U);V=j+K.maxScroll}this._scrollableElement.setScrollDimensions({width:j,height:z,scrollHeight:H,scrollWidth:V})})),$.replaceChildren(this._scrollableElement.getDomNode()),this._register(K0(()=>{$.replaceChildren()})),this._register(this._register(R1((U)=>{HU((z)=>{this.render(U)})})))}render($){let Q=this.scrollTop.read($),X=0,Y=0,Z=0,G=this._sizeObserver.height.read($),q=s0.ofStartAndLength(Q,G),U=this._sizeObserver.width.read($);for(let z of this._viewItems.read($)){let H=z.contentHeight.read($),j=Math.min(H,G),V=s0.ofStartAndLength(Y,j),W=s0.ofStartAndLength(Z,H);if(W.isBefore(q))X-=H-j,z.hide();else if(W.isAfter(q))z.hide();else{let B=Math.max(0,Math.min(q.start-W.start,H-j));X-=B;let K=s0.ofStartAndLength(Q+X,G);z.render(V,B,U,K)}Y+=j+this._spaceBetweenPx,Z+=H+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(Q+X)}px)`}};JR=O$0([Oo(4,h0),Oo(5,p0)],JR);No=class No extends h{constructor(J,$,Q){super();this.viewModel=J,this._objectPool=$,this._scrollLeft=Q,this._templateRef=this._register(II(this,void 0)),this.contentHeight=n0(this,(X)=>{var Y,Z,G;return(G=(Z=(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object.contentHeight)===null||Z===void 0?void 0:Z.read(X))!==null&&G!==void 0?G:this.viewModel.lastTemplateData.read(X).contentHeight}),this.maxScroll=n0(this,(X)=>{var Y,Z;return(Z=(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object.maxScroll.read(X))!==null&&Z!==void 0?Z:{maxScroll:0,scrollWidth:0}}),this.template=n0(this,(X)=>{var Y;return(Y=this._templateRef.read(X))===null||Y===void 0?void 0:Y.object}),this._isHidden=A1(this,!1),this._register(R1((X)=>{var Y;let Z=this._scrollLeft.read(X);(Y=this._templateRef.read(X))===null||Y===void 0||Y.object.setScrollLeft(Z)})),this._register(R1((X)=>{let Y=this._templateRef.read(X);if(!Y)return;if(!this._isHidden.read(X))return;if(Y.object.isFocused.read(X))return;this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var J;return`VirtualViewItem(${(J=this.viewModel.entry.value.modified)===null||J===void 0?void 0:J.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(J,$){var Q;this.viewModel.collapsed.set(J.collapsed,$),this._updateTemplateData($);let X=this.viewModel.lastTemplateData.get(),Y=(Q=J.selections)===null||Q===void 0?void 0:Q.map(v0.liftSelection);this.viewModel.lastTemplateData.set({...X,selections:Y},$);let Z=this._templateRef.get();if(Z){if(Y)Z.object.editor.setSelections(Y)}}_updateTemplateData(J){var $;let Q=this._templateRef.get();if(!Q)return;this.viewModel.lastTemplateData.set({contentHeight:Q.object.contentHeight.get(),selections:($=Q.object.editor.getSelections())!==null&&$!==void 0?$:void 0},J)}_clear(){let J=this._templateRef.get();if(!J)return;D6(($)=>{this._updateTemplateData($),J.object.hide(),this._templateRef.set(void 0,$)})}hide(){this._isHidden.set(!0,void 0)}render(J,$,Q,X){this._isHidden.set(!1,void 0);let Y=this._templateRef.get();if(!Y){Y=this._objectPool.getUnusedObj(new Ry(this.viewModel)),this._templateRef.set(Y,void 0);let Z=this.viewModel.lastTemplateData.get().selections;if(Z)Y.object.editor.setSelections(Z)}Y.object.render(J,Q,$,X)}}});var g61,p61,m61;var wo=N(()=>{g0();N8();g61=E("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},F("multiDiffEditor.headerBackground","The background color of the diff editor's header")),p61=E("multiDiffEditor.background",{dark:"#000000",light:"#e5e5e5",hcDark:"#000000",hcLight:"#e5e5e5"},F("multiDiffEditor.background","The background color of the multi file diff editor")),m61=E("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},F("multiDiffEditor.border","The border color of the multi file diff editor"))});var N$0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},T$0=function(J,$){return function(Q,X){$(Q,X,J)}},$R;var Lo=N(()=>{Q0();l8();mJ();To();u0();wo();My();$R=class J extends h{constructor($,Q,X){super();this._element=$,this._workbenchUIElementFactory=Q,this._instantiationService=X,this._dimension=A1(this,void 0),this._viewModel=A1(this,void 0),this._widgetImpl=o9(this,(Y,Z)=>{return t9(FU,Y),Z.add(this._instantiationService.createInstance(t9(JR,Y),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))}),this._register(tY(this._widgetImpl))}};$R=N$0([T$0(2,p0)],$R)});function w$0(J,$,Q){return y0.initialize(Q||{}).createInstance(oD,J,$)}function L$0(J){return y0.get(l1).onCodeEditorAdd((Q)=>{J(Q)})}function k$0(J){return y0.get(l1).onDiffEditorAdd((Q)=>{J(Q)})}function E$0(){return y0.get(l1).listCodeEditors()}function I$0(){return y0.get(l1).listDiffEditors()}function y$0(J,$,Q){return y0.initialize(Q||{}).createInstance(tD,J,$)}function x$0(J,$){let Q=y0.initialize($||{});return new $R(J,{},Q)}function b$0(J){if(typeof J.id!=="string"||typeof J.run!=="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return z6.registerCommand(J.id,J.run)}function S$0(J){if(typeof J.id!=="string"||typeof J.label!=="string"||typeof J.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");let $=N0.deserialize(J.precondition),Q=(Y,...Z)=>{return S7.runEditorCommand(Y,Z,$,(G,q,U)=>Promise.resolve(J.run(q,...U)))},X=new r;if(X.add(z6.registerCommand(J.id,Q)),J.contextMenuGroupId){let Y={command:{id:J.id,title:J.label},when:$,group:J.contextMenuGroupId,order:J.contextMenuOrder||0};X.add(q$.appendMenuItem(I.EditorContext,Y))}if(Array.isArray(J.keybindings)){let Y=y0.get(u6);if(!(Y instanceof rY))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{let Z=N0.and($,N0.deserialize(J.keybindingContext));X.add(Y.addDynamicKeybindings(J.keybindings.map((G)=>{return{keybinding:G,command:J.id,when:Z}})))}}return X}function C$0(J){return ko([J])}function ko(J){let $=y0.get(u6);if(!($ instanceof rY))return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),h.None;return $.addDynamicKeybindings(J.map((Q)=>{return{keybinding:Q.keybinding,command:Q.command,commandArgs:Q.commandArgs,when:N0.deserialize(Q.when)}}))}function v$0(J,$,Q){let X=y0.get(e1),Y=X.getLanguageIdByMimeType($)||$;return Ky(y0.get(z5),X,J,Y,Q)}function h$0(J,$){let Q=y0.get(e1),X=Q.getLanguageIdByMimeType($)||$||R5;J.setLanguage(Q.createById(X))}function f$0(J,$,Q){if(J)y0.get(SJ).changeOne($,J.uri,Q)}function g$0(J){y0.get(SJ).changeAll(J,[])}function p$0(J){return y0.get(SJ).read(J)}function m$0(J){return y0.get(SJ).onMarkerChanged(J)}function u$0(J){return y0.get(z5).getModel(J)}function c$0(){return y0.get(z5).getModels()}function l$0(J){return y0.get(z5).onModelAdded(J)}function d$0(J){return y0.get(z5).onModelRemoved(J)}function s$0(J){return y0.get(z5).onModelLanguageChanged((Q)=>{J({model:Q.model,oldLanguage:Q.oldLanguageId})})}function a$0(J){return Uh(y0.get(z5),y0.get(_6),J)}function r$0(J,$){let Q=y0.get(e1),X=y0.get(O7);return ZH.colorizeElement(X,Q,J,$).then(()=>{X.registerEditorContainer(J)})}function i$0(J,$,Q){let X=y0.get(e1);return y0.get(O7).registerEditorContainer(z1.document.body),ZH.colorize(X,J,$,Q)}function n$0(J,$,Q=4){return y0.get(O7).registerEditorContainer(z1.document.body),ZH.colorizeModelLine(J,$,Q)}function o$0(J){let $=c1.get(J);if($)return $;return{getInitialState:()=>GY,tokenize:(Q,X,Y)=>tF(J,Y)}}function t$0(J,$){c1.getOrCreate($);let Q=o$0($),X=Q9(J),Y=[],Z=Q.getInitialState();for(let G=0,q=X.length;G<q;G++){let U=X[G],z=Q.tokenize(U,!0,Z);Y[G]=z.tokens,Z=z.endState}return Y}function e$0(J,$){y0.get(O7).defineTheme(J,$)}function JQ0(J){y0.get(O7).setTheme(J)}function $Q0(){Gz.clearAllFontInfos()}function QQ0(J,$){return z6.registerCommand({id:J,handler:$})}function XQ0(J){return y0.get(l$).registerOpener({async open(Q){if(typeof Q==="string")Q=I0.parse(Q);return J.open(Q)}})}function YQ0(J){return y0.get(l1).registerCodeEditorOpenHandler(async(Q,X,Y)=>{var Z;if(!X)return null;let G=(Z=Q.options)===null||Z===void 0?void 0:Z.selection,q;if(G&&typeof G.endLineNumber==="number"&&typeof G.endColumn==="number")q=G;else if(G)q={lineNumber:G.startLineNumber,column:G.startColumn};if(await J.openCodeEditor(X,Q.resource,q))return X;return null})}function Eo(){return{create:w$0,getEditors:E$0,getDiffEditors:I$0,onDidCreateEditor:L$0,onDidCreateDiffEditor:k$0,createDiffEditor:y$0,addCommand:b$0,addEditorAction:S$0,addKeybindingRule:C$0,addKeybindingRules:ko,createModel:v$0,setModelLanguage:h$0,setModelMarkers:f$0,getModelMarkers:p$0,removeAllMarkers:g$0,onDidChangeMarkers:m$0,getModels:c$0,getModel:u$0,onDidCreateModel:l$0,onWillDisposeModel:d$0,onDidChangeModelLanguage:s$0,createWebWorker:a$0,colorizeElement:r$0,colorize:i$0,colorizeModelLine:n$0,tokenize:t$0,defineTheme:e$0,setTheme:JQ0,remeasureFonts:$Q0,registerCommand:QQ0,registerLinkOpener:XQ0,registerEditorOpener:YQ0,AccessibilitySupport:uW,ContentWidgetPositionPreference:rW,CursorChangeReason:iW,DefaultEndOfLine:nW,EditorAutoIndentStrategy:tW,EditorOption:eW,EndOfLinePreference:JB,EndOfLineSequence:$B,MinimapPosition:HB,MouseTargetType:jB,OverlayWidgetPositionPreference:VB,OverviewRulerLane:WB,GlyphMarginLane:QB,RenderLineNumbersType:FB,RenderMinimap:KB,ScrollbarVisibility:PB,ScrollType:AB,TextEditorCursorBlinkingStyle:NB,TextEditorCursorStyle:TB,TrackedRangeStickiness:wB,WrappingIndent:LB,InjectedTextCursorStops:YB,PositionAffinity:BB,ShowLightbulbIconMode:RB,ConfigurationChangedEvent:dU,BareFontInfo:MQ,FontInfo:nG,TextModelResolvedOptions:z2,FindMatch:SQ,ApplyUpdateResult:MZ,EditorZoom:B4,createMultiFileDiffEditor:x$0,EditorType:ZY,EditorOptions:o4}}var Io=N(()=>{J8();Q0();t0();o6();AS();bM();b9();Y9();Hh();t5();Zz();uB();tz();P8();v9();h8();T4();ez();v7();_Q();kB();_h();Fo();CD();VV();P4();e8();m1();x4();s3();c2();Lo()});function ZQ0(J,$){if(!$)return!1;if(!Array.isArray($))return!1;for(let Q of $)if(!J(Q))return!1;return!0}function QR(J,$){if(typeof J==="boolean")return J;return $}function yo(J,$){if(typeof J==="string")return J;return $}function GQ0(J){let $={};for(let Q of J)$[Q]=!0;return $}function xo(J,$=!1){if($)J=J.map(function(X){return X.toLowerCase()});let Q=GQ0(J);if($)return function(X){return Q[X.toLowerCase()]!==void 0&&Q.hasOwnProperty(X.toLowerCase())};else return function(X){return Q[X]!==void 0&&Q.hasOwnProperty(X)}}function Oy(J,$){$=$.replace(/@@/g,"\x01");let Q=0,X;do X=!1,$=$.replace(/@(\w+)/g,function(Z,G){X=!0;let q="";if(typeof J[G]==="string")q=J[G];else if(J[G]&&J[G]instanceof RegExp)q=J[G].source;else if(J[G]===void 0)throw n1(J,"language definition does not contain attribute '"+G+"', used at: "+$);else throw n1(J,"attribute reference '"+G+"' must be a string, used at: "+$);return A2(q)?"":"(?:"+q+")"}),Q++;while(X&&Q<5);$=$.replace(/\x01/g,"@");let Y=(J.ignoreCase?"i":"")+(J.unicode?"u":"");return new RegExp($,Y)}function qQ0(J,$,Q,X){if(X<0)return J;if(X<$.length)return $[X];if(X>=100){X=X-100;let Y=Q.split(".");if(Y.unshift(Q),X<Y.length)return Y[X]}return null}function UQ0(J,$,Q,X){let Y=-1,Z=Q,G=Q.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);if(G){if(G[3]){if(Y=parseInt(G[3]),G[2])Y=Y+100}Z=G[4]}let q="~",U=Z;if(!Z||Z.length===0)q="!=",U="";else if(/^\w*$/.test(U))q="==";else if(G=Z.match(/^(@|!@|~|!~|==|!=)(.*)$/),G)q=G[1],U=G[2];let z;if((q==="~"||q==="!~")&&/^(\w|\|)*$/.test(U)){let H=xo(U.split("|"),J.ignoreCase);z=function(j){return q==="~"?H(j):!H(j)}}else if(q==="@"||q==="!@"){let H=J[U];if(!H)throw n1(J,"the @ match target '"+U+"' is not defined, in rule: "+$);if(!ZQ0(function(V){return typeof V==="string"},H))throw n1(J,"the @ match target '"+U+"' must be an array of strings, in rule: "+$);let j=xo(H,J.ignoreCase);z=function(V){return q==="@"?j(V):!j(V)}}else if(q==="~"||q==="!~")if(U.indexOf("$")<0){let H=Oy(J,"^"+U+"$");z=function(j){return q==="~"?H.test(j):!H.test(j)}}else z=function(H,j,V,W){return Oy(J,"^"+F$(J,U,j,V,W)+"$").test(H)};else if(U.indexOf("$")<0){let H=B$(J,U);z=function(j){return q==="=="?j===H:j!==H}}else{let H=B$(J,U);z=function(j,V,W,B,K){let P=F$(J,H,V,W,B);return q==="=="?j===P:j!==P}}if(Y===-1)return{name:Q,value:X,test:function(H,j,V,W){return z(H,H,j,V,W)}};else return{name:Q,value:X,test:function(H,j,V,W){let B=qQ0(H,j,V,Y);return z(!B?"":B,H,j,V,W)}}}function Ny(J,$,Q){if(!Q)return{token:""};else if(typeof Q==="string")return Q;else if(Q.token||Q.token==="")if(typeof Q.token!=="string")throw n1(J,"a 'token' attribute must be of type string, in rule: "+$);else{let X={token:Q.token};if(Q.token.indexOf("$")>=0)X.tokenSubst=!0;if(typeof Q.bracket==="string")if(Q.bracket==="@open")X.bracket=1;else if(Q.bracket==="@close")X.bracket=-1;else throw n1(J,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+$);if(Q.next)if(typeof Q.next!=="string")throw n1(J,"the next state must be a string value in rule: "+$);else{let Y=Q.next;if(!/^(@pop|@push|@popall)$/.test(Y)){if(Y[0]==="@")Y=Y.substr(1);if(Y.indexOf("$")<0){if(!Ah(J,F$(J,Y,"",[],"")))throw n1(J,"the next state '"+Q.next+"' is not defined in rule: "+$)}}X.next=Y}if(typeof Q.goBack==="number")X.goBack=Q.goBack;if(typeof Q.switchTo==="string")X.switchTo=Q.switchTo;if(typeof Q.log==="string")X.log=Q.log;if(typeof Q.nextEmbedded==="string")X.nextEmbedded=Q.nextEmbedded,J.usesEmbedded=!0;return X}else if(Array.isArray(Q)){let X=[];for(let Y=0,Z=Q.length;Y<Z;Y++)X[Y]=Ny(J,$,Q[Y]);return{group:X}}else if(Q.cases){let X=[];for(let Z in Q.cases)if(Q.cases.hasOwnProperty(Z)){let G=Ny(J,$,Q.cases[Z]);if(Z==="@default"||Z==="@"||Z==="")X.push({test:void 0,value:G,name:Z});else if(Z==="@eos")X.push({test:function(q,U,z,H){return H},value:G,name:Z});else X.push(UQ0(J,$,Z,G))}let Y=J.defaultToken;return{test:function(Z,G,q,U){for(let z of X)if(!z.test||z.test(Z,G,q,U))return z.value;return Y}}}else throw n1(J,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+$)}class bo{constructor(J){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=J}setRegex(J,$){let Q;if(typeof $==="string")Q=$;else if($ instanceof RegExp)Q=$.source;else throw n1(J,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=Q.length>0&&Q[0]==="^",this.name=this.name+": "+Q,this.regex=Oy(J,"^(?:"+(this.matchOnlyAtLineStart?Q.substr(1):Q)+")")}setAction(J,$){this.action=Ny(J,this.name,$)}}function Ty(J,$){if(!$||typeof $!=="object")throw new Error("Monarch: expecting a language definition object");let Q={};Q.languageId=J,Q.includeLF=QR($.includeLF,!1),Q.noThrow=!1,Q.maxStack=100,Q.start=typeof $.start==="string"?$.start:null,Q.ignoreCase=QR($.ignoreCase,!1),Q.unicode=QR($.unicode,!1),Q.tokenPostfix=yo($.tokenPostfix,"."+Q.languageId),Q.defaultToken=yo($.defaultToken,"source"),Q.usesEmbedded=!1;let X=$;X.languageId=J,X.includeLF=Q.includeLF,X.ignoreCase=Q.ignoreCase,X.unicode=Q.unicode,X.noThrow=Q.noThrow,X.usesEmbedded=Q.usesEmbedded,X.stateNames=$.tokenizer,X.defaultToken=Q.defaultToken;function Y(G,q,U){for(let z of U){let H=z.include;if(H){if(typeof H!=="string")throw n1(Q,"an 'include' attribute must be a string at: "+G);if(H[0]==="@")H=H.substr(1);if(!$.tokenizer[H])throw n1(Q,"include target '"+H+"' is not defined at: "+G);Y(G+"."+H,q,$.tokenizer[H])}else{let j=new bo(G);if(Array.isArray(z)&&z.length>=1&&z.length<=3)if(j.setRegex(X,z[0]),z.length>=3)if(typeof z[1]==="string")j.setAction(X,{token:z[1],next:z[2]});else if(typeof z[1]==="object"){let V=z[1];V.next=z[2],j.setAction(X,V)}else throw n1(Q,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+G);else j.setAction(X,z[1]);else{if(!z.regex)throw n1(Q,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+G);if(z.name){if(typeof z.name==="string")j.name=z.name}if(z.matchOnlyAtStart)j.matchOnlyAtLineStart=QR(z.matchOnlyAtLineStart,!1);j.setRegex(X,z.regex),j.setAction(X,z.action)}q.push(j)}}}if(!$.tokenizer||typeof $.tokenizer!=="object")throw n1(Q,"a language definition must define the 'tokenizer' attribute as an object");Q.tokenizer=[];for(let G in $.tokenizer)if($.tokenizer.hasOwnProperty(G)){if(!Q.start)Q.start=G;let q=$.tokenizer[G];Q.tokenizer[G]=new Array,Y("tokenizer."+G,Q.tokenizer[G],q)}if(Q.usesEmbedded=X.usesEmbedded,$.brackets){if(!Array.isArray($.brackets))throw n1(Q,"the 'brackets' attribute must be defined as an array")}else $.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let Z=[];for(let G of $.brackets){let q=G;if(q&&Array.isArray(q)&&q.length===3)q={token:q[2],open:q[0],close:q[1]};if(q.open===q.close)throw n1(Q,"open and close brackets in a 'brackets' attribute must be different: "+q.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof q.open==="string"&&typeof q.token==="string"&&typeof q.close==="string")Z.push({token:q.token+Q.tokenPostfix,open:B$(Q,q.open),close:B$(Q,q.close)});else throw n1(Q,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return Q.brackets=Z,Q.noThrow=!0,Q}var So=()=>{};function zQ0(J){eX.registerLanguage(J)}function HQ0(){let J=[];return J=J.concat(eX.getLanguages()),J}function jQ0(J){return y0.get(e1).languageIdCodec.encodeLanguageId(J)}function VQ0(J,$){return y0.withServices(()=>{let X=y0.get(e1).onDidRequestRichLanguageFeatures((Y)=>{if(Y===J)X.dispose(),$()});return X})}function WQ0(J,$){return y0.withServices(()=>{let X=y0.get(e1).onDidRequestBasicLanguageFeatures((Y)=>{if(Y===J)X.dispose(),$()});return X})}function BQ0(J,$){if(!y0.get(e1).isRegisteredLanguageId(J))throw new Error(`Cannot set configuration for unknown language ${J}`);return y0.get(_6).register(J,$,100)}class Co{constructor(J,$){this._languageId=J,this._actual=$}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(J,$,Q){if(typeof this._actual.tokenize==="function")return pV.adaptTokenize(this._languageId,this._actual,J,Q);throw new Error("Not supported!")}tokenizeEncoded(J,$,Q){let X=this._actual.tokenizeEncoded(J,Q);return new uX(X.tokens,X.endState)}}class pV{constructor(J,$,Q,X){this._languageId=J,this._actual=$,this._languageService=Q,this._standaloneThemeService=X}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(J,$){let Q=[],X=0;for(let Y=0,Z=J.length;Y<Z;Y++){let G=J[Y],q=G.startIndex;if(Y===0)q=0;else if(q<X)q=X;Q[Y]=new $$(q,G.scopes,$),X=q}return Q}static adaptTokenize(J,$,Q,X){let Y=$.tokenize(Q,X),Z=pV._toClassicTokens(Y.tokens,J),G;if(Y.endState.equals(X))G=X;else G=Y.endState;return new bZ(Z,G)}tokenize(J,$,Q){return pV.adaptTokenize(this._languageId,this._actual,J,Q)}_toBinaryTokens(J,$){let Q=J.encodeLanguageId(this._languageId),X=this._standaloneThemeService.getColorTheme().tokenTheme,Y=[],Z=0,G=0;for(let U=0,z=$.length;U<z;U++){let H=$[U],j=X.match(Q,H.scopes)|1024;if(Z>0&&Y[Z-1]===j)continue;let V=H.startIndex;if(U===0)V=0;else if(V<G)V=G;Y[Z++]=V,Y[Z++]=j,G=V}let q=new Uint32Array(Z);for(let U=0;U<Z;U++)q[U]=Y[U];return q}tokenizeEncoded(J,$,Q){let X=this._actual.tokenize(J,Q),Y=this._toBinaryTokens(this._languageService.languageIdCodec,X.tokens),Z;if(X.endState.equals(Q))Z=Q;else Z=X.endState;return new uX(Y,Z)}}function FQ0(J){return typeof J.getInitialState==="function"}function KQ0(J){return"tokenizeEncoded"in J}function vo(J){return J&&typeof J.then==="function"}function AQ0(J){let $=y0.get(O7);if(J){let Q=[null];for(let X=1,Y=J.length;X<Y;X++)Q[X]=l.fromHex(J[X]);$.setColorMapOverride(Q)}else $.setColorMapOverride(null)}function ho(J,$){if(KQ0($))return new Co(J,$);else return new pV(J,$,y0.get(e1),y0.get(O7))}function wy(J,$){let Q=new DM(async()=>{let X=await Promise.resolve($.create());if(!X)return null;if(FQ0(X))return ho(J,X);return new P2(y0.get(e1),y0.get(O7),J,Ty(J,X),y0.get(y1))});return c1.registerFactory(J,Q)}function PQ0(J,$){if(!y0.get(e1).isRegisteredLanguageId(J))throw new Error(`Cannot set tokens provider for unknown language ${J}`);if(vo($))return wy(J,{create:()=>$});return c1.register(J,ho(J,$))}function DQ0(J,$){let Q=(X)=>{return new P2(y0.get(e1),y0.get(O7),J,Ty(J,X),y0.get(y1))};if(vo($))return wy(J,{create:()=>$});return c1.register(J,Q($))}function RQ0(J,$){return y0.get(F1).referenceProvider.register(J,$)}function MQ0(J,$){return y0.get(F1).renameProvider.register(J,$)}function _Q0(J,$){return y0.get(F1).signatureHelpProvider.register(J,$)}function OQ0(J,$){return y0.get(F1).hoverProvider.register(J,{provideHover:(X,Y,Z)=>{let G=X.getWordAtPosition(Y);return Promise.resolve($.provideHover(X,Y,Z)).then((q)=>{if(!q)return;if(!q.range&&G)q.range=new L(Y.lineNumber,G.startColumn,Y.lineNumber,G.endColumn);if(!q.range)q.range=new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return q})}})}function NQ0(J,$){return y0.get(F1).documentSymbolProvider.register(J,$)}function TQ0(J,$){return y0.get(F1).documentHighlightProvider.register(J,$)}function wQ0(J,$){return y0.get(F1).linkedEditingRangeProvider.register(J,$)}function LQ0(J,$){return y0.get(F1).definitionProvider.register(J,$)}function kQ0(J,$){return y0.get(F1).implementationProvider.register(J,$)}function EQ0(J,$){return y0.get(F1).typeDefinitionProvider.register(J,$)}function IQ0(J,$){return y0.get(F1).codeLensProvider.register(J,$)}function yQ0(J,$,Q){return y0.get(F1).codeActionProvider.register(J,{providedCodeActionKinds:Q===null||Q===void 0?void 0:Q.providedCodeActionKinds,documentation:Q===null||Q===void 0?void 0:Q.documentation,provideCodeActions:(Y,Z,G,q)=>{let z=y0.get(SJ).read({resource:Y.uri}).filter((H)=>{return L.areIntersectingOrTouching(H,Z)});return $.provideCodeActions(Y,Z,{markers:z,only:G.only,trigger:G.trigger},q)},resolveCodeAction:$.resolveCodeAction})}function xQ0(J,$){return y0.get(F1).documentFormattingEditProvider.register(J,$)}function bQ0(J,$){return y0.get(F1).documentRangeFormattingEditProvider.register(J,$)}function SQ0(J,$){return y0.get(F1).onTypeFormattingEditProvider.register(J,$)}function CQ0(J,$){return y0.get(F1).linkProvider.register(J,$)}function vQ0(J,$){return y0.get(F1).completionProvider.register(J,$)}function hQ0(J,$){return y0.get(F1).colorProvider.register(J,$)}function fQ0(J,$){return y0.get(F1).foldingRangeProvider.register(J,$)}function gQ0(J,$){return y0.get(F1).declarationProvider.register(J,$)}function pQ0(J,$){return y0.get(F1).selectionRangeProvider.register(J,$)}function mQ0(J,$){return y0.get(F1).documentSemanticTokensProvider.register(J,$)}function uQ0(J,$){return y0.get(F1).documentRangeSemanticTokensProvider.register(J,$)}function cQ0(J,$){return y0.get(F1).inlineCompletionsProvider.register(J,$)}function lQ0(J,$){return y0.get(F1).inlayHintsProvider.register(J,$)}function fo(){return{register:zQ0,getLanguages:HQ0,onLanguage:VQ0,onLanguageEncountered:WQ0,getEncodedLanguageId:jQ0,setLanguageConfiguration:BQ0,setColorMap:AQ0,registerTokensProviderFactory:wy,setTokensProvider:PQ0,setMonarchTokensProvider:DQ0,registerReferenceProvider:RQ0,registerRenameProvider:MQ0,registerCompletionItemProvider:vQ0,registerSignatureHelpProvider:_Q0,registerHoverProvider:OQ0,registerDocumentSymbolProvider:NQ0,registerDocumentHighlightProvider:TQ0,registerLinkedEditingRangeProvider:wQ0,registerDefinitionProvider:LQ0,registerImplementationProvider:kQ0,registerTypeDefinitionProvider:EQ0,registerCodeLensProvider:IQ0,registerCodeActionProvider:yQ0,registerDocumentFormattingEditProvider:xQ0,registerDocumentRangeFormattingEditProvider:bQ0,registerOnTypeFormattingEditProvider:SQ0,registerLinkProvider:CQ0,registerColorProvider:hQ0,registerFoldingRangeProvider:fQ0,registerDeclarationProvider:gQ0,registerSelectionRangeProvider:pQ0,registerDocumentSemanticTokensProvider:mQ0,registerDocumentRangeSemanticTokensProvider:uQ0,registerInlineCompletionsProvider:cQ0,registerInlayHintsProvider:lQ0,DocumentHighlightKind:oW,CompletionItemKind:dW,CompletionItemTag:sW,CompletionItemInsertTextRule:lW,SymbolKind:_B,SymbolTag:OB,IndentAction:XB,CompletionTriggerKind:aW,SignatureHelpTriggerKind:MB,InlayHintKind:ZB,InlineCompletionTriggerKind:GB,CodeActionTriggerType:cW,FoldingRangeKind:A8,SelectedSuggestionInfo:PM}}var go=N(()=>{g7();l0();P8();h8();T4();v9();kB();CD();So();yO();VV();s3();l9();v8()});var Ly,po,ky;var mo=N(()=>{b9();m1();e5();T9();u0();h9();g0();Ly=M0("IEditorCancelService"),po=new H0("cancellableOperation",!1,F("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));H1(Ly,class{constructor(){this._tokens=new WeakMap}add(J,$){let Q=this._tokens.get(J);if(!Q)Q=J.invokeWithinContext((Y)=>{let Z=po.bindTo(Y.get(h0)),G=new k6;return{key:Z,tokens:G}}),this._tokens.set(J,Q);let X;return Q.key.set(!0),X=Q.tokens.push($),()=>{if(X)X(),Q.key.set(!Q.tokens.isEmpty()),X=void 0}}cancel(J){let $=this._tokens.get(J);if(!$)return;let Q=$.tokens.pop();if(Q)Q.cancel(),$.key.set(!$.tokens.isEmpty())}},1);ky=class ky extends q5{constructor(J,$){super($);this.editor=J,this._unregister=J.invokeWithinContext((Q)=>Q.get(Ly).add(J,this))}dispose(){this._unregister(),super.dispose()}};w0(new class extends S7{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:po})}runEditorCommand(J,$){J.get(Ly).cancel($)}})});var XR,YR;var uo=N(()=>{t0();l0();e5();Q0();mo();XR=class XR extends ky{constructor(J,$,Q,X){super(J,X);if(this._listener=new r,$&4)this._listener.add(J.onDidChangeCursorPosition((Y)=>{if(!Q||!L.containsPosition(Q,Y.position))this.cancel()}));if($&2)this._listener.add(J.onDidChangeCursorSelection((Y)=>{if(!Q||!L.containsRange(Q,Y.selection))this.cancel()}));if($&8)this._listener.add(J.onDidScrollChange((Y)=>this.cancel()));if($&1)this._listener.add(J.onDidChangeModel((Y)=>this.cancel())),this._listener.add(J.onDidChangeModelContent((Y)=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}};YR=class YR extends q5{constructor(J,$){super($);this._listener=J.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}});function _G(J){if(J&&typeof J.getEditorType==="function")return J.getEditorType()===ZY.ICodeEditor;else return!1}var co=N(()=>{tz()});class JZ{static _handleEolEdits(J,$){let Q=void 0,X=[];for(let Y of $){if(typeof Y.eol==="number")Q=Y.eol;if(Y.range&&typeof Y.text==="string")X.push(Y)}if(typeof Q==="number"){if(J.hasModel())J.getModel().pushEOL(Q)}return X}static _isFullModelReplaceEdit(J,$){if(!J.hasModel())return!1;let Q=J.getModel(),X=Q.validateRange($.range);return Q.getFullModelRange().equalsRange(X)}static execute(J,$,Q){if(Q)J.pushUndoStop();let X=g4.capture(J),Y=JZ._handleEolEdits(J,$);if(Y.length===1&&JZ._isFullModelReplaceEdit(J,Y[0]))J.executeEdits("formatEditsCommand",Y.map((Z)=>r9.replace(L.lift(Z.range),Z.text)));else J.executeEdits("formatEditsCommand",Y.map((Z)=>r9.replaceMove(L.lift(Z.range),Z.text)));if(Q)J.pushUndoStop();X.restoreRelativeVerticalPositionOfCursor(J)}}var Ey=N(()=>{Mj();l0()});class Iy{constructor(J){this.value=J,this._lower=J.toLowerCase()}static toKey(J){if(typeof J==="string")return J.toLowerCase();return J._lower}}class yy{constructor(J){if(this._set=new Set,J)for(let $ of J)this.add($)}add(J){this._set.add(Iy.toKey(J))}has(J){return this._set.has(Iy.toKey(J))}}function lo(J,$,Q){let X=[],Y=new yy,Z=J.ordered(Q);for(let q of Z)if(X.push(q),q.extensionId)Y.add(q.extensionId);let G=$.ordered(Q);for(let q of G){if(q.extensionId){if(Y.has(q.extensionId))continue;Y.add(q.extensionId)}X.push({displayName:q.displayName,extensionId:q.extensionId,provideDocumentFormattingEdits(U,z,H){return q.provideDocumentRangeFormattingEdits(U,U.getFullModelRange(),z,H)}})}return X}class $Z{static setFormatterSelector(J){return{dispose:$Z._selectors.unshift(J)}}static async select(J,$,Q,X){if(J.length===0)return;let Y=W1.first($Z._selectors);if(Y)return await Y(J,$,Q,X);return}}async function xy(J,$,Q,X,Y,Z,G){let q=J.get(p0),{documentRangeFormattingEditProvider:U}=J.get(F1),z=_G($)?$.getModel():$,H=U.ordered(z),j=await $Z.select(H,z,X,2);if(j)Y.report(j),await q.invokeFunction(dQ0,j,$,Q,Z,G)}async function dQ0(J,$,Q,X,Y,Z){var G,q;let U=J.get(A9),z=J.get(Q5),H=J.get(n9),j,V;if(_G(Q))j=Q.getModel(),V=new XR(Q,5,void 0,Y);else j=Q,V=new YR(Q,Y);let W=[],B=0;for(let R of yx(X).sort(L.compareRangesUsingStarts))if(B>0&&L.areIntersectingOrTouching(W[B-1],R))W[B-1]=L.fromPositions(W[B-1].getStartPosition(),R.getEndPosition());else B=W.push(R);let K=async(R)=>{var M,_;z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(M=$.extensionId)===null||M===void 0?void 0:M.value,R);let T=await $.provideDocumentRangeFormattingEdits(j,R,j.getFormattingOptions(),V.token)||[];return z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(_=$.extensionId)===null||_===void 0?void 0:_.value,T),T},P=(R,M)=>{if(!R.length||!M.length)return!1;let _=R.reduce((T,w)=>{return L.plusRange(T,w.range)},R[0].range);if(!M.some((T)=>{return L.intersectRanges(_,T.range)}))return!1;for(let T of R)for(let w of M)if(L.intersectRanges(T.range,w.range))return!0;return!1},A=[],D=[];try{if(typeof $.provideDocumentRangesFormattingEdits==="function"){z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(G=$.extensionId)===null||G===void 0?void 0:G.value,W);let R=await $.provideDocumentRangesFormattingEdits(j,W,j.getFormattingOptions(),V.token)||[];z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(q=$.extensionId)===null||q===void 0?void 0:q.value,R),D.push(R)}else{for(let R of W){if(V.token.isCancellationRequested)return!0;D.push(await K(R))}for(let R=0;R<W.length;++R)for(let M=R+1;M<W.length;++M){if(V.token.isCancellationRequested)return!0;if(P(D[R],D[M])){let _=L.plusRange(W[R],W[M]),T=await K(_);W.splice(M,1),W.splice(R,1),W.push(_),D.splice(M,1),D.splice(R,1),D.push(T),R=0,M=0}}}for(let R of D){if(V.token.isCancellationRequested)return!0;let M=await U.computeMoreMinimalEdits(j.uri,R);if(M)A.push(...M)}}finally{V.dispose()}if(A.length===0)return!1;if(_G(Q))JZ.execute(Q,A,!0),Q.revealPositionInCenterIfOutsideViewport(Q.getPosition(),1);else{let[{range:R}]=A,M=new v0(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn);j.pushEditOperations([M],A.map((_)=>{return{text:_.text,range:L.lift(_.range),forceMoveMarkers:!0}}),(_)=>{for(let{range:T}of _)if(L.areIntersectingOrTouching(T,M))return[new v0(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn)];return null})}return H.playAudioCue(Q1.format,{userGesture:Z}),!0}async function so(J,$,Q,X,Y,Z){let G=J.get(p0),q=J.get(F1),U=_G($)?$.getModel():$,z=lo(q.documentFormattingEditProvider,q.documentRangeFormattingEditProvider,U),H=await $Z.select(z,U,Q,1);if(H)X.report(H),await G.invokeFunction(sQ0,H,$,Q,Y,Z)}async function sQ0(J,$,Q,X,Y,Z){let G=J.get(A9),q=J.get(n9),U,z;if(_G(Q))U=Q.getModel(),z=new XR(Q,5,void 0,Y);else U=Q,z=new YR(Q,Y);let H;try{let j=await $.provideDocumentFormattingEdits(U,U.getFormattingOptions(),z.token);if(H=await G.computeMoreMinimalEdits(U.uri,j),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!H||H.length===0)return!1;if(_G(Q)){if(JZ.execute(Q,H,X!==2),X!==2)Q.revealPositionInCenterIfOutsideViewport(Q.getPosition(),1)}else{let[{range:j}]=H,V=new v0(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);U.pushEditOperations([V],H.map((W)=>{return{text:W.text,range:L.lift(W.range),forceMoveMarkers:!0}}),(W)=>{for(let{range:B}of W)if(L.areIntersectingOrTouching(B,V))return[new v0(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn)];return null})}return q.playAudioCue(Q1.format,{userGesture:Z}),!0}async function aQ0(J,$,Q,X,Y,Z){let G=$.documentRangeFormattingEditProvider.ordered(Q);for(let q of G){let U=await Promise.resolve(q.provideDocumentRangeFormattingEdits(Q,X,Y,Z)).catch(tJ);if(_9(U))return await J.computeMoreMinimalEdits(Q.uri,U)}return}async function rQ0(J,$,Q,X,Y){let Z=lo($.documentFormattingEditProvider,$.documentRangeFormattingEditProvider,Q);for(let G of Z){let q=await Promise.resolve(G.provideDocumentFormattingEdits(Q,X,Y)).catch(tJ);if(_9(q))return await J.computeMoreMinimalEdits(Q.uri,q)}return}function by(J,$,Q,X,Y,Z,G){let q=$.onTypeFormattingEditProvider.ordered(Q);if(q.length===0)return Promise.resolve(void 0);if(q[0].autoFormatTriggerCharacters.indexOf(Y)<0)return Promise.resolve(void 0);return Promise.resolve(q[0].provideOnTypeFormattingEdits(Q,X,Y,Z,G)).catch(tJ).then((U)=>{return J.computeMoreMinimalEdits(Q.uri,U)})}var Sy=N(()=>{U1();e5();P1();N9();T9();o6();uo();co();l0();E5();d3();qz();Ey();e8();u0();l9();G9();KG();$Z._selectors=new k6;z6.registerCommand("_executeFormatRangeProvider",async function(J,...$){let[Q,X,Y]=$;Z5(I0.isUri(Q)),Z5(L.isIRange(X));let Z=J.get(OQ),G=J.get(A9),q=J.get(F1),U=await Z.createModelReference(Q);try{return aQ0(G,q,U.object.textEditorModel,L.lift(X),Y,n6.None)}finally{U.dispose()}});z6.registerCommand("_executeFormatDocumentProvider",async function(J,...$){let[Q,X]=$;Z5(I0.isUri(Q));let Y=J.get(OQ),Z=J.get(A9),G=J.get(F1),q=await Y.createModelReference(Q);try{return rQ0(Z,G,q.object.textEditorModel,X,n6.None)}finally{q.dispose()}});z6.registerCommand("_executeFormatOnTypeProvider",async function(J,...$){let[Q,X,Y,Z]=$;Z5(I0.isUri(Q)),Z5(v.isIPosition(X)),Z5(typeof Y==="string");let G=J.get(OQ),q=J.get(A9),U=J.get(F1),z=await G.createModelReference(Q);try{return by(q,U,z.object.textEditorModel,v.lift(X),Y,Z,n6.None)}finally{z.dispose()}})});var e9={};DZ(e9,{languages:()=>mV,editor:()=>QZ,Uri:()=>hy,Token:()=>YX0,SelectionDirection:()=>$X0,Selection:()=>JX0,Range:()=>eQ0,Position:()=>tQ0,MarkerTag:()=>XX0,MarkerSeverity:()=>QX0,KeyMod:()=>oQ0,KeyCode:()=>nQ0,Emitter:()=>vy,CancellationTokenSource:()=>iQ0});var U7,iQ0,vy,nQ0,oQ0,tQ0,eQ0,JX0,$X0,QX0,XX0,hy,YX0,QZ,mV,Cy;var uJ=N(()=>{t5();_M();Io();go();Sy();o4.wrappingIndent.defaultValue=0;o4.glyphMargin.defaultValue=!1;o4.autoIndent.defaultValue=3;o4.overviewRulerLanes.defaultValue=2;$Z.setFormatterSelector((J,$,Q)=>Promise.resolve(J[0]));U7=EB();U7.editor=Eo();U7.languages=fo();iQ0=U7.CancellationTokenSource,vy=U7.Emitter,nQ0=U7.KeyCode,oQ0=U7.KeyMod,tQ0=U7.Position,eQ0=U7.Range,JX0=U7.Selection,$X0=U7.SelectionDirection,QX0=U7.MarkerSeverity,XX0=U7.MarkerTag,hy=U7.Uri,YX0=U7.Token,QZ=U7.editor,mV=U7.languages,Cy=globalThis.MonacoEnvironment;if((Cy===null||Cy===void 0?void 0:Cy.globalAPI)||typeof define==="function"&&define.amd)globalThis.monaco=U7;if(typeof globalThis.require!=="undefined"&&typeof globalThis.require.config==="function")globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var ne={};DZ(ne,{toTextEdit:()=>yU,toRange:()=>L7,setupMode:()=>xY0,getWorker:()=>IY0,fromRange:()=>Ax,fromPosition:()=>VZ,WorkerManager:()=>Se,SelectionRangeAdapter:()=>ae,RenameAdapter:()=>VY0,ReferenceAdapter:()=>jY0,HoverAdapter:()=>he,FoldingRangeAdapter:()=>se,DocumentSymbolAdapter:()=>ge,DocumentRangeFormattingEditProvider:()=>ce,DocumentLinkAdapter:()=>FY0,DocumentHighlightAdapter:()=>UY0,DocumentFormattingEditProvider:()=>ue,DocumentColorAdapter:()=>de,DiagnosticsAdapter:()=>Ce,DefinitionAdapter:()=>HY0,CompletionAdapter:()=>ve});function $Y0(J){switch(J){case EU.Error:return v1.MarkerSeverity.Error;case EU.Warning:return v1.MarkerSeverity.Warning;case EU.Information:return v1.MarkerSeverity.Info;case EU.Hint:return v1.MarkerSeverity.Hint;default:return v1.MarkerSeverity.Info}}function QY0(J,$){let Q=typeof $.code==="number"?String($.code):$.code;return{severity:$Y0($.severity),startLineNumber:$.range.start.line+1,startColumn:$.range.start.character+1,endLineNumber:$.range.end.line+1,endColumn:$.range.end.character+1,message:$.message,code:Q,source:$.source}}function VZ(J){if(!J)return;return{character:J.column-1,line:J.lineNumber-1}}function Ax(J){if(!J)return;return{start:{line:J.startLineNumber-1,character:J.startColumn-1},end:{line:J.endLineNumber-1,character:J.endColumn-1}}}function L7(J){if(!J)return;return new v1.Range(J.start.line+1,J.start.character+1,J.end.line+1,J.end.character+1)}function XY0(J){return typeof J.insert!=="undefined"&&typeof J.replace!=="undefined"}function YY0(J){let $=v1.languages.CompletionItemKind;switch(J){case V8.Text:return $.Text;case V8.Method:return $.Method;case V8.Function:return $.Function;case V8.Constructor:return $.Constructor;case V8.Field:return $.Field;case V8.Variable:return $.Variable;case V8.Class:return $.Class;case V8.Interface:return $.Interface;case V8.Module:return $.Module;case V8.Property:return $.Property;case V8.Unit:return $.Unit;case V8.Value:return $.Value;case V8.Enum:return $.Enum;case V8.Keyword:return $.Keyword;case V8.Snippet:return $.Snippet;case V8.Color:return $.Color;case V8.File:return $.File;case V8.Reference:return $.Reference}return $.Property}function yU(J){if(!J)return;return{range:L7(J.range),text:J.newText}}function ZY0(J){return J&&J.command==="editor.action.triggerSuggest"?{id:J.command,title:J.title,arguments:J.arguments}:void 0}function GY0(J){return J&&typeof J==="object"&&typeof J.kind==="string"}function Ee(J){if(typeof J==="string")return{value:J};if(GY0(J)){if(J.kind==="plaintext")return{value:J.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")};return{value:J.value}}return{value:"```"+J.language+`
`+J.value+"\n```\n"}}function qY0(J){if(!J)return;if(Array.isArray(J))return J.map(Ee);return[Ee(J)]}function zY0(J){switch(J){case ZW.Read:return v1.languages.DocumentHighlightKind.Read;case ZW.Write:return v1.languages.DocumentHighlightKind.Write;case ZW.Text:return v1.languages.DocumentHighlightKind.Text}return v1.languages.DocumentHighlightKind.Text}function fe(J){return{uri:v1.Uri.parse(J.uri),range:L7(J.range)}}function WY0(J){if(!J||!J.changes)return;let $=[];for(let Q in J.changes){let X=v1.Uri.parse(Q);for(let Y of J.changes[Q])$.push({resource:X,versionId:void 0,textEdit:{range:L7(Y.range),text:Y.newText}})}return{edits:$}}function BY0(J){return"children"in J}function pe(J){return{name:J.name,detail:J.detail??"",kind:me(J.kind),range:L7(J.range),selectionRange:L7(J.selectionRange),tags:J.tags??[],children:(J.children??[]).map(($)=>pe($))}}function me(J){let $=v1.languages.SymbolKind;switch(J){case W8.File:return $.File;case W8.Module:return $.Module;case W8.Namespace:return $.Namespace;case W8.Package:return $.Package;case W8.Class:return $.Class;case W8.Method:return $.Method;case W8.Property:return $.Property;case W8.Field:return $.Field;case W8.Constructor:return $.Constructor;case W8.Enum:return $.Enum;case W8.Interface:return $.Interface;case W8.Function:return $.Function;case W8.Variable:return $.Variable;case W8.Constant:return $.Constant;case W8.String:return $.String;case W8.Number:return $.Number;case W8.Boolean:return $.Boolean;case W8.Array:return $.Array}return $.Function}function le(J){return{tabSize:J.tabSize,insertSpaces:J.insertSpaces}}function KY0(J){switch(J){case YW.Comment:return v1.languages.FoldingRangeKind.Comment;case YW.Imports:return v1.languages.FoldingRangeKind.Imports;case YW.Region:return v1.languages.FoldingRangeKind.Region}return}function AY0(J,$){if($===void 0)$=!1;var Q=J.length,X=0,Y="",Z=0,G=16,q=0,U=0,z=0,H=0,j=0;function V(R,M){var _=0,T=0;while(_<R||!M){var w=J.charCodeAt(X);if(w>=48&&w<=57)T=T*16+w-48;else if(w>=65&&w<=70)T=T*16+w-65+10;else if(w>=97&&w<=102)T=T*16+w-97+10;else break;X++,_++}if(_<R)T=-1;return T}function W(R){X=R,Y="",Z=0,G=16,j=0}function B(){var R=X;if(J.charCodeAt(X)===48)X++;else{X++;while(X<J.length&&kU(J.charCodeAt(X)))X++}if(X<J.length&&J.charCodeAt(X)===46)if(X++,X<J.length&&kU(J.charCodeAt(X))){X++;while(X<J.length&&kU(J.charCodeAt(X)))X++}else return j=3,J.substring(R,X);var M=X;if(X<J.length&&(J.charCodeAt(X)===69||J.charCodeAt(X)===101)){if(X++,X<J.length&&J.charCodeAt(X)===43||J.charCodeAt(X)===45)X++;if(X<J.length&&kU(J.charCodeAt(X))){X++;while(X<J.length&&kU(J.charCodeAt(X)))X++;M=X}else j=3}return J.substring(R,M)}function K(){var R="",M=X;while(!0){if(X>=Q){R+=J.substring(M,X),j=2;break}var _=J.charCodeAt(X);if(_===34){R+=J.substring(M,X),X++;break}if(_===92){if(R+=J.substring(M,X),X++,X>=Q){j=2;break}var T=J.charCodeAt(X++);switch(T){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="\t";break;case 117:var w=V(4,!0);if(w>=0)R+=String.fromCharCode(w);else j=4;break;default:j=5}M=X;continue}if(_>=0&&_<=31)if(QW(_)){R+=J.substring(M,X),j=2;break}else j=6;X++}return R}function P(){if(Y="",j=0,Z=X,U=q,H=z,X>=Q)return Z=Q,G=17;var R=J.charCodeAt(X);if(Hx(R)){do X++,Y+=String.fromCharCode(R),R=J.charCodeAt(X);while(Hx(R));return G=15}if(QW(R)){if(X++,Y+=String.fromCharCode(R),R===13&&J.charCodeAt(X)===10)X++,Y+=`
`;return q++,z=X,G=14}switch(R){case 123:return X++,G=1;case 125:return X++,G=2;case 91:return X++,G=3;case 93:return X++,G=4;case 58:return X++,G=6;case 44:return X++,G=5;case 34:return X++,Y=K(),G=10;case 47:var M=X-1;if(J.charCodeAt(X+1)===47){X+=2;while(X<Q){if(QW(J.charCodeAt(X)))break;X++}return Y=J.substring(M,X),G=12}if(J.charCodeAt(X+1)===42){X+=2;var _=Q-1,T=!1;while(X<_){var w=J.charCodeAt(X);if(w===42&&J.charCodeAt(X+1)===47){X+=2,T=!0;break}if(X++,QW(w)){if(w===13&&J.charCodeAt(X)===10)X++;q++,z=X}}if(!T)X++,j=1;return Y=J.substring(M,X),G=13}return Y+=String.fromCharCode(R),X++,G=16;case 45:if(Y+=String.fromCharCode(R),X++,X===Q||!kU(J.charCodeAt(X)))return G=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Y+=B(),G=11;default:while(X<Q&&A(R))X++,R=J.charCodeAt(X);if(Z!==X){switch(Y=J.substring(Z,X),Y){case"true":return G=8;case"false":return G=9;case"null":return G=7}return G=16}return Y+=String.fromCharCode(R),X++,G=16}}function A(R){if(Hx(R)||QW(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function D(){var R;do R=P();while(R>=12&&R<=15);return R}return{setPosition:W,getPosition:function(){return X},scan:$?D:P,getToken:function(){return G},getTokenValue:function(){return Y},getTokenOffset:function(){return Z},getTokenLength:function(){return X-Z},getTokenStartLine:function(){return U},getTokenStartCharacter:function(){return Z-H},getTokenError:function(){return j}}}function Hx(J){return J===32||J===9||J===11||J===12||J===160||J===5760||J>=8192&&J<=8203||J===8239||J===8287||J===12288||J===65279}function QW(J){return J===10||J===13||J===8232||J===8233}function kU(J){return J>=48&&J<=57}function DY0(J){return{getInitialState:()=>new re(null,null,!1,null),tokenize:($,Q)=>EY0(J,$,Q)}}function EY0(J,$,Q,X=0){let Y=0,Z=!1;switch(Q.scanError){case 2:$='"'+$,Y=1;break;case 1:$="/*"+$,Y=2;break}let G=PY0($),q=Q.lastWasColon,U=Q.parents,z={tokens:[],endState:Q.clone()};while(!0){let H=X+G.getPosition(),j="",V=G.scan();if(V===17)break;if(H===X+G.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+$.substr(G.getPosition(),3));if(Z)H-=Y;switch(Z=Y>0,V){case 1:U=XW.push(U,0),j=ye,q=!1;break;case 2:U=XW.pop(U),j=ye,q=!1;break;case 3:U=XW.push(U,1),j=xe,q=!1;break;case 4:U=XW.pop(U),j=xe,q=!1;break;case 6:j=RY0,q=!0;break;case 5:j=MY0,q=!1;break;case 8:case 9:j=_Y0,q=!1;break;case 7:j=OY0,q=!1;break;case 10:let B=(U?U.type:0)===1;j=q||B?NY0:wY0,q=!1;break;case 11:j=TY0,q=!1;break}if(J)switch(V){case 12:j=kY0;break;case 13:j=LY0;break}z.endState=new re(Q.getStateData(),G.getTokenError(),q,U),z.tokens.push({startIndex:H,scopes:j})}return z}function IY0(){return new Promise((J,$)=>{if(!d4)return $("JSON not registered!");J(d4)})}function xY0(J){let $=[],Q=[],X=new Se(J);$.push(X),d4=(...G)=>{return X.getLanguageServiceWorker(...G)};function Y(){let{languageId:G,modeConfiguration:q}=J;if(ie(Q),q.documentFormattingEdits)Q.push(v1.languages.registerDocumentFormattingEditProvider(G,new ue(d4)));if(q.documentRangeFormattingEdits)Q.push(v1.languages.registerDocumentRangeFormattingEditProvider(G,new ce(d4)));if(q.completionItems)Q.push(v1.languages.registerCompletionItemProvider(G,new ve(d4,[" ",":",'"'])));if(q.hovers)Q.push(v1.languages.registerHoverProvider(G,new he(d4)));if(q.documentSymbols)Q.push(v1.languages.registerDocumentSymbolProvider(G,new ge(d4)));if(q.tokens)Q.push(v1.languages.setTokensProvider(G,DY0(!0)));if(q.colors)Q.push(v1.languages.registerColorProvider(G,new de(d4)));if(q.foldingRanges)Q.push(v1.languages.registerFoldingRangeProvider(G,new se(d4)));if(q.diagnostics)Q.push(new yY0(G,d4,J));if(q.selectionRanges)Q.push(v1.languages.registerSelectionRangeProvider(G,new ae(d4)))}Y(),$.push(v1.languages.setLanguageConfiguration(J.languageId,bY0));let Z=J.modeConfiguration;return J.onDidChange((G)=>{if(G.modeConfiguration!==Z)Z=G.modeConfiguration,Y()}),$.push(be(Q)),be($)}function be(J){return{dispose:()=>ie(J)}}function ie(J){while(J.length)J.pop().dispose()}var rX0,iX0,nX0,oX0,ot=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of nX0($))if(!oX0.call(J,Y)&&Y!==Q)rX0(J,Y,{get:()=>$[Y],enumerable:!(X=iX0($,Y))||X.enumerable})}return J},tX0=(J,$,Q)=>(ot(J,$,"default"),Q&&ot(Q,$,"default")),v1,eX0=120000,Se=class{constructor(J){this._defaults=J,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){if(this._worker)this._worker.dispose(),this._worker=null;this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;if(Date.now()-this._lastUsedTime>eX0)this._stopWorker()}_getClient(){if(this._lastUsedTime=Date.now(),!this._client)this._worker=v1.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy();return this._client}getLanguageServiceWorker(...J){let $;return this._getClient().then((Q)=>{$=Q}).then((Q)=>{if(this._worker)return this._worker.withSyncedResources(J)}).then((Q)=>$)}},tt,bR,YQ,H7,jx,et,Vx,Je,$e,YW,Qe,Wx,EU,Xe,Ye,SR,GW,jZ,IU,w7,HZ,CR,qW,UW,zW,Bx,xR,Ze,xX1,Ge,qe,vR,Ue,HW,Fx,V8,Kx,ze,He,je,Ve,We,hR,Be,Fe,Ke,ZW,Ae,W8,Pe,De,Re,Me,_e,Oe,Ne,Te,we,Le,ke,JY0,G0,Ce=class{constructor(J,$,Q){this._languageId=J,this._worker=$,this._disposables=[],this._listener=Object.create(null);let X=(Z)=>{let G=Z.getLanguageId();if(G!==this._languageId)return;let q;this._listener[Z.uri.toString()]=Z.onDidChangeContent(()=>{window.clearTimeout(q),q=window.setTimeout(()=>this._doValidate(Z.uri,G),500)}),this._doValidate(Z.uri,G)},Y=(Z)=>{v1.editor.setModelMarkers(Z,this._languageId,[]);let G=Z.uri.toString(),q=this._listener[G];if(q)q.dispose(),delete this._listener[G]};this._disposables.push(v1.editor.onDidCreateModel(X)),this._disposables.push(v1.editor.onWillDisposeModel(Y)),this._disposables.push(v1.editor.onDidChangeModelLanguage((Z)=>{Y(Z.model),X(Z.model)})),this._disposables.push(Q((Z)=>{v1.editor.getModels().forEach((G)=>{if(G.getLanguageId()===this._languageId)Y(G),X(G)})})),this._disposables.push({dispose:()=>{v1.editor.getModels().forEach(Y);for(let Z in this._listener)this._listener[Z].dispose()}}),v1.editor.getModels().forEach(X)}dispose(){this._disposables.forEach((J)=>J&&J.dispose()),this._disposables.length=0}_doValidate(J,$){this._worker(J).then((Q)=>{return Q.doValidation(J.toString())}).then((Q)=>{let X=Q.map((Z)=>QY0(J,Z)),Y=v1.editor.getModel(J);if(Y&&Y.getLanguageId()===$)v1.editor.setModelMarkers(Y,$,X)}).then(void 0,(Q)=>{console.error(Q)})}},ve=class{constructor(J,$){this._worker=J,this._triggerCharacters=$}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doComplete(Y.toString(),VZ($))}).then((Z)=>{if(!Z)return;let G=J.getWordUntilPosition($),q=new v1.Range($.lineNumber,G.startColumn,$.lineNumber,G.endColumn),U=Z.items.map((z)=>{let H={label:z.label,insertText:z.insertText||z.label,sortText:z.sortText,filterText:z.filterText,documentation:z.documentation,detail:z.detail,command:ZY0(z.command),range:q,kind:YY0(z.kind)};if(z.textEdit){if(XY0(z.textEdit))H.range={insert:L7(z.textEdit.insert),replace:L7(z.textEdit.replace)};else H.range=L7(z.textEdit.range);H.insertText=z.textEdit.newText}if(z.additionalTextEdits)H.additionalTextEdits=z.additionalTextEdits.map(yU);if(z.insertTextFormat===Kx.Snippet)H.insertTextRules=v1.languages.CompletionItemInsertTextRule.InsertAsSnippet;return H});return{isIncomplete:Z.isIncomplete,suggestions:U}})}},he=class{constructor(J){this._worker=J}provideHover(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.doHover(X.toString(),VZ($))}).then((Y)=>{if(!Y)return;return{range:L7(Y.range),contents:qY0(Y.contents)}})}},UY0=class{constructor(J){this._worker=J}provideDocumentHighlights(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.findDocumentHighlights(X.toString(),VZ($))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{return{range:L7(Z.range),kind:zY0(Z.kind)}})})}},HY0=class{constructor(J){this._worker=J}provideDefinition(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.findDefinition(X.toString(),VZ($))}).then((Y)=>{if(!Y)return;return[fe(Y)]})}},jY0=class{constructor(J){this._worker=J}provideReferences(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.findReferences(Y.toString(),VZ($))}).then((Z)=>{if(!Z)return;return Z.map(fe)})}},VY0=class{constructor(J){this._worker=J}provideRenameEdits(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doRename(Y.toString(),VZ($),Q)}).then((Z)=>{return WY0(Z)})}},ge=class{constructor(J){this._worker=J}provideDocumentSymbols(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentSymbols(Q.toString())).then((X)=>{if(!X)return;return X.map((Y)=>{if(BY0(Y))return pe(Y);return{name:Y.name,detail:"",containerName:Y.containerName,kind:me(Y.kind),range:L7(Y.location.range),selectionRange:L7(Y.location.range),tags:[]}})})}},FY0=class{constructor(J){this._worker=J}provideLinks(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentLinks(Q.toString())).then((X)=>{if(!X)return;return{links:X.map((Y)=>({range:L7(Y.range),url:Y.target}))}})}},ue=class{constructor(J){this._worker=J}provideDocumentFormattingEdits(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>{return Y.format(X.toString(),null,le($)).then((Z)=>{if(!Z||Z.length===0)return;return Z.map(yU)})})}},ce=class{constructor(J){this._worker=J,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(J,$,Q,X){let Y=J.uri;return this._worker(Y).then((Z)=>{return Z.format(Y.toString(),Ax($),le(Q)).then((G)=>{if(!G||G.length===0)return;return G.map(yU)})})}},de=class{constructor(J){this._worker=J}provideDocumentColors(J,$){let Q=J.uri;return this._worker(Q).then((X)=>X.findDocumentColors(Q.toString())).then((X)=>{if(!X)return;return X.map((Y)=>({color:Y.color,range:L7(Y.range)}))})}provideColorPresentations(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getColorPresentations(X.toString(),$.color,Ax($.range))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={label:Z.label};if(Z.textEdit)G.textEdit=yU(Z.textEdit);if(Z.additionalTextEdits)G.additionalTextEdits=Z.additionalTextEdits.map(yU);return G})})}},se=class{constructor(J){this._worker=J}provideFoldingRanges(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getFoldingRanges(X.toString(),$)).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={start:Z.startLine+1,end:Z.endLine+1};if(typeof Z.kind!=="undefined")G.kind=KY0(Z.kind);return G})})}},ae=class{constructor(J){this._worker=J}provideSelectionRanges(J,$,Q){let X=J.uri;return this._worker(X).then((Y)=>Y.getSelectionRanges(X.toString(),$.map(VZ))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G=[];while(Z)G.push({range:L7(Z.range)}),Z=Z.parent;return G})})}},Ie,PY0,ye="delimiter.bracket.json",xe="delimiter.array.json",RY0="delimiter.colon.json",MY0="delimiter.comma.json",_Y0="keyword.json",OY0="keyword.json",NY0="string.value.json",TY0="number.json",wY0="string.key.json",LY0="comment.block.json",kY0="comment.line.json",XW=class J{constructor($,Q){this.parent=$,this.type=Q}static pop($){if($)return $.parent;return null}static push($,Q){return new J($,Q)}static equals($,Q){if(!$&&!Q)return!0;if(!$||!Q)return!1;while($&&Q){if($===Q)return!0;if($.type!==Q.type)return!1;$=$.parent,Q=Q.parent}return!0}},re=class J{constructor($,Q,X,Y){this._state=$,this.scanError=Q,this.lastWasColon=X,this.parents=Y}clone(){return new J(this._state,this.scanError,this.lastWasColon,this.parents)}equals($){if($===this)return!0;if(!$||!($ instanceof J))return!1;return this.scanError===$.scanError&&this.lastWasColon===$.lastWasColon&&XW.equals(this.parents,$.parents)}getStateData(){return this._state}setStateData($){this._state=$}},d4,yY0,bY0;var oe=N(()=>{uJ();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/rX0=Object.defineProperty,iX0=Object.getOwnPropertyDescriptor,nX0=Object.getOwnPropertyNames,oX0=Object.prototype.hasOwnProperty,v1={};tX0(v1,e9);(function(J){J.MIN_VALUE=-2147483648,J.MAX_VALUE=2147483647})(tt||(tt={}));(function(J){J.MIN_VALUE=0,J.MAX_VALUE=2147483647})(bR||(bR={}));(function(J){function $(X,Y){if(X===Number.MAX_VALUE)X=bR.MAX_VALUE;if(Y===Number.MAX_VALUE)Y=bR.MAX_VALUE;return{line:X,character:Y}}J.create=$;function Q(X){var Y=X;return G0.objectLiteral(Y)&&G0.uinteger(Y.line)&&G0.uinteger(Y.character)}J.is=Q})(YQ||(YQ={}));(function(J){function $(X,Y,Z,G){if(G0.uinteger(X)&&G0.uinteger(Y)&&G0.uinteger(Z)&&G0.uinteger(G))return{start:YQ.create(X,Y),end:YQ.create(Z,G)};else if(YQ.is(X)&&YQ.is(Y))return{start:X,end:Y};else throw new Error("Range#create called with invalid arguments["+X+", "+Y+", "+Z+", "+G+"]")}J.create=$;function Q(X){var Y=X;return G0.objectLiteral(Y)&&YQ.is(Y.start)&&YQ.is(Y.end)}J.is=Q})(H7||(H7={}));(function(J){function $(X,Y){return{uri:X,range:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&H7.is(Y.range)&&(G0.string(Y.uri)||G0.undefined(Y.uri))}J.is=Q})(jx||(jx={}));(function(J){function $(X,Y,Z,G){return{targetUri:X,targetRange:Y,targetSelectionRange:Z,originSelectionRange:G}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&H7.is(Y.targetRange)&&G0.string(Y.targetUri)&&(H7.is(Y.targetSelectionRange)||G0.undefined(Y.targetSelectionRange))&&(H7.is(Y.originSelectionRange)||G0.undefined(Y.originSelectionRange))}J.is=Q})(et||(et={}));(function(J){function $(X,Y,Z,G){return{red:X,green:Y,blue:Z,alpha:G}}J.create=$;function Q(X){var Y=X;return G0.numberRange(Y.red,0,1)&&G0.numberRange(Y.green,0,1)&&G0.numberRange(Y.blue,0,1)&&G0.numberRange(Y.alpha,0,1)}J.is=Q})(Vx||(Vx={}));(function(J){function $(X,Y){return{range:X,color:Y}}J.create=$;function Q(X){var Y=X;return H7.is(Y.range)&&Vx.is(Y.color)}J.is=Q})(Je||(Je={}));(function(J){function $(X,Y,Z){return{label:X,textEdit:Y,additionalTextEdits:Z}}J.create=$;function Q(X){var Y=X;return G0.string(Y.label)&&(G0.undefined(Y.textEdit)||jZ.is(Y))&&(G0.undefined(Y.additionalTextEdits)||G0.typedArray(Y.additionalTextEdits,jZ.is))}J.is=Q})($e||($e={}));(function(J){J.Comment="comment",J.Imports="imports",J.Region="region"})(YW||(YW={}));(function(J){function $(X,Y,Z,G,q){var U={startLine:X,endLine:Y};if(G0.defined(Z))U.startCharacter=Z;if(G0.defined(G))U.endCharacter=G;if(G0.defined(q))U.kind=q;return U}J.create=$;function Q(X){var Y=X;return G0.uinteger(Y.startLine)&&G0.uinteger(Y.startLine)&&(G0.undefined(Y.startCharacter)||G0.uinteger(Y.startCharacter))&&(G0.undefined(Y.endCharacter)||G0.uinteger(Y.endCharacter))&&(G0.undefined(Y.kind)||G0.string(Y.kind))}J.is=Q})(Qe||(Qe={}));(function(J){function $(X,Y){return{location:X,message:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&jx.is(Y.location)&&G0.string(Y.message)}J.is=Q})(Wx||(Wx={}));(function(J){J.Error=1,J.Warning=2,J.Information=3,J.Hint=4})(EU||(EU={}));(function(J){J.Unnecessary=1,J.Deprecated=2})(Xe||(Xe={}));(function(J){function $(Q){var X=Q;return X!==void 0&&X!==null&&G0.string(X.href)}J.is=$})(Ye||(Ye={}));(function(J){function $(X,Y,Z,G,q,U){var z={range:X,message:Y};if(G0.defined(Z))z.severity=Z;if(G0.defined(G))z.code=G;if(G0.defined(q))z.source=q;if(G0.defined(U))z.relatedInformation=U;return z}J.create=$;function Q(X){var Y,Z=X;return G0.defined(Z)&&H7.is(Z.range)&&G0.string(Z.message)&&(G0.number(Z.severity)||G0.undefined(Z.severity))&&(G0.integer(Z.code)||G0.string(Z.code)||G0.undefined(Z.code))&&(G0.undefined(Z.codeDescription)||G0.string((Y=Z.codeDescription)===null||Y===void 0?void 0:Y.href))&&(G0.string(Z.source)||G0.undefined(Z.source))&&(G0.undefined(Z.relatedInformation)||G0.typedArray(Z.relatedInformation,Wx.is))}J.is=Q})(SR||(SR={}));(function(J){function $(X,Y){var Z=[];for(var G=2;G<arguments.length;G++)Z[G-2]=arguments[G];var q={title:X,command:Y};if(G0.defined(Z)&&Z.length>0)q.arguments=Z;return q}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.string(Y.title)&&G0.string(Y.command)}J.is=Q})(GW||(GW={}));(function(J){function $(Z,G){return{range:Z,newText:G}}J.replace=$;function Q(Z,G){return{range:{start:Z,end:Z},newText:G}}J.insert=Q;function X(Z){return{range:Z,newText:""}}J.del=X;function Y(Z){var G=Z;return G0.objectLiteral(G)&&G0.string(G.newText)&&H7.is(G.range)}J.is=Y})(jZ||(jZ={}));(function(J){function $(X,Y,Z){var G={label:X};if(Y!==void 0)G.needsConfirmation=Y;if(Z!==void 0)G.description=Z;return G}J.create=$;function Q(X){var Y=X;return Y!==void 0&&G0.objectLiteral(Y)&&G0.string(Y.label)&&(G0.boolean(Y.needsConfirmation)||Y.needsConfirmation===void 0)&&(G0.string(Y.description)||Y.description===void 0)}J.is=Q})(IU||(IU={}));(function(J){function $(Q){var X=Q;return typeof X==="string"}J.is=$})(w7||(w7={}));(function(J){function $(Z,G,q){return{range:Z,newText:G,annotationId:q}}J.replace=$;function Q(Z,G,q){return{range:{start:Z,end:Z},newText:G,annotationId:q}}J.insert=Q;function X(Z,G){return{range:Z,newText:"",annotationId:G}}J.del=X;function Y(Z){var G=Z;return jZ.is(G)&&(IU.is(G.annotationId)||w7.is(G.annotationId))}J.is=Y})(HZ||(HZ={}));(function(J){function $(X,Y){return{textDocument:X,edits:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&vR.is(Y.textDocument)&&Array.isArray(Y.edits)}J.is=Q})(CR||(CR={}));(function(J){function $(X,Y,Z){var G={kind:"create",uri:X};if(Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="create"&&G0.string(Y.uri)&&(Y.options===void 0||(Y.options.overwrite===void 0||G0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||G0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||w7.is(Y.annotationId))}J.is=Q})(qW||(qW={}));(function(J){function $(X,Y,Z,G){var q={kind:"rename",oldUri:X,newUri:Y};if(Z!==void 0&&(Z.overwrite!==void 0||Z.ignoreIfExists!==void 0))q.options=Z;if(G!==void 0)q.annotationId=G;return q}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="rename"&&G0.string(Y.oldUri)&&G0.string(Y.newUri)&&(Y.options===void 0||(Y.options.overwrite===void 0||G0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||G0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||w7.is(Y.annotationId))}J.is=Q})(UW||(UW={}));(function(J){function $(X,Y,Z){var G={kind:"delete",uri:X};if(Y!==void 0&&(Y.recursive!==void 0||Y.ignoreIfNotExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&Y.kind==="delete"&&G0.string(Y.uri)&&(Y.options===void 0||(Y.options.recursive===void 0||G0.boolean(Y.options.recursive))&&(Y.options.ignoreIfNotExists===void 0||G0.boolean(Y.options.ignoreIfNotExists)))&&(Y.annotationId===void 0||w7.is(Y.annotationId))}J.is=Q})(zW||(zW={}));(function(J){function $(Q){var X=Q;return X&&(X.changes!==void 0||X.documentChanges!==void 0)&&(X.documentChanges===void 0||X.documentChanges.every(function(Y){if(G0.string(Y.kind))return qW.is(Y)||UW.is(Y)||zW.is(Y);else return CR.is(Y)}))}J.is=$})(Bx||(Bx={}));xR=function(){function J($,Q){this.edits=$,this.changeAnnotations=Q}return J.prototype.insert=function($,Q,X){var Y,Z;if(X===void 0)Y=jZ.insert($,Q);else if(w7.is(X))Z=X,Y=HZ.insert($,Q,X);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(X),Y=HZ.insert($,Q,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.replace=function($,Q,X){var Y,Z;if(X===void 0)Y=jZ.replace($,Q);else if(w7.is(X))Z=X,Y=HZ.replace($,Q,X);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(X),Y=HZ.replace($,Q,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.delete=function($,Q){var X,Y;if(Q===void 0)X=jZ.del($);else if(w7.is(Q))Y=Q,X=HZ.del($,Q);else this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(Q),X=HZ.del($,Y);if(this.edits.push(X),Y!==void 0)return Y},J.prototype.add=function($){this.edits.push($)},J.prototype.all=function(){return this.edits},J.prototype.clear=function(){this.edits.splice(0,this.edits.length)},J.prototype.assertChangeAnnotations=function($){if($===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},J}(),Ze=function(){function J($){this._annotations=$===void 0?Object.create(null):$,this._counter=0,this._size=0}return J.prototype.all=function(){return this._annotations},Object.defineProperty(J.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),J.prototype.manage=function($,Q){var X;if(w7.is($))X=$;else X=this.nextId(),Q=$;if(this._annotations[X]!==void 0)throw new Error("Id "+X+" is already in use.");if(Q===void 0)throw new Error("No annotation provided for id "+X);return this._annotations[X]=Q,this._size++,X},J.prototype.nextId=function(){return this._counter++,this._counter.toString()},J}(),xX1=function(){function J($){var Q=this;if(this._textEditChanges=Object.create(null),$!==void 0){if(this._workspaceEdit=$,$.documentChanges)this._changeAnnotations=new Ze($.changeAnnotations),$.changeAnnotations=this._changeAnnotations.all(),$.documentChanges.forEach(function(X){if(CR.is(X)){var Y=new xR(X.edits,Q._changeAnnotations);Q._textEditChanges[X.textDocument.uri]=Y}});else if($.changes)Object.keys($.changes).forEach(function(X){var Y=new xR($.changes[X]);Q._textEditChanges[X]=Y})}else this._workspaceEdit={}}return Object.defineProperty(J.prototype,"edit",{get:function(){if(this.initDocumentChanges(),this._changeAnnotations!==void 0)if(this._changeAnnotations.size===0)this._workspaceEdit.changeAnnotations=void 0;else this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();return this._workspaceEdit},enumerable:!1,configurable:!0}),J.prototype.getTextEditChange=function($){if(vR.is($)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Q={uri:$.uri,version:$.version},X=this._textEditChanges[Q.uri];if(!X){var Y=[],Z={textDocument:Q,edits:Y};this._workspaceEdit.documentChanges.push(Z),X=new xR(Y,this._changeAnnotations),this._textEditChanges[Q.uri]=X}return X}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var X=this._textEditChanges[$];if(!X){var Y=[];this._workspaceEdit.changes[$]=Y,X=new xR(Y),this._textEditChanges[$]=X}return X}},J.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._changeAnnotations=new Ze,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()},J.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._workspaceEdit.changes=Object.create(null)},J.prototype.createFile=function($,Q,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(IU.is(Q)||w7.is(Q))Y=Q;else X=Q;var Z,G;if(Y===void 0)Z=qW.create($,X);else G=w7.is(Y)?Y:this._changeAnnotations.manage(Y),Z=qW.create($,X,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J.prototype.renameFile=function($,Q,X,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Z;if(IU.is(X)||w7.is(X))Z=X;else Y=X;var G,q;if(Z===void 0)G=UW.create($,Q,Y);else q=w7.is(Z)?Z:this._changeAnnotations.manage(Z),G=UW.create($,Q,Y,q);if(this._workspaceEdit.documentChanges.push(G),q!==void 0)return q},J.prototype.deleteFile=function($,Q,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(IU.is(Q)||w7.is(Q))Y=Q;else X=Q;var Z,G;if(Y===void 0)Z=zW.create($,X);else G=w7.is(Y)?Y:this._changeAnnotations.manage(Y),Z=zW.create($,X,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J}();(function(J){function $(X){return{uri:X}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.string(Y.uri)}J.is=Q})(Ge||(Ge={}));(function(J){function $(X,Y){return{uri:X,version:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.string(Y.uri)&&G0.integer(Y.version)}J.is=Q})(qe||(qe={}));(function(J){function $(X,Y){return{uri:X,version:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.string(Y.uri)&&(Y.version===null||G0.integer(Y.version))}J.is=Q})(vR||(vR={}));(function(J){function $(X,Y,Z,G){return{uri:X,languageId:Y,version:Z,text:G}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.string(Y.uri)&&G0.string(Y.languageId)&&G0.integer(Y.version)&&G0.string(Y.text)}J.is=Q})(Ue||(Ue={}));(function(J){J.PlainText="plaintext",J.Markdown="markdown"})(HW||(HW={}));(function(J){function $(Q){var X=Q;return X===J.PlainText||X===J.Markdown}J.is=$})(HW||(HW={}));(function(J){function $(Q){var X=Q;return G0.objectLiteral(Q)&&HW.is(X.kind)&&G0.string(X.value)}J.is=$})(Fx||(Fx={}));(function(J){J.Text=1,J.Method=2,J.Function=3,J.Constructor=4,J.Field=5,J.Variable=6,J.Class=7,J.Interface=8,J.Module=9,J.Property=10,J.Unit=11,J.Value=12,J.Enum=13,J.Keyword=14,J.Snippet=15,J.Color=16,J.File=17,J.Reference=18,J.Folder=19,J.EnumMember=20,J.Constant=21,J.Struct=22,J.Event=23,J.Operator=24,J.TypeParameter=25})(V8||(V8={}));(function(J){J.PlainText=1,J.Snippet=2})(Kx||(Kx={}));(function(J){J.Deprecated=1})(ze||(ze={}));(function(J){function $(X,Y,Z){return{newText:X,insert:Y,replace:Z}}J.create=$;function Q(X){var Y=X;return Y&&G0.string(Y.newText)&&H7.is(Y.insert)&&H7.is(Y.replace)}J.is=Q})(He||(He={}));(function(J){J.asIs=1,J.adjustIndentation=2})(je||(je={}));(function(J){function $(Q){return{label:Q}}J.create=$})(Ve||(Ve={}));(function(J){function $(Q,X){return{items:Q?Q:[],isIncomplete:!!X}}J.create=$})(We||(We={}));(function(J){function $(X){return X.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}J.fromPlainText=$;function Q(X){var Y=X;return G0.string(Y)||G0.objectLiteral(Y)&&G0.string(Y.language)&&G0.string(Y.value)}J.is=Q})(hR||(hR={}));(function(J){function $(Q){var X=Q;return!!X&&G0.objectLiteral(X)&&(Fx.is(X.contents)||hR.is(X.contents)||G0.typedArray(X.contents,hR.is))&&(Q.range===void 0||H7.is(Q.range))}J.is=$})(Be||(Be={}));(function(J){function $(Q,X){return X?{label:Q,documentation:X}:{label:Q}}J.create=$})(Fe||(Fe={}));(function(J){function $(Q,X){var Y=[];for(var Z=2;Z<arguments.length;Z++)Y[Z-2]=arguments[Z];var G={label:Q};if(G0.defined(X))G.documentation=X;if(G0.defined(Y))G.parameters=Y;else G.parameters=[];return G}J.create=$})(Ke||(Ke={}));(function(J){J.Text=1,J.Read=2,J.Write=3})(ZW||(ZW={}));(function(J){function $(Q,X){var Y={range:Q};if(G0.number(X))Y.kind=X;return Y}J.create=$})(Ae||(Ae={}));(function(J){J.File=1,J.Module=2,J.Namespace=3,J.Package=4,J.Class=5,J.Method=6,J.Property=7,J.Field=8,J.Constructor=9,J.Enum=10,J.Interface=11,J.Function=12,J.Variable=13,J.Constant=14,J.String=15,J.Number=16,J.Boolean=17,J.Array=18,J.Object=19,J.Key=20,J.Null=21,J.EnumMember=22,J.Struct=23,J.Event=24,J.Operator=25,J.TypeParameter=26})(W8||(W8={}));(function(J){J.Deprecated=1})(Pe||(Pe={}));(function(J){function $(Q,X,Y,Z,G){var q={name:Q,kind:X,location:{uri:Z,range:Y}};if(G)q.containerName=G;return q}J.create=$})(De||(De={}));(function(J){function $(X,Y,Z,G,q,U){var z={name:X,detail:Y,kind:Z,range:G,selectionRange:q};if(U!==void 0)z.children=U;return z}J.create=$;function Q(X){var Y=X;return Y&&G0.string(Y.name)&&G0.number(Y.kind)&&H7.is(Y.range)&&H7.is(Y.selectionRange)&&(Y.detail===void 0||G0.string(Y.detail))&&(Y.deprecated===void 0||G0.boolean(Y.deprecated))&&(Y.children===void 0||Array.isArray(Y.children))&&(Y.tags===void 0||Array.isArray(Y.tags))}J.is=Q})(Re||(Re={}));(function(J){J.Empty="",J.QuickFix="quickfix",J.Refactor="refactor",J.RefactorExtract="refactor.extract",J.RefactorInline="refactor.inline",J.RefactorRewrite="refactor.rewrite",J.Source="source",J.SourceOrganizeImports="source.organizeImports",J.SourceFixAll="source.fixAll"})(Me||(Me={}));(function(J){function $(X,Y){var Z={diagnostics:X};if(Y!==void 0&&Y!==null)Z.only=Y;return Z}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.typedArray(Y.diagnostics,SR.is)&&(Y.only===void 0||G0.typedArray(Y.only,G0.string))}J.is=Q})(_e||(_e={}));(function(J){function $(X,Y,Z){var G={title:X},q=!0;if(typeof Y==="string")q=!1,G.kind=Y;else if(GW.is(Y))G.command=Y;else G.edit=Y;if(q&&Z!==void 0)G.kind=Z;return G}J.create=$;function Q(X){var Y=X;return Y&&G0.string(Y.title)&&(Y.diagnostics===void 0||G0.typedArray(Y.diagnostics,SR.is))&&(Y.kind===void 0||G0.string(Y.kind))&&(Y.edit!==void 0||Y.command!==void 0)&&(Y.command===void 0||GW.is(Y.command))&&(Y.isPreferred===void 0||G0.boolean(Y.isPreferred))&&(Y.edit===void 0||Bx.is(Y.edit))}J.is=Q})(Oe||(Oe={}));(function(J){function $(X,Y){var Z={range:X};if(G0.defined(Y))Z.data=Y;return Z}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&H7.is(Y.range)&&(G0.undefined(Y.command)||GW.is(Y.command))}J.is=Q})(Ne||(Ne={}));(function(J){function $(X,Y){return{tabSize:X,insertSpaces:Y}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&G0.uinteger(Y.tabSize)&&G0.boolean(Y.insertSpaces)}J.is=Q})(Te||(Te={}));(function(J){function $(X,Y,Z){return{range:X,target:Y,data:Z}}J.create=$;function Q(X){var Y=X;return G0.defined(Y)&&H7.is(Y.range)&&(G0.undefined(Y.target)||G0.string(Y.target))}J.is=Q})(we||(we={}));(function(J){function $(X,Y){return{range:X,parent:Y}}J.create=$;function Q(X){var Y=X;return Y!==void 0&&H7.is(Y.range)&&(Y.parent===void 0||J.is(Y.parent))}J.is=Q})(Le||(Le={}));(function(J){function $(Z,G,q,U){return new JY0(Z,G,q,U)}J.create=$;function Q(Z){var G=Z;return G0.defined(G)&&G0.string(G.uri)&&(G0.undefined(G.languageId)||G0.string(G.languageId))&&G0.uinteger(G.lineCount)&&G0.func(G.getText)&&G0.func(G.positionAt)&&G0.func(G.offsetAt)?!0:!1}J.is=Q;function X(Z,G){var q=Z.getText(),U=Y(G,function(B,K){var P=B.range.start.line-K.range.start.line;if(P===0)return B.range.start.character-K.range.start.character;return P}),z=q.length;for(var H=U.length-1;H>=0;H--){var j=U[H],V=Z.offsetAt(j.range.start),W=Z.offsetAt(j.range.end);if(W<=z)q=q.substring(0,V)+j.newText+q.substring(W,q.length);else throw new Error("Overlapping edit");z=V}return q}J.applyEdits=X;function Y(Z,G){if(Z.length<=1)return Z;var q=Z.length/2|0,U=Z.slice(0,q),z=Z.slice(q);Y(U,G),Y(z,G);var H=0,j=0,V=0;while(H<U.length&&j<z.length){var W=G(U[H],z[j]);if(W<=0)Z[V++]=U[H++];else Z[V++]=z[j++]}while(H<U.length)Z[V++]=U[H++];while(j<z.length)Z[V++]=z[j++];return Z}})(ke||(ke={}));JY0=function(){function J($,Q,X,Y){this._uri=$,this._languageId=Q,this._version=X,this._content=Y,this._lineOffsets=void 0}return Object.defineProperty(J.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),J.prototype.getText=function($){if($){var Q=this.offsetAt($.start),X=this.offsetAt($.end);return this._content.substring(Q,X)}return this._content},J.prototype.update=function($,Q){this._content=$.text,this._version=Q,this._lineOffsets=void 0},J.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var $=[],Q=this._content,X=!0;for(var Y=0;Y<Q.length;Y++){if(X)$.push(Y),X=!1;var Z=Q.charAt(Y);if(X=Z==="\r"||Z===`
`,Z==="\r"&&Y+1<Q.length&&Q.charAt(Y+1)===`
`)Y++}if(X&&Q.length>0)$.push(Q.length);this._lineOffsets=$}return this._lineOffsets},J.prototype.positionAt=function($){$=Math.max(Math.min($,this._content.length),0);var Q=this.getLineOffsets(),X=0,Y=Q.length;if(Y===0)return YQ.create(0,$);while(X<Y){var Z=Math.floor((X+Y)/2);if(Q[Z]>$)Y=Z;else X=Z+1}var G=X-1;return YQ.create(G,$-Q[G])},J.prototype.offsetAt=function($){var Q=this.getLineOffsets();if($.line>=Q.length)return this._content.length;else if($.line<0)return 0;var X=Q[$.line],Y=$.line+1<Q.length?Q[$.line+1]:this._content.length;return Math.max(Math.min(X+$.character,Y),X)},Object.defineProperty(J.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),J}();(function(J){var $=Object.prototype.toString;function Q(W){return typeof W!=="undefined"}J.defined=Q;function X(W){return typeof W==="undefined"}J.undefined=X;function Y(W){return W===!0||W===!1}J.boolean=Y;function Z(W){return $.call(W)==="[object String]"}J.string=Z;function G(W){return $.call(W)==="[object Number]"}J.number=G;function q(W,B,K){return $.call(W)==="[object Number]"&&B<=W&&W<=K}J.numberRange=q;function U(W){return $.call(W)==="[object Number]"&&-2147483648<=W&&W<=2147483647}J.integer=U;function z(W){return $.call(W)==="[object Number]"&&0<=W&&W<=2147483647}J.uinteger=z;function H(W){return $.call(W)==="[object Function]"}J.func=H;function j(W){return W!==null&&typeof W==="object"}J.objectLiteral=j;function V(W,B){return Array.isArray(W)&&W.every(B)}J.typedArray=V})(G0||(G0={}));(function(J){J.DEFAULT={allowTrailingComma:!1}})(Ie||(Ie={}));PY0=AY0;yY0=class extends Ce{constructor(J,$,Q){super(J,$,Q.onDidChange);this._disposables.push(v1.editor.onWillDisposeModel((X)=>{this._resetSchema(X.uri)})),this._disposables.push(v1.editor.onDidChangeModelLanguage((X)=>{this._resetSchema(X.model.uri)}))}_resetSchema(J){this._worker().then(($)=>{$.resetSchema(J.toString())})}};bY0={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}});var Q00={};DZ(Q00,{language:()=>dY0,conf:()=>lY0});var lY0,dY0;var X00=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/lY0={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},dY0={defaultToken:"",tokenPostfix:".ini",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^\[[^\]]*\]/,"metatag"],[/(^\w+)(\s*)(\=)/,["key","","delimiter"]],{include:"@whitespace"},[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/^\s*[#;].*$/,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}});var Y00={};DZ(Y00,{language:()=>aY0,conf:()=>sY0});var sY0,aY0;var Z00=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/sY0={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},aY0={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)(\-|\w)*/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)(\-|\w)*\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}});var U00={};DZ(U00,{language:()=>JZ0,conf:()=>eY0});var rY0,iY0,nY0,oY0,G00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of nY0($))if(!oY0.call(J,Y)&&Y!==Q)rY0(J,Y,{get:()=>$[Y],enumerable:!(X=iY0($,Y))||X.enumerable})}return J},tY0=(J,$,Q)=>(G00(J,$,"default"),Q&&G00(Q,$,"default")),q00,eY0,JZ0;var z00=N(()=>{uJ();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/rY0=Object.defineProperty,iY0=Object.getOwnPropertyDescriptor,nY0=Object.getOwnPropertyNames,oY0=Object.prototype.hasOwnProperty,q00={};tY0(q00,e9);eY0={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:q00.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},JZ0={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","type","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}});var j00={};DZ(j00,{language:()=>qZ0,conf:()=>GZ0});var $Z0,QZ0,XZ0,YZ0,H00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of XZ0($))if(!YZ0.call(J,Y)&&Y!==Q)$Z0(J,Y,{get:()=>$[Y],enumerable:!(X=QZ0($,Y))||X.enumerable})}return J},ZZ0=(J,$,Q)=>(H00(J,$,"default"),Q&&H00(Q,$,"default")),Dx,GZ0,qZ0;var V00=N(()=>{uJ();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/$Z0=Object.defineProperty,QZ0=Object.getOwnPropertyDescriptor,XZ0=Object.getOwnPropertyNames,YZ0=Object.prototype.hasOwnProperty,Dx={};ZZ0(Dx,e9);GZ0={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:Dx.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:Dx.languages.IndentAction.Indent}}]},qZ0={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}});j0('@font-face{font-family:codicon;font-display:block;src:url(./codicon.ttf)format("truetype")}.codicon[class*=codicon-]{text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;user-select:none;font:16px/1 codicon;text-decoration:none;display:inline-block}');j0(".codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(360deg)}}.codicon-sync.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-gear.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin{animation:1.5s steps(30,end) infinite codicon-spin}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}");uJ();uJ();import{useRef as UZ0,useEffect as zZ0,useState as Mx}from"preact/hooks";import{useEditor as HZ0}from"@blockcode/core";uJ();u1();e5();P1();IZ();Q0();t0();j0(".monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-collapsed{cursor:pointer;opacity:0;justify-content:center;align-items:center;margin-left:2px;font-size:140%;transition:opacity .5s;display:flex}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed{transition:initial}.monaco-editor .margin-view-overlays:hover .codicon,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons{opacity:1}.monaco-editor .inline-folded:after{color:gray;content:\"⋯\";cursor:pointer;margin:.1em .2em 0;line-height:1em;display:inline}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed{color:var(--vscode-editorGutter-foldingControlForeground)!important}");b9();$X();P8();h8();F0();var ZX0={[0]:" ",[1]:"u",[2]:"r"};var KU=16777215;class ZR{constructor(J){let $=Math.ceil(J/32);this._states=new Uint32Array($)}get(J){let $=J/32|0,Q=J%32;return(this._states[$]&1<<Q)!==0}set(J,$){let Q=J/32|0,X=J%32,Y=this._states[Q];if($)this._states[Q]=Y|1<<X;else this._states[Q]=Y&~(1<<X)}}class d8{constructor(J,$,Q){if(J.length!==$.length||J.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=J,this._endIndexes=$,this._collapseStates=new ZR(J.length),this._userDefinedStates=new ZR(J.length),this._recoveredStates=new ZR(J.length),this._types=Q,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let J=[],$=(Q,X)=>{let Y=J[J.length-1];return this.getStartLineNumber(Y)<=Q&&this.getEndLineNumber(Y)>=X};for(let Q=0,X=this._startIndexes.length;Q<X;Q++){let Y=this._startIndexes[Q],Z=this._endIndexes[Q];if(Y>16777215||Z>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");while(J.length>0&&!$(Y,Z))J.pop();let G=J.length>0?J[J.length-1]:-1;J.push(Q),this._startIndexes[Q]=Y+((G&255)<<24),this._endIndexes[Q]=Z+((G&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(J){return this._startIndexes[J]&16777215}getEndLineNumber(J){return this._endIndexes[J]&16777215}getType(J){return this._types?this._types[J]:void 0}hasTypes(){return!!this._types}isCollapsed(J){return this._collapseStates.get(J)}setCollapsed(J,$){this._collapseStates.set(J,$)}isUserDefined(J){return this._userDefinedStates.get(J)}setUserDefined(J,$){return this._userDefinedStates.set(J,$)}isRecovered(J){return this._recoveredStates.get(J)}setRecovered(J,$){return this._recoveredStates.set(J,$)}getSource(J){if(this.isUserDefined(J))return 1;else if(this.isRecovered(J))return 2;return 0}setSource(J,$){if($===1)this.setUserDefined(J,!0),this.setRecovered(J,!1);else if($===2)this.setUserDefined(J,!1),this.setRecovered(J,!0);else this.setUserDefined(J,!1),this.setRecovered(J,!1)}setCollapsedAllOfType(J,$){let Q=!1;if(this._types){for(let X=0;X<this._types.length;X++)if(this._types[X]===J)this.setCollapsed(X,$),Q=!0}return Q}toRegion(J){return new ao(this,J)}getParentIndex(J){this.ensureParentIndices();let $=((this._startIndexes[J]&4278190080)>>>24)+((this._endIndexes[J]&4278190080)>>>16);if($===65535)return-1;return $}contains(J,$){return this.getStartLineNumber(J)<=$&&this.getEndLineNumber(J)>=$}findIndex(J){let $=0,Q=this._startIndexes.length;if(Q===0)return-1;while($<Q){let X=Math.floor(($+Q)/2);if(J<this.getStartLineNumber(X))Q=X;else $=X+1}return $-1}findRange(J){let $=this.findIndex(J);if($>=0){if(this.getEndLineNumber($)>=J)return $;$=this.getParentIndex($);while($!==-1){if(this.contains($,J))return $;$=this.getParentIndex($)}}return-1}toString(){let J=[];for(let $=0;$<this.length;$++)J[$]=`[${ZX0[this.getSource($)]}${this.isCollapsed($)?"+":"-"}] ${this.getStartLineNumber($)}/${this.getEndLineNumber($)}`;return J.join(", ")}toFoldRange(J){return{startLineNumber:this._startIndexes[J]&16777215,endLineNumber:this._endIndexes[J]&16777215,type:this._types?this._types[J]:void 0,isCollapsed:this.isCollapsed(J),source:this.getSource(J)}}static fromFoldRanges(J){let $=J.length,Q=new Uint32Array($),X=new Uint32Array($),Y=[],Z=!1;for(let q=0;q<$;q++){let U=J[q];if(Q[q]=U.startLineNumber,X[q]=U.endLineNumber,Y.push(U.type),U.type)Z=!0}if(!Z)Y=void 0;let G=new d8(Q,X,Y);for(let q=0;q<$;q++){if(J[q].isCollapsed)G.setCollapsed(q,!0);G.setSource(q,J[q].source)}return G}static sanitizeAndMerge(J,$,Q){Q=Q!==null&&Q!==void 0?Q:Number.MAX_VALUE;let X=(B,K)=>{return Array.isArray(B)?(P)=>{return P<K?B[P]:void 0}:(P)=>{return P<K?B.toFoldRange(P):void 0}},Y=X(J,J.length),Z=X($,$.length),G=0,q=0,U=Y(0),z=Z(0),H=[],j,V=0,W=[];while(U||z){let B=void 0;if(z&&(!U||U.startLineNumber>=z.startLineNumber)){if(U&&U.startLineNumber===z.startLineNumber){if(z.source===1)B=z;else B=U,B.isCollapsed=z.isCollapsed&&U.endLineNumber===z.endLineNumber,B.source=0;U=Y(++G)}else if(B=z,z.isCollapsed&&z.source===0)B.source=2;z=Z(++q)}else{let K=q,P=z;while(!0){if(!P||P.startLineNumber>U.endLineNumber){B=U;break}if(P.source===1&&P.endLineNumber>U.endLineNumber)break;P=Z(++K)}U=Y(++G)}if(B){while(j&&j.endLineNumber<B.startLineNumber)j=H.pop();if(B.endLineNumber>B.startLineNumber&&B.startLineNumber>V&&B.endLineNumber<=Q&&(!j||j.endLineNumber>=B.endLineNumber)){if(W.push(B),V=B.startLineNumber,j)H.push(j);j=B}}}return W}}class ao{constructor(J,$){this.ranges=J,this.index=$}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(J){return J.startLineNumber<=this.startLineNumber&&J.endLineNumber>=this.endLineNumber}containsLine(J){return this.startLineNumber<=J&&J<=this.endLineNumber}}iX();class fy{get regions(){return this._regions}get textModel(){return this._textModel}constructor(J,$){this._updateEventEmitter=new y,this.onDidChange=this._updateEventEmitter.event,this._textModel=J,this._decorationProvider=$,this._regions=new d8(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(J){if(!J.length)return;J=J.sort((Q,X)=>Q.regionIndex-X.regionIndex);let $={};this._decorationProvider.changeDecorations((Q)=>{let X=0,Y=-1,Z=-1,G=(q)=>{while(X<q){let U=this._regions.getEndLineNumber(X),z=this._regions.isCollapsed(X);if(U<=Y){let H=this.regions.getSource(X)!==0;Q.changeDecorationOptions(this._editorDecorationIds[X],this._decorationProvider.getDecorationOption(z,U<=Z,H))}if(z&&U>Z)Z=U;X++}};for(let q of J){let U=q.regionIndex,z=this._editorDecorationIds[U];if(z&&!$[z]){$[z]=!0,G(U);let H=!this._regions.isCollapsed(U);this._regions.setCollapsed(U,H),Y=Math.max(Y,this._regions.getEndLineNumber(U))}}G(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:J})}removeManualRanges(J){let $=new Array,Q=(X)=>{for(let Y of J)if(!(Y.startLineNumber>X.endLineNumber||X.startLineNumber>Y.endLineNumber))return!0;return!1};for(let X=0;X<this._regions.length;X++){let Y=this._regions.toFoldRange(X);if(Y.source===0||!Q(Y))$.push(Y)}this.updatePost(d8.fromFoldRanges($))}update(J,$=[]){let Q=this._currentFoldedOrManualRanges($),X=d8.sanitizeAndMerge(J,Q,this._textModel.getLineCount());this.updatePost(d8.fromFoldRanges(X))}updatePost(J){let $=[],Q=-1;for(let X=0,Y=J.length;X<Y;X++){let Z=J.getStartLineNumber(X),G=J.getEndLineNumber(X),q=J.isCollapsed(X),U=J.getSource(X)!==0,z={startLineNumber:Z,startColumn:this._textModel.getLineMaxColumn(Z),endLineNumber:G,endColumn:this._textModel.getLineMaxColumn(G)+1};if($.push({range:z,options:this._decorationProvider.getDecorationOption(q,G<=Q,U)}),q&&G>Q)Q=G}this._decorationProvider.changeDecorations((X)=>this._editorDecorationIds=X.deltaDecorations(this._editorDecorationIds,$)),this._regions=J,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(J=[]){let $=(X,Y)=>{for(let Z of J)if(X<Z&&Z<=Y)return!0;return!1},Q=[];for(let X=0,Y=this._regions.length;X<Y;X++){let Z=this.regions.isCollapsed(X),G=this.regions.getSource(X);if(Z||G!==0){let q=this._regions.toFoldRange(X),U=this._textModel.getDecorationRange(this._editorDecorationIds[X]);if(U){if(Z&&$(U.startLineNumber,U.endLineNumber))Z=!1;Q.push({startLineNumber:U.startLineNumber,endLineNumber:U.endLineNumber,type:q.type,isCollapsed:Z,source:G})}}}return Q}getMemento(){let J=this._currentFoldedOrManualRanges(),$=[],Q=this._textModel.getLineCount();for(let X=0,Y=J.length;X<Y;X++){let Z=J[X];if(Z.startLineNumber>=Z.endLineNumber||Z.startLineNumber<1||Z.endLineNumber>Q)continue;let G=this._getLinesChecksum(Z.startLineNumber+1,Z.endLineNumber);$.push({startLineNumber:Z.startLineNumber,endLineNumber:Z.endLineNumber,isCollapsed:Z.isCollapsed,source:Z.source,checksum:G})}return $.length>0?$:void 0}applyMemento(J){var $,Q;if(!Array.isArray(J))return;let X=[],Y=this._textModel.getLineCount();for(let G of J){if(G.startLineNumber>=G.endLineNumber||G.startLineNumber<1||G.endLineNumber>Y)continue;let q=this._getLinesChecksum(G.startLineNumber+1,G.endLineNumber);if(!G.checksum||q===G.checksum)X.push({startLineNumber:G.startLineNumber,endLineNumber:G.endLineNumber,type:void 0,isCollapsed:($=G.isCollapsed)!==null&&$!==void 0?$:!0,source:(Q=G.source)!==null&&Q!==void 0?Q:0})}let Z=d8.sanitizeAndMerge(this._regions,X,Y);this.updatePost(d8.fromFoldRanges(Z))}_getLinesChecksum(J,$){return rX(this._textModel.getLineContent(J)+this._textModel.getLineContent($))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(J,$){let Q=[];if(this._regions){let X=this._regions.findRange(J),Y=1;while(X>=0){let Z=this._regions.toRegion(X);if(!$||$(Z,Y))Q.push(Z);Y++,X=Z.parentIndex}}return Q}getRegionAtLine(J){if(this._regions){let $=this._regions.findRange(J);if($>=0)return this._regions.toRegion($)}return null}getRegionsInside(J,$){let Q=[],X=J?J.regionIndex+1:0,Y=J?J.endLineNumber:Number.MAX_VALUE;if($&&$.length===2){let Z=[];for(let G=X,q=this._regions.length;G<q;G++){let U=this._regions.toRegion(G);if(this._regions.getStartLineNumber(G)<Y){while(Z.length>0&&!U.containedBy(Z[Z.length-1]))Z.pop();if(Z.push(U),$(U,Z.length))Q.push(U)}else break}}else for(let Z=X,G=this._regions.length;Z<G;Z++){let q=this._regions.toRegion(Z);if(this._regions.getStartLineNumber(Z)<Y){if(!$||$(q))Q.push(q)}else break}return Q}}function ro(J,$,Q){let X=[];for(let Y of Q){let Z=J.getRegionAtLine(Y);if(Z){let G=!Z.isCollapsed;if(X.push(Z),$>1){let q=J.getRegionsInside(Z,(U,z)=>U.isCollapsed!==G&&z<$);X.push(...q)}}}J.toggleCollapseState(X)}function OG(J,$,Q=Number.MAX_VALUE,X){let Y=[];if(X&&X.length>0)for(let Z of X){let G=J.getRegionAtLine(Z);if(G){if(G.isCollapsed!==$)Y.push(G);if(Q>1){let q=J.getRegionsInside(G,(U,z)=>U.isCollapsed!==$&&z<Q);Y.push(...q)}}}else{let Z=J.getRegionsInside(null,(G,q)=>G.isCollapsed!==$&&q<Q);Y.push(...Z)}J.toggleCollapseState(Y)}function gy(J,$,Q,X){let Y=[];for(let Z of X){let G=J.getAllRegionsAtLine(Z,(q,U)=>q.isCollapsed!==$&&U<=Q);Y.push(...G)}J.toggleCollapseState(Y)}function io(J,$,Q){let X=[];for(let Y of Q){let Z=J.getAllRegionsAtLine(Y,(G)=>G.isCollapsed!==$);if(Z.length>0)X.push(Z[0])}J.toggleCollapseState(X)}function no(J,$,Q,X){let Y=(G,q)=>q===$&&G.isCollapsed!==Q&&!X.some((U)=>G.containsLine(U)),Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function py(J,$,Q){let X=[];for(let G of Q){let q=J.getAllRegionsAtLine(G,void 0);if(q.length>0)X.push(q[0])}let Y=(G)=>X.every((q)=>!q.containedBy(G)&&!G.containedBy(q))&&G.isCollapsed!==$,Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function GR(J,$,Q){let{textModel:X,regions:Y}=J,Z=[];for(let G=Y.length-1;G>=0;G--)if(Q!==Y.isCollapsed(G)){let q=Y.getStartLineNumber(G);if($.test(X.getLineContent(q)))Z.push(Y.toRegion(G))}J.toggleCollapseState(Z)}function qR(J,$,Q){let X=J.regions,Y=[];for(let Z=X.length-1;Z>=0;Z--)if(Q!==X.isCollapsed(Z)&&$===X.getType(Z))Y.push(X.toRegion(Z));J.toggleCollapseState(Y)}function oo(J,$){let Q=null,X=$.getRegionAtLine(J);if(X!==null){if(Q=X.startLineNumber,J===Q){let Y=X.parentIndex;if(Y!==-1)Q=$.regions.getStartLineNumber(Y);else Q=null}}return Q}function to(J,$){let Q=$.getRegionAtLine(J);if(Q!==null&&Q.startLineNumber===J)if(J!==Q.startLineNumber)return Q.startLineNumber;else{let X=Q.parentIndex,Y=0;if(X!==-1)Y=$.regions.getStartLineNumber(Q.parentIndex);while(Q!==null)if(Q.regionIndex>0){if(Q=$.regions.toRegion(Q.regionIndex-1),Q.startLineNumber<=Y)return null;else if(Q.parentIndex===X)return Q.startLineNumber}else return null}else if($.regions.length>0){Q=$.regions.toRegion($.regions.length-1);while(Q!==null){if(Q.startLineNumber<J)return Q.startLineNumber;if(Q.regionIndex>0)Q=$.regions.toRegion(Q.regionIndex-1);else Q=null}}return null}function eo(J,$){let Q=$.getRegionAtLine(J);if(Q!==null&&Q.startLineNumber===J){let X=Q.parentIndex,Y=0;if(X!==-1)Y=$.regions.getEndLineNumber(Q.parentIndex);else if($.regions.length===0)return null;else Y=$.regions.getEndLineNumber($.regions.length-1);while(Q!==null)if(Q.regionIndex<$.regions.length){if(Q=$.regions.toRegion(Q.regionIndex+1),Q.startLineNumber>=Y)return null;else if(Q.parentIndex===X)return Q.startLineNumber}else return null}else if($.regions.length>0){Q=$.regions.toRegion(0);while(Q!==null){if(Q.startLineNumber>J)return Q.startLineNumber;if(Q.regionIndex<$.regions.length)Q=$.regions.toRegion(Q.regionIndex+1);else Q=null}}return null}zJ();F0();l0();class my{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(J){if(this._updateEventEmitter=new y,this._hasLineChanges=!1,this._foldingModel=J,this._foldingModelListener=J.onDidChange(($)=>this.updateHiddenRanges()),this._hiddenRanges=[],J.regions.length)this.updateHiddenRanges()}notifyChangeModelContent(J){if(this._hiddenRanges.length&&!this._hasLineChanges)this._hasLineChanges=J.changes.some(($)=>{return $.range.endLineNumber!==$.range.startLineNumber||s9($.text)[0]!==0})}updateHiddenRanges(){let J=!1,$=[],Q=0,X=0,Y=Number.MAX_VALUE,Z=-1,G=this._foldingModel.regions;for(;Q<G.length;Q++){if(!G.isCollapsed(Q))continue;let q=G.getStartLineNumber(Q)+1,U=G.getEndLineNumber(Q);if(Y<=q&&U<=Z)continue;if(!J&&X<this._hiddenRanges.length&&this._hiddenRanges[X].startLineNumber===q&&this._hiddenRanges[X].endLineNumber===U)$.push(this._hiddenRanges[X]),X++;else J=!0,$.push(new L(q,1,U,1));Y=q,Z=U}if(this._hasLineChanges||J||X<this._hiddenRanges.length)this.applyHiddenRanges($)}applyHiddenRanges(J){this._hiddenRanges=J,this._hasLineChanges=!1,this._updateEventEmitter.fire(J)}hasRanges(){return this._hiddenRanges.length>0}isHidden(J){return Jt(this._hiddenRanges,J)!==null}adjustSelections(J){let $=!1,Q=this._foldingModel.textModel,X=null,Y=(Z)=>{if(!X||!GX0(Z,X))X=Jt(this._hiddenRanges,Z);if(X)return X.startLineNumber-1;return null};for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z],U=Y(q.startLineNumber);if(U)q=q.setStartPosition(U,Q.getLineMaxColumn(U)),$=!0;let z=Y(q.endLineNumber);if(z)q=q.setEndPosition(z,Q.getLineMaxColumn(z)),$=!0;J[Z]=q}return $}dispose(){if(this.hiddenRanges.length>0)this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges);if(this._foldingModelListener)this._foldingModelListener.dispose(),this._foldingModelListener=null}}function GX0(J,$){return J>=$.startLineNumber&&J<=$.endLineNumber}function Jt(J,$){let Q=Wq(J,(X)=>$<X.startLineNumber)-1;if(Q>=0&&J[Q].endLineNumber>=$)return J[Q];return null}var qX0=5000,UX0="indent";class UR{constructor(J,$,Q){this.editorModel=J,this.languageConfigurationService=$,this.foldingRangesLimit=Q,this.id=UX0}dispose(){}compute(J){let $=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,Q=$&&!!$.offSide,X=$&&$.markers;return Promise.resolve(HX0(this.editorModel,Q,X,this.foldingRangesLimit))}}class $t{constructor(J){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=J}insertFirst(J,$,Q){if(J>KU||$>KU)return;let X=this._length;if(this._startIndexes[X]=J,this._endIndexes[X]=$,this._length++,Q<1000)this._indentOccurrences[Q]=(this._indentOccurrences[Q]||0)+1}toIndentRanges(J){let $=this._foldingRangesLimit.limit;if(this._length<=$){this._foldingRangesLimit.update(this._length,!1);let Q=new Uint32Array(this._length),X=new Uint32Array(this._length);for(let Y=this._length-1,Z=0;Y>=0;Y--,Z++)Q[Z]=this._startIndexes[Y],X[Z]=this._endIndexes[Y];return new d8(Q,X)}else{this._foldingRangesLimit.update(this._length,$);let Q=0,X=this._indentOccurrences.length;for(let q=0;q<this._indentOccurrences.length;q++){let U=this._indentOccurrences[q];if(U){if(U+Q>$){X=q;break}Q+=U}}let Y=J.getOptions().tabSize,Z=new Uint32Array($),G=new Uint32Array($);for(let q=this._length-1,U=0;q>=0;q--){let z=this._startIndexes[q],H=J.getLineContent(z),j=wH(H,Y);if(j<X||j===X&&Q++<$)Z[U]=z,G[U]=this._endIndexes[q],U++}return new d8(Z,G)}}}var zX0={limit:qX0,update:()=>{}};function HX0(J,$,Q,X=zX0){let Y=J.getOptions().tabSize,Z=new $t(X),G=void 0;if(Q)G=new RegExp(`(${Q.start.source})|(?:${Q.end.source})`);let q=[],U=J.getLineCount()+1;q.push({indent:-1,endAbove:U,line:U});for(let z=J.getLineCount();z>0;z--){let H=J.getLineContent(z),j=wH(H,Y),V=q[q.length-1];if(j===-1){if($)V.endAbove=z;continue}let W;if(G&&(W=H.match(G)))if(W[1]){let B=q.length-1;while(B>0&&q[B].indent!==-2)B--;if(B>0){q.length=B+1,V=q[B],Z.insertFirst(z,V.line,j),V.line=z,V.indent=j,V.endAbove=z;continue}}else{q.push({indent:-2,endAbove:z,line:z});continue}if(V.indent>j){do q.pop(),V=q[q.length-1];while(V.indent>j);let B=V.endAbove-1;if(B-z>=1)Z.insertFirst(z,B,j)}if(V.indent===j)V.endAbove=z;else q.push({indent:j,endAbove:z,line:z})}return Z.toIndentRanges(J)}g0();m1();U5();v7();EY();g0();N8();ZU();s6();H5();var jX0=E("editor.foldBackground",{light:L0(cQ,0.3),dark:L0(cQ,0.3),hcDark:null,hcLight:null},F("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);E("editorGutter.foldingControlForeground",{dark:KJ,light:KJ,hcDark:KJ,hcLight:KJ},F("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var uy=Z7("folding-expanded",U0.chevronDown,F("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),cy=Z7("folding-collapsed",U0.chevronRight,F("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Qt=Z7("folding-manual-collapsed",cy,F("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),Xt=Z7("folding-manual-expanded",uy,F("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),ly={color:tQ(jX0),position:w4.Inline},AU=F("linesCollapsed","Click to expand the range."),zR=F("linesExpanded","Click to collapse the range.");class a6{constructor(J){this.editor=J,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(J,$,Q){if($)return a6.HIDDEN_RANGE_DECORATION;if(this.showFoldingControls==="never"){if(J)return this.showFoldingHighlights?a6.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:a6.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;return a6.NO_CONTROLS_EXPANDED_RANGE_DECORATION}if(J)return Q?this.showFoldingHighlights?a6.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:a6.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?a6.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:a6.COLLAPSED_VISUAL_DECORATION;else if(this.showFoldingControls==="mouseover")return Q?a6.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:a6.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;else return Q?a6.MANUALLY_EXPANDED_VISUAL_DECORATION:a6.EXPANDED_VISUAL_DECORATION}changeDecorations(J){return this.editor.changeDecorations(J)}removeDecorations(J){this.editor.removeDecorations(J)}}a6.COLLAPSED_VISUAL_DECORATION=L1.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:AU,firstLineDecorationClassName:b0.asClassName(cy)});a6.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=L1.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ly,isWholeLine:!0,linesDecorationsTooltip:AU,firstLineDecorationClassName:b0.asClassName(cy)});a6.MANUALLY_COLLAPSED_VISUAL_DECORATION=L1.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:AU,firstLineDecorationClassName:b0.asClassName(Qt)});a6.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=L1.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ly,isWholeLine:!0,linesDecorationsTooltip:AU,firstLineDecorationClassName:b0.asClassName(Qt)});a6.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=L1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:AU});a6.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=L1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:ly,isWholeLine:!0,linesDecorationsTooltip:AU});a6.EXPANDED_VISUAL_DECORATION=L1.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+b0.asClassName(uy),linesDecorationsTooltip:zR});a6.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=L1.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:b0.asClassName(uy),linesDecorationsTooltip:zR});a6.MANUALLY_EXPANDED_VISUAL_DECORATION=L1.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+b0.asClassName(Xt),linesDecorationsTooltip:zR});a6.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=L1.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:b0.asClassName(Xt),linesDecorationsTooltip:zR});a6.NO_CONTROLS_EXPANDED_RANGE_DECORATION=L1.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});a6.HIDDEN_RANGE_DECORATION=L1.register({description:"folding-hidden-range-decoration",stickiness:1});P1();Q0();var VX0={},WX0="syntax";class HR{constructor(J,$,Q,X,Y){if(this.editorModel=J,this.providers=$,this.handleFoldingRangesChange=Q,this.foldingRangesLimit=X,this.fallbackRangeProvider=Y,this.id=WX0,this.disposables=new r,Y)this.disposables.add(Y);for(let Z of $)if(typeof Z.onDidChange==="function")this.disposables.add(Z.onDidChange(Q))}compute(J){return BX0(this.providers,this.editorModel,J).then(($)=>{var Q,X;if($)return FX0($,this.foldingRangesLimit);return(X=(Q=this.fallbackRangeProvider)===null||Q===void 0?void 0:Q.compute(J))!==null&&X!==void 0?X:null})}dispose(){this.disposables.dispose()}}function BX0(J,$,Q){let X=null,Y=J.map((Z,G)=>{return Promise.resolve(Z.provideFoldingRanges($,VX0,Q)).then((q)=>{if(Q.isCancellationRequested)return;if(Array.isArray(q)){if(!Array.isArray(X))X=[];let U=$.getLineCount();for(let z of q)if(z.start>0&&z.end>z.start&&z.end<=U)X.push({start:z.start,end:z.end,rank:G,kind:z.kind})}},tJ)});return Promise.all(Y).then((Z)=>{return X})}class Yt{constructor(J){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=J}add(J,$,Q,X){if(J>KU||$>KU)return;let Y=this._length;if(this._startIndexes[Y]=J,this._endIndexes[Y]=$,this._nestingLevels[Y]=X,this._types[Y]=Q,this._length++,X<30)this._nestingLevelCounts[X]=(this._nestingLevelCounts[X]||0)+1}toIndentRanges(){let J=this._foldingRangesLimit.limit;if(this._length<=J){this._foldingRangesLimit.update(this._length,!1);let $=new Uint32Array(this._length),Q=new Uint32Array(this._length);for(let X=0;X<this._length;X++)$[X]=this._startIndexes[X],Q[X]=this._endIndexes[X];return new d8($,Q,this._types)}else{this._foldingRangesLimit.update(this._length,J);let $=0,Q=this._nestingLevelCounts.length;for(let G=0;G<this._nestingLevelCounts.length;G++){let q=this._nestingLevelCounts[G];if(q){if(q+$>J){Q=G;break}$+=q}}let X=new Uint32Array(J),Y=new Uint32Array(J),Z=[];for(let G=0,q=0;G<this._length;G++){let U=this._nestingLevels[G];if(U<Q||U===Q&&$++<J)X[q]=this._startIndexes[G],Y[q]=this._endIndexes[G],Z[q]=this._types[G],q++}return new d8(X,Y,Z)}}}function FX0(J,$){let Q=J.sort((G,q)=>{let U=G.start-q.start;if(U===0)U=G.rank-q.rank;return U}),X=new Yt($),Y=void 0,Z=[];for(let G of Q)if(!Y)Y=G,X.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else if(G.start>Y.start)if(G.end<=Y.end)Z.push(Y),Y=G,X.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else{if(G.start>Y.end){do Y=Z.pop();while(Y&&G.start>Y.end);if(Y)Z.push(Y);Y=G}X.add(G.start,G.end,G.kind&&G.kind.value,Z.length)}return X.toIndentRanges()}VX();CL();J$();l9();F0();e8();o6();_Q();v8();var KX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},uV=function(J,$){return function(Q,X){$(Q,X,J)}},PU,L8=new H0("foldingEnabled",!1),NG=PU=class J extends h{static get($){return $.getContribution(PU.ID)}static getFoldingRangeProviders($,Q){var X,Y;let Z=$.foldingRangeProvider.ordered(Q);return(Y=(X=PU._foldingRangeSelector)===null||X===void 0?void 0:X.call(PU,Z,Q))!==null&&Y!==void 0?Y:Z}constructor($,Q,X,Y,Z,G){super();this.contextKeyService=Q,this.languageConfigurationService=X,this.languageFeaturesService=G,this.localToDispose=this._register(new r),this.editor=$,this._foldingLimitReporter=new Zt($);let q=this.editor.getOptions();this._isEnabled=q.get(43),this._useFoldingProviders=q.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=q.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=q.get(46),this.updateDebounceInfo=Z.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new a6($),this.foldingDecorationProvider.showFoldingControls=q.get(109),this.foldingDecorationProvider.showFoldingHighlights=q.get(45),this.foldingEnabled=L8.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration((U)=>{if(U.hasChanged(43))this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged();if(U.hasChanged(47))this.onModelChanged();if(U.hasChanged(109)||U.hasChanged(45)){let z=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=z.get(109),this.foldingDecorationProvider.showFoldingHighlights=z.get(45),this.triggerFoldingModelChanged()}if(U.hasChanged(44))this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged();if(U.hasChanged(48))this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48);if(U.hasChanged(46))this._foldingImportsByDefault=this.editor.getOptions().get(46)})),this.onModelChanged()}saveViewState(){let $=this.editor.getModel();if(!$||!this._isEnabled||$.isTooLargeForTokenization())return{};if(this.foldingModel){let Q=this.foldingModel.getMemento(),X=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Q,lineCount:$.getLineCount(),provider:X,foldedImports:this._currentModelHasFoldedImports}}return}restoreViewState($){let Q=this.editor.getModel();if(!Q||!this._isEnabled||Q.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!$)return;if(this._currentModelHasFoldedImports=!!$.foldedImports,$.collapsedRegions&&$.collapsedRegions.length>0&&this.foldingModel){this._restoringViewState=!0;try{this.foldingModel.applyMemento($.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let $=this.editor.getModel();if(!this._isEnabled||!$||$.isTooLargeForTokenization())return;this._currentModelHasFoldedImports=!1,this.foldingModel=new fy($,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new my(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((Q)=>this.onHiddenRangesChanges(Q))),this.updateScheduler=new R4(this.updateDebounceInfo.get($)),this.cursorChangedScheduler=new t1(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent((Q)=>this.onDidChangeModelContent(Q))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown((Q)=>this.onEditorMouseDown(Q))),this.localToDispose.add(this.editor.onMouseUp((Q)=>this.onEditorMouseUp(Q))),this.localToDispose.add({dispose:()=>{var Q,X;if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;(Q=this.updateScheduler)===null||Q===void 0||Q.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(X=this.rangeProvider)===null||X===void 0||X.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged()}onFoldingStrategyChanged(){var $;($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider($){if(this.rangeProvider)return this.rangeProvider;let Q=new UR($,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=Q,this._useFoldingProviders&&this.foldingModel){let X=PU.getFoldingRangeProviders(this.languageFeaturesService,$);if(X.length>0)this.rangeProvider=new HR($,X,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,Q)}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent($){var Q;(Q=this.hiddenRangeModel)===null||Q===void 0||Q.notifyChangeModelContent($),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){if(this.updateScheduler){if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;this.foldingModelPromise=this.updateScheduler.trigger(()=>{let $=this.foldingModel;if(!$)return null;let Q=new G5,X=this.getRangeProvider($.textModel),Y=this.foldingRegionPromise=dZ((Z)=>X.compute(Z));return Y.then((Z)=>{if(Z&&Y===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let H=Z.setCollapsedAllOfType(A8.Imports.value,!0);if(H)G=g4.capture(this.editor),this._currentModelHasFoldedImports=H}let q=this.editor.getSelections(),U=q?q.map((H)=>H.startLineNumber):[];$.update(Z,U),G===null||G===void 0||G.restore(this.editor);let z=this.updateDebounceInfo.update($.textModel,Q.elapsed());if(this.updateScheduler)this.updateScheduler.defaultDelay=z}return $})}).then(void 0,($)=>{return o0($),null})}}onHiddenRangesChanges($){if(this.hiddenRangeModel&&$.length&&!this._restoringViewState){let Q=this.editor.getSelections();if(Q){if(this.hiddenRangeModel.adjustSelections(Q))this.editor.setSelections(Q)}}this.editor.setHiddenAreas($,this)}onCursorPositionChanged(){if(this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges())this.cursorChangedScheduler.schedule()}revealCursor(){let $=this.getFoldingModel();if(!$)return;$.then((Q)=>{if(Q){let X=this.editor.getSelections();if(X&&X.length>0){let Y=[];for(let Z of X){let G=Z.selectionStartLineNumber;if(this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G))Y.push(...Q.getAllRegionsAtLine(G,(q)=>q.isCollapsed&&G>q.startLineNumber))}if(Y.length)Q.toggleCollapseState(Y),this.reveal(X[0].getPosition())}}}).then(void 0,o0)}onEditorMouseDown($){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!$.target||!$.target.range)return;if(!$.event.leftButton&&!$.event.middleButton)return;let Q=$.target.range,X=!1;switch($.target.type){case 4:{let Y=$.target.detail,Z=$.target.element.offsetLeft;if(Y.offsetX-Z<4)return;X=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!$.target.detail.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){let Y=this.editor.getModel();if(Y&&Q.startColumn===Y.getLineMaxColumn(Q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Q.startLineNumber,iconClicked:X}}onEditorMouseUp($){let Q=this.foldingModel;if(!Q||!this.mouseDownInfo||!$.target)return;let X=this.mouseDownInfo.lineNumber,Y=this.mouseDownInfo.iconClicked,Z=$.target.range;if(!Z||Z.startLineNumber!==X)return;if(Y){if($.target.type!==4)return}else{let q=this.editor.getModel();if(!q||Z.startColumn!==q.getLineMaxColumn(X))return}let G=Q.getRegionAtLine(X);if(G&&G.startLineNumber===X){let q=G.isCollapsed;if(Y||q){let U=$.event.altKey,z=[];if(U){let H=(V)=>!V.containedBy(G)&&!G.containedBy(V),j=Q.getRegionsInside(null,H);for(let V of j)if(V.isCollapsed)z.push(V);if(z.length===0)z=j}else{let H=$.event.middleButton||$.event.shiftKey;if(H){for(let j of Q.getRegionsInside(G))if(j.isCollapsed===q)z.push(j)}if(q||!H||z.length===0)z.push(G)}Q.toggleCollapseState(z),this.reveal({lineNumber:X,column:1})}}}reveal($){this.editor.revealPositionInCenterIfOutsideViewport($,0)}};NG.ID="editor.contrib.folding";NG=PU=KX0([uV(1,h0),uV(2,_6),uV(3,a5),uV(4,SL),uV(5,F1)],NG);class Zt{constructor(J){this.editor=J,this._onDidChange=new y,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(J,$){if(J!==this._computed||$!==this._limited)this._computed=J,this._limited=$,this._onDidChange.fire()}}class k8 extends O4{runEditorCommand(J,$,Q){let X=J.get(_6),Y=NG.get($);if(!Y)return;let Z=Y.getFoldingModel();if(Z)return this.reportTelemetry(J,$),Z.then((G)=>{if(G){this.invoke(Y,G,$,Q,X);let q=$.getSelection();if(q)Y.reveal(q.getStartPosition())}})}getSelectedLines(J){let $=J.getSelections();return $?$.map((Q)=>Q.startLineNumber):[]}getLineNumbers(J,$){if(J&&J.selectionLines)return J.selectionLines.map((Q)=>Q+1);return this.getSelectedLines($)}run(J,$){}}function Gt(J){if(!o5(J)){if(!r6(J))return!1;let $=J;if(!o5($.levels)&&!e7($.levels))return!1;if(!o5($.direction)&&!Y5($.direction))return!1;if(!o5($.selectionLines)&&(!Array.isArray($.selectionLines)||!$.selectionLines.every(e7)))return!1}return!0}class qt extends k8{constructor(){super({id:"editor.unfold",label:F("unfoldAction.label","Unfold"),alias:"Unfold",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.
\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
\t\t\t\t\t\t`,constraint:Gt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,Q,X){let Y=X&&X.levels||1,Z=this.getLineNumbers(X,Q);if(X&&X.direction==="up")gy($,!1,Y,Z);else OG($,!1,Y,Z)}}class Ut extends k8{constructor(){super({id:"editor.unfoldRecursively",label:F("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2142),weight:100}})}invoke(J,$,Q,X){OG($,!1,Number.MAX_VALUE,this.getSelectedLines(Q))}}class zt extends k8{constructor(){super({id:"editor.fold",label:F("foldAction.label","Fold"),alias:"Fold",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
\t\t\t\t\t\t\t* 'levels': Number of levels to fold.
\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.
\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
\t\t\t\t\t\t`,constraint:Gt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,Q,X){let Y=this.getLineNumbers(X,Q),Z=X&&X.levels,G=X&&X.direction;if(typeof Z!=="number"&&typeof G!=="string")io($,!0,Y);else if(G==="up")gy($,!0,Z||1,Y);else OG($,!0,Z||1,Y)}}class Ht extends k8{constructor(){super({id:"editor.toggleFold",label:F("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2090),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);ro($,1,X)}}class jt extends k8{constructor(){super({id:"editor.foldRecursively",label:F("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2140),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);OG($,!0,Number.MAX_VALUE,X)}}class Vt extends k8{constructor(){super({id:"editor.foldAllBlockComments",label:F("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2138),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())qR($,A8.Comment.value,!0);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).comments;if(G&&G.blockCommentStartToken){let q=new RegExp("^\\s*"+o8(G.blockCommentStartToken));GR($,q,!0)}}}}class Wt extends k8{constructor(){super({id:"editor.foldAllMarkerRegions",label:F("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2077),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())qR($,A8.Region.value,!0);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let q=new RegExp(G.markers.start);GR($,q,!0)}}}}class Bt extends k8{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:F("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2078),weight:100}})}invoke(J,$,Q,X,Y){if($.regions.hasTypes())qR($,A8.Region.value,!1);else{let Z=Q.getModel();if(!Z)return;let G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){let q=new RegExp(G.markers.start);GR($,q,!1)}}}}class Ft extends k8{constructor(){super({id:"editor.foldAllExcept",label:F("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2136),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);py($,!0,X)}}class Kt extends k8{constructor(){super({id:"editor.unfoldAllExcept",label:F("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2134),weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);py($,!1,X)}}class At extends k8{constructor(){super({id:"editor.foldAll",label:F("foldAllAction.label","Fold All"),alias:"Fold All",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2069),weight:100}})}invoke(J,$,Q){OG($,!0)}}class Pt extends k8{constructor(){super({id:"editor.unfoldAll",label:F("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2088),weight:100}})}invoke(J,$,Q){OG($,!1)}}class TG extends k8{getFoldingLevel(){return parseInt(this.id.substr(TG.ID_PREFIX.length))}invoke(J,$,Q){no($,this.getFoldingLevel(),!0,this.getSelectedLines(Q))}}TG.ID_PREFIX="editor.foldLevel";TG.ID=(J)=>TG.ID_PREFIX+J;class Dt extends k8{constructor(){super({id:"editor.gotoParentFold",label:F("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=oo(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class Rt extends k8{constructor(){super({id:"editor.gotoPreviousFold",label:F("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=to(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class Mt extends k8{constructor(){super({id:"editor.gotoNextFold",label:F("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,Q){let X=this.getSelectedLines(Q);if(X.length>0){let Y=eo(X[0],$);if(Y!==null)Q.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class _t extends k8{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:F("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2135),weight:100}})}invoke(J,$,Q){var X;let Y=[],Z=Q.getSelections();if(Z){for(let G of Z){let q=G.endLineNumber;if(G.endColumn===1)--q;if(q>G.startLineNumber)Y.push({startLineNumber:G.startLineNumber,endLineNumber:q,type:void 0,isCollapsed:!0,source:1}),Q.setSelection({startLineNumber:G.startLineNumber,startColumn:1,endLineNumber:G.startLineNumber,endColumn:1})}if(Y.length>0){Y.sort((q,U)=>{return q.startLineNumber-U.startLineNumber});let G=d8.sanitizeAndMerge($.regions,Y,(X=Q.getModel())===null||X===void 0?void 0:X.getLineCount());$.updatePost(d8.fromFoldRanges(G))}}}}class Ot extends k8{constructor(){super({id:"editor.removeManualFoldingRanges",label:F("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2137),weight:100}})}invoke(J,$,Q){let X=Q.getSelections();if(X){let Y=[];for(let Z of X){let{startLineNumber:G,endLineNumber:q}=Z;Y.push(q>=G?{startLineNumber:G,endLineNumber:q}:{endLineNumber:q,startLineNumber:G})}$.removeManualRanges(Y),J.triggerFoldingModelChanged()}}}x9(NG.ID,NG,0);J5(qt);J5(Ut);J5(zt);J5(jt);J5(At);J5(Pt);J5(Vt);J5(Wt);J5(Bt);J5(Ft);J5(Kt);J5(Ht);J5(Dt);J5(Rt);J5(Mt);J5(_t);J5(Ot);for(let J=1;J<=7;J++)RC(new TG({id:TG.ID(J),label:F("foldLevelAction.label","Fold Level {0}",J),alias:`Fold Level ${J}`,precondition:L8,kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2048|21+J),weight:100}}));z6.registerCommand("_executeFoldingRangeProvider",async function(J,...$){let[Q]=$;if(!(Q instanceof I0))throw t4();let X=J.get(F1),Y=J.get(z5).getModel(Q);if(!Y)throw t4();let Z=J.get(y1);if(!Z.getValue("editor.folding",{resource:Q}))return[];let G=J.get(_6),q=Z.getValue("editor.foldingStrategy",{resource:Q}),U={get limit(){return Z.getValue("editor.foldingMaximumRegions",{resource:Q})},update:(W,B)=>{}},z=new UR(Y,G,U),H=z;if(q!=="indentation"){let W=NG.getFoldingRangeProviders(X,Y);if(W.length)H=new HR(Y,W,()=>{},U,z)}let j=await H.compute(n6.None),V=[];try{if(j)for(let W=0;W<j.length;W++){let B=j.getType(W);V.push({start:j.getStartLineNumber(W),end:j.getEndLineNumber(W),kind:B?A8.fromValue(B):void 0})}return V}finally{H.dispose()}});U1();e5();P1();IZ();Q0();b9();Y9();Hq();l0();$X();d3();l9();Sy();Ey();g0();KG();e8();m1();u0();wj();var Nt=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},cV=function(J,$){return function(Q,X){$(Q,X,J)}},lV=class J{constructor($,Q,X,Y){this._editor=$,this._languageFeaturesService=Q,this._workerService=X,this._audioCueService=Y,this._disposables=new r,this._sessionDisposables=new r,this._disposables.add(Q.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration((Z)=>{if(Z.hasChanged(56))this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;let $=this._editor.getModel(),[Q]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!Q||!Q.autoFormatTriggerCharacters)return;let X=new vz;for(let Y of Q.autoFormatTriggerCharacters)X.add(Y.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((Y)=>{let Z=Y.charCodeAt(Y.length-1);if(X.has(Z))this._trigger(String.fromCharCode(Z))}))}_trigger($){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let Q=this._editor.getModel(),X=this._editor.getPosition(),Y=new q5,Z=this._editor.onDidChangeModelContent((G)=>{if(G.isFlush){Y.cancel(),Z.dispose();return}for(let q=0,U=G.changes.length;q<U;q++)if(G.changes[q].range.endLineNumber<=X.lineNumber){Y.cancel(),Z.dispose();return}});by(this._workerService,this._languageFeaturesService,Q,X,$,Q.getFormattingOptions(),Y.token).then((G)=>{if(Y.token.isCancellationRequested)return;if(_9(G))this._audioCueService.playAudioCue(Q1.format,{userGesture:!1}),JZ.execute(this._editor,G,!0)}).finally(()=>{Z.dispose()})}};lV.ID="editor.contrib.autoFormat";lV=Nt([cV(1,F1),cV(2,A9),cV(3,n9)],lV);var dV=class J{constructor($,Q,X){this.editor=$,this._languageFeaturesService=Q,this._instantiationService=X,this._callOnDispose=new r,this._callOnModel=new r,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Q.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this.editor.getOption(55))return;if(!this.editor.hasModel())return;if(!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel()))return;this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){if(!this.editor.hasModel())return;if(this.editor.getSelections().length>1)return;this._instantiationService.invokeFunction(xy,this.editor,$,2,b3.None,n6.None,!1).catch(o0)}};dV.ID="editor.contrib.formatOnPaste";dV=Nt([cV(1,F1),cV(2,p0)],dV);class Tt extends O4{constructor(){super({id:"editor.action.formatDocument",label:F("formatDocument.label","Format Document"),alias:"Format Document",precondition:N0.and(n.notInCompositeEditor,n.writable,n.hasDocumentFormattingProvider),kbOpts:{kbExpr:n.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(J,$){if($.hasModel()){let Q=J.get(p0);await J.get(PX).showWhile(Q.invokeFunction(so,$,1,b3.None,n6.None,!0),250)}}}class wt extends O4{constructor(){super({id:"editor.action.formatSelection",label:F("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:N0.and(n.writable,n.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:n.editorTextFocus,primary:b8(2089,2084),weight:100},contextMenuOpts:{when:n.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(J,$){if(!$.hasModel())return;let Q=J.get(p0),X=$.getModel(),Y=$.getSelections().map((G)=>{return G.isEmpty()?new L(G.startLineNumber,1,G.startLineNumber,X.getLineMaxColumn(G.startLineNumber)):G});await J.get(PX).showWhile(Q.invokeFunction(xy,$,Y,1,b3.None,n6.None,!0),250)}}x9(lV.ID,lV,2);x9(dV.ID,dV,2);J5(Tt);J5(wt);z6.registerCommand("editor.action.format",async(J)=>{let $=J.get(l1).getFocusedCodeEditor();if(!$||!$.hasModel())return;let Q=J.get(j5);if($.getSelection().isEmpty())await Q.executeCommand("editor.action.formatDocument");else await Q.executeCommand("editor.action.formatSelection")});UY();U1();e5();P1();F0();cZ();Q0();M1();J$();b9();Mj();l0();$X();Q0();b9();$X();h8();l9();e5();P1();vY();Q0();J$();o6();l0();qz();class u4{constructor(){this.value="",this.pos=0}static isDigitCharacter(J){return J>=48&&J<=57}static isVariableCharacter(J){return J===95||J>=97&&J<=122||J>=65&&J<=90}text(J){this.value=J,this.pos=0}tokenText(J){return this.value.substr(J.pos,J.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let J=this.pos,$=0,Q=this.value.charCodeAt(J),X;if(X=u4._table[Q],typeof X==="number")return this.pos+=1,{type:X,pos:J,len:1};if(u4.isDigitCharacter(Q)){X=8;do $+=1,Q=this.value.charCodeAt(J+$);while(u4.isDigitCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}if(u4.isVariableCharacter(Q)){X=9;do Q=this.value.charCodeAt(J+ ++$);while(u4.isVariableCharacter(Q)||u4.isDigitCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}X=10;do $+=1,Q=this.value.charCodeAt(J+$);while(!isNaN(Q)&&typeof u4._table[Q]==="undefined"&&!u4.isDigitCharacter(Q)&&!u4.isVariableCharacter(Q));return this.pos+=$,{type:X,pos:J,len:$}}}u4._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class wG{constructor(){this._children=[]}appendChild(J){if(J instanceof s8&&this._children[this._children.length-1]instanceof s8)this._children[this._children.length-1].value+=J.value;else J.parent=this,this._children.push(J);return this}replace(J,$){let{parent:Q}=J,X=Q.children.indexOf(J),Y=Q.children.slice(0);Y.splice(X,1,...$),Q._children=Y,function Z(G,q){for(let U of G)U.parent=q,Z(U.children,U)}($,Q)}get children(){return this._children}get rightMostDescendant(){if(this._children.length>0)return this._children[this._children.length-1].rightMostDescendant;return this}get snippet(){let J=this;while(!0){if(!J)return;if(J instanceof DU)return J;J=J.parent}}toString(){return this.children.reduce((J,$)=>J+$.toString(),"")}len(){return 0}}class s8 extends wG{constructor(J){super();this.value=J}toString(){return this.value}len(){return this.value.length}clone(){return new s8(this.value)}}class dy extends wG{}class D9 extends dy{static compareByIndex(J,$){if(J.index===$.index)return 0;else if(J.isFinalTabstop)return 1;else if($.isFinalTabstop)return-1;else if(J.index<$.index)return-1;else if(J.index>$.index)return 1;else return 0}constructor(J){super();this.index=J}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof LG?this._children[0]:void 0}clone(){let J=new D9(this.index);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class LG extends wG{constructor(){super(...arguments);this.options=[]}appendChild(J){if(J instanceof s8)J.parent=this,this.options.push(J);return this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let J=new LG;return this.options.forEach(J.appendChild,J),J}}class sy extends wG{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(J){let $=this,Q=!1,X=J.replace(this.regexp,function(){return Q=!0,$._replace(Array.prototype.slice.call(arguments,0,-2))});if(!Q&&this._children.some((Y)=>Y instanceof cJ&&Boolean(Y.elseValue)))X=this._replace([]);return X}_replace(J){let $="";for(let Q of this._children)if(Q instanceof cJ){let X=J[Q.index]||"";X=Q.resolve(X),$+=X}else $+=Q.toString();return $}toString(){return""}clone(){let J=new sy;return J.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),J._children=this.children.map(($)=>$.clone()),J}}class cJ extends wG{constructor(J,$,Q,X){super();this.index=J,this.shorthandName=$,this.ifValue=Q,this.elseValue=X}resolve(J){if(this.shorthandName==="upcase")return!J?"":J.toLocaleUpperCase();else if(this.shorthandName==="downcase")return!J?"":J.toLocaleLowerCase();else if(this.shorthandName==="capitalize")return!J?"":J[0].toLocaleUpperCase()+J.substr(1);else if(this.shorthandName==="pascalcase")return!J?"":this._toPascalCase(J);else if(this.shorthandName==="camelcase")return!J?"":this._toCamelCase(J);else if(Boolean(J)&&typeof this.ifValue==="string")return this.ifValue;else if(!Boolean(J)&&typeof this.elseValue==="string")return this.elseValue;else return J||""}_toPascalCase(J){let $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((Q)=>{return Q.charAt(0).toUpperCase()+Q.substr(1)}).join("")}_toCamelCase(J){let $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((Q,X)=>{if(X===0)return Q.charAt(0).toLowerCase()+Q.substr(1);return Q.charAt(0).toUpperCase()+Q.substr(1)}).join("")}clone(){return new cJ(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class sV extends dy{constructor(J){super();this.name=J}resolve(J){let $=J.resolve(this);if(this.transform)$=this.transform.resolve($||"");if($!==void 0)return this._children=[new s8($)],!0;return!1}clone(){let J=new sV(this.name);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}function Lt(J,$){let Q=[...J];while(Q.length>0){let X=Q.shift();if(!$(X))break;Q.unshift(...X.children)}}class DU extends wG{get placeholderInfo(){if(!this._placeholders){let J=[],$;this.walk(function(Q){if(Q instanceof D9)J.push(Q),$=!$||$.index<Q.index?Q:$;return!0}),this._placeholders={all:J,last:$}}return this._placeholders}get placeholders(){let{all:J}=this.placeholderInfo;return J}offset(J){let $=0,Q=!1;if(this.walk((X)=>{if(X===J)return Q=!0,!1;return $+=X.len(),!0}),!Q)return-1;return $}fullLen(J){let $=0;return Lt([J],(Q)=>{return $+=Q.len(),!0}),$}enclosingPlaceholders(J){let $=[],{parent:Q}=J;while(Q){if(Q instanceof D9)$.push(Q);Q=Q.parent}return $}resolveVariables(J){return this.walk(($)=>{if($ instanceof sV){if($.resolve(J))this._placeholders=void 0}return!0}),this}appendChild(J){return this._placeholders=void 0,super.appendChild(J)}replace(J,$){return this._placeholders=void 0,super.replace(J,$)}clone(){let J=new DU;return this._children=this.children.map(($)=>$.clone()),J}walk(J){Lt(this.children,J)}}class XZ{constructor(){this._scanner=new u4,this._token={type:14,pos:0,len:0}}static escape(J){return J.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(J){return/\${?CLIPBOARD/.test(J)}parse(J,$,Q){let X=new DU;return this.parseFragment(J,X),this.ensureFinalTabstop(X,Q!==null&&Q!==void 0?Q:!1,$!==null&&$!==void 0?$:!1),X}parseFragment(J,$){let Q=$.children.length;this._scanner.text(J),this._token=this._scanner.next();while(this._parse($));let X=new Map,Y=[];$.walk((q)=>{if(q instanceof D9)if(q.isFinalTabstop)X.set(0,void 0);else if(!X.has(q.index)&&q.children.length>0)X.set(q.index,q.children);else Y.push(q);return!0});let Z=(q,U)=>{let z=X.get(q.index);if(!z)return;let H=new D9(q.index);H.transform=q.transform;for(let j of z){let V=j.clone();if(H.appendChild(V),V instanceof D9&&X.has(V.index)&&!U.has(V.index))U.add(V.index),Z(V,U),U.delete(V.index)}$.replace(q,[H])},G=new Set;for(let q of Y)Z(q,G);return $.children.slice(Q)}ensureFinalTabstop(J,$,Q){if($||Q&&J.placeholders.length>0){if(!J.placeholders.find((Y)=>Y.index===0))J.appendChild(new D9(0))}}_accept(J,$){if(J===void 0||this._token.type===J){let Q=!$?!0:this._scanner.tokenText(this._token);return this._token=this._scanner.next(),Q}return!1}_backTo(J){return this._scanner.pos=J.pos+J.len,this._token=J,!1}_until(J){let $=this._token;while(this._token.type!==J){if(this._token.type===14)return!1;else if(this._token.type===5){let X=this._scanner.next();if(X.type!==0&&X.type!==4&&X.type!==5)return!1}this._token=this._scanner.next()}let Q=this._scanner.value.substring($.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),Q}_parse(J){return this._parseEscaped(J)||this._parseTabstopOrVariableName(J)||this._parseComplexPlaceholder(J)||this._parseComplexVariable(J)||this._parseAnything(J)}_parseEscaped(J){let $;if($=this._accept(5,!0))return $=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||$,J.appendChild(new s8($)),!0;return!1}_parseTabstopOrVariableName(J){let $,Q=this._token;if(!(this._accept(0)&&($=this._accept(9,!0)||this._accept(8,!0))))return this._backTo(Q);return J.appendChild(/^\d+$/.test($)?new D9(Number($)):new sV($)),!0}_parseComplexPlaceholder(J){let $,Q=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(8,!0))))return this._backTo(Q);let Y=new D9(Number($));if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new s8("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(Y.index>0&&this._accept(7)){let Z=new LG;while(!0){if(this._parseChoiceElement(Z)){if(this._accept(2))continue;if(this._accept(7)){if(Y.appendChild(Z),this._accept(4))return J.appendChild(Y),!0}}return this._backTo(Q),!1}}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(Q),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(Q)}_parseChoiceElement(J){let $=this._token,Q=[];while(!0){if(this._token.type===2||this._token.type===7)break;let X;if(X=this._accept(5,!0))X=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||X;else X=this._accept(void 0,!0);if(!X)return this._backTo($),!1;Q.push(X)}if(Q.length===0)return this._backTo($),!1;return J.appendChild(new s8(Q.join(""))),!0}_parseComplexVariable(J){let $,Q=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(9,!0))))return this._backTo(Q);let Y=new sV($);if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new s8("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(Q),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(Q)}_parseTransform(J){let $=new sy,Q="",X="";while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(6,!0)||Y,Q+=Y;continue}if(this._token.type!==14){Q+=this._accept(void 0,!0);continue}return!1}while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(5,!0)||this._accept(6,!0)||Y,$.appendChild(new s8(Y));continue}if(this._parseFormatString($)||this._parseAnything($))continue;return!1}while(!0){if(this._accept(4))break;if(this._token.type!==14){X+=this._accept(void 0,!0);continue}return!1}try{$.regexp=new RegExp(Q,X)}catch(Y){return!1}return J.transform=$,!0}_parseFormatString(J){let $=this._token;if(!this._accept(0))return!1;let Q=!1;if(this._accept(3))Q=!0;let X=this._accept(8,!0);if(!X)return this._backTo($),!1;else if(!Q)return J.appendChild(new cJ(Number(X))),!0;else if(this._accept(4))return J.appendChild(new cJ(Number(X))),!0;else if(!this._accept(1))return this._backTo($),!1;if(this._accept(6)){let Y=this._accept(9,!0);if(!Y||!this._accept(4))return this._backTo($),!1;else return J.appendChild(new cJ(Number(X),Y)),!0}else if(this._accept(11)){let Y=this._until(4);if(Y)return J.appendChild(new cJ(Number(X),void 0,Y,void 0)),!0}else if(this._accept(12)){let Y=this._until(4);if(Y)return J.appendChild(new cJ(Number(X),void 0,void 0,Y)),!0}else if(this._accept(13)){let Y=this._until(1);if(Y){let Z=this._until(4);if(Z)return J.appendChild(new cJ(Number(X),void 0,Y,Z)),!0}}else{let Y=this._until(4);if(Y)return J.appendChild(new cJ(Number(X),void 0,void 0,Y)),!0}return this._backTo($),!1}_parseAnything(J){if(this._token.type!==14)return J.appendChild(new s8(this._scanner.tokenText(this._token))),this._accept(void 0),!0;return!1}}g0();P4();e8();m1();l9();sP();D0();lj();dP();L$();U5();F0();FE();g0();var AX0=F("defaultLabel","input"),PX0=F("label.preserveCaseToggle","Preserve Case");class kt extends i${constructor(J){super({icon:U0.preserveCase,title:PX0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class ay extends Z8{constructor(J,$,Q,X){super();this._showOptionButtons=Q,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new y),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y),this._onInput=this._register(new y),this._onKeyUp=this._register(new y),this._onPreserveCaseKeyDown=this._register(new y),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=$,this.placeholder=X.placeholder||"",this.validation=X.validation,this.label=X.label||AX0;let Y=X.appendPreserveCaseLabel||"",Z=X.history||[],G=!!X.flexibleHeight,q=!!X.flexibleWidth,U=X.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new sj(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:Z,showHistoryHint:X.showHistoryHint,flexibleHeight:G,flexibleWidth:q,flexibleMaxHeight:U,inputBoxStyles:X.inputBoxStyles})),this.preserveCase=this._register(new kt({appendTitle:Y,isChecked:!1,...X.toggleStyles})),this._register(this.preserveCase.onChange((j)=>{if(this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.preserveCase.onKeyDown((j)=>{this._onPreserveCaseKeyDown.fire(j)})),this._showOptionButtons)this.cachedOptionsWidth=this.preserveCase.width();else this.cachedOptionsWidth=0;let z=[this.preserveCase.domNode];this.onkeydown(this.domNode,(j)=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let V=z.indexOf(this.domNode.ownerDocument.activeElement);if(V>=0){let W=-1;if(j.equals(17))W=(V+1)%z.length;else if(j.equals(15))if(V===0)W=z.length-1;else W=V-1;if(j.equals(9))z[V].blur(),this.inputBox.focus();else if(W>=0)z[W].focus();c0.stop(j,!0)}}});let H=document.createElement("div");H.className="controls",H.style.display=this._showOptionButtons?"block":"none",H.appendChild(this.preserveCase.domNode),this.domNode.appendChild(H),J===null||J===void 0||J.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(j)=>this._onKeyDown.fire(j)),this.onkeyup(this.inputBox.inputElement,(j)=>this._onKeyUp.fire(j)),this.oninput(this.inputBox.inputElement,(j)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(j)=>this._onMouseDown.fire(j))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(J){if(J)this.enable();else this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(J){this.preserveCase.checked=J}focusOnPreserve(){this.preserveCase.focus()}validate(){var J;(J=this.inputBox)===null||J===void 0||J.validate()}set width(J){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=J+"px"}dispose(){super.dispose()}}m1();tG();g0();Q0();D0();var yt=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},xt=function(J,$){return function(Q,X){$(Q,X,J)}},VR=new H0("suggestWidgetVisible",!1,F("suggestWidgetVisible","Whether suggestion are visible")),ry="historyNavigationWidgetFocus",bt="historyNavigationForwardsEnabled",St="historyNavigationBackwardsEnabled",EX=void 0,jR=[];function Ct(J,$){if(jR.includes($))throw new Error("Cannot register the same widget multiple times");jR.push($);let Q=new r,X=new H0(ry,!1).bindTo(J),Y=new H0(bt,!0).bindTo(J),Z=new H0(St,!0).bindTo(J),G=()=>{X.set(!0),EX=$},q=()=>{if(X.set(!1),EX===$)EX=void 0};if(nZ($.element))G();return Q.add($.onDidFocus(()=>G())),Q.add($.onDidBlur(()=>q())),Q.add(K0(()=>{jR.splice(jR.indexOf($),1),q()})),{historyNavigationForwardsEnablement:Y,historyNavigationBackwardsEnablement:Z,dispose(){Q.dispose()}}}var Et=class J extends i3{constructor($,Q,X,Y){super($,Q,X);let Z=this._register(Y.createScoped(this.inputBox.element));this._register(Ct(Z,this.inputBox))}};Et=yt([xt(3,h0)],Et);var It=class J extends ay{constructor($,Q,X,Y,Z=!1){super($,Q,Z,X);let G=this._register(Y.createScoped(this.inputBox.element));this._register(Ct(G,this.inputBox))}};It=yt([xt(3,h0)],It);ZJ.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N0.and(N0.has(ry),N0.equals(St,!0),N0.not("isComposing"),VR.isEqualTo(!1)),primary:16,secondary:[528],handler:(J)=>{EX===null||EX===void 0||EX.showPreviousValue()}});ZJ.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N0.and(N0.has(ry),N0.equals(bt,!0),N0.not("isComposing"),VR.isEqualTo(!1)),primary:18,secondary:[530],handler:(J)=>{EX===null||EX===void 0||EX.showNextValue()}});var Y1={Visible:VR,HasFocusedSuggestion:new H0("suggestWidgetHasFocusedSuggestion",!1,F("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new H0("suggestWidgetDetailsVisible",!1,F("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new H0("suggestWidgetMultipleSuggestions",!1,F("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new H0("suggestionMakesTextEdit",!0,F("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new H0("acceptSuggestionOnEnter",!0,F("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new H0("suggestionHasInsertAndReplaceRange",!1,F("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new H0("suggestionInsertMode",void 0,{type:"string",description:F("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new H0("suggestionCanResolve",!1,F("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},XQ=new I("suggestWidgetStatusBar");class vt{constructor(J,$,Q,X){var Y;if(this.position=J,this.completion=$,this.container=Q,this.provider=X,this.isInvalid=!1,this.score=v4.Default,this.distance=0,this.textLabel=typeof $.label==="string"?$.label:(Y=$.label)===null||Y===void 0?void 0:Y.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=$.sortText&&$.sortText.toLowerCase(),this.filterTextLow=$.filterText&&$.filterText.toLowerCase(),this.extensionId=$.extensionId,L.isIRange($.range))this.editStart=new v($.range.startLineNumber,$.range.startColumn),this.editInsertEnd=new v($.range.endLineNumber,$.range.endColumn),this.editReplaceEnd=new v($.range.endLineNumber,$.range.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range)||$.range.startLineNumber!==J.lineNumber;else this.editStart=new v($.range.insert.startLineNumber,$.range.insert.startColumn),this.editInsertEnd=new v($.range.insert.endLineNumber,$.range.insert.endColumn),this.editReplaceEnd=new v($.range.replace.endLineNumber,$.range.replace.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range.insert)||L.spansMultipleLines($.range.replace)||$.range.insert.startLineNumber!==J.lineNumber||$.range.replace.startLineNumber!==J.lineNumber||$.range.insert.startColumn!==$.range.replace.startColumn;if(typeof X.resolveCompletionItem!=="function")this._resolveCache=Promise.resolve(),this._resolveDuration=0}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(J){if(!this._resolveCache){let $=J.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),Q=new G5(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,J)).then((X)=>{Object.assign(this.completion,X),this._resolveDuration=Q.elapsed()},(X)=>{if(eJ(X))this._resolveCache=void 0,this._resolveDuration=void 0}).finally(()=>{$.dispose()})}return this._resolveCache}}class MU{constructor(J=2,$=new Set,Q=new Set,X=new Map,Y=!0){this.snippetSortOrder=J,this.kindFilter=$,this.providerFilter=Q,this.providerItemsToReuse=X,this.showDeprecated=Y}}MU.default=new MU;var RU;function ht(){return RU}class ft{constructor(J,$,Q,X){this.items=J,this.needsClipboard=$,this.durations=Q,this.disposable=X}}async function iy(J,$,Q,X=MU.default,Y={triggerKind:0},Z=n6.None){let G=new G5;Q=Q.clone();let q=$.getWordAtPosition(Q),U=q?new L(Q.lineNumber,q.startColumn,Q.lineNumber,q.endColumn):L.fromPositions(Q),z={replace:U,insert:U.setEndPosition(Q.lineNumber,Q.column)},H=[],j=new r,V=[],W=!1,B=(P,A,D)=>{var R,M,_;let T=!1;if(!A)return T;for(let w of A.suggestions)if(!X.kindFilter.has(w.kind)){if(!X.showDeprecated&&((R=w===null||w===void 0?void 0:w.tags)===null||R===void 0?void 0:R.includes(1)))continue;if(!w.range)w.range=z;if(!w.sortText)w.sortText=typeof w.label==="string"?w.label:w.label.label;if(!W&&w.insertTextRules&&w.insertTextRules&4)W=XZ.guessNeedsClipboard(w.insertText);H.push(new vt(Q,w,A,P)),T=!0}if(yW(A))j.add(A);return V.push({providerName:(M=P._debugDisplayName)!==null&&M!==void 0?M:"unknown_provider",elapsedProvider:(_=A.duration)!==null&&_!==void 0?_:-1,elapsedOverall:D.elapsed()}),T},K=(async()=>{if(!RU||X.kindFilter.has(27))return;let P=X.providerItemsToReuse.get(RU);if(P){P.forEach((R)=>H.push(R));return}if(X.providerFilter.size>0&&!X.providerFilter.has(RU))return;let A=new G5,D=await RU.provideCompletionItems($,Q,Y,Z);B(RU,D,A)})();for(let P of J.orderedGroups($)){let A=!1;if(await Promise.all(P.map(async(D)=>{if(X.providerItemsToReuse.has(D)){let R=X.providerItemsToReuse.get(D);R.forEach((M)=>H.push(M)),A=A||R.length>0;return}if(X.providerFilter.size>0&&!X.providerFilter.has(D))return;try{let R=new G5,M=await D.provideCompletionItems($,Q,Y,Z);A=B(D,M,R)||A}catch(R){tJ(R)}})),A||Z.isCancellationRequested)break}if(await K,Z.isCancellationRequested)return j.dispose(),Promise.reject(new WQ);return new ft(H.sort(MX0(X.snippetSortOrder)),W,{entries:V,elapsed:G.elapsed()},j)}function ny(J,$){if(J.sortTextLow&&$.sortTextLow){if(J.sortTextLow<$.sortTextLow)return-1;else if(J.sortTextLow>$.sortTextLow)return 1}if(J.textLabel<$.textLabel)return-1;else if(J.textLabel>$.textLabel)return 1;return J.completion.kind-$.completion.kind}function DX0(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return ny(J,$)}function RX0(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return ny(J,$)}var WR=new Map;WR.set(0,DX0);WR.set(2,RX0);WR.set(1,ny);function MX0(J){return WR.get(J)}z6.registerCommand("_executeCompletionItemProvider",async(J,...$)=>{let[Q,X,Y,Z]=$;Z5(I0.isUri(Q)),Z5(v.isIPosition(X)),Z5(typeof Y==="string"||!Y),Z5(typeof Z==="number"||!Z);let{completionProvider:G}=J.get(F1),q=await J.get(OQ).createModelReference(Q);try{let U={incomplete:!1,suggestions:[]},z=[],H=q.object.textEditorModel.validatePosition(X),j=await iy(G,q.object.textEditorModel,H,void 0,{triggerCharacter:Y!==null&&Y!==void 0?Y:void 0,triggerKind:Y?1:0});for(let V of j.items){if(z.length<(Z!==null&&Z!==void 0?Z:0))z.push(V.resolve(n6.None));U.incomplete=U.incomplete||V.container.incomplete,U.suggestions.push(V.completion)}try{return await Promise.all(z),U}finally{setTimeout(()=>j.disposable.dispose(),100)}}finally{q.dispose()}});function gt(J,$){var Q;(Q=J.getContribution("editor.contrib.suggestController"))===null||Q===void 0||Q.triggerSuggest(new Set().add($),void 0,!0)}class _U{static isAllOff(J){return J.other==="off"&&J.comments==="off"&&J.strings==="off"}static isAllOn(J){return J.other==="on"&&J.comments==="on"&&J.strings==="on"}static valueFor(J,$){switch($){case 1:return J.comments;case 2:return J.strings;default:return J.other}}}g0();m1();G9();U1();Q0();t0();j0(".monaco-editor .snippet-placeholder{background-color:var(--vscode-editor-snippetTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetTabstopHighlightBorder,transparent);min-width:2px}.monaco-editor .finish-snippet-placeholder{background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder,transparent)}");Mj();l0();E5();h8();EY();Tk();DP();BA();M1();function oy(J,$=L6){if(Iu(J,$))return J.charAt(0).toUpperCase()+J.slice(1);return J}var m91=Object.create(null);BQ();v$();t0();var pt=function(){if(typeof crypto==="object"&&typeof crypto.randomUUID==="function")return crypto.randomUUID.bind(crypto);let J;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function")J=crypto.getRandomValues.bind(crypto);else J=function(X){for(let Y=0;Y<X.length;Y++)X[Y]=Math.floor(Math.random()*256);return X};let $=new Uint8Array(16),Q=[];for(let X=0;X<256;X++)Q.push(X.toString(16).padStart(2,"0"));return function X(){J($),$[6]=$[6]&15|64,$[8]=$[8]&63|128;let Y=0,Z="";return Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+="-",Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z+=Q[$[Y++]],Z}}();h8();g0();DP();var _X0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},OX0=function(J,$){return function(Q,X){$(Q,X,J)}},o91=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class BR{constructor(J){this._delegates=J}resolve(J){for(let $ of this._delegates){let Q=$.resolve(J);if(Q!==void 0)return Q}return}}class FR{constructor(J,$,Q,X){this._model=J,this._selection=$,this._selectionIdx=Q,this._overtypingCapturer=X}resolve(J){let{name:$}=J;if($==="SELECTION"||$==="TM_SELECTED_TEXT"){let Q=this._model.getValueInRange(this._selection)||void 0,X=this._selection.startLineNumber!==this._selection.endLineNumber;if(!Q&&this._overtypingCapturer){let Y=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);if(Y)Q=Y.value,X=Y.multiline}if(Q&&X&&J.snippet){let Y=this._model.getLineContent(this._selection.startLineNumber),Z=t6(Y,0,this._selection.startColumn-1),G=Z;J.snippet.walk((U)=>{if(U===J)return!1;if(U instanceof s8)G=t6(Q9(U.value).pop());return!0});let q=vZ(G,Z);Q=Q.replace(/(\r\n|\r|\n)(.*)/g,(U,z,H)=>`${z}${G.substr(q)}${H}`)}return Q}else if($==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);else if($==="TM_CURRENT_WORD"){let Q=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return Q&&Q.word||void 0}else if($==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);else if($==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);else if($==="CURSOR_INDEX")return String(this._selectionIdx);else if($==="CURSOR_NUMBER")return String(this._selectionIdx+1);return}}class KR{constructor(J,$){this._labelService=J,this._model=$}resolve(J){let{name:$}=J;if($==="TM_FILENAME")return V4(this._model.uri.fsPath);else if($==="TM_FILENAME_BASE"){let Q=V4(this._model.uri.fsPath),X=Q.lastIndexOf(".");if(X<=0)return Q;else return Q.slice(0,X)}else if($==="TM_DIRECTORY"){if(fW(this._model.uri.fsPath)===".")return"";return this._labelService.getUriLabel(KA(this._model.uri))}else if($==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);else if($==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0});return}}class AR{constructor(J,$,Q,X){this._readClipboardText=J,this._selectionIdx=$,this._selectionCount=Q,this._spread=X}resolve(J){if(J.name!=="CLIPBOARD")return;let $=this._readClipboardText();if(!$)return;if(this._spread){let Q=$.split(/\r\n|\n|\r/).filter((X)=>!yB(X));if(Q.length===this._selectionCount)return Q[this._selectionIdx]}return $}}var aV=class J{constructor($,Q,X){this._model=$,this._selection=Q,this._languageConfigurationService=X}resolve($){let{name:Q}=$,X=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Y=this._languageConfigurationService.getLanguageConfiguration(X).comments;if(!Y)return;if(Q==="LINE_COMMENT")return Y.lineCommentToken||void 0;else if(Q==="BLOCK_COMMENT_START")return Y.blockCommentStartToken||void 0;else if(Q==="BLOCK_COMMENT_END")return Y.blockCommentEndToken||void 0;return}};aV=_X0([OX0(2,_6)],aV);class c4{constructor(){this._date=new Date}resolve(J){let{name:$}=J;if($==="CURRENT_YEAR")return String(this._date.getFullYear());else if($==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);else if($==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");else if($==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");else if($==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");else if($==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");else if($==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");else if($==="CURRENT_DAY_NAME")return c4.dayNames[this._date.getDay()];else if($==="CURRENT_DAY_NAME_SHORT")return c4.dayNamesShort[this._date.getDay()];else if($==="CURRENT_MONTH_NAME")return c4.monthNames[this._date.getMonth()];else if($==="CURRENT_MONTH_NAME_SHORT")return c4.monthNamesShort[this._date.getMonth()];else if($==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1000));else if($==="CURRENT_TIMEZONE_OFFSET"){let Q=this._date.getTimezoneOffset(),X=Q>0?"-":"+",Y=Math.trunc(Math.abs(Q/60)),Z=Y<10?"0"+Y:Y,G=Math.abs(Q)-Y*60,q=G<10?"0"+G:G;return X+Z+":"+q}return}}c4.dayNames=[F("Sunday","Sunday"),F("Monday","Monday"),F("Tuesday","Tuesday"),F("Wednesday","Wednesday"),F("Thursday","Thursday"),F("Friday","Friday"),F("Saturday","Saturday")];c4.dayNamesShort=[F("SundayShort","Sun"),F("MondayShort","Mon"),F("TuesdayShort","Tue"),F("WednesdayShort","Wed"),F("ThursdayShort","Thu"),F("FridayShort","Fri"),F("SaturdayShort","Sat")];c4.monthNames=[F("January","January"),F("February","February"),F("March","March"),F("April","April"),F("May","May"),F("June","June"),F("July","July"),F("August","August"),F("September","September"),F("October","October"),F("November","November"),F("December","December")];c4.monthNamesShort=[F("JanuaryShort","Jan"),F("FebruaryShort","Feb"),F("MarchShort","Mar"),F("AprilShort","Apr"),F("MayShort","May"),F("JuneShort","Jun"),F("JulyShort","Jul"),F("AugustShort","Aug"),F("SeptemberShort","Sep"),F("OctoberShort","Oct"),F("NovemberShort","Nov"),F("DecemberShort","Dec")];class PR{constructor(J){this._workspaceService=J}resolve(J){if(!this._workspaceService)return;let $=Js(this._workspaceService.getWorkspace());if(ed($))return;if(J.name==="WORKSPACE_NAME")return this._resolveWorkspaceName($);else if(J.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath($);return}_resolveWorkspaceName(J){if(AP(J))return V4(J.uri.path);let $=V4(J.configPath.path);if($.endsWith(PP))$=$.substr(0,$.length-PP.length-1);return $}_resoveWorkspacePath(J){if(AP(J))return oy(J.uri.fsPath);let $=V4(J.configPath.path),Q=J.configPath.fsPath;if(Q.endsWith($))Q=Q.substr(0,Q.length-$.length-1);return Q?oy(Q):"/"}}class DR{resolve(J){let{name:$}=J;if($==="RANDOM")return Math.random().toString().slice(-6);else if($==="RANDOM_HEX")return Math.random().toString(16).slice(-6);else if($==="UUID")return pt();return}}var NX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},TX0=function(J,$){return function(Q,X){$(Q,X,J)}},lJ;class J4{constructor(J,$,Q){this._editor=J,this._snippet=$,this._snippetLineLeadingWhitespace=Q,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=mR($.placeholders,D9.compareByIndex),this._placeholderGroupsIdx=-1}initialize(J){this._offset=J.newPosition}dispose(){if(this._placeholderDecorations)this._editor.removeDecorations([...this._placeholderDecorations.values()]);this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let J=this._editor.getModel();this._editor.changeDecorations(($)=>{for(let Q of this._snippet.placeholders){let X=this._snippet.offset(Q),Y=this._snippet.fullLen(Q),Z=L.fromPositions(J.getPositionAt(this._offset+X),J.getPositionAt(this._offset+X+Y)),G=Q.isFinalTabstop?J4._decor.inactiveFinal:J4._decor.inactive,q=$.addDecoration(Z,G);this._placeholderDecorations.set(Q,q)}})}move(J){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let X=[];for(let Y of this._placeholderGroups[this._placeholderGroupsIdx])if(Y.transform){let Z=this._placeholderDecorations.get(Y),G=this._editor.getModel().getDecorationRange(Z),q=this._editor.getModel().getValueInRange(G),U=Y.transform.resolve(q).split(/\r\n|\r|\n/);for(let z=1;z<U.length;z++)U[z]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+U[z]);X.push(r9.replace(G,U.join(this._editor.getModel().getEOL())))}if(X.length>0)this._editor.executeEdits("snippet.placeholderTransform",X)}let $=!1;if(J===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1)this._placeholderGroupsIdx+=1,$=!0;else if(J===!1&&this._placeholderGroupsIdx>0)this._placeholderGroupsIdx-=1,$=!0;let Q=this._editor.getModel().changeDecorations((X)=>{let Y=new Set,Z=[];for(let G of this._placeholderGroups[this._placeholderGroupsIdx]){let q=this._placeholderDecorations.get(G),U=this._editor.getModel().getDecorationRange(q);Z.push(new v0(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)),$=$&&this._hasPlaceholderBeenCollapsed(G),X.changeDecorationOptions(q,G.isFinalTabstop?J4._decor.activeFinal:J4._decor.active),Y.add(G);for(let z of this._snippet.enclosingPlaceholders(G)){let H=this._placeholderDecorations.get(z);X.changeDecorationOptions(H,z.isFinalTabstop?J4._decor.activeFinal:J4._decor.active),Y.add(z)}}for(let[G,q]of this._placeholderDecorations)if(!Y.has(G))X.changeDecorationOptions(q,G.isFinalTabstop?J4._decor.inactiveFinal:J4._decor.inactive);return Z});return!$?Q!==null&&Q!==void 0?Q:[]:this.move(J)}_hasPlaceholderBeenCollapsed(J){let $=J;while($){if($ instanceof D9){let Q=this._placeholderDecorations.get($);if(this._editor.getModel().getDecorationRange(Q).isEmpty()&&$.toString().length>0)return!0}$=$.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){let[J]=this._snippet.placeholders;if(J.isFinalTabstop){if(this._snippet.rightMostDescendant===J)return!0}}return!1}computePossibleSelections(){let J=new Map;for(let $ of this._placeholderGroups){let Q;for(let X of $){if(X.isFinalTabstop)break;if(!Q)Q=[],J.set(X.index,Q);let Y=this._placeholderDecorations.get(X),Z=this._editor.getModel().getDecorationRange(Y);if(!Z){J.delete(X.index);break}Q.push(Z)}}return J}get activeChoice(){if(!this._placeholderDecorations)return;let J=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(J===null||J===void 0?void 0:J.choice))return;let $=this._placeholderDecorations.get(J);if(!$)return;let Q=this._editor.getModel().getDecorationRange($);if(!Q)return;return{range:Q,choice:J.choice}}get hasChoice(){let J=!1;return this._snippet.walk(($)=>{return J=$ instanceof LG,!J}),J}merge(J){let $=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((Q)=>{for(let X of this._placeholderGroups[this._placeholderGroupsIdx]){let Y=J.shift();console.assert(Y._offset!==-1),console.assert(!Y._placeholderDecorations);let Z=Y._snippet.placeholderInfo.last.index;for(let q of Y._snippet.placeholderInfo.all)if(q.isFinalTabstop)q.index=X.index+(Z+1)/this._nestingLevel;else q.index=X.index+q.index/this._nestingLevel;this._snippet.replace(X,Y._snippet.children);let G=this._placeholderDecorations.get(X);Q.removeDecoration(G),this._placeholderDecorations.delete(X);for(let q of Y._snippet.placeholders){let U=Y._snippet.offset(q),z=Y._snippet.fullLen(q),H=L.fromPositions($.getPositionAt(Y._offset+U),$.getPositionAt(Y._offset+U+z)),j=Q.addDecoration(H,J4._decor.inactive);this._placeholderDecorations.set(q,j)}}this._placeholderGroups=mR(this._snippet.placeholders,D9.compareByIndex)})}}J4._decor={active:L1.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:L1.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:L1.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:L1.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var mt={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},RR=lJ=class J{static adjustWhitespace($,Q,X,Y,Z){let G=$.getLineContent(Q.lineNumber),q=t6(G,0,Q.column-1),U;return Y.walk((z)=>{if(!(z instanceof s8)||z.parent instanceof LG)return!0;if(Z&&!Z.has(z))return!0;let H=z.value.split(/\r\n|\r|\n/);if(X){let V=Y.offset(z);if(V===0)H[0]=$.normalizeIndentation(H[0]);else{U=U!==null&&U!==void 0?U:Y.toString();let W=U.charCodeAt(V-1);if(W===10||W===13)H[0]=$.normalizeIndentation(q+H[0])}for(let W=1;W<H.length;W++)H[W]=$.normalizeIndentation(q+H[W])}let j=H.join($.getEOL());if(j!==z.value)z.parent.replace(z,[new s8(j)]),U=void 0;return!0}),q}static adjustSelection($,Q,X,Y){if(X!==0||Y!==0){let{positionLineNumber:Z,positionColumn:G}=Q,q=G-X,U=G+Y,z=$.validateRange({startLineNumber:Z,startColumn:q,endLineNumber:Z,endColumn:U});Q=v0.createWithDirection(z.startLineNumber,z.startColumn,z.endLineNumber,z.endColumn,Q.getDirection())}return Q}static createEditsAndSnippetsFromSelections($,Q,X,Y,Z,G,q,U,z){let H=[],j=[];if(!$.hasModel())return{edits:H,snippets:j};let V=$.getModel(),W=$.invokeWithinContext((M)=>M.get(kj)),B=$.invokeWithinContext((M)=>new KR(M.get(Tj),V)),K=()=>q,P=V.getValueInRange(lJ.adjustSelection(V,$.getSelection(),X,0)),A=V.getValueInRange(lJ.adjustSelection(V,$.getSelection(),0,Y)),D=V.getLineFirstNonWhitespaceColumn($.getSelection().positionLineNumber),R=$.getSelections().map((M,_)=>({selection:M,idx:_})).sort((M,_)=>L.compareRangesUsingStarts(M.selection,_.selection));for(let{selection:M,idx:_}of R){let T=lJ.adjustSelection(V,M,X,0),w=lJ.adjustSelection(V,M,0,Y);if(P!==V.getValueInRange(T))T=M;if(A!==V.getValueInRange(w))w=M;let b=M.setStartPosition(T.startLineNumber,T.startColumn).setEndPosition(w.endLineNumber,w.endColumn),S=new XZ().parse(Q,!0,Z),g=b.getStartPosition(),c=lJ.adjustWhitespace(V,g,G||_>0&&D!==V.getLineFirstNonWhitespaceColumn(M.positionLineNumber),S);S.resolveVariables(new BR([B,new AR(K,_,R.length,$.getOption(78)==="spread"),new FR(V,M,_,U),new aV(V,M,z),new c4,new PR(W),new DR])),H[_]=r9.replace(b,S.toString()),H[_].identifier={major:_,minor:0},H[_]._isTracked=!0,j[_]=new J4($,S,c)}return{edits:H,snippets:j}}static createEditsAndSnippetsFromEdits($,Q,X,Y,Z,G,q){if(!$.hasModel()||Q.length===0)return{edits:[],snippets:[]};let U=[],z=$.getModel(),H=new XZ,j=new DU,V=new BR([$.invokeWithinContext((B)=>new KR(B.get(Tj),z)),new AR(()=>Z,0,$.getSelections().length,$.getOption(78)==="spread"),new FR(z,$.getSelection(),0,G),new aV(z,$.getSelection(),q),new c4,new PR($.invokeWithinContext((B)=>B.get(kj))),new DR]);Q=Q.sort((B,K)=>L.compareRangesUsingStarts(B.range,K.range));let W=0;for(let B=0;B<Q.length;B++){let{range:K,template:P}=Q[B];if(B>0){let _=Q[B-1].range,T=L.fromPositions(_.getEndPosition(),K.getStartPosition()),w=new s8(z.getValueInRange(T));j.appendChild(w),W+=w.value.length}let A=H.parseFragment(P,j);lJ.adjustWhitespace(z,K.getStartPosition(),!0,j,new Set(A)),j.resolveVariables(V);let D=j.toString(),R=D.slice(W);W=D.length;let M=r9.replace(K,R);M.identifier={major:B,minor:0},M._isTracked=!0,U.push(M)}return H.ensureFinalTabstop(j,X,!0),{edits:U,snippets:[new J4($,j,"")]}}constructor($,Q,X=mt,Y){this._editor=$,this._template=Q,this._options=X,this._languageConfigurationService=Y,this._templateMerges=[],this._snippets=[]}dispose(){k1(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:$,snippets:Q}=typeof this._template==="string"?lJ.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):lJ.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Q,this._editor.executeEdits("snippet",$,(X)=>{let Y=X.filter((Z)=>!!Z.identifier);for(let Z=0;Z<Q.length;Z++)Q[Z].initialize(Y[Z].textChange);if(this._snippets[0].hasPlaceholder)return this._move(!0);else return Y.map((Z)=>v0.fromPositions(Z.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge($,Q=mt){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,$]);let{edits:X,snippets:Y}=lJ.createEditsAndSnippetsFromSelections(this._editor,$,Q.overwriteBefore,Q.overwriteAfter,!0,Q.adjustWhitespace,Q.clipboardText,Q.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",X,(Z)=>{let G=Z.filter((U)=>!!U.identifier);for(let U=0;U<Y.length;U++)Y[U].initialize(G[U].textChange);let q=Y[0].isTrivialSnippet;if(!q){for(let U of this._snippets)U.merge(Y);console.assert(Y.length===0)}if(this._snippets[0].hasPlaceholder&&!q)return this._move(void 0);else return G.map((U)=>v0.fromPositions(U.range.getEndPosition()))})}next(){let $=this._move(!0);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}prev(){let $=this._move(!1);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}_move($){let Q=[];for(let X of this._snippets){let Y=X.move($);Q.push(...Y)}return Q}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let $=this._editor.getSelections();if($.length<this._snippets.length)return!1;let Q=new Map;for(let X of this._snippets){let Y=X.computePossibleSelections();if(Q.size===0)for(let[Z,G]of Y){G.sort(L.compareRangesUsingStarts);for(let q of $)if(G[0].containsRange(q)){Q.set(Z,[]);break}}if(Q.size===0)return!1;Q.forEach((Z,G)=>{Z.push(...Y.get(G))})}$.sort(L.compareRangesUsingStarts);for(let[X,Y]of Q){if(Y.length!==$.length){Q.delete(X);continue}Y.sort(L.compareRangesUsingStarts);for(let Z=0;Z<Y.length;Z++)if(!Y[Z].containsRange($[Z])){Q.delete(X);continue}}return Q.size>0}};RR=lJ=NX0([TX0(3,_6)],RR);var wX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},MR=function(J,$){return function(Q,X){$(Q,X,J)}},OU,ut={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},S5=OU=class J{static get($){return $.getContribution(OU.ID)}constructor($,Q,X,Y,Z){this._editor=$,this._logService=Q,this._languageFeaturesService=X,this._languageConfigurationService=Z,this._snippetListener=new r,this._modelVersionId=-1,this._inSnippet=OU.InSnippetMode.bindTo(Y),this._hasNextTabstop=OU.HasNextTabstop.bindTo(Y),this._hasPrevTabstop=OU.HasPrevTabstop.bindTo(Y)}dispose(){var $;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),($=this._session)===null||$===void 0||$.dispose(),this._snippetListener.dispose()}insert($,Q){try{this._doInsert($,typeof Q==="undefined"?ut:{...ut,...Q})}catch(X){this.cancel(),this._logService.error(X),this._logService.error("snippet_error"),this._logService.error("insert_template=",$),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert($,Q){var X;if(!this._editor.hasModel())return;if(this._snippetListener.clear(),Q.undoStopBefore)this._editor.getModel().pushStackElement();if(this._session&&typeof $!=="string")this.cancel();if(!this._session)this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new RR(this._editor,$,Q,this._languageConfigurationService),this._session.insert();else Z5(typeof $==="string"),this._session.merge($,Q);if(Q.undoStopAfter)this._editor.getModel().pushStackElement();if((X=this._session)===null||X===void 0?void 0:X.hasChoice){let Y={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(H,j)=>{if(!this._session||H!==this._editor.getModel()||!v.equals(this._editor.getPosition(),j))return;let{activeChoice:V}=this._session;if(!V||V.choice.options.length===0)return;let W=H.getValueInRange(V.range),B=Boolean(V.choice.options.find((P)=>P.value===W)),K=[];for(let P=0;P<V.choice.options.length;P++){let A=V.choice.options[P];K.push({kind:13,label:A.value,insertText:A.value,sortText:"a".repeat(P+1),range:V.range,filterText:B?`${W}_${A.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:F("next","Go to next placeholder...")}})}return{suggestions:K}}},Z=this._editor.getModel(),G,q=!1,U=()=>{G===null||G===void 0||G.dispose(),q=!1},z=()=>{if(!q)G=this._languageFeaturesService.completionProvider.register({language:Z.getLanguageId(),pattern:Z.uri.fsPath,scheme:Z.uri.scheme,exclusive:!0},Y),this._snippetListener.add(G),q=!0};this._choiceCompletions={provider:Y,enable:z,disable:U}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((Y)=>Y.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}_updateState(){if(!this._session||!this._editor.hasModel())return;if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}_handleChoice(){var $;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{activeChoice:Q}=this._session;if(!Q||!this._choiceCompletions){($=this._choiceCompletions)===null||$===void 0||$.disable(),this._currentChoice=void 0;return}if(this._currentChoice!==Q.choice)this._currentChoice=Q.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{gt(this._editor,this._choiceCompletions.provider)})}finish(){while(this._inSnippet.get())this.next()}cancel($=!1){var Q;if(this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(Q=this._session)===null||Q===void 0||Q.dispose(),this._session=void 0,this._modelVersionId=-1,$)this._editor.setSelections([this._editor.getSelection()])}prev(){var $;($=this._session)===null||$===void 0||$.prev(),this._updateState()}next(){var $;($=this._session)===null||$===void 0||$.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};S5.ID="snippetController2";S5.InSnippetMode=new H0("inSnippetMode",!1,F("inSnippetMode","Whether the editor in current in snippet mode"));S5.HasNextTabstop=new H0("hasNextTabstop",!1,F("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));S5.HasPrevTabstop=new H0("hasPrevTabstop",!1,F("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));S5=OU=wX0([MR(1,Q5),MR(2,F1),MR(3,h0),MR(4,_6)],S5);x9(S5.ID,S5,4);var _R=S7.bindToContribution(S5.get);w0(new _R({id:"jumpToNextSnippetPlaceholder",precondition:N0.and(S5.InSnippetMode,S5.HasNextTabstop),handler:(J)=>J.next(),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:2}}));w0(new _R({id:"jumpToPrevSnippetPlaceholder",precondition:N0.and(S5.InSnippetMode,S5.HasPrevTabstop),handler:(J)=>J.prev(),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:1026}}));w0(new _R({id:"leaveSnippet",precondition:S5.InSnippetMode,handler:(J)=>J.cancel(!0),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:9,secondary:[1033]}}));w0(new _R({id:"acceptSnippet",precondition:S5.InSnippetMode,handler:(J)=>J.finish()}));u1();Q0();jJ();KP();P8();v8();h9();u0();m3();var LX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},ct=function(J,$){return function(Q,X){$(Q,X,J)}},rV;class OR{constructor(J){this.name=J}select(J,$,Q){if(Q.length===0)return 0;let X=Q[0].score[0];for(let Y=0;Y<Q.length;Y++){let{score:Z,completion:G}=Q[Y];if(Z[0]!==X)break;if(G.preselect)return Y}return 0}}class ty extends OR{constructor(){super("first")}memorize(J,$,Q){}toJSON(){return}fromJSON(){}}class lt extends OR{constructor(){super("recentlyUsed");this._cache=new fQ(300,0.66),this._seq=0}memorize(J,$,Q){let X=`${J.getLanguageId()}/${Q.textLabel}`;this._cache.set(X,{touch:this._seq++,type:Q.completion.kind,insertText:Q.completion.insertText})}select(J,$,Q){if(Q.length===0)return 0;let X=J.getLineContent($.lineNumber).substr($.column-10,$.column-1);if(/\s$/.test(X))return super.select(J,$,Q);let Y=Q[0].score[0],Z=-1,G=-1,q=-1;for(let U=0;U<Q.length;U++){if(Q[U].score[0]!==Y)break;let z=`${J.getLanguageId()}/${Q[U].textLabel}`,H=this._cache.peek(z);if(H&&H.touch>q&&H.type===Q[U].completion.kind&&H.insertText===Q[U].completion.insertText)q=H.touch,G=U;if(Q[U].completion.preselect&&Z===-1)return Z=U}if(G!==-1)return G;else if(Z!==-1)return Z;else return 0}toJSON(){return this._cache.toJSON()}fromJSON(J){this._cache.clear();let $=0;for(let[Q,X]of J)X.touch=$,X.type=typeof X.type==="number"?X.type:xZ.fromString(X.type),this._cache.set(Q,X);this._seq=this._cache.size}}class dt extends OR{constructor(){super("recentlyUsedByPrefix");this._trie=DX.forStrings(),this._seq=0}memorize(J,$,Q){let{word:X}=J.getWordUntilPosition($),Y=`${J.getLanguageId()}/${X}`;this._trie.set(Y,{type:Q.completion.kind,insertText:Q.completion.insertText,touch:this._seq++})}select(J,$,Q){let{word:X}=J.getWordUntilPosition($);if(!X)return super.select(J,$,Q);let Y=`${J.getLanguageId()}/${X}`,Z=this._trie.get(Y);if(!Z)Z=this._trie.findSubstr(Y);if(Z)for(let G=0;G<Q.length;G++){let{kind:q,insertText:U}=Q[G].completion;if(q===Z.type&&U===Z.insertText)return G}return super.select(J,$,Q)}toJSON(){let J=[];return this._trie.forEach(($,Q)=>J.push([Q,$])),J.sort(($,Q)=>-($[1].touch-Q[1].touch)).forEach(($,Q)=>$[1].touch=Q),J.slice(0,200)}fromJSON(J){if(this._trie.clear(),J.length>0){this._seq=J[0][1].touch+1;for(let[$,Q]of J)Q.type=typeof Q.type==="number"?Q.type:xZ.fromString(Q.type),this._trie.set($,Q)}}}var iV=rV=class J{constructor($,Q){this._storageService=$,this._configService=Q,this._disposables=new r,this._persistSoon=new t1(()=>this._saveState(),500),this._disposables.add($.onWillSaveState((X)=>{if(X.reason===xP.SHUTDOWN)this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize($,Q,X){this._withStrategy($,Q).memorize($,Q,X),this._persistSoon.schedule()}select($,Q,X){return this._withStrategy($,Q).select($,Q,X)}_withStrategy($,Q){var X;let Y=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:$.getLanguageIdAtPosition(Q.lineNumber,Q.column),resource:$.uri});if(((X=this._strategy)===null||X===void 0?void 0:X.name)!==Y){this._saveState();let Z=rV._strategyCtors.get(Y)||ty;this._strategy=new Z;try{let q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,U=this._storageService.get(`${rV._storagePrefix}/${Y}`,q);if(U)this._strategy.fromJSON(JSON.parse(U))}catch(G){}}return this._strategy}_saveState(){if(this._strategy){let Q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,X=JSON.stringify(this._strategy);this._storageService.store(`${rV._storagePrefix}/${this._strategy.name}`,X,Q,1)}}};iV._strategyCtors=new Map([["recentlyUsedByPrefix",dt],["recentlyUsed",lt],["first",ty]]);iV._storagePrefix="suggest/memories";iV=rV=LX0([ct(0,bJ),ct(1,y1)],iV);var ey=M0("ISuggestMemories");H1(ey,iV,1);m1();var kX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},EX0=function(J,$){return function(Q,X){$(Q,X,J)}},Jx,NU=Jx=class J{constructor($,Q){this._editor=$,this._enabled=!1,this._ckAtEnd=Jx.AtEnd.bindTo(Q),this._configListener=this._editor.onDidChangeConfiguration((X)=>X.hasChanged(122)&&this._update()),this._update()}dispose(){var $;this._configListener.dispose(),($=this._selectionListener)===null||$===void 0||$.dispose(),this._ckAtEnd.reset()}_update(){let $=this._editor.getOption(122)==="on";if(this._enabled===$)return;if(this._enabled=$,this._enabled){let Q=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let X=this._editor.getModel(),Y=this._editor.getSelection(),Z=X.getWordAtPosition(Y.getStartPosition());if(!Z){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Z.endColumn===Y.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Q),Q()}else if(this._selectionListener)this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0}};NU.AtEnd=new H0("atEndOfWord",!1);NU=Jx=kX0([EX0(1,h0)],NU);g0();e8();m1();u0();G9();m1();var IX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},yX0=function(J,$){return function(Q,X){$(Q,X,J)}},nV,YZ=nV=class J{constructor($,Q){this._editor=$,this._index=0,this._ckOtherSuggestions=nV.OtherSuggestions.bindTo(Q)}dispose(){this.reset()}reset(){var $;this._ckOtherSuggestions.reset(),($=this._listener)===null||$===void 0||$.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:$,index:Q},X){if($.items.length===0){this.reset();return}if(nV._moveIndex(!0,$,Q)===Q){this.reset();return}this._acceptNext=X,this._model=$,this._index=Q,this._listener=this._editor.onDidChangeCursorPosition(()=>{if(!this._ignore)this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex($,Q,X){let Y=X;for(let Z=Q.items.length;Z>0;Z--){if(Y=(Y+Q.items.length+($?1:-1))%Q.items.length,Y===X)break;if(!Q.items[Y].completion.additionalTextEdits)break}return Y}next(){this._move(!0)}prev(){this._move(!1)}_move($){if(!this._model)return;try{this._ignore=!0,this._index=nV._moveIndex($,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};YZ.OtherSuggestions=new H0("hasOtherSuggestions",!1);YZ=nV=IX0([yX0(1,h0)],YZ);U1();Q0();Hq();class $x{constructor(J,$,Q,X){this._disposables=new r,this._disposables.add(Q.onDidSuggest((Y)=>{if(Y.completionModel.items.length===0)this.reset()})),this._disposables.add(Q.onDidCancel((Y)=>{this.reset()})),this._disposables.add($.onDidShow(()=>this._onItem($.getFocusedItem()))),this._disposables.add($.onDidFocus(this._onItem,this)),this._disposables.add($.onDidHide(this.reset,this)),this._disposables.add(J.onWillType((Y)=>{if(this._active&&!$.isFrozen()&&Q.state!==0){let Z=Y.charCodeAt(Y.length-1);if(this._active.acceptCharacters.has(Z)&&J.getOption(0))X(this._active.item)}}))}_onItem(J){if(!J||!_9(J.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===J.item)return;let $=new vz;for(let Q of J.item.completion.commitCharacters)if(Q.length>0)$.add(Q.charCodeAt(0));this._active={acceptCharacters:$,item:J}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}u1();e5();P1();F0();Q0();t0();E5();d3();U1();l0();T9();l0();class R9{async provideSelectionRanges(J,$){let Q=[];for(let X of $){let Y=[];Q.push(Y);let Z=new Map;await new Promise((G)=>R9._bracketsRightYield(G,0,J,X,Z)),await new Promise((G)=>R9._bracketsLeftYield(G,0,J,X,Z,Y))}return Q}static _bracketsRightYield(J,$,Q,X,Y){let Z=new Map,G=Date.now();while(!0){if($>=R9._maxRounds){J();break}if(!X){J();break}let q=Q.bracketPairs.findNextBracket(X);if(!q){J();break}if(Date.now()-G>R9._maxDuration){setTimeout(()=>R9._bracketsRightYield(J,$+1,Q,X,Y));break}if(q.bracketInfo.isOpeningBracket){let z=q.bracketInfo.bracketText,H=Z.has(z)?Z.get(z):0;Z.set(z,H+1)}else{let z=q.bracketInfo.getOpeningBrackets()[0].bracketText,H=Z.has(z)?Z.get(z):0;if(H-=1,Z.set(z,Math.max(0,H)),H<0){let j=Y.get(z);if(!j)j=new k6,Y.set(z,j);j.push(q.range)}}X=q.range.getEndPosition()}}static _bracketsLeftYield(J,$,Q,X,Y,Z){let G=new Map,q=Date.now();while(!0){if($>=R9._maxRounds&&Y.size===0){J();break}if(!X){J();break}let U=Q.bracketPairs.findPrevBracket(X);if(!U){J();break}if(Date.now()-q>R9._maxDuration){setTimeout(()=>R9._bracketsLeftYield(J,$+1,Q,X,Y,Z));break}if(!U.bracketInfo.isOpeningBracket){let H=U.bracketInfo.getOpeningBrackets()[0].bracketText,j=G.has(H)?G.get(H):0;G.set(H,j+1)}else{let H=U.bracketInfo.bracketText,j=G.has(H)?G.get(H):0;if(j-=1,G.set(H,Math.max(0,j)),j<0){let V=Y.get(H);if(V){let W=V.shift();if(V.size===0)Y.delete(H);let B=L.fromPositions(U.range.getEndPosition(),W.getStartPosition()),K=L.fromPositions(U.range.getStartPosition(),W.getEndPosition());Z.push({range:B}),Z.push({range:K}),R9._addBracketLeading(Q,K,Z)}}}X=U.range.getStartPosition()}}static _addBracketLeading(J,$,Q){if($.startLineNumber===$.endLineNumber)return;let X=$.startLineNumber,Y=J.getLineFirstNonWhitespaceColumn(X);if(Y!==0&&Y!==$.startColumn)Q.push({range:L.fromPositions(new v(X,Y),$.getEndPosition())}),Q.push({range:L.fromPositions(new v(X,1),$.getEndPosition())});let Z=X-1;if(Z>0){let G=J.getLineFirstNonWhitespaceColumn(Z);if(G===$.startColumn&&G!==J.getLineLastNonWhitespaceColumn(Z))Q.push({range:L.fromPositions(new v(Z,G),$.getEndPosition())}),Q.push({range:L.fromPositions(new v(Z,1),$.getEndPosition())})}}}R9._maxDuration=30;R9._maxRounds=2;class dJ{static async create(J,$){if(!$.getOption(117).localityBonus)return dJ.None;if(!$.hasModel())return dJ.None;let Q=$.getModel(),X=$.getPosition();if(!J.canComputeWordRanges(Q.uri))return dJ.None;let[Y]=await new R9().provideSelectionRanges(Q,[X]);if(Y.length===0)return dJ.None;let Z=await J.computeWordRanges(Q.uri,Y[0].range);if(!Z)return dJ.None;let G=Q.getWordUntilPosition(X);return delete Z[G.word],new class extends dJ{distance(q,U){if(!X.equals($.getPosition()))return 0;if(U.kind===17)return 2097152;let z=typeof U.label==="string"?U.label:U.label.label,H=Z[z];if(DW(H))return 2097152;let j=KW(H,L.fromPositions(q),L.compareRangesUsingStarts),V=j>=0?H[j]:H[Math.max(0,~j-1)],W=Y.length;for(let B of Y){if(!L.containsRange(B.range,V))break;W-=1}return W}}}}dJ.None=new class extends dJ{distance(){return 0}};BV();v8();m1();G9();sX();U1();vY();t0();class ZZ{constructor(J,$,Q,X,Y,Z,G=d2.default,q=void 0){if(this.clipboardText=q,this._snippetCompareFn=ZZ._compareCompletionItems,this._items=J,this._column=$,this._wordDistance=X,this._options=Y,this._refilterKind=1,this._lineContext=Q,this._fuzzyScoreOptions=G,Z==="top")this._snippetCompareFn=ZZ._compareCompletionItemsSnippetsUp;else if(Z==="bottom")this._snippetCompareFn=ZZ._compareCompletionItemsSnippetsDown}get lineContext(){return this._lineContext}set lineContext(J){if(this._lineContext.leadingLineContent!==J.leadingLineContent||this._lineContext.characterCountDelta!==J.characterCountDelta)this._refilterKind=this._lineContext.characterCountDelta<J.characterCountDelta&&this._filteredItems?2:1,this._lineContext=J}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();let J=new Set;for(let[$,Q]of this.getItemsByProvider())if(Q.length>0&&Q[0].container.incomplete)J.add($);return J}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){if(this._refilterKind!==0)this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;let J=[],{leadingLineContent:$,characterCountDelta:Q}=this._lineContext,X="",Y="",Z=this._refilterKind===1?this._items:this._filteredItems,G=[],q=!this._options.filterGraceful||Z.length>2000?CY:Fd;for(let U=0;U<Z.length;U++){let z=Z[U];if(z.isInvalid)continue;let H=this._itemsByProvider.get(z.provider);if(H)H.push(z);else this._itemsByProvider.set(z.provider,[z]);let j=z.position.column-z.editStart.column,V=j+Q-(z.position.column-this._column);if(X.length!==V)X=V===0?"":$.slice(-V),Y=X.toLowerCase();if(z.word=X,V===0)z.score=v4.Default;else{let W=0;while(W<j){let B=X.charCodeAt(W);if(B===32||B===9)W+=1;else break}if(W>=V)z.score=v4.Default;else if(typeof z.completion.filterText==="string"){let B=q(X,Y,W,z.completion.filterText,z.filterTextLow,0,this._fuzzyScoreOptions);if(!B)continue;if(Jz(z.completion.filterText,z.textLabel)===0)z.score=B;else z.score=Vd(X,Y,W,z.textLabel,z.labelLow,0),z.score[0]=B[0]}else{let B=q(X,Y,W,z.textLabel,z.labelLow,0,this._fuzzyScoreOptions);if(!B)continue;z.score=B}}z.idx=U,z.distance=this._wordDistance.distance(z.position,z.completion),G.push(z),J.push(z.textLabel.length)}this._filteredItems=G.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:J.length?FW(J.length-0.85,J,(U,z)=>U-z):0}}static _compareCompletionItems(J,$){if(J.score[0]>$.score[0])return-1;else if(J.score[0]<$.score[0])return 1;else if(J.distance<$.distance)return-1;else if(J.distance>$.distance)return 1;else if(J.idx<$.idx)return-1;else if(J.idx>$.idx)return 1;else return 0}static _compareCompletionItemsSnippetsDown(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return ZZ._compareCompletionItems(J,$)}static _compareCompletionItemsSnippetsUp(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return ZZ._compareCompletionItems(J,$)}}l9();vY();l8();t0();I4();m1();Q0();g0();class $4 extends h{constructor(J,$){super();this.contextKeyService=J,this.model=$,this.inlineCompletionVisible=$4.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=$4.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=$4.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=$4.suppressSuggestions.bindTo(this.contextKeyService),this._register(R1((Q)=>{let X=this.model.read(Q),Y=X===null||X===void 0?void 0:X.state.read(Q),Z=!!(Y===null||Y===void 0?void 0:Y.inlineCompletion)&&(Y===null||Y===void 0?void 0:Y.ghostText)!==void 0&&!(Y===null||Y===void 0?void 0:Y.ghostText.isEmpty());if(this.inlineCompletionVisible.set(Z),(Y===null||Y===void 0?void 0:Y.ghostText)&&(Y===null||Y===void 0?void 0:Y.inlineCompletion))this.suppressSuggestions.set(Y.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(R1((Q)=>{let X=this.model.read(Q),Y=!1,Z=!0,G=X===null||X===void 0?void 0:X.ghostText.read(Q);if(!!(X===null||X===void 0?void 0:X.selectedSuggestItem)&&G&&G.parts.length>0){let{column:q,lines:U}=G.parts[0],z=U[0],H=X.textModel.getLineIndentColumn(G.lineNumber);if(q<=H){let V=I6(z);if(V===-1)V=z.length-1;Y=V>0;let W=X.textModel.getOptions().tabSize;Z=f1.visibleColumnFromColumn(z,V+1,W)<W}}this.inlineCompletionSuggestsIndentation.set(Y),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(Z)}))}}$4.inlineSuggestionVisible=new H0("inlineSuggestionVisible",!1,F("inlineSuggestionVisible","Whether an inline suggestion is visible"));$4.inlineSuggestionHasIndentation=new H0("inlineSuggestionHasIndentation",!1,F("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));$4.inlineSuggestionHasIndentationLessThanTabSize=new H0("inlineSuggestionHasIndentationLessThanTabSize",!0,F("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));$4.suppressSuggestions=new H0("inlineSuggestionSuppressSuggestions",void 0,F("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));dA();var xX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},GZ=function(J,$){return function(Q,X){$(Q,X,J)}},Qx;class qZ{static shouldAutoTrigger(J){if(!J.hasModel())return!1;let $=J.getModel(),Q=J.getPosition();$.tokenization.tokenizeIfCheap(Q.lineNumber);let X=$.getWordAtPosition(Q);if(!X)return!1;if(X.endColumn!==Q.column&&X.startColumn+1!==Q.column)return!1;if(!isNaN(Number(X.word)))return!1;return!0}constructor(J,$,Q){this.leadingLineContent=J.getLineContent($.lineNumber).substr(0,$.column-1),this.leadingWord=J.getWordUntilPosition($),this.lineNumber=$.lineNumber,this.column=$.column,this.triggerOptions=Q}}function bX0(J,$,Q){if(!Boolean($.getContextKeyValue($4.inlineSuggestionVisible.key)))return!0;let X=$.getContextKeyValue($4.suppressSuggestions.key);if(X!==void 0)return!X;return!J.getOption(62).suppressSuggestions}function SX0(J,$,Q){if(!Boolean($.getContextKeyValue("inlineSuggestionVisible")))return!0;let X=$.getContextKeyValue($4.suppressSuggestions.key);if(X!==void 0)return!X;return!J.getOption(62).suppressSuggestions}var NR=Qx=class J{constructor($,Q,X,Y,Z,G,q,U,z){this._editor=$,this._editorWorkerService=Q,this._clipboardService=X,this._telemetryService=Y,this._logService=Z,this._contextKeyService=G,this._configurationService=q,this._languageFeaturesService=U,this._envService=z,this._toDispose=new r,this._triggerCharacterListener=new r,this._triggerQuickSuggest=new M8,this._triggerState=void 0,this._completionDisposables=new r,this._onDidCancel=new y,this._onDidTrigger=new y,this._onDidSuggest=new y,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new v0(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection((j)=>{if(!H)this._onCursorChange(j)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{if(!H&&this._triggerState!==void 0)this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){k1(this._triggerCharacterListener),k1([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;let $=new Map;for(let X of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let Y of X.triggerCharacters||[]){let Z=$.get(Y);if(!Z)Z=new Set,Z.add(ht()),$.set(Y,Z);Z.add(X)}let Q=(X)=>{var Y;if(!SX0(this._editor,this._contextKeyService,this._configurationService))return;if(qZ.shouldAutoTrigger(this._editor))return;if(!X){let q=this._editor.getPosition();X=this._editor.getModel().getLineContent(q.lineNumber).substr(0,q.column-1)}let Z="";if(X$(X.charCodeAt(X.length-1))){if(G6(X.charCodeAt(X.length-2)))Z=X.substr(X.length-2)}else Z=X.charAt(X.length-1);let G=$.get(Z);if(G){let q=new Map;if(this._completionModel){for(let[U,z]of this._completionModel.getItemsByProvider())if(!G.has(U))q.set(U,z)}this.trigger({auto:!0,triggerKind:1,triggerCharacter:Z,retrigger:Boolean(this._completionModel),clipboardText:(Y=this._completionModel)===null||Y===void 0?void 0:Y.clipboardText,completionOptions:{providerFilter:G,providerItemsToReuse:q}})}};this._triggerCharacterListener.add(this._editor.onDidType(Q)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Q()))}get state(){if(!this._triggerState)return 0;else if(!this._triggerState.auto)return 1;else return 2}cancel($=!1){var Q;if(this._triggerState!==void 0)this._triggerQuickSuggest.cancel(),(Q=this._requestToken)===null||Q===void 0||Q.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:$})}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){if(this._triggerState!==void 0)if(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel()))this.cancel();else this.trigger({auto:this._triggerState.auto,retrigger:!0})}_onCursorChange($){if(!this._editor.hasModel())return;let Q=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!$.selection.isEmpty()||$.reason!==0&&$.reason!==3||$.source!=="keyboard"&&$.source!=="deleteLeft"){this.cancel();return}if(this._triggerState===void 0&&$.reason===0){if(Q.containsRange(this._currentSelection)||Q.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))this._doTriggerQuickSuggest()}else if(this._triggerState!==void 0&&$.reason===3)this._refilterCompletionItems()}_onCompositionEnd(){if(this._triggerState===void 0)this._doTriggerQuickSuggest();else this._refilterCompletionItems()}_doTriggerQuickSuggest(){var $;if(_U.isAllOff(this._editor.getOption(88)))return;if(this._editor.getOption(117).snippetsPreventQuickSuggestions&&(($=S5.get(this._editor))===null||$===void 0?void 0:$.isInSnippet()))return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0)return;if(!qZ.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;let Q=this._editor.getModel(),X=this._editor.getPosition(),Y=this._editor.getOption(88);if(_U.isAllOff(Y))return;if(!_U.isAllOn(Y)){Q.tokenization.tokenizeIfCheap(X.lineNumber);let Z=Q.tokenization.getLineTokens(X.lineNumber),G=Z.getStandardTokenType(Z.findTokenIndexAtOffset(Math.max(X.column-1-1,0)));if(_U.valueFor(Y,G)!=="on")return}if(!bX0(this._editor,this._contextKeyService,this._configurationService))return;if(!this._languageFeaturesService.completionProvider.has(Q))return;this.trigger({auto:!0})},this._editor.getOption(89))}_refilterCompletionItems(){Z5(this._editor.hasModel()),Z5(this._triggerState!==void 0);let $=this._editor.getModel(),Q=this._editor.getPosition(),X=new qZ($,Q,{...this._triggerState,refilter:!0});this._onNewContext(X)}trigger($){var Q,X,Y,Z,G,q;if(!this._editor.hasModel())return;let U=this._editor.getModel(),z=new qZ(U,this._editor.getPosition(),$);this.cancel($.retrigger),this._triggerState=$,this._onDidTrigger.fire({auto:$.auto,shy:(Q=$.shy)!==null&&Q!==void 0?Q:!1,position:this._editor.getPosition()}),this._context=z;let H={triggerKind:(X=$.triggerKind)!==null&&X!==void 0?X:0};if($.triggerCharacter)H={triggerKind:1,triggerCharacter:$.triggerCharacter};this._requestToken=new q5;let j=this._editor.getOption(111),V=1;switch(j){case"top":V=0;break;case"bottom":V=2;break}let{itemKind:W,showDeprecated:B}=Qx.createSuggestFilter(this._editor),K=new MU(V,(Z=(Y=$.completionOptions)===null||Y===void 0?void 0:Y.kindFilter)!==null&&Z!==void 0?Z:W,(G=$.completionOptions)===null||G===void 0?void 0:G.providerFilter,(q=$.completionOptions)===null||q===void 0?void 0:q.providerItemsToReuse,B),P=dJ.create(this._editorWorkerService,this._editor),A=iy(this._languageFeaturesService.completionProvider,U,this._editor.getPosition(),K,H,this._requestToken.token);Promise.all([A,P]).then(async([D,R])=>{var M;if((M=this._requestToken)===null||M===void 0||M.dispose(),!this._editor.hasModel())return;let _=$===null||$===void 0?void 0:$.clipboardText;if(!_&&D.needsClipboard)_=await this._clipboardService.readText();if(this._triggerState===void 0)return;let T=this._editor.getModel(),w=new qZ(T,this._editor.getPosition(),$),b={...d2.default,firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly};if(this._completionModel=new ZZ(D.items,this._context.column,{leadingLineContent:w.leadingLineContent,characterCountDelta:w.column-this._context.column},R,this._editor.getOption(117),this._editor.getOption(111),b,_),this._completionDisposables.add(D.disposable),this._onNewContext(w),this._reportDurationsTelemetry(D.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment){for(let S of D.items)if(S.isInvalid)this._logService.warn(`[suggest] did IGNORE invalid completion item from ${S.provider._debugDisplayName}`,S.completion)}}).catch(o0)}_reportDurationsTelemetry($){if(this._telemetryGate++%230!==0)return;setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify($)}),this._logService.debug("suggest.durations.json",$)})}static createSuggestFilter($){let Q=new Set;if($.getOption(111)==="none")Q.add(27);let Y=$.getOption(117);if(!Y.showMethods)Q.add(0);if(!Y.showFunctions)Q.add(1);if(!Y.showConstructors)Q.add(2);if(!Y.showFields)Q.add(3);if(!Y.showVariables)Q.add(4);if(!Y.showClasses)Q.add(5);if(!Y.showStructs)Q.add(6);if(!Y.showInterfaces)Q.add(7);if(!Y.showModules)Q.add(8);if(!Y.showProperties)Q.add(9);if(!Y.showEvents)Q.add(10);if(!Y.showOperators)Q.add(11);if(!Y.showUnits)Q.add(12);if(!Y.showValues)Q.add(13);if(!Y.showConstants)Q.add(14);if(!Y.showEnums)Q.add(15);if(!Y.showEnumMembers)Q.add(16);if(!Y.showKeywords)Q.add(17);if(!Y.showWords)Q.add(18);if(!Y.showColors)Q.add(19);if(!Y.showFiles)Q.add(20);if(!Y.showReferences)Q.add(21);if(!Y.showColors)Q.add(22);if(!Y.showFolders)Q.add(23);if(!Y.showTypeParameters)Q.add(24);if(!Y.showSnippets)Q.add(27);if(!Y.showUsers)Q.add(25);if(!Y.showIssues)Q.add(26);return{itemKind:Q,showDeprecated:Y.showDeprecated}}_onNewContext($){if(!this._context)return;if($.lineNumber!==this._context.lineNumber){this.cancel();return}if(t6($.leadingLineContent)!==t6(this._context.leadingLineContent)){this.cancel();return}if($.column<this._context.column){if($.leadingWord.word)this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});else this.cancel();return}if(!this._completionModel)return;if($.leadingWord.word.length!==0&&$.leadingWord.startColumn>this._context.leadingWord.startColumn){if(qZ.shouldAutoTrigger(this._editor)&&this._context){let X=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:X}})}return}if($.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&$.leadingWord.word.length!==0){let Q=new Map,X=new Set;for(let[Y,Z]of this._completionModel.getItemsByProvider())if(Z.length>0&&Z[0].container.incomplete)X.add(Y);else Q.set(Y,Z);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:X,providerItemsToReuse:Q}})}else{let Q=this._completionModel.lineContext,X=!1;if(this._completionModel.lineContext={leadingLineContent:$.leadingLineContent,characterCountDelta:$.column-this._context.column},this._completionModel.items.length===0){let Y=qZ.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Y&&this._context.leadingWord.endColumn<$.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(!this._context.triggerOptions.auto){if(this._completionModel.lineContext=Q,X=this._completionModel.items.length>0,X&&$.leadingWord.word.length===0){this.cancel();return}}else{this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:$.triggerOptions,isFrozen:X})}}};NR=Qx=xX0([GZ(1,A9),GZ(2,aY),GZ(3,Q7),GZ(4,Q5),GZ(5,h0),GZ(6,y1),GZ(7,F1),GZ(8,M3)],NR);Q0();class oV{constructor(J,$){this._disposables=new r,this._lastOvertyped=[],this._locked=!1,this._disposables.add(J.onWillType(()=>{if(this._locked||!J.hasModel())return;let Q=J.getSelections(),X=Q.length,Y=!1;for(let G=0;G<X;G++)if(!Q[G].isEmpty()){Y=!0;break}if(!Y){if(this._lastOvertyped.length!==0)this._lastOvertyped.length=0;return}this._lastOvertyped=[];let Z=J.getModel();for(let G=0;G<X;G++){let q=Q[G];if(Z.getValueLengthInRange(q)>oV._maxSelectionLength)return;this._lastOvertyped[G]={value:Z.getValueInRange(q),multiline:q.startLineNumber!==q.endLineNumber}}})),this._disposables.add($.onDidTrigger((Q)=>{this._locked=!0})),this._disposables.add($.onDidCancel((Q)=>{this._locked=!1}))}getLastOvertypedInfo(J){if(J>=0&&J<this._lastOvertyped.length)return this._lastOvertyped[J];return}dispose(){this._disposables.dispose()}}oV._maxSelectionLength=51200;D0();e2();u1();P1();F0();Q0();t0();j0(".monaco-editor .suggest-widget{z-index:40;border-radius:3px;flex-direction:column;width:430px;display:flex}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-widget,.monaco-editor .suggest-details{border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background);flex:0 auto;width:100%}.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-light .suggest-widget,.monaco-editor.hc-light .suggest-details{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;border-top:1px solid var(--vscode-editorSuggestWidget-border);flex-flow:row;justify-content:space-between;width:100%;padding:0 4px;font-size:80%;display:none;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:\", \";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{width:100%;height:100%}.monaco-editor .suggest-widget .monaco-list{-webkit-user-select:none;user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{-mox-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;cursor:pointer;touch-action:none;background-position:2px 2px;background-repeat:no-repeat;padding-right:10px;display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;padding-left:2px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{text-overflow:ellipsis;white-space:pre;justify-content:space-between;display:flex;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;cursor:pointer;font-size:14px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{text-overflow:ellipsis;opacity:.6;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{opacity:.4;font-size:85%;line-height:initial;text-overflow:ellipsis;align-self:center;margin-left:12px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{text-overflow:ellipsis;white-space:nowrap;margin-left:1.1em;font-size:85%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-grow:1;flex-shrink:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{flex-shrink:4;max-width:70%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{visibility:hidden;width:18px;height:18px;display:inline-block;position:absolute;right:10px}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{background-position:50%;background-repeat:no-repeat;background-size:80%;width:16px;height:16px;margin-left:2px;display:block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{align-items:center;margin-right:4px;display:flex}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{border:.1em solid #000;width:.7em;height:.7em;margin:0 0 0 .3em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{cursor:default;color:var(--vscode-editorSuggestWidget-foreground);flex-direction:column;display:flex}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;width:100%;height:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{text-overflow:ellipsis;opacity:.7;white-space:pre;flex:2;margin:0 24px 0 0;padding:4px 0 12px 5px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{white-space:pre-wrap;margin:0;padding:4px 5px}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{white-space:initial;min-height:calc(1rem + 8px);padding:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ul,.monaco-editor .suggest-details ol{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}");j7();Y9();hA();h8();l9();BJ();e8();m1();u0();VX();s6();var CX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},IX=function(J,$){return function(Q,X){$(Q,X,J)}},TR=class J extends BX{constructor($,Q,X,Y,Z,G,q,U,z,H,j,V,W){super($,{...Y.getRawOptions(),overflowWidgetsDomNode:Y.getOverflowWidgetsDomNode()},X,Z,G,q,U,z,H,j,V,W);this._parentEditor=Y,this._overwriteOptions=Q,super.updateOptions(this._overwriteOptions),this._register(Y.onDidChangeConfiguration((B)=>this._onParentConfigurationChanged(B)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged($){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions($){sR(this._overwriteOptions,$,!0),super.updateOptions(this._overwriteOptions)}};TR=CX0([IX(4,p0),IX(5,l1),IX(6,j5),IX(7,h0),IX(8,d6),IX(9,a5),IX(10,_8),IX(11,_6),IX(12,F1)],TR);D0();r$();Q0();g0();CP();P4();m1();u0();var vX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Xx=function(J,$){return function(Q,X){$(Q,X,J)}};class Yx extends c3{updateLabel(){let J=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!J)return super.updateLabel();if(this.label)this.label.textContent=F({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,Yx.symbolPrintEnter(J))}static symbolPrintEnter(J){var $;return($=J.getLabel())===null||$===void 0?void 0:$.replace(/\benter\b/gi,"⏎")}}var wR=class J{constructor($,Q,X,Y,Z){this._menuId=Q,this._menuService=Y,this._contextKeyService=Z,this._menuDisposables=new r,this.element=Z0($,q0(".suggest-status-bar"));let G=(q)=>{return q instanceof K4?X.createInstance(Yx,q,void 0):void 0};this._leftActions=new H8(this.element,{actionViewItemProvider:G}),this._rightActions=new H8(this.element,{actionViewItemProvider:G}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){let $=this._menuService.createMenu(this._menuId,this._contextKeyService),Q=()=>{let X=[],Y=[];for(let[Z,G]of $.getActions())if(Z==="left")X.push(...G);else Y.push(...G);this._leftActions.clear(),this._leftActions.push(X),this._rightActions.clear(),this._rightActions.push(Y)};this._menuDisposables.add($.onDidChange(()=>Q())),this._menuDisposables.add($)}hide(){this._menuDisposables.clear()}};wR=vX0([Xx(2,p0),Xx(3,A4),Xx(4,h0)],wR);j0(".monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-value,.monaco-editor .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-enum{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}");g0();N8();var G$1=E("symbolIcon.arrayForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q$1=E("symbolIcon.booleanForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U$1=E("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z$1=E("symbolIcon.colorForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H$1=E("symbolIcon.constantForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j$1=E("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V$1=E("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W$1=E("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B$1=E("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F$1=E("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K$1=E("symbolIcon.fileForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A$1=E("symbolIcon.folderForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P$1=E("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D$1=E("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R$1=E("symbolIcon.keyForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M$1=E("symbolIcon.keywordForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_$1=E("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O$1=E("symbolIcon.moduleForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N$1=E("symbolIcon.namespaceForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T$1=E("symbolIcon.nullForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w$1=E("symbolIcon.numberForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L$1=E("symbolIcon.objectForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k$1=E("symbolIcon.operatorForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E$1=E("symbolIcon.packageForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I$1=E("symbolIcon.propertyForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y$1=E("symbolIcon.referenceForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x$1=E("symbolIcon.snippetForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b$1=E("symbolIcon.stringForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S$1=E("symbolIcon.structForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C$1=E("symbolIcon.textForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v$1=E("symbolIcon.typeParameterForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h$1=E("symbolIcon.unitForeground",{dark:X0,light:X0,hcDark:X0,hcLight:X0},F("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f$1=E("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));g0();m1();u0();m3();N8();aQ();s6();D0();lP();F0();Q0();class tV{constructor(){this._onDidWillResize=new y,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y,this.onDidResize=this._onDidResize.event,this._sashListener=new r,this._size=new d1(0,0),this._minSize=new d1(0,0),this._maxSize=new d1(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new j8(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new j8(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new j8(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:pj.North}),this._southSash=new j8(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:pj.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let J,$=0,Q=0;this._sashListener.add(J0.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{if(J===void 0)this._onDidWillResize.fire(),J=this._size,$=0,Q=0})),this._sashListener.add(J0.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{if(J!==void 0)J=void 0,$=0,Q=0,this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(this._eastSash.onDidChange((X)=>{if(J)Q=X.currentX-X.startX,this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,east:!0})})),this._sashListener.add(this._westSash.onDidChange((X)=>{if(J)Q=-(X.currentX-X.startX),this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,west:!0})})),this._sashListener.add(this._northSash.onDidChange((X)=>{if(J)$=-(X.currentY-X.startY),this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,north:!0})})),this._sashListener.add(this._southSash.onDidChange((X)=>{if(J)$=X.currentY-X.startY,this.layout(J.height+$,J.width+Q),this._onDidResize.fire({dimension:this._size,done:!1,south:!0})})),this._sashListener.add(J0.any(this._eastSash.onDidReset,this._westSash.onDidReset)((X)=>{if(this._preferredSize)this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(J0.any(this._northSash.onDidReset,this._southSash.onDidReset)((X)=>{if(this._preferredSize)this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0})}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(J,$,Q,X){this._northSash.state=J?3:0,this._eastSash.state=$?3:0,this._southSash.state=Q?3:0,this._westSash.state=X?3:0}layout(J=this.size.height,$=this.size.width){let{height:Q,width:X}=this._minSize,{height:Y,width:Z}=this._maxSize;J=Math.max(Q,Math.min(Y,J)),$=Math.max(X,Math.min(Z,$));let G=new d1($,J);if(!d1.equals(G,this._size))this.domNode.style.height=J+"px",this.domNode.style.width=$+"px",this._size=G,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout()}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(J){this._maxSize=J}get maxSize(){return this._maxSize}set minSize(J){this._minSize=J}get minSize(){return this._minSize}set preferredSize(J){this._preferredSize=J}get preferredSize(){return this._preferredSize}}D0();OJ();U5();H5();F0();s2();Q0();Fk();g0();u0();var hX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},fX0=function(J,$){return function(Q,X){$(Q,X,J)}};function eV(J){return!!J&&Boolean(J.completion.documentation||J.completion.detail&&J.completion.detail!==J.completion.label)}var LR=class J{constructor($,Q){this._editor=$,this._onDidClose=new y,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new r,this._renderDisposeable=new r,this._borderWidth=1,this._size=new d1(330,0),this.domNode=q0(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Q.createInstance(a2,{editor:$}),this._body=q0(".body"),this._scrollbar=new oQ(this._body,{alwaysConsumeMouseWheel:!0}),Z0(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Z0(this._body,q0(".header")),this._close=Z0(this._header,q0("span"+b0.asCSSSelector(U0.close))),this._close.title=F("details.close","Close"),this._type=Z0(this._header,q0("p.type")),this._docs=Z0(this._body,q0("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((X)=>{if(X.hasChanged(50))this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let $=this._editor.getOptions(),Q=$.get(50),X=Q.getMassagedFontFamily(),Y=$.get(118)||Q.fontSize,Z=$.get(119)||Q.lineHeight,G=Q.fontWeight,q=`${Y}px`,U=`${Z}px`;this.domNode.style.fontSize=q,this.domNode.style.lineHeight=`${Z/Y}`,this.domNode.style.fontWeight=G,this.domNode.style.fontFeatureSettings=Q.fontFeatureSettings,this._type.style.fontFamily=X,this._close.style.height=U,this._close.style.width=U}getLayoutInfo(){let $=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,Q=this._borderWidth,X=Q*2;return{lineHeight:$,borderWidth:Q,borderHeight:X,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=F("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem($,Q){var X,Y;this._renderDisposeable.clear();let{detail:Z,documentation:G}=$.completion;if(Q){let q="";q+=`score: ${$.score[0]}
`,q+=`prefix: ${(X=$.word)!==null&&X!==void 0?X:"(no prefix)"}
`,q+=`word: ${$.completion.filterText?$.completion.filterText+" (filterText)":$.textLabel}
`,q+=`distance: ${$.distance} (localityBonus-setting)
`,q+=`index: ${$.idx}, based on ${$.completion.sortText&&`sortText: "${$.completion.sortText}"`||"label"}
`,q+=`commit_chars: ${(Y=$.completion.commitCharacters)===null||Y===void 0?void 0:Y.join("")}
`,G=new w3().appendCodeblock("empty",q),Z=`Provider: ${$.provider._debugDisplayName}`}if(!Q&&!eV($)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Z){let q=Z.length>1e5?`${Z.substr(0,1e5)}…`:Z;this._type.textContent=q,this._type.title=q,x7(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(q))}else I5(this._type),this._type.title="",b7(this._type),this.domNode.classList.add("no-type");if(I5(this._docs),typeof G==="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=G;else if(G){this._docs.classList.add("markdown-docs"),I5(this._docs);let q=this._markdownRenderer.render(G);this._docs.appendChild(q.element),this._renderDisposeable.add(q),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=(q)=>{q.preventDefault(),q.stopPropagation()},this._close.onclick=(q)=>{q.preventDefault(),q.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout($,Q){let X=new d1($,Q);if(!d1.equals(X,this._size))this._size=X,qC(this.domNode,$,Q);this._scrollbar.scanDomNode()}scrollDown($=8){this._body.scrollTop+=$}scrollUp($=8){this._body.scrollTop-=$}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth($){this._borderWidth=$}get borderWidth(){return this._borderWidth}};LR=hX0([fX0(1,p0)],LR);class Zx{constructor(J,$){this.widget=J,this._editor=$,this.allowEditorOverflow=!0,this._disposables=new r,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new tV,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(J.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Q,X,Y=0,Z=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Q=this._topLeft,X=this._resizable.size})),this._disposables.add(this._resizable.onDidResize((G)=>{if(Q&&X){this.widget.layout(G.dimension.width,G.dimension.height);let q=!1;if(G.west)Z=X.width-G.dimension.width,q=!0;if(G.north)Y=X.height-G.dimension.height,q=!0;if(q)this._applyTopLeft({top:Q.top+Y,left:Q.left+Z})}if(G.done)Q=void 0,X=void 0,Y=0,Z=0,this._userSize=G.dimension})),this._disposables.add(this.widget.onDidChangeContents(()=>{var G;if(this._anchorBox)this._placeAtAnchor(this._anchorBox,(G=this._userSize)!==null&&G!==void 0?G:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){if(!this._added)this._editor.addOverlayWidget(this),this._added=!0}hide(J=!1){if(this._resizable.clearSashHoverState(),this._added)this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0;if(J)this._userSize=void 0,this.widget.clearContents()}placeAtAnchor(J,$){var Q;let X=J.getBoundingClientRect();this._anchorBox=X,this._preferAlignAtTop=$,this._placeAtAnchor(this._anchorBox,(Q=this._userSize)!==null&&Q!==void 0?Q:this.widget.size,$)}_placeAtAnchor(J,$,Q){var X;let Y=H$(this.getDomNode().ownerDocument.body),Z=this.widget.getLayoutInfo(),G=new d1(220,2*Z.lineHeight),q=J.top,U=function(){let _=Y.width-(J.left+J.width+Z.borderWidth+Z.horizontalPadding),T=-Z.borderWidth+J.left+J.width,w=new d1(_,Y.height-J.top-Z.borderHeight-Z.verticalPadding),b=w.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:T,fit:_-$.width,maxSizeTop:w,maxSizeBottom:b,minSize:G.with(Math.min(_,G.width))}}(),z=function(){let _=J.left-Z.borderWidth-Z.horizontalPadding,T=Math.max(Z.horizontalPadding,J.left-$.width-Z.borderWidth),w=new d1(_,Y.height-J.top-Z.borderHeight-Z.verticalPadding),b=w.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:T,fit:_-$.width,maxSizeTop:w,maxSizeBottom:b,minSize:G.with(Math.min(_,G.width))}}(),H=function(){let _=J.left,T=-Z.borderWidth+J.top+J.height,w=new d1(J.width-Z.borderHeight,Y.height-J.top-J.height-Z.verticalPadding);return{top:T,left:_,fit:w.height-$.height,maxSizeBottom:w,maxSizeTop:w,minSize:G.with(w.width)}}(),j=[U,z,H],V=(X=j.find((_)=>_.fit>=0))!==null&&X!==void 0?X:j.sort((_,T)=>T.fit-_.fit)[0],W=J.top+J.height-Z.borderHeight,B,K=$.height,P=Math.max(V.maxSizeTop.height,V.maxSizeBottom.height);if(K>P)K=P;let A;if(Q)if(K<=V.maxSizeTop.height)B=!0,A=V.maxSizeTop;else B=!1,A=V.maxSizeBottom;else if(K<=V.maxSizeBottom.height)B=!1,A=V.maxSizeBottom;else B=!0,A=V.maxSizeTop;let{top:D,left:R}=V;if(!B&&K>J.height)D=W-K;let M=this._editor.getDomNode();if(M){let _=M.getBoundingClientRect();D-=_.top,R-=_.left}this._applyTopLeft({left:R,top:D}),this._resizable.enableSashes(!B,V===U,B,V!==U),this._resizable.minSize=V.minSize,this._resizable.maxSize=A,this._resizable.layout(K,Math.min(A.width,$.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(J){this._topLeft=J,this._editor.layoutOverlayWidget(this)}}D0();lE();U5();H5();F0();vY();Q0();o6();P8();U9();v$();T4();var l4;(function(J){J[J.FILE=0]="FILE",J[J.FOLDER=1]="FOLDER",J[J.ROOT_FOLDER=2]="ROOT_FOLDER"})(l4||(l4={}));var gX0=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function JW(J,$,Q,X,Y){if(Y)return[`codicon-${Y.id}`,"predefined-file-icon"];let Z=X===l4.ROOT_FOLDER?["rootfolder-icon"]:X===l4.FOLDER?["folder-icon"]:["file-icon"];if(Q){let G;if(Q.scheme===$1.data)G=B9.parseMetaData(Q).get(B9.META_DATA_LABEL);else{let q=Q.path.match(gX0);if(q){if(G=kR(q[2].toLowerCase()),q[1])Z.push(`${kR(q[1].toLowerCase())}-name-dir-icon`)}else G=kR(Q.authority.toLowerCase())}if(X===l4.ROOT_FOLDER)Z.push(`${G}-root-name-folder-icon`);else if(X===l4.FOLDER)Z.push(`${G}-name-folder-icon`);else{if(G){if(Z.push(`${G}-name-file-icon`),Z.push("name-file-icon"),G.length<=255){let U=G.split(".");for(let z=1;z<U.length;z++)Z.push(`${U.slice(z).join(".")}-ext-file-icon`)}Z.push("ext-file-icon")}let q=pX0(J,$,Q);if(q)Z.push(`${kR(q)}-lang-file-icon`)}}return Z}function pX0(J,$,Q){if(!Q)return null;let X=null;if(Q.scheme===$1.data){let Z=B9.parseMetaData(Q).get(B9.META_DATA_MIME);if(Z)X=$.getLanguageIdByMimeType(Z)}else{let Y=J.getModel(Q);if(Y)X=Y.getLanguageId()}if(X&&X!==R5)return X;return $.guessLanguageIdByFilepathOrFirstLine(Q)}function kR(J){return J.replace(/[\11\12\14\15\40]/g,"/")}_Q();v9();g0();ZU();s6();var mX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},Gx=function(J,$){return function(Q,X){$(Q,X,J)}},UZ;function Ux(J){return`suggest-aria-id:${J}`}var uX0=Z7("suggest-more-info",U0.chevronRight,F("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),cX0=new(UZ=class J{extract($,Q){if($.textLabel.match(UZ._regexStrict))return Q[0]=$.textLabel,!0;if($.completion.detail&&$.completion.detail.match(UZ._regexStrict))return Q[0]=$.completion.detail,!0;if($.completion.documentation){let X=typeof $.completion.documentation==="string"?$.completion.documentation:$.completion.documentation.value,Y=UZ._regexRelaxed.exec(X);if(Y&&(Y.index===0||Y.index+Y[0].length===X.length))return Q[0]=Y[0],!0}return!1}},UZ._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,UZ._regexStrict=new RegExp(`^${UZ._regexRelaxed.source}$`,"i"),UZ),ER=class J{constructor($,Q,X,Y){this._editor=$,this._modelService=Q,this._languageService=X,this._themeService=Y,this._onDidToggleDetails=new y,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate($){let Q=new r,X=$;X.classList.add("show-file-icons");let Y=Z0($,q0(".icon")),Z=Z0(Y,q0("span.colorspan")),G=Z0($,q0(".contents")),q=Z0(G,q0(".main")),U=Z0(q,q0(".icon-label.codicon")),z=Z0(q,q0("span.left")),H=Z0(q,q0("span.right")),j=new JU(z,{supportHighlights:!0,supportIcons:!0});Q.add(j);let V=Z0(z,q0("span.signature-label")),W=Z0(z,q0("span.qualifier-label")),B=Z0(H,q0("span.details-label")),K=Z0(H,q0("span.readMore"+b0.asCSSSelector(uX0)));return K.title=F("readMore","Read More"),{root:X,left:z,right:H,icon:Y,colorspan:Z,iconLabel:j,iconContainer:U,parametersLabel:V,qualifierLabel:W,detailsLabel:B,readMore:K,disposables:Q,configureFont:()=>{let A=this._editor.getOptions(),D=A.get(50),R=D.getMassagedFontFamily(),M=D.fontFeatureSettings,_=A.get(118)||D.fontSize,T=A.get(119)||D.lineHeight,w=D.fontWeight,b=D.letterSpacing,S=`${_}px`,g=`${T}px`,c=`${b}px`;X.style.fontSize=S,X.style.fontWeight=w,X.style.letterSpacing=c,q.style.fontFamily=R,q.style.fontFeatureSettings=M,q.style.lineHeight=g,Y.style.height=g,Y.style.width=g,K.style.height=g,K.style.width=g}}}renderElement($,Q,X){X.configureFont();let{completion:Y}=$;X.root.id=Ux(Q),X.colorspan.style.backgroundColor="";let Z={labelEscapeNewLines:!0,matches:$k($.score)},G=[];if(Y.kind===19&&cX0.extract($,G))X.icon.className="icon customcolor",X.iconContainer.className="icon hide",X.colorspan.style.backgroundColor=G[0];else if(Y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){X.icon.className="icon hide",X.iconContainer.className="icon hide";let q=JW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),l4.FILE),U=JW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),l4.FILE);Z.extraClasses=q.length>U.length?q:U}else if(Y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)X.icon.className="icon hide",X.iconContainer.className="icon hide",Z.extraClasses=[JW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),l4.FOLDER),JW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),l4.FOLDER)].flat();else X.icon.className="icon hide",X.iconContainer.className="",X.iconContainer.classList.add("suggest-icon",...b0.asClassNameArray(xZ.toIcon(Y.kind)));if(Y.tags&&Y.tags.indexOf(1)>=0)Z.extraClasses=(Z.extraClasses||[]).concat(["deprecated"]),Z.matches=[];if(X.iconLabel.setLabel($.textLabel,void 0,Z),typeof Y.label==="string")X.parametersLabel.textContent="",X.detailsLabel.textContent=qx(Y.detail||""),X.root.classList.add("string-label");else X.parametersLabel.textContent=qx(Y.label.detail||""),X.detailsLabel.textContent=qx(Y.label.description||""),X.root.classList.remove("string-label");if(this._editor.getOption(117).showInlineDetails)x7(X.detailsLabel);else b7(X.detailsLabel);if(eV($))X.right.classList.add("can-expand-details"),x7(X.readMore),X.readMore.onmousedown=(q)=>{q.stopPropagation(),q.preventDefault()},X.readMore.onclick=(q)=>{q.stopPropagation(),q.preventDefault(),this._onDidToggleDetails.fire()};else X.right.classList.remove("can-expand-details"),b7(X.readMore),X.readMore.onmousedown=null,X.readMore.onclick=null}disposeTemplate($){$.disposables.dispose()}};ER=mX0([Gx(1,z5),Gx(2,e1),Gx(3,d6)],ER);function qx(J){return J.replace(/\r\n|\r|\n/g,"")}u3();UY();var lX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},IR=function(J,$){return function(Q,X){$(Q,X,J)}},TU;E("editorSuggestWidget.background",{dark:y6,light:y6,hcDark:y6,hcLight:y6},F("editorSuggestWidgetBackground","Background color of the suggest widget."));E("editorSuggestWidget.border",{dark:PJ,light:PJ,hcDark:PJ,hcLight:PJ},F("editorSuggestWidgetBorder","Border color of the suggest widget."));var yR=E("editorSuggestWidget.foreground",{dark:O$,light:O$,hcDark:O$,hcLight:O$},F("editorSuggestWidgetForeground","Foreground color of the suggest widget."));E("editorSuggestWidget.selectedForeground",{dark:N$,light:N$,hcDark:N$,hcLight:N$},F("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));E("editorSuggestWidget.selectedIconForeground",{dark:sQ,light:sQ,hcDark:sQ,hcLight:sQ},F("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var dX0=E("editorSuggestWidget.selectedBackground",{dark:T$,light:T$,hcDark:T$,hcLight:T$},F("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));E("editorSuggestWidget.highlightForeground",{dark:dQ,light:dQ,hcDark:dQ,hcLight:dQ},F("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));E("editorSuggestWidget.focusHighlightForeground",{dark:WH,light:WH,hcDark:WH,hcLight:WH},F("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));E("editorSuggestWidgetStatus.foreground",{dark:L0(yR,0.5),light:L0(yR,0.5),hcDark:L0(yR,0.5),hcLight:L0(yR,0.5)},F("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class st{constructor(J,$){this._service=J,this._key=`suggestWidget.size/${$.getEditorType()}/${$ instanceof TR}`}restore(){var J;let $=(J=this._service.get(this._key,0))!==null&&J!==void 0?J:"";try{let Q=JSON.parse($);if(d1.is(Q))return d1.lift(Q)}catch(Q){}return}store(J){this._service.store(this._key,JSON.stringify(J),0,1)}reset(){this._service.remove(this._key,0)}}var wU=TU=class J{constructor($,Q,X,Y,Z){this.editor=$,this._storageService=Q,this._state=0,this._isAuto=!1,this._pendingLayout=new f5,this._pendingShowDetails=new f5,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new M8,this._disposables=new r,this._onDidSelect=new H4,this._onDidFocus=new H4,this._onDidHide=new y,this._onDidShow=new y,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new tV,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new at(this,$),this._persistedSize=new st(Q,$);class G{constructor(V,W,B=!1,K=!1){this.persistedSize=V,this.currentSize=W,this.persistHeight=B,this.persistWidth=K}}let q;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),q=new G(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize((V)=>{var W,B,K,P;if(this._resize(V.dimension.width,V.dimension.height),q)q.persistHeight=q.persistHeight||!!V.north||!!V.south,q.persistWidth=q.persistWidth||!!V.east||!!V.west;if(!V.done)return;if(q){let{itemHeight:A,defaultSize:D}=this.getLayoutInfo(),R=Math.round(A/2),{width:M,height:_}=this.element.size;if(!q.persistHeight||Math.abs(q.currentSize.height-_)<=R)_=(B=(W=q.persistedSize)===null||W===void 0?void 0:W.height)!==null&&B!==void 0?B:D.height;if(!q.persistWidth||Math.abs(q.currentSize.width-M)<=R)M=(P=(K=q.persistedSize)===null||K===void 0?void 0:K.width)!==null&&P!==void 0?P:D.width;this._persistedSize.store(new d1(M,_))}this._contentWidget.unlockPreference(),q=void 0})),this._messageElement=Z0(this.element.domNode,q0(".message")),this._listElement=Z0(this.element.domNode,q0(".tree"));let U=this._disposables.add(Z.createInstance(LR,this.editor));U.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Zx(U,this.editor);let z=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);z();let H=Z.createInstance(ER,this.editor);this._disposables.add(H),this._disposables.add(H.onDidToggleDetails(()=>this.toggleDetails())),this._list=new c8("SuggestWidget",this._listElement,{getHeight:(V)=>this.getLayoutInfo().itemHeight,getTemplateId:(V)=>"suggestion"},[H],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>F("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:(V)=>{let W=V.textLabel;if(typeof V.completion.label!=="string"){let{detail:A,description:D}=V.completion.label;if(A&&D)W=F("label.full","{0} {1}, {2}",W,A,D);else if(A)W=F("label.detail","{0} {1}",W,A);else if(D)W=F("label.desc","{0}, {1}",W,D)}if(!V.isResolved||!this._isDetailsVisible())return W;let{documentation:B,detail:K}=V.completion,P=lX("{0}{1}",K||"",B?typeof B==="string"?B:B.value:"");return F("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",W,P)}}}),this._list.style(OX({listInactiveFocusBackground:dX0,listInactiveFocusOutline:H6})),this._status=Z.createInstance(wR,this.element.domNode,XQ);let j=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);j(),this._disposables.add(Y.onDidColorThemeChange((V)=>this._onThemeChange(V))),this._onThemeChange(Y.getColorTheme()),this._disposables.add(this._list.onMouseDown((V)=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onTap((V)=>this._onListMouseDownOrTap(V))),this._disposables.add(this._list.onDidChangeSelection((V)=>this._onListSelection(V))),this._disposables.add(this._list.onDidChangeFocus((V)=>this._onListFocus(V))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration((V)=>{if(V.hasChanged(117))j(),z();if(this._completionModel&&(V.hasChanged(50)||V.hasChanged(118)||V.hasChanged(119)))this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Y1.Visible.bindTo(X),this._ctxSuggestWidgetDetailsVisible=Y1.DetailsVisible.bindTo(X),this._ctxSuggestWidgetMultipleSuggestions=Y1.MultipleSuggestions.bindTo(X),this._ctxSuggestWidgetHasFocusedSuggestion=Y1.HasFocusedSuggestion.bindTo(X),this._disposables.add(i1(this._details.widget.domNode,"keydown",(V)=>{this._onDetailsKeydown.fire(V)})),this._disposables.add(this.editor.onMouseDown((V)=>this._onEditorMouseDown(V)))}dispose(){var $;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown($){if(this._details.widget.domNode.contains($.target.element))this._details.widget.domNode.focus();else if(this.element.domNode.contains($.target.element))this.editor.focus()}_onCursorSelectionChanged(){if(this._state!==0)this._contentWidget.layout()}_onListMouseDownOrTap($){if(typeof $.element==="undefined"||typeof $.index==="undefined")return;$.browserEvent.preventDefault(),$.browserEvent.stopPropagation(),this._select($.element,$.index)}_onListSelection($){if($.elements.length)this._select($.elements[0],$.indexes[0])}_select($,Q){let X=this._completionModel;if(X)this._onDidSelect.fire({item:$,index:Q,model:X}),this.editor.focus()}_onThemeChange($){this._details.widget.borderWidth=E4($.type)?2:1}_onListFocus($){var Q;if(this._ignoreFocusEvents)return;if(!$.elements.length){if(this._currentSuggestionDetails)this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0;this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);let X=$.elements[0],Y=$.indexes[0];if(X!==this._focusedItem)(Q=this._currentSuggestionDetails)===null||Q===void 0||Q.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=X,this._list.reveal(Y),this._currentSuggestionDetails=dZ(async(Z)=>{let G=aX(()=>{if(this._isDetailsVisible())this.showDetails(!0)},250),q=Z.onCancellationRequested(()=>G.dispose());try{return await X.resolve(Z)}finally{G.dispose(),q.dispose()}}),this._currentSuggestionDetails.then(()=>{if(Y>=this._list.length||X!==this._list.element(Y))return;if(this._ignoreFocusEvents=!0,this._list.splice(Y,1,[X]),this._list.setFocus([Y]),this._ignoreFocusEvents=!1,this._isDetailsVisible())this.showDetails(!1);else this.element.domNode.classList.remove("docs-side");this.editor.setAriaOptions({activeDescendant:Ux(Y)})}).catch(o0);this._onDidFocus.fire({item:X,index:Y,model:this._completionModel})}_setState($){if(this._state===$)return;switch(this._state=$,this.element.domNode.classList.toggle("frozen",$===4),this.element.domNode.classList.remove("message"),$){case 0:b7(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=TU.LOADING_MESSAGE,b7(this._listElement,this._status.element),x7(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,K$(TU.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=TU.NO_SUGGESTIONS_MESSAGE,b7(this._listElement,this._status.element),x7(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,K$(TU.NO_SUGGESTIONS_MESSAGE);break;case 3:b7(this._messageElement),x7(this._listElement,this._status.element),this._show();break;case 4:b7(this._messageElement),x7(this._listElement,this._status.element),this._show();break;case 5:b7(this._messageElement),x7(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered($,Q){if(this._state!==0)return;if(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!$,!this._isAuto)this._loadingTimeout=aX(()=>this._setState(1),Q)}showSuggestions($,Q,X,Y,Z){var G,q;if(this._contentWidget.setPosition(this.editor.getPosition()),(G=this._loadingTimeout)===null||G===void 0||G.dispose(),(q=this._currentSuggestionDetails)===null||q===void 0||q.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==$)this._completionModel=$;if(X&&this._state!==2&&this._state!==0){this._setState(4);return}let U=this._completionModel.items.length,z=U===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(U>1),z){this._setState(Y?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(X?4:3),this._list.reveal(Q,0),this._list.setFocus(Z?[]:[Q])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Xq(B0(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){if(this._list.length>0)this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel};return}toggleDetailsFocus(){if(this._state===5)this._setState(3),this._details.widget.domNode.classList.remove("focused");else if(this._state===3&&this._isDetailsVisible())this._setState(5),this._details.widget.domNode.classList.add("focused")}toggleDetails(){if(this._isDetailsVisible())this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details");else if((eV(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4))this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1)}showDetails($){this._pendingShowDetails.value=Xq(B0(this.element.domNode),()=>{if(this._pendingShowDetails.clear(),this._details.show(),$)this._details.widget.renderLoading();else this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode);if(!this._details.widget.isEmpty)this._positionDetails(),this.element.domNode.classList.add("shows-details");else this._details.hide();this.editor.focus()})}toggleExplainMode(){if(this._list.getFocusedElements()[0])if(this._explainMode=!this._explainMode,!this._isDetailsVisible())this.toggleDetails();else this.showDetails(!1)}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var $;this._pendingLayout.clear(),this._pendingShowDetails.clear(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let Q=this._persistedSize.restore(),X=Math.ceil(this.getLayoutInfo().itemHeight*4.3);if(Q&&Q.height<X)this._persistedSize.store(Q.with(void 0,X))}isFrozen(){return this._state===4}_afterRender($){if($===null){if(this._isDetailsVisible())this._details.hide();return}if(this._state===2||this._state===1)return;if(this._isDetailsVisible()&&!this._details.widget.isEmpty)this._details.show();this._positionDetails()}_layout($){var Q,X,Y;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;let Z=H$(this.element.domNode.ownerDocument.body),G=this.getLayoutInfo();if(!$)$=G.defaultSize;let{height:q,width:U}=$;if(this._status.element.style.height=`${G.itemHeight}px`,this._state===2||this._state===1)q=G.itemHeight+G.borderHeight,U=G.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new d1(U,q),this._contentWidget.setPreference(2);else{let z=Z.width-G.borderHeight-2*G.horizontalPadding;if(U>z)U=z;let H=this._completionModel?this._completionModel.stats.pLabelLen*G.typicalHalfwidthCharacterWidth:U,j=G.statusBarHeight+this._list.contentHeight+G.borderHeight,V=G.itemHeight+G.statusBarHeight,W=P5(this.editor.getDomNode()),B=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=W.top+B.top+B.height,P=Math.min(Z.height-K-G.verticalPadding,j),A=W.top+B.top-G.verticalPadding,D=Math.min(A,j),R=Math.min(Math.max(D,P)+G.borderHeight,j);if(q===((Q=this._cappedHeight)===null||Q===void 0?void 0:Q.capped))q=this._cappedHeight.wanted;if(q<V)q=V;if(q>R)q=R;let M=150;if(q>P||this._forceRenderingAbove&&A>M)this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),R=D;else this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),R=P;this.element.preferredSize=new d1(H,G.defaultSize.height),this.element.maxSize=new d1(z,R),this.element.minSize=new d1(220,V),this._cappedHeight=q===j?{wanted:(Y=(X=this._cappedHeight)===null||X===void 0?void 0:X.wanted)!==null&&Y!==void 0?Y:$.height,capped:q}:void 0}this._resize(U,q)}_resize($,Q){let{width:X,height:Y}=this.element.maxSize;$=Math.min(X,$),Q=Math.min(Y,Q);let{statusBarHeight:Z}=this.getLayoutInfo();this._list.layout(Q-Z,$),this._listElement.style.height=`${Q-Z}px`,this.element.layout(Q,$),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var $;if(this._isDetailsVisible())this._details.placeAtAnchor(this.element.domNode,(($=this._contentWidget.getPosition())===null||$===void 0?void 0:$.preference[0])===2)}getLayoutInfo(){let $=this.editor.getOption(50),Q=r5(this.editor.getOption(119)||$.lineHeight,8,1000),X=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:Q,Y=this._details.widget.borderWidth,Z=2*Y;return{itemHeight:Q,statusBarHeight:X,borderWidth:Y,borderHeight:Z,typicalHalfwidthCharacterWidth:$.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new d1(430,X+12*Q+Z)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible($){this._storageService.store("expandSuggestionDocs",$,0,0)}forceRenderingAbove(){if(!this._forceRenderingAbove)this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore())}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};wU.LOADING_MESSAGE=F("suggestWidget.loading","Loading...");wU.NO_SUGGESTIONS_MESSAGE=F("suggestWidget.noSuggestions","No suggestions.");wU=TU=lX0([IR(1,bJ),IR(2,h0),IR(3,d6),IR(4,p0)],wU);class at{constructor(J,$){this._widget=J,this._editor=$,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){if(this._added)this._added=!1,this._editor.removeContentWidget(this)}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){if(this._hidden=!1,!this._added)this._added=!0,this._editor.addContentWidget(this)}hide(){if(!this._hidden)this._hidden=!0,this.layout()}layout(){this._editor.layoutContentWidget(this)}getPosition(){if(this._hidden||!this._position||!this._preference)return null;return{position:this._position,preference:[this._preference]}}beforeRender(){let{height:J,width:$}=this._widget.element.size,{borderWidth:Q,horizontalPadding:X}=this._widget.getLayoutInfo();return new d1($+2*Q+X,J+2*Q)}afterRender(J){this._widget._afterRender(J)}setPreference(J){if(!this._preferenceLocked)this._preference=J}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(J){this._position=J}}sX();v$();iX();D0();EY();var sX0=function(J,$,Q,X){var Y=arguments.length,Z=Y<3?$:X===null?X=Object.getOwnPropertyDescriptor($,Q):X,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,Q,X);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,Q,Z):G($,Q))||Z;return Y>3&&Z&&Object.defineProperty($,Q,Z),Z},LU=function(J,$){return function(Q,X){$(Q,X,J)}},zx,aX0=!1;class rt{constructor(J,$){if(this._model=J,this._position=$,this._decorationOptions=L1.register({description:"suggest-line-suffix",stickiness:1}),J.getLineMaxColumn($.lineNumber)!==$.column){let X=J.getOffsetAt($),Y=J.getPositionAt(X+1);J.changeDecorations((Z)=>{if(this._marker)Z.removeDecoration(this._marker);this._marker=Z.addDecoration(L.fromPositions($,Y),this._decorationOptions)})}}dispose(){if(this._marker&&!this._model.isDisposed())this._model.changeDecorations((J)=>{J.removeDecoration(this._marker),this._marker=void 0})}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){let $=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt($.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}var zZ=zx=class J{static get($){return $.getContribution(zx.ID)}constructor($,Q,X,Y,Z,G,q){this._memoryService=Q,this._commandService=X,this._contextKeyService=Y,this._instantiationService=Z,this._logService=G,this._telemetryService=q,this._lineSuffix=new f5,this._toDispose=new r,this._selectors=new it((j)=>j.priority),this._onWillInsertSuggestItem=new y,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=$,this.model=Z.createInstance(NR,this.editor),this._selectors.register({priority:0,select:(j,V,W)=>this._memoryService.select(j,V,W)});let U=Y1.InsertMode.bindTo(Y);U.set($.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>U.set($.getOption(117).insertMode))),this.widget=this._toDispose.add(new Tz(B0($.getDomNode()),()=>{let j=this._instantiationService.createInstance(wU,this.editor);this._toDispose.add(j),this._toDispose.add(j.onDidSelect((P)=>this._insertSuggestion(P,0),this));let V=new $x(this.editor,j,this.model,(P)=>this._insertSuggestion(P,2));this._toDispose.add(V);let W=Y1.MakesTextEdit.bindTo(this._contextKeyService),B=Y1.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=Y1.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(K0(()=>{W.reset(),B.reset(),K.reset()})),this._toDispose.add(j.onDidFocus(({item:P})=>{let A=this.editor.getPosition(),D=P.editStart.column,R=A.column,M=!0;if(this.editor.getOption(1)==="smart"&&this.model.state===2&&!P.completion.additionalTextEdits&&!(P.completion.insertTextRules&4)&&R-D===P.completion.insertText.length)M=this.editor.getModel().getValueInRange({startLineNumber:A.lineNumber,startColumn:D,endLineNumber:A.lineNumber,endColumn:R})!==P.completion.insertText;W.set(M),B.set(!v.equals(P.editInsertEnd,P.editReplaceEnd)),K.set(Boolean(P.provider.resolveCompletionItem)||Boolean(P.completion.documentation)||P.completion.detail!==P.completion.label)})),this._toDispose.add(j.onDetailsKeyDown((P)=>{if(P.toKeyCodeChord().equals(new L9(!0,!1,!1,!1,33))||r0&&P.toKeyCodeChord().equals(new L9(!1,!1,!1,!0,33))){P.stopPropagation();return}if(!P.toKeyCodeChord().isModifierKey())this.editor.focus()})),j})),this._overtypingCapturer=this._toDispose.add(new Tz(B0($.getDomNode()),()=>{return this._toDispose.add(new oV(this.editor,this.model))})),this._alternatives=this._toDispose.add(new Tz(B0($.getDomNode()),()=>{return this._toDispose.add(new YZ(this.editor,this._contextKeyService))})),this._toDispose.add(Z.createInstance(NU,$)),this._toDispose.add(this.model.onDidTrigger((j)=>{this.widget.value.showTriggered(j.auto,j.shy?250:50),this._lineSuffix.value=new rt(this.editor.getModel(),j.position)})),this._toDispose.add(this.model.onDidSuggest((j)=>{if(j.triggerOptions.shy)return;let V=-1;for(let B of this._selectors.itemsOrderedByPriorityDesc)if(V=B.select(this.editor.getModel(),this.editor.getPosition(),j.completionModel.items),V!==-1)break;if(V===-1)V=0;if(this.model.state===0)return;let W=!1;if(j.triggerOptions.auto){let B=this.editor.getOption(117);if(B.selectionMode==="never"||B.selectionMode==="always")W=B.selectionMode==="never";else if(B.selectionMode==="whenTriggerCharacter")W=j.triggerOptions.triggerKind!==1;else if(B.selectionMode==="whenQuickSuggestion")W=j.triggerOptions.triggerKind===1&&!j.triggerOptions.refilter}this.widget.value.showSuggestions(j.completionModel,V,j.isFrozen,j.triggerOptions.auto,W)})),this._toDispose.add(this.model.onDidCancel((j)=>{if(!j.retrigger)this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{if(!aX0)this.model.cancel(),this.model.clear()}));let z=Y1.AcceptSuggestionsOnEnter.bindTo(Y),H=()=>{let j=this.editor.getOption(1);z.set(j==="on"||j==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>H())),H()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion($,Q){if(!$||!$.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let X=S5.get(this.editor);if(!X)return;this._onWillInsertSuggestItem.fire({item:$.item});let Y=this.editor.getModel(),Z=Y.getAlternativeVersionId(),{item:G}=$,q=[],U=new q5;if(!(Q&1))this.editor.pushUndoStop();let z=this.getOverwriteInfo(G,Boolean(Q&8));this._memoryService.memorize(Y,this.editor.getPosition(),G);let H=G.isResolved,j=-1,V=-1;if(Array.isArray(G.completion.additionalTextEdits)){this.model.cancel();let B=g4.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",G.completion.additionalTextEdits.map((K)=>{let P=L.lift(K.range);if(P.startLineNumber===G.position.lineNumber&&P.startColumn>G.position.column){let A=this.editor.getPosition().column-G.position.column,D=A,R=L.spansMultipleLines(P)?0:A;P=new L(P.startLineNumber,P.startColumn+D,P.endLineNumber,P.endColumn+R)}return r9.replaceMove(P,K.text)})),B.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!H){let B=new G5,K,P=Y.onDidChangeContent((M)=>{if(M.isFlush){U.cancel(),P.dispose();return}for(let _ of M.changes){let T=L.getEndPosition(_.range);if(!K||v.isBefore(T,K))K=T}}),A=Q;Q|=2;let D=!1,R=this.editor.onWillType(()=>{if(R.dispose(),D=!0,!(A&2))this.editor.pushUndoStop()});q.push(G.resolve(U.token).then(()=>{if(!G.completion.additionalTextEdits||U.token.isCancellationRequested)return;if(K&&G.completion.additionalTextEdits.some((_)=>v.isBefore(K,L.getStartPosition(_.range))))return!1;if(D)this.editor.pushUndoStop();let M=g4.capture(this.editor);if(this.editor.executeEdits("suggestController.additionalTextEdits.async",G.completion.additionalTextEdits.map((_)=>r9.replaceMove(L.lift(_.range),_.text))),M.restoreRelativeVerticalPositionOfCursor(this.editor),D||!(A&2))this.editor.pushUndoStop();return!0}).then((M)=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",B.elapsed(),M),V=M===!0?1:M===!1?0:-2}).finally(()=>{P.dispose(),R.dispose()}))}let{insertText:W}=G.completion;if(!(G.completion.insertTextRules&4))W=XZ.escape(W);if(this.model.cancel(),X.insert(W,{overwriteBefore:z.overwriteBefore,overwriteAfter:z.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(G.completion.insertTextRules&1),clipboardText:$.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),!(Q&2))this.editor.pushUndoStop();if(G.completion.command)if(G.completion.command.id===$W.id)this.model.trigger({auto:!0,retrigger:!0});else{let B=new G5;q.push(this._commandService.executeCommand(G.completion.command.id,...G.completion.command.arguments?[...G.completion.command.arguments]:[]).catch((K)=>{if(G.completion.extensionId)tJ(K);else o0(K)}).finally(()=>{j=B.elapsed()}))}if(Q&4)this._alternatives.value.set($,(B)=>{U.cancel();while(Y.canUndo()){if(Z!==Y.getAlternativeVersionId())Y.undo();this._insertSuggestion(B,3|(Q&8?8:0));break}});this._alertCompletionItem(G),Promise.all(q).finally(()=>{this._reportSuggestionAcceptedTelemetry(G,Y,H,j,V),this.model.clear(),U.dispose()})}_reportSuggestionAcceptedTelemetry($,Q,X,Y,Z){var G,q,U;if(Math.floor(Math.random()*100)===0)return;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(q=(G=$.extensionId)===null||G===void 0?void 0:G.value)!==null&&q!==void 0?q:"unknown",providerId:(U=$.provider._debugDisplayName)!==null&&U!==void 0?U:"unknown",kind:$.completion.kind,basenameHash:rX(v2(Q.uri)).toString(16),languageId:Q.getLanguageId(),fileExtension:Su(Q.uri),resolveInfo:!$.provider.resolveCompletionItem?-1:X?1:0,resolveDuration:$.resolveDuration,commandDuration:Y,additionalEditsAsync:Z})}getOverwriteInfo($,Q){Z5(this.editor.hasModel());let X=this.editor.getOption(117).insertMode==="replace";if(Q)X=!X;let Y=$.position.column-$.editStart.column,Z=(X?$.editReplaceEnd.column:$.editInsertEnd.column)-$.position.column,G=this.editor.getPosition().column-$.position.column,q=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+G,overwriteAfter:Z+q}}_alertCompletionItem($){if(_9($.completion.additionalTextEdits)){let Q=F("aria.alert.snippet","Accepting '{0}' made {1} additional edits",$.textLabel,$.completion.additionalTextEdits.length);Tq(Q)}}triggerSuggest($,Q,X){if(this.editor.hasModel())this.model.trigger({auto:Q!==null&&Q!==void 0?Q:!1,completionOptions:{providerFilter:$,kindFilter:X?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus()}triggerSuggestAndAcceptBest($){if(!this.editor.hasModel())return;let Q=this.editor.getPosition(),X=()=>{if(Q.equals(this.editor.getPosition()))this._commandService.executeCommand($.fallback)},Y=(Z)=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;let G=this.editor.getPosition(),q=Z.editStart.column,U=G.column;if(U-q!==Z.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:G.lineNumber,startColumn:q,endLineNumber:G.lineNumber,endColumn:U})!==Z.completion.insertText};J0.once(this.model.onDidTrigger)((Z)=>{let G=[];J0.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{k1(G),X()},void 0,G),this.model.onDidSuggest(({completionModel:q})=>{if(k1(G),q.items.length===0){X();return}let U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.items),z=q.items[U];if(!Y(z)){X();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:z,model:q},7)},void 0,G)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Q,0),this.editor.focus()}acceptSelectedSuggestion($,Q){let X=this.widget.value.getFocusedItem(),Y=0;if($)Y|=4;if(Q)Y|=8;this._insertSuggestion(X,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){if(!this.widget.isInitialized)return;this.widget.value.stopForceRenderingAbove()}registerSelector($){return this._selectors.register($)}};zZ.ID="editor.contrib.suggestController";zZ=zx=sX0([LU(1,ey),LU(2,j5),LU(3,h0),LU(4,p0),LU(5,Q5),LU(6,Q7)],zZ);class it{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort(($,Q)=>this.prioritySelector(Q)-this.prioritySelector($)),{dispose:()=>{let $=this._items.indexOf(J);if($>=0)this._items.splice($,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class $W extends O4{constructor(){super({id:$W.id,label:F("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:N0.and(n.writable,n.hasCompletionItemProvider,Y1.Visible.toNegated()),kbOpts:{kbExpr:n.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(J,$,Q){let X=zZ.get($);if(!X)return;let Y;if(Q&&typeof Q==="object"){if(Q.auto===!0)Y=!0}X.triggerSuggest(void 0,Y,void 0)}}$W.id="editor.action.triggerSuggest";x9(zZ.ID,zZ,2);J5($W);var M9=190,z7=S7.bindToContribution(zZ.get);w0(new z7({id:"acceptSelectedSuggestion",precondition:N0.and(Y1.Visible,Y1.HasFocusedSuggestion),handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:N0.and(Y1.Visible,n.textInputFocus),weight:M9},{primary:3,kbExpr:N0.and(Y1.Visible,n.textInputFocus,Y1.AcceptSuggestionsOnEnter,Y1.MakesTextEdit),weight:M9}],menuOpts:[{menuId:XQ,title:F("accept.insert","Insert"),group:"left",order:1,when:Y1.HasInsertAndReplaceRange.toNegated()},{menuId:XQ,title:F("accept.insert","Insert"),group:"left",order:1,when:N0.and(Y1.HasInsertAndReplaceRange,Y1.InsertMode.isEqualTo("insert"))},{menuId:XQ,title:F("accept.replace","Replace"),group:"left",order:1,when:N0.and(Y1.HasInsertAndReplaceRange,Y1.InsertMode.isEqualTo("replace"))}]}));w0(new z7({id:"acceptAlternativeSelectedSuggestion",precondition:N0.and(Y1.Visible,n.textInputFocus,Y1.HasFocusedSuggestion),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:1027,secondary:[1026]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:XQ,group:"left",order:2,when:N0.and(Y1.HasInsertAndReplaceRange,Y1.InsertMode.isEqualTo("insert")),title:F("accept.replace","Replace")},{menuId:XQ,group:"left",order:2,when:N0.and(Y1.HasInsertAndReplaceRange,Y1.InsertMode.isEqualTo("replace")),title:F("accept.insert","Insert")}]}));z6.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");w0(new z7({id:"hideSuggestWidget",precondition:Y1.Visible,handler:(J)=>J.cancelSuggestWidget(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:9,secondary:[1033]}}));w0(new z7({id:"selectNextSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));w0(new z7({id:"selectNextPageSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextPageSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:12,secondary:[2060]}}));w0(new z7({id:"selectLastSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectLastSuggestion()}));w0(new z7({id:"selectPrevSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));w0(new z7({id:"selectPrevPageSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevPageSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:11,secondary:[2059]}}));w0(new z7({id:"selectFirstSuggestion",precondition:N0.and(Y1.Visible,N0.or(Y1.MultipleSuggestions,Y1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectFirstSuggestion()}));w0(new z7({id:"focusSuggestion",precondition:N0.and(Y1.Visible,Y1.HasFocusedSuggestion.negate()),handler:(J)=>J.focusSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));w0(new z7({id:"focusAndAcceptSuggestion",precondition:N0.and(Y1.Visible,Y1.HasFocusedSuggestion.negate()),handler:(J)=>{J.focusSuggestion(),J.acceptSelectedSuggestion(!0,!1)}}));w0(new z7({id:"toggleSuggestionDetails",precondition:N0.and(Y1.Visible,Y1.HasFocusedSuggestion),handler:(J)=>J.toggleSuggestionDetails(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:XQ,group:"right",order:1,when:N0.and(Y1.DetailsVisible,Y1.CanResolve),title:F("detail.more","show less")},{menuId:XQ,group:"right",order:1,when:N0.and(Y1.DetailsVisible.toNegated(),Y1.CanResolve),title:F("detail.less","show more")}]}));w0(new z7({id:"toggleExplainMode",precondition:Y1.Visible,handler:(J)=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));w0(new z7({id:"toggleSuggestionFocus",precondition:Y1.Visible,handler:(J)=>J.toggleSuggestionFocus(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:2570,mac:{primary:778}}}));w0(new z7({id:"insertBestCompletion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),NU.AtEnd,Y1.Visible.toNegated(),YZ.OtherSuggestions.toNegated(),S5.InSnippetMode.toNegated()),handler:(J,$)=>{J.triggerSuggestAndAcceptBest(r6($)?{fallback:"tab",...$}:{fallback:"tab"})},kbOpts:{weight:M9,primary:2}}));w0(new z7({id:"insertNextSuggestion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),YZ.OtherSuggestions,Y1.Visible.toNegated(),S5.InSnippetMode.toNegated()),handler:(J)=>J.acceptNextSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:2}}));w0(new z7({id:"insertPrevSuggestion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),YZ.OtherSuggestions,Y1.Visible.toNegated(),S5.InSnippetMode.toNegated()),handler:(J)=>J.acceptPrevSuggestion(),kbOpts:{weight:M9,kbExpr:n.textInputFocus,primary:1026}}));J5(class extends O4{constructor(){super({id:"editor.action.resetSuggestSize",label:F("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,$){var Q;(Q=zZ.get($))===null||Q===void 0||Q.resetWidgetSize()}});J$();b9();g0();class nt extends O4{constructor(){super({id:"editor.action.forceRetokenize",label:F("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(J,$){if(!$.hasModel())return;let Q=$.getModel();Q.tokenization.resetTokenization();let X=new G5;Q.tokenization.forceTokenization(Q.getLineCount()),X.stop(),console.log(`tokenization took ${X.elapsed()}`)}}J5(nt);uJ();uJ();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var SY0=class{constructor(J,$,Q){this._onDidChange=new vy,this._languageId=J,this.setDiagnosticsOptions($),this.setModeConfiguration(Q)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(J){this._diagnosticsOptions=J||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(J){this._modeConfiguration=J||Object.create(null),this._onDidChange.fire(this)}},CY0={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},vY0={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},te=new SY0("json",CY0,vY0),hY0=()=>ee().then((J)=>J.getWorker());mV.json={jsonDefaults:te,getWorker:hY0};function ee(){return Promise.resolve().then(() => (oe(),ne))}mV.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});mV.onLanguage("json",()=>{ee().then((J)=>J.setupMode(te))});uJ();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var{defineProperty:fY0,getOwnPropertyDescriptor:gY0,getOwnPropertyNames:pY0}=Object,mY0=Object.prototype.hasOwnProperty,J00=(J,$,Q,X)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of pY0($))if(!mY0.call(J,Y)&&Y!==Q)fY0(J,Y,{get:()=>$[Y],enumerable:!(X=gY0($,Y))||X.enumerable})}return J},uY0=(J,$,Q)=>(J00(J,$,"default"),Q&&J00(Q,$,"default")),jW={};uY0(jW,e9);var $00={},Px={},cY0=class J{static getOrCreate($){if(!Px[$])Px[$]=new J($);return Px[$]}constructor($){this._languageId=$,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((Q,X)=>{this._lazyLoadPromiseResolve=Q,this._lazyLoadPromiseReject=X})}load(){if(!this._loadingTriggered)this._loadingTriggered=!0,$00[this._languageId].loader().then(($)=>this._lazyLoadPromiseResolve($),($)=>this._lazyLoadPromiseReject($));return this._lazyLoadPromise}};function WZ(J){let $=J.id;$00[$]=J,jW.languages.register(J);let Q=cY0.getOrCreate($);jW.languages.registerTokensProviderFactory($,{create:async()=>{return(await Q.load()).language}}),jW.languages.onLanguageEncountered($,async()=>{let X=await Q.load();jW.languages.setLanguageConfiguration($,X.conf)})}/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/WZ({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>{return Promise.resolve().then(() => (X00(),Q00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/WZ({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>{return Promise.resolve().then(() => (Z00(),Y00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/WZ({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>{return Promise.resolve().then(() => (z00(),U00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/WZ({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>{return Promise.resolve().then(() => (V00(),j00))}});uJ();QZ.defineTheme("bc",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#F9F9F9","editor.foreground":"#575E75","editor.lineHighlightBackground":"#E5F0FF","editor.lineHighlightBorder":"#E5F0FF","scrollbarSlider.background":"#CECDCE","scrollbarSlider.hoverBackground":"#CECDCE","scrollbarSlider.activeBackground":"#CECDCE"}});window.MonacoEnvironment={getWorker:(J,$)=>{switch($){case"json":return new Worker("/assets/workers/json-worker.js",{type:"module"});default:return new Worker("/assets/workers/editor-worker.js",{type:"module"})}}};async function Rx(J,$){return QZ.create(J,{theme:"bc",autoClosingBrackets:"languageDefined",autoClosingDelete:"auto",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",automaticLayout:!0,bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},contextmenu:!1,copyWithSyntaxHighlighting:!0,fontSize:16,formatOnPaste:!0,inlineSuggest:{enabled:!0},minimap:{enabled:!1},hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{horizontal:"visible",horizontalScrollbarSize:6,vertical:"visible",verticalScrollbarSize:6},showDeprecated:!0,smoothScrolling:!0,...$})}j0("._63dnCW_editor-wrapper{width:100%;height:100%;position:relative}._63dnCW_editor-wrapper .scrollbar.horizontal{bottom:1px!important}._63dnCW_editor-wrapper .scrollbar.vertical{right:1px!important}._63dnCW_editor-wrapper .slider{border-radius:3px;overflow:hidden}");var W00={editorWrapper:"_63dnCW_editor-wrapper"};import{jsx as VZ0}from"preact/jsx-runtime";var _x=(J)=>J.split(".").at(-1),B00=(J,$,Q={content:"",name:""})=>{let X=hy.file(Q.name),Y=X.toString(),Z=QZ.getModel(Y);if(!Z)Z=QZ.createModel(Q.content,void 0,X),Z.onDidChangeContent(()=>$({content:Z.getValue()}));let G=J.getModel();J.setModel(Z),G.dispose()};function jZ0({onSetup:J}){let $=UZ0(null),[Q,X]=Mx(0),[Y,Z]=Mx(null),[G,q]=Mx(""),{fileList:U,selectedFileId:z,modifyFile:H}=HZ0(),j=U.find((V)=>V.id===z);if($.editor&&j){if(_x(j.name)!==G)q(_x(j.name)),B00($.editor,H,j);if(Y!==z||U.length!==Q)X(U.length),Z(z),$.editor.getModel().setValue(j.content),$.editor.updateOptions({readOnly:j.readOnly})}return zZ0(async()=>{if($.current){if($.editor=await Rx($.current),j)X(U.length),Z(j.id),q(_x(j.name)),$.editor.updateOptions({readOnly:j.readOnly});if(B00($.editor,H,j),J)J($.editor)}return()=>{if($.editor)$.editor.dispose(),$.editor=null}},[$]),VZ0("div",{ref:$,className:W00.editorWrapper})}export{e9 as monaco,jZ0 as CodeEditor};
