var A=Object.defineProperty;var P=(d,c)=>{for(var b in c)A(d,b,{get:c[b],enumerable:!0,configurable:!0,set:(f)=>c[b]=()=>f})};var r=[440,494,262,294,330,349,392],x=[466,0,277,311,0,370,415],p=(d)=>new Promise((c)=>setTimeout(c,d));class N{constructor(d={}){this.ticks=d.ticks||4,this.bpm=d.bpm||120,this._type=d.type||"sine",this._octave=4,this._duration=4,this._playing=!1}get duration(){return this._duration*(60000/this.bpm/this.ticks)}_init(){if(this._audioContext)this._clear();this._audioContext=new AudioContext,this._oscillator=this._audioContext.createOscillator(),this._oscillator.type=this._type,this._oscillator.connect(this._audioContext.destination)}_clear(){if(this._oscillator){try{this._oscillator.stop()}catch(d){}this._audioContext.close()}this._oscillator=null,this._audioContext=null}stop(){this._playing=!1,this._clear()}start(){this._init(),this._oscillator.start(),this._playing=!0}async play(d){this._octave=4,this._duration=4;const c=d.toLowerCase().split(",");this.start();for(let b of c){if(!this._playing)break;const f=this._getFrequency(b);await this._tone(f,this.duration)}this.stop()}async _tone(d,c=-1){if(!this._oscillator)return;if(this._oscillator.frequency.value=d,c>0){if(c-=10,c<0)c=10;if(await p(c),!this._oscillator)return;this._oscillator.frequency.value=0,await p(10)}}_getFrequency(d){const c=d.split(":");if(c.length>1){const g=parseInt(c[1]);if(g!==NaN)this._duration=g}const b=c.length>0?c[0]:"r";let f=b.charCodeAt(0)-"a".charCodeAt(0),a=!1;if(b.length===2){const g=parseInt(b[1]);if(g!==NaN)this._octave=g;else if(a=!0,b[1]==="b"&&f<=6)f-=1}else if(b.length===3){const g=parseInt(b[2]);if(g!==NaN)this._octave=g;if(a=!0,b[1]==="b"&&f<=6)f-=1}let e=0;if(f<=6){const g=self._octave-4;if(a)if(g>0)e=x[f]<<g;else e=x[f]>>-g;else if(g>0)e=r[f]<<g;else e=r[f]>>-g}return e}}var W={};P(W,{WEDDING:()=>R,WAWAWAWAA:()=>V,SILENT:()=>s,RINGTONE:()=>Y,PYTHON:()=>w,PUNCHLINE:()=>j,PRELUDE:()=>T,POWER_UP:()=>$,POWER_DOWN:()=>k,ODE:()=>U,NYAN:()=>B,JUMP_UP:()=>X,JUMP_DOWN:()=>Z,FUNK:()=>G,FUNERAL:()=>K,ENTERTAINER:()=>O,DADADADUM:()=>D,CHASE:()=>L,BLUES:()=>H,BIRTHDAY:()=>J,BA_DING:()=>M,BADDY:()=>z});var s="r",D="r4:2,g,g,g,eb:8,r:2,f,f,f,d:8",O="d4:1,d#,e,c5:2,e4:1,c5:2,e4:1,c5:3,c:1,d,d#,e,c,d,e:2,b4:1,d5:2,c:4",T="c4:1,e,g,c5,e,g4,c5,e,c4,e,g,c5,e,g4,c5,e,c4,d,g,d5,f,g4,d5,f,c4,d,g,d5,f,g4,d5,f,b3,d4,g,d5,f,g4,d5,f,b3,d4,g,d5,f,g4,d5,f,c4,e,g,c5,e,g4,c5,e,c4,e,g,c5,e,g4,c5,e",U="e4,e,f,g,g,f,e,d,c,c,d,e,e:6,d:2,d:8,e:4,e,f,g,g,f,e,d,c,c,d,e,d:6,c:2,c:8",B="f#5:2,g#,c#:1,d#:2,b4:1,d5:1,c#,b4:2,b,c#5,d,d:1,c#,b4:1,c#5:1,d#,f#,g#,d#,f#,c#,d,b4,c#5,b4,d#5:2,f#,g#:1,d#,f#,c#,d#,b4,d5,d#,d,c#,b4,c#5,d:2,b4:1,c#5,d#,f#,c#,d,c#,b4,c#5:2,b4,c#5,b4,f#:1,g#,b:2,f#:1,g#,b,c#5,d#,b4,e5,d#,e,f#,b4:2,b,f#:1,g#,b,f#,e5,d#,c#,b4,f#,d#,e,f#,b:2,f#:1,g#,b:2,f#:1,g#,b,b,c#5,d#,b4,f#,g#,f#,b:2,b:1,a#,b,f#,g#,b,e5,d#,e,f#,b4:2,c#5",Y="c4:1,d,e:2,g,d:1,e,f:2,a,e:1,f,g:2,b,c5:4",G="c2:2,c,d#,c:1,f:2,c:1,f:2,f#,g,c,c,g,c:1,f#:2,c:1,f#:2,f,d#",H="c2:2,e,g,a,a#,a,g,e,c2:2,e,g,a,a#,a,g,e,f,a,c3,d,d#,d,c,a2,c2:2,e,g,a,a#,a,g,e,g,b,d3,f,f2,a,c3,d#,c2:2,e,g,e,g,f,e,d",J="c4:3,c:1,d:4,c:4,f,e:8,c:3,c:1,d:4,c:4,g,f:8,c:3,c:1,c5:4,a4,f,e,d,a#:3,a#:1,a:4,f,g,f:8",R="c4:4,f:3,f:1,f:8,c:4,g:3,e:1,f:8,c:4,f:3,a:1,c5:4,a4:3,f:1,f:4,e:3,f:1,g:8",K="c3:4,c:3,c:1,c:4,d#:3,d:1,d:3,c:1,c:3,b2:1,c3:4",j="c4:3,g3:1,f#,g,g#:3,g,r,b,c4",w="d5:1,b4,r,b,b,a#,b,g5,r,d,d,r,b4,c5,r,c,c,r,d,e:5,c:1,a4,r,a,a,g#,a,f#5,r,e,e,r,c,b4,r,b,b,r,c5,d:5,d:1,b4,r,b,b,a#,b,b5,r,g,g,r,d,c#,r,a,a,r,a,a:5,g:1,f#:2,a:1,a,g#,a,e:2,a:1,a,g#,a,d,r,c#,d,r,c#,d:2,r:3",z="c3:3,r,d:2,d#,r,c,r,f#:8",L="a4:1,b,c5,b4,a:2,r,a:1,b,c5,b4,a:2,r,a:2,e5,d#,e,f,e,d#,e,b4:1,c5,d,c,b4:2,r,b:1,c5,d,c,b4:2,r,b:2,e5,d#,e,f,e,d#,e",M="b5:1,e6:3",V="e3:3,r:1,d#:3,r:1,d:4,r:1,c#:8",X="c5:1,d,e,f,g",Z="g5:1,f,e,d,c",$="g4:1,c5,e,g:2,e:1,g:3",k="g5:1,d#,c,g4:2,b:1,c5:3";export{N as Tone,W as Music};
