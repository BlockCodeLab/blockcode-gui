var V=Object.defineProperty;var W=(j,g)=>{for(var k in g)V(j,k,{get:g[k],enumerable:!0,configurable:!0,set:(w)=>g[k]=()=>w})};var G=[440,494,262,294,330,349,392],J=[466,0,277,311,0,370,415],K=(j)=>new Promise((g)=>setTimeout(g,j));class O{constructor(j={}){this.ticks=j.ticks||4,this.bpm=j.bpm||120,this._type=j.type||"sine",this._octave=4,this._duration=4,this._playing=!1}get duration(){return this._duration*(60000/this.bpm/this.ticks)}_init(){if(this._audioContext)this._clear();this._audioContext=new AudioContext,this._oscillator=this._audioContext.createOscillator(),this._oscillator.type=this._type,this._oscillator.connect(this._audioContext.destination)}_clear(){if(this._oscillator){try{this._oscillator.stop()}catch(j){}this._audioContext.close()}this._oscillator=null,this._audioContext=null}stop(){this._playing=!1,this._clear()}start(){this._init(),this._oscillator.start(),this._playing=!0}async play(j){this._octave=4,this._duration=4;const g=j.toLowerCase().split(",");this.start();for(let k of g){if(!this._playing)break;const w=this._getFrequency(k);await this._tone(w,this.duration)}this.stop()}async _tone(j,g=-1){if(!this._oscillator)return;if(this._oscillator.frequency.value=j,g>0){if(g-=10,g<0)g=10;if(await K(g),!this._oscillator)return;this._oscillator.frequency.value=0,await K(10)}}_getFrequency(j){const g=j.split(":");if(g.length>1){const b=parseInt(g[1]);if(b!==NaN)this._duration=b}const k=g.length>0?g[0]:"r";let w=k.charCodeAt(0)-"a".charCodeAt(0),B=!1;if(k.length===2){const b=parseInt(k[1]);if(b!==NaN)this._octave=b;else if(B=!0,k[1]==="b"&&w<=6)w-=1}else if(k.length===3){const b=parseInt(k[2]);if(b!==NaN)this._octave=b;if(B=!0,k[1]==="b"&&w<=6)w-=1}let z=0;if(w<=6){const b=self._octave-4;if(B)if(b>0)z=J[w]<<b;else z=J[w]>>-b;else if(b>0)z=G[w]<<b;else z=G[w]>>-b}return z}}var T={};W(T,{WEDDING:()=>{{return F}},WAWAWAWAA:()=>{{return v}},SILENT:()=>{{return X}},RINGTONE:()=>{{return H}},PYTHON:()=>{{return Q}},PUNCHLINE:()=>{{return N}},PRELUDE:()=>{{return $}},POWER_UP:()=>{{return h}},POWER_DOWN:()=>{{return p}},ODE:()=>{{return P}},NYAN:()=>{{return l}},JUMP_UP:()=>{{return A}},JUMP_DOWN:()=>{{return R}},FUNK:()=>{{return U}},FUNERAL:()=>{{return M}},ENTERTAINER:()=>{{return Z}},DADADADUM:()=>{{return Y}},CHASE:()=>{{return m}},BLUES:()=>{{return L}},BIRTHDAY:()=>{{return _}},BA_DING:()=>{{return q}},BADDY:()=>{{return c}}});var X="r",Y="r4:2,g,g,g,eb:8,r:2,f,f,f,d:8",Z="d4:1,d#,e,c5:2,e4:1,c5:2,e4:1,c5:3,c:1,d,d#,e,c,d,e:2,b4:1,d5:2,c:4",$="c4:1,e,g,c5,e,g4,c5,e,c4,e,g,c5,e,g4,c5,e,c4,d,g,d5,f,g4,d5,f,c4,d,g,d5,f,g4,d5,f,b3,d4,g,d5,f,g4,d5,f,b3,d4,g,d5,f,g4,d5,f,c4,e,g,c5,e,g4,c5,e,c4,e,g,c5,e,g4,c5,e",P="e4,e,f,g,g,f,e,d,c,c,d,e,e:6,d:2,d:8,e:4,e,f,g,g,f,e,d,c,c,d,e,d:6,c:2,c:8",l="f#5:2,g#,c#:1,d#:2,b4:1,d5:1,c#,b4:2,b,c#5,d,d:1,c#,b4:1,c#5:1,d#,f#,g#,d#,f#,c#,d,b4,c#5,b4,d#5:2,f#,g#:1,d#,f#,c#,d#,b4,d5,d#,d,c#,b4,c#5,d:2,b4:1,c#5,d#,f#,c#,d,c#,b4,c#5:2,b4,c#5,b4,f#:1,g#,b:2,f#:1,g#,b,c#5,d#,b4,e5,d#,e,f#,b4:2,b,f#:1,g#,b,f#,e5,d#,c#,b4,f#,d#,e,f#,b:2,f#:1,g#,b:2,f#:1,g#,b,b,c#5,d#,b4,f#,g#,f#,b:2,b:1,a#,b,f#,g#,b,e5,d#,e,f#,b4:2,c#5",H="c4:1,d,e:2,g,d:1,e,f:2,a,e:1,f,g:2,b,c5:4",U="c2:2,c,d#,c:1,f:2,c:1,f:2,f#,g,c,c,g,c:1,f#:2,c:1,f#:2,f,d#",L="c2:2,e,g,a,a#,a,g,e,c2:2,e,g,a,a#,a,g,e,f,a,c3,d,d#,d,c,a2,c2:2,e,g,a,a#,a,g,e,g,b,d3,f,f2,a,c3,d#,c2:2,e,g,e,g,f,e,d",_="c4:3,c:1,d:4,c:4,f,e:8,c:3,c:1,d:4,c:4,g,f:8,c:3,c:1,c5:4,a4,f,e,d,a#:3,a#:1,a:4,f,g,f:8",F="c4:4,f:3,f:1,f:8,c:4,g:3,e:1,f:8,c:4,f:3,a:1,c5:4,a4:3,f:1,f:4,e:3,f:1,g:8",M="c3:4,c:3,c:1,c:4,d#:3,d:1,d:3,c:1,c:3,b2:1,c3:4",N="c4:3,g3:1,f#,g,g#:3,g,r,b,c4",Q="d5:1,b4,r,b,b,a#,b,g5,r,d,d,r,b4,c5,r,c,c,r,d,e:5,c:1,a4,r,a,a,g#,a,f#5,r,e,e,r,c,b4,r,b,b,r,c5,d:5,d:1,b4,r,b,b,a#,b,b5,r,g,g,r,d,c#,r,a,a,r,a,a:5,g:1,f#:2,a:1,a,g#,a,e:2,a:1,a,g#,a,d,r,c#,d,r,c#,d:2,r:3",c="c3:3,r,d:2,d#,r,c,r,f#:8",m="a4:1,b,c5,b4,a:2,r,a:1,b,c5,b4,a:2,r,a:2,e5,d#,e,f,e,d#,e,b4:1,c5,d,c,b4:2,r,b:1,c5,d,c,b4:2,r,b:2,e5,d#,e,f,e,d#,e",q="b5:1,e6:3",v="e3:3,r:1,d#:3,r:1,d:4,r:1,c#:8",A="c5:1,d,e,f,g",R="g5:1,f,e,d,c",h="g4:1,c5,e,g:2,e:1,g:3",p="g5:1,d#,c,g4:2,b:1,c5:3";export{O as Tone,T as Music};
